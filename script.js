var _0x110ced=_0x4cc8;function _0x4cc8(_0x49d3f7,_0x1ca3b2){var _0x5a66c2=_0x5a66();return _0x4cc8=function(_0x4cc870,_0xdba306){_0x4cc870=_0x4cc870-0x1c1;var _0x1541ad=_0x5a66c2[_0x4cc870];return _0x1541ad;},_0x4cc8(_0x49d3f7,_0x1ca3b2);}(function(_0x5309e8,_0xd43cd2){var _0x1942d3=_0x4cc8,_0x5ab522=_0x5309e8();while(!![]){try{var _0x29ecc2=parseInt(_0x1942d3(0x529))/0x1+parseInt(_0x1942d3(0x3f4))/0x2+-parseInt(_0x1942d3(0x428))/0x3*(-parseInt(_0x1942d3(0x288))/0x4)+-parseInt(_0x1942d3(0x3bd))/0x5+parseInt(_0x1942d3(0x47d))/0x6*(parseInt(_0x1942d3(0x46a))/0x7)+-parseInt(_0x1942d3(0x304))/0x8+-parseInt(_0x1942d3(0x4e2))/0x9;if(_0x29ecc2===_0xd43cd2)break;else _0x5ab522['push'](_0x5ab522['shift']());}catch(_0xc78156){_0x5ab522['push'](_0x5ab522['shift']());}}}(_0x5a66,0x9a62d),SoundManager=function(){var _0x270fa=_0x4cc8;this[_0x270fa(0x2f2)]=[],this[_0x270fa(0x386)]=_0x270fa(0x311),this[_0x270fa(0x586)]=_0x279aa8=>{var _0x6ce74d=_0x270fa;if(this[_0x6ce74d(0x2f2)][_0x279aa8]&&this[_0x6ce74d(0x2f2)][_0x279aa8][_0x6ce74d(0x1d2)])return;var _0xa92baa=new Audio(this['src']+_0x279aa8+_0x6ce74d(0x490));this['sounds'][_0x279aa8]=_0xa92baa;},this[_0x270fa(0x35b)]=(_0x31899f,_0x1f0f48,_0x28ace)=>{var _0xff5bf=_0x270fa;if(!this[_0xff5bf(0x2f2)][_0x31899f])this[_0xff5bf(0x586)](_0x31899f);if(!_0x28ace&&!this[_0xff5bf(0x2f2)][_0x31899f][_0xff5bf(0x37f)])this[_0xff5bf(0x2f2)][_0x31899f][_0xff5bf(0x25f)]=0x0;if(_0x1f0f48)this['sounds'][_0x31899f][_0xff5bf(0x539)]=!![];this[_0xff5bf(0x2f2)][_0x31899f][_0xff5bf(0x45c)]();},this[_0x270fa(0x26b)]=_0xa5db06=>{var _0x23f34a=_0x270fa;this[_0x23f34a(0x2f2)][_0xa5db06]&&(this['sounds'][_0xa5db06][_0x23f34a(0x35f)](),this[_0x23f34a(0x2f2)][_0xa5db06][_0x23f34a(0x25f)]=0x0);};});function isInRect(_0x834b17,_0x29984a,_0x3b46eb){if(_0x834b17===undefined||_0x29984a===undefined||_0x3b46eb['ax']===undefined||_0x3b46eb['ay']===undefined||_0x3b46eb['bx']===undefined||_0x3b46eb['by']===undefined)return![];if(_0x3b46eb['ax']>_0x3b46eb['bx']){var _0x4435de=_0x3b46eb['ax'];_0x3b46eb['ax']=_0x3b46eb['bx'],_0x3b46eb['bx']=_0x4435de;}if(_0x3b46eb['ay']>_0x3b46eb['by']){var _0x4435de=_0x3b46eb['ay'];_0x3b46eb['ay']=_0x3b46eb['by'],_0x3b46eb['by']=_0x4435de;}if(_0x834b17>_0x3b46eb['ax']&&_0x834b17<_0x3b46eb['bx']&&_0x29984a>_0x3b46eb['ay']&&_0x29984a<_0x3b46eb['by'])return!![];return![];}function testCB(_0x38c522){var _0x184c60=_0x4cc8;if(!_0x38c522)console['log'](_0x184c60(0x42e));console[_0x184c60(0x292)]('change\x20block\x20'+_0x38c522['x']+'\x20'+_0x38c522['y']),map_test['mapBlock'][_0x38c522['x']][_0x38c522['y']]=(map_test[_0x184c60(0x2bd)][_0x38c522['x']][_0x38c522['y']]+0x1)%0x4,scale_changed=!![];}function getAngleFromTime(_0x28adb3,_0x2ee8d6,_0x32fdcf){var _0x5a3a10=_0x2ee8d6-_0x28adb3;return _0x28adb3+_0x5a3a10/0x2+_0x32fdcf*_0x5a3a10/0x2;}function distBlock(_0x5e09cd,_0x446b61,_0x20a799,_0x32ad03){var _0x4f6455=_0x4cc8,_0x29979e=Math['abs'](_0x5e09cd-_0x20a799),_0x5ca5a3=Math[_0x4f6455(0x3de)](_0x446b61-_0x32ad03);if(_0x29979e>_0x5ca5a3)return _0x29979e;return _0x5ca5a3;}function dist(_0x4238c9,_0x5e1f15,_0x1547ee,_0x2fdcf1){var _0x22af19=Math['sqrt']((_0x4238c9-_0x1547ee)*(_0x4238c9-_0x1547ee)+(_0x5e1f15-_0x2fdcf1)*(_0x5e1f15-_0x2fdcf1));return _0x22af19;}var obj={'callback':'test'};World=function(){var _0x23e6ec=_0x4cc8;this[_0x23e6ec(0x3d3)]=_0x23e6ec(0x434),this[_0x23e6ec(0x316)]=()=>{var _0x19fa7f=_0x23e6ec;console[_0x19fa7f(0x292)](this[_0x19fa7f(0x3d3)]);};};var world=new World();world[obj[_0x110ced(0x5a1)]](),myImage=function(_0x3f1a90,_0x1e93d1){var _0x24c129=_0x110ced;console['log'](_0x24c129(0x500)+_0x1e93d1),this[_0x24c129(0x3fa)]=new Image(),this[_0x24c129(0x487)]=![],this['name']=_0x3f1a90,this[_0x24c129(0x3fa)][_0x24c129(0x4e9)]=_0x24c129(0x580),this['img'][_0x24c129(0x386)]=_0x1e93d1,this['img'][_0x24c129(0x565)]='cant\x20load\x20image\x20\x22'+_0x1e93d1+'\x22',this[_0x24c129(0x222)]=undefined,this[_0x24c129(0x226)]=undefined,this[_0x24c129(0x3fa)][_0x24c129(0x1de)]()[_0x24c129(0x4b1)](()=>{var _0x103abc=_0x24c129;console[_0x103abc(0x292)](_0x103abc(0x37e)+_0x3f1a90+_0x103abc(0x51a)),this[_0x103abc(0x487)]=!![],this[_0x103abc(0x47f)](0xff,0xff,0xff);if(world[_0x103abc(0x3f3)])world[_0x103abc(0x3f3)]['needRedraw']=!![];if(world['GameUI'])world[_0x103abc(0x28d)]['needRedraw']=!![];})[_0x24c129(0x442)](_0xf1985b=>{var _0xcb0afe=_0x24c129;console['log']('can\x27t\x20load\x20'+this[_0xcb0afe(0x1d5)]),console[_0xcb0afe(0x292)](_0xf1985b);}),this[_0x24c129(0x275)]=()=>{var _0x4c9341=_0x24c129;if(!this[_0x4c9341(0x487)])return undefined;const _0xbf2f70=document[_0x4c9341(0x49b)](_0x4c9341(0x1d9));_0xbf2f70[_0x4c9341(0x402)]=this[_0x4c9341(0x3fa)]['width'],_0xbf2f70[_0x4c9341(0x496)]=this[_0x4c9341(0x3fa)]['height'];const _0x4c4c48=_0xbf2f70[_0x4c9341(0x3ca)]('2d');return _0x4c4c48['drawImage'](this[_0x4c9341(0x3fa)],0x0,0x0),_0x4c4c48[_0x4c9341(0x508)](0x0,0x0,this[_0x4c9341(0x3fa)][_0x4c9341(0x402)],this[_0x4c9341(0x3fa)][_0x4c9341(0x496)]);},this[_0x24c129(0x4c4)]=_0x17e4f5=>{var _0x29db7c=_0x24c129;const _0x1fc1d6=document[_0x29db7c(0x49b)](_0x29db7c(0x1d9));_0x1fc1d6[_0x29db7c(0x402)]=_0x17e4f5['width'],_0x1fc1d6[_0x29db7c(0x496)]=_0x17e4f5['height'];const _0x4cf0e2=_0x1fc1d6['getContext']('2d');_0x4cf0e2[_0x29db7c(0x2f8)](_0x17e4f5,0x0,0x0),this[_0x29db7c(0x3fa)]=new Image(),this['img'][_0x29db7c(0x386)]=_0x1fc1d6['toDataURL'](),this[_0x29db7c(0x3fa)][_0x29db7c(0x565)]=_0x29db7c(0x39c),this[_0x29db7c(0x3fa)][_0x29db7c(0x1de)]()[_0x29db7c(0x4b1)](()=>{var _0x15a7c7=_0x29db7c;if(world['villageUI'])world[_0x15a7c7(0x3f3)][_0x15a7c7(0x3c2)]=!![];if(world[_0x15a7c7(0x28d)])world[_0x15a7c7(0x28d)][_0x15a7c7(0x3c2)]=!![];});},this[_0x24c129(0x360)]=(_0x5958d8,_0x5acfc0,_0xe56874,_0xd46d99,_0x4f1772,_0x57ed14)=>{var _0x751998=_0x24c129,_0x12c08e=this[_0x751998(0x275)]();if(!_0x12c08e)return console['log'](_0x751998(0x58a));for(var _0x3c978d=0x0;_0x3c978d<_0x12c08e[_0x751998(0x496)];_0x3c978d++){for(var _0x1c9ff3=0x0;_0x1c9ff3<_0x12c08e[_0x751998(0x402)];_0x1c9ff3++){var _0x40c5cf=_0x12c08e[_0x751998(0x1fb)][_0x3c978d*(_0x12c08e[_0x751998(0x402)]*0x4)+_0x1c9ff3*0x4],_0x222b9e=_0x12c08e[_0x751998(0x1fb)][_0x3c978d*(_0x12c08e['width']*0x4)+_0x1c9ff3*0x4+0x1],_0x3ac633=_0x12c08e[_0x751998(0x1fb)][_0x3c978d*(_0x12c08e[_0x751998(0x402)]*0x4)+_0x1c9ff3*0x4+0x2],_0x3b4d23=_0x12c08e['data'][_0x3c978d*(_0x12c08e['width']*0x4)+_0x1c9ff3*0x4+0x3];_0x40c5cf==_0x5958d8&&_0x222b9e==_0x5acfc0&&_0x3ac633==_0xe56874&&(_0x12c08e[_0x751998(0x1fb)][_0x3c978d*(_0x12c08e[_0x751998(0x402)]*0x4)+_0x1c9ff3*0x4]=_0xd46d99,_0x12c08e[_0x751998(0x1fb)][_0x3c978d*(_0x12c08e['width']*0x4)+_0x1c9ff3*0x4+0x1]=_0x4f1772,_0x12c08e[_0x751998(0x1fb)][_0x3c978d*(_0x12c08e[_0x751998(0x402)]*0x4)+_0x1c9ff3*0x4+0x2]=_0x57ed14);}}const _0x30c7c9=document[_0x751998(0x49b)]('canvas');_0x30c7c9[_0x751998(0x402)]=_0x12c08e['width'],_0x30c7c9[_0x751998(0x496)]=_0x12c08e['height'];const _0x4cd632=_0x30c7c9['getContext']('2d');_0x4cd632['putImageData'](_0x12c08e,0x0,0x0);var _0x5396fc=new Image();return _0x5396fc['src']=_0x30c7c9[_0x751998(0x58f)](),_0x5396fc[_0x751998(0x565)]='failed\x20createImgData\x20image\x20Colored',_0x5396fc;},this[_0x24c129(0x47f)]=(_0x46b7c4,_0x1d0595,_0x465402)=>{var _0xc0ee9d=_0x24c129,_0x1aeaff=this[_0xc0ee9d(0x275)]();if(!_0x1aeaff)return undefined;for(var _0x5ace6c=0x0;_0x5ace6c<_0x1aeaff[_0xc0ee9d(0x496)];_0x5ace6c++){for(var _0x39c30b=0x0;_0x39c30b<_0x1aeaff[_0xc0ee9d(0x402)];_0x39c30b++){var _0x121431=_0x1aeaff[_0xc0ee9d(0x1fb)][_0x5ace6c*(_0x1aeaff[_0xc0ee9d(0x402)]*0x4)+_0x39c30b*0x4],_0x442c51=_0x1aeaff[_0xc0ee9d(0x1fb)][_0x5ace6c*(_0x1aeaff[_0xc0ee9d(0x402)]*0x4)+_0x39c30b*0x4+0x1],_0x58a7e4=_0x1aeaff[_0xc0ee9d(0x1fb)][_0x5ace6c*(_0x1aeaff[_0xc0ee9d(0x402)]*0x4)+_0x39c30b*0x4+0x2],_0x1dfbc5=_0x1aeaff[_0xc0ee9d(0x1fb)][_0x5ace6c*(_0x1aeaff[_0xc0ee9d(0x402)]*0x4)+_0x39c30b*0x4+0x3];_0x121431==_0x46b7c4&&_0x442c51==_0x1d0595&&_0x58a7e4==_0x465402&&(_0x1aeaff[_0xc0ee9d(0x1fb)][_0x5ace6c*(_0x1aeaff['width']*0x4)+_0x39c30b*0x4+0x3]=0x0);}}this[_0xc0ee9d(0x4c4)](_0x1aeaff);};},createImgFromData=_0x31d644=>{var _0x510099=_0x110ced;const _0x3702ff=document['createElement'](_0x510099(0x1d9));_0x3702ff[_0x510099(0x402)]=_0x31d644['width'],_0x3702ff[_0x510099(0x496)]=_0x31d644[_0x510099(0x496)];const _0x5787da=_0x3702ff['getContext']('2d');_0x5787da['putImageData'](_0x31d644,0x0,0x0);var _0x5dbce6=new Image();return _0x5dbce6['src']=_0x3702ff[_0x510099(0x58f)](),_0x5dbce6[_0x510099(0x565)]=_0x510099(0x39c),_0x5dbce6;},MyUI=function(_0x1668cf,_0x14b587,_0x57de3d,_0x38ee2a,_0x43bc59,_0x463918,_0x4c22a8,_0x125675){var _0x37d042=_0x110ced;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT=_0x37d042(0x393),this['x']=_0x14b587,this['y']=_0x57de3d,this[_0x37d042(0x1d9)]=_0x1668cf,this[_0x37d042(0x55c)]=_0x125675?_0x125675:0x5,this[_0x37d042(0x224)]=_0x38ee2a+0x2*this['marge'],this[_0x37d042(0x54c)]=this[_0x37d042(0x55c)],this[_0x37d042(0x235)]=[],this['scale']=_0x43bc59,this['background']=_0x463918?_0x463918:undefined,this['stroke']=_0x4c22a8?_0x4c22a8:undefined,this[_0x37d042(0x3b1)]=[],this[_0x37d042(0x52b)]=![],this[_0x37d042(0x535)]=(_0x4d9c3b,_0x436b1a,_0x49655a,_0x17541d,_0x20d945)=>{var _0x1fbafc=_0x37d042;this[_0x1fbafc(0x1d9)][_0x1fbafc(0x525)][_0x1fbafc(0x28c)]=''+_0x436b1a+'px'+_0x20d945;var _0x516032=[];while(_0x4d9c3b[_0x1fbafc(0x2d1)]>0x0){var _0x3dc3cd=0x0;while(_0x4d9c3b[_0x3dc3cd]=='\x0a')_0x3dc3cd++;while(_0x4d9c3b[_0x3dc3cd]!='\x0a'&&_0x3dc3cd<_0x4d9c3b[_0x1fbafc(0x2d1)]&&_0x3dc3cd<_0x49655a)_0x3dc3cd++;if(_0x3dc3cd==_0x49655a){while(_0x4d9c3b[_0x3dc3cd]!='\x20'&&_0x3dc3cd>0x0)_0x3dc3cd--;}_0x3dc3cd=_0x3dc3cd>0x0?_0x3dc3cd:_0x49655a;var _0xed5e36=''+_0x4d9c3b[_0x1fbafc(0x50d)](0x0,_0x3dc3cd);while(_0x4d9c3b[_0x3dc3cd+0x1]=='\x0a')_0x3dc3cd++;_0x4d9c3b=_0x4d9c3b[_0x1fbafc(0x50d)](_0x3dc3cd),_0x516032[_0x1fbafc(0x417)](_0xed5e36);var _0x1074cf=this[_0x1fbafc(0x1d9)][_0x1fbafc(0x525)][_0x1fbafc(0x33a)](_0xed5e36);if(this[_0x1fbafc(0x224)]<_0x1074cf[_0x1fbafc(0x402)]+0x2*this[_0x1fbafc(0x55c)])this[_0x1fbafc(0x224)]=_0x1074cf[_0x1fbafc(0x402)]+0x2*this[_0x1fbafc(0x55c)];this[_0x1fbafc(0x54c)]+=_0x436b1a+this[_0x1fbafc(0x55c)];}this[_0x1fbafc(0x235)][_0x1fbafc(0x417)]({'type':_0x1fbafc(0x512),'txts':_0x516032,'letter_size':Math['floor'](_0x436b1a),'txt_color':_0x17541d,'text_font':_0x20d945});},this[_0x37d042(0x281)]=(_0x83f3d3,_0xfd494f,_0x24a665,_0x8a9223,_0x39ec7a,_0x4c3b01,_0x2cd65c,_0x38d9ad,_0x2cc7a2)=>{var _0x326b96=_0x37d042;_0x2cc7a2=_0x2cc7a2?_0x2cc7a2:'Arial',this[_0x326b96(0x1d9)][_0x326b96(0x525)][_0x326b96(0x28c)]=''+_0x39ec7a+_0x326b96(0x202)+_0x2cc7a2;var _0x4ac508=this['canvas']['ctx'][_0x326b96(0x33a)](_0x83f3d3);if(_0x4ac508>_0x24a665+0x2*this[_0x326b96(0x55c)])_0x24a665=_0x4ac508+0x2*this[_0x326b96(0x55c)];if(this[_0x326b96(0x224)]<_0x24a665+0x2*this['marge'])this[_0x326b96(0x224)]=_0x24a665+0x2*this[_0x326b96(0x55c)];if(_0x8a9223<_0x39ec7a+0x2*this[_0x326b96(0x55c)])_0x8a9223=_0x39ec7a+0x2*this['marge'];this[_0x326b96(0x235)]['push']({'type':_0x326b96(0x3b9),'txt':_0x83f3d3,'fullness':_0xfd494f,'lenx':_0x24a665,'leny':_0x8a9223,'letter_size':_0x39ec7a,'colorFill':_0x4c3b01,'colorStroke':_0x2cd65c,'colorText':_0x38d9ad,'text_font':_0x2cc7a2}),this[_0x326b96(0x54c)]+=_0x8a9223+this[_0x326b96(0x55c)];},this[_0x37d042(0x323)]=(_0x4efd3c,_0x78c00,_0x525df7,_0x366d18,_0x6f483c,_0x7df549,_0x2d147f,_0x55f518,_0x451929,_0x5488e2,_0x132010)=>{var _0x3643d5=_0x37d042;this[_0x3643d5(0x1d9)][_0x3643d5(0x525)]['font']=''+_0x78c00+'px'+_0x55f518,_0x4efd3c=_0x451929?_0x451929+_0x3643d5(0x4d4)+_0x4efd3c:_0x4efd3c;var _0x19b881=this[_0x3643d5(0x1d9)][_0x3643d5(0x525)][_0x3643d5(0x33a)](_0x4efd3c);if(_0x19b881[_0x3643d5(0x402)]+0x4*this['marge']>this[_0x3643d5(0x224)])this[_0x3643d5(0x224)]=_0x19b881[_0x3643d5(0x402)]+0x4*this[_0x3643d5(0x55c)];this[_0x3643d5(0x235)][_0x3643d5(0x417)]({'type':_0x3643d5(0x33d),'txt_size':_0x19b881,'letter_size':_0x78c00,'text_color':_0x525df7,'fillColor':_0x366d18,'strokeColor':_0x6f483c,'callback':_0x7df549,'callback_data':_0x2d147f,'text_font':_0x55f518,'key_event':_0x451929,'txt':_0x4efd3c,'windowInfo':_0x5488e2,'mouseLight':_0x132010}),this[_0x3643d5(0x54c)]+=Math[_0x3643d5(0x31d)](0x3*this[_0x3643d5(0x55c)]+_0x78c00);},this[_0x37d042(0x28f)]=_0x3e0884=>{var _0x27fc0b=_0x37d042,_0x130c98={'type':_0x27fc0b(0x3b6),'list':[]},_0x5674ba=0x0,_0x4c6ce9=this[_0x27fc0b(0x55c)];for(var _0x902536 in _0x3e0884){var _0x5f30a1=_0x3e0884[_0x902536],_0x4bae4a=undefined;switch(_0x5f30a1[_0x27fc0b(0x491)]){case undefined:continue;case'txt':if(!_0x5f30a1[_0x27fc0b(0x3d3)])continue;var _0x5c4ac7=_0x5f30a1[_0x27fc0b(0x3d3)],_0x2849f0=[],_0x518c0b=0x0,_0x177f63=0x0,_0x59561f=_0x5f30a1[_0x27fc0b(0x340)]?_0x5f30a1[_0x27fc0b(0x340)]:0x270f;this[_0x27fc0b(0x1d9)]['ctx'][_0x27fc0b(0x28c)]=''+_0x5f30a1[_0x27fc0b(0x215)]+'px'+_0x5f30a1[_0x27fc0b(0x52d)];while(_0x5c4ac7['length']>0x0){var _0x2a3709=0x0;while(_0x5c4ac7[_0x2a3709]=='\x0a')_0x2a3709++;while(_0x5c4ac7[_0x2a3709]!='\x0a'&&_0x2a3709<_0x5c4ac7[_0x27fc0b(0x2d1)]&&_0x2a3709<_0x59561f)_0x2a3709++;if(_0x2a3709==_0x59561f){while(_0x5c4ac7[_0x2a3709]!='\x20'&&_0x2a3709>0x0)_0x2a3709--;}_0x2a3709=_0x2a3709>0x0?_0x2a3709:_0x59561f;var _0x1e0fbb=''+_0x5c4ac7[_0x27fc0b(0x50d)](0x0,_0x2a3709);while(_0x5c4ac7[_0x2a3709+0x1]=='\x0a')_0x2a3709++;_0x5c4ac7=_0x5c4ac7[_0x27fc0b(0x50d)](_0x2a3709),_0x2849f0[_0x27fc0b(0x417)](_0x1e0fbb);var _0x43300e=this['canvas'][_0x27fc0b(0x525)][_0x27fc0b(0x33a)](_0x1e0fbb);if(_0x177f63<_0x43300e[_0x27fc0b(0x402)]+0x2*this['marge'])_0x177f63=_0x43300e[_0x27fc0b(0x402)]+0x2*this[_0x27fc0b(0x55c)];_0x518c0b+=_0x5f30a1[_0x27fc0b(0x215)]+this[_0x27fc0b(0x55c)];}_0x5674ba=_0x518c0b>_0x5674ba?_0x518c0b:_0x5674ba,_0x4bae4a={'type':_0x27fc0b(0x3d3),'txts':_0x2849f0,'txt_color':_0x5f30a1[_0x27fc0b(0x1c1)]?_0x5f30a1[_0x27fc0b(0x1c1)]:_0x27fc0b(0x427),'max_letters':_0x5f30a1[_0x27fc0b(0x4a1)]?_0x5f30a1[_0x27fc0b(0x4a1)]:0x270f,'letter_size':_0x5f30a1[_0x27fc0b(0x215)]?_0x5f30a1[_0x27fc0b(0x215)]:0x14,'txt_font':_0x5f30a1[_0x27fc0b(0x52d)]?_0x5f30a1[_0x27fc0b(0x52d)]:'Arial','txt_size':_0x177f63},_0x4c6ce9+=_0x177f63;break;case _0x27fc0b(0x3fa):if(!_0x5f30a1[_0x27fc0b(0x3fa)])continue;_0x4bae4a={'type':'img','img':_0x5f30a1['img'],'len_x':_0x5f30a1[_0x27fc0b(0x53a)]?_0x5f30a1[_0x27fc0b(0x53a)]:0x32,'len_y':_0x5f30a1[_0x27fc0b(0x2ae)]?_0x5f30a1[_0x27fc0b(0x2ae)]:0x32},_0x5674ba=_0x4bae4a[_0x27fc0b(0x2ae)]>_0x5674ba?_0x4bae4a[_0x27fc0b(0x2ae)]:_0x5674ba,_0x4c6ce9+=_0x4bae4a['len_x']+this['marge'];break;case'button':if(!_0x5f30a1['callback']||!_0x5f30a1['txt'])continue;var _0x481d13=_0x5f30a1[_0x27fc0b(0x215)]?_0x5f30a1['letter_size']:0x14,_0x2218f3=_0x5f30a1[_0x27fc0b(0x52d)]?_0x5f30a1['txt_font']:_0x27fc0b(0x34e);this[_0x27fc0b(0x1d9)][_0x27fc0b(0x525)][_0x27fc0b(0x28c)]=''+_0x481d13+'px'+_0x2218f3;var _0x5c4ac7=_0x5f30a1[_0x27fc0b(0x3f0)]?_0x5f30a1['key_event']+_0x27fc0b(0x4d4)+_0x5f30a1['txt']:_0x5f30a1[_0x27fc0b(0x3d3)],_0x43300e=this['canvas'][_0x27fc0b(0x525)][_0x27fc0b(0x33a)](_0x5c4ac7);_0x4bae4a={'type':_0x27fc0b(0x33d),'txt_size':_0x43300e[_0x27fc0b(0x402)],'letter_size':_0x481d13,'txt_color':_0x5f30a1[_0x27fc0b(0x1c1)]?_0x5f30a1[_0x27fc0b(0x1c1)]:_0x27fc0b(0x427),'fillColor':_0x5f30a1[_0x27fc0b(0x229)]?_0x5f30a1[_0x27fc0b(0x229)]:_0x27fc0b(0x583),'strokeColor':_0x5f30a1[_0x27fc0b(0x259)]?_0x5f30a1['strokeColor']:_0x27fc0b(0x427),'callback':_0x5f30a1[_0x27fc0b(0x5a1)],'callback_data':_0x5f30a1[_0x27fc0b(0x25a)],'txt_font':_0x2218f3,'key_event':_0x5f30a1[_0x27fc0b(0x3f0)],'txt':_0x5c4ac7,'windowInfo':_0x5f30a1['windowInfo'],'mouseLight':_0x5f30a1[_0x27fc0b(0x558)]},_0x5674ba=_0x4bae4a['letter_size']+0x2*this[_0x27fc0b(0x55c)]>_0x5674ba?_0x4bae4a['letter_size']+0x2*this[_0x27fc0b(0x55c)]:_0x5674ba,_0x4c6ce9+=_0x43300e[_0x27fc0b(0x402)]+this[_0x27fc0b(0x55c)]*0x3;break;}_0x130c98['list'][_0x27fc0b(0x417)](_0x4bae4a);}if(this[_0x27fc0b(0x224)]<_0x4c6ce9)this[_0x27fc0b(0x224)]=_0x4c6ce9;_0x130c98[_0x27fc0b(0x2ae)]=_0x5674ba,this['elmList'][_0x27fc0b(0x417)](_0x130c98),this[_0x27fc0b(0x54c)]+=Math[_0x27fc0b(0x31d)](this[_0x27fc0b(0x55c)]+_0x5674ba);},this[_0x37d042(0x460)]=(_0x3e44e3,_0x31a02c,_0x5c1512)=>{var _0x2a8555=_0x37d042;this['elmList']['push']({'type':'img','img':_0x3e44e3,'lenx':_0x31a02c,'leny':_0x5c1512});if(this[_0x2a8555(0x224)]<_0x31a02c+0x2*this[_0x2a8555(0x55c)])this[_0x2a8555(0x224)]=_0x31a02c+0x2*this[_0x2a8555(0x55c)];this[_0x2a8555(0x54c)]+=Math[_0x2a8555(0x31d)](this[_0x2a8555(0x55c)]+_0x31a02c);},this[_0x37d042(0x1dc)]=()=>{var _0x31e9a6=_0x37d042;this[_0x31e9a6(0x595)]&&(this['canvas'][_0x31e9a6(0x525)][_0x31e9a6(0x36d)]=this[_0x31e9a6(0x595)],this[_0x31e9a6(0x1d9)][_0x31e9a6(0x274)](this['x'],this['y'],this['x']+this[_0x31e9a6(0x224)],this['y']+this['leny']));this[_0x31e9a6(0x51e)]&&(this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)][_0x31e9a6(0x579)]=this['stroke'],this[_0x31e9a6(0x1d9)][_0x31e9a6(0x40d)](this['x'],this['y'],this['x']+this[_0x31e9a6(0x224)],this['y']+this[_0x31e9a6(0x54c)]));var _0x5e7f78=this['y']+this[_0x31e9a6(0x55c)];for(var _0x337c93 in this[_0x31e9a6(0x235)]){var _0xbda3f5=this[_0x31e9a6(0x235)][_0x337c93];switch(_0xbda3f5['type']){case _0x31e9a6(0x512):for(var _0x4c0a76 in _0xbda3f5[_0x31e9a6(0x2ec)]){this[_0x31e9a6(0x1d9)]['drawTextTopLeft'](_0xbda3f5[_0x31e9a6(0x2ec)][_0x4c0a76],this['x']+this[_0x31e9a6(0x55c)],_0x5e7f78,this[_0x31e9a6(0x224)],_0xbda3f5[_0x31e9a6(0x215)],_0xbda3f5['txt_color'],_0xbda3f5[_0x31e9a6(0x1ea)]),_0x5e7f78+=_0xbda3f5[_0x31e9a6(0x215)]+this['marge'];}break;case _0x31e9a6(0x33d):this[_0x31e9a6(0x1d9)]['ctx'][_0x31e9a6(0x28c)]=''+_0xbda3f5[_0x31e9a6(0x215)]+'px'+_0xbda3f5[_0x31e9a6(0x1ea)];var _0x25b7ad=Math[_0x31e9a6(0x31d)](this['x']+_0xbda3f5['txt_size'][_0x31e9a6(0x402)]/0x2+0x2*this[_0x31e9a6(0x55c)]),_0x486a3e=Math['floor'](_0x5e7f78+_0xbda3f5['letter_size']/0x2+0x1*this[_0x31e9a6(0x55c)]),_0x5900c5={'ax':Math[_0x31e9a6(0x31d)](_0x25b7ad-_0xbda3f5[_0x31e9a6(0x1e0)][_0x31e9a6(0x402)]/0x2-this[_0x31e9a6(0x55c)]),'ay':Math['floor'](_0x486a3e-_0xbda3f5['letter_size']/0x2-this[_0x31e9a6(0x55c)]),'bx':Math[_0x31e9a6(0x31d)](_0x25b7ad+_0xbda3f5['txt_size']['width']/0x2+this['marge']),'by':Math[_0x31e9a6(0x31d)](_0x486a3e+_0xbda3f5[_0x31e9a6(0x215)]/0x2+this[_0x31e9a6(0x55c)])};this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)][_0x31e9a6(0x36d)]=_0xbda3f5[_0x31e9a6(0x229)];if(_0xbda3f5['mouseLight']&&isInRect(world[_0x31e9a6(0x4a2)][_0x31e9a6(0x1d8)]['x'],world[_0x31e9a6(0x4a2)][_0x31e9a6(0x1d8)]['y'],_0x5900c5))this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)][_0x31e9a6(0x36d)]=_0xbda3f5['fillColor'][_0x31e9a6(0x50d)](0x0,0x7)+_0xbda3f5[_0x31e9a6(0x558)];this[_0x31e9a6(0x1d9)][_0x31e9a6(0x274)](_0x5900c5['ax'],_0x5900c5['ay'],_0x5900c5['bx'],_0x5900c5['by']),this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)]['strokeStyle']=_0xbda3f5[_0x31e9a6(0x259)],this[_0x31e9a6(0x1d9)][_0x31e9a6(0x40d)](_0x5900c5['ax'],_0x5900c5['ay'],_0x5900c5['bx'],_0x5900c5['by']),this[_0x31e9a6(0x1d9)][_0x31e9a6(0x31a)](_0xbda3f5['txt'],_0x25b7ad,_0x486a3e,0x270f,_0xbda3f5[_0x31e9a6(0x215)],_0xbda3f5[_0x31e9a6(0x24c)],_0xbda3f5[_0x31e9a6(0x1ea)]),this[_0x31e9a6(0x3b1)][_0x31e9a6(0x417)]({'rect':_0x5900c5,'callback':_0xbda3f5[_0x31e9a6(0x5a1)],'callback_data':_0xbda3f5[_0x31e9a6(0x25a)],'key_event':_0xbda3f5[_0x31e9a6(0x3f0)],'windowInfo':_0xbda3f5[_0x31e9a6(0x3b2)]}),_0x5e7f78+=_0xbda3f5[_0x31e9a6(0x215)]+this['marge']*0x3;break;case _0x31e9a6(0x3fa):this['canvas'][_0x31e9a6(0x2d7)](_0xbda3f5[_0x31e9a6(0x3fa)],this['x']+this[_0x31e9a6(0x55c)],_0x5e7f78+this[_0x31e9a6(0x55c)],_0xbda3f5[_0x31e9a6(0x224)],_0xbda3f5[_0x31e9a6(0x54c)]),_0x5e7f78+=_0xbda3f5['leny']+this[_0x31e9a6(0x55c)];break;case'gauge':this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)]['fillStyle']=_0xbda3f5[_0x31e9a6(0x3af)],this[_0x31e9a6(0x1d9)][_0x31e9a6(0x274)](this['x']+this[_0x31e9a6(0x55c)],_0x5e7f78+this[_0x31e9a6(0x55c)],this['x']+_0xbda3f5['lenx'],_0x5e7f78+_0xbda3f5['leny']),this[_0x31e9a6(0x1d9)]['ctx'][_0x31e9a6(0x36d)]=_0xbda3f5['colorStroke'];if(_0xbda3f5[_0x31e9a6(0x331)]>0x0)this[_0x31e9a6(0x1d9)][_0x31e9a6(0x274)](this['x']+this['marge']*0x2,_0x5e7f78+this[_0x31e9a6(0x55c)]*0x2,Math['floor'](this['x']+_0xbda3f5['lenx']*_0xbda3f5[_0x31e9a6(0x331)]-this[_0x31e9a6(0x55c)]),_0x5e7f78+_0xbda3f5[_0x31e9a6(0x54c)]-this['marge']);this['canvas'][_0x31e9a6(0x31a)](_0xbda3f5[_0x31e9a6(0x3d3)],this['x']+this[_0x31e9a6(0x55c)]+_0xbda3f5[_0x31e9a6(0x224)]/0x2,_0x5e7f78+this[_0x31e9a6(0x55c)]+_0xbda3f5[_0x31e9a6(0x54c)]/0x2,_0xbda3f5[_0x31e9a6(0x224)],_0xbda3f5[_0x31e9a6(0x215)],_0xbda3f5[_0x31e9a6(0x2b7)],_0xbda3f5['text_font']),_0x5e7f78+=_0xbda3f5[_0x31e9a6(0x54c)];break;case _0x31e9a6(0x3b6):var _0x3bc3ef=this[_0x31e9a6(0x55c)];for(var _0xf24019 in _0xbda3f5[_0x31e9a6(0x3bc)]){var _0x40131c=_0xbda3f5[_0x31e9a6(0x3bc)][_0xf24019];switch(_0x40131c[_0x31e9a6(0x491)]){case _0x31e9a6(0x3d3):var _0x16f1d7=_0x5e7f78;for(var _0x337c93 in _0x40131c[_0x31e9a6(0x2ec)]){this[_0x31e9a6(0x1d9)][_0x31e9a6(0x233)](_0x40131c[_0x31e9a6(0x2ec)][_0x337c93],this['x']+_0x3bc3ef,_0x16f1d7,_0x40131c['txt_size'],_0x40131c['letter_size'],_0x40131c[_0x31e9a6(0x1c1)],_0x40131c[_0x31e9a6(0x52d)]),_0x16f1d7+=_0x40131c[_0x31e9a6(0x215)]+this[_0x31e9a6(0x55c)];}_0x3bc3ef+=this[_0x31e9a6(0x55c)]+_0x40131c[_0x31e9a6(0x1e0)];break;case _0x31e9a6(0x33d):this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)][_0x31e9a6(0x28c)]=''+_0x40131c[_0x31e9a6(0x215)]+'px'+_0x40131c['txt_font'];var _0x25b7ad=Math[_0x31e9a6(0x31d)](this['x']+_0x3bc3ef+_0x40131c[_0x31e9a6(0x1e0)]/0x2+this[_0x31e9a6(0x55c)]/0x2),_0x486a3e=Math[_0x31e9a6(0x31d)](_0x5e7f78+_0x40131c['letter_size']/0x2+this[_0x31e9a6(0x55c)]/0x2),_0x5900c5={'ax':Math['floor'](_0x25b7ad-_0x40131c['txt_size']/0x2-this[_0x31e9a6(0x55c)]),'ay':Math[_0x31e9a6(0x31d)](_0x486a3e-_0x40131c[_0x31e9a6(0x215)]/0x2-this[_0x31e9a6(0x55c)]),'bx':Math[_0x31e9a6(0x31d)](_0x25b7ad+_0x40131c['txt_size']/0x2+this[_0x31e9a6(0x55c)]),'by':Math[_0x31e9a6(0x31d)](_0x486a3e+_0x40131c[_0x31e9a6(0x215)]/0x2+this[_0x31e9a6(0x55c)])};this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)][_0x31e9a6(0x36d)]=_0x40131c['fillColor'];if(_0x40131c[_0x31e9a6(0x558)]&&isInRect(world['Controler'][_0x31e9a6(0x1d8)]['x'],world[_0x31e9a6(0x4a2)][_0x31e9a6(0x1d8)]['y'],_0x5900c5))this['canvas']['ctx']['fillStyle']=_0x40131c[_0x31e9a6(0x229)][_0x31e9a6(0x50d)](0x0,0x7)+_0x40131c[_0x31e9a6(0x558)];this[_0x31e9a6(0x1d9)][_0x31e9a6(0x274)](_0x5900c5['ax'],_0x5900c5['ay'],_0x5900c5['bx'],_0x5900c5['by']),this[_0x31e9a6(0x1d9)][_0x31e9a6(0x525)]['strokeStyle']=_0x40131c[_0x31e9a6(0x259)],this['canvas'][_0x31e9a6(0x40d)](_0x5900c5['ax'],_0x5900c5['ay'],_0x5900c5['bx'],_0x5900c5['by']),this['canvas'][_0x31e9a6(0x31a)](_0x40131c[_0x31e9a6(0x3d3)],_0x25b7ad,_0x486a3e,0x270f,_0x40131c[_0x31e9a6(0x215)],_0x40131c[_0x31e9a6(0x1c1)],_0x40131c[_0x31e9a6(0x52d)]),this[_0x31e9a6(0x3b1)][_0x31e9a6(0x417)]({'rect':_0x5900c5,'callback':_0x40131c[_0x31e9a6(0x5a1)],'callback_data':_0x40131c['callback_data'],'key_event':_0x40131c[_0x31e9a6(0x3f0)],'windowInfo':_0x40131c['windowInfo'],'mouseLight':!![]}),_0x3bc3ef+=this[_0x31e9a6(0x55c)]*0x3+_0x40131c[_0x31e9a6(0x1e0)];break;case'img':this[_0x31e9a6(0x1d9)][_0x31e9a6(0x2d7)](_0x40131c['img'],this['x']+_0x3bc3ef,_0x5e7f78,_0x40131c['len_x'],_0x40131c[_0x31e9a6(0x2ae)]),_0x3bc3ef+=_0x40131c[_0x31e9a6(0x2ae)]+this[_0x31e9a6(0x55c)];break;}}_0x5e7f78+=_0xbda3f5['len_y']+this['marge'];break;}}this[_0x31e9a6(0x474)]();},this[_0x37d042(0x3a3)]=(_0x315beb,_0x105e69)=>{var _0x684334=_0x37d042;for(var _0x16445d in this[_0x684334(0x3b1)]){var _0x2fd61f=this[_0x684334(0x3b1)][_0x16445d];if(isInRect(_0x315beb,_0x105e69,_0x2fd61f[_0x684334(0x593)]))return _0x2fd61f[_0x684334(0x5a1)](_0x2fd61f[_0x684334(0x25a)]),!![];}return![];},this[_0x37d042(0x45e)]=(_0x31d6c0,_0xfb42d0)=>{var _0x462e80=_0x37d042;for(var _0x1481b3 in this['buttonList']){var _0x5c129e=this[_0x462e80(0x3b1)][_0x1481b3];if(_0x5c129e['mouseLight']&&isInRect(_0x31d6c0,_0xfb42d0,_0x5c129e[_0x462e80(0x593)]))return this['needRedraw']=!![],!![];}return![];},this[_0x37d042(0x3d6)]=_0x37b96f=>{var _0x59d967=_0x37d042;for(var _0x1652d9 in this[_0x59d967(0x3b1)]){var _0x2d789c=this[_0x59d967(0x3b1)][_0x1652d9];if(_0x2d789c[_0x59d967(0x3f0)]&&_0x2d789c[_0x59d967(0x3f0)]==_0x37b96f)return _0x2d789c['callback'](_0x2d789c[_0x59d967(0x25a)]),!![];}return![];},this[_0x37d042(0x474)]=_0x183b95=>{var _0x49498a=_0x37d042;if(!world[_0x49498a(0x4a2)])return![];var _0x3b76ff=world[_0x49498a(0x4a2)][_0x49498a(0x1d8)];if(!_0x3b76ff)return;if(new Date()[_0x49498a(0x1c9)]()-_0x3b76ff[_0x49498a(0x4da)]<MYUI_WINDOWINFO_MOUSETIME)return this['InfoWindowPos']&&(this[_0x49498a(0x52b)]=![],this[_0x49498a(0x3c2)]=!![]),![];if(!this[_0x49498a(0x52b)])this[_0x49498a(0x52b)]={'x':_0x3b76ff['x'],'y':_0x3b76ff['y']};else{if(!_0x183b95&&_0x3b76ff['x']==this[_0x49498a(0x52b)]['x']&&_0x3b76ff['y']==this['InfoWindowPos']['y'])return![];}for(var _0x52898d in this[_0x49498a(0x3b1)]){var _0x9dc241=this['buttonList'][_0x52898d];if(_0x9dc241[_0x49498a(0x3b2)]&&isInRect(_0x3b76ff['x'],_0x3b76ff['y'],_0x9dc241[_0x49498a(0x593)])){var _0xbb6694=new MyUI(this['canvas'],_0x3b76ff['x'],_0x3b76ff['y'],0x32,0x1,this[_0x49498a(0x595)],this[_0x49498a(0x51e)],0x1);_0xbb6694['addTextZone'](_0x49498a(0x219),MYUI_LETTER_SIZE,0x270f,_0x49498a(0x427),MYUI_FONT);for(var _0x2a6e6d in _0x9dc241[_0x49498a(0x3b2)]){var _0x2bae68=_0x9dc241[_0x49498a(0x3b2)][_0x2a6e6d];if(_0x2bae68['callback'])_0xbb6694[_0x49498a(0x535)](_0x2bae68[_0x49498a(0x5a1)](_0x2bae68[_0x49498a(0x266)]),MYUI_LETTER_SIZE,0x270f,_0x49498a(0x427),MYUI_FONT);}return _0xbb6694[_0x49498a(0x1dc)](),!![];}}return![];};},UIManager=function(){var _0x368315=_0x110ced;this[_0x368315(0x2a5)]=[],this[_0x368315(0x3a6)]=(_0x494a2f,_0x2d5b71,_0x2f07b5,_0x42d124,_0x50463d,_0x1fec7c,_0x86b88c,_0x8631ec)=>{var _0x525388=_0x368315,_0x3df61c=new MyUI(_0x494a2f,_0x2d5b71,_0x2f07b5,_0x42d124,_0x50463d,_0x1fec7c,_0x86b88c,_0x8631ec);return this[_0x525388(0x2a5)][_0x525388(0x417)](_0x3df61c),_0x3df61c;},this[_0x368315(0x54d)]=_0x3d09fa=>{var _0x200cb4=_0x368315;for(var _0x56b836 in this[_0x200cb4(0x2a5)]){var _0x79d36=this[_0x200cb4(0x2a5)][_0x56b836],_0x17f2d1=_0x79d36['key_buton_check'](_0x3d09fa);if(_0x17f2d1)return!![];}return![];},this['Mouse_Input']=(_0x505383,_0x418582)=>{var _0x174fa7=_0x368315;for(var _0x232ba6 in this[_0x174fa7(0x2a5)]){var _0x39f2c2=this[_0x174fa7(0x2a5)][_0x232ba6],_0x49c23d=_0x39f2c2[_0x174fa7(0x3a3)](_0x505383,_0x418582);if(_0x49c23d)return!![];}return![];};},MyCanvas=function(_0x999123,_0x5691ef,_0x4b8ebc){var _0x1925d9=_0x110ced;this[_0x1925d9(0x402)]=window[_0x1925d9(0x4b4)],this[_0x1925d9(0x496)]=window[_0x1925d9(0x544)],_0x4b8ebc&&(_0x4b8ebc['x']&&_0x4b8ebc['y']&&(this['width']=_0x4b8ebc['x'],this[_0x1925d9(0x496)]=_0x4b8ebc['y'])),this[_0x1925d9(0x1d9)]=document[_0x1925d9(0x49b)](_0x1925d9(0x1d9)),this['canvas'][_0x1925d9(0x402)]=this[_0x1925d9(0x402)],this[_0x1925d9(0x1d9)][_0x1925d9(0x496)]=this['height'],this['id']=_0x999123,this[_0x1925d9(0x1d9)]['id']=_0x999123,this[_0x1925d9(0x1d9)][_0x1925d9(0x2fb)][_0x1925d9(0x53b)]=_0x5691ef,this['canvas'][_0x1925d9(0x2fb)]['position']='absolute',this[_0x1925d9(0x1d9)][_0x1925d9(0x2fb)][_0x1925d9(0x282)]='0px',this[_0x1925d9(0x1d9)]['style']['left']=_0x1925d9(0x3fc),this[_0x1925d9(0x525)]=this[_0x1925d9(0x1d9)][_0x1925d9(0x3ca)]('2d'),this[_0x1925d9(0x4fc)]=![],document[_0x1925d9(0x4cc)][_0x1925d9(0x2d4)](this[_0x1925d9(0x1d9)]),this[_0x1925d9(0x581)]=()=>{var _0x1e93ff=_0x1925d9,_0x3b10be=this[_0x1e93ff(0x1d9)][_0x1e93ff(0x528)]();if(_0x3b10be)this[_0x1e93ff(0x204)]=Math['floor'](_0x3b10be['x']),this[_0x1e93ff(0x415)]=Math[_0x1e93ff(0x31d)](_0x3b10be['y']),this[_0x1e93ff(0x291)]=Math[_0x1e93ff(0x31d)](_0x3b10be[_0x1e93ff(0x302)]-_0x3b10be['x']),this[_0x1e93ff(0x461)]=Math[_0x1e93ff(0x31d)](_0x3b10be[_0x1e93ff(0x1f9)]-_0x3b10be['y']);else console['log'](_0x1e93ff(0x2e4));},this['GetCanvasPos'](),this['getPixelPosition']=(_0x58cedc,_0x392f3a)=>{var _0x4cf258=_0x1925d9;this[_0x4cf258(0x581)]();if(_0x58cedc<this[_0x4cf258(0x204)]||_0x392f3a<this[_0x4cf258(0x415)]||_0x58cedc>this[_0x4cf258(0x291)]||_0x392f3a>this[_0x4cf258(0x461)])return undefined;var _0x112080={'x':Math[_0x4cf258(0x31d)](_0x58cedc-this[_0x4cf258(0x204)]),'y':Math[_0x4cf258(0x31d)](_0x392f3a-this[_0x4cf258(0x415)])};return _0x112080;},this[_0x1925d9(0x344)]=()=>{var _0x418d83=_0x1925d9;this[_0x418d83(0x525)][_0x418d83(0x4ec)](0x0,0x0,this[_0x418d83(0x1d9)]['width'],this[_0x418d83(0x1d9)][_0x418d83(0x496)]);},this['drawFillRect']=(_0x337216,_0x183431,_0x644203,_0x3c9671)=>{var _0x4b9223=_0x1925d9;this[_0x4b9223(0x525)][_0x4b9223(0x420)](_0x337216,_0x183431,_0x644203-_0x337216,_0x3c9671-_0x183431);},this[_0x1925d9(0x40d)]=(_0x26cd43,_0x25a8bc,_0x2fa726,_0x51db20)=>{var _0x206f5d=_0x1925d9;this['ctx'][_0x206f5d(0x406)](_0x26cd43,_0x25a8bc,_0x2fa726-_0x26cd43,_0x51db20-_0x25a8bc);},this['drawLine']=(_0x179808,_0x402791,_0x4cc2b0,_0x27b307)=>{var _0x17a948=_0x1925d9;this[_0x17a948(0x525)][_0x17a948(0x51f)](),this['ctx'][_0x17a948(0x4d0)](_0x179808,_0x402791),this['ctx'][_0x17a948(0x351)](_0x4cc2b0,_0x27b307),this[_0x17a948(0x525)][_0x17a948(0x51e)]();},this[_0x1925d9(0x2d7)]=(_0x5a65a2,_0x3e9a4f,_0x2b6456,_0x221e9b,_0x331ff1)=>{var _0x35805c=_0x1925d9;_0x3e9a4f=Math[_0x35805c(0x397)](_0x3e9a4f),_0x2b6456=Math[_0x35805c(0x397)](_0x2b6456),_0x221e9b=Math[_0x35805c(0x397)](_0x221e9b),_0x331ff1=Math[_0x35805c(0x397)](_0x331ff1),ctx=this[_0x35805c(0x525)],ctx[_0x35805c(0x569)](_0x5a65a2,_0x3e9a4f,_0x2b6456,_0x221e9b,_0x331ff1);},this['drawImageMirrorRotateCenter']=(_0x27ea4a,_0x10fe69,_0xc336bf,_0x10129c,_0x2f257d,_0x5975fd,_0x44a6a3)=>{var _0x44d02c=_0x1925d9;_0x10fe69=Math[_0x44d02c(0x397)](_0x10fe69),_0xc336bf=Math[_0x44d02c(0x397)](_0xc336bf),ctx=this['ctx'],ctx[_0x44d02c(0x29f)](-_0x5975fd,0x0,0x0,_0x5975fd,_0x10fe69,_0xc336bf),ctx[_0x44d02c(0x494)](_0x44a6a3),ctx[_0x44d02c(0x569)](_0x27ea4a,-_0x10129c,-_0x2f257d),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x1925d9(0x431)]=(_0x582d81,_0x20c70b,_0x4b5231,_0x564884,_0x4ec5e9,_0x331d8e,_0x2bd38c)=>{var _0x24836e=_0x1925d9;_0x20c70b=Math['round'](_0x20c70b),_0x4b5231=Math[_0x24836e(0x397)](_0x4b5231),ctx=this['ctx'],ctx['setTransform'](_0x331d8e,0x0,0x0,_0x331d8e,_0x20c70b,_0x4b5231),ctx[_0x24836e(0x494)](_0x2bd38c),ctx[_0x24836e(0x569)](_0x582d81,-_0x564884,-_0x4ec5e9),ctx[_0x24836e(0x29f)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x1925d9(0x48a)]=(_0x7b66b4,_0x4524dd,_0x261914,_0x5b35f1,_0x43d2c3)=>{var _0x170fe4=_0x1925d9;_0x4524dd=Math['round'](_0x4524dd),_0x261914=Math[_0x170fe4(0x397)](_0x261914),ctx=this['ctx'],ctx[_0x170fe4(0x29f)](_0x5b35f1,0x0,0x0,_0x5b35f1,_0x4524dd,_0x261914),ctx[_0x170fe4(0x494)](_0x43d2c3),ctx[_0x170fe4(0x569)](_0x7b66b4,-_0x7b66b4['width']/0x2,-_0x7b66b4[_0x170fe4(0x496)]/0x2),ctx[_0x170fe4(0x29f)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x1925d9(0x233)]=(_0x285dcc,_0x30f1df,_0x4095d3,_0x47ba99,_0x4f3604,_0x3c1836,_0x1ab0fc)=>{var _0x3ac240=_0x1925d9;this[_0x3ac240(0x525)][_0x3ac240(0x4f3)]=_0x3ac240(0x480),this[_0x3ac240(0x525)][_0x3ac240(0x4d9)]=_0x3ac240(0x282),this['ctx'][_0x3ac240(0x36d)]=_0x3c1836;var _0x2118f3=''+_0x4f3604+'px';if(!_0x1ab0fc)_0x1ab0fc=_0x3ac240(0x3b7);_0x2118f3=_0x2118f3+'\x20'+_0x1ab0fc,this[_0x3ac240(0x525)][_0x3ac240(0x28c)]=_0x2118f3,this[_0x3ac240(0x525)][_0x3ac240(0x4f2)](_0x285dcc,_0x30f1df,_0x4095d3,_0x47ba99);},this[_0x1925d9(0x31a)]=(_0x241ce1,_0x1da8c0,_0x202cb7,_0x47bfbd,_0x5c7692,_0x1c50b6,_0xf46238)=>{var _0x1a0c49=_0x1925d9;this[_0x1a0c49(0x525)][_0x1a0c49(0x4f3)]=_0x1a0c49(0x260),this[_0x1a0c49(0x525)]['textBaseline']=_0x1a0c49(0x318),this['ctx'][_0x1a0c49(0x36d)]=_0x1c50b6;var _0x13ffa6=''+_0x5c7692+'px';if(!_0xf46238)_0xf46238=_0x1a0c49(0x3b7);_0x13ffa6=_0x13ffa6+'\x20'+_0xf46238,this[_0x1a0c49(0x525)]['font']=_0x13ffa6,this['ctx'][_0x1a0c49(0x4f2)](_0x241ce1,_0x1da8c0,_0x202cb7,_0x47bfbd);};},CanvasManager=function(){var _0x34fec9=_0x110ced;this[_0x34fec9(0x277)]=[],this[_0x34fec9(0x3c7)]=0x0,window[_0x34fec9(0x4a6)](_0x34fec9(0x2c7),()=>{var _0x3c9c20=_0x34fec9;for(var _0x3800ff in this[_0x3c9c20(0x277)]){var _0x5ac455=this[_0x3c9c20(0x277)][_0x3800ff][_0x3c9c20(0x1d9)];_0x5ac455[_0x3c9c20(0x402)]=window[_0x3c9c20(0x4b4)],_0x5ac455[_0x3c9c20(0x496)]=window[_0x3c9c20(0x544)];}console[_0x3c9c20(0x292)](_0x3c9c20(0x476)),world['needRedraw']();}),document[_0x34fec9(0x4a6)](_0x34fec9(0x1c7),this['EventcloseFullscreen'],![]),document[_0x34fec9(0x4a6)](_0x34fec9(0x328),this[_0x34fec9(0x499)],![]),document['addEventListener'](_0x34fec9(0x3a0),this[_0x34fec9(0x499)],![]),document[_0x34fec9(0x4a6)](_0x34fec9(0x31f),this['EventcloseFullscreen'],![]),this['EventcloseFullscreen']=()=>{var _0x12be22=_0x34fec9;this[_0x12be22(0x4fc)]=![],this[_0x12be22(0x401)]();},this[_0x34fec9(0x300)]=(_0x774f73,_0x549cab,_0x1c5507)=>{var _0x1477be=_0x34fec9;for(var _0x47a677 in this['canList'])if(this['canList'][_0x47a677]['id']==_0x774f73)return console[_0x1477be(0x292)](_0x1477be(0x4b6));var _0x176c3d=new MyCanvas(_0x774f73,_0x549cab,_0x1c5507);this['canList'][_0x774f73]=_0x176c3d;},this['openFullscreen']=()=>{var _0x57a96b=_0x34fec9;this[_0x57a96b(0x4fc)]=!![],document[_0x57a96b(0x3fd)]['requestFullscreen']();},this['closeFullscreen']=()=>{var _0x417392=_0x34fec9;if(this[_0x417392(0x4fc)]&&document['fullscreenElement']){if(document[_0x417392(0x548)])document[_0x417392(0x548)]();else{if(document[_0x417392(0x1f4)])document[_0x417392(0x1f4)]();else document[_0x417392(0x468)]&&document['msExitFullscreen']();}}this[_0x417392(0x4fc)]=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=['rock','sand',_0x110ced(0x37b),_0x110ced(0x3fb)],MAP_BOT_ELEMENT=[{'name':_0x110ced(0x413),'moveCost':1.5},{'name':_0x110ced(0x2a2),'moveCost':0x2},{'name':_0x110ced(0x59f),'moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':_0x110ced(0x2a7),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x110ced(0x250),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x110ced(0x2c5),'sizex':0x1,'sizey':0x1},{'name':_0x110ced(0x4db),'sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x2be9ce,_0x134891){var _0x1ef413=_0x110ced;this['x']=_0x2be9ce,this['y']=_0x134891,this['botElem']=undefined,this[_0x1ef413(0x350)]=undefined,this[_0x1ef413(0x317)]=undefined,this['getMoveCost']=()=>{var _0x578337=_0x1ef413,_0x8b83d1=0x1;if(this[_0x578337(0x37d)]){for(var _0x564701 in MAP_BOT_ELEMENT)var _0xd284bc=MAP_BOT_ELEMENT[_0x578337(0x26d)](_0x479714=>_0x479714[_0x578337(0x1d5)]==this[_0x578337(0x37d)][_0x578337(0x1d5)]);if(_0xd284bc[_0x578337(0x3aa)]==![])return![];if(_0xd284bc[_0x578337(0x3aa)])_0x8b83d1*=_0xd284bc[_0x578337(0x3aa)];}if(this[_0x578337(0x350)]){var _0xd284bc=MAP_TOP_ELEMENT['find'](_0x1e9fe9=>_0x1e9fe9[_0x578337(0x1d5)]==this['topElem'][_0x578337(0x1d5)]);if(_0xd284bc[_0x578337(0x3aa)]==![])return![];if(_0xd284bc['moveCost'])_0x8b83d1*=_0xd284bc[_0x578337(0x3aa)];}return _0x8b83d1;};},BattleMap=function(_0x6c2606,_0x31d0a8){var _0x2e01c3=_0x110ced;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this['width']=_0x6c2606,this['height']=_0x31d0a8,this[_0x2e01c3(0x566)]=_0x6c2606/0x2,this[_0x2e01c3(0x2fd)]=_0x31d0a8/0x2,this[_0x2e01c3(0x563)]=0x1,this[_0x2e01c3(0x39f)]=[],this[_0x2e01c3(0x2bd)]=[],this['mapImgsBot']=[],this['mapImgsTop']=[],this['needRedraw']=!![],this[_0x2e01c3(0x2dd)]=_0x532385=>{var _0x1310cb=_0x2e01c3,_0x34a751=0x1;if(_0x532385['size'])_0x34a751=_0x532385['size'];this[_0x1310cb(0x566)]=_0x532385['x']+_0x34a751/0x2,this[_0x1310cb(0x2fd)]=_0x532385['y']+_0x34a751/0x2,this['needRedraw']=!![];},this['getZoneAtAbsRangeToPlayer']=_0x3813f8=>{var _0x633b18=_0x2e01c3;if(!_0x3813f8||!_0x3813f8['rangeMin']||!_0x3813f8['rangeMax']||!_0x3813f8['player'])return[];var _0x139ee2=[],_0x27a5e0=_0x3813f8[_0x633b18(0x317)],_0x2bcfba=_0x3813f8[_0x633b18(0x429)],_0x4d1bb5=_0x3813f8[_0x633b18(0x21c)];for(var _0x86c647=_0x27a5e0['x']-_0x4d1bb5;_0x86c647<_0x27a5e0['x']+_0x27a5e0[_0x633b18(0x249)]+_0x4d1bb5;_0x86c647++)for(var _0xe725bd=_0x27a5e0['y']-_0x4d1bb5;_0xe725bd<_0x27a5e0['y']+_0x27a5e0[_0x633b18(0x249)]+_0x4d1bb5;_0xe725bd++)if(_0x86c647<=_0x27a5e0['x']-_0x2bcfba||_0x86c647>=_0x27a5e0['x']+_0x27a5e0[_0x633b18(0x249)]+_0x2bcfba-0x1||_0xe725bd<=_0x27a5e0['y']-_0x2bcfba||_0xe725bd>=_0x27a5e0['y']+_0x27a5e0[_0x633b18(0x249)]+_0x2bcfba-0x1){if(this[_0x633b18(0x2bd)][_0x86c647]&&this['mapBlock'][_0x86c647][_0xe725bd])_0x139ee2['push'](this[_0x633b18(0x2bd)][_0x86c647][_0xe725bd]);}return _0x139ee2;},this[_0x2e01c3(0x269)]=_0x3fc11c=>{var _0x10c318=_0x2e01c3;if(!_0x3fc11c||!_0x3fc11c[_0x10c318(0x347)]||!_0x3fc11c[_0x10c318(0x317)])return[];var _0x4cef74=[],_0x2c46f7=_0x3fc11c[_0x10c318(0x317)];if(_0x3fc11c['dir']==_0x10c318(0x480)||_0x3fc11c['dir']['x']==-0x1&&_0x3fc11c[_0x10c318(0x347)]['y']==0x0){var _0x275e94=_0x2c46f7['x']-0x1;for(var _0x20bb49=_0x2c46f7['y'];_0x20bb49<_0x2c46f7['y']+_0x2c46f7['size'];_0x20bb49++)if(this[_0x10c318(0x2bd)][_0x275e94]&&this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49])_0x4cef74[_0x10c318(0x417)](this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49]);}else{if(_0x3fc11c[_0x10c318(0x347)]==_0x10c318(0x282)||_0x3fc11c[_0x10c318(0x347)]['y']==-0x1&&_0x3fc11c[_0x10c318(0x347)]['x']==0x0){var _0x20bb49=_0x2c46f7['y']-0x1;for(var _0x275e94=_0x2c46f7['x'];_0x275e94<_0x2c46f7['x']+_0x2c46f7[_0x10c318(0x249)];_0x275e94++)if(this[_0x10c318(0x2bd)][_0x275e94]&&this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49])_0x4cef74['push'](this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49]);}else{if(_0x3fc11c[_0x10c318(0x347)]=='right'||_0x3fc11c['dir']['x']==0x1&&_0x3fc11c[_0x10c318(0x347)]['y']==0x0){var _0x275e94=_0x2c46f7['x']+_0x2c46f7['size'];for(var _0x20bb49=_0x2c46f7['y'];_0x20bb49<_0x2c46f7['y']+_0x2c46f7[_0x10c318(0x249)];_0x20bb49++)if(this[_0x10c318(0x2bd)][_0x275e94]&&this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49])_0x4cef74['push'](this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49]);}else{if(_0x3fc11c['dir']=='bot'||_0x3fc11c[_0x10c318(0x347)]['y']==0x1&&_0x3fc11c['dir']['x']==0x0){var _0x20bb49=_0x2c46f7['y']+_0x2c46f7[_0x10c318(0x249)];for(var _0x275e94=_0x2c46f7['x'];_0x275e94<_0x2c46f7['x']+_0x2c46f7[_0x10c318(0x249)];_0x275e94++)if(this[_0x10c318(0x2bd)][_0x275e94]&&this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49])_0x4cef74[_0x10c318(0x417)](this[_0x10c318(0x2bd)][_0x275e94][_0x20bb49]);}}}}return _0x4cef74;},this['getZoneAdjacentToPlayer']=_0x538383=>{var _0xd6505c=_0x2e01c3;if(!_0x538383||!_0x538383[_0xd6505c(0x317)])return undefined;var _0x3aa954=[];return _0x538383['dir']='left',_0x3aa954=_0x3aa954['concat'](this[_0xd6505c(0x269)](_0x538383)),_0x538383[_0xd6505c(0x347)]='top',_0x3aa954=_0x3aa954[_0xd6505c(0x59d)](this[_0xd6505c(0x269)](_0x538383)),_0x538383[_0xd6505c(0x347)]=_0xd6505c(0x302),_0x3aa954=_0x3aa954[_0xd6505c(0x59d)](this[_0xd6505c(0x269)](_0x538383)),_0x538383[_0xd6505c(0x347)]=_0xd6505c(0x58d),_0x3aa954=_0x3aa954['concat'](this[_0xd6505c(0x269)](_0x538383)),_0x3aa954;},this[_0x2e01c3(0x485)]=_0x16958b=>{var _0xa23840=_0x2e01c3;if(!_0x16958b||!_0x16958b[_0xa23840(0x317)]||!_0x16958b[_0xa23840(0x347)])return![];var _0x2f7e30=this[_0xa23840(0x269)]({'dir':_0x16958b['dir'],'player':_0x16958b[_0xa23840(0x317)]});if(!_0x2f7e30||_0x2f7e30[_0xa23840(0x2d1)]==0x0)return![];var _0x43509e=0x0;for(var _0x3641d2 in _0x2f7e30){var _0x4da4d3=_0x2f7e30[_0x3641d2][_0xa23840(0x594)]();if(_0x4da4d3===![]||_0x4da4d3===0x0)return![];_0x43509e+=_0x4da4d3;}return _0x43509e/_0x2f7e30[_0xa23840(0x2d1)];},this['generateMap']=()=>{var _0x3a3c1d=_0x2e01c3;this['mapBlock']=[];for(var _0x5de62b=0x0;_0x5de62b<this[_0x3a3c1d(0x402)];_0x5de62b++){this[_0x3a3c1d(0x2bd)][_0x5de62b]=[];for(var _0x380e6e=0x0;_0x380e6e<this[_0x3a3c1d(0x496)];_0x380e6e++){var _0x29d6e4=new Block(_0x5de62b,_0x380e6e);this[_0x3a3c1d(0x2bd)][_0x5de62b][_0x380e6e]=_0x29d6e4;if(_0x5de62b==0x0||_0x380e6e==0x0||_0x5de62b==this[_0x3a3c1d(0x402)]-0x1||_0x380e6e==this[_0x3a3c1d(0x496)]-0x1){_0x29d6e4['topElem']={'name':_0x3a3c1d(0x4db),'angle':Math[_0x3a3c1d(0x349)]()*Math['PI']*0x2};continue;}}}},this[_0x2e01c3(0x42b)]=()=>{var _0x307b20=_0x2e01c3;for(var _0x1895a0=0x0;_0x1895a0<this[_0x307b20(0x402)];_0x1895a0++){for(var _0x54a7f1=0x0;_0x54a7f1<this[_0x307b20(0x496)];_0x54a7f1++){var _0x5e9e73=this['mapBlock'][_0x1895a0][_0x54a7f1];if(_0x5e9e73[_0x307b20(0x317)])continue;var _0x49db20=Math['floor'](Math[_0x307b20(0x349)]()*0x64);if(_0x49db20<0xa){var _0x1639a5=Math[_0x307b20(0x31d)](Math[_0x307b20(0x349)]()*MAP_BOT_ELEMENT[_0x307b20(0x2d1)]);_0x5e9e73[_0x307b20(0x37d)]={'name':MAP_BOT_ELEMENT[_0x1639a5][_0x307b20(0x1d5)],'angle':Math['random']()*Math['PI']*0x2};}var _0x49db20=Math[_0x307b20(0x31d)](Math[_0x307b20(0x349)]()*0x64);if(_0x49db20<0xa){var _0x1639a5=Math[_0x307b20(0x31d)](Math['random']()*MAP_TOP_ELEMENT[_0x307b20(0x2d1)]);_0x5e9e73[_0x307b20(0x350)]={'name':MAP_TOP_ELEMENT[_0x1639a5][_0x307b20(0x1d5)],'angle':Math['random']()*Math['PI']*0x2};}}}},this[_0x2e01c3(0x464)]=()=>{var _0x2d5b1c='./img/mapFloor/',_0x5d6449=MAP_FLOORS;for(var _0xb2cc95 in _0x5d6449)this['mapImgsFloor'][_0x5d6449[_0xb2cc95]]=new myImage(_0x5d6449[_0xb2cc95],_0x2d5b1c+_0x5d6449[_0xb2cc95]+'.png');},this[_0x2e01c3(0x34f)]=()=>{var _0x5e7665=_0x2e01c3,_0x3b4ace=_0x5e7665(0x592),_0x8e60b0=MAP_BOT_ELEMENT;for(var _0x214778 in _0x8e60b0)this[_0x5e7665(0x365)][_0x8e60b0[_0x214778][_0x5e7665(0x1d5)]]=new myImage(_0x8e60b0[_0x214778][_0x5e7665(0x1d5)],_0x3b4ace+_0x8e60b0[_0x214778][_0x5e7665(0x1d5)]+_0x5e7665(0x4a3));},this[_0x2e01c3(0x542)]=()=>{var _0x2d4702=_0x2e01c3,_0x40174c=_0x2d4702(0x370),_0x4f7a16=MAP_TOP_ELEMENT;for(var _0xd10a9a in _0x4f7a16)this[_0x2d4702(0x32e)][_0x4f7a16[_0xd10a9a][_0x2d4702(0x1d5)]]=new myImage(_0x4f7a16[_0xd10a9a][_0x2d4702(0x1d5)],_0x40174c+_0x4f7a16[_0xd10a9a]['name']+_0x2d4702(0x4a3));},this[_0x2e01c3(0x3e9)]=()=>{var _0x27d41d=_0x2e01c3;this[_0x27d41d(0x542)](),this['initMapFloorImage'](),this['initMapBotElement']();},this[_0x2e01c3(0x265)]=(_0x1c21e3,_0x4d5ef2,_0x27cc84)=>{var _0x466b52=_0x2e01c3;this[_0x466b52(0x566)]+=_0x1c21e3,this[_0x466b52(0x2fd)]+=_0x4d5ef2,this[_0x466b52(0x563)]*=_0x27cc84;if(this[_0x466b52(0x563)]<0.1)this[_0x466b52(0x563)]=0.1;if(this[_0x466b52(0x563)]>0x1)this[_0x466b52(0x563)]=0x1;this['needRedraw']=!![];},this['set_drawing_map']=_0x18ed5c=>{var _0x7abd82=_0x2e01c3;this[_0x7abd82(0x27b)]=Math[_0x7abd82(0x31d)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x7abd82(0x563)]*this[_0x7abd82(0x402)]),this[_0x7abd82(0x57e)]=Math[_0x7abd82(0x31d)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x7abd82(0x563)]*this[_0x7abd82(0x496)]),this['blocksize_x']=Math[_0x7abd82(0x31d)](this['pixel_width']/this[_0x7abd82(0x402)]),this[_0x7abd82(0x51d)]=Math['floor'](this[_0x7abd82(0x57e)]/this[_0x7abd82(0x496)]),this[_0x7abd82(0x433)]=this[_0x7abd82(0x566)]*this[_0x7abd82(0x2c1)],this[_0x7abd82(0x43d)]=this['posBlocky']*this[_0x7abd82(0x51d)],this[_0x7abd82(0x2b4)]=_0x18ed5c[_0x7abd82(0x402)]/0x2-this[_0x7abd82(0x433)],this[_0x7abd82(0x432)]=_0x18ed5c[_0x7abd82(0x496)]/0x2-this[_0x7abd82(0x43d)],this[_0x7abd82(0x2c6)]=this['pos_startx']<0x0?0x0:this[_0x7abd82(0x2b4)],this[_0x7abd82(0x362)]=this[_0x7abd82(0x432)]<0x0?0x0:this['pos_starty'],this[_0x7abd82(0x28a)]=this['pos_startx']+this[_0x7abd82(0x27b)]>=_0x18ed5c[_0x7abd82(0x402)]?_0x18ed5c[_0x7abd82(0x402)]-0x1:this['pos_startx']+this[_0x7abd82(0x27b)],this[_0x7abd82(0x2a1)]=this[_0x7abd82(0x432)]+this['pixel_height']>=_0x18ed5c[_0x7abd82(0x496)]?_0x18ed5c['height']-0x1:this['pos_starty']+this[_0x7abd82(0x57e)],this['topleft_block']=this[_0x7abd82(0x54e)]({'x':this[_0x7abd82(0x2c6)],'y':this[_0x7abd82(0x362)]}),this[_0x7abd82(0x372)]=this['get_block_by_pixel']({'x':this[_0x7abd82(0x28a)],'y':this[_0x7abd82(0x2a1)]});if(this[_0x7abd82(0x372)]){if(this['botright_block']['x']>=this[_0x7abd82(0x402)])this[_0x7abd82(0x372)]['x']=this[_0x7abd82(0x402)]-0x1;if(this[_0x7abd82(0x372)]['y']>=this[_0x7abd82(0x496)])this[_0x7abd82(0x372)]['y']=this[_0x7abd82(0x496)]-0x1;}},this[_0x2e01c3(0x440)]=(_0x357462,_0x346ced,_0x42321c,_0x4004ad,_0x49a34c)=>{var _0xc40ba3=_0x2e01c3;if(_0x49a34c==_0xc40ba3(0x33f)){var _0x292eb8=Math[_0xc40ba3(0x31d)](_0x42321c+0.05*this[_0xc40ba3(0x2c1)]),_0x30a054=Math[_0xc40ba3(0x31d)](_0x4004ad+0.05*this[_0xc40ba3(0x51d)]),_0x2478d9=Math[_0xc40ba3(0x31d)](_0x42321c+0.95*this[_0xc40ba3(0x2c1)]),_0x4fb0fb=Math[_0xc40ba3(0x31d)](_0x4004ad+0.95*this[_0xc40ba3(0x51d)]);if(_0x346ced['getMoveCost']()>0x1)_0x357462[_0xc40ba3(0x525)]['fillStyle']=_0xc40ba3(0x2be);else{if(!_0x346ced[_0xc40ba3(0x594)]()||_0x346ced[_0xc40ba3(0x317)])_0x357462[_0xc40ba3(0x525)][_0xc40ba3(0x36d)]=_0xc40ba3(0x416);else _0x357462[_0xc40ba3(0x525)]['fillStyle']=_0xc40ba3(0x32b);}_0x357462['drawFillRect'](_0x292eb8,_0x30a054,_0x2478d9,_0x4fb0fb);var _0x388da1=new MyUI(_0x357462,_0x292eb8,_0x30a054,0x64,this[_0xc40ba3(0x563)],undefined,undefined,0x1);_0x388da1[_0xc40ba3(0x535)]('movement\x20factor\x20x'+_0x346ced[_0xc40ba3(0x594)](),0x14*this[_0xc40ba3(0x563)],0x64,_0xc40ba3(0x447)),_0x388da1[_0xc40ba3(0x1dc)]();}if(_0x49a34c==_0xc40ba3(0x494)){var _0x292eb8=Math[_0xc40ba3(0x31d)](_0x42321c+0.05*this[_0xc40ba3(0x2c1)]),_0x30a054=Math[_0xc40ba3(0x31d)](_0x4004ad+0.05*this[_0xc40ba3(0x51d)]),_0x2478d9=Math[_0xc40ba3(0x31d)](_0x42321c+0.95*this[_0xc40ba3(0x2c1)]),_0x4fb0fb=Math[_0xc40ba3(0x31d)](_0x4004ad+0.95*this[_0xc40ba3(0x51d)]);_0x357462[_0xc40ba3(0x525)][_0xc40ba3(0x36d)]=_0xc40ba3(0x220),_0x357462[_0xc40ba3(0x274)](_0x292eb8,_0x30a054,_0x2478d9,_0x4fb0fb);}},this['draw_map']=(_0x44a3ed,_0x3cbd73)=>{var _0x32bce9=_0x2e01c3;this[_0x32bce9(0x3c2)]=![],world[_0x32bce9(0x216)][_0x32bce9(0x214)]=!![];if(this[_0x32bce9(0x2ba)]&&this[_0x32bce9(0x372)])for(var _0x21e2aa=this[_0x32bce9(0x2ba)]['x'];_0x21e2aa<=this[_0x32bce9(0x372)]['x'];_0x21e2aa++){for(var _0xd955be=this['topleft_block']['y'];_0xd955be<=this[_0x32bce9(0x372)]['y'];_0xd955be++){var _0x2a3143=this[_0x32bce9(0x53c)](_0x21e2aa,_0xd955be),_0x18cdfe=this[_0x32bce9(0x2bd)][_0x21e2aa][_0xd955be],_0x2c473e=undefined;if(!_0x18cdfe[_0x32bce9(0x31d)])_0x2c473e=this[_0x32bce9(0x39f)]['weed'];else _0x2c473e=this[_0x32bce9(0x39f)][_0x18cdfe['floor']];if(_0x2c473e&&_0x2c473e[_0x32bce9(0x487)]&&_0x2a3143)_0x44a3ed['draw_Image'](_0x2c473e[_0x32bce9(0x3fa)],_0x2a3143['x'],_0x2a3143['y'],this[_0x32bce9(0x2c1)]+0x1,this['blocksize_y']+0x1);else this[_0x32bce9(0x3c2)]=!![];if(_0x18cdfe[_0x32bce9(0x37d)]){_0x2c473e=this['mapImgsBot'][_0x18cdfe[_0x32bce9(0x37d)][_0x32bce9(0x1d5)]];var _0x4aca1c=_0x2a3143['x']+this[_0x32bce9(0x2c1)]/0x2,_0x2171e9=_0x2a3143['y']+this[_0x32bce9(0x51d)]/0x2;if(_0x2c473e)_0x44a3ed[_0x32bce9(0x48a)](_0x2c473e[_0x32bce9(0x3fa)],_0x4aca1c,_0x2171e9,this[_0x32bce9(0x563)]*0x2,_0x18cdfe[_0x32bce9(0x37d)][_0x32bce9(0x2d2)]);}if(_0x18cdfe[_0x32bce9(0x350)]){_0x2c473e=this['mapImgsTop'][_0x18cdfe[_0x32bce9(0x350)][_0x32bce9(0x1d5)]];var _0x4aca1c=_0x2a3143['x']+this[_0x32bce9(0x2c1)]/0x2,_0x2171e9=_0x2a3143['y']+this[_0x32bce9(0x51d)]/0x2;if(_0x2c473e)_0x3cbd73['drawImageRotate'](_0x2c473e[_0x32bce9(0x3fa)],_0x4aca1c,_0x2171e9,this[_0x32bce9(0x563)]*0x2,_0x18cdfe['topElem']['angle']);}if(world[_0x32bce9(0x28d)][_0x32bce9(0x52e)]&&world[_0x32bce9(0x28d)][_0x32bce9(0x52e)]['zone']&&world['GameUI'][_0x32bce9(0x52e)][_0x32bce9(0x1c3)][_0x32bce9(0x26d)](_0x38162d=>_0x38162d==_0x18cdfe))this[_0x32bce9(0x440)](_0x44a3ed,_0x18cdfe,_0x2a3143['x'],_0x2a3143['y'],world[_0x32bce9(0x28d)][_0x32bce9(0x52e)][_0x32bce9(0x491)]);}}},this[_0x2e01c3(0x54e)]=_0x5bb882=>{var _0x3bbcff=_0x2e01c3;if(_0x5bb882['x']<this[_0x3bbcff(0x2c6)]||_0x5bb882['y']<this[_0x3bbcff(0x362)]||_0x5bb882['x']>this[_0x3bbcff(0x28a)]||_0x5bb882['y']>this[_0x3bbcff(0x2a1)]||this[_0x3bbcff(0x2c1)]==0x0||this['blocksize_y']==0x0)return undefined;var _0x514ce8={'x':Math[_0x3bbcff(0x31d)]((_0x5bb882['x']-this['pos_startx'])/this['blocksize_x']),'y':Math[_0x3bbcff(0x31d)]((_0x5bb882['y']-this['pos_starty'])/this[_0x3bbcff(0x51d)])};if(_0x514ce8['x']>=this['width']&&_0x514ce8['x']>0x0)_0x514ce8['x']=this['width']-0x1;if(_0x514ce8['y']>=this[_0x3bbcff(0x496)]&&_0x514ce8['y']>0x0)_0x514ce8['y']=this[_0x3bbcff(0x496)]-0x1;return this['mapBlock'][_0x514ce8['x']][_0x514ce8['y']];},this[_0x2e01c3(0x53c)]=(_0x37d88c,_0x10c454)=>{var _0x50ab88=_0x2e01c3;if(_0x37d88c<0x0||_0x10c454<0x0||_0x37d88c>=this[_0x50ab88(0x402)]||_0x10c454>=this['height'])return undefined;return{'x':Math[_0x50ab88(0x31d)](this[_0x50ab88(0x2b4)]+this[_0x50ab88(0x2c1)]*_0x37d88c),'y':Math['floor'](this['pos_starty']+this[_0x50ab88(0x51d)]*_0x10c454)};},this[_0x2e01c3(0x56b)]=(_0x5e645d,_0x54f8f7)=>{var _0x3314c1=_0x2e01c3;return{'x':this[_0x3314c1(0x2b4)]+this['blocksize_x']*_0x5e645d,'y':this['pos_starty']+this[_0x3314c1(0x51d)]*_0x54f8f7};},this[_0x2e01c3(0x2c3)]=(_0x27f261,_0x1c664a,_0xbad4a8,_0x2054e5)=>{var _0x48bdc4=_0x2e01c3,_0x3b3b92=[];for(var _0x5afd14=_0x27f261-_0x2054e5;_0x5afd14<=_0x27f261+_0x2054e5;r++){for(var _0x27171c=_0x1c664a-_0x2054e5;_0x27171c<=_0x1c664a+_0x2054e5;r++){var _0x2d0d8c=this['mapBlock'][_0x5afd14][_0x27171c];if(_0x2d0d8c&&distBlock(_0x27f261,_0x1c664a,_0x2d0d8c['x'],_0x2d0d8c['y'])>=_0xbad4a8&&distBlock(_0x27f261,_0x1c664a,_0x2d0d8c['x'],_0x2d0d8c['y'])<=_0x2054e5)_0x3b3b92[_0x48bdc4(0x417)](_0x2d0d8c);}}return _0x3b3b92;},this[_0x2e01c3(0x366)]=(_0x4005aa,_0x4e3554,_0x325dd9,_0x1c42fe)=>{var _0xb098c6=_0x2e01c3,_0x110731=[];for(var _0x11f774=Math[_0xb098c6(0x31d)](_0x4005aa-_0x1c42fe);_0x11f774<=Math[_0xb098c6(0x397)](_0x4005aa+_0x1c42fe);r++){for(var _0x398f20=Math[_0xb098c6(0x31d)](_0x4e3554-_0x1c42fe);_0x398f20<=Math[_0xb098c6(0x397)](_0x4e3554+_0x1c42fe);r++){var _0x5e3bb7=this[_0xb098c6(0x2bd)][_0x11f774][_0x398f20];if(_0x5e3bb7&&dist(_0x4005aa,_0x4e3554,_0x5e3bb7['x'],_0x5e3bb7['y'])>=_0x325dd9&&Block(_0x4005aa,_0x4e3554,_0x5e3bb7['x'],_0x5e3bb7['y'])<=_0x1c42fe)_0x110731[_0xb098c6(0x417)](_0x5e3bb7);}}return _0x110731;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT=_0x110ced(0x4d2),BONUS_DESCRIPTION=[];var id=0x1;BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]='get\x20x2\x20more\x20wood\x20in\x20forest',BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x110ced(0x5a0),Player=function(_0x17204f,_0x212ac9,_0x57d6cf,_0x453b06,_0x458867){var _0x1c21b1=_0x110ced;this['x']=_0x17204f,this['y']=_0x212ac9,this[_0x1c21b1(0x249)]=_0x57d6cf,this[_0x1c21b1(0x51b)]=_0x458867,this['AI']=_0x458867==TEAM_HUMAN?undefined:{},this[_0x1c21b1(0x425)]=_0x453b06,this['dir']=[0x1,0x0],this[_0x1c21b1(0x486)]=undefined,this[_0x1c21b1(0x46c)]=![],this[_0x1c21b1(0x5a5)]=undefined,this['animation']=[],this[_0x1c21b1(0x2d0)]=PLAYER_DEFAUTL_MOVECOST,this[_0x1c21b1(0x1d5)]=_0x1c21b1(0x4c1),this[_0x1c21b1(0x4c3)]=0x64,this[_0x1c21b1(0x537)]=0x0,this['ActionPoint']=0x0,this[_0x1c21b1(0x3bf)]=0x64,this['lifeMax']=0x64,this['life']=this['lifeMax'],this['isDead']=![],(this[_0x1c21b1(0x322)]={'Strength':0xa,'Dexterity':0xa},this[_0x1c21b1(0x436)]=_0x20597=>{var _0x45326f=_0x1c21b1;if(_0x20597==undefined||_0x20597<0x0)return![];this[_0x45326f(0x572)]-=_0x20597,world[_0x45326f(0x216)][_0x45326f(0x327)][_0x45326f(0x363)]({'type':this[_0x45326f(0x51b)],'txt':this[_0x45326f(0x1d5)]+'\x20lost\x20'+_0x20597+_0x45326f(0x59c)});if(this['life']<=0x0){world[_0x45326f(0x216)][_0x45326f(0x327)][_0x45326f(0x363)]({'type':this[_0x45326f(0x51b)],'txt':this['name']+_0x45326f(0x3f1)}),world[_0x45326f(0x216)][_0x45326f(0x1d3)](this);if(this==world[_0x45326f(0x28d)][_0x45326f(0x57d)])world[_0x45326f(0x28d)][_0x45326f(0x57d)]=undefined;if(this==world['players'][_0x45326f(0x387)])world[_0x45326f(0x216)]['Playerturn']=undefined;}return!![];}),this[_0x1c21b1(0x252)]=_0x4a2c10=>{var _0x4ccf39=_0x1c21b1;if(!_0x4a2c10||_0x4a2c10[_0x4ccf39(0x2d1)]<0x1)return![];var _0x93d740=0x0;for(var _0x31cee0 in _0x4a2c10){world['players'][_0x4ccf39(0x327)][_0x4ccf39(0x363)]({'type':this['team'],'txt':this[_0x4ccf39(0x1d5)]+_0x4ccf39(0x357)+_0x4a2c10[_0x31cee0][_0x4ccf39(0x3c5)]+_0x4ccf39(0x256)+_0x4a2c10[_0x31cee0][_0x4ccf39(0x491)]}),_0x93d740+=_0x4a2c10[_0x31cee0][_0x4ccf39(0x3c5)];}var _0x5b8c34=this[_0x4ccf39(0x573)]?this[_0x4ccf39(0x573)][_0x4ccf39(0x22e)]({'damages':_0x4a2c10}):_0x93d740;return this[_0x4ccf39(0x436)](_0x5b8c34);},this[_0x1c21b1(0x39b)]=()=>{var _0x9aab54=_0x1c21b1;this[_0x9aab54(0x3a4)]=[{'name':_0x9aab54(0x1c6),'type':_0x9aab54(0x33f),'description':_0x9aab54(0x57a),'callback':this['TryMoveTo'],'zone_target_area':world[_0x9aab54(0x4a4)]['getZoneAdjacentToPlayer'],'zone_selecting_input':{'player':this,'type':'move'},'windowInfo':[{'txt':_0x9aab54(0x382),'callback':this[_0x9aab54(0x40a)]},{'txt':_0x9aab54(0x23e),'callback':this[_0x9aab54(0x315)]}]},{'name':_0x9aab54(0x236),'type':'move','description':_0x9aab54(0x3a5),'callback':this['rotate'],'zone_target_area':world[_0x9aab54(0x4a4)][_0x9aab54(0x462)],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':_0x9aab54(0x494)},'windowInfo':[{'txt':_0x9aab54(0x48c),'callback':this[_0x9aab54(0x1d7)]}]}];if(this[_0x9aab54(0x339)]){var _0x32a50b={'name':_0x9aab54(0x4f4),'type':'attack','description':_0x9aab54(0x1e1),'callback':this[_0x9aab54(0x4bd)],'zone_target_area':this[this[_0x9aab54(0x339)][_0x9aab54(0x30b)][_0x9aab54(0x5a1)]],'zone_selecting_input':this['weapon'][_0x9aab54(0x30b)][_0x9aab54(0x266)],'windowInfo':[{'txt':_0x9aab54(0x456),'callback':this['getChanceOfHit']},{'txt':'attack\x20with\x20:\x20','callback':this[_0x9aab54(0x255)]}]};_0x32a50b[_0x9aab54(0x289)][_0x9aab54(0x317)]=this,_0x32a50b[_0x9aab54(0x289)]['type']=_0x9aab54(0x494),this[_0x9aab54(0x3a4)][_0x9aab54(0x417)](_0x32a50b);}else{var _0x32a50b={'name':'Attack','type':_0x9aab54(0x4bd),'description':'attack\x20animation\x20on\x20the\x20selected\x20block','callback':this[_0x9aab54(0x4bd)],'zone_target_area':this[_0x9aab54(0x29b)],'zone_selecting_input':{},'windowInfo':[{'txt':_0x9aab54(0x456),'callback':this[_0x9aab54(0x543)]},{'txt':_0x9aab54(0x550),'callback':()=>{}}]};_0x32a50b[_0x9aab54(0x289)]['player']=this,_0x32a50b[_0x9aab54(0x289)][_0x9aab54(0x491)]=_0x9aab54(0x494),this[_0x9aab54(0x3a4)][_0x9aab54(0x417)](_0x32a50b);}},this[_0x1c21b1(0x255)]=()=>{if(this['weapon'])return this['weapon']['getWeaponAttackDescription']();},this[_0x1c21b1(0x3cb)]=_0x108591=>{var _0x5526e0=_0x1c21b1;if(!_0x108591||!_0x108591[_0x5526e0(0x368)])return undefined;return[_0x108591[_0x5526e0(0x368)]];},this[_0x1c21b1(0x29b)]=()=>{var _0x5183ac=_0x1c21b1;console[_0x5183ac(0x292)]('get\x20block\x20adjacent');var _0x14e54f=[];for(var _0x29326b=this['x']-0x1;_0x29326b<=this['x']+this[_0x5183ac(0x249)];_0x29326b++)for(var _0xfb2819=this['y']-0x1;_0xfb2819<=this['y']+this[_0x5183ac(0x249)];_0xfb2819++)if(!((_0x29326b==this['x']-0x1||_0x29326b==this['x']+this[_0x5183ac(0x249)])&&(_0xfb2819==this['y']-0x1||_0xfb2819==this['y']+this[_0x5183ac(0x249)]))&&!(_0x29326b<=this['x']+this[_0x5183ac(0x249)]-0x1&&_0x29326b>=this['x']&&_0xfb2819<=this['y']+this[_0x5183ac(0x249)]-0x1&&_0xfb2819>=this['y'])){if(world[_0x5183ac(0x4a4)][_0x5183ac(0x2bd)][_0x29326b]&&world[_0x5183ac(0x4a4)][_0x5183ac(0x2bd)][_0x29326b][_0xfb2819])_0x14e54f[_0x5183ac(0x417)](world[_0x5183ac(0x4a4)][_0x5183ac(0x2bd)][_0x29326b][_0xfb2819]);}return console[_0x5183ac(0x292)]('returned\x20'+_0x14e54f[_0x5183ac(0x2d1)]+_0x5183ac(0x217)),_0x14e54f;},this[_0x1c21b1(0x41c)]=()=>{var _0x1139b1=_0x1c21b1,_0x4dabe0=[];for(var _0x1380c0=this['x'];_0x1380c0<this['x']+this[_0x1139b1(0x249)];_0x1380c0++)for(var _0x3fed1a=this['y'];_0x3fed1a<this['y']+this['size'];_0x3fed1a++)_0x4dabe0[_0x1139b1(0x417)](world[_0x1139b1(0x4a4)]['mapBlock'][_0x1380c0][_0x3fed1a]);},this[_0x1c21b1(0x225)]=_0x5da704=>{var _0x554c44=_0x1c21b1;if(!_0x5da704||!_0x5da704[_0x554c44(0x368)])return undefined;var _0x411bb4=0x1,_0x2ecb2a=0x1;_0x5da704[_0x554c44(0x1fb)]&&(_0x411bb4=_0x5da704[_0x554c44(0x1fb)]['rangeMin']?_0x5da704['data'][_0x554c44(0x429)]:0x1,_0x2ecb2a=_0x5da704[_0x554c44(0x1fb)]['rangeMax']?_0x5da704[_0x554c44(0x1fb)]['rangeMax']:0x1);if(_0x411bb4>_0x2ecb2a){var _0x413de1=_0x411bb4;_0x411bb4=_0x2ecb2a,_0x2ecb2a=_0x413de1;}var _0x29d7ee=[],_0x537d19=_0x5da704[_0x554c44(0x368)],_0x4ec0d3=this[_0x554c44(0x1d7)](_0x537d19),_0x5b517d=-0x1,_0x354c76=_0x537d19['x'],_0x46f2b3=_0x537d19['y'],_0x2e6e8c=world[_0x554c44(0x4a4)][_0x554c44(0x2bd)];while(++_0x5b517d<=_0x2ecb2a){if(_0x5b517d>=_0x411bb4){if(_0x2e6e8c[_0x354c76]&&_0x2e6e8c[_0x354c76][_0x46f2b3])_0x29d7ee[_0x554c44(0x417)](_0x2e6e8c[_0x354c76][_0x46f2b3]);}_0x354c76+=_0x4ec0d3[0x0],_0x46f2b3+=_0x4ec0d3[0x1];}return _0x29d7ee;},this[_0x1c21b1(0x1f1)]=_0x1ca702=>{var _0x21b557=_0x1c21b1;if(!_0x1ca702||!_0x1ca702[_0x21b557(0x368)])return undefined;var _0x174018=0x1,_0x50e3ae=0x1;_0x1ca702[_0x21b557(0x1fb)]&&(_0x174018=_0x1ca702['data'][_0x21b557(0x429)]?_0x1ca702['data'][_0x21b557(0x429)]:0x1,_0x50e3ae=_0x1ca702[_0x21b557(0x1fb)][_0x21b557(0x21c)]?_0x1ca702['data'][_0x21b557(0x21c)]:0x1);if(_0x174018>_0x50e3ae){var _0xad3a08=_0x174018;_0x174018=_0x50e3ae,_0x50e3ae=_0xad3a08;}var _0x159cbf=[],_0x278644=_0x1ca702[_0x21b557(0x368)],_0x36ac68=world[_0x21b557(0x4a4)][_0x21b557(0x2bd)];for(var _0x4bca80=_0x278644['x']-_0x50e3ae;_0x4bca80<=_0x278644['x']+_0x50e3ae;_0x4bca80++){for(var _0x3e3995=_0x278644['y']-_0x50e3ae;_0x3e3995<=_0x278644['y']+_0x50e3ae;_0x3e3995++){var _0x1789d3=dist(_0x278644['x'],_0x278644['y'],_0x4bca80,_0x3e3995);if(_0x1789d3<_0x174018||_0x1789d3>_0x50e3ae)continue;if(_0x36ac68[_0x4bca80]&&_0x36ac68[_0x4bca80][_0x3e3995])_0x159cbf[_0x21b557(0x417)](_0x36ac68[_0x4bca80][_0x3e3995]);}}return _0x159cbf;},this[_0x1c21b1(0x4a8)]=_0x4cec8e=>{var _0x33f7c5=_0x1c21b1;if(!_0x4cec8e||!_0x4cec8e[_0x33f7c5(0x429)]||!_0x4cec8e[_0x33f7c5(0x21c)])return[];var _0x50099c=[],_0xddc790=this,_0x1a11dc=_0x4cec8e[_0x33f7c5(0x429)],_0x4a5e4f=_0x4cec8e[_0x33f7c5(0x21c)];for(var _0x3acc33=_0xddc790['x']-_0x4a5e4f;_0x3acc33<_0xddc790['x']+_0xddc790[_0x33f7c5(0x249)]+_0x4a5e4f;_0x3acc33++)for(var _0x2e1e60=_0xddc790['y']-_0x4a5e4f;_0x2e1e60<_0xddc790['y']+_0xddc790[_0x33f7c5(0x249)]+_0x4a5e4f;_0x2e1e60++)if(_0x3acc33<=_0xddc790['x']-_0x1a11dc||_0x3acc33>=_0xddc790['x']+_0xddc790[_0x33f7c5(0x249)]+_0x1a11dc-0x1||_0x2e1e60<=_0xddc790['y']-_0x1a11dc||_0x2e1e60>=_0xddc790['y']+_0xddc790[_0x33f7c5(0x249)]+_0x1a11dc-0x1){if(world['map'][_0x33f7c5(0x2bd)][_0x3acc33]&&world['map'][_0x33f7c5(0x2bd)][_0x3acc33][_0x2e1e60])_0x50099c[_0x33f7c5(0x417)](world[_0x33f7c5(0x4a4)]['mapBlock'][_0x3acc33][_0x2e1e60]);}return _0x50099c;},this[_0x1c21b1(0x3ec)]=_0x2ac18b=>{var _0x53729b=_0x1c21b1;if(!_0x2ac18b||!_0x2ac18b[_0x53729b(0x368)])return undefined;var _0x2f10a8=_0x2ac18b[_0x53729b(0x368)];if(_0x2f10a8['player']==this)return 0x0;var _0x3493c3;if(this['x']>=_0x2f10a8['x']&&this['x']+this[_0x53729b(0x249)]<=_0x2f10a8['x'])_0x3493c3=0x0;else{if(this['x']<_0x2f10a8['x'])_0x3493c3=this['x']-_0x2f10a8['x'];else _0x3493c3=this['x']+this[_0x53729b(0x249)]-_0x2f10a8['x']-0x1;}var _0x869ed4;if(this['y']>=_0x2f10a8['y']&&this['y']+this[_0x53729b(0x249)]<=_0x2f10a8['y'])_0x869ed4=0x0;else{if(this['x']<_0x2f10a8['x'])_0x869ed4=this['y']-_0x2f10a8['y'];else _0x869ed4=this['y']+this[_0x53729b(0x249)]-_0x2f10a8['y']-0x1;}return console[_0x53729b(0x292)]('block\x20'+[_0x2f10a8['x'],_0x2f10a8['y']]+'\x20dist\x20'+Math[_0x53729b(0x2bc)](_0x3493c3*_0x3493c3+_0x869ed4*_0x869ed4)),Math['sqrt'](_0x3493c3*_0x3493c3+_0x869ed4*_0x869ed4);},this[_0x1c21b1(0x48b)]=_0x3b14e3=>{var _0x5da0f4=_0x1c21b1;if(!_0x3b14e3||!_0x3b14e3[_0x5da0f4(0x429)]||!_0x3b14e3[_0x5da0f4(0x21c)])return[];var _0x1422bd=[],_0x540e33=this,_0x3c9496=_0x540e33['x']+_0x540e33[_0x5da0f4(0x249)]/0x2-0.5,_0x59ed18=_0x540e33['y']+_0x540e33[_0x5da0f4(0x249)]/0x2-0.5,_0x3929b4=_0x3b14e3[_0x5da0f4(0x429)]+_0x540e33[_0x5da0f4(0x249)]/0x2-0.5,_0x23ce9b=_0x3b14e3[_0x5da0f4(0x21c)]+_0x540e33[_0x5da0f4(0x249)]/0x2-0.5;for(var _0x817942=Math['round'](_0x540e33['x']-_0x23ce9b);_0x817942<Math[_0x5da0f4(0x397)](_0x540e33['x']+_0x540e33[_0x5da0f4(0x249)]+_0x23ce9b);_0x817942++)for(var _0xe53590=Math[_0x5da0f4(0x397)](_0x540e33['y']-_0x23ce9b);_0xe53590<Math[_0x5da0f4(0x397)](_0x540e33['y']+_0x540e33['size']+_0x23ce9b);_0xe53590++)if(world['map']['mapBlock'][_0x817942]&&world[_0x5da0f4(0x4a4)][_0x5da0f4(0x2bd)][_0x817942][_0xe53590]&&this[_0x5da0f4(0x3ec)]({'block':world[_0x5da0f4(0x4a4)][_0x5da0f4(0x2bd)][_0x817942][_0xe53590]})<=Math['round'](_0x23ce9b)&&this['getDistToABlock']({'block':world[_0x5da0f4(0x4a4)][_0x5da0f4(0x2bd)][_0x817942][_0xe53590]})>=Math[_0x5da0f4(0x31d)](_0x3929b4))_0x1422bd[_0x5da0f4(0x417)](world[_0x5da0f4(0x4a4)][_0x5da0f4(0x2bd)][_0x817942][_0xe53590]);return _0x1422bd;},this[_0x1c21b1(0x2c8)]=_0x3b05b1=>{var _0xaf53ba=_0x1c21b1;if(!this[_0xaf53ba(0x3e8)])this[_0xaf53ba(0x3e8)]=PLAYER_FACE_IMG[Math[_0xaf53ba(0x31d)](Math[_0xaf53ba(0x349)]()*PLAYER_FACE_IMG[_0xaf53ba(0x2d1)])];if(!this['body_type'])this['body_type']=PLAYER_BODY_IMG[Math[_0xaf53ba(0x31d)](Math[_0xaf53ba(0x349)]()*PLAYER_BODY_IMG[_0xaf53ba(0x2d1)])];var _0xdbb7a4=[];_0xdbb7a4[_0xaf53ba(0x417)]({'name':this[_0xaf53ba(0x34a)],'needColor':!![]}),_0xdbb7a4[_0xaf53ba(0x417)]({'name':this['face_type'],'needColor':![]});if(this[_0xaf53ba(0x573)])_0xdbb7a4[_0xaf53ba(0x417)]({'name':this[_0xaf53ba(0x573)]['name'],'needColor':![]});for(var _0x5e96ac in _0xdbb7a4)if(!_0x3b05b1[_0xdbb7a4[_0x5e96ac][_0xaf53ba(0x1d5)]]||!_0x3b05b1[_0xdbb7a4[_0x5e96ac]['name']][_0xaf53ba(0x487)])return console['log']('can\x27t\x20with\x20'+_0xdbb7a4[_0x5e96ac]['name']);var _0x38720d=document['createElement'](_0xaf53ba(0x1d9));_0x38720d['width']=PLAYER_DEFAULT_SIZEX,_0x38720d[_0xaf53ba(0x496)]=PLAYER_DEFAULT_SIZEY;var _0x55d053=_0x38720d['getContext']('2d');for(var _0x5e96ac in _0xdbb7a4){var _0x5804be=_0xdbb7a4[_0x5e96ac][_0xaf53ba(0x1d5)];if(!_0x3b05b1[_0x5804be])return;var _0x134fd9=undefined;if(_0xdbb7a4[_0x5e96ac][_0xaf53ba(0x258)])_0x134fd9=_0x3b05b1[_0x5804be]['GetColorImage'](0x0,0xff,0x0,this[_0xaf53ba(0x425)]['r'],this[_0xaf53ba(0x425)]['g'],this['color']['b']);else _0x134fd9=_0x3b05b1[_0x5804be]['img'];if(!_0x134fd9||!_0x134fd9['complete'])return![];_0x55d053[_0xaf53ba(0x569)](_0x134fd9,0x0,0x0);}var _0x134fd9=new Image();_0x134fd9[_0xaf53ba(0x386)]=_0x38720d[_0xaf53ba(0x58f)](),_0x134fd9[_0xaf53ba(0x1de)]()['then'](()=>{var _0x47a470=_0xaf53ba;console['log']('player\x20body\x20img\x20loaded\x20and\x20ready'),this[_0x47a470(0x46c)]=!![];if(world[_0x47a470(0x3f3)])world[_0x47a470(0x3f3)][_0x47a470(0x3c2)]=!![];if(world[_0x47a470(0x28d)])world[_0x47a470(0x28d)]['needRedraw']=!![];}),this[_0xaf53ba(0x486)]=_0x134fd9;if(!_0x3b05b1[_0xaf53ba(0x268)]||!_0x3b05b1[_0xaf53ba(0x268)][_0xaf53ba(0x3fa)][_0xaf53ba(0x208)])return![];var _0x134fd9=_0x3b05b1[_0xaf53ba(0x268)][_0xaf53ba(0x360)](0x0,0xff,0x0,this[_0xaf53ba(0x425)]['r'],this[_0xaf53ba(0x425)]['g'],this['color']['b']);if(!_0x134fd9)return![];return this[_0xaf53ba(0x5a5)]=_0x134fd9,!![];},this[_0x1c21b1(0x1d7)]=_0x339ce9=>{var _0x163f6b=_0x1c21b1;if(_0x339ce9[_0x163f6b(0x368)])_0x339ce9=_0x339ce9[_0x163f6b(0x368)];var _0xfb224d=Math['atan2'](-(_0x339ce9['y']-this['y']-this[_0x163f6b(0x249)]/0x2+0.5),_0x339ce9['x']-this['x']-this['size']/0x2+0.5);if(_0xfb224d>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0xfb224d>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0xfb224d>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0xfb224d>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0xfb224d>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0xfb224d>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0xfb224d>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0xfb224d>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0xfb224d>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x1c21b1(0x494)]=_0x437ec9=>{var _0x10ae2a=_0x1c21b1,_0x77316f=_0x437ec9[_0x10ae2a(0x368)];if(!_0x77316f||_0x77316f['x']==undefined||_0x77316f['y']==undefined)return![];var _0x5a02c2=this[_0x10ae2a(0x1d7)](_0x77316f);if(_0x5a02c2)this[_0x10ae2a(0x347)]=_0x5a02c2;else return![];return!![];},this[_0x1c21b1(0x206)]=(_0x497345,_0x2d40a3)=>{var _0x58b063=_0x1c21b1;for(var _0x5dcb89=this['x'];_0x5dcb89<this['x']+this[_0x58b063(0x249)];_0x5dcb89++)for(var _0x7e0a26=this['y'];_0x7e0a26<this['y']+this[_0x58b063(0x249)];_0x7e0a26++)_0x2d40a3[_0x58b063(0x2bd)][_0x5dcb89][_0x7e0a26]['player']=undefined;for(var _0x5dcb89=_0x497345['x'];_0x5dcb89<_0x497345['x']+this[_0x58b063(0x249)];_0x5dcb89++){for(var _0x7e0a26=_0x497345['y'];_0x7e0a26<_0x497345['y']+this['size'];_0x7e0a26++){_0x2d40a3['mapBlock'][_0x5dcb89][_0x7e0a26][_0x58b063(0x317)]=this;}}this['x']=_0x497345['x'],this['y']=_0x497345['y'];},this[_0x1c21b1(0x2f4)]=_0x1e6277=>{var _0x29c331=_0x1c21b1;if(!_0x1e6277||!_0x1e6277[_0x29c331(0x368)]||_0x1e6277[_0x29c331(0x368)]['x']==undefined||_0x1e6277['block']['y']==undefined)return console[_0x29c331(0x292)]('CheckMoveTo\x20:\x20invalid\x20Input'),![];var _0x1fa4aa={'x':_0x1e6277[_0x29c331(0x368)]['x'],'y':_0x1e6277['block']['y']},_0x3c18ac=world['map'];if(_0x1fa4aa['x']+this[_0x29c331(0x249)]-0x1>=_0x3c18ac[_0x29c331(0x402)]||_0x1fa4aa['x']<0x0||_0x1fa4aa['y']<0x0||_0x1fa4aa['y']+this[_0x29c331(0x249)]-0x1>=_0x3c18ac[_0x29c331(0x496)])return console[_0x29c331(0x292)](_0x29c331(0x546)),![];var _0x2eb8ad;if(_0x1fa4aa['x']==this['x']-0x1&&_0x1fa4aa['y']>=this['y']&&this['y']+this['size']>_0x1fa4aa['y'])_0x1fa4aa['y']=this['y'],_0x2eb8ad=_0x29c331(0x480);else{if(_0x1fa4aa['y']==this['y']-0x1&&_0x1fa4aa['x']>=this['x']&&this['x']+this[_0x29c331(0x249)]>_0x1fa4aa['x'])_0x1fa4aa['x']=this['x'],_0x2eb8ad='top';else{if(_0x1fa4aa['x']==this['x']+this['size']&&_0x1fa4aa['y']>=this['y']&&this['y']+this[_0x29c331(0x249)]>_0x1fa4aa['y'])_0x1fa4aa['y']=this['y'],_0x1fa4aa['x']=this['x']+0x1,_0x2eb8ad=_0x29c331(0x302);else{if(_0x1fa4aa['y']==this['y']+this[_0x29c331(0x249)]&&_0x1fa4aa['x']>=this['x']&&this['x']+this[_0x29c331(0x249)]>_0x1fa4aa['x'])_0x1fa4aa['x']=this['x'],_0x1fa4aa['y']=this['y']+0x1,_0x2eb8ad=_0x29c331(0x58d);else return console[_0x29c331(0x292)](_0x29c331(0x2ce)),![];}}}for(var _0x38fc6a=_0x1fa4aa['x'];_0x38fc6a<_0x1fa4aa['x']+this[_0x29c331(0x249)];_0x38fc6a++){for(var _0xa57ff9=_0x1fa4aa['y'];_0xa57ff9<_0x1fa4aa['y']+this[_0x29c331(0x249)];_0xa57ff9++){if(_0x3c18ac[_0x29c331(0x2bd)][_0x38fc6a][_0xa57ff9]['player']&&_0x3c18ac[_0x29c331(0x2bd)][_0x38fc6a][_0xa57ff9]['player']!=this)return console[_0x29c331(0x292)](_0x29c331(0x4d6)),![];}}var _0x1840df=world[_0x29c331(0x4a4)][_0x29c331(0x485)]({'player':this,'dir':_0x2eb8ad});if(_0x1840df===![])return console[_0x29c331(0x292)](_0x29c331(0x24b)),![];return{'dir':_0x2eb8ad,'cost':Math[_0x29c331(0x31d)](_0x1840df*this['movePCost'])};},this['GetMovePrice']=_0x2d9a13=>{var _0x13ca94=_0x1c21b1,_0x23b3d3=this[_0x13ca94(0x2f4)](_0x2d9a13);if(_0x23b3d3)return _0x23b3d3[_0x13ca94(0x441)];return![];},this[_0x1c21b1(0x315)]=_0x482117=>{var _0x2d2109=_0x1c21b1,_0x362f95=this[_0x2d2109(0x2f4)](_0x482117);if(_0x362f95)return _0x362f95[_0x2d2109(0x347)];return![];},this[_0x1c21b1(0x4ed)]=_0x1c0f38=>{var _0x22b0af=_0x1c21b1;if(!_0x1c0f38||!_0x1c0f38[_0x22b0af(0x368)]||_0x1c0f38['block']['x']==undefined||_0x1c0f38[_0x22b0af(0x368)]['y']==undefined)return![];var _0x4f33b7=this[_0x22b0af(0x2f4)](_0x1c0f38);if(_0x4f33b7===![]||_0x4f33b7[_0x22b0af(0x441)]>this[_0x22b0af(0x3db)])return![];var _0x176689=undefined;switch(_0x4f33b7['dir']){case _0x22b0af(0x302):_0x176689=[0x1,0x0];break;case _0x22b0af(0x480):_0x176689=[-0x1,0x0];break;case _0x22b0af(0x282):_0x176689=[0x0,-0x1];break;case'bot':_0x176689=[0x0,0x1];break;default:console[_0x22b0af(0x292)]('wrong\x20direction');return![];}this[_0x22b0af(0x3db)]-=_0x4f33b7['cost'];var _0x5a2f0d={'type':_0x22b0af(0x41f),'mode':PLAYER_ANIMATION_MOVING,'dir':_0x176689,'from':[this['x'],this['y']],'duration':0x1f4};this['animation'][_0x22b0af(0x417)](_0x5a2f0d),this[_0x22b0af(0x347)]=_0x176689;var _0x5c291b={'x':this['x']+_0x176689[0x0],'y':this['y']+_0x176689[0x1]};return this[_0x22b0af(0x206)](_0x5c291b,world[_0x22b0af(0x4a4)]),!![];},this[_0x1c21b1(0x543)]=_0x4b25c1=>{var _0x419e46=_0x1c21b1;if(!_0x4b25c1||!_0x4b25c1[_0x419e46(0x368)])return'no\x20block';var _0x5e9b80=_0x4b25c1[_0x419e46(0x368)];if(!_0x5e9b80[_0x419e46(0x317)]||_0x5e9b80[_0x419e46(0x317)]==this)return'no\x20players';var _0x35f208=_0x5e9b80[_0x419e46(0x317)],_0x46296e=Math['atan2'](_0x35f208[_0x419e46(0x347)][0x1],_0x35f208[_0x419e46(0x347)][0x0]),_0x239508=Math[_0x419e46(0x451)](this['y']-_0x35f208['y'],this['x']-_0x35f208['x']),_0x4b1094=_0x46296e-_0x239508;while(_0x4b1094>Math['PI'])_0x4b1094-=0x2*Math['PI'];while(_0x4b1094<-Math['PI'])_0x4b1094+=0x2*Math['PI'];_0x4b1094=Math['abs'](_0x4b1094);var _0x14c177=0x28+(0x50-0x28)*(_0x4b1094/Math['PI']);return Math[_0x419e46(0x31d)](_0x14c177*0x64)/0x64;},this[_0x1c21b1(0x4bd)]=_0x5733cd=>{var _0x31e2e8=_0x1c21b1;if(!_0x5733cd||!_0x5733cd['block'])return![];var _0x22edfa=undefined,_0x34d2ea=[];if(this['weapon']){if(this[_0x31e2e8(0x3db)]<this[_0x31e2e8(0x339)][_0x31e2e8(0x3cf)])return![];world[_0x31e2e8(0x216)]['MessageSystem'][_0x31e2e8(0x363)]({'type':this['team'],'txt':this[_0x31e2e8(0x1d5)]+_0x31e2e8(0x470)+this[_0x31e2e8(0x339)][_0x31e2e8(0x1d5)]});for(var _0x3be176 in this[_0x31e2e8(0x339)][_0x31e2e8(0x1e7)]){var _0x63ec69=this[_0x31e2e8(0x339)]['zoneTarget'][_0x3be176],_0x3d3ba8={..._0x5733cd};_0x3d3ba8[_0x31e2e8(0x1fb)]=_0x63ec69[_0x31e2e8(0x25a)];var _0x222e75=this[_0x63ec69[_0x31e2e8(0x5a1)]](_0x3d3ba8);console[_0x31e2e8(0x292)](_0x31e2e8(0x519)+_0x3be176),console['log'](_0x31e2e8(0x4b3)+_0x63ec69[_0x31e2e8(0x5a1)]);if(!_0x222e75||_0x222e75['length']<0x1)continue;console[_0x31e2e8(0x292)](_0x31e2e8(0x244)+_0x222e75['length']),_0x34d2ea[_0x31e2e8(0x417)]({'blocks':_0x222e75,'damage':_0x63ec69[_0x31e2e8(0x3f7)]});}}else{if(this[_0x31e2e8(0x3db)]<AP_COST_NOWEAPON)return![];world[_0x31e2e8(0x216)][_0x31e2e8(0x327)][_0x31e2e8(0x363)]({'type':this[_0x31e2e8(0x51b)],'txt':this[_0x31e2e8(0x1d5)]+_0x31e2e8(0x45f)}),_0x34d2ea=[{'blocks':[_0x5733cd[_0x31e2e8(0x368)]],'damage':[{'stats':_0x31e2e8(0x383),'type':_0x31e2e8(0x55b),'value':0x1}]}];}for(var _0x3be176 in _0x34d2ea){var _0x5e8632=_0x34d2ea[_0x3be176],_0x4b2dc1=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x5e8632['damage']}),_0x48a4cf=!![];if(!_0x4b2dc1||_0x4b2dc1[_0x31e2e8(0x2d1)]<0x1)continue;for(var _0x1b267d in _0x5e8632['blocks']){var _0x3d4c67=_0x5e8632[_0x31e2e8(0x399)][_0x1b267d];if(!_0x3d4c67||!_0x3d4c67[_0x31e2e8(0x317)])continue;var _0x260d36=this[_0x31e2e8(0x543)]({'block':_0x3d4c67}),_0x26cefd=!![];if(Math[_0x31e2e8(0x31d)](Math[_0x31e2e8(0x349)]()*0x64)>_0x260d36)_0x26cefd=![];if(_0x26cefd)_0x48a4cf=![],_0x3d4c67[_0x31e2e8(0x317)][_0x31e2e8(0x252)](_0x4b2dc1);else{world[_0x31e2e8(0x216)]['MessageSystem'][_0x31e2e8(0x363)]({'txt':this[_0x31e2e8(0x1d5)]+_0x31e2e8(0x2f6)+_0x260d36+'%)'});var _0x253f32={'type':_0x31e2e8(0x25e),'mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x31e2e8(0x349)]()*0x2*Math['PI']};_0x3d4c67[_0x31e2e8(0x317)][_0x31e2e8(0x1d1)][_0x31e2e8(0x417)](_0x253f32);}}}var _0xcb7c2f={'type':_0x31e2e8(0x4bd),'mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0x5733cd[_0x31e2e8(0x368)]['x'],_0x5733cd[_0x31e2e8(0x368)]['y']],'from':[this['x'],this['y']],'duration':0x1f4};this[_0x31e2e8(0x339)]&&this['weapon'][_0x31e2e8(0x4bf)]&&(_0xcb7c2f[_0x31e2e8(0x4bf)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0x5733cd[_0x31e2e8(0x368)]['x']+0.5,'y':_0x5733cd['block']['y']+0.5},'projectilName':this[_0x31e2e8(0x339)]['projectil'][_0x31e2e8(0x4c8)]?this[_0x31e2e8(0x339)]['projectil'][_0x31e2e8(0x4c8)]:undefined,'projectilSpeed':this['weapon'][_0x31e2e8(0x4bf)][_0x31e2e8(0x37a)]?this[_0x31e2e8(0x339)]['projectil'][_0x31e2e8(0x37a)]:0x32,'sound':this['weapon'][_0x31e2e8(0x4bf)][_0x31e2e8(0x488)]&&!_0x48a4cf?this[_0x31e2e8(0x339)][_0x31e2e8(0x4bf)][_0x31e2e8(0x488)]:undefined});this[_0x31e2e8(0x1d1)][_0x31e2e8(0x417)](_0xcb7c2f);if(this['weapon']){var _0x336261=PLAYER_WEAPON_IMG[_0x31e2e8(0x26d)](_0x2309a2=>_0x2309a2[_0x31e2e8(0x1d5)]==this[_0x31e2e8(0x339)][_0x31e2e8(0x3fa)]);world[_0x31e2e8(0x4ee)]['playSound'](_0x336261[_0x31e2e8(0x488)]),this[_0x31e2e8(0x3db)]-=this[_0x31e2e8(0x339)][_0x31e2e8(0x3cf)];}else world[_0x31e2e8(0x4ee)][_0x31e2e8(0x35b)]('hand\x20hit'),this['ActionPoint']-=AP_COST_NOWEAPON;return this[_0x31e2e8(0x347)]=this[_0x31e2e8(0x1d7)](_0x5733cd[_0x31e2e8(0x368)]),!![];},this[_0x1c21b1(0x287)]=(_0x308ded,_0x55a14c,_0x872574,_0x2ac10d)=>{var _0x83584e=_0x1c21b1,_0x2689e2=new Date()[_0x83584e(0x1c9)]();while(this[_0x83584e(0x1d1)]&&this['animation'][0x0]){!this[_0x83584e(0x1d1)][0x0]['startTime']&&(this[_0x83584e(0x1d1)][0x0][_0x83584e(0x478)]=new Date()[_0x83584e(0x1c9)]());if(_0x2689e2>this[_0x83584e(0x1d1)][0x0][_0x83584e(0x478)]+this[_0x83584e(0x1d1)][0x0][_0x83584e(0x3ba)]){if(this['animation'][0x0][_0x83584e(0x4bf)])world[_0x83584e(0x216)][_0x83584e(0x319)](this[_0x83584e(0x1d1)][0x0]['projectil']);this['animation'][_0x83584e(0x41a)](),this[_0x83584e(0x228)]=!![];}else break;}if(!this['bodyPartImgReady']||!this[_0x83584e(0x486)])return![];if(this['weapon']){var _0x44f680=world[_0x83584e(0x3d1)][this[_0x83584e(0x339)][_0x83584e(0x1d5)]],_0x5c75d2=PLAYER_WEAPON_IMG['find'](_0x481dec=>_0x481dec['name']==this[_0x83584e(0x339)][_0x83584e(0x3fa)]);if(!_0x44f680||!_0x5c75d2)return console[_0x83584e(0x292)]('can\x27t\x20display\x20weapon\x20:\x20'+this['weapon']['name']);_0x5c75d2=_0x5c75d2[_0x83584e(0x260)];}if(!this[_0x83584e(0x1d1)]||!this['animation'][0x0]){var _0x119839=Math['floor'](_0x55a14c+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x2c1)]/0x2),_0x59d49c=Math['floor'](_0x872574+this['size']*_0x2ac10d['blocksize_y']/0x2),_0x44f819=Math[_0x83584e(0x451)](this[_0x83584e(0x347)][0x0],-this[_0x83584e(0x347)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x83584e(0x273)](_0x2689e2/0x1f4));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x486)],_0x119839,_0x59d49c,_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)],_0x44f819);var _0x409427=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math['cos'](_0x2689e2/0x12c)),_0x293c75=Math[_0x83584e(0x31d)](0x64*_0x2ac10d['scale']*this['size']*Math['cos'](_0x409427+_0x44f819-Math['PI']/0x2)),_0x5157a6=Math[_0x83584e(0x31d)](0x64*_0x2ac10d['scale']*this['size']*Math[_0x83584e(0x4c6)](_0x409427+_0x44f819-Math['PI']/0x2)),_0x348dee=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this['size']*Math[_0x83584e(0x273)](-_0x409427+_0x44f819+Math['PI']/0x2)),_0x3f4e98=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](-_0x409427+_0x44f819+Math['PI']/0x2));_0x308ded['drawImageRotate'](this[_0x83584e(0x5a5)],_0x119839+_0x293c75,_0x59d49c+_0x5157a6,_0x2ac10d['scale'],_0x409427+_0x44f819);if(this[_0x83584e(0x339)])_0x308ded[_0x83584e(0x431)](_0x44f680[_0x83584e(0x3fa)],_0x119839+_0x348dee,_0x59d49c+_0x3f4e98,_0x5c75d2['x'],_0x5c75d2['y'],_0x2ac10d['scale'],-_0x409427+_0x44f819);_0x308ded['drawImageMirrorRotateCenter'](this[_0x83584e(0x5a5)],_0x119839+_0x348dee,_0x59d49c+_0x3f4e98,0x14,0x14,-_0x2ac10d['scale'],+_0x409427-_0x44f819);}else{if(this['animation']&&this[_0x83584e(0x1d1)][0x0]&&this[_0x83584e(0x1d1)][0x0][_0x83584e(0x35d)]==PLAYER_ANIMATION_MOVING){var _0x59bdd0=this['animation'][0x0];pos=_0x2ac10d[_0x83584e(0x53c)](_0x59bdd0[_0x83584e(0x410)][0x0]+_0x59bdd0[_0x83584e(0x347)][0x0],_0x59bdd0['from'][0x1]+_0x59bdd0[_0x83584e(0x347)][0x1]);var _0x119839=Math[_0x83584e(0x31d)](pos['x']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x2c1)]/0x2),_0x59d49c=Math[_0x83584e(0x31d)](pos['y']+this[_0x83584e(0x249)]*_0x2ac10d['blocksize_y']/0x2);world['Music'][_0x83584e(0x35b)]('move');var _0x106bbf=[this['animation'][0x0][_0x83584e(0x347)][0x0],this['animation'][0x0][_0x83584e(0x347)][0x1]],_0x3b4788=0x1-(_0x2689e2-this[_0x83584e(0x1d1)][0x0][_0x83584e(0x478)])/this[_0x83584e(0x1d1)][0x0][_0x83584e(0x3ba)];_0x119839-=_0x106bbf[0x0]*_0x2ac10d[_0x83584e(0x2c1)]*_0x3b4788,_0x59d49c-=_0x106bbf[0x1]*_0x2ac10d[_0x83584e(0x51d)]*_0x3b4788;var _0x44f819=Math['atan2'](_0x106bbf[0x0],-_0x106bbf[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math['cos'](_0x2689e2/0x64));_0x308ded['drawImageRotate'](this[_0x83584e(0x486)],_0x119839,_0x59d49c,_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)],_0x44f819);var _0xd344cb=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x83584e(0x273)](_0x2689e2/0x64))+_0x44f819,_0x5f1929=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math['sin'](_0x2689e2/0x64))-_0x44f819,_0x293c75=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this['size']*Math[_0x83584e(0x273)](_0xd344cb-Math['PI']/0x2)),_0x5157a6=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0xd344cb-Math['PI']/0x2)),_0x26effa=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0x5f1929-Math['PI']/0x2)),_0x65de95=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this['size']*Math['sin'](_0x5f1929-Math['PI']/0x2));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x5a5)],_0x119839+_0x293c75,_0x59d49c+_0x5157a6,_0x2ac10d[_0x83584e(0x563)],_0xd344cb);if(this['weapon'])_0x308ded[_0x83584e(0x431)](_0x44f680[_0x83584e(0x3fa)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,_0x5c75d2['x'],_0x5c75d2['y'],_0x2ac10d['scale'],-_0x5f1929);_0x308ded[_0x83584e(0x555)](this[_0x83584e(0x5a5)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,0x14,0x14,_0x2ac10d['scale'],_0x5f1929+Math['PI']);}else{if(this[_0x83584e(0x1d1)]&&this[_0x83584e(0x1d1)][0x0]&&this[_0x83584e(0x1d1)][0x0]['mode']==PLAYER_ANIMATION_DODGE){var _0x59bdd0=this['animation'][0x0],_0x3b4788=0x1-(_0x2689e2-_0x59bdd0[_0x83584e(0x478)])/_0x59bdd0[_0x83584e(0x3ba)];_0x3b4788=_0x3b4788<0.5?0x0:_0x3b4788>0.75?0x1-(_0x3b4788-0.5)*0x2:(_0x3b4788-0.5)*0x2;var _0x3f6df1=_0x3b4788*Math[_0x83584e(0x273)](_0x59bdd0[_0x83584e(0x2d2)])*0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)],_0xbc35e=_0x3b4788*Math['sin'](_0x59bdd0[_0x83584e(0x2d2)])*0x64*_0x2ac10d['scale']*this['size'],_0x119839=_0x3f6df1+Math[_0x83584e(0x31d)](_0x55a14c+this['size']*_0x2ac10d[_0x83584e(0x2c1)]/0x2),_0x59d49c=_0xbc35e+Math['floor'](_0x872574+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x51d)]/0x2),_0x44f819=Math[_0x83584e(0x451)](this['dir'][0x0],-this[_0x83584e(0x347)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x83584e(0x273)](_0x2689e2/0x1f4));_0x308ded['drawImageRotate'](this[_0x83584e(0x486)],_0x119839,_0x59d49c,_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)],_0x44f819);var _0x409427=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x83584e(0x273)](_0x2689e2/0x12c)),_0x293c75=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0x409427+_0x44f819-Math['PI']/0x2)),_0x5157a6=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0x409427+_0x44f819-Math['PI']/0x2)),_0x348dee=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](-_0x409427+_0x44f819+Math['PI']/0x2)),_0x3f4e98=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](-_0x409427+_0x44f819+Math['PI']/0x2));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x5a5)],_0x119839+_0x293c75,_0x59d49c+_0x5157a6,_0x2ac10d['scale'],_0x409427+_0x44f819);if(this[_0x83584e(0x339)])_0x308ded[_0x83584e(0x431)](_0x44f680[_0x83584e(0x3fa)],_0x119839+_0x348dee,_0x59d49c+_0x3f4e98,_0x5c75d2['x'],_0x5c75d2['y'],_0x2ac10d['scale'],-_0x409427+_0x44f819);_0x308ded[_0x83584e(0x555)](this['handImg'],_0x119839+_0x348dee,_0x59d49c+_0x3f4e98,0x14,0x14,-_0x2ac10d[_0x83584e(0x563)],+_0x409427-_0x44f819);}else{if(this[_0x83584e(0x1d1)]&&this['animation'][0x0]&&this[_0x83584e(0x1d1)][0x0][_0x83584e(0x35d)]==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this[_0x83584e(0x339)]){pos=_0x2ac10d['get_pixel_by_block'](this['animation'][0x0]['from'][0x0],this['animation'][0x0]['from'][0x1]);var _0x119839=Math[_0x83584e(0x31d)](pos['x']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x2c1)]/0x2),_0x59d49c=Math[_0x83584e(0x31d)](pos['y']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x51d)]/0x2),_0x106bbf=[this[_0x83584e(0x1d1)][0x0][_0x83584e(0x347)][0x0]-(this['x']+this['size']/0x2)+0.5,this['animation'][0x0][_0x83584e(0x347)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x3b4788=0x1-(_0x2689e2-this[_0x83584e(0x1d1)][0x0][_0x83584e(0x478)])/this['animation'][0x0][_0x83584e(0x3ba)];if(_0x3b4788>0.5)_0x3b4788=0x1-_0x3b4788;_0x119839+=_0x106bbf[0x0]*_0x2ac10d[_0x83584e(0x2c1)]*_0x3b4788,_0x59d49c+=_0x106bbf[0x1]*_0x2ac10d['blocksize_y']*_0x3b4788;var _0x44f819=Math[_0x83584e(0x451)](_0x106bbf[0x0],-_0x106bbf[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x83584e(0x273)](_0x2689e2/0x64));_0x308ded['drawImageRotate'](this[_0x83584e(0x486)],_0x119839,_0x59d49c,_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)],_0x44f819);var _0xd344cb=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x83584e(0x273)](_0x2689e2/0x64))+_0x44f819,_0x5f1929=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x83584e(0x4c6)](_0x2689e2/0x64))-_0x44f819,_0x293c75=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0xd344cb-Math['PI']/0x2)),_0x5157a6=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this['size']*Math[_0x83584e(0x4c6)](_0xd344cb-Math['PI']/0x2)),_0x26effa=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this['size']*Math['cos'](_0x5f1929-Math['PI']/0x2)),_0x65de95=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0x5f1929-Math['PI']/0x2));_0x308ded[_0x83584e(0x48a)](this['handImg'],_0x119839+_0x293c75,_0x59d49c+_0x5157a6,_0x2ac10d[_0x83584e(0x563)],_0xd344cb),_0x308ded[_0x83584e(0x555)](this['handImg'],_0x119839+_0x26effa,_0x59d49c-_0x65de95,0x14,0x14,_0x2ac10d[_0x83584e(0x563)],_0x5f1929+Math['PI']);}else{if(this['weapon'][_0x83584e(0x557)]==_0x83584e(0x4f5)){pos=_0x2ac10d['get_pixel_by_block'](this[_0x83584e(0x1d1)][0x0]['from'][0x0],this[_0x83584e(0x1d1)][0x0][_0x83584e(0x410)][0x1]);var _0x119839=Math[_0x83584e(0x31d)](pos['x']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x2c1)]/0x2),_0x59d49c=Math[_0x83584e(0x31d)](pos['y']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x51d)]/0x2),_0x106bbf=[this['animation'][0x0]['dir'][0x0]-(this['x']+this[_0x83584e(0x249)]/0x2)+0.5,this[_0x83584e(0x1d1)][0x0]['dir'][0x1]-(this['y']+this[_0x83584e(0x249)]/0x2)+0.5],_0x3b4788=0x1-(_0x2689e2-this['animation'][0x0][_0x83584e(0x478)])/this[_0x83584e(0x1d1)][0x0][_0x83584e(0x3ba)];if(_0x3b4788>0.5)_0x3b4788=0x1-_0x3b4788;_0x119839+=_0x106bbf[0x0]*_0x2ac10d['blocksize_x']*_0x3b4788,_0x59d49c+=_0x106bbf[0x1]*_0x2ac10d[_0x83584e(0x51d)]*_0x3b4788;var _0x44f819=Math['atan2'](_0x106bbf[0x0],-_0x106bbf[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math['cos'](_0x2689e2/0x64));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x486)],_0x119839,_0x59d49c,_0x2ac10d['scale']*this[_0x83584e(0x249)],_0x44f819);var _0xd344cb=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x83584e(0x273)](_0x2689e2/0x64))+_0x44f819,_0x5f1929=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x83584e(0x4c6)](_0x2689e2/0x64))-_0x44f819,_0x293c75=Math[_0x83584e(0x31d)](0x64*_0x2ac10d['scale']*this[_0x83584e(0x249)]*Math['cos'](_0xd344cb-Math['PI']/0x2)),_0x5157a6=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0xd344cb-Math['PI']/0x2)),_0x26effa=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0x5f1929-Math['PI']/0x2)),_0x65de95=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0x5f1929-Math['PI']/0x2));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x5a5)],_0x119839+_0x293c75,_0x59d49c+_0x5157a6,_0x2ac10d['scale'],_0xd344cb);if(this['weapon'])_0x308ded['drawImageRotateCenter'](_0x44f680[_0x83584e(0x3fa)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,_0x5c75d2['x'],_0x5c75d2['y'],_0x2ac10d[_0x83584e(0x563)],-_0x5f1929);_0x308ded[_0x83584e(0x555)](this[_0x83584e(0x5a5)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,0x14,0x14,_0x2ac10d[_0x83584e(0x563)],_0x5f1929+Math['PI']);}else{if(this[_0x83584e(0x339)][_0x83584e(0x557)]==_0x83584e(0x20b)){pos=_0x2ac10d[_0x83584e(0x53c)](this[_0x83584e(0x1d1)][0x0][_0x83584e(0x410)][0x0],this[_0x83584e(0x1d1)][0x0][_0x83584e(0x410)][0x1]);var _0x119839=Math[_0x83584e(0x31d)](pos['x']+this[_0x83584e(0x249)]*_0x2ac10d['blocksize_x']/0x2),_0x59d49c=Math[_0x83584e(0x31d)](pos['y']+this['size']*_0x2ac10d[_0x83584e(0x51d)]/0x2),_0x106bbf=[this[_0x83584e(0x1d1)][0x0][_0x83584e(0x347)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x83584e(0x1d1)][0x0][_0x83584e(0x347)][0x1]-(this['y']+this[_0x83584e(0x249)]/0x2)+0.5],_0x3b4788=0x1-(_0x2689e2-this[_0x83584e(0x1d1)][0x0]['startTime'])/this[_0x83584e(0x1d1)][0x0]['duration'];if(_0x3b4788>0.5)_0x3b4788=0x1-_0x3b4788;var _0x44f819=Math[_0x83584e(0x451)](_0x106bbf[0x0],-_0x106bbf[0x1])-Math['PI']/0x2;_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x486)],_0x119839,_0x59d49c,_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)],_0x44f819);var _0xd344cb=Math['PI']*0x7/0x10+_0x44f819,_0x5f1929=Math['PI']*0x7/0x10-_0x44f819,_0x293c75=Math[_0x83584e(0x31d)](0x64*(0x1-_0x3b4788)*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0xd344cb-Math['PI']/0x2)),_0x5157a6=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0xd344cb-Math['PI']/0x2)),_0x26effa=Math['floor'](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0x5f1929-Math['PI']/0x2)),_0x65de95=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0x5f1929-Math['PI']/0x2));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x5a5)],_0x119839+_0x293c75,_0x59d49c+_0x5157a6,_0x2ac10d[_0x83584e(0x563)],_0xd344cb);if(this[_0x83584e(0x339)])_0x308ded['drawImageRotateCenter'](_0x44f680[_0x83584e(0x3fa)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,_0x5c75d2['x'],_0x5c75d2['y'],_0x2ac10d[_0x83584e(0x563)],-_0x5f1929);_0x308ded[_0x83584e(0x555)](this['handImg'],_0x119839+_0x26effa,_0x59d49c-_0x65de95,0x14,0x14,_0x2ac10d['scale'],_0x5f1929+Math['PI']);}else{if(this[_0x83584e(0x339)][_0x83584e(0x557)]==_0x83584e(0x1cd)){pos=_0x2ac10d[_0x83584e(0x53c)](this[_0x83584e(0x1d1)][0x0]['from'][0x0],this[_0x83584e(0x1d1)][0x0][_0x83584e(0x410)][0x1]);var _0x119839=Math['floor'](pos['x']+this['size']*_0x2ac10d['blocksize_x']/0x2),_0x59d49c=Math[_0x83584e(0x31d)](pos['y']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x51d)]/0x2),_0x106bbf=[this[_0x83584e(0x1d1)][0x0][_0x83584e(0x347)][0x0]-(this['x']+this[_0x83584e(0x249)]/0x2)+0.5,this[_0x83584e(0x1d1)][0x0][_0x83584e(0x347)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x3b4788=0x1-(_0x2689e2-this['animation'][0x0][_0x83584e(0x478)])/this[_0x83584e(0x1d1)][0x0]['duration'];if(_0x3b4788>0.5)_0x3b4788=0x1-_0x3b4788;_0x3b4788=_0x3b4788/0x3,_0x119839+=_0x106bbf[0x0]*_0x2ac10d['blocksize_x']*_0x3b4788,_0x59d49c+=_0x106bbf[0x1]*_0x2ac10d[_0x83584e(0x51d)]*_0x3b4788;var _0x44f819=Math['atan2'](_0x106bbf[0x0],-_0x106bbf[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x83584e(0x273)](_0x2689e2/0x64));_0x308ded[_0x83584e(0x48a)](this['bodyPartImg'],_0x119839,_0x59d49c,_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)],_0x44f819);var _0xd344cb=getAngleFromTime(0x0,Math['PI']/0x40,Math[_0x83584e(0x273)](_0x2689e2/0x64))+_0x44f819,_0x5f1929=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math[_0x83584e(0x4c6)]((_0x2689e2-this[_0x83584e(0x1d1)][0x0][_0x83584e(0x478)])/this[_0x83584e(0x1d1)][0x0][_0x83584e(0x3ba)]*1.1*Math['PI']))-_0x44f819,_0x293c75=Math[_0x83584e(0x31d)](0x64*_0x2ac10d['scale']*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0xd344cb-Math['PI']/0x2)),_0x5157a6=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0xd344cb-Math['PI']/0x2)),_0x26effa=Math[_0x83584e(0x31d)](0x64*_0x2ac10d['scale']*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0x5f1929-Math['PI']/0x2)),_0x65de95=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this['size']*Math[_0x83584e(0x4c6)](_0x5f1929-Math['PI']/0x2));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x5a5)],_0x119839+_0x293c75,_0x59d49c+_0x5157a6,_0x2ac10d[_0x83584e(0x563)],_0xd344cb);if(this[_0x83584e(0x339)])_0x308ded[_0x83584e(0x431)](_0x44f680[_0x83584e(0x3fa)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,_0x5c75d2['x'],_0x5c75d2['y'],_0x2ac10d['scale'],_0x44f819-Math['PI']/0x6);_0x308ded['drawImageMirrorRotateCenter'](this[_0x83584e(0x5a5)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,0x14,0x14,_0x2ac10d[_0x83584e(0x563)],_0x5f1929+Math['PI']);}else{if(this[_0x83584e(0x339)][_0x83584e(0x557)]==_0x83584e(0x1f6)){pos=_0x2ac10d[_0x83584e(0x53c)](this[_0x83584e(0x1d1)][0x0][_0x83584e(0x410)][0x0],this['animation'][0x0][_0x83584e(0x410)][0x1]);var _0x119839=Math[_0x83584e(0x31d)](pos['x']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x2c1)]/0x2),_0x59d49c=Math[_0x83584e(0x31d)](pos['y']+this[_0x83584e(0x249)]*_0x2ac10d[_0x83584e(0x51d)]/0x2),_0x106bbf=[this[_0x83584e(0x1d1)][0x0]['dir'][0x0]-(this['x']+this[_0x83584e(0x249)]/0x2)+0.5,this[_0x83584e(0x1d1)][0x0][_0x83584e(0x347)][0x1]-(this['y']+this[_0x83584e(0x249)]/0x2)+0.5],_0x3b4788=0x1-(_0x2689e2-this[_0x83584e(0x1d1)][0x0][_0x83584e(0x478)])/this[_0x83584e(0x1d1)][0x0]['duration'];if(_0x3b4788>0.5)_0x3b4788=0x1-_0x3b4788;_0x3b4788=_0x3b4788/0x3,_0x119839+=_0x106bbf[0x0]*_0x2ac10d[_0x83584e(0x2c1)]*_0x3b4788,_0x59d49c+=_0x106bbf[0x1]*_0x2ac10d[_0x83584e(0x51d)]*_0x3b4788;var _0x44f819=Math[_0x83584e(0x451)](_0x106bbf[0x0],-_0x106bbf[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math[_0x83584e(0x273)]((_0x2689e2-this['animation'][0x0][_0x83584e(0x478)])/this[_0x83584e(0x1d1)][0x0][_0x83584e(0x3ba)]*0x1*Math['PI']));_0x308ded[_0x83584e(0x48a)](this[_0x83584e(0x486)],_0x119839,_0x59d49c,_0x2ac10d[_0x83584e(0x563)]*this['size'],_0x44f819);var _0x5f1929=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math['cos']((_0x2689e2-this['animation'][0x0][_0x83584e(0x478)])/this[_0x83584e(0x1d1)][0x0][_0x83584e(0x3ba)]*0x1*Math['PI']))-_0x44f819,_0xd344cb=_0x5f1929-Math['PI']/0x20,_0x293c75=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0xd344cb-Math['PI']/0x2)),_0x5157a6=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this['size']*Math[_0x83584e(0x4c6)](_0xd344cb-Math['PI']/0x2)),_0x26effa=Math[_0x83584e(0x31d)](0x64*_0x2ac10d[_0x83584e(0x563)]*this[_0x83584e(0x249)]*Math[_0x83584e(0x273)](_0x5f1929-Math['PI']/0x2)),_0x65de95=Math[_0x83584e(0x31d)](0x64*_0x2ac10d['scale']*this[_0x83584e(0x249)]*Math[_0x83584e(0x4c6)](_0x5f1929-Math['PI']/0x2));_0x308ded[_0x83584e(0x555)](this[_0x83584e(0x5a5)],_0x119839+_0x293c75,_0x59d49c-_0x5157a6,0x14,0x14,_0x2ac10d[_0x83584e(0x563)],_0xd344cb+Math['PI']);if(this[_0x83584e(0x339)])_0x308ded[_0x83584e(0x431)](_0x44f680[_0x83584e(0x3fa)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,_0x5c75d2['x'],_0x5c75d2['y'],_0x2ac10d[_0x83584e(0x563)],-_0x5f1929);_0x308ded[_0x83584e(0x555)](this[_0x83584e(0x5a5)],_0x119839+_0x26effa,_0x59d49c-_0x65de95,0x14,0x14,_0x2ac10d[_0x83584e(0x563)],_0x5f1929+Math['PI']);}}}}}}}}}},this['get_next_path']=(_0x2c46a6,_0x27197f)=>{var _0x15f4b6=_0x1c21b1;if(!_0x2c46a6||!_0x27197f||_0x2c46a6['length']>0xc8)return undefined;var _0x1d0328=_0x2c46a6[_0x2c46a6[_0x15f4b6(0x2d1)]-0x1];console[_0x15f4b6(0x292)](_0x15f4b6(0x2fe)+[_0x1d0328['x'],_0x1d0328['y']]);if(_0x1d0328['x']==_0x27197f['x']&&_0x1d0328['y']==_0x27197f['y'])return _0x2c46a6;var _0x4dcd93=[{'x':_0x1d0328['x']+0x1,'y':_0x1d0328['y']},{'x':_0x1d0328['x']-0x1,'y':_0x1d0328['y']},{'x':_0x1d0328['x'],'y':_0x1d0328['y']-0x1},{'x':_0x1d0328['x'],'y':_0x1d0328['y']+0x1}];_0x4dcd93=_0x4dcd93[_0x15f4b6(0x2e8)]((_0x515709,_0x1cc6c9)=>{return dist(_0x515709['x'],_0x515709['y'],_0x27197f['x'],_0x27197f['y'])-dist(_0x1cc6c9['x'],_0x1cc6c9['y'],_0x27197f['x'],_0x27197f['y']);});for(var _0x153163 in _0x4dcd93){var _0x544e80=_0x4dcd93[_0x153163]['x'],_0x476101=_0x4dcd93[_0x153163]['y'];console[_0x15f4b6(0x292)](_0x15f4b6(0x4b9)+[_0x544e80,_0x476101]+'?');var _0x14a59b=![];for(var _0xb46c97 in _0x2c46a6)if(_0x2c46a6[_0xb46c97]['x']==_0x544e80&&_0x2c46a6[_0xb46c97]['y']==_0x476101)_0x14a59b=!![];if(_0x14a59b)continue;if(!world[_0x15f4b6(0x4a4)]['mapBlock'][_0x544e80]||!world[_0x15f4b6(0x4a4)][_0x15f4b6(0x2bd)][_0x544e80][_0x476101])continue;var _0x140067=world[_0x15f4b6(0x4a4)][_0x15f4b6(0x2bd)][_0x544e80][_0x476101];if(_0x140067[_0x15f4b6(0x317)]&&!(_0x27197f['x']==_0x140067['x']&&_0x27197f['y']==_0x140067['y'])||!_0x140067[_0x15f4b6(0x594)]())continue;console['log'](_0x15f4b6(0x43a));var _0x59f843=this['get_next_path'](_0x2c46a6[_0x15f4b6(0x59d)]([_0x4dcd93[_0x153163]]),_0x27197f);if(_0x59f843)return _0x59f843;}return console['log'](_0x15f4b6(0x4fa)),undefined;},this[_0x1c21b1(0x371)]=()=>{var _0x2d0172=_0x1c21b1;console['log'](this[_0x2d0172(0x1d5)]+_0x2d0172(0x44f));var _0x460fe3=this[_0x2d0172(0x3a4)][_0x2d0172(0x26d)](_0x11e64b=>_0x11e64b[_0x2d0172(0x1d5)]==_0x2d0172(0x4f4)),_0x11cc34=_0x460fe3[_0x2d0172(0x353)](_0x460fe3[_0x2d0172(0x289)]);_0x11cc34=_0x11cc34[_0x2d0172(0x26d)](_0x15472a=>_0x15472a[_0x2d0172(0x317)]&&_0x15472a['player'][_0x2d0172(0x51b)]!=this[_0x2d0172(0x51b)]);if(this[_0x2d0172(0x4bd)]({'block':_0x11cc34}))return![];var _0x463ec4=world[_0x2d0172(0x216)][_0x2d0172(0x41b)][_0x2d0172(0x36b)](_0x540eee=>_0x540eee[_0x2d0172(0x51b)]!=this['team']);if(!_0x463ec4||_0x463ec4[_0x2d0172(0x2d1)]<0x1)return!![];var _0x3d45bd=_0x463ec4[_0x2d0172(0x2e8)]((_0x3115d7,_0x2a54fb)=>{return dist(this['x'],this['y'],_0x3115d7['x'],_0x3115d7['y'])-dist(this['x'],this['y'],_0x2a54fb['x'],_0x2a54fb['y']);})[0x0];if(!this['AI'][_0x2d0172(0x3ab)]||this['AI'][_0x2d0172(0x3ab)]['length']<0xa||dist(this['x'],this['y'],_0x3d45bd['x'],_0x3d45bd['y'])<0x5)this['AI'][_0x2d0172(0x3ab)]=this[_0x2d0172(0x3f9)]([{'x':this['x'],'y':this['y']}],_0x3d45bd);var _0x2b1a3d=this['AI'][_0x2d0172(0x3ab)];if(_0x2b1a3d&&_0x2b1a3d['length']>0x1)_0x2b1a3d=_0x2b1a3d[0x1];if(this[_0x2d0172(0x4ed)]({'block':world[_0x2d0172(0x4a4)][_0x2d0172(0x2bd)][_0x2b1a3d['x']][_0x2b1a3d['y']]}))return this['AI'][_0x2d0172(0x3ab)][_0x2d0172(0x41a)](),![];return!![];};},PLAYER_FACE_IMG=[_0x110ced(0x2ea),_0x110ced(0x280),_0x110ced(0x426),_0x110ced(0x4d8),'face_4'],PLAYER_BODY_IMG=[_0x110ced(0x515),_0x110ced(0x1e5),'body_2','body_3',_0x110ced(0x38d)],PROJECTIL_IMG=['wood_arrow'],PlayersManager=function(_0x4db55b){var _0x1618ed=_0x110ced;this[_0x1618ed(0x41b)]=[],this[_0x1618ed(0x3d1)]=undefined,this[_0x1618ed(0x21e)]=![],this[_0x1618ed(0x387)]=undefined,this[_0x1618ed(0x553)]=world[_0x1618ed(0x1fc)][_0x1618ed(0x277)]['players'],this[_0x1618ed(0x1c4)]=world[_0x1618ed(0x1fc)][_0x1618ed(0x277)][_0x1618ed(0x216)],this[_0x1618ed(0x214)]=!![],this[_0x1618ed(0x327)]=new MessageSystem(),this[_0x1618ed(0x2cb)]=[],this[_0x1618ed(0x319)]=_0x4a6d6e=>{var _0xc0a5e4=_0x1618ed;if(!_0x4a6d6e||!_0x4a6d6e[_0xc0a5e4(0x30d)]||!_0x4a6d6e[_0xc0a5e4(0x3c8)]||!_0x4a6d6e['projectilName']||!_0x4a6d6e[_0xc0a5e4(0x37a)])return;var _0x83a2e3=_0x4a6d6e[_0xc0a5e4(0x30d)],_0x40117f=_0x4a6d6e[_0xc0a5e4(0x3c8)];this[_0xc0a5e4(0x2cb)][_0xc0a5e4(0x417)]({'posA':_0x83a2e3,'posB':_0x40117f,'angle':Math[_0xc0a5e4(0x451)](_0x40117f['y']-_0x83a2e3['y'],_0x40117f['x']-_0x83a2e3['x']),'name':_0x4a6d6e['projectilName'],'duration':_0x4a6d6e[_0xc0a5e4(0x37a)]?_0x4a6d6e[_0xc0a5e4(0x37a)]*dist(_0x83a2e3['x'],_0x83a2e3['y'],_0x40117f['x'],_0x40117f['y']):0x64});if(_0x4a6d6e[_0xc0a5e4(0x488)])world[_0xc0a5e4(0x4ee)][_0xc0a5e4(0x35b)](_0x4a6d6e[_0xc0a5e4(0x488)]);},this[_0x1618ed(0x1cb)]=()=>{var _0x4c8cfe=_0x1618ed,_0x3892b5=new Date()[_0x4c8cfe(0x1c9)]();for(var _0x541722 in this[_0x4c8cfe(0x2cb)]){if(this[_0x4c8cfe(0x2cb)][_0x541722][_0x4c8cfe(0x478)]&&_0x3892b5-this[_0x4c8cfe(0x2cb)][_0x541722][_0x4c8cfe(0x478)]>this['projectilAnimation'][_0x541722][_0x4c8cfe(0x3ba)])this['projectilAnimation'][_0x4c8cfe(0x591)](_0x541722,0x1);else{if(!this[_0x4c8cfe(0x2cb)][_0x541722][_0x4c8cfe(0x478)])this[_0x4c8cfe(0x2cb)][_0x541722][_0x4c8cfe(0x478)]=_0x3892b5;}}var _0xf0df27=world[_0x4c8cfe(0x4a4)],_0x1178a=this[_0x4c8cfe(0x1c4)];for(var _0x541722 in this['projectilAnimation']){var _0x316a71=this[_0x4c8cfe(0x2cb)][_0x541722],_0x1118aa=(_0x3892b5-_0x316a71['startTime'])/_0x316a71['duration'],_0xf18ce1=_0x1118aa>0.5?0x1-_0x1118aa:_0x1118aa,_0x4d6963=_0x316a71[_0x4c8cfe(0x30d)]['x']+_0x1118aa*(_0x316a71[_0x4c8cfe(0x3c8)]['x']-_0x316a71[_0x4c8cfe(0x30d)]['x']),_0x4e274b=_0x316a71[_0x4c8cfe(0x30d)]['y']+_0x1118aa*(_0x316a71[_0x4c8cfe(0x3c8)]['y']-_0x316a71[_0x4c8cfe(0x30d)]['y']),_0x3c9725=_0xf0df27[_0x4c8cfe(0x56b)](_0x4d6963,_0x4e274b);if(_0x3c9725['x']<0x0||_0x3c9725['y']<0x0||_0x3c9725['x']>_0x1178a[_0x4c8cfe(0x402)]||_0x3c9725['y']>_0x1178a[_0x4c8cfe(0x496)])continue;_0x1178a[_0x4c8cfe(0x48a)](world['playerDefaultImgs'][_0x316a71['name']][_0x4c8cfe(0x3fa)],_0x3c9725['x'],_0x3c9725['y'],_0xf0df27['scale']*(0.5+_0xf18ce1*0x3),_0x316a71['angle']);}},this[_0x1618ed(0x1d3)]=_0x529e13=>{var _0x5de78c=_0x1618ed;if(!_0x529e13)return console['log']('can\x27t\x20delete\x20this\x20player');_0x529e13[_0x5de78c(0x1ef)]=!![],world[_0x5de78c(0x59e)][_0x5de78c(0x391)](_0x529e13);if(_0x529e13&&_0x529e13['x']!=undefined&&_0x529e13['y']!=undefined){for(var _0x273218=_0x529e13['x'];_0x273218<_0x529e13['x']+_0x529e13[_0x5de78c(0x249)];_0x273218++)for(var _0x2f191d=_0x529e13['y'];_0x2f191d<_0x529e13['y']+_0x529e13[_0x5de78c(0x249)];_0x2f191d++)if(world[_0x5de78c(0x4a4)]['mapBlock'][_0x273218]&&world[_0x5de78c(0x4a4)][_0x5de78c(0x2bd)][_0x273218][_0x2f191d]&&world['map'][_0x5de78c(0x2bd)][_0x273218][_0x2f191d][_0x5de78c(0x317)]==_0x529e13)world[_0x5de78c(0x4a4)][_0x5de78c(0x2bd)][_0x273218][_0x2f191d]['player']=undefined;}var _0x1ec92c=0x0;while(this[_0x5de78c(0x41b)][_0x1ec92c]){if(this[_0x5de78c(0x41b)][_0x1ec92c]==_0x529e13){this[_0x5de78c(0x41b)]['splice'](_0x1ec92c,0x1);break;}_0x1ec92c++;}},this[_0x1618ed(0x58b)]=()=>{var _0xb299e4=_0x1618ed,_0x57bfa4=_0xb299e4(0x4c2);this[_0xb299e4(0x3d1)]=[];var _0xa02de2=[[_0xb299e4(0x268),_0x57bfa4+_0xb299e4(0x2b6)]];for(var _0x29e01c in WEAPON_TYPE){var _0x28967d=WEAPON_TYPE[_0x29e01c][_0xb299e4(0x1d5)],_0x1afe40=WEAPON_TYPE[_0x29e01c][_0xb299e4(0x34b)];_0xa02de2[_0xb299e4(0x417)]([_0x28967d,_0x57bfa4+_0xb299e4(0x29a)+_0x1afe40+_0xb299e4(0x4a3)]),_0xa02de2[_0xb299e4(0x417)]([_0x28967d+_0xb299e4(0x1d0),_0x57bfa4+_0xb299e4(0x29a)+_0x1afe40+_0xb299e4(0x1d0)+_0xb299e4(0x4a3)]);}for(var _0x29e01c in PLAYER_BODY_IMG){var _0x28967d=PLAYER_BODY_IMG[_0x29e01c];_0xa02de2[_0xb299e4(0x417)]([_0x28967d,_0x57bfa4+'body/'+_0x28967d+_0xb299e4(0x4a3)]);}for(var _0x29e01c in PLAYER_FACE_IMG){var _0x28967d=PLAYER_FACE_IMG[_0x29e01c];_0xa02de2[_0xb299e4(0x417)]([_0x28967d,_0x57bfa4+_0xb299e4(0x48f)+_0x28967d+'.png']);}for(var _0x29e01c in PLAYER_ARMOR){var _0x28967d=PLAYER_ARMOR[_0x29e01c][_0xb299e4(0x1d5)],_0x1afe40=PLAYER_ARMOR[_0x29e01c][_0xb299e4(0x3fa)];_0xa02de2[_0xb299e4(0x417)]([_0x28967d,_0x57bfa4+_0xb299e4(0x49f)+_0x1afe40+_0xb299e4(0x4a3)]),_0xa02de2['push']([_0x28967d+'_icon',_0x57bfa4+'armor/'+_0x1afe40+_0xb299e4(0x1d0)+_0xb299e4(0x4a3)]);}for(var _0x29e01c in PROJECTIL_IMG){var _0x28967d=PROJECTIL_IMG[_0x29e01c];_0xa02de2[_0xb299e4(0x417)]([_0x28967d,_0x57bfa4+_0xb299e4(0x218)+_0x28967d+'.png']);}for(var _0x29e01c in _0xa02de2){console['log'](_0xb299e4(0x2f0)+_0xa02de2[_0x29e01c]),this[_0xb299e4(0x3d1)][_0xa02de2[_0x29e01c][0x0]]=new myImage(_0xa02de2[_0x29e01c][0x0],_0xa02de2[_0x29e01c][0x1]);}world[_0xb299e4(0x3d1)]=this[_0xb299e4(0x3d1)];},this[_0x1618ed(0x4f1)]=(_0x2516de,_0x54d2b0,_0x1f369f,_0x302917,_0x5e44e3)=>{var _0x214c0a=_0x1618ed,_0x4df2ac=new Player(_0x2516de,_0x54d2b0,_0x1f369f,_0x302917,_0x5e44e3);return _0x4df2ac[_0x214c0a(0x206)](_0x4df2ac,world[_0x214c0a(0x4a4)]),_0x4df2ac[_0x214c0a(0x39b)](),_0x4df2ac['gaugeSpeed']=0x0,_0x4df2ac;},this[_0x1618ed(0x3b0)]=_0x16c525=>{var _0x6d3ca5=_0x1618ed;if(!_0x16c525||!_0x16c525[_0x6d3ca5(0x317)]||_0x16c525['x']==undefined||_0x16c525['y']==undefined)return console[_0x6d3ca5(0x292)](_0x6d3ca5(0x1fd));console['log'](_0x6d3ca5(0x4cf)+[_0x16c525['x'],_0x16c525['y'],_0x16c525['player'][_0x6d3ca5(0x249)]]);var _0x398c87=_0x16c525[_0x6d3ca5(0x317)],_0x1d8eb9=_0x16c525['x'],_0x2efd80=_0x16c525['y'],_0x4557f2=_0x16c525[_0x6d3ca5(0x51b)]?_0x16c525[_0x6d3ca5(0x51b)]:TEAM_HUMAN,_0x1cf0d7=world['map'];if(_0x1d8eb9<0x0||_0x1d8eb9+_0x398c87[_0x6d3ca5(0x249)]-0x1>=_0x1cf0d7[_0x6d3ca5(0x402)]||_0x2efd80<0x0||_0x2efd80+_0x398c87[_0x6d3ca5(0x249)]-0x1>=_0x1cf0d7['height'])return![];for(var _0x2e3f3e=_0x1d8eb9;_0x2e3f3e<_0x1d8eb9+_0x398c87[_0x6d3ca5(0x249)];_0x2e3f3e++){for(var _0x34076c=_0x2efd80;_0x34076c<_0x2efd80+_0x398c87[_0x6d3ca5(0x249)];_0x34076c++){if(_0x1cf0d7[_0x6d3ca5(0x2bd)][_0x2e3f3e][_0x34076c][_0x6d3ca5(0x317)])return![];if(!_0x1cf0d7['mapBlock'][_0x2e3f3e][_0x34076c][_0x6d3ca5(0x594)]())return![];}}var _0x4e3d57=this[_0x6d3ca5(0x4f1)](_0x1d8eb9,_0x2efd80,_0x398c87[_0x6d3ca5(0x249)],_0x398c87[_0x6d3ca5(0x425)],_0x4557f2);if(!_0x4e3d57)return![];_0x4e3d57['name']=_0x398c87[_0x6d3ca5(0x1d5)],_0x4e3d57[_0x6d3ca5(0x3e8)]=_0x398c87[_0x6d3ca5(0x3e8)],_0x4e3d57[_0x6d3ca5(0x34a)]=_0x398c87[_0x6d3ca5(0x34a)],_0x4e3d57[_0x6d3ca5(0x573)]=_0x398c87[_0x6d3ca5(0x573)],_0x4e3d57[_0x6d3ca5(0x339)]=_0x398c87[_0x6d3ca5(0x339)],_0x4e3d57['speed']=_0x398c87[_0x6d3ca5(0x4c3)],_0x4e3d57[_0x6d3ca5(0x3bf)]=_0x398c87[_0x6d3ca5(0x3bf)],_0x4e3d57['lifeMax']=_0x398c87[_0x6d3ca5(0x345)],_0x4e3d57[_0x6d3ca5(0x572)]=_0x398c87['lifeMax'],_0x4e3d57['movePCost']=_0x398c87[_0x6d3ca5(0x2d0)],_0x4e3d57[_0x6d3ca5(0x322)]=_0x398c87['stats'],_0x4e3d57['size']=_0x398c87['size'],_0x4e3d57['id']=_0x398c87['id'];if(_0x4557f2==TEAM_AI)_0x4e3d57[_0x6d3ca5(0x347)]=[-0x1,0x0];for(var _0x2e3f3e=_0x1d8eb9;_0x2e3f3e<_0x1d8eb9+_0x398c87[_0x6d3ca5(0x249)];_0x2e3f3e++){for(var _0x34076c=_0x2efd80;_0x34076c<_0x2efd80+_0x398c87['size'];_0x34076c++){_0x1cf0d7[_0x6d3ca5(0x2bd)][_0x2e3f3e][_0x34076c]['player']=_0x4e3d57;}}return _0x4e3d57[_0x6d3ca5(0x39b)](),this[_0x6d3ca5(0x41b)][_0x6d3ca5(0x417)](_0x4e3d57),!![];},this[_0x1618ed(0x2c2)]=_0x187897=>{var _0x5baa66=_0x1618ed;if(!_0x187897||_0x187897['x']===undefined||_0x187897['y']===undefined)return![];var _0xfd194d=_0x187897['x'],_0x254bee=_0x187897['y'],_0x36a9d2=_0x187897['color']?_0x187897[_0x5baa66(0x425)]:{'r':Math[_0x5baa66(0x31d)](Math[_0x5baa66(0x349)]()*0x100),'g':Math['floor'](Math[_0x5baa66(0x349)]()*0x100),'b':Math[_0x5baa66(0x31d)](Math['random']()*0x100)},_0x128664=_0x187897[_0x5baa66(0x249)]||_0x187897[_0x5baa66(0x249)]<0x1?_0x187897[_0x5baa66(0x249)]:0x1,_0x1e4de0=_0x187897[_0x5baa66(0x51b)]?_0x187897[_0x5baa66(0x51b)]:TEAM_HUMAN,_0x217de5=world['map'];if(_0xfd194d<0x0||_0xfd194d+_0x128664-0x1>=_0x217de5[_0x5baa66(0x402)]||_0x254bee<0x0||_0x254bee+_0x128664-0x1>=_0x217de5[_0x5baa66(0x496)])return![];for(var _0x597d7e=_0xfd194d;_0x597d7e<_0xfd194d+_0x128664;_0x597d7e++){for(var _0x28c753=_0x254bee;_0x28c753<_0x254bee+_0x128664;_0x28c753++){if(_0x217de5[_0x5baa66(0x2bd)][_0x597d7e][_0x28c753]['player'])return![];if(!_0x217de5[_0x5baa66(0x2bd)][_0x597d7e][_0x28c753][_0x5baa66(0x594)]())return![];}}var _0xb8a488=this['createNewPlayer'](_0xfd194d,_0x254bee,_0x128664,_0x36a9d2,_0x1e4de0);_0xb8a488['id']=PLAYER_ID++,nameList=[_0x5baa66(0x2b1),_0x5baa66(0x381),_0x5baa66(0x2de),_0x5baa66(0x3dc),_0x5baa66(0x303),_0x5baa66(0x518),_0x5baa66(0x498),'Okalm','Aufait','Askip'],_0xb8a488[_0x5baa66(0x1d5)]=nameList[Math[_0x5baa66(0x31d)](Math[_0x5baa66(0x349)]()*nameList[_0x5baa66(0x2d1)])]+'\x20#'+Math['floor'](Math[_0x5baa66(0x349)]()*0x64),_0xb8a488[_0x5baa66(0x339)]=new Weapon()[_0x5baa66(0x44b)](),_0xb8a488[_0x5baa66(0x573)]=new Armor()[_0x5baa66(0x4af)]();if(_0x1e4de0==TEAM_AI)_0xb8a488['dir']=[-0x1,0x0];for(var _0x597d7e=_0xfd194d;_0x597d7e<_0xfd194d+_0x128664;_0x597d7e++){for(var _0x28c753=_0x254bee;_0x28c753<_0x254bee+_0x128664;_0x28c753++){_0x217de5['mapBlock'][_0x597d7e][_0x28c753]['player']=_0xb8a488;}}return _0xb8a488[_0x5baa66(0x4c3)]=_0x187897['speed']?_0x187897[_0x5baa66(0x4c3)]:Math[_0x5baa66(0x397)](_0xb8a488['speed']*(0.8+Math[_0x5baa66(0x349)]()*0.4)),_0xb8a488[_0x5baa66(0x39b)](),this[_0x5baa66(0x41b)][_0x5baa66(0x417)](_0xb8a488),_0xb8a488;},this['drawPlayers']=()=>{var _0x326512=_0x1618ed,_0x502d85=world['map'];if(!_0x502d85||!_0x502d85[_0x326512(0x2ba)]||!_0x502d85['botright_block'])return;var _0xfb1fed=_0x502d85[_0x326512(0x2ba)]['x'],_0x45c6ae=_0x502d85['topleft_block']['y'],_0x2e8cff=_0x502d85['botright_block']['x'],_0x5931d6=_0x502d85[_0x326512(0x372)]['y'],_0x127894=[],_0x380784=[];for(var _0x4d85f9=_0xfb1fed;_0x4d85f9<=_0x2e8cff;_0x4d85f9++){for(var _0x4af414=_0x45c6ae;_0x4af414<=_0x5931d6;_0x4af414++){var _0x38eafa=_0x502d85[_0x326512(0x2bd)][_0x4d85f9][_0x4af414]['player'];if(!_0x38eafa||_0x380784[_0x326512(0x26d)](_0x59aea3=>_0x59aea3==_0x38eafa))continue;if(_0x38eafa==this[_0x326512(0x387)])_0x380784[_0x326512(0x417)](_0x38eafa);else _0x380784[_0x326512(0x4f7)](_0x38eafa);}}for(var _0x314f0a in _0x380784){var _0x38eafa=_0x380784[_0x314f0a];if(!_0x38eafa[_0x326512(0x486)]||!_0x38eafa[_0x326512(0x46c)])_0x38eafa[_0x326512(0x2c8)](this['playerDefaultImgs']);var _0x14e7a4=_0x502d85[_0x326512(0x53c)](_0x38eafa['x'],_0x38eafa['y']);if(_0x14e7a4)_0x38eafa['drawPlayer'](this[_0x326512(0x1c4)],_0x14e7a4['x'],_0x14e7a4['y'],_0x502d85);else continue;_0x38eafa[_0x326512(0x228)]&&(this['pUI_need_redraw']=!![],_0x38eafa['needUIRedraw']=![]);var _0x24940f=new MyUI(this[_0x326512(0x553)],_0x14e7a4['x']-_0x502d85[_0x326512(0x2c1)]/0x4,_0x14e7a4['y']-_0x502d85[_0x326512(0x51d)]/0x4,0x64*world[_0x326512(0x4a4)][_0x326512(0x563)],world[_0x326512(0x4a4)]['scale'],undefined,undefined,0x1),_0x568812=_0x38eafa[_0x326512(0x51b)]==TEAM_HUMAN?_0x326512(0x27c):_0x326512(0x1ec);_0x24940f[_0x326512(0x535)](_0x38eafa[_0x326512(0x1d5)],Math['floor'](0x28*world[_0x326512(0x4a4)][_0x326512(0x563)]),0x10,_0x568812,PLAYER_NAME_FONT);var _0x306136=Math['floor'](0x14*world[_0x326512(0x4a4)][_0x326512(0x563)]);if(_0x38eafa==this[_0x326512(0x387)])_0x24940f['addGauge'](_0x326512(0x46b)+Math[_0x326512(0x31d)](0x64*_0x38eafa['ActionPoint']/_0x38eafa[_0x326512(0x3bf)]),_0x38eafa[_0x326512(0x3db)]/_0x38eafa['ActionPointMax'],Math[_0x326512(0x31d)](0x64*world[_0x326512(0x4a4)]['scale']),_0x306136+0x1,_0x306136,_0x326512(0x583),'#00aaaa',_0x326512(0x427));else _0x24940f[_0x326512(0x281)](_0x326512(0x2ee)+Math['floor'](0x64*_0x38eafa[_0x326512(0x537)])+'\x20%',_0x38eafa[_0x326512(0x537)],Math[_0x326512(0x31d)](0x64*world[_0x326512(0x4a4)][_0x326512(0x563)]),_0x306136+0x1,_0x306136,_0x326512(0x583),'#00aaaa',_0x326512(0x427));_0x24940f[_0x326512(0x281)]('life\x20'+Math[_0x326512(0x31d)](_0x38eafa[_0x326512(0x572)])+'/'+Math[_0x326512(0x31d)](_0x38eafa[_0x326512(0x345)]),_0x38eafa['life']/_0x38eafa['lifeMax'],Math[_0x326512(0x31d)](0x64*world[_0x326512(0x4a4)]['scale']),_0x306136+0x1,_0x306136,_0x326512(0x583),'#ff0000',_0x326512(0x427)),_0x127894[_0x326512(0x417)](_0x24940f);}if(this[_0x326512(0x214)]){this[_0x326512(0x553)][_0x326512(0x344)]();for(var _0x314f0a in _0x127894){_0x127894[_0x314f0a][_0x326512(0x1dc)]();}this[_0x326512(0x214)]=![];}this[_0x326512(0x1cb)]();},this[_0x1618ed(0x28b)]=_0x4872fe=>{var _0x4a19cf=_0x1618ed;if(!_0x4872fe||_0x4872fe['x']==undefined||_0x4872fe['y']==undefined)return undefined;return this[_0x4a19cf(0x41b)][_0x4a19cf(0x26d)](_0x29d43d=>_0x29d43d['x']==_0x4872fe['x']&&_0x29d43d['y']==_0x4872fe['y']);},this[_0x1618ed(0x4dc)]=()=>{var _0xa66ea5=_0x1618ed,_0x229ea9=undefined,_0x398a31=0x0,_0x21bba6=0x0;for(var _0x4b8168 in this['playerList']){var _0x123f84=this[_0xa66ea5(0x41b)][_0x4b8168];if((0x1-_0x123f84[_0xa66ea5(0x537)])/_0x123f84['speed']<=(0x1-_0x398a31)/_0x21bba6){if(_0x229ea9&&(0x1-_0x123f84[_0xa66ea5(0x537)])*_0x123f84[_0xa66ea5(0x4c3)]==(0x1-_0x398a31)*_0x21bba6){if(_0x229ea9[_0xa66ea5(0x4c3)]>_0x123f84[_0xa66ea5(0x4c3)])continue;}_0x229ea9=_0x123f84,_0x398a31=_0x123f84[_0xa66ea5(0x537)],_0x21bba6=_0x123f84['speed'];}}if(!_0x229ea9)return undefined;for(var _0x4b8168 in this[_0xa66ea5(0x41b)]){var _0x123f84=this[_0xa66ea5(0x41b)][_0x4b8168];_0x123f84[_0xa66ea5(0x537)]+=(0x1-_0x398a31)*(_0x123f84[_0xa66ea5(0x4c3)]/_0x21bba6);}return _0x229ea9;},this[_0x1618ed(0x262)]=_0x145c4f=>{var _0x181b7f=_0x1618ed,_0x26e1fe=[],_0x17a558=[];for(var _0x17dc95 in this[_0x181b7f(0x41b)]){var _0x3e718a=this[_0x181b7f(0x41b)][_0x17dc95];_0x17a558[_0x17dc95]={'player':_0x3e718a,'gaugeSpeed':_0x3e718a[_0x181b7f(0x537)],'speed':_0x3e718a['speed']};}if(_0x145c4f<0x0||_0x17a558[_0x181b7f(0x2d1)]<0x1)return[];for(var _0x9a0c68=0x0;_0x9a0c68<_0x145c4f;_0x9a0c68++){var _0x54d90e=undefined,_0x191a77=0x0,_0x1fb1a1=0x0;for(var _0x17dc95 in _0x17a558){var _0x3e718a=_0x17a558[_0x17dc95];if((0x1-_0x3e718a['gaugeSpeed'])/_0x3e718a[_0x181b7f(0x4c3)]<=(0x1-_0x191a77)/_0x1fb1a1){if(_0x54d90e&&(0x1-_0x3e718a[_0x181b7f(0x537)])*_0x3e718a[_0x181b7f(0x4c3)]==(0x1-_0x191a77)*_0x1fb1a1){if(_0x54d90e['speed']>_0x3e718a[_0x181b7f(0x4c3)])continue;}_0x54d90e=_0x3e718a,_0x191a77=_0x3e718a[_0x181b7f(0x537)],_0x1fb1a1=_0x3e718a[_0x181b7f(0x4c3)];}}if(!_0x54d90e)continue;for(var _0x17dc95 in _0x17a558){var _0x3e718a=_0x17a558[_0x17dc95];_0x3e718a['gaugeSpeed']+=(0x1-_0x191a77)*(_0x3e718a[_0x181b7f(0x4c3)]/_0x1fb1a1);}_0x54d90e[_0x181b7f(0x537)]=0x0,_0x26e1fe[_0x181b7f(0x417)](_0x54d90e[_0x181b7f(0x317)]);}return _0x26e1fe;},this[_0x1618ed(0x3ef)]=_0x521ce6=>{var _0x1c4f97=_0x1618ed,_0x3849ea=this[_0x1c4f97(0x41b)]['find'](_0x5f0c72=>_0x5f0c72['team']==TEAM_AI),_0x8a9947=this[_0x1c4f97(0x41b)]['find'](_0xa07b79=>_0xa07b79[_0x1c4f97(0x51b)]==TEAM_HUMAN);if(!_0x3849ea||!_0x8a9947){console[_0x1c4f97(0x292)]('end\x20of\x20the\x20combat'),this[_0x1c4f97(0x568)]();return;}world[_0x1c4f97(0x28d)]&&(world[_0x1c4f97(0x28d)][_0x1c4f97(0x57d)]=undefined,world[_0x1c4f97(0x28d)][_0x1c4f97(0x5a8)]=undefined,world[_0x1c4f97(0x28d)]['selecting_block']=undefined,world[_0x1c4f97(0x28d)][_0x1c4f97(0x52e)]=undefined);if(world[_0x1c4f97(0x216)][_0x1c4f97(0x387)]&&world[_0x1c4f97(0x216)]['Playerturn']['AI']&&!world[_0x1c4f97(0x216)][_0x1c4f97(0x387)]['AI'][_0x1c4f97(0x307)])return;if(this[_0x1c4f97(0x387)])this['Playerturn']['gaugeSpeed']=0x0;this[_0x1c4f97(0x387)]=this['get_next_turn']();if(!this[_0x1c4f97(0x387)])return;this['MessageSystem'][_0x1c4f97(0x363)]({'type':this[_0x1c4f97(0x387)]['team'],'txt':this[_0x1c4f97(0x387)][_0x1c4f97(0x1d5)]+'\x20turn\x20have\x20started'});if(_0x521ce6[_0x1c4f97(0x4a4)])_0x521ce6['map']['centerOnBlock'](this[_0x1c4f97(0x387)]);if(_0x521ce6['GameUI'])_0x521ce6[_0x1c4f97(0x28d)][_0x1c4f97(0x57d)]=this[_0x1c4f97(0x387)];this[_0x1c4f97(0x387)][_0x1c4f97(0x3db)]=this[_0x1c4f97(0x387)][_0x1c4f97(0x3bf)];if(this[_0x1c4f97(0x387)]['AI'])this[_0x1c4f97(0x387)]['AI']['turnFinished']=![];},this[_0x1618ed(0x568)]=()=>{var _0x27035b=_0x1618ed;world[_0x27035b(0x28d)]=undefined,world[_0x27035b(0x4a4)]=undefined,world[_0x27035b(0x3f3)]=new VillageUI(world['Screen']['canList'][_0x27035b(0x28d)]),world[_0x27035b(0x1fc)][_0x27035b(0x277)][_0x27035b(0x1f0)][_0x27035b(0x581)](),world[_0x27035b(0x1fc)][_0x27035b(0x277)][_0x27035b(0x1f0)]['cleanCanvas'](),world[_0x27035b(0x1fc)][_0x27035b(0x277)][_0x27035b(0x3df)][_0x27035b(0x581)](),world[_0x27035b(0x1fc)][_0x27035b(0x277)][_0x27035b(0x3df)]['cleanCanvas'](),world[_0x27035b(0x1fc)][_0x27035b(0x277)][_0x27035b(0x216)]['GetCanvasPos'](),world[_0x27035b(0x1fc)][_0x27035b(0x277)][_0x27035b(0x216)][_0x27035b(0x344)](),world['Screen'][_0x27035b(0x277)][_0x27035b(0x437)]['GetCanvasPos'](),world[_0x27035b(0x1fc)][_0x27035b(0x277)][_0x27035b(0x437)]['cleanCanvas'](),world[_0x27035b(0x4ee)]['stopSound']('where-the-brave-may-live-forever'),world[_0x27035b(0x59e)]['battle']=![],world['village'][_0x27035b(0x327)][_0x27035b(0x363)]({'txt':'End\x20of\x20the\x20battle'});};},GameUI=function(_0x2b2d40){var _0xc71ae5=_0x110ced;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT=_0xc71ae5(0x393),GAME_UI_FONT_BUTTON=_0xc71ae5(0x42d),GAME_UI_WINDOWINFO_MOUSETIME=0x190,this[_0xc71ae5(0x1d9)]=_0x2b2d40,this['lenx']=GAME_UI_DEFAULTSIZE_X,this[_0xc71ae5(0x563)]=0x1,this[_0xc71ae5(0x595)]='#ffff66',this['stroke']=_0xc71ae5(0x4e3),this[_0xc71ae5(0x55c)]=GAME_UI_DEFAULTMARGE,this[_0xc71ae5(0x3c2)]=!![],this['fps']=undefined,this['UI']=undefined,this[_0xc71ae5(0x43c)]=![],this[_0xc71ae5(0x23b)]=undefined,this[_0xc71ae5(0x4a0)]=![],this[_0xc71ae5(0x337)]=undefined,this[_0xc71ae5(0x576)]=![],this[_0xc71ae5(0x524)]={'value':0x0},this[_0xc71ae5(0x57d)]=undefined,this['blockSelected']=undefined,this[_0xc71ae5(0x4e5)]=undefined,this[_0xc71ae5(0x52e)]=undefined,this[_0xc71ae5(0x2fa)]=undefined,this[_0xc71ae5(0x42a)]=undefined,this[_0xc71ae5(0x444)]={'x':0xa,'y':0xa},this['mouseWasOnMouseLightLastDraw']=!![],this[_0xc71ae5(0x438)]=()=>{var _0x2dbed5=_0xc71ae5;window['addEventListener'](_0x2dbed5(0x33b),_0x3807f3=>{var _0x4e2aee=_0x2dbed5,_0x81d481=![];this[_0x4e2aee(0x23b)]&&this[_0x4e2aee(0x23b)][_0x4e2aee(0x45e)](_0x3807f3[_0x4e2aee(0x2ad)],_0x3807f3[_0x4e2aee(0x5a4)])&&!this[_0x4e2aee(0x24e)]&&(this[_0x4e2aee(0x3c2)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x81d481=!![]);this['UI']&&this['UI'][_0x4e2aee(0x45e)](_0x3807f3['clientX'],_0x3807f3[_0x4e2aee(0x5a4)])&&!this[_0x4e2aee(0x24e)]&&(this[_0x4e2aee(0x3c2)]=!![],this[_0x4e2aee(0x24e)]=!![],_0x81d481=!![]);this['UIevent']&&this[_0x4e2aee(0x337)]['mouse_move_check'](_0x3807f3[_0x4e2aee(0x2ad)],_0x3807f3[_0x4e2aee(0x5a4)])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0x4e2aee(0x3c2)]=!![],this[_0x4e2aee(0x24e)]=!![],_0x81d481=!![]);!_0x81d481&&this[_0x4e2aee(0x24e)]&&(this[_0x4e2aee(0x24e)]=![],this[_0x4e2aee(0x3c2)]=!![]);if(this==world[_0x4e2aee(0x28d)])this[_0x4e2aee(0x438)]();},{'once':!![]});},this[_0xc71ae5(0x438)](),this[_0xc71ae5(0x474)]=_0x237b01=>{var _0x4a6345=_0xc71ae5;if(!world[_0x4a6345(0x4a2)])return![];var _0x13819c=world['Controler']['mousePos'];if(!_0x13819c)return![];if(new Date()[_0x4a6345(0x1c9)]()-_0x13819c['lastTime']<GAME_UI_WINDOWINFO_MOUSETIME)return this[_0x4a6345(0x42a)]&&(this[_0x4a6345(0x42a)]=![],this['needRedraw']=!![]),![];if(this['UI']&&this['UI'][_0x4a6345(0x474)](_0x237b01))return!![];if(this[_0x4a6345(0x23b)]&&this['UIturn'][_0x4a6345(0x474)](_0x237b01))return!![];if(this[_0x4a6345(0x337)]&&this['UIevent'][_0x4a6345(0x474)](_0x237b01))return!![];if(!this['mouseInfoWindow'])return![];if(!this[_0x4a6345(0x42a)])this[_0x4a6345(0x42a)]={'x':_0x13819c['x'],'y':_0x13819c['y']};else{if(!_0x237b01&&_0x13819c['x']==this[_0x4a6345(0x42a)]['x']&&_0x13819c['y']==this[_0x4a6345(0x42a)]['y'])return![];}var _0x310661=new MyUI(this[_0x4a6345(0x1d9)],_0x13819c['x'],_0x13819c['y'],0x32,0x1,this['background'],this[_0x4a6345(0x51e)],0x1);_0x310661['addTextZone'](_0x4a6345(0x2af),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x4a6345(0x427),GAME_UI_FONT);var _0x194f9c=world['map'][_0x4a6345(0x54e)](_0x13819c);for(var _0x432fea in this[_0x4a6345(0x2fa)]){var _0x4bed53=this[_0x4a6345(0x2fa)][_0x432fea];_0x310661['addTextZone'](_0x4bed53[_0x4a6345(0x3d3)]+_0x4bed53['callback']({'block':_0x194f9c}),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x4a6345(0x427),GAME_UI_FONT);}_0x310661['drawUI']();},this[_0xc71ae5(0x554)]=_0x45cad3=>{var _0xc023fe=_0xc71ae5;if(this['UI']&&this['UI'][_0xc023fe(0x3d6)](_0x45cad3))return!![];if(this['UIturn']&&this[_0xc023fe(0x23b)]['key_buton_check'](_0x45cad3))return!![];if(this[_0xc023fe(0x337)]&&this['UIevent']['key_buton_check'](_0x45cad3)){if(_0x45cad3=='ControlLeft'&&this['cancel_menu']())return!![];}return![];},this['cancel_menu']=()=>{var _0x438c5b=_0xc71ae5,_0x46cd08=![];if(this[_0x438c5b(0x43c)])return this[_0x438c5b(0x43c)]=![],!![];this[_0x438c5b(0x4e5)]&&(this[_0x438c5b(0x4e5)]=undefined,_0x46cd08=!![]);this['highlightZone']&&(this['highlightZone']=undefined,this['mouseInfoWindow']=undefined,this[_0x438c5b(0x42a)]=undefined,world[_0x438c5b(0x4a4)]['needRedraw']=!![],_0x46cd08=!![]);if(_0x46cd08)return _0x46cd08;_0x46cd08=![];this[_0x438c5b(0x57d)]&&(this[_0x438c5b(0x57d)]=undefined,_0x46cd08=!![]);this[_0x438c5b(0x5a8)]&&(this[_0x438c5b(0x5a8)]=undefined,_0x46cd08=!![]);if(_0x46cd08)return!![];return![];},this[_0xc71ae5(0x375)]=_0x4be843=>{var _0xb82383=_0xc71ae5,_0x9ce309=_0x4be843['x'],_0x3cb862=_0x4be843['y'];if(_0x4be843['button']==0x2){var _0x4c0be1=this[_0xb82383(0x46f)]();if(_0x4c0be1)return!![];}else{if(this['UI']&&this['UI']['click_buton_check'](_0x9ce309,_0x3cb862))return!![];if(this[_0xb82383(0x23b)]&&this['UIturn'][_0xb82383(0x3a3)](_0x9ce309,_0x3cb862))return!![];if(this[_0xb82383(0x337)]&&this['UIevent'][_0xb82383(0x3a3)](_0x9ce309,_0x3cb862))return!![];if(world[_0xb82383(0x4a4)])var _0x592e8b=world[_0xb82383(0x4a4)]['get_block_by_pixel']({'x':_0x9ce309,'y':_0x3cb862});if(!_0x592e8b)return![];if(this['selecting_block']&&this['highlightZone']&&this['highlightZone'][_0xb82383(0x1c3)]&&!this[_0xb82383(0x52e)][_0xb82383(0x1c3)]['find'](_0x13ec1d=>_0x13ec1d==_0x592e8b))return![];if(this[_0xb82383(0x4e5)])return this[_0xb82383(0x4e5)][_0xb82383(0x5a1)]({'block':_0x592e8b,'input':this[_0xb82383(0x4e5)]['input']}),this[_0xb82383(0x52e)]=undefined,this[_0xb82383(0x2fa)]=undefined,this[_0xb82383(0x5a8)]=undefined,this[_0xb82383(0x4e5)]=undefined,world[_0xb82383(0x4a4)]['needRedraw']=!![],!![];else this[_0xb82383(0x5a8)]=_0x592e8b;return this['playersSelected']=_0x592e8b['player'],!![];}return![];},this[_0xc71ae5(0x321)]=_0x5cd90d=>{var _0xd281f0=_0xc71ae5;if(!_0x5cd90d||!_0x5cd90d['callback'])return;this[_0xd281f0(0x4e5)]={'callback':_0x5cd90d['callback'],'input':_0x5cd90d[_0xd281f0(0x266)],'info':_0x5cd90d[_0xd281f0(0x23c)]},this['needRedraw']=!![],_0x5cd90d['highlight']&&(this['highlightZone']={'zone':_0x5cd90d[_0xd281f0(0x493)][_0xd281f0(0x5a1)](_0x5cd90d[_0xd281f0(0x493)][_0xd281f0(0x266)]),'type':_0x5cd90d[_0xd281f0(0x493)][_0xd281f0(0x266)]['type']},world['map'][_0xd281f0(0x3c2)]=!![]),_0x5cd90d[_0xd281f0(0x3b2)]&&(this[_0xd281f0(0x2fa)]=_0x5cd90d['windowInfo']);},this[_0xc71ae5(0x588)]=()=>{var _0x1abb7c=_0xc71ae5;if(!world[_0x1abb7c(0x216)][_0x1abb7c(0x387)])return![];world['map']['centerOnBlock'](world[_0x1abb7c(0x216)][_0x1abb7c(0x387)]),this[_0x1abb7c(0x57d)]=world['players'][_0x1abb7c(0x387)];},this[_0xc71ae5(0x527)]=()=>{var _0x3ea5dc=_0xc71ae5;0x0;var _0x1d0ddb=[];_0x1d0ddb['push']({'type':_0x3ea5dc(0x3fa),'img':this[_0x3ea5dc(0x57d)][_0x3ea5dc(0x486)],'lenx':0xc8,'leny':0xc8}),this['UI']['addHorizontalElem'](_0x1d0ddb);var _0x540996=this[_0x3ea5dc(0x57d)],_0x1891ad=''+_0x540996[_0x3ea5dc(0x1d5)]+'\x20(',_0x59dcab=_0x540996[_0x3ea5dc(0x51b)]==TEAM_AI?_0x3ea5dc(0x521):_0x3ea5dc(0x2d9);_0x1891ad+=_0x59dcab,_0x1891ad+='\x0a'+_0x540996[_0x3ea5dc(0x572)]+'/'+_0x540996[_0x3ea5dc(0x345)]+_0x3ea5dc(0x59c),_0x1891ad+='\x0a'+_0x540996[_0x3ea5dc(0x3db)]+'/'+_0x540996[_0x3ea5dc(0x3bf)]+_0x3ea5dc(0x541),_0x1891ad+='\x0a'+_0x3ea5dc(0x394)+_0x540996[_0x3ea5dc(0x4c3)],_0x1891ad+='\x0a'+_0x3ea5dc(0x48e)+_0x540996[_0x3ea5dc(0x2d0)];for(var _0xa17328 in _0x540996['stats'])_0x1891ad+='\x0a'+_0xa17328+'\x20:\x20'+_0x540996[_0x3ea5dc(0x322)][_0xa17328];this['UI'][_0x3ea5dc(0x535)](_0x1891ad,GAME_UI_LETTER_SIZE/0x2,0x270f,_0x3ea5dc(0x427),GAME_UI_FONT);if(_0x540996[_0x3ea5dc(0x339)])this['UI'][_0x3ea5dc(0x535)]('weapon\x20equiped\x20:\x20\x27'+_0x540996['weapon'][_0x3ea5dc(0x1d5)]+'\x27\x0a'+_0x540996[_0x3ea5dc(0x339)][_0x3ea5dc(0x463)](),GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);if(_0x540996[_0x3ea5dc(0x573)])this['UI'][_0x3ea5dc(0x535)](_0x3ea5dc(0x388)+_0x540996[_0x3ea5dc(0x573)]['getArmorDescription'](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x3ea5dc(0x427),GAME_UI_FONT);},this['drawMessageSystemEvents']=()=>{var _0x25ea5e=_0xc71ae5;this['UIevent']=new MyUI(this['canvas'],this['UIturn']['lenx']+this['UI'][_0x25ea5e(0x224)],0x0,0x5,this[_0x25ea5e(0x563)],this[_0x25ea5e(0x595)],this['stroke'],this['marge']);var _0x15fd40=[];_0x15fd40[_0x25ea5e(0x417)]({'type':_0x25ea5e(0x33d),'mouseLight':'ff','callback':()=>{var _0x5eaa1d=_0x25ea5e;this[_0x5eaa1d(0x576)]=!this[_0x5eaa1d(0x576)];},'callback_data':GAME_UI_FONT,'txt':_0x25ea5e(0x49d),'txt_color':_0x25ea5e(0x427),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x25ea5e(0x483),'strokeColor':this[_0x25ea5e(0x576)]?_0x25ea5e(0x4f9):_0x25ea5e(0x3e5),'windowInfo':[{'callback':()=>{var _0x3d4a6b=_0x25ea5e;return _0x3d4a6b(0x2b0);},'input':_0x4ade7a}]});if(this[_0x25ea5e(0x576)]){var _0x7ccc0e=this[_0x25ea5e(0x305)](this[_0x25ea5e(0x524)]);for(var _0x4ade7a in _0x7ccc0e)_0x15fd40[_0x25ea5e(0x417)](_0x7ccc0e[_0x4ade7a]);}this[_0x25ea5e(0x337)]['addHorizontalElem'](_0x15fd40);if(this['UIeventExpanded']&&world[_0x25ea5e(0x216)]){var _0x3066da=-0x1;for(var _0x4ade7a=this['eventPageOffset'][_0x25ea5e(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x4ade7a>=this[_0x25ea5e(0x524)][_0x25ea5e(0x3c5)];_0x4ade7a--){_0x3066da++;var _0x1aaac0=world[_0x25ea5e(0x216)][_0x25ea5e(0x327)][_0x25ea5e(0x4b5)][_0x4ade7a];if(_0x4ade7a>=world[_0x25ea5e(0x216)][_0x25ea5e(0x327)][_0x25ea5e(0x4b5)][_0x25ea5e(0x2d1)])continue;if(!_0x1aaac0)break;this[_0x25ea5e(0x2e7)](_0x1aaac0);}}console[_0x25ea5e(0x292)](this['eventPageOffset'][_0x25ea5e(0x3c5)]),this['UIevent'][_0x25ea5e(0x1dc)]();},this[_0xc71ae5(0x267)]=()=>{var _0x5ea2d1=_0xc71ae5;if(!world[_0x5ea2d1(0x4a4)]||!world['players'])return;this[_0x5ea2d1(0x3c2)]=![],this[_0x5ea2d1(0x1d9)][_0x5ea2d1(0x581)](),this[_0x5ea2d1(0x1d9)]['cleanCanvas'](),this[_0x5ea2d1(0x23b)]=new MyUI(this[_0x5ea2d1(0x1d9)],0x0,0x0,0x32,this[_0x5ea2d1(0x563)],this[_0x5ea2d1(0x595)],this['stroke'],0x1),this[_0x5ea2d1(0x23b)]['addHorizontalElem']([{'type':'button','mouseLight':'ff','callback':()=>{var _0x152a61=_0x5ea2d1;this[_0x152a61(0x4a0)]=!this[_0x152a61(0x4a0)];},'callback_data':GAME_UI_FONT,'txt':_0x5ea2d1(0x450),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x5ea2d1(0x483),'strokeColor':this[_0x5ea2d1(0x576)]?_0x5ea2d1(0x4f9):_0x5ea2d1(0x3e5),'windowInfo':[{'callback':()=>{var _0x2496c6=_0x5ea2d1;return _0x2496c6(0x1f3);},'input':_0x563077}]}]);var _0x112156=world[_0x5ea2d1(0x216)][_0x5ea2d1(0x262)](0xf);for(var _0x563077 in _0x112156){var _0x179a22=_0x112156[_0x563077],_0x14ab32=[];_0x14ab32[_0x5ea2d1(0x417)]({'type':_0x5ea2d1(0x3fa),'img':_0x179a22[_0x5ea2d1(0x486)],'lenx':0x1e,'leny':0x1e});if(this['UIturnExpanded'])_0x14ab32[_0x5ea2d1(0x417)]({'type':_0x5ea2d1(0x33d),'mouseLight':'ff','callback':_0x3a115a=>{var _0x3461fb=_0x5ea2d1;this[_0x3461fb(0x57d)]=_0x3a115a;if(world[_0x3461fb(0x4a4)])world[_0x3461fb(0x4a4)][_0x3461fb(0x2dd)](_0x3a115a);},'callback_data':_0x179a22,'txt':_0x179a22[_0x5ea2d1(0x1d5)],'txt_color':_0x179a22[_0x5ea2d1(0x51b)]==TEAM_HUMAN?'#0088ff':_0x5ea2d1(0x4d5),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x5ea2d1(0x483),'strokeColor':this[_0x5ea2d1(0x57d)]==_0x179a22?_0x5ea2d1(0x354):_0x5ea2d1(0x4f9),'windowInfo':[{'callback':_0x4afa1f=>{return'I\x20will\x20play\x20in\x20'+_0x4afa1f+'\x20turn';},'input':_0x563077}]});this['UIturn'][_0x5ea2d1(0x28f)](_0x14ab32);}this[_0x5ea2d1(0x23b)][_0x5ea2d1(0x1dc)](),this['UI']=new MyUI(this['canvas'],this[_0x5ea2d1(0x23b)][_0x5ea2d1(0x224)],0x0,this[_0x5ea2d1(0x224)],this[_0x5ea2d1(0x563)],this[_0x5ea2d1(0x595)],this['stroke'],this[_0x5ea2d1(0x55c)]);if(this[_0x5ea2d1(0x43c)]&&this[_0x5ea2d1(0x57d)])this[_0x5ea2d1(0x527)](),this['UI'][_0x5ea2d1(0x323)](this[_0x5ea2d1(0x43c)]&&this[_0x5ea2d1(0x57d)]?_0x5ea2d1(0x39d):_0x5ea2d1(0x23c),GAME_UI_LETTER_SIZE,_0x5ea2d1(0x427),_0x5ea2d1(0x583),this[_0x5ea2d1(0x51e)],()=>{var _0x235abb=_0x5ea2d1;this[_0x235abb(0x43c)]=!this['PlayerInfodisplay'];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world['players'][_0x5ea2d1(0x387)])this['UI'][_0x5ea2d1(0x323)](_0x5ea2d1(0x522),GAME_UI_LETTER_SIZE,'#ffff00',_0x5ea2d1(0x27e),this['stroke'],world['players'][_0x5ea2d1(0x3ef)],{'map':world[_0x5ea2d1(0x4a4)],'GameUI':world[_0x5ea2d1(0x28d)]},GAME_UI_FONT,_0x5ea2d1(0x4dd)),this['UI'][_0x5ea2d1(0x323)](_0x5ea2d1(0x559),GAME_UI_LETTER_SIZE,_0x5ea2d1(0x427),'#11ff33',this[_0x5ea2d1(0x51e)],this[_0x5ea2d1(0x588)],undefined,GAME_UI_FONT,_0x5ea2d1(0x57f));else this['UI'][_0x5ea2d1(0x323)]('Next\x20Turn',GAME_UI_LETTER_SIZE,_0x5ea2d1(0x241),_0x5ea2d1(0x505),this[_0x5ea2d1(0x51e)],world[_0x5ea2d1(0x216)][_0x5ea2d1(0x3ef)],{'map':world[_0x5ea2d1(0x4a4)],'GameUI':world[_0x5ea2d1(0x28d)]},GAME_UI_FONT,_0x5ea2d1(0x4dd));if(this[_0x5ea2d1(0x5a8)]&&!this[_0x5ea2d1(0x57d)]){var _0x3cb5ff=this[_0x5ea2d1(0x5a8)]['x'],_0x4b8f15=this[_0x5ea2d1(0x5a8)]['y'],_0x5dcb07={'r':Math[_0x5ea2d1(0x31d)](Math[_0x5ea2d1(0x349)]()*0x100),'g':Math[_0x5ea2d1(0x31d)](Math[_0x5ea2d1(0x349)]()*0x100),'b':Math['floor'](Math['random']()*0x100)};this['UI'][_0x5ea2d1(0x323)](_0x5ea2d1(0x52c),GAME_UI_LETTER_SIZE,'#000000',_0x5ea2d1(0x239),this['stroke'],world[_0x5ea2d1(0x216)][_0x5ea2d1(0x2c2)],{'x':_0x3cb5ff,'y':_0x4b8f15,'color':_0x5dcb07},GAME_UI_FONT);}if(this[_0x5ea2d1(0x57d)]){var _0x179a22=this[_0x5ea2d1(0x57d)];this['UI']['addButton'](_0x179a22[_0x5ea2d1(0x1d5)],GAME_UI_LETTER_SIZE,_0x5ea2d1(0x427),_0x5ea2d1(0x583),this[_0x5ea2d1(0x51e)],()=>{var _0x12b344=_0x5ea2d1;this[_0x12b344(0x43c)]=!this[_0x12b344(0x43c)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this[_0x5ea2d1(0x57d)]==world['players'][_0x5ea2d1(0x387)]&&this[_0x5ea2d1(0x57d)][_0x5ea2d1(0x51b)]==TEAM_HUMAN){if(_0x179a22[_0x5ea2d1(0x486)]&&_0x179a22['bodyPartImgReady']&&_0x179a22[_0x5ea2d1(0x486)][_0x5ea2d1(0x208)])this['UI'][_0x5ea2d1(0x460)](_0x179a22[_0x5ea2d1(0x486)],0x64,0x64);else this[_0x5ea2d1(0x3c2)]=!![];if(this[_0x5ea2d1(0x4e5)])this['UI'][_0x5ea2d1(0x535)](_0x5ea2d1(0x533)+this[_0x5ea2d1(0x4e5)][_0x5ea2d1(0x23c)],GAME_UI_LETTER_SIZE*0.8,0x14,_0x5ea2d1(0x427),GAME_UI_FONT);else for(var _0x563077 in _0x179a22['capacityList']){var _0x57960f=_0x179a22['capacityList'][_0x563077];this['UI'][_0x5ea2d1(0x323)](_0x57960f[_0x5ea2d1(0x1d5)],GAME_UI_LETTER_SIZE,_0x5ea2d1(0x427),_0x5ea2d1(0x239),this['stroke'],this[_0x5ea2d1(0x321)],{'callback':_0x57960f['callback'],'info':_0x57960f[_0x5ea2d1(0x3fe)],'highlight':{'callback':_0x57960f['zone_target_area'],'input':_0x57960f['zone_selecting_input']},'windowInfo':_0x57960f[_0x5ea2d1(0x3b2)]},GAME_UI_FONT,parseInt(_0x563077)+0x1);}}}}this[_0x5ea2d1(0x247)](),this['UI'][_0x5ea2d1(0x1dc)](),this[_0x5ea2d1(0x474)](!![]);},this[_0xc71ae5(0x305)]=_0x55e657=>{var _0x1bda6a=_0xc71ae5,_0x584e87=[{'type':_0x1bda6a(0x33d),'callback':()=>{var _0x3dd516=_0x1bda6a;_0x55e657[_0x3dd516(0x3c5)]=_0x55e657[_0x3dd516(0x3c5)]>0x0?_0x55e657[_0x3dd516(0x3c5)]-0x1:0x0;},'txt':'∧','txt_color':_0x1bda6a(0x583),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x1bda6a(0x29d),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x5e8547=_0x1bda6a;return _0x5e8547(0x540);}}]},{'type':_0x1bda6a(0x33d),'callback':()=>{_0x55e657['value']++;},'txt':'∨','txt_color':_0x1bda6a(0x583),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x1bda6a(0x29d),'strokeColor':_0x1bda6a(0x427),'windowInfo':[{'callback':()=>{return'page\x20down';}}]},{'type':_0x1bda6a(0x3d3),'txt':'['+_0x55e657[_0x1bda6a(0x3c5)]+':'+(_0x55e657[_0x1bda6a(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x1bda6a(0x427),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0x584e87;},this['displayMessageEvent']=_0xbbd063=>{var _0x3b2074=_0xc71ae5;if(!_0xbbd063)return;var _0x463058=_0x3b2074(0x427);switch(_0xbbd063[_0x3b2074(0x491)]){case TEAM_HUMAN:_0x463058=_0x3b2074(0x4f0);break;case TEAM_AI:_0x463058=_0x3b2074(0x4d5);break;}this[_0x3b2074(0x337)][_0x3b2074(0x535)](_0xbbd063[_0x3b2074(0x3d3)],GAME_UI_LETTER_SIZE/0x2,0x270f,_0x463058,GAME_UI_FONT);};},ControlManager=function(){var _0x4effc3=_0x110ced;this[_0x4effc3(0x575)]=[],this[_0x4effc3(0x481)]=[],this['mousePos']={'x':0x0,'y':0x0,'lastTime':new Date()[_0x4effc3(0x1c9)]()},window[_0x4effc3(0x4a6)]('keydown',_0x1c684c=>{var _0x4f964d=_0x4effc3;if(_0x1c684c['repeat'])return;var _0x44f103=_0x1c684c[_0x4f964d(0x421)],_0xc48a1=_0x1c684c['code'];this[_0x4f964d(0x575)][_0xc48a1]=!![];}),window[_0x4effc3(0x4a6)](_0x4effc3(0x25c),_0x17fa09=>{var _0xacbb7b=_0x4effc3,_0x54a2a2=_0x17fa09[_0xacbb7b(0x421)],_0x5f31a5=_0x17fa09[_0xacbb7b(0x3d7)];this[_0xacbb7b(0x575)][_0x5f31a5]=![],this[_0xacbb7b(0x481)][_0x5f31a5]=!![];}),window[_0x4effc3(0x4a6)]('wheel',_0x57fa68=>{var _0x1bebf2=_0x4effc3,_0x177f08=_0x57fa68[_0x1bebf2(0x3c9)];if(world[_0x1bebf2(0x4a4)]){if(_0x177f08>0x0)world[_0x1bebf2(0x4a4)]['changeMapView'](0x0,0x0,0.95);else{if(_0x177f08<0x0)world[_0x1bebf2(0x4a4)][_0x1bebf2(0x265)](0x0,0x0,1.05);}}}),window[_0x4effc3(0x4a6)](_0x4effc3(0x405),_0x173911=>{var _0x12bcb8=_0x4effc3,_0x2e0432=world[_0x12bcb8(0x1fc)][_0x12bcb8(0x277)]['mapFloor'];pos=_0x2e0432['getPixelPosition'](_0x173911[_0x12bcb8(0x2ad)],_0x173911[_0x12bcb8(0x5a4)]),pos&&(this[_0x12bcb8(0x270)]={'x':pos['x'],'y':pos['y'],'button':_0x173911[_0x12bcb8(0x33d)]});}),window[_0x4effc3(0x4a6)](_0x4effc3(0x33b),_0x58989b=>{var _0x34bc77=_0x4effc3,_0x2f7b4e=world[_0x34bc77(0x1fc)][_0x34bc77(0x277)][_0x34bc77(0x1f0)];this[_0x34bc77(0x1d8)]=_0x2f7b4e['getPixelPosition'](_0x58989b[_0x34bc77(0x2ad)],_0x58989b['clientY']);if(this['mousePos'])this['mousePos'][_0x34bc77(0x4da)]=new Date()[_0x34bc77(0x1c9)]();}),this['CheckControlInput']=()=>{var _0x39c1f0=_0x4effc3,_0x3b1865=![];if(world[_0x39c1f0(0x4a4)]){if(this[_0x39c1f0(0x575)]['KeyW'])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](0x0,-0.1/world[_0x39c1f0(0x4a4)][_0x39c1f0(0x563)],0x1);if(this[_0x39c1f0(0x575)]['KeyS'])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](0x0,0.1/world[_0x39c1f0(0x4a4)][_0x39c1f0(0x563)],0x1);if(this[_0x39c1f0(0x575)]['KeyA'])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](-0.1/world[_0x39c1f0(0x4a4)][_0x39c1f0(0x563)],0x0,0x1);if(this[_0x39c1f0(0x575)][_0x39c1f0(0x22d)])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](0.1/world[_0x39c1f0(0x4a4)]['scale'],0x0,0x1);if(this[_0x39c1f0(0x575)][_0x39c1f0(0x1d6)])world['map'][_0x39c1f0(0x265)](0x0,-0.1/world['map'][_0x39c1f0(0x563)],0x1);if(this[_0x39c1f0(0x575)][_0x39c1f0(0x26c)])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](0x0,0.1/world['map'][_0x39c1f0(0x563)],0x1);if(this[_0x39c1f0(0x575)][_0x39c1f0(0x3e0)])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](-0.1/world[_0x39c1f0(0x4a4)]['scale'],0x0,0x1);if(this[_0x39c1f0(0x575)][_0x39c1f0(0x306)])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](0.1/world[_0x39c1f0(0x4a4)][_0x39c1f0(0x563)],0x0,0x1);if(this[_0x39c1f0(0x575)][_0x39c1f0(0x510)])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](0x0,0x0,0.95);if(this[_0x39c1f0(0x575)]['NumpadAdd'])world[_0x39c1f0(0x4a4)][_0x39c1f0(0x265)](0x0,0x0,1.05);}if(this[_0x39c1f0(0x481)]['KeyF']){if(!world['Screen']['fullScreen'])world[_0x39c1f0(0x1fc)][_0x39c1f0(0x23d)]();else world['Screen'][_0x39c1f0(0x401)](document);world[_0x39c1f0(0x4ee)][_0x39c1f0(0x35b)](_0x39c1f0(0x4b0),undefined,!![]);}for(var _0x313a2e in this[_0x39c1f0(0x481)]){if(!_0x3b1865&&_0x313a2e[_0x39c1f0(0x35e)]('Digit')||_0x313a2e[_0x39c1f0(0x35e)]('Numpad'))_0x313a2e=_0x313a2e[_0x39c1f0(0x2cd)](_0x39c1f0(0x2da),'')[_0x39c1f0(0x2cd)](_0x39c1f0(0x3e7),'');if(world['GameUI']&&!_0x3b1865&&world[_0x39c1f0(0x28d)]['getKeyInput'](_0x313a2e)){world[_0x39c1f0(0x4ee)][_0x39c1f0(0x35b)]('click',undefined,!![]),_0x3b1865=!![];if(world['GameUI'])world[_0x39c1f0(0x28d)][_0x39c1f0(0x3c2)]=!![];break;}if(world['villageUI']&&world[_0x39c1f0(0x3f3)][_0x39c1f0(0x554)](_0x313a2e)){world[_0x39c1f0(0x4ee)][_0x39c1f0(0x35b)](_0x39c1f0(0x4b0),undefined,!![]),_0x3b1865=!![];if(world[_0x39c1f0(0x3f3)])world[_0x39c1f0(0x3f3)]['needRedraw']=!![];break;}if(world[_0x39c1f0(0x27a)]&&world['MenuUI'][_0x39c1f0(0x554)](_0x313a2e)){world[_0x39c1f0(0x4ee)][_0x39c1f0(0x35b)](_0x39c1f0(0x4b0),undefined,!![]),_0x3b1865=!![];if(world[_0x39c1f0(0x27a)])world[_0x39c1f0(0x27a)]['needRedraw']=!![];break;}}this['keyUp']=[];if(this[_0x39c1f0(0x270)]){if(!_0x3b1865&&world[_0x39c1f0(0x28d)]&&world[_0x39c1f0(0x28d)]['getMouseInput'](this['inputclick'])){world[_0x39c1f0(0x4ee)][_0x39c1f0(0x35b)](_0x39c1f0(0x4b0),undefined,!![]),_0x3b1865=!![];if(world['GameUI'])world[_0x39c1f0(0x28d)]['needRedraw']=!![];}if(!_0x3b1865&&world[_0x39c1f0(0x3f3)]&&world[_0x39c1f0(0x3f3)]['getMouseInput'](this['inputclick'])){world[_0x39c1f0(0x4ee)][_0x39c1f0(0x35b)](_0x39c1f0(0x4b0),undefined,!![]),_0x3b1865=!![];if(world[_0x39c1f0(0x3f3)])world[_0x39c1f0(0x3f3)][_0x39c1f0(0x3c2)]=!![];}if(!_0x3b1865&&world['MenuUI']&&world[_0x39c1f0(0x27a)][_0x39c1f0(0x375)](this[_0x39c1f0(0x270)])){world[_0x39c1f0(0x4ee)][_0x39c1f0(0x35b)](_0x39c1f0(0x4b0),undefined,!![]),_0x3b1865=!![];if(world['MenuUI'])world[_0x39c1f0(0x27a)]['needRedraw']=!![];}}this[_0x39c1f0(0x270)]=undefined;};},PLAYER_WEAPON_IMG=[{'name':_0x110ced(0x418),'center':{'x':0xa1,'y':0xd},'sound':'spear_attack'},{'name':_0x110ced(0x459),'center':{'x':0x28,'y':0x11},'sound':'attack_metal_slash'},{'name':_0x110ced(0x55d),'center':{'x':0x3c,'y':0x40},'sound':_0x110ced(0x223)},{'name':_0x110ced(0x403),'center':{'x':0x16,'y':0x11},'sound':_0x110ced(0x2eb)},{'name':_0x110ced(0x411),'center':{'x':0x32,'y':0x37},'sound':'smash'},{'name':'small_woodBow','center':{'x':0x39,'y':0x25},'sound':'bow\x20attack'},{'name':'stone_pickaxe','center':{'x':0x41,'y':0x46},'sound':_0x110ced(0x1ce)}],WEAPON_TYPE=[{'name':_0x110ced(0x4f6),'Img':_0x110ced(0x403),'weaponAnim':'sword','bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':'getBlockAdjacent','input':{}},'zoneTarget':[{'callback':_0x110ced(0x3cb),'damageBase':[{'stats':_0x110ced(0x383),'type':'crushing','value':0x1}]}]},{'name':_0x110ced(0x531),'Img':_0x110ced(0x418),'weaponAnim':_0x110ced(0x1cd),'bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':_0x110ced(0x4a8),'input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x110ced(0x3cb),'damageBase':[{'stats':_0x110ced(0x383),'type':'piercing','value':1.5}]},{'callback':_0x110ced(0x225),'damageBase':[{'stats':_0x110ced(0x383),'type':_0x110ced(0x253),'value':0.5}]}]},{'name':'Stone\x20Axe','Img':_0x110ced(0x411),'weaponAnim':_0x110ced(0x4f5),'bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':_0x110ced(0x4a8),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x110ced(0x3cb),'damageBase':[{'stats':_0x110ced(0x383),'type':_0x110ced(0x55b),'value':0x1},{'stats':'Strength','type':_0x110ced(0x39e),'value':0x1}]}]},{'name':_0x110ced(0x2f5),'Img':_0x110ced(0x459),'weaponAnim':_0x110ced(0x4f5),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x110ced(0x3cb),'damageBase':[{'stats':'Strength','type':_0x110ced(0x253),'value':1.5},{'stats':'Strength','type':_0x110ced(0x39e),'value':1.5}]}]},{'name':_0x110ced(0x56d),'Img':_0x110ced(0x55d),'weaponAnim':'sword_2h','actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':_0x110ced(0x4a8),'input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':'Strength','type':_0x110ced(0x55b),'value':0x2},{'stats':_0x110ced(0x383),'type':'slashing','value':0x2}]},{'callback':_0x110ced(0x1f1),'callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':_0x110ced(0x383),'type':_0x110ced(0x55b),'value':0.2},{'stats':_0x110ced(0x383),'type':_0x110ced(0x39e),'value':0.2}]}]},{'name':_0x110ced(0x33c),'Img':_0x110ced(0x4ad),'weaponAnim':_0x110ced(0x20b),'bonus':[],'projectil':{'ammo':_0x110ced(0x320),'projectilSpeed':0x64,'sound':_0x110ced(0x2cf)},'actionCost':0x32,'blockTargetingFunction':{'callback':'getBlocksAtDistRangeFromPlayer','input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':_0x110ced(0x3cb),'damageBase':[{'stats':'Dexterity','type':_0x110ced(0x253),'value':0x1}]}]},{'name':_0x110ced(0x448),'Img':'stone_pickaxe','weaponAnim':'sword','actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':_0x110ced(0x29b),'input':{}},'zoneTarget':[{'callback':_0x110ced(0x3cb),'damageBase':[{'stats':_0x110ced(0x383),'type':_0x110ced(0x253),'value':0x2}]}]}],Weapon=function(){var _0x511941=_0x110ced;this['itemType']=_0x511941(0x339),this[_0x511941(0x1d5)],this[_0x511941(0x523)],this[_0x511941(0x1e7)],this[_0x511941(0x3fa)],this['anim'],this[_0x511941(0x1e7)],this['actionCost'],this[_0x511941(0x30b)],this[_0x511941(0x251)],this['createNewWeapon']=_0x354270=>{var _0xa5cbce=_0x511941;if(!_0x354270||!_0x354270[_0xa5cbce(0x1d5)])return console[_0xa5cbce(0x292)](_0xa5cbce(0x599));var _0x4a769d=WEAPON_TYPE['find'](_0x26fbc9=>_0x26fbc9['name']==_0x354270['name']);if(!_0x4a769d)return console[_0xa5cbce(0x292)](_0xa5cbce(0x599));var _0x5cd354=PLAYER_WEAPON_IMG[_0xa5cbce(0x26d)](_0x14000c=>_0x14000c['name']==_0x4a769d[_0xa5cbce(0x34b)]);if(!_0x5cd354)return console[_0xa5cbce(0x292)](_0xa5cbce(0x599));return this[_0xa5cbce(0x3fa)]=_0x5cd354[_0xa5cbce(0x1d5)],this[_0xa5cbce(0x1d5)]=_0x354270['name'],this[_0xa5cbce(0x557)]=_0x4a769d['weaponAnim'],this[_0xa5cbce(0x1e7)]=_0x4a769d[_0xa5cbce(0x1e7)],this[_0xa5cbce(0x3cf)]=_0x4a769d[_0xa5cbce(0x3cf)],this['blockTargetingFunction']=_0x4a769d[_0xa5cbce(0x30b)],this[_0xa5cbce(0x4bf)]=_0x4a769d[_0xa5cbce(0x4bf)],this[_0xa5cbce(0x251)]=_0x4a769d[_0xa5cbce(0x251)],this;},this[_0x511941(0x398)]=_0x20b39=>{for(var _0x2474d7 in _0x20b39){this[_0x2474d7]=_0x20b39[_0x2474d7];}return this;},this[_0x511941(0x44b)]=()=>{var _0x5864a6=_0x511941,_0x16002e=WEAPON_TYPE[Math['floor'](Math[_0x5864a6(0x349)]()*WEAPON_TYPE[_0x5864a6(0x2d1)])];return this[_0x5864a6(0x582)]({'name':_0x16002e['name']});},this[_0x511941(0x463)]=()=>{var _0x315402=_0x511941,_0x3b8698=_0x315402(0x38a)+this[_0x315402(0x1d5)]+'\x20for\x20'+this[_0x315402(0x3cf)]+_0x315402(0x46d);switch(this['blockTargetingFunction'][_0x315402(0x5a1)]){case _0x315402(0x29b):_0x3b8698+=_0x315402(0x1e8);break;case _0x315402(0x4a8):_0x3b8698+=_0x315402(0x514)+this['blockTargetingFunction']['input']['rangeMin']+','+this[_0x315402(0x30b)][_0x315402(0x266)][_0x315402(0x21c)]+']';break;}for(var _0x54e158 in this[_0x315402(0x1e7)]){var _0x114987=this[_0x315402(0x1e7)][_0x54e158];switch(_0x114987[_0x315402(0x5a1)]){case _0x315402(0x3cb):_0x3b8698+=_0x315402(0x469);break;case _0x315402(0x225):var _0x40eaa9=_0x114987['callback_data']?_0x114987['callback_data']['rangeMin']:0x1,_0x400225=_0x114987[_0x315402(0x25a)]?_0x114987['callback_data'][_0x315402(0x21c)]:0x1;_0x3b8698+=_0x315402(0x44d)+[_0x40eaa9,_0x400225]+_0x315402(0x24d);break;case _0x315402(0x1f1):var _0x40eaa9=_0x114987[_0x315402(0x25a)]?_0x114987['callback_data']['rangeMin']:0x1,_0x400225=_0x114987['callback_data']?_0x114987['callback_data'][_0x315402(0x21c)]:0x1;_0x3b8698+=_0x315402(0x284)+[_0x40eaa9,_0x400225]+_0x315402(0x570);break;}for(var _0x33c40c in _0x114987['damageBase']){var _0x11c61a=_0x114987[_0x315402(0x3f7)][_0x33c40c];_0x3b8698+=_0x315402(0x309)+_0x11c61a[_0x315402(0x3c5)]+'\x20'+_0x11c61a[_0x315402(0x322)]+'\x20'+_0x11c61a['type']+'\x20damage';}}for(var _0x54e158 in this['bonus'])if(BONUS_DESCRIPTION[this[_0x315402(0x251)]])_0x3b8698+='\x0a'+BONUS_DESCRIPTION[this[_0x315402(0x251)]];return _0x3b8698;};};function CalculeDamageWeaponFromPlayerStats(_0x5ad8e9){var _0x4e8afd=_0x110ced;if(!_0x5ad8e9||!_0x5ad8e9[_0x4e8afd(0x317)]||!_0x5ad8e9[_0x4e8afd(0x359)])return undefined;var _0x5f5c90=_0x5ad8e9[_0x4e8afd(0x359)],_0x316bb8=_0x5ad8e9[_0x4e8afd(0x317)],_0x19e470=[];for(var _0x1a43b0 in _0x5f5c90)_0x19e470['push']({'type':_0x5f5c90[_0x1a43b0][_0x4e8afd(0x491)],'value':_0x316bb8[_0x4e8afd(0x322)][_0x5f5c90[_0x1a43b0]['stats']]*_0x5f5c90[_0x1a43b0]['value']});return _0x19e470;}PLAYER_ARMOR=[{'name':'Wood\x20Armor','img':_0x110ced(0x1ff),'dmgArmor':[{'damage':_0x110ced(0x55b),'type':_0x110ced(0x230),'value':0x14},{'damage':_0x110ced(0x253),'value':0x2}]}],PLAYER_ARMOR=[{'name':_0x110ced(0x212),'img':_0x110ced(0x50b),'dmgArmor':[{'damage':_0x110ced(0x55b),'type':_0x110ced(0x230),'value':0x19},{'damage':_0x110ced(0x55b),'value':0x5}]}],Armor=function(){var _0x540f4b=_0x110ced;this['itemType']=_0x540f4b(0x573),this['name'],this[_0x540f4b(0x3fa)],this['dmgArmor'],this['createNewArmor']=_0x430004=>{var _0x394b30=_0x540f4b;if(!_0x430004||!_0x430004[_0x394b30(0x1d5)])return undefined;this['name']=_0x430004[_0x394b30(0x1d5)];var _0x70c507=PLAYER_ARMOR[_0x394b30(0x26d)](_0x53e8aa=>_0x53e8aa[_0x394b30(0x1d5)]==_0x430004[_0x394b30(0x1d5)]);if(!_0x70c507)return undefined;return this[_0x394b30(0x3fa)]=_0x70c507[_0x394b30(0x3fa)]?_0x70c507[_0x394b30(0x3fa)]:this[_0x394b30(0x1d5)],this['dmgArmor']=_0x70c507['dmgArmor'],this;},this['createArmorFromInput']=_0x10a835=>{for(var _0x385ce8 in _0x10a835)this[_0x385ce8]=_0x10a835[_0x385ce8];return this;},this[_0x540f4b(0x4af)]=()=>{var _0x813eba=_0x540f4b;return this[_0x813eba(0x1ca)]({'name':PLAYER_ARMOR[Math['floor'](Math['random']()*PLAYER_ARMOR[_0x813eba(0x2d1)])][_0x813eba(0x1d5)]});},this[_0x540f4b(0x22e)]=_0x468126=>{var _0x4f6c03=_0x540f4b;if(!_0x468126||!_0x468126['damages']||_0x468126[_0x4f6c03(0x4be)][_0x4f6c03(0x2d1)]<0x1)return 0x0;var _0x22573d=0x0;for(var _0x322b52 in _0x468126[_0x4f6c03(0x4be)]){var _0x239944=_0x468126['damages'][_0x322b52],_0x3705ba=_0x239944[_0x4f6c03(0x3c5)];console[_0x4f6c03(0x292)](_0x4f6c03(0x47c)+_0x239944+'\x20'+_0x3705ba);for(var _0x4f8272 in this['dmgArmor']){var _0x564bb5=this[_0x4f6c03(0x3ce)][_0x4f8272];console[_0x4f6c03(0x292)]('check\x20protect\x20'+[_0x564bb5[_0x4f6c03(0x359)],_0x564bb5['type'],_0x239944[_0x4f6c03(0x491)]]);if(_0x564bb5[_0x4f6c03(0x359)]==_0x239944[_0x4f6c03(0x491)]){console['log'](_0x4f6c03(0x23f)+_0x239944[_0x4f6c03(0x491)]+_0x4f6c03(0x520)+_0x564bb5[_0x4f6c03(0x3c5)]+_0x4f6c03(0x1f7)+_0x564bb5[_0x4f6c03(0x491)]);if(_0x564bb5[_0x4f6c03(0x491)])_0x3705ba=_0x3705ba*(0x1-_0x564bb5[_0x4f6c03(0x3c5)]/0x64);else _0x3705ba=_0x3705ba-_0x564bb5[_0x4f6c03(0x3c5)];}}if(_0x3705ba>0x0)_0x22573d+=_0x3705ba;}console['log'](_0x4f6c03(0x3a7)+_0x22573d+'\x20('+Math[_0x4f6c03(0x31d)](_0x22573d)+')');if(_0x22573d>0x0)return Math[_0x4f6c03(0x31d)](_0x22573d);return 0x0;},this['getArmorDescription']=()=>{var _0x560db9=_0x540f4b,_0x3fb6d9='\x27'+this[_0x560db9(0x1d5)]+'\x27';for(var _0xfd1963 in this[_0x560db9(0x3ce)]){_0x3fb6d9+='\x0a-reduce\x20';if(this['dmgArmor'][_0xfd1963][_0x560db9(0x491)])_0x3fb6d9+=this[_0x560db9(0x3ce)][_0xfd1963][_0x560db9(0x3c5)]+_0x560db9(0x22a);else _0x3fb6d9+=this[_0x560db9(0x3ce)][_0xfd1963][_0x560db9(0x3c5)]+'\x20';_0x3fb6d9+=this[_0x560db9(0x3ce)][_0xfd1963]['damage']+'\x20incoming\x20damage';}return _0x3fb6d9;};},HUMAN_NAME_LIST=[_0x110ced(0x390),'Kashton\x20McCarty','Halo\x20Knapp',_0x110ced(0x1cf),_0x110ced(0x335),_0x110ced(0x355),'Alexia\x20Anderson',_0x110ced(0x3f6),_0x110ced(0x38c),'Kai\x20Benjamin',_0x110ced(0x41d),_0x110ced(0x286),_0x110ced(0x54a),'Wilson\x20Gill',_0x110ced(0x2d8),'Kade\x20House','Sariah\x20Cabrera',_0x110ced(0x21b),_0x110ced(0x264),'Kingston\x20Howell',_0x110ced(0x423),_0x110ced(0x3ad),_0x110ced(0x38b),_0x110ced(0x517),_0x110ced(0x36f),'Denver\x20Leal',_0x110ced(0x560),_0x110ced(0x376),_0x110ced(0x1fa),_0x110ced(0x489),'Annalise\x20Carson','Ares\x20Long',_0x110ced(0x4bc),_0x110ced(0x45d),_0x110ced(0x412),_0x110ced(0x1ee),_0x110ced(0x4ef),_0x110ced(0x408),_0x110ced(0x210),_0x110ced(0x1e2),'Kaydence\x20Xiong',_0x110ced(0x538),'Zelda\x20Stevens',_0x110ced(0x28e),_0x110ced(0x4e1),_0x110ced(0x4a5),_0x110ced(0x43e),_0x110ced(0x308),_0x110ced(0x301),_0x110ced(0x585),_0x110ced(0x24a),'Sergio\x20Welch',_0x110ced(0x21d),'Zachariah\x20Berg',_0x110ced(0x313),'Cillian\x20Ray',_0x110ced(0x3d2),_0x110ced(0x21f),_0x110ced(0x232),_0x110ced(0x314),_0x110ced(0x336),_0x110ced(0x2e1),'Capri\x20Glenn',_0x110ced(0x20f),_0x110ced(0x3c4),_0x110ced(0x3e6),'Stephanie\x20Bradley',_0x110ced(0x54b),'Scarlett\x20Mays','Jadiel\x20McDonald','Daisy\x20Robinson',_0x110ced(0x310),'Itzel\x20Allison',_0x110ced(0x341),_0x110ced(0x29c),'Grady\x20O’Neal','Treasure\x20Quintana',_0x110ced(0x32d),_0x110ced(0x42f),_0x110ced(0x3b5),_0x110ced(0x4ea),'Malachi\x20Garza',_0x110ced(0x556),_0x110ced(0x4c0),_0x110ced(0x4b8),_0x110ced(0x209),_0x110ced(0x2f9),'Jamison\x20Pace',_0x110ced(0x326),_0x110ced(0x4aa),'Skye\x20Ramirez',_0x110ced(0x4e6),_0x110ced(0x29e),'Ander\x20Wise',_0x110ced(0x2ed),_0x110ced(0x1f2),'Bonnie\x20Bishop',_0x110ced(0x2f1),_0x110ced(0x574),_0x110ced(0x2f7)],MessageSystem=function(){var _0x5a321b=_0x110ced;world[_0x5a321b(0x327)]=this,this[_0x5a321b(0x4b5)]=[],COLOR_SYSTEM_DEFAULT='#000000',MAX_MESSAGE=0xc8,this[_0x5a321b(0x363)]=_0x1a944b=>{var _0x4d66a0=_0x5a321b;if(!_0x1a944b||!_0x1a944b['txt'])return;this[_0x4d66a0(0x4b5)][_0x4d66a0(0x4f7)]({'type':_0x1a944b[_0x4d66a0(0x491)],'txt':_0x1a944b[_0x4d66a0(0x3d3)]});while(this[_0x4d66a0(0x4b5)][_0x4d66a0(0x2d1)]>MAX_MESSAGE)this[_0x4d66a0(0x4b5)][_0x4d66a0(0x374)]();},this[_0x5a321b(0x363)]({'txt':'start\x20message\x20system'}),this[_0x5a321b(0x361)]=_0x3a80df=>{var _0x3d18c8=_0x5a321b;if(!_0x3a80df||!this[_0x3d18c8(0x4b5)]||this['msg'][_0x3d18c8(0x2d1)]<0x1)return[];var _0x284873=_0x3a80df[_0x3d18c8(0x454)]&&_0x3a80df[_0x3d18c8(0x454)]<this[_0x3d18c8(0x4b5)][_0x3d18c8(0x2d1)]?_0x3a80df['page']:0x0,_0x5535df=_0x3a80df['lineMax']?_0x3a80df[_0x3d18c8(0x2ab)]:0xa;while(_0x284873+_0x5535df>this['msg'][_0x3d18c8(0x2d1)]&&_0x5535df>0x0)_0x5535df--;var _0x43a705=[],_0x28554a=0x0;while(_0x28554a<_0x5535df&&this['msg'][_0x284873+_0x28554a]){_0x43a705[_0x3d18c8(0x417)](this[_0x3d18c8(0x4b5)][_0x284873+_0x28554a]),_0x28554a++;}return _0x43a705;};},PlayerVillage=function(_0x26aa21){var _0x159082=_0x110ced;this[_0x159082(0x1d5)]=_0x26aa21['name']?_0x26aa21[_0x159082(0x1d5)]:HUMAN_NAME_LIST[Math[_0x159082(0x31d)](Math['random']()*HUMAN_NAME_LIST[_0x159082(0x2d1)])],this[_0x159082(0x425)]=_0x26aa21[_0x159082(0x425)]?_0x26aa21[_0x159082(0x425)]:{'r':Math[_0x159082(0x31d)](Math['random']()*0x100),'g':Math[_0x159082(0x31d)](Math[_0x159082(0x349)]()*0x100),'b':Math[_0x159082(0x31d)](Math['random']()*0x100)},this['bodyPartImg']=undefined,this[_0x159082(0x46c)]=![],this[_0x159082(0x3e8)]=_0x26aa21[_0x159082(0x3e8)]?_0x26aa21[_0x159082(0x3e8)]:PLAYER_FACE_IMG[Math[_0x159082(0x31d)](Math[_0x159082(0x349)]()*PLAYER_FACE_IMG[_0x159082(0x2d1)])],this['body_type']=_0x26aa21[_0x159082(0x34a)]?_0x26aa21[_0x159082(0x34a)]:PLAYER_BODY_IMG[Math[_0x159082(0x31d)](Math[_0x159082(0x349)]()*PLAYER_BODY_IMG[_0x159082(0x2d1)])],this['armor']=_0x26aa21[_0x159082(0x573)]?_0x26aa21[_0x159082(0x573)]:undefined,this['weapon']=_0x26aa21[_0x159082(0x339)]?_0x26aa21[_0x159082(0x339)]:undefined,this['speed']=_0x26aa21['speed']?_0x26aa21[_0x159082(0x4c3)]:0x64,this['ActionPointMax']=_0x26aa21[_0x159082(0x3bf)]?_0x26aa21[_0x159082(0x3bf)]:0x64,this[_0x159082(0x345)]=_0x26aa21[_0x159082(0x345)]?_0x26aa21[_0x159082(0x345)]:0x64,this['stats']=_0x26aa21['stats'],this[_0x159082(0x2d0)]=_0x26aa21['movePCost']?_0x26aa21[_0x159082(0x2d0)]:PLAYER_DEFAUTL_MOVECOST,this[_0x159082(0x249)]=_0x26aa21['size']?_0x26aa21[_0x159082(0x249)]:0x1,this['id']=PLAYER_ID++,this['villageActionPointMax']=_0x26aa21[_0x159082(0x297)]?_0x26aa21[_0x159082(0x297)]:0xa,this[_0x159082(0x56f)]=this[_0x159082(0x297)],this[_0x159082(0x3f8)]=_0x26aa21[_0x159082(0x3f8)]?_0x26aa21[_0x159082(0x3d5)]:0x0,this['lvl']=_0x26aa21[_0x159082(0x31e)]?_0x26aa21[_0x159082(0x31e)]:0x1,this[_0x159082(0x53e)]=_0x26aa21[_0x159082(0x53e)]?_0x26aa21[_0x159082(0x53e)]:0x0,this[_0x159082(0x479)]=[],this[_0x159082(0x348)]=()=>{var _0x12fa1d=_0x159082,_0x2341ee=[],_0x1f3c62=Math[_0x12fa1d(0x31d)](Math[_0x12fa1d(0x349)]()*0x64),_0x4f7f03=_0x12fa1d(0x322),_0xe10af7=[{'type':_0x12fa1d(0x322),'stat':_0x12fa1d(0x383),'value':0x1},{'type':_0x12fa1d(0x322),'stat':'Dexterity','value':0x1},{'type':_0x12fa1d(0x56c),'stat':_0x12fa1d(0x345),'value':0x5},{'type':'playerstats','stat':_0x12fa1d(0x4c3),'value':0x2},{'type':_0x12fa1d(0x56c),'stat':_0x12fa1d(0x2d0),'value':-0x1},{'type':'playerstats','stat':_0x12fa1d(0x3bf),'value':0x4},{'type':_0x12fa1d(0x56c),'stat':_0x12fa1d(0x297),'value':0x5}];while(_0x2341ee[_0x12fa1d(0x2d1)]<0x3){for(var _0x30d8e1 in _0xe10af7){if(Math[_0x12fa1d(0x31d)](Math['random']()*0x64)<0x32)_0x2341ee[_0x12fa1d(0x417)](_0xe10af7[_0x30d8e1]);if(_0x2341ee[_0x12fa1d(0x2d1)]>0x2)break;}}return this[_0x12fa1d(0x479)]=_0x2341ee,_0x2341ee;},this['ApplyListPerkUp']=_0x23f136=>{var _0x306345=_0x159082;if(!_0x23f136||!_0x23f136[_0x306345(0x491)]||!this['lvlup'])return;if(_0x23f136[_0x306345(0x491)]==_0x306345(0x56c))this[_0x23f136[_0x306345(0x482)]]+=_0x23f136[_0x306345(0x3c5)];else _0x23f136[_0x306345(0x491)]==_0x306345(0x322)&&(this[_0x306345(0x322)][_0x23f136[_0x306345(0x482)]]+=_0x23f136['value']);world['village'][_0x306345(0x327)]['addMessage']({'type':'player','txt':this[_0x306345(0x1d5)]+_0x306345(0x4de)+_0x23f136[_0x306345(0x482)]+'\x20'+_0x23f136[_0x306345(0x3c5)]}),this[_0x306345(0x479)]=[],this[_0x306345(0x53e)]--,this[_0x306345(0x31e)]++;},this[_0x159082(0x54f)]=()=>{var _0xdfc705=_0x159082,_0x2dc2ca=0x32*(0x1-this[_0xdfc705(0x31e)]/0x64),_0x1eace3=Math[_0xdfc705(0x31d)](Math[_0xdfc705(0x349)]()*0x64);if(_0x1eace3<_0x2dc2ca)return this[_0xdfc705(0x53e)]++,world[_0xdfc705(0x59e)]['MessageSystem'][_0xdfc705(0x363)]({'type':_0xdfc705(0x317),'txt':this[_0xdfc705(0x1d5)]+_0xdfc705(0x32c)}),world[_0xdfc705(0x4ee)]['playSound']('lvlup'),!![];return![];},this[_0x159082(0x43f)]=()=>{var _0x3d4a15=_0x159082,_0x534143=''+this[_0x3d4a15(0x1d5)];_0x534143+='\x0a'+'Life\x20Max\x20:\x20'+this[_0x3d4a15(0x345)],_0x534143+='\x0a'+_0x3d4a15(0x290)+this[_0x3d4a15(0x3bf)],_0x534143+='\x0a'+'Speed\x20:\x20'+this['speed'];for(var _0x1bf5ef in this[_0x3d4a15(0x322)])_0x534143+='\x0a'+_0x1bf5ef+_0x3d4a15(0x23a)+this[_0x3d4a15(0x322)][_0x1bf5ef];return this[_0x3d4a15(0x339)]&&(_0x534143+='\x0a'+_0x3d4a15(0x4cd)+this[_0x3d4a15(0x339)][_0x3d4a15(0x1d5)]+'\x27',_0x534143+='\x0a'+_0x3d4a15(0x32a)+[this['weapon']['blockTargetingFunction'][_0x3d4a15(0x5a1)]]),_0x534143;},this[_0x159082(0x3b8)]=()=>{var _0x191b35=_0x159082;if(!this['villageActionPoint'])return[];var _0x269c49=world[_0x191b35(0x59e)]['getBatFromPlayer'](this);if(!_0x269c49||!_0x269c49[_0x191b35(0x4fd)]||!_0x269c49[_0x191b35(0x4fd)][_0x191b35(0x2d1)])return[];var _0x3b26f9=_0x269c49['callback_actionPlayer']['filter'](_0x193e86=>_0x193e86[_0x191b35(0x441)]<=this[_0x191b35(0x56f)]);return _0x3b26f9;},this[_0x159082(0x1c8)]=()=>{var _0x49f16e=_0x159082;this[_0x49f16e(0x339)]&&(world[_0x49f16e(0x59e)][_0x49f16e(0x584)]({'weapon':this['weapon']}),this[_0x49f16e(0x339)]=undefined);},this['unequipArmor']=()=>{var _0x194d4a=_0x159082;if(this[_0x194d4a(0x573)])world[_0x194d4a(0x59e)][_0x194d4a(0x2c9)]({'armor':this[_0x194d4a(0x573)]});this[_0x194d4a(0x573)]=undefined,this['bodyPartImgReady']=![];},this[_0x159082(0x31b)]=_0xb49e21=>{var _0x5a4058=_0x159082;if(!_0xb49e21||!_0xb49e21['item'])return;if(_0xb49e21[_0x5a4058(0x3be)][_0x5a4058(0x4bb)]==_0x5a4058(0x573))this[_0x5a4058(0x3bb)]();else{if(_0xb49e21[_0x5a4058(0x3be)][_0x5a4058(0x4bb)]==_0x5a4058(0x339))this[_0x5a4058(0x1c8)]();}},this['equipWeapon']=_0x5b33dc=>{var _0x4ffc01=_0x159082;if(!_0x5b33dc||!_0x5b33dc[_0x4ffc01(0x339)])return;var _0x2dd975=-0x1;for(var _0xae1c01 in world[_0x4ffc01(0x59e)]['Items'])if(world[_0x4ffc01(0x59e)]['Items'][_0xae1c01]==_0x5b33dc[_0x4ffc01(0x339)])_0x2dd975=_0xae1c01;if(_0x2dd975==-0x1)return;if(this[_0x4ffc01(0x339)])this['unequipWeapon']();this[_0x4ffc01(0x339)]=_0x5b33dc[_0x4ffc01(0x339)],world[_0x4ffc01(0x59e)]['Items'][_0x4ffc01(0x591)](_0x2dd975,0x1);if(world['villageUI']&&world[_0x4ffc01(0x3f3)][_0x4ffc01(0x597)]==_0x5b33dc[_0x4ffc01(0x339)])world[_0x4ffc01(0x3f3)][_0x4ffc01(0x597)]=undefined;},this[_0x159082(0x507)]=_0x2cf610=>{var _0x575e39=_0x159082;if(!_0x2cf610||!_0x2cf610[_0x575e39(0x573)])return;var _0x50f39c=-0x1;for(var _0x898172 in world[_0x575e39(0x59e)]['Items'])if(world[_0x575e39(0x59e)][_0x575e39(0x294)][_0x898172]==_0x2cf610[_0x575e39(0x573)])_0x50f39c=_0x898172;if(_0x50f39c==-0x1)return;if(this['armor'])this[_0x575e39(0x3bb)]();this[_0x575e39(0x573)]=_0x2cf610['armor'],world[_0x575e39(0x59e)][_0x575e39(0x294)]['splice'](_0x50f39c,0x1);if(world[_0x575e39(0x3f3)]&&world[_0x575e39(0x3f3)][_0x575e39(0x597)]==_0x2cf610[_0x575e39(0x573)])world[_0x575e39(0x3f3)][_0x575e39(0x597)]=undefined;this[_0x575e39(0x46c)]=![];},this[_0x159082(0x338)]=_0x3ba337=>{var _0x3ce215=_0x159082;if(!_0x3ba337||!_0x3ba337[_0x3ce215(0x3be)])return;if(_0x3ba337['item']['itemType']==_0x3ce215(0x573))this[_0x3ce215(0x507)]();else{if(_0x3ba337['item']['itemType']==_0x3ce215(0x339))this[_0x3ce215(0x577)]();}},this['LoadPlayerVillageImage']=()=>{var _0x48ef94=_0x159082,_0x3e99f9=world[_0x48ef94(0x3d1)];if(!this[_0x48ef94(0x3e8)])this[_0x48ef94(0x3e8)]=PLAYER_FACE_IMG[Math['floor'](Math['random']()*PLAYER_FACE_IMG[_0x48ef94(0x2d1)])];if(!this[_0x48ef94(0x34a)])this[_0x48ef94(0x34a)]=PLAYER_BODY_IMG[Math['floor'](Math[_0x48ef94(0x349)]()*PLAYER_BODY_IMG[_0x48ef94(0x2d1)])];var _0x35ee61=[];_0x35ee61[_0x48ef94(0x417)]({'name':this[_0x48ef94(0x34a)],'needColor':!![]}),_0x35ee61[_0x48ef94(0x417)]({'name':this[_0x48ef94(0x3e8)],'needColor':![]});if(this[_0x48ef94(0x573)])_0x35ee61[_0x48ef94(0x417)]({'name':this[_0x48ef94(0x573)][_0x48ef94(0x1d5)],'needColor':![]});for(var _0x315b43 in _0x35ee61)if(!_0x3e99f9[_0x35ee61[_0x315b43][_0x48ef94(0x1d5)]]||!_0x3e99f9[_0x35ee61[_0x315b43][_0x48ef94(0x1d5)]][_0x48ef94(0x487)])return console[_0x48ef94(0x292)](_0x48ef94(0x201)+_0x35ee61[_0x315b43]['name']);var _0x282f62=document[_0x48ef94(0x49b)](_0x48ef94(0x1d9));_0x282f62[_0x48ef94(0x402)]=PLAYER_DEFAULT_SIZEX,_0x282f62[_0x48ef94(0x496)]=PLAYER_DEFAULT_SIZEY;var _0x3b64b1=_0x282f62['getContext']('2d');for(var _0x315b43 in _0x35ee61){var _0xf249f=_0x35ee61[_0x315b43][_0x48ef94(0x1d5)];if(!_0x3e99f9[_0xf249f])return console[_0x48ef94(0x292)](_0x48ef94(0x22b)+_0xf249f);var _0x4cf166=undefined;if(_0x35ee61[_0x315b43][_0x48ef94(0x258)])_0x4cf166=_0x3e99f9[_0xf249f][_0x48ef94(0x360)](0x0,0xff,0x0,this[_0x48ef94(0x425)]['r'],this[_0x48ef94(0x425)]['g'],this[_0x48ef94(0x425)]['b']);else _0x4cf166=_0x3e99f9[_0xf249f][_0x48ef94(0x3fa)];if(!_0x4cf166||!_0x4cf166[_0x48ef94(0x208)])return console[_0x48ef94(0x292)](_0x48ef94(0x439));_0x3b64b1[_0x48ef94(0x569)](_0x4cf166,0x0,0x0);}var _0x4cf166=new Image();return _0x4cf166['src']=_0x282f62[_0x48ef94(0x58f)](),this[_0x48ef94(0x486)]=_0x4cf166,console[_0x48ef94(0x292)](_0x48ef94(0x3ea)+this['name']+_0x48ef94(0x333)),this[_0x48ef94(0x46c)]=!![],!![];},this[_0x159082(0x424)]();},Batiment=function(_0x36074a){var _0x24914c=_0x110ced;this[_0x24914c(0x1d5)]=_0x36074a[_0x24914c(0x1d5)],this['player_size']=_0x36074a[_0x24914c(0x4a7)]?_0x36074a[_0x24914c(0x4a7)]:0x0,this[_0x24914c(0x4fd)]=_0x36074a['callback_actionPlayer'],this[_0x24914c(0x3d9)]=[],this['description']=_0x36074a[_0x24914c(0x3fe)]?_0x36074a[_0x24914c(0x3fe)]:_0x24914c(0x312),this[_0x24914c(0x59b)]=_0x36074a['blocking_end_turn']?_0x36074a[_0x24914c(0x59b)]:![],this['imgIcon']=_0x36074a[_0x24914c(0x49a)]?_0x36074a['imgIcon']:undefined,this[_0x24914c(0x243)]=_0x36074a['build_progression']?_0x36074a[_0x24914c(0x243)]:undefined,this[_0x24914c(0x31e)]=_0x36074a[_0x24914c(0x31e)]?_0x36074a[_0x24914c(0x31e)]:undefined,this[_0x24914c(0x3c3)]=_0x36074a[_0x24914c(0x3c3)]?_0x36074a[_0x24914c(0x3c3)]:[],this[_0x24914c(0x44c)]=_0x36074a[_0x24914c(0x44c)]?_0x36074a[_0x24914c(0x44c)]:undefined,this[_0x24914c(0x1df)]=_0x38277c=>{var _0x5b6284=_0x24914c;if(!_0x38277c||!_0x38277c[_0x5b6284(0x317)]||!_0x38277c[_0x5b6284(0x317)]['villageActionPoint'])return![];var _0x979c3=this[_0x5b6284(0x243)]<_0x38277c[_0x5b6284(0x317)][_0x5b6284(0x56f)]?this[_0x5b6284(0x243)]:_0x38277c[_0x5b6284(0x317)][_0x5b6284(0x56f)];return this[_0x5b6284(0x243)]-=_0x979c3,_0x38277c['player'][_0x5b6284(0x56f)]-=_0x979c3,world[_0x5b6284(0x59e)][_0x5b6284(0x327)][_0x5b6284(0x363)]({'type':_0x5b6284(0x4b2),'txt':_0x38277c[_0x5b6284(0x317)][_0x5b6284(0x1d5)]+_0x5b6284(0x1da)+this[_0x5b6284(0x1d5)]+_0x5b6284(0x5a7)+_0x979c3+')'}),this[_0x5b6284(0x243)]<0x1&&(this['build_progression']=undefined,world[_0x5b6284(0x59e)][_0x5b6284(0x327)][_0x5b6284(0x363)]({'type':_0x5b6284(0x4b2),'txt':_0x5b6284(0x1dd)+this[_0x5b6284(0x1d5)]+_0x5b6284(0x465)})),world[_0x5b6284(0x4ee)]['playSound'](_0x5b6284(0x475)),!![];},this[_0x24914c(0x3cc)]=()=>{var _0x518e01=_0x24914c;if(!this[_0x518e01(0x3c3)]||!this['upgrades'][_0x518e01(0x2d1)])return undefined;return this[_0x518e01(0x3c3)][0x0];},this[_0x24914c(0x4ca)]=()=>{var _0xbc12c1=_0x24914c;if(!this[_0xbc12c1(0x3c3)]||!this[_0xbc12c1(0x3c3)][_0xbc12c1(0x2d1)])return![];var _0x57613d=this[_0xbc12c1(0x3cc)]();if(_0x57613d[_0xbc12c1(0x329)]){if(!world[_0xbc12c1(0x59e)]['checkHaveResources'](_0x57613d))return;}return world[_0xbc12c1(0x4ee)][_0xbc12c1(0x35b)](_0xbc12c1(0x475)),!![];},this[_0x24914c(0x404)]=()=>{var _0x230dc1=_0x24914c,_0x21baaa=this[_0x230dc1(0x3cc)]();if(this[_0x230dc1(0x4ca)]()){world[_0x230dc1(0x59e)][_0x230dc1(0x327)][_0x230dc1(0x363)]({'type':_0x230dc1(0x4b2),'txt':this['name']+_0x230dc1(0x4ae)+(this[_0x230dc1(0x31e)]+0x1)}),world['village'][_0x230dc1(0x561)](_0x21baaa);if(this['upgrades_callback'])window[this[_0x230dc1(0x44c)]]({'bat':this});this[_0x230dc1(0x3c3)][_0x230dc1(0x41a)](),this['lvl']++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':_0x110ced(0x530),'type':'weapon','bat':_0x110ced(0x213),'resources':{'wood':0xa},'APcost':0xa,'description':'this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it'},{'name':_0x110ced(0x2e3),'type':'armor','bat':'workshop','resources':{'wood':0x19},'APcost':0xa,'description':_0x110ced(0x4e0)},{'name':'Stone\x20Axe','type':'weapon','bat':'workshop','resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':_0x110ced(0x551)},{'name':'Stone\x20Pickaxe','type':_0x110ced(0x339),'bat':'workshop','resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x110ced(0x50c)},{'name':_0x110ced(0x531),'type':_0x110ced(0x339),'bat':_0x110ced(0x213),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':'hit\x20the\x20target\x20behind'},{'name':_0x110ced(0x212),'type':_0x110ced(0x573),'bat':_0x110ced(0x213),'resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':_0x110ced(0x532)},{'name':_0x110ced(0x33c),'type':_0x110ced(0x339),'bat':_0x110ced(0x47e),'resources':{'wood':0x64},'APcost':0xa,'description':'hit\x20them\x20from\x20behind'}],Village=function(_0x374b69){var _0x2a3297=_0x110ced;this[_0x2a3297(0x2cc)]=_0x374b69['nb_houses']?_0x374b69[_0x2a3297(0x1db)]:0x1,this['resources']=_0x374b69['resources']?_0x374b69[_0x2a3297(0x329)]:{'food':0x0,'wood':0x0},this['players']=_0x374b69[_0x2a3297(0x216)]?_0x374b69[_0x2a3297(0x216)]:[],this[_0x2a3297(0x501)]=_0x374b69[_0x2a3297(0x501)]?_0x374b69[_0x2a3297(0x501)]:[],this[_0x2a3297(0x56a)]=[],this[_0x2a3297(0x552)]=_0x374b69[_0x2a3297(0x552)]?_0x374b69['week']:0x0,this['MessageSystem']=new MessageSystem();var _0x53d615=0x0;PHASE_NEWTURN=_0x53d615++,PHASE_PLACEPLAYER=_0x53d615++,PHASE_ACTIONPLAYER=_0x53d615++,PHASE_COMBAT=_0x53d615++,PHASE_END_TURN=_0x53d615++,this[_0x2a3297(0x53d)]=PHASE_NEWTURN,this['Items']=[],this['playerColor']=_0x374b69[_0x2a3297(0x443)]?_0x374b69['playerColor']:HUMAN_DEFAULT_COLOR[Math[_0x2a3297(0x31d)](Math[_0x2a3297(0x349)]()*HUMAN_DEFAULT_COLOR[_0x2a3297(0x2d1)])],this[_0x2a3297(0x3a2)]=()=>{var _0x149a18=_0x2a3297,_0x2089db=Math[_0x149a18(0x31d)](this[_0x149a18(0x552)]/(0xc*0x4)),_0x4fdf49=Math[_0x149a18(0x31d)](this[_0x149a18(0x552)]/0x4)%0xc,_0x51fa46=this[_0x149a18(0x552)]%0x4+0x1,_0x4ecb26=_0x149a18(0x4b7)+this[_0x149a18(0x552)];_0x4ecb26+=_0x149a18(0x23a);if(_0x2089db)_0x4ecb26+=_0x149a18(0x248)+_0x2089db;if(_0x4fdf49)_0x4ecb26+=_0x149a18(0x369)+_0x4fdf49;return _0x4ecb26+=_0x149a18(0x47a)+_0x51fa46,_0x4ecb26;},this['get_valid_craft_list']=()=>{var _0x1fc74e=_0x2a3297,_0x304f68=[];for(var _0x395682 in CRAFT_LIST){var _0xb8f516=CRAFT_LIST[_0x395682],_0x4ee885=this[_0x1fc74e(0x501)][_0x1fc74e(0x26d)](_0x3a7c42=>_0x3a7c42['name']==_0xb8f516[_0x1fc74e(0x27f)]);if(!_0x4ee885||_0x4ee885['build_progression'])continue;_0x304f68[_0x1fc74e(0x417)](_0xb8f516);}return _0x304f68;},this['get_valid_player_for_craft']=_0x21fcaf=>{var _0x220791=_0x2a3297;if(!_0x21fcaf||!_0x21fcaf[_0x220791(0x43b)])return[];var _0x21282c=[],_0x564a52=_0x21fcaf[_0x220791(0x43b)];for(var _0x23aee1 in this[_0x220791(0x216)]){var _0x33dd87=this['players'][_0x23aee1],_0x91dd86=this[_0x220791(0x4df)](_0x33dd87);if(!_0x91dd86||_0x91dd86[_0x220791(0x1d5)]!=_0x564a52['bat'])continue;if(_0x33dd87[_0x220791(0x56f)]<_0x564a52['APcost'])continue;for(var _0x5d8c8f in _0x564a52[_0x220791(0x40f)]){var _0x46df9e=_0x5d8c8f,_0x48fa87=_0x564a52['resource'][_0x5d8c8f];if(!this[_0x220791(0x329)][_0x220791(0x547)]||this['resources'][_0x220791(0x547)]<_0x48fa87)continue;}_0x21282c[_0x220791(0x417)](_0x33dd87);}return _0x21282c;},this['TryCraftItem']=_0x5940b5=>{var _0x1a9723=_0x2a3297;if(!_0x5940b5||!_0x5940b5[_0x1a9723(0x43b)]||!_0x5940b5[_0x1a9723(0x317)])return console[_0x1a9723(0x292)]('bad\x20input');var _0x4b94b8=this[_0x1a9723(0x211)](),_0x3839bf=_0x5940b5['player'];if(!_0x4b94b8||_0x4b94b8['length']<0x1)return console[_0x1a9723(0x292)](_0x1a9723(0x4fe));_0x4b94b8=_0x4b94b8['find'](_0x16bfec=>_0x16bfec==_0x5940b5[_0x1a9723(0x43b)]);if(!_0x4b94b8)return console[_0x1a9723(0x292)](_0x1a9723(0x1e6));if(!this[_0x1a9723(0x395)]({'craft':_0x4b94b8})[_0x1a9723(0x26d)](_0x48cdc6=>_0x48cdc6==_0x3839bf))return console[_0x1a9723(0x292)](_0x1a9723(0x2d5));for(var _0x5239f6 in _0x4b94b8['resources']){var _0x354801=_0x5239f6,_0x496c00=_0x4b94b8['resources'][_0x5239f6];if(this[_0x1a9723(0x329)][_0x5239f6]<_0x496c00)return this[_0x1a9723(0x327)]['addMessage']({'txt':_0x1a9723(0x21a)}),![];}if(_0x3839bf[_0x1a9723(0x56f)]<_0x4b94b8[_0x1a9723(0x5a6)])return this[_0x1a9723(0x327)][_0x1a9723(0x363)]({'txt':_0x3839bf[_0x1a9723(0x1d5)]+_0x1a9723(0x34c)}),![];_0x3839bf['villageActionPoint']-=_0x4b94b8[_0x1a9723(0x5a6)];switch(_0x4b94b8[_0x1a9723(0x491)]){case _0x1a9723(0x339):this['addWeaponToVillageInventory']({'weapon':new Weapon()[_0x1a9723(0x582)]({'name':_0x4b94b8['name']})});break;case'armor':this[_0x1a9723(0x2c9)]({'armor':new Armor()[_0x1a9723(0x1ca)]({'name':_0x4b94b8['name']})});}switch(_0x4b94b8['bat']){case _0x1a9723(0x213):world['Music'][_0x1a9723(0x35b)](_0x1a9723(0x38e));break;case'Bow\x20workshop':world[_0x1a9723(0x4ee)][_0x1a9723(0x35b)](_0x1a9723(0x38e));break;}this[_0x1a9723(0x327)][_0x1a9723(0x363)]({'type':'job','txt':_0x3839bf[_0x1a9723(0x1d5)]+_0x1a9723(0x35c)+_0x4b94b8[_0x1a9723(0x1d5)]}),this[_0x1a9723(0x561)](_0x4b94b8);},this[_0x2a3297(0x41e)]=_0x20422c=>{var _0x9e051c=_0x2a3297;this['Items']=[];for(var _0x4fea5e in _0x20422c){var _0x476db9=_0x20422c[_0x4fea5e];switch(_0x476db9[_0x9e051c(0x4bb)]){case _0x9e051c(0x339):this[_0x9e051c(0x584)]({'weapon':new Weapon()[_0x9e051c(0x398)](_0x476db9)});break;case _0x9e051c(0x573):this['addArmorToVillageInventory']({'armor':new Armor()['createArmorFromInput'](_0x476db9)});}}},this[_0x2a3297(0x37c)]=_0x3719e2=>{var _0x32d281=_0x2a3297;if(!_0x3719e2)return undefined;var _0x4042be=new PlayerVillage({});for(var _0x2fe4b5 in _0x3719e2){if(_0x3719e2[_0x2fe4b5]==undefined)continue;if(_0x2fe4b5==_0x32d281(0x486)||_0x2fe4b5==_0x32d281(0x46c))continue;else{if(_0x2fe4b5==_0x32d281(0x339))_0x4042be[_0x32d281(0x339)]=new Weapon()[_0x32d281(0x398)](_0x3719e2[_0x2fe4b5]);else{if(_0x2fe4b5==_0x32d281(0x573))_0x4042be[_0x32d281(0x573)]=new Armor()[_0x32d281(0x51c)](_0x3719e2[_0x2fe4b5]);else _0x4042be[_0x2fe4b5]=_0x3719e2[_0x2fe4b5];}}}return this['players']['push'](_0x4042be),_0x4042be[_0x32d281(0x424)](),_0x4042be;},this[_0x2a3297(0x1cc)]=_0x588a4a=>{var _0x5e6563=_0x2a3297;if(this['players'][_0x5e6563(0x2d1)]>=this[_0x5e6563(0x2cc)])return undefined;var _0x3423bb={'r':this[_0x5e6563(0x443)]['r']-0x5+Math[_0x5e6563(0x31d)](Math[_0x5e6563(0x349)]()*0xb),'g':this[_0x5e6563(0x443)]['g']-0x5+Math['floor'](Math['random']()*0xb),'b':this[_0x5e6563(0x443)]['b']-0x5+Math[_0x5e6563(0x31d)](Math[_0x5e6563(0x349)]()*0xb)},_0x53be7e=new PlayerVillage({'color':_0x3423bb,'speed':0x64-0x5+Math[_0x5e6563(0x31d)](Math[_0x5e6563(0x349)]()*0xb),'stats':{'Strength':0xa-0x5+Math[_0x5e6563(0x31d)](Math[_0x5e6563(0x349)]()*0xb),'Dexterity':0xa-0x5+Math['floor'](Math['random']()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math[_0x5e6563(0x31d)](Math[_0x5e6563(0x349)]()*0x5),'lifeMax':0x64-0x14+Math[_0x5e6563(0x31d)](Math['random']()*0x29),'weapon':_0x588a4a[_0x5e6563(0x339)]?new Weapon()['createNewWeapon']({'name':_0x588a4a['weapon']}):undefined,'armor':_0x588a4a['armor']?new Armor()[_0x5e6563(0x1ca)]({'name':_0x588a4a['armor']}):undefined,'size':0x1});return this['players'][_0x5e6563(0x417)](_0x53be7e),_0x53be7e;},this['getBatFromPlayer']=_0x39eb18=>{var _0x3aeadc=_0x2a3297;if(!_0x39eb18)return undefined;for(var _0x5d6d99 in this['bats']){var _0x1af960=this[_0x3aeadc(0x501)][_0x5d6d99][_0x3aeadc(0x3d9)][_0x3aeadc(0x26d)](_0x83f545=>_0x83f545==_0x39eb18);if(_0x1af960)return this[_0x3aeadc(0x501)][_0x5d6d99];}return undefined;},this[_0x2a3297(0x272)]=()=>{var _0x49f84c=_0x2a3297;this[_0x49f84c(0x2cc)]=0x5,this[_0x49f84c(0x329)]={'food':0xc8,'wood':0xc8,'stone':0xc8};for(var _0x3b53cf=0x0;_0x3b53cf<0x5;_0x3b53cf++){if(_0x3b53cf==0x0)this[_0x49f84c(0x1cc)]({'weapon':_0x49f84c(0x448),'armor':_0x49f84c(0x212)});else this[_0x49f84c(0x1cc)]({});}this['addDefendVillage'](),this[_0x49f84c(0x430)](),this[_0x49f84c(0x2a0)](),this['createBatToBuildList']();},this[_0x2a3297(0x2bb)]=_0x3dd4c0=>{var _0x22942a=_0x2a3297;if(!_0x3dd4c0||!_0x3dd4c0[_0x22942a(0x317)])return![];var _0x48f434=_0x3dd4c0[_0x22942a(0x317)];for(var _0x55201f in this[_0x22942a(0x501)]){var _0xe5988f=this[_0x22942a(0x501)][_0x55201f];for(var _0x119c5c in _0xe5988f[_0x22942a(0x3d9)])if(_0xe5988f[_0x22942a(0x3d9)][_0x119c5c]==_0x48f434)_0xe5988f[_0x22942a(0x3d9)][_0x22942a(0x591)](_0x119c5c,0x1);}},this[_0x2a3297(0x3eb)]=_0x2e3637=>{var _0x530077=_0x2a3297;if(!_0x2e3637||!_0x2e3637['player']||!_0x2e3637['bat'])return![];if(_0x2e3637['bat']['players_inside']['length']>=_0x2e3637[_0x530077(0x27f)][_0x530077(0x4a7)])return![];var _0xa05060=_0x2e3637[_0x530077(0x317)];for(var _0x577f62 in this[_0x530077(0x501)]){var _0x214967=this['bats'][_0x577f62];for(var _0x2968dc in _0x214967[_0x530077(0x3d9)])if(_0x214967[_0x530077(0x3d9)][_0x2968dc]==_0xa05060)_0x214967[_0x530077(0x3d9)][_0x530077(0x591)](_0x2968dc,0x1);}_0x2e3637[_0x530077(0x27f)][_0x530077(0x3d9)][_0x530077(0x417)](_0xa05060);},this['removeResource']=_0x1c9e16=>{var _0x32f479=_0x2a3297;if(!_0x1c9e16||!_0x1c9e16['resources'])return console[_0x32f479(0x292)]('bad\x20input\x20remove\x20resource');var _0x106366=![],_0x154186=_0x32f479(0x4f8);for(var _0x22f178 in _0x1c9e16['resources']){var _0x38aa8e=_0x22f178,_0xa1475=_0x1c9e16[_0x32f479(0x329)][_0x22f178];if(!(_0xa1475>0x0))continue;_0x106366=!![];var _0x56bbd8=this[_0x32f479(0x329)];if(!_0x56bbd8[_0x38aa8e]||_0x56bbd8[_0x38aa8e]<_0xa1475)return console[_0x32f479(0x292)](_0x32f479(0x4c7));_0x56bbd8[_0x38aa8e]-=_0xa1475,_0x154186+='\x20x'+_0xa1475+'\x20'+_0x38aa8e;}if(_0x106366)this[_0x32f479(0x327)][_0x32f479(0x363)]({'type':'resource','txt':{..._0x1c9e16[_0x32f479(0x329)]}});},this[_0x2a3297(0x26a)]=_0x2177d4=>{var _0x1ee758=_0x2a3297;if(!_0x2177d4||!_0x2177d4[_0x1ee758(0x329)])return![];var _0xcf5880=![];for(var _0x3b2fe4 in _0x2177d4[_0x1ee758(0x329)]){var _0x40ba10=_0x3b2fe4,_0x3e20d4=_0x2177d4[_0x1ee758(0x329)][_0x3b2fe4];if(!(_0x3e20d4>0x0))continue;_0xcf5880=!![];var _0x3c94ba=this[_0x1ee758(0x329)];if(!_0x3c94ba[_0x40ba10])_0x3c94ba[_0x40ba10]=0x0;_0x3c94ba[_0x40ba10]+=_0x3e20d4;}if(_0xcf5880)this['MessageSystem'][_0x1ee758(0x363)]({'type':'resource','txt':{..._0x2177d4[_0x1ee758(0x329)]}});},this[_0x2a3297(0x30f)]=_0x2946fc=>{var _0x3ade27=_0x2a3297;this[_0x3ade27(0x501)]=[];for(var _0x52e91c in _0x2946fc){var _0x26e167=_0x2946fc[_0x52e91c],_0x2bd93d=new Batiment(_0x2946fc[_0x52e91c]);for(var _0x5ba7d0 in _0x26e167){_0x2bd93d[_0x5ba7d0]=_0x26e167[_0x5ba7d0];}_0x2bd93d[_0x3ade27(0x3d9)]=[],this[_0x3ade27(0x501)]['push'](_0x2bd93d);}},this[_0x2a3297(0x2a0)]=_0x4ac763=>{var _0xd72412=_0x2a3297,_0x49314e=new Batiment({'name':_0xd72412(0x3e4),'player_size':0x0,'callback_actionPlayer':[],'description':_0xc2545d=>{var _0x75cf3f=_0xd72412;return'House\x20lvl'+_0xc2545d[_0x75cf3f(0x31e)]+'\x0aVillage\x20max\x20population\x20=\x20'+world[_0x75cf3f(0x59e)][_0x75cf3f(0x2cc)];},'blocking_end_turn':!![],'imgIcon':_0xd72412(0x3e4),'lvl':0x1,'upgrades_callback':_0xd72412(0x246),'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'wood':0x64,'stone':0x14}}]});_0x49314e[_0xd72412(0x227)]=0x5,this['bats'][_0xd72412(0x417)](_0x49314e);},this[_0x2a3297(0x40b)]=_0x514920=>{var _0x1e092f=_0x2a3297,_0x4fef05=new Batiment({'name':_0x514920['name'],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x1e092f(0x47b),'buto_txt':_0x1e092f(0x513),'description':_0x1e092f(0x295),'cost':0x0}],'description':_0x1e092f(0x4ce),'blocking_end_turn':!![],'imgIcon':_0x1e092f(0x484),'build_progression':_0x514920[_0x1e092f(0x57c)]});this[_0x1e092f(0x501)]['push'](_0x4fef05);},this[_0x2a3297(0x346)]=_0x2c8749=>{var _0x4b311d=_0x2a3297,_0x1d3f85=new Batiment({'name':_0x2c8749[_0x4b311d(0x1d5)],'player_size':0x2,'callback_actionPlayer':[{'callback':'GoToCraftTab','buto_txt':_0x4b311d(0x513),'description':_0x4b311d(0x295),'cost':0x0}],'description':_0x4b311d(0x3c0),'blocking_end_turn':!![],'imgIcon':_0x4b311d(0x545),'build_progression':_0x2c8749['costAP']});this[_0x4b311d(0x501)][_0x4b311d(0x417)](_0x1d3f85);},this[_0x2a3297(0x20e)]=_0xad5214=>{var _0x3fdab6=_0x2a3297,_0x1d9a41=new Batiment({'name':_0xad5214[_0x3fdab6(0x1d5)],'player_size':0x3,'callback_actionPlayer':[{'callback':'recolteMine','buto_txt':_0x3fdab6(0x1ce),'description':_0x3fdab6(0x1e4),'cost':0x4}],'description':_0x3fdab6(0x20a),'blocking_end_turn':!![],'imgIcon':_0x3fdab6(0x3f2),'build_progression':_0xad5214[_0x3fdab6(0x57c)]});this['bats'][_0x3fdab6(0x417)](_0x1d9a41);},this[_0x2a3297(0x4c5)]=()=>{var _0x3c1a40=_0x2a3297,_0x5141a8=new Batiment({'name':'Sawmill','player_size':0x2,'callback_actionPlayer':[{'callback':_0x3c1a40(0x2e2),'buto_txt':_0x3c1a40(0x296),'description':_0x3c1a40(0x2e6),'cost':0x5}],'description':_0x3c1a40(0x516),'blocking_end_turn':!![],'imgIcon':_0x3c1a40(0x3b3)});this['bats'][_0x3c1a40(0x417)](_0x5141a8);},this[_0x2a3297(0x430)]=()=>{var _0x45c076=_0x2a3297,_0x3c922e=new Batiment({'name':_0x45c076(0x598),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x45c076(0x2ac),'buto_txt':'get\x20resources','description':_0x45c076(0x48d),'cost':0x5}],'description':_0x45c076(0x2ff),'blocking_end_turn':!![],'imgIcon':_0x45c076(0x1c2)});this[_0x45c076(0x501)]['push'](_0x3c922e);},this[_0x2a3297(0x50e)]=()=>{var _0x28336f=_0x2a3297,_0x77769a=new Batiment({'name':'Defend\x20Village','player_size':0x5,'callback_actionPlayer':[],'description':'Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village','blocking_end_turn':![],'imgIcon':_0x28336f(0x458)});this[_0x28336f(0x501)]['push'](_0x77769a);},this[_0x2a3297(0x457)]=()=>{var _0x9a349b=_0x2a3297;this[_0x9a349b(0x56a)]=[{'name':_0x9a349b(0x213),'img':_0x9a349b(0x545),'resources':{'wood':0xa,'stone':0x1},'callback':_0x9a349b(0x346),'input':{'name':_0x9a349b(0x213),'costAP':0x1e}},{'name':_0x9a349b(0x47e),'img':_0x9a349b(0x484),'resources':{'wood':0x64,'stone':0x1e},'callback':_0x9a349b(0x40b),'input':{'name':_0x9a349b(0x47e),'costAP':0x14}},{'name':_0x9a349b(0x3f2),'img':_0x9a349b(0x3f2),'resources':{'wood':0x14,'stone':0x5},'callback':_0x9a349b(0x20e),'input':{'name':_0x9a349b(0x3f2),'costAP':0xa}},{'name':_0x9a349b(0x492),'img':_0x9a349b(0x3b3),'resources':{'wood':0x14,'stone':0x5},'callback':'addSawmill','input':{'name':_0x9a349b(0x492),'costAP':0xa}}];},this['checkHaveResources']=_0x58651e=>{var _0x18f47a=_0x2a3297;if(!_0x58651e||!_0x58651e['resources'])return![];var _0x1582cd=_0x58651e[_0x18f47a(0x329)];for(var _0x5875f2 in _0x58651e[_0x18f47a(0x329)]){var _0x199250=_0x5875f2,_0x494fac=_0x1582cd[_0x5875f2];if(!this['resources'][_0x199250]||this['resources'][_0x199250]<_0x494fac)return![];}return!![];},this[_0x2a3297(0x3c6)]=_0x25fb85=>{var _0x512bf8=_0x2a3297;if(!_0x25fb85||!_0x25fb85[_0x512bf8(0x27f)])return![];if(!this[_0x512bf8(0x5a3)](_0x25fb85[_0x512bf8(0x27f)]))return this['MessageSystem']['addMessage']({'txt':_0x512bf8(0x21a)});var _0x6b7a89=_0x25fb85[_0x512bf8(0x27f)];this[_0x512bf8(0x327)][_0x512bf8(0x363)]({'type':'building','txt':'the\x20construction\x20of\x20\x27'+_0x6b7a89['name']+_0x512bf8(0x385)}),this['removeResource'](_0x25fb85['bat']),this[_0x6b7a89[_0x512bf8(0x5a1)]](_0x6b7a89[_0x512bf8(0x266)]);for(var _0x11ec2b in this['batsToBuild'])if(this[_0x512bf8(0x56a)][_0x11ec2b]==_0x6b7a89)this[_0x512bf8(0x56a)][_0x512bf8(0x591)](_0x11ec2b,0x1);},this['addArmorToVillageInventory']=_0x4c2644=>{var _0x4fc025=_0x2a3297;if(!_0x4c2644||!_0x4c2644[_0x4fc025(0x573)])return;this[_0x4fc025(0x294)][_0x4fc025(0x417)](_0x4c2644['armor']);},this['addWeaponToVillageInventory']=_0x307f46=>{var _0x42abe8=_0x2a3297;if(!_0x307f46||!_0x307f46[_0x42abe8(0x339)])return console['log'](_0x42abe8(0x3a1));this['Items'][_0x42abe8(0x417)](_0x307f46[_0x42abe8(0x339)]);},this[_0x2a3297(0x32f)]=_0x2b7c19=>{var _0x185016=_0x2a3297;if(!_0x2b7c19)return![];world[_0x185016(0x3f3)][_0x185016(0x35a)]=[];switch(this[_0x185016(0x53d)]){case PHASE_NEWTURN:world[_0x185016(0x58c)](),this[_0x185016(0x53d)]=PHASE_PLACEPLAYER,this[_0x185016(0x327)][_0x185016(0x363)]({'txt':_0x185016(0x3f5)});for(var _0x523efd in this[_0x185016(0x216)])this[_0x185016(0x216)][_0x523efd]['villageActionPoint']=this[_0x185016(0x216)][_0x523efd][_0x185016(0x297)];if(this['week']==0x0)world['Music']['playSound']('the-britons',!![]);break;case PHASE_PLACEPLAYER:if(_0x2b7c19[_0x185016(0x589)]){var _0x5c9eef=[];for(var _0x523efd in this['players']){_0x375281=this[_0x185016(0x216)][_0x523efd];if(!this[_0x185016(0x4df)](_0x375281))_0x5c9eef[_0x185016(0x417)]({'txt':_0x185016(0x3ea)+_0x375281[_0x185016(0x1d5)]+_0x185016(0x467),'player':_0x375281,'tab':_0x185016(0x4b2)});}defBat=this['bats'][_0x185016(0x26d)](_0x2fd41a=>_0x2fd41a[_0x185016(0x1d5)]==_0x185016(0x238));if(defBat[_0x185016(0x3d9)][_0x185016(0x2d1)]<0x1)_0x5c9eef[_0x185016(0x417)]({'txt':'DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','bat':defBat,'tab':'building'});if(_0x5c9eef[_0x185016(0x2d1)]>0x0){world[_0x185016(0x3f3)][_0x185016(0x35a)]=_0x5c9eef;return;}}this[_0x185016(0x53d)]=PHASE_ACTIONPLAYER,this[_0x185016(0x327)][_0x185016(0x363)]({'txt':_0x185016(0x526)});break;case PHASE_ACTIONPLAYER:var _0x5c9eef=[];if(_0x2b7c19[_0x185016(0x589)])for(var _0x523efd in this[_0x185016(0x501)]){var _0x177e45=this['bats'][_0x523efd];if(!_0x177e45[_0x185016(0x59b)])continue;for(var _0x5f537c in _0x177e45[_0x185016(0x3d9)]){var _0x375281=_0x177e45['players_inside'][_0x5f537c],_0x47efd4=_0x375281[_0x185016(0x3b8)]();if(_0x47efd4&&_0x47efd4['length']>0x0)_0x5c9eef[_0x185016(0x417)]({'txt':_0x185016(0x3ea)+_0x375281[_0x185016(0x1d5)]+_0x185016(0x31c)+_0x375281['villageActionPoint']+_0x185016(0x52f),'player':_0x375281,'tab':_0x185016(0x4b2)});}}if(_0x5c9eef['length']>0x0){world[_0x185016(0x3f3)]['warningEndTurnMessage']=_0x5c9eef;return;}this[_0x185016(0x53d)]=PHASE_COMBAT;(this[_0x185016(0x552)]==0x0||Math[_0x185016(0x31d)](Math[_0x185016(0x349)]()*0x64)<0x21)&&(this[_0x185016(0x503)]=!![],this[_0x185016(0x327)][_0x185016(0x363)]({'txt':_0x185016(0x4cb)}));break;case PHASE_COMBAT:if(this[_0x185016(0x503)])this[_0x185016(0x203)]();else{this[_0x185016(0x53d)]=PHASE_NEWTURN,this[_0x185016(0x552)]++;var _0x439471=this[_0x185016(0x216)][_0x185016(0x2d1)]*0x2;this[_0x185016(0x327)][_0x185016(0x363)]({'txt':_0x185016(0x4ff)+this[_0x185016(0x552)]}),this[_0x185016(0x327)][_0x185016(0x363)]({'type':_0x185016(0x317),'txt':_0x185016(0x3ed)}),this[_0x185016(0x561)]({'resources':{'food':_0x439471}}),this[_0x185016(0x2a6)]=_0x439471;for(var _0x523efd in this[_0x185016(0x216)]){this['players'][_0x523efd]['tryLvLup'](),this[_0x185016(0x216)][_0x523efd]['age']++;}if(this[_0x185016(0x216)][_0x185016(0x2d1)]<this[_0x185016(0x2cc)]){var _0x4f1467=Math[_0x185016(0x31d)](Math[_0x185016(0x349)]()*0x64);if(_0x4f1467<0x32){var _0x375281=this[_0x185016(0x1cc)]({});this[_0x185016(0x327)]['addMessage']({'type':'player','txt':_0x185016(0x364)+_0x375281[_0x185016(0x1d5)]+_0x185016(0x400)});}}}break;}},this['test_start_battle']=()=>{var _0x243837=_0x2a3297,_0x464bd0=[];for(var _0x464333 in this[_0x243837(0x216)]){var _0x46f337=this[_0x243837(0x216)][_0x464333];bat=this[_0x243837(0x4df)](_0x46f337);if(bat[_0x243837(0x1d5)]==_0x243837(0x238))_0x464bd0[_0x243837(0x417)](_0x46f337);}world[_0x243837(0x3f3)]=undefined,console[_0x243837(0x292)](_0x464bd0['length']+_0x243837(0x502)),world[_0x243837(0x4d7)](_0x464bd0,this[_0x243837(0x552)]),world[_0x243837(0x4ee)][_0x243837(0x26b)](_0x243837(0x497),!![]),world[_0x243837(0x4ee)][_0x243837(0x35b)](_0x243837(0x3ff),!![]),world[_0x243837(0x28d)]=new GameUI(world[_0x243837(0x1fc)][_0x243837(0x277)]['GameUI']);},this[_0x2a3297(0x391)]=_0x235710=>{var _0xe602ec=_0x2a3297;for(var _0xf6f09e in this['players']){this[_0xe602ec(0x216)][_0xf6f09e]['id']==_0x235710['id']&&(this[_0xe602ec(0x216)][_0xe602ec(0x591)](_0xf6f09e,0x1),this[_0xe602ec(0x327)][_0xe602ec(0x363)]({'txt':_0x235710[_0xe602ec(0x1d5)]+_0xe602ec(0x1e9)}));}for(var _0xf6f09e in this['bats']){var _0x13eeb4=this[_0xe602ec(0x501)][_0xf6f09e];for(var _0x228b86 in _0x13eeb4['players_inside'])if(_0x13eeb4[_0xe602ec(0x3d9)][_0x228b86]['id']==_0x235710['id'])_0x13eeb4['players_inside'][_0xe602ec(0x591)](_0x228b86,0x1);}};};function UpgradingHouses(_0xab916d){var _0x590473=_0x110ced;if(!_0xab916d||!_0xab916d[_0x590473(0x27f)])return;var _0x2320c5=_0xab916d[_0x590473(0x27f)],_0x57dfea=world[_0x590473(0x59e)];_0x2320c5['lvl']==0x1&&(_0x57dfea[_0x590473(0x2cc)]+=0x5,_0x57dfea[_0x590473(0x327)]['addMessage']({'type':_0x590473(0x317),'txt':_0x590473(0x30a)+_0x57dfea[_0x590473(0x2cc)]+')'})),_0x2320c5[_0x590473(0x31e)]==0x2&&(_0x57dfea['populationMax']+=0xa,_0x57dfea[_0x590473(0x327)][_0x590473(0x363)]({'type':_0x590473(0x317),'txt':_0x590473(0x2ca)+_0x57dfea[_0x590473(0x2cc)]+')'}));}function GoToCraftTab(){var _0x8e6cdb=_0x110ced;if(world['villageUI'])world[_0x8e6cdb(0x3f3)][_0x8e6cdb(0x293)]({'tab':_0x8e6cdb(0x43b)});}function recolteMine(_0x216d74){var _0x4f22c5=_0x110ced;if(!_0x216d74||!_0x216d74[_0x4f22c5(0x317)]||_0x216d74['cost']==undefined||_0x216d74[_0x4f22c5(0x441)]>_0x216d74[_0x4f22c5(0x317)][_0x4f22c5(0x56f)])return;var _0x32110c=_0x216d74['player'][_0x4f22c5(0x1d5)]+'\x20is\x20mining\x20resource\x20for\x20'+_0x216d74['cost']+'\x20AP';world[_0x4f22c5(0x59e)][_0x4f22c5(0x327)][_0x4f22c5(0x363)]({'type':_0x4f22c5(0x409),'txt':_0x32110c}),_0x216d74[_0x4f22c5(0x317)]['villageActionPoint']-=_0x216d74[_0x4f22c5(0x441)];var _0x4f33e9=_0x216d74[_0x4f22c5(0x317)][_0x4f22c5(0x339)]&&_0x216d74[_0x4f22c5(0x317)]['weapon'][_0x4f22c5(0x251)][_0x4f22c5(0x26d)](_0x1cfd68=>_0x1cfd68==BONUS_PICKAXE_MINE)?!![]:![],_0x2cb8f9=0x2+Math[_0x4f22c5(0x31d)](Math[_0x4f22c5(0x349)]()*0x5);if(_0x4f33e9)_0x2cb8f9+=0x14;var _0x33428f=Math[_0x4f22c5(0x31d)](Math[_0x4f22c5(0x349)]()*0x64)>0x5?0x0:Math[_0x4f22c5(0x31d)](Math[_0x4f22c5(0x349)]()*0xa),_0x323f80={'stone':_0x2cb8f9};if(_0x33428f||_0x4f33e9)_0x323f80[_0x4f22c5(0x240)]=_0x33428f;world[_0x4f22c5(0x59e)][_0x4f22c5(0x26a)]({'resources':_0x323f80}),world[_0x4f22c5(0x4ee)][_0x4f22c5(0x35b)](_0x4f22c5(0x1ce));}function craftPlankInSawmill(_0x2d7de5){var _0x1ddca3=_0x110ced;if(!_0x2d7de5||!_0x2d7de5[_0x1ddca3(0x317)]||_0x2d7de5[_0x1ddca3(0x441)]==undefined||_0x2d7de5[_0x1ddca3(0x441)]>_0x2d7de5['player'][_0x1ddca3(0x56f)])return;if(!world[_0x1ddca3(0x59e)][_0x1ddca3(0x5a3)]({'resources':{'wood':0xa}})){world['village'][_0x1ddca3(0x327)][_0x1ddca3(0x363)]({'type':_0x1ddca3(0x409),'txt':_0x1ddca3(0x472)});return;}world[_0x1ddca3(0x4ee)][_0x1ddca3(0x35b)](_0x1ddca3(0x221));var _0x4c7cc9=_0x2d7de5[_0x1ddca3(0x317)][_0x1ddca3(0x1d5)]+_0x1ddca3(0x25d)+_0x2d7de5['cost']+_0x1ddca3(0x541);world['village'][_0x1ddca3(0x327)][_0x1ddca3(0x363)]({'type':'job','txt':_0x4c7cc9}),_0x2d7de5[_0x1ddca3(0x317)]['villageActionPoint']-=_0x2d7de5[_0x1ddca3(0x441)],world['village'][_0x1ddca3(0x561)]({'resources':{'wood':0xa}}),world[_0x1ddca3(0x59e)][_0x1ddca3(0x26a)]({'resources':{'woodplank':0x1}});}function recoltForestResouce(_0x321c73){var _0x1c16ad=_0x110ced;if(!_0x321c73||!_0x321c73[_0x1c16ad(0x317)]||_0x321c73[_0x1c16ad(0x441)]==undefined||_0x321c73[_0x1c16ad(0x441)]>_0x321c73[_0x1c16ad(0x317)][_0x1c16ad(0x56f)])return;world[_0x1c16ad(0x4ee)][_0x1c16ad(0x35b)](_0x1c16ad(0x2a3));var _0x1d5ddb=0xa-0x2+Math['floor'](Math[_0x1c16ad(0x349)]()*0x5),_0xd37a74=0x5-0x4+Math[_0x1c16ad(0x31d)](Math['random']()*0x9);_0x321c73[_0x1c16ad(0x317)][_0x1c16ad(0x339)]&&_0x321c73[_0x1c16ad(0x317)][_0x1c16ad(0x339)]['bonus']['find'](_0x5005f7=>_0x5005f7==BONUS_AXE_FOREST_WOOD)&&(_0xd37a74*=0x2,console[_0x1c16ad(0x292)](_0x1c16ad(0x332)));var _0x1eb987=0x1+Math[_0x1c16ad(0x31d)](Math[_0x1c16ad(0x349)]()*0x2),_0x7db823=_0x321c73['player'][_0x1c16ad(0x1d5)]+_0x1c16ad(0x511)+_0x321c73[_0x1c16ad(0x441)]+_0x1c16ad(0x541);world[_0x1c16ad(0x59e)][_0x1c16ad(0x327)][_0x1c16ad(0x363)]({'type':_0x1c16ad(0x409),'txt':_0x7db823}),_0x321c73['player'][_0x1c16ad(0x56f)]-=_0x321c73[_0x1c16ad(0x441)],world[_0x1c16ad(0x59e)][_0x1c16ad(0x26a)]({'resources':{'food':_0x1d5ddb,'wood':_0xd37a74,'stone':_0x1eb987}});}function _0x5a66(){var _0x411418=['draw_villagePlayerUi','cancel_menu','\x20is\x20attacking\x20with\x20','#0000ff88','you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank','unequip\x20weapon','CheckInfoWindow','hammer_nails','resized','you\x20can\x20only\x20craft\x20during\x20Phase\x202','startTime','lvlupList','\x20week\x20','GoToCraftTab','check\x20dmg\x20:\x20','892278NUFOBS','fletching\x20station','AlphaTransparencyByPixel','left','keyUp','stat','#ffffff88','bow_workshop_icon','CostMovingPlayer','bodyPartImg','ready','sound','Keegan\x20Doyle','drawImageRotate','getBlocksAtDistRangeFromPlayer','direction\x20:\x20','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','Move\x20AP\x20cost\x20:\x20','face/','.mp3','type','Sawmill','highlight','rotate','version\x20','height','the-britons','Osef','EventcloseFullscreen','imgIcon','createElement','\x27Algerian\x27','Events','equip\x20armor','armor/','UIturnExpanded','max_letter','Controler','.png','map','Magnus\x20Yoder','addEventListener','player_size','getBlocksAtRangeFromPlayer','batSortModeList','Peter\x20Tate','page\x20down','playerSelected','small_woodBow','\x20uppgraded\x20to\x20LvL\x20','createRandomArmor','click','then','building','selector\x20:\x20','innerWidth','msg','ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST','Turn\x20','Lara\x20Barnett','check\x20next\x20block','\x20Action\x20Point\x20(Village)\x20','itemType','Jade\x20Butler','attack','damages','projectil','Archer\x20Baxter','No\x20Name','./img/player_test3/','speed','createImgFromData','addSawmill','sin','not\x20enoguht\x20resources','ammo','go\x20to\x20player\x20tab\x20for\x20lvl\x20up','checkNextUpgrade','Your\x20village\x20is\x20attacked\x20!','body','Equiped\x20with\x20\x27','the\x20place\x20for\x20craft\x20bow\x20and\x20arrow','create\x20player\x20in\x20','moveTo','No\x20player\x20selected','Algerian','Imgs','\x20-\x20','#ff0000','CheckMoveTo\x20:\x20player\x20here','CreateBattleMapFromVillagePlayer_test','face_3','textBaseline','lastTime','wall','get_next_turn','Enter','\x27s\x20','getBatFromPlayer','better\x20than\x20nothing','Mae\x20Gentry','534564LkQPVc','#663300','no\x20armor\x20equiped','selecting_block','David\x20Grant','draw_playerTab','draw_menu','crossOrigin','Meilani\x20Olson','\x20leave\x20','clearRect','TryMoveTo','Music','Alisson\x20Roberson','#0000ff','createNewPlayer','fillText','textAlign','Attack','sword','Wood\x20Stick','unshift','you\x20lost\x20:','#00000000','nope,\x20not\x20this\x20way','drawVillageUI','fullScreen','callback_actionPlayer','no\x20crafts\x20list','New\x20Turn\x20started\x20:\x20','creating\x20an\x20image\x20:\x20','bats','\x20players\x20to\x20the\x20battle','battle','No\x20WAter\x20in\x0athis\x20village','#0000fb','wood_icon','equipArmor','getImageData','Players','version','miner_helmet','get\x20more\x20resources\x20in\x20mine','substring','addDefendVillage','draw_resource_tab','NumpadSubtract','\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20','text','go\x20to\x20craft\x20tab','\x0aTarget\x20between\x20[','body_0','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','Cole\x20Clayton','Fepachie','test\x20zone\x20','\x20is\x20loaded','team','createArmorFromInput','blocksize_y','stroke','beginPath','\x20by\x20','enemy)','End\x20Turn','weaponAnim','eventPageOffset','ctx','Phase\x202\x20started','DrawTabInfoPlayer','getBoundingClientRect','167864TOEiPi','#555555','InfoWindowPos','spawn\x20player','txt_font','highlightZone','\x20Action\x20Points\x20left','wood\x20Stick','Stone\x20Spear','light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling','left\x20mouse\x20:\x0a','onload','addTextZone','Load\x20saved\x20game','gaugeSpeed','Azrael\x20Ali','loop','len_x','zIndex','get_pixel_by_block','phase','lvlup','\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building','page\x20up','\x20AP','initMapTopElement','getChanceOfHit','innerHeight','workshop_icon','CheckMoveTo\x20:\x20invalid\x20block','res','exitFullscreen','coal_icon','Khloe\x20Horn','Richard\x20Lee','leny','Key_Input','get_block_by_pixel','tryLvLup','attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','cut\x20wood\x20faster\x20in\x20forest','week','canvasPUI','getKeyInput','drawImageMirrorRotateCenter','River\x20Hunter','anim','mouseLight','center\x20on\x20player','you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201','crushing','marge','metal_axe','player_test3/village/resource','GetDrawBuildingElement','Murphy\x20Nava','removeResource','tab','scale','loadImg','alt','posBlockx','getItemIcone','endFight','drawImage','batsToBuild','get_pixel_by_pos','playerstats','Metal\x20Axe','\x27Ravie\x27','villageActionPoint',']\x20distance\x20around\x20the\x20target','Show','life','armor','Marisol\x20Humphrey','keyDown','UIeventExpanded','equipWeapon','create_random_enemy_on_map','strokeStyle','Move\x20your\x20player\x20up/right/down/left','#00ff00','costAP','playersSelected','pixel_height','Space','anonymous','GetCanvasPos','createNewWeapon','#ffffff','addWeaponToVillageInventory','Marvin\x20Herrera','LoadSound','\x0a-craft\x20weapons\x20and\x20armors','center_on_selected_player','warning','can\x27t\x20create\x20getColorImage','loadPlayerDefaultImgs','saveWorld','bot','add\x20to\x20building','toDataURL','changed\x20','splice','./img/mapBotElement/','rect','getMoveCost','background','0.0.2','itemSelected','Forest\x20Exploitation','can\x27t\x20create\x20this\x20weapon','start\x20construction','blocking_end_turn','\x20life\x20point','concat','village','tree_root','get\x20more\x20resources\x20in\x20the\x20mine','callback','activeTabId','checkHaveResources','clientY','handImg','APcost','\x27\x20(+','blockSelected','txt_color','forest_icon','zone','canvasPlayer','#ff080888','Move\x20To','fullscreenchange','unequipWeapon','getTime','createNewArmor','drawProjectiles','generateBasicPlayer','spear','mine','Boden\x20Archer','_icon','animation','readyState','delete_player','\x20place','name','ArrowUp','get_direction_from_pos','mousePos','canvas','\x20is\x20building\x20\x27','nb_houses','drawUI','the\x20construction\x20of\x20\x27','decode','build','txt_size','attack\x20animation\x20on\x20the\x20selected\x20block','Nathan\x20Beltran','\x20x\x20','Mine\x20the\x20ground\x20get\x20resources','body_1','invalid\x20craft','zoneTarget','\x0aTarget\x20adjacents\x20blocks','is\x20dead\x20R.I.P','text_font','itemsPageOffset','#da1d81','draw_battlePhase','Vincent\x20Dougherty','isDead','mapFloor','getBlocksAtRange','Dakari\x20Poole','extand\x20the\x20Turns\x20window','webkitExitFullscreen','test\x20turn\x20finished\x20:\x20','sword_2h','\x20if\x20%','eventPage','bottom','Anahi\x20Strickland','data','Screen','error\x20input\x20create\x20player','#666666','wood_armor','getPlayerIcone','can\x27t\x20with\x20','px\x20','test_start_battle','screenAx','GetNextTurnButton','ChangePosition','showUIsystem','complete','Stephen\x20Bartlett','A\x20big\x20hole\x20in\x20the\x20ground','bow','UIplayers','function','addMine','Zaid\x20Terry','Lia\x20Diaz','get_valid_craft_list','Miner\x20helmet','workshop','pUI_need_redraw','letter_size','players','\x20blocks','weapon/projectil/','\x20\x20Info\x20\x20','you\x20don\x27t\x20have\x20enought\x20resource','Cade\x20Patton','rangeMax','Amira\x20Escobar','DefaultImgsReady','Callahan\x20Schmitt','#ef0bc322','sawmill_song','imgColored','attack_bigaxe','lenx','getBlockBehindTarget','colorColored','bonusPopulation','needUIRedraw','fillColor','\x20%\x20of\x20','i\x20dont\x20have\x20this\x20image\x20\x20:\x20','batSortModeId','KeyD','calculatDamageFromAttack','New\x20Building','factor','\x0aSpeed\x20:\x20','Queen\x20Watson','drawTextTopLeft','enemy\x20created\x20succesfully','elmList','Rotate','Build\x20new\x20batiments\x20here','Defend\x20Village','#ff66ff','\x20:\x20','UIturn','info','openFullscreen','Direction\x20:\x20','reducing\x20','coal','#ffff00','Force\x20End\x20Turn','build_progression','add\x20some\x20blocks\x20','#888888','UpgradingHouses','drawMessageSystemEvents','year\x20','size','Ximena\x20Zimmerman','CheckMoveTo\x20:\x20invalid\x20cost','text_color',']\x20blocks\x20behind\x20the\x20target','mouseWasOnMouseLightLastDraw','player_test3/village/building','big_tree_1','bonus','receive_attack','piercing','batBuildMenu','getEquipedWeaponDescription','\x20of\x20type\x20','\x0a-start\x20the\x20construction\x20of\x20new\x20building','needColor','strokeColor','callback_data','Start\x20Turn','keyup','\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for','dodge','currentTime','center','food_icon','getNextTurnList','Dexterity','Lorelei\x20Alexander','changeMapView','input','drawGameUI','hand','getZoneAdjacentToPlayerByDir','addResource','stopSound','ArrowDown','find','sortButo','playersPageOffset','inputclick','#a01454','generateBasicVillage','cos','drawFillRect','createDatafromImage','\x0a-equip\x20items','canList','\x27Comic\x20Sans\x20MS\x27','#55aaaa','MenuUI','pixel_width','#1e90ff','tabs','#0320fb','bat','face_1','addGauge','top','look','\x0a-hit\x20[','Lvl\x20up\x20+1','Carson\x20Hunter','drawPlayer','1044360sMSYbi','zone_selecting_input','pixel_endx','getPlayerByBlock','font','GameUI','Zachary\x20Holloway','addHorizontalElem','Action\x20Point\x20:\x20','screenBx','log','GoToTabName','Items','craft\x20basic\x20stuff','craft\x20woodplank','villageActionPointMax','Start\x20Phase\x202','#556b2f88','weapon/','getBlockAdjacent','Tiana\x20Daniel','#5500ff','Alaina\x20Bradford','setTransform','addHouse','pixel_endy','stones','shaken_bush','villageSave','UI_list','foodconsumedLastTurn','big_tree_0','\x20PA\x20left\x20for\x20finish\x20construction','\x27Snap\x20ITC\x27','draw_NextTurnTab','lineMax','recoltForestResouce','clientX','len_y','\x20\x20\x20\x20\x20Info\x20:','extand\x20the\x20event\x20window','Gruu','draw_UI_EventMessage','Start\x20Battle','pos_startx','\x0aSurvived\x20','hand/hand_0.png','colorText','CheckControlInput','\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27','topleft_block','removePlayerFromBat','sqrt','mapBlock','#ff880022','buto_txt','showUIplayers','blocksize_x','createPlayer','get_block_at_BlockRange','Phase\x201\x20:\x20Place\x20Players','roof_0','pixel_startx','resize','LoadPlayerImage','addArmorToVillageInventory','Population\x20max\x20+\x2010\x20(','projectilAnimation','populationMax','replace','wrong\x20direction','arrow_projectil','movePCost','length','angle','constructionSelected','appendChild','invalid\x20player','set_drawing_map','draw_Image','Jordan\x20Barker','allied)','Digit','under_construction_icon','\x20left','centerOnBlock','Belek','creating\x20an\x20enemy\x20in\x20','fps','Kevin\x20Wiggins','craftPlankInSawmill','Wood\x20Armor','can\x27t\x20get\x20can\x20pos','unequip\x20armor','transform\x20wood\x20into\x20woodplank','displayMessageEvent','sort','a->Z','face_0','smash','txts','Mira\x20Acevedo','speed\x20','\x0aMove\x20AP\x20cost\x20','imgs\x20:\x20','Paxton\x20Pollard','sounds','playerInfoMenu','CheckMoveTo','Metal\x20Sword','\x20missed\x20attack\x20(','Krew\x20Pruitt','putImageData','Aubrielle\x20Farmer','mouseInfoWindow','style','clear','posBlocky','i\x20am\x20in\x20','Exploit\x20resource\x20from\x20the\x20forest','addCanvas','Vada\x20Conley','right','Azyla','6826656ClHMNk','GetPageSelector','ArrowRight','turnFinished','Jakobe\x20Hardin','\x0a--\x20x','Population\x20max\x20+\x205\x20(','blockTargetingFunction','preventDefault','posA','selector','loadBatsFromInput','Matthew\x20Beil','./music/','no\x20description','Emmalyn\x20Spence','Greyson\x20Walker','GetMoveDir','test','player','middle','createProjectilAnimation','drawTextCenter','unequipItem','\x20have\x20','floor','lvl','webkitfullscreenchange','wood_arrow','SelectingBlockAction','stats','addButton','Your\x20Village\x20is\x20attacked\x20!!','#00D238','Giana\x20Hudson','MessageSystem','mozfullscreenchange','resources','weapon\x20:\x20','#00af0022','\x20can\x20lvl\x20up\x20++','Kelvin\x20Fischer','mapImgsTop','End_Turn','#17bdbc','fullness','doubled\x20wood','\x20img\x20loaded','#dddddd','Kadence\x20Castaneda','Hazel\x20Crawford','UIevent','equipItem','weapon','measureText','mousemove','Small\x20Woodbow','button','craftSelected','move','letter_per_line','Dennis\x20Parrish','GetBatBuildMenuSelector','#ffff66','cleanCanvas','lifeMax','addWorkShop','dir','getLvlUpPerkList','random','body_type','Img','\x20don\x27t\x20have\x20enought\x20Action\x20Point','getResourcesTextAndImg','Arial','initMapBotElement','topElem','lineTo','stone_icon','zone_target_area','#000000ff','Collin\x20Snow','./img/player_test3/village/villageUI_patern.png','\x20received\x20damage\x20:\x20','draw_ItemsTab','damage','warningEndTurnMessage','playSound','\x20crafted\x20a\x20','mode','startsWith','pause','GetColorImage','getMessageSystem','pixel_starty','addMessage','New\x20PLayer\x20','mapImgsBot','get_block_at_DistRange','#00ffff','block','\x20month\x20','removeItem','filter','\x27Chiller\x27','fillStyle','\x20Action\x20Point\x20Max\x20(Battle)\x20','Saige\x20McBride','./img/mapTopElement/','playAIturn','botright_block','init','pop','getMouseInput','Stefan\x20Christian','Next\x20Turn','\x20\x20During\x20Phase\x201,\x20you\x20can','no\x20craft\x20available','projectilSpeed','sea','createPlayerFromInput','botElem','img\x20','paused','\x20Action\x20Point\x20left','Argoo','Movement\x20cost\x20:\x20','Strength','affecting\x20','\x27\x20have\x20started','src','Playerturn','armor\x20equiped\x20:\x20','Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn','Attack\x20with\x20','Ila\x20Ellis','Linda\x20Castillo','body_4','saw_workshop','#6495ed88','Lilianna\x20Doyle','kill_player','UIsystem','\x27Footlight\x20MT\x20Light\x27','Speed\x20:\x20','get_valid_player_for_craft','under\x20construction\x20:\x20','round','createWeaponFromInput','blocks','TryCraftItem','generateCapacity','failed\x20createImgData\x20image','return','slashing','mapImgsFloor','MSFullscreenChange','can\x27t\x20add\x20this\x20weapon','getDateText','click_buton_check','capacityList','rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','createUI','damage\x20after\x20armor\x20reduction\x20:\x20','batPageOffset','drawPlayers','moveCost','path','#000000aa','Braden\x20Lucero','uppgrade','colorFill','createPlayerFromVillage','buttonList','windowInfo','sawmill','draw_building_tab','Andres\x20Sampson','horizontal','serif','get_valid_action_in_affected_building','gauge','duration','unequipArmor','list','2137975mtaJgs','item','ActionPointMax','craft\x20stuff\x20here','repeat','needRedraw','upgrades','Wren\x20Costa','value','TryBuildBat','layerLen','posB','deltaY','getContext','ReturnBlockTargeted','getNextUpgrade','Player','dmgArmor','actionCost','Start\x20a\x20new\x20game','playerDefaultImgs','Ruth\x20Stout','txt','craftPageOffset','ago','key_buton_check','code','no\x20one\x20can\x20craft\x20it','players_inside','ApplyListPerkUp','ActionPoint','Setple','#a52a2a','abs','mapTopElem','ArrowLeft','Where\x20your\x20players\x20works','\x20food\x20last\x20week','draw_newTurnPhase','Houses','ff0000','Kenji\x20McLaughlin','Numpad','face_type','initImgs','player\x20','affectPlayerToBat','getDistToABlock','Your\x20population\x20eat\x20food,\x20Miam','#d2691e88','nextTurn','key_event','\x20is\x20dead','Mine','villageUI','2267862tcwKcM','Phase\x201\x20started','Jacob\x20Knapp','damageBase','age','get_next_path','img','weed','0px','documentElement','description','where-the-brave-may-live-forever','\x20joined\x20your\x20village','closeFullscreen','width','wood_stick','TryUpgrade','mouseup','strokeRect','Menu','Shepherd\x20Park','job','GetMovePrice','addBowWorkshop','batSelected','drawRect','\x20weeks','resource','from','stone_axe','Elsie\x20Reynolds','bush','draw_tab_selector','screenAy','#ff000055','push','stone_spear','#00dd00','shift','playerList','getBlockUnderPlayer','Jianna\x20Wood','loadItemsFromInput','moving','fillRect','key','generateMap','Mckenna\x20Leblanc','LoadPlayerVillageImage','color','face_2','#000000','6WiownL','rangeMin','InfoWinfowPos','generateRandomElement','createPattern','\x27Bauhaus\x2093\x27','error,\x20no\x20block','Maci\x20Alvarado','addForest','drawImageRotateCenter','pos_starty','pos_x','hello\x20world','use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building','take_damage','mapUI','init_check_mouse_move','image\x20incomplet','let\x20do\x20it','craft','PlayerInfodisplay','pos_y','Emerie\x20Hickman','getVillageUItext','highlightBlock','cost','catch','playerColor','newGameInput','parse','#FFAD1C','#005500','Stone\x20Pickaxe','\x27Cooper\x20Black\x27','\x0a-recolt\x20resource\x20in\x20the\x20forest','createRandomWeapon','upgrades_callback','\x0a-hit\x20between\x20[','equip\x20weapon','\x20AI\x20is\x20playing','Turns','atan2','villageAP_icon','sort\x20buildings\x20by\x20','page','ControlLeft','chance\x20to\x20hit\x20:\x20%','createBatToBuildList','defend_village_icon','metal_sword','lvl\x20','menuUI','play','Ryder\x20Sandoval','mouse_move_check','\x20is\x20attacking\x20(no\x20weapon)','addImage','screenBy','getZoneAtAbsRangeToPlayer','getWeaponAttackDescription','initMapFloorImage','\x27\x20is\x20finished','showUI','\x20is\x20not\x20affected\x20to\x20a\x20building','msExitFullscreen','\x0a-hit\x20the\x20selected\x20block','7OxZviQ','action\x20point\x20:\x20','bodyPartImgReady','\x20action\x20points'];_0x5a66=function(){return _0x411418;};return _0x5a66();}VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT=_0x110ced(0x393),VILLAGE_UI_FONT_BUTTON=_0x110ced(0x449),VILLAGE_UI_FONT_BUTTON_2=_0x110ced(0x278),VILLAGE_UI_FONT_TITLE=_0x110ced(0x2a9),VILLAGE_UI_FONT_PLAYERNAME=_0x110ced(0x36c),VILLAGE_UI_FONT_BUILDINGNAME=_0x110ced(0x56e),VILLAGE_UI_FONT_PHASE='\x27Algerian\x27',VILLAGE_UI_TABS_FONT=_0x110ced(0x2a9),VILLAGE_UI_TABS_TXTCOLOR=_0x110ced(0x583),VILLAGE_UI_TABS_FILLCOLOR=_0x110ced(0x299),VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE=_0x110ced(0x343),VILLAGE_UI_BAT_ELM_FILLCOLOR=_0x110ced(0x3ee),VILLAGE_UI_PLAYER_ELM_FILLCOLOR=_0x110ced(0x38f),VILLAGE_UI_ITEM_ELM_FILLCOLOR='#f8f8ff88',VILLAGE_UI_BUTTON_FILLCOLOR=_0x110ced(0x419),VillageUI=function(_0x14090d){var _0x6a9b0=_0x110ced;world[_0x6a9b0(0x4ee)][_0x6a9b0(0x35b)](_0x6a9b0(0x497),!![]),this[_0x6a9b0(0x1d9)]=_0x14090d,this[_0x6a9b0(0x3c2)]=!![],this['marge']=0x5,this[_0x6a9b0(0x595)]=VILLAGE_UI_FILLSTYLE,this['stroke']=_0x6a9b0(0x4e3),this['scale']=0x1,this[_0x6a9b0(0x24e)]=!![],this[_0x6a9b0(0x27d)]=[_0x6a9b0(0x377),_0x6a9b0(0x4b2),_0x6a9b0(0x43b),_0x6a9b0(0x40f),_0x6a9b0(0x294),_0x6a9b0(0x3cd)],this['activeTabId']=0x0,this[_0x6a9b0(0x4ac)]=undefined,this[_0x6a9b0(0x2f3)]=undefined,this[_0x6a9b0(0x26f)]={'value':0x0},this[_0x6a9b0(0x40c)]=undefined,this[_0x6a9b0(0x254)]=undefined,this[_0x6a9b0(0x3a8)]={'value':0x0},this['batSortModeList']=[_0x6a9b0(0x2e9),_0x6a9b0(0x317),'size'],this['batSortModeId']={'value':0x0},this[_0x6a9b0(0x2d3)]=undefined,this['itemSelected']=undefined,this[_0x6a9b0(0x1eb)]={'value':0x0},this[_0x6a9b0(0x33e)]=undefined,this[_0x6a9b0(0x3d4)]={'value':0x0},this['UI']=undefined,this[_0x6a9b0(0x466)]=!![],this[_0x6a9b0(0x20c)]=undefined,this[_0x6a9b0(0x2c0)]=!![],this[_0x6a9b0(0x392)]=undefined,this[_0x6a9b0(0x207)]=!![],this['eventPage']=0x0,this[_0x6a9b0(0x35a)]=[];const _0x4cbcf3=document['createElement'](_0x6a9b0(0x1d9)),_0x4c141f=_0x4cbcf3[_0x6a9b0(0x3ca)]('2d'),_0x2915a6=new Image();_0x2915a6[_0x6a9b0(0x386)]=_0x6a9b0(0x356),_0x2915a6[_0x6a9b0(0x534)]=()=>{var _0x571027=_0x6a9b0;const _0x5ec049=_0x4c141f[_0x571027(0x42c)](_0x2915a6,_0x571027(0x3c1));this[_0x571027(0x595)]=_0x5ec049,this['needRedraw']=!![];},this[_0x6a9b0(0x438)]=()=>{var _0x584b7d=_0x6a9b0;window[_0x584b7d(0x4a6)](_0x584b7d(0x33b),_0x1055bf=>{var _0x5353ee=_0x584b7d,_0x51a79c=![];this[_0x5353ee(0x20c)]&&this[_0x5353ee(0x20c)][_0x5353ee(0x45e)](_0x1055bf[_0x5353ee(0x2ad)],_0x1055bf[_0x5353ee(0x5a4)])&&!this[_0x5353ee(0x24e)]&&(this['needRedraw']=!![],this[_0x5353ee(0x24e)]=!![],_0x51a79c=!![]);this['UI']&&this['UI'][_0x5353ee(0x45e)](_0x1055bf[_0x5353ee(0x2ad)],_0x1055bf[_0x5353ee(0x5a4)])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0x5353ee(0x3c2)]=!![],this[_0x5353ee(0x24e)]=!![],_0x51a79c=!![]);this[_0x5353ee(0x392)]&&this[_0x5353ee(0x392)][_0x5353ee(0x45e)](_0x1055bf[_0x5353ee(0x2ad)],_0x1055bf[_0x5353ee(0x5a4)])&&!this[_0x5353ee(0x24e)]&&(this['needRedraw']=!![],this[_0x5353ee(0x24e)]=!![],_0x51a79c=!![]);!_0x51a79c&&this['mouseWasOnMouseLightLastDraw']&&(this[_0x5353ee(0x24e)]=![],this[_0x5353ee(0x3c2)]=!![]);if(this==world['villageUI'])this['init_check_mouse_move']();},{'once':!![]});},this[_0x6a9b0(0x438)](),this['getKeyInput']=_0x744207=>{var _0x2dff6b=_0x6a9b0;if(this['UI']&&this['UI'][_0x2dff6b(0x3d6)](_0x744207))return!![];if(this[_0x2dff6b(0x20c)]&&this[_0x2dff6b(0x20c)][_0x2dff6b(0x3d6)](_0x744207))return!![];if(this[_0x2dff6b(0x392)]&&this[_0x2dff6b(0x392)]['key_buton_check'](_0x744207))return!![];if(_0x744207==_0x2dff6b(0x455)&&this[_0x2dff6b(0x46f)]())return!![];return![];},this[_0x6a9b0(0x46f)]=()=>{var _0x478ae6=_0x6a9b0;if(this[_0x478ae6(0x2f3)])return this[_0x478ae6(0x2f3)]=undefined,!![];if(this[_0x478ae6(0x27d)][this['activeTabId']]=='building'){if(this[_0x478ae6(0x254)])return this[_0x478ae6(0x254)]=undefined,!![];if(this[_0x478ae6(0x40c)])return this['batSelected']=undefined,!![];}return![];},this[_0x6a9b0(0x375)]=_0x345d74=>{var _0x3a7c49=_0x6a9b0;if(!_0x345d74||_0x345d74['x']===undefined)return![];var _0x28fe7e=_0x345d74['x'],_0x1247c1=_0x345d74['y'];if(_0x345d74['button']==0x2){var _0x455fe5=this[_0x3a7c49(0x46f)]();if(_0x455fe5)return!![];}else{if(this['UI'][_0x3a7c49(0x3a3)](_0x28fe7e,_0x1247c1))return!![];else{if(this['UIplayers'][_0x3a7c49(0x3a3)](_0x28fe7e,_0x1247c1))return!![];else{if(this[_0x3a7c49(0x392)]['click_buton_check'](_0x28fe7e,_0x1247c1))return!![];}}}return![];},this[_0x6a9b0(0x474)]=_0x17ac53=>{var _0x2f4535=_0x6a9b0;if(this['UI']&&this['UI'][_0x2f4535(0x474)](_0x17ac53))this[_0x2f4535(0x3c2)]=!![];if(this['UIplayers']&&this[_0x2f4535(0x20c)][_0x2f4535(0x474)](_0x17ac53))this[_0x2f4535(0x3c2)]=!![];if(this['UIsystem']&&this['UIsystem']['CheckInfoWindow'](_0x17ac53))this['needRedraw']=!![];},this[_0x6a9b0(0x293)]=_0xa1f6d2=>{var _0x5119e0=_0x6a9b0;if(!_0xa1f6d2)return;if(_0xa1f6d2[_0x5119e0(0x562)])for(var _0x33be94 in this[_0x5119e0(0x27d)]){if(this['tabs'][_0x33be94]==_0xa1f6d2[_0x5119e0(0x562)])this[_0x5119e0(0x5a2)]=_0x33be94;}if(_0xa1f6d2[_0x5119e0(0x317)])this['playerSelected']=_0xa1f6d2[_0x5119e0(0x317)];if(_0xa1f6d2[_0x5119e0(0x27f)])this['batSelected']=_0xa1f6d2[_0x5119e0(0x27f)];},this[_0x6a9b0(0x305)]=_0x1ae5ca=>{var _0x35c3a4=_0x6a9b0;if(!_0x1ae5ca[_0x35c3a4(0x30e)])return;var _0x2f6c44=[{'type':'button','callback':()=>{var _0x69a336=_0x35c3a4;_0x1ae5ca[_0x69a336(0x30e)][_0x69a336(0x3c5)]=_0x1ae5ca[_0x69a336(0x30e)][_0x69a336(0x3c5)]>0x0?_0x1ae5ca[_0x69a336(0x30e)][_0x69a336(0x3c5)]-0x1:0x0;},'txt':'∧','txt_color':_0x35c3a4(0x583),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x35c3a4(0x29d),'strokeColor':_0x35c3a4(0x427),'windowInfo':[{'callback':()=>{var _0x5f194=_0x35c3a4;return _0x5f194(0x540);}}]},{'type':'button','callback':()=>{var _0x1d266f=_0x35c3a4;_0x1ae5ca[_0x1d266f(0x30e)][_0x1d266f(0x3c5)]++;},'txt':'∨','txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x35c3a4(0x29d),'strokeColor':_0x35c3a4(0x427),'windowInfo':[{'callback':()=>{var _0x1ddbc4=_0x35c3a4;return _0x1ddbc4(0x4ab);}}]},{'type':'txt','txt':'['+_0x1ae5ca[_0x35c3a4(0x30e)][_0x35c3a4(0x3c5)]+':'+(_0x1ae5ca[_0x35c3a4(0x30e)][_0x35c3a4(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x35c3a4(0x427),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x1ae5ca[_0x35c3a4(0x26e)])_0x2f6c44[_0x35c3a4(0x417)]({'type':_0x35c3a4(0x33d),'callback':_0x5be559=>{var _0x21d8d4=_0x35c3a4;_0x5be559['id'][_0x21d8d4(0x3c5)]=(_0x5be559['id'][_0x21d8d4(0x3c5)]+0x1)%_0x5be559[_0x21d8d4(0x3bc)]['length'],console['log'](_0x21d8d4(0x590)+[_0x5be559['id'][_0x21d8d4(0x3c5)],_0x5be559[_0x21d8d4(0x3bc)][_0x21d8d4(0x2d1)]]);},'callback_data':_0x1ae5ca[_0x35c3a4(0x26e)],'txt':this[_0x35c3a4(0x4a9)][this[_0x35c3a4(0x22c)][_0x35c3a4(0x3c5)]],'txt_color':_0x35c3a4(0x427),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#55ff00','strokeColor':_0x35c3a4(0x427),'windowInfo':[{'callback':()=>{var _0x5f0633=_0x35c3a4;return _0x5f0633(0x453)+this[_0x5f0633(0x4a9)][this[_0x5f0633(0x22c)]['value']];}}]});return _0x2f6c44;},this[_0x6a9b0(0x3b4)]=()=>{var _0x39a759=_0x6a9b0,_0x162299=world[_0x39a759(0x59e)];this['UI'][_0x39a759(0x28f)](this[_0x39a759(0x305)]({'sortButo':{'list':this[_0x39a759(0x4a9)],'id':this[_0x39a759(0x22c)]},'selector':this[_0x39a759(0x3a8)]}));switch(this[_0x39a759(0x4a9)][this[_0x39a759(0x22c)][_0x39a759(0x3c5)]]){case'a->Z':_0x162299[_0x39a759(0x501)][_0x39a759(0x2e8)]((_0xdf2244,_0x35289b)=>{var _0x2c56f4=_0x39a759;if(_0xdf2244[_0x2c56f4(0x1d5)]>_0x35289b['name'])return 0x1;return-0x1;});break;case _0x39a759(0x317):_0x162299[_0x39a759(0x501)][_0x39a759(0x2e8)]((_0x121352,_0x540843)=>{var _0x5ec6fb=_0x39a759;if(_0x121352[_0x5ec6fb(0x3d9)]['length']<=_0x540843['players_inside']['length'])return 0x1;return-0x1;});break;case _0x39a759(0x249):_0x162299[_0x39a759(0x501)][_0x39a759(0x2e8)]((_0x122065,_0x414ef8)=>{var _0x320a80=_0x39a759;if(_0x122065[_0x320a80(0x4a7)]<=_0x414ef8[_0x320a80(0x4a7)])return 0x1;return-0x1;});break;}if(_0x162299[_0x39a759(0x53d)]==PHASE_PLACEPLAYER){this['UI'][_0x39a759(0x28f)](this[_0x39a759(0x342)]());var _0x23c80c=0x0;if(this['batBuildMenu'])for(var _0x492aab in _0x162299[_0x39a759(0x56a)]){var _0x47194b=_0x162299['batsToBuild'][_0x492aab],_0x430b88=[];_0x430b88['push']({'type':_0x39a759(0x33d),'callback':_0x57f220=>{var _0x483149=_0x39a759;if(this[_0x483149(0x2d3)]==_0x57f220)this[_0x483149(0x2d3)]=undefined;else this[_0x483149(0x2d3)]=_0x57f220;},'callback_data':_0x47194b,'txt':_0x47194b[_0x39a759(0x1d5)],'mouseLight':'88','txt_color':_0x39a759(0x427),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#00000000','strokeColor':this[_0x39a759(0x2d3)]==_0x47194b?_0x39a759(0x427):_0x39a759(0x4f9),'windowInfo':[{'callback':()=>{var _0x29203c=_0x39a759;return _0x29203c(0x237);}}]}),_0x430b88[_0x39a759(0x417)]({'type':_0x39a759(0x3fa),'img':world[_0x39a759(0x4d3)][_0x47194b[_0x39a759(0x3fa)]][_0x39a759(0x3fa)],'len_x':0x1e,'len_y':0x1e});if(_0x23c80c>=this[_0x39a759(0x3a8)]['value']&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0x430b88);_0x23c80c++;if(this['constructionSelected']==_0x47194b){var _0x430b88=[];_0x430b88[_0x39a759(0x417)]({'type':_0x39a759(0x33d),'mouseLight':'88','callback':world['village'][_0x39a759(0x3c6)],'callback_data':{'bat':_0x47194b},'txt':_0x39a759(0x59a),'txt_color':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x39a759(0x4f9),'windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]});if(_0x23c80c>=this['batPageOffset'][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x430b88);_0x23c80c++;if(_0x47194b[_0x39a759(0x266)]&&_0x47194b[_0x39a759(0x266)][_0x39a759(0x57c)]){if(_0x23c80c>=this[_0x39a759(0x3a8)]['value']&&_0x23c80c<this['batPageOffset'][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)]([{'type':'txt','txt':'\x20-Action\x20Point\x20'+_0x47194b[_0x39a759(0x266)][_0x39a759(0x57c)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':'img','img':world[_0x39a759(0x4d3)][_0x39a759(0x452)][_0x39a759(0x3fa)],'len_x':0x14,'len_y':0x14}]);_0x23c80c++;}for(var _0x3d379a in _0x47194b[_0x39a759(0x329)]){var _0x563642=[];_0x563642[_0x39a759(0x417)]({'type':_0x39a759(0x3d3),'txt':'\x20-'+_0x3d379a+'\x20'+_0x47194b['resources'][_0x3d379a],'txt_color':_0x39a759(0x427),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x563642[_0x39a759(0x417)]({'type':_0x39a759(0x3fa),'img':world[_0x39a759(0x4d3)][_0x3d379a+'_icon'][_0x39a759(0x3fa)],'len_x':0x14,'len_y':0x14});}if(_0x23c80c>=this['batPageOffset']['value']&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](this[_0x39a759(0x34d)](_0x47194b[_0x39a759(0x329)],0x14));_0x23c80c++;}}else{if(!this[_0x39a759(0x254)])for(var _0x492aab in _0x162299['bats']){var _0x47194b=_0x162299['bats'][_0x492aab],_0x4a5a99=this['GetDrawBuildingElement'](_0x47194b,0x28);if(_0x47194b[_0x39a759(0x243)])_0x4a5a99[_0x39a759(0x417)]({'type':_0x39a759(0x3fa),'img':world[_0x39a759(0x4d3)][_0x39a759(0x2db)][_0x39a759(0x3fa)],'len_x':0x28,'len_y':0x28});if(_0x23c80c>=this[_0x39a759(0x3a8)]['value']&&_0x23c80c<this['batPageOffset'][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0x4a5a99);_0x23c80c++;if(_0x47194b['build_progression']){if(_0x23c80c>=this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x535)](''+_0x47194b[_0x39a759(0x243)]+_0x39a759(0x2a8),0x14,0x270f,_0x39a759(0x427),VILLAGE_UI_FONT);_0x23c80c++;}var _0x430b88=[],_0x241c9a=_0x47194b['getNextUpgrade']();if(this[_0x39a759(0x40c)]==_0x47194b&&_0x47194b[_0x39a759(0x31e)]){if(_0x23c80c>=this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]&&_0x23c80c<this['batPageOffset'][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x535)](_0x39a759(0x45a)+_0x47194b[_0x39a759(0x31e)],0xf,0x270f,_0x39a759(0x427),VILLAGE_UI_FONT);_0x23c80c++;}if(this['batSelected']==_0x47194b&&_0x241c9a){var _0x4080d0=this[_0x39a759(0x34d)](_0x241c9a[_0x39a759(0x329)],0x14);_0x4080d0['unshift']({'type':_0x39a759(0x33d),'mouseLight':'88','callback':_0x47194b[_0x39a759(0x404)],'callback_data':{},'txt':_0x39a759(0x3ae),'txt_color':_0x39a759(0x427),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x23c80c>=this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0x4080d0);_0x23c80c++;}if(_0x47194b==this[_0x39a759(0x40c)]&&_0x47194b[_0x39a759(0x4a7)]){if(_0x47194b[_0x39a759(0x4a7)]&&_0x23c80c>=this['batPageOffset']['value']&&_0x23c80c<this[_0x39a759(0x3a8)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x535)](''+_0x47194b[_0x39a759(0x3d9)][_0x39a759(0x2d1)]+'\x20/\x20'+_0x47194b['player_size']+_0x39a759(0x1d4),0x14,0x270f,_0x39a759(0x427),VILLAGE_UI_FONT);_0x23c80c++;}if(this['playerSelected']&&_0x47194b==this[_0x39a759(0x40c)]&&!_0x47194b['players_inside'][_0x39a759(0x26d)](_0x457594=>_0x457594==this[_0x39a759(0x4ac)])&&_0x47194b[_0x39a759(0x3d9)][_0x39a759(0x2d1)]<_0x47194b[_0x39a759(0x4a7)])_0x430b88[_0x39a759(0x417)]({'type':_0x39a759(0x33d),'mouseLight':'88','callback':world[_0x39a759(0x59e)][_0x39a759(0x3eb)],'callback_data':{'player':this['playerSelected'],'bat':_0x47194b},'txt':'add\x20player','txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x430b88[_0x39a759(0x2d1)]){if(_0x23c80c>=this['batPageOffset'][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0x430b88);_0x23c80c++;}if(this[_0x39a759(0x40c)]==_0x47194b)for(var _0x3d379a in _0x47194b[_0x39a759(0x3d9)]){var _0x15c72e=_0x47194b['players_inside'][_0x3d379a],_0x373cce=this[_0x39a759(0x200)](_0x15c72e);_0x373cce['push']({'type':_0x39a759(0x33d),'mouseLight':'88','callback':world[_0x39a759(0x59e)][_0x39a759(0x2bb)],'callback_data':{'player':_0x15c72e},'txt':_0x39a759(0x1e3),'txt_color':_0x39a759(0x427),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});if(_0x23c80c>=this[_0x39a759(0x3a8)]['value']&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0x373cce);_0x23c80c++;}}}}else{if(_0x162299[_0x39a759(0x53d)]==PHASE_ACTIONPLAYER){var _0x23c80c=0x0;for(var _0x492aab in _0x162299[_0x39a759(0x501)]){var _0x47194b=_0x162299[_0x39a759(0x501)][_0x492aab],_0x4a5a99=this[_0x39a759(0x55f)](_0x47194b,0x28);if(_0x47194b[_0x39a759(0x243)])_0x4a5a99[_0x39a759(0x417)]({'type':'img','img':world[_0x39a759(0x4d3)][_0x39a759(0x2db)][_0x39a759(0x3fa)],'len_x':0x28,'len_y':0x28});if(_0x23c80c>=this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x4a5a99);_0x23c80c++;if(_0x47194b[_0x39a759(0x243)]){if(_0x23c80c>=this[_0x39a759(0x3a8)]['value']&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addTextZone'](''+_0x47194b['build_progression']+_0x39a759(0x2a8),0x14,0x270f,_0x39a759(0x427),VILLAGE_UI_FONT);_0x23c80c++;}var _0x430b88=[];if(_0x430b88[_0x39a759(0x2d1)]){if(_0x23c80c>=this['batPageOffset'][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0x430b88);_0x23c80c++;}for(var _0x3d379a in _0x47194b['players_inside']){var _0x15c72e=_0x47194b[_0x39a759(0x3d9)][_0x3d379a],_0x2bc313=_0x15c72e[_0x39a759(0x3b8)]();if(this['batSelected']==_0x47194b||_0x2bc313[_0x39a759(0x2d1)]&&_0x47194b['name']!=_0x39a759(0x238)){var _0x373cce=this['getPlayerIcone'](_0x15c72e);if(_0x47194b[_0x39a759(0x4fd)][_0x39a759(0x2d1)])_0x373cce[_0x39a759(0x417)]({'type':_0x39a759(0x3fa),'img':world[_0x39a759(0x4d3)][_0x39a759(0x452)][_0x39a759(0x3fa)],'len_x':0x14,'len_y':0x14},{'type':_0x39a759(0x3d3),'txt':''+_0x15c72e[_0x39a759(0x56f)]+_0x39a759(0x380),'txt_color':_0x15c72e[_0x39a759(0x56f)]?'#000000':_0x39a759(0x3ac),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0x23c80c>=this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]&&_0x23c80c<this['batPageOffset'][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0x373cce);_0x23c80c++;if(_0x47194b[_0x39a759(0x243)]){var _0xe568f2=[];_0x15c72e[_0x39a759(0x56f)]>0x0&&(_0xe568f2[_0x39a759(0x417)]({'type':_0x39a759(0x33d),'mouseLight':'88','callback':_0x47194b[_0x39a759(0x1df)],'callback_data':{'player':_0x15c72e},'txt':_0x39a759(0x1df),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x4613ce=>{return _0x4613ce;},'input':_0x39a759(0x435)}]}),_0xe568f2[_0x39a759(0x417)]({'type':_0x39a759(0x3d3),'txt':_0x39a759(0x396)+_0x47194b['build_progression']+_0x39a759(0x2dc),'txt_color':_0x15c72e['villageActionPoint']?'#000000':_0x39a759(0x3ac),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0x23c80c>=this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)](_0xe568f2);_0x23c80c++;}else for(var _0x4d4ee4 in _0x47194b[_0x39a759(0x4fd)]){var _0x7fe115=_0x47194b[_0x39a759(0x4fd)][_0x4d4ee4];if(_0x7fe115[_0x39a759(0x441)]&&_0x7fe115[_0x39a759(0x441)]>_0x15c72e[_0x39a759(0x56f)]||_0x15c72e[_0x39a759(0x56f)]==0x0)continue;var _0x5d472a={'type':_0x39a759(0x33d),'mouseLight':'88','callback':window[_0x7fe115[_0x39a759(0x5a1)]],'callback_data':{'player':_0x15c72e,'cost':_0x7fe115[_0x39a759(0x441)]},'txt':_0x7fe115[_0x39a759(0x2bf)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x3c19fd=>{return _0x3c19fd;},'input':_0x7fe115['description']}]};if(_0x23c80c>=this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]&&_0x23c80c<this[_0x39a759(0x3a8)][_0x39a759(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39a759(0x28f)]([_0x5d472a]);_0x23c80c++;}}}}}}},this[_0x6a9b0(0x342)]=()=>{var _0x53d7af=_0x6a9b0,_0x4a1166=[];return this[_0x53d7af(0x254)]?_0x4a1166['push']({'type':_0x53d7af(0x33d),'mouseLight':'88','callback':()=>{var _0x51a170=_0x53d7af;this[_0x51a170(0x254)]=![],this[_0x51a170(0x3a8)][_0x51a170(0x3c5)]=0x0;},'txt':'back','mouseLight':'88','txt_color':_0x53d7af(0x271),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x53d7af(0x330),'strokeColor':_0x53d7af(0x427),'windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}):_0x4a1166[_0x53d7af(0x417)]({'type':_0x53d7af(0x33d),'mouseLight':'88','callback':()=>{var _0x15de05=_0x53d7af;this[_0x15de05(0x254)]=!![],this[_0x15de05(0x3a8)][_0x15de05(0x3c5)]=0x0;},'txt':_0x53d7af(0x22f),'mouseLight':'88','txt_color':_0x53d7af(0x330),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x53d7af(0x271),'strokeColor':_0x53d7af(0x427),'windowInfo':[{'callback':()=>{var _0x265bac=_0x53d7af;return _0x265bac(0x3e1);}}]}),_0x4a1166;},this[_0x6a9b0(0x34d)]=(_0xca8c95,_0x2b7a2c)=>{var _0x4abe20=_0x6a9b0,_0x4de14e=[];for(var _0x45c615 in _0xca8c95){_0x4de14e['push']({'type':'img','img':world[_0x4abe20(0x4d3)][_0x45c615+'_icon'][_0x4abe20(0x3fa)],'len_x':_0x2b7a2c,'len_y':_0x2b7a2c}),_0x4de14e[_0x4abe20(0x417)]({'type':'txt','txt':'\x20x'+_0xca8c95[_0x45c615],'txt_color':_0x4abe20(0x427),'max_letters':0x270f,'letter_size':_0x2b7a2c,'txt_font':VILLAGE_UI_FONT});}return _0x4de14e;},this['getItemIcone']=(_0x4c15b3,_0x1d3a56,_0x5715fd)=>{var _0x22a56b=_0x6a9b0,_0x5a4a99=()=>this[_0x22a56b(0x597)]=this[_0x22a56b(0x597)]==_0x4c15b3?undefined:_0x4c15b3;if(_0x5715fd)_0x5a4a99=()=>{};var _0x5c95a6=[{'type':_0x22a56b(0x3fa),'img':world['Imgs'][_0x4c15b3[_0x22a56b(0x1d5)]+_0x22a56b(0x1d0)][_0x22a56b(0x3fa)],'len_x':_0x1d3a56,'len_y':_0x1d3a56},{'type':_0x22a56b(0x33d),'mouseLight':'ff','callback':_0x5a4a99,'txt':_0x4c15b3[_0x22a56b(0x1d5)],'txt_color':_0x22a56b(0x427),'max_letters':0x270f,'letter_size':_0x1d3a56,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this[_0x22a56b(0x597)]==_0x4c15b3?_0x22a56b(0x471):_0x22a56b(0x4f9),'windowInfo':[{'callback':_0x4c15b3['itemType']=='weapon'?_0x4c15b3[_0x22a56b(0x463)]:_0x4c15b3['getArmorDescription']}]}];return _0x5c95a6;},this['draw_craft_menu']=()=>{var _0x42f554=_0x6a9b0,_0x238a60=world[_0x42f554(0x59e)];this['UI'][_0x42f554(0x28f)](this[_0x42f554(0x305)]({'selector':this['craftPageOffset']}));var _0x2496aa=0x0,_0x5594c3=_0x238a60[_0x42f554(0x211)]();if(_0x238a60['phase']!=PHASE_ACTIONPLAYER)this['UI'][_0x42f554(0x535)](_0x42f554(0x477),0x14,0x270f,_0x42f554(0x4d5),VILLAGE_UI_FONT);if(!_0x5594c3||_0x5594c3[_0x42f554(0x2d1)]<0x1)this['UI'][_0x42f554(0x535)](_0x42f554(0x379),0x14,0x270f,'#000000',VILLAGE_UI_FONT);for(var _0x2fe948 in _0x5594c3){var _0x2e5f89=[],_0x3649dd=_0x5594c3[_0x2fe948];_0x2e5f89[_0x42f554(0x417)]({'type':_0x42f554(0x33d),'mouseLight':'ff','callback':_0x46b761=>this[_0x42f554(0x33e)]=this[_0x42f554(0x33e)]==_0x46b761?undefined:_0x46b761,'callback_data':_0x3649dd,'txt':_0x3649dd['name']+'\x20('+_0x3649dd[_0x42f554(0x491)]+')','txt_color':this[_0x42f554(0x33e)]==_0x3649dd?_0x42f554(0x1fe):'#000000','max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':'#ffffff88','strokeColor':this[_0x42f554(0x33e)]==_0x3649dd?_0x42f554(0x354):_0x42f554(0x4f9),'windowInfo':[{'callback':()=>{var _0x4a0795=_0x42f554;return _0x3649dd[_0x4a0795(0x3fe)];},'input':undefined}]});if(_0x2496aa>=this[_0x42f554(0x3d4)][_0x42f554(0x3c5)]&&_0x2496aa<this[_0x42f554(0x3d4)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x2e5f89);_0x2496aa++;if(this[_0x42f554(0x33e)]==_0x3649dd){var _0x11e4de=_0x238a60['get_valid_player_for_craft']({'craft':_0x3649dd});if(_0x2496aa>=this[_0x42f554(0x3d4)][_0x42f554(0x3c5)]&&_0x2496aa<this['craftPageOffset'][_0x42f554(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x42f554(0x28f)](this[_0x42f554(0x34d)](_0x3649dd[_0x42f554(0x329)],0x14));_0x2496aa++;if(!_0x11e4de||_0x11e4de[_0x42f554(0x2d1)]<0x1){if(_0x2496aa>=this['craftPageOffset'][_0x42f554(0x3c5)]&&_0x2496aa<this[_0x42f554(0x3d4)][_0x42f554(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x42f554(0x535)](_0x42f554(0x3d8),0x14,0x270f,'#ff0000',VILLAGE_UI_FONT);_0x2496aa++;}for(var _0x434289 in _0x11e4de){var _0x156e25=_0x11e4de[_0x434289],_0x2e5f89=this[_0x42f554(0x200)](_0x156e25,0x19);_0x238a60[_0x42f554(0x53d)]==PHASE_ACTIONPLAYER&&_0x2e5f89[_0x42f554(0x417)]({'type':'button','mouseLight':'88','callback':_0x238a60[_0x42f554(0x39a)],'callback_data':{'craft':_0x3649dd,'player':_0x156e25},'txt':_0x42f554(0x43b),'txt_color':_0x42f554(0x427),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x42f554(0x325),'strokeColor':this[_0x42f554(0x33e)]==_0x3649dd?_0x42f554(0x354):_0x42f554(0x4f9),'windowInfo':[{'callback':()=>{var _0x217ab7=_0x42f554;return _0x3649dd[_0x217ab7(0x3fe)];},'input':undefined}]});if(_0x2496aa>=this[_0x42f554(0x3d4)][_0x42f554(0x3c5)]&&_0x2496aa<this[_0x42f554(0x3d4)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x42f554(0x28f)](_0x2e5f89);_0x2496aa++;}}}},this[_0x6a9b0(0x55f)]=(_0x2ba434,_0x352d05)=>{var _0x8add55=_0x6a9b0,_0x2c3227=[{'type':_0x8add55(0x3fa),'img':world[_0x8add55(0x4d3)][_0x2ba434[_0x8add55(0x49a)]][_0x8add55(0x3fa)],'len_x':_0x352d05,'len_y':_0x352d05},{'type':_0x8add55(0x33d),'mouseLight':'ff','callback':_0x4caa04=>{var _0x5c306d=_0x8add55;this[_0x5c306d(0x40c)]=this[_0x5c306d(0x40c)]==_0x4caa04?undefined:_0x4caa04;},'callback_data':_0x2ba434,'txt':_0x2ba434[_0x8add55(0x1d5)],'txt_color':this[_0x8add55(0x40c)]==_0x2ba434?_0x8add55(0x334):_0x8add55(0x427),'max_letters':0x270f,'letter_size':_0x352d05,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this[_0x8add55(0x40c)]==_0x2ba434?_0x8add55(0x354):_0x8add55(0x4f9),'windowInfo':[{'callback':_0x506784=>{var _0x3dafcd=_0x8add55;if(typeof _0x506784[_0x3dafcd(0x3fe)]==_0x3dafcd(0x20d))return _0x506784[_0x3dafcd(0x3fe)](_0x506784);if(typeof _0x506784['description']=='string')return _0x506784[_0x3dafcd(0x3fe)];},'input':_0x2ba434}]}];return _0x2c3227;},this[_0x6a9b0(0x205)]=(_0x4d546f,_0x132efb,_0x39857b)=>{var _0x4dea52=_0x6a9b0,_0x35e667={'type':'button','mouseLight':'88','callback':world[_0x4dea52(0x59e)]['End_Turn'],'callback_data':{'warning':_0x4d546f?!![]:![]},'txt':_0x39857b,'txt_color':_0x4dea52(0x427),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x132efb?_0x4dea52(0x446):_0x4dea52(0x325),'strokeColor':_0x4dea52(0x427)};return _0x35e667;},this[_0x6a9b0(0x200)]=(_0x6553f0,_0x586a29)=>{var _0x28623e=_0x6a9b0;if(!_0x6553f0)return undefined;var _0x586a29=_0x586a29?_0x586a29:0x28,_0x5831d4=[{'type':'button','mouseLight':'ff','txt':_0x6553f0[_0x28623e(0x1d5)],'callback':_0x4c5568=>{var _0x4ad087=_0x28623e;this[_0x4ad087(0x4ac)]=this[_0x4ad087(0x4ac)]==_0x4c5568?undefined:_0x4c5568;},'callback_data':_0x6553f0,'txt_color':_0x6553f0[_0x28623e(0x53e)]?_0x28623e(0x57b):this[_0x28623e(0x4ac)]==_0x6553f0?_0x28623e(0x583):_0x28623e(0x427),'max_letters':0x270f,'letter_size':_0x586a29,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this[_0x28623e(0x4ac)]==_0x6553f0?_0x28623e(0x354):_0x28623e(0x4f9),'windowInfo':[{'callback':_0x6553f0[_0x28623e(0x43f)]}]}];if(!_0x6553f0[_0x28623e(0x46c)])_0x6553f0[_0x28623e(0x424)]();return _0x5831d4[_0x28623e(0x417)]({'type':'img','img':_0x6553f0['bodyPartImg'],'len_x':_0x586a29,'len_y':_0x586a29}),_0x6553f0[_0x28623e(0x339)]&&_0x5831d4[_0x28623e(0x417)]({'type':_0x28623e(0x3fa),'img':world[_0x28623e(0x3d1)][_0x6553f0[_0x28623e(0x339)]['name']+_0x28623e(0x1d0)]['img'],'len_x':_0x586a29,'len_y':_0x586a29}),_0x5831d4;},this['draw_villagePlayerUi']=()=>{var _0x37f1a6=_0x6a9b0,_0x33b1a8=world[_0x37f1a6(0x59e)];this[_0x37f1a6(0x20c)]=new MyUI(this[_0x37f1a6(0x1d9)],0x0,0x0,0xa,this[_0x37f1a6(0x563)],this[_0x37f1a6(0x595)],this[_0x37f1a6(0x51e)],this[_0x37f1a6(0x55c)]),this['UIplayers'][_0x37f1a6(0x323)](_0x37f1a6(0x509),0x28,_0x37f1a6(0x427),_0x37f1a6(0x4f9),_0x37f1a6(0x4f9),()=>{var _0x61dbad=_0x37f1a6;this[_0x61dbad(0x2c0)]=!this[_0x61dbad(0x2c0)];},undefined,VILLAGE_UI_FONT_PHASE);var _0x1020a0=this[_0x37f1a6(0x305)]({'selector':this['playersPageOffset']});if(this[_0x37f1a6(0x4ac)]&&this[_0x37f1a6(0x27d)][this[_0x37f1a6(0x5a2)]]!=_0x37f1a6(0x3cd)&&(_0x33b1a8[_0x37f1a6(0x53d)]==PHASE_PLACEPLAYER||_0x33b1a8[_0x37f1a6(0x53d)]==PHASE_ACTIONPLAYER))_0x1020a0[_0x37f1a6(0x417)]({'type':_0x37f1a6(0x33d),'mouseLight':'88','callback':this[_0x37f1a6(0x293)],'callback_data':{'tab':_0x37f1a6(0x3cd)},'txt':_0x37f1a6(0x571),'txt_color':_0x37f1a6(0x427),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ffffff'});this['UIplayers'][_0x37f1a6(0x28f)](_0x1020a0);var _0x1b08bc=0x0;if(this[_0x37f1a6(0x2c0)]){if(!this[_0x37f1a6(0x2f3)])for(var _0xe3df50 in _0x33b1a8['players']){var _0xaaeba0=_0x33b1a8[_0x37f1a6(0x216)][_0xe3df50];if(_0x1b08bc>=this['playersPageOffset'][_0x37f1a6(0x3c5)]&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x37f1a6(0x20c)][_0x37f1a6(0x28f)](this[_0x37f1a6(0x200)](_0xaaeba0));_0x1b08bc++;if(_0xaaeba0[_0x37f1a6(0x53e)]&&_0x33b1a8[_0x37f1a6(0x53d)]!=PHASE_NEWTURN){if(_0x1b08bc>=this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers']['addButton']('lvl\x20up',0xa,'#ffffff',_0x37f1a6(0x1c5),_0x37f1a6(0x427),this[_0x37f1a6(0x293)],{'tab':_0x37f1a6(0x3cd),'player':_0xaaeba0},VILLAGE_UI_FONT_BUTTON,undefined,()=>{var _0x1ef7d4=_0x37f1a6;return _0x1ef7d4(0x4c9);},'ff');_0x1b08bc++;}var _0x335790=world[_0x37f1a6(0x59e)][_0x37f1a6(0x4df)](_0xaaeba0);if(_0x335790){var _0x119ca3=[{'type':_0x37f1a6(0x3d3),'txt':_0x335790[_0x37f1a6(0x1d5)],'txt_color':this[_0x37f1a6(0x40c)]==_0x335790?'#888888':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x37f1a6(0x3fa),'img':world[_0x37f1a6(0x4d3)][_0x335790[_0x37f1a6(0x49a)]][_0x37f1a6(0x3fa)],'len_x':0x14,'len_y':0x14}];if(_0x33b1a8[_0x37f1a6(0x53d)]==PHASE_PLACEPLAYER)_0x119ca3[_0x37f1a6(0x417)]({'type':_0x37f1a6(0x33d),'mouseLight':'88','callback':world[_0x37f1a6(0x59e)][_0x37f1a6(0x2bb)],'callback_data':{'player':_0xaaeba0},'txt':_0x37f1a6(0x4eb),'txt_color':_0x37f1a6(0x427),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x37f1a6(0x4d5)});if(_0x1b08bc>=this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x37f1a6(0x28f)](_0x119ca3);_0x1b08bc++;}var _0xbb92fb=[];if(_0x33b1a8['phase']==PHASE_PLACEPLAYER&&this[_0x37f1a6(0x40c)]&&this[_0x37f1a6(0x27d)][this[_0x37f1a6(0x5a2)]]=='building'&&this['batSelected'][_0x37f1a6(0x4a7)]&&!this[_0x37f1a6(0x40c)][_0x37f1a6(0x3d9)][_0x37f1a6(0x26d)](_0x3f2fc4=>_0x3f2fc4==_0xaaeba0)&&!_0x335790&&!this[_0x37f1a6(0x254)]&&this[_0x37f1a6(0x40c)][_0x37f1a6(0x3d9)][_0x37f1a6(0x2d1)]<this['batSelected'][_0x37f1a6(0x4a7)])_0xbb92fb[_0x37f1a6(0x417)]({'type':_0x37f1a6(0x33d),'mouseLight':'88','callback':world[_0x37f1a6(0x59e)][_0x37f1a6(0x3eb)],'callback_data':{'player':_0xaaeba0,'bat':this['batSelected']},'txt':_0x37f1a6(0x58e),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0xbb92fb['length']){if(_0x1b08bc>=this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x37f1a6(0x20c)][_0x37f1a6(0x28f)](_0xbb92fb);_0x1b08bc++;}if(this[_0x37f1a6(0x27d)][this[_0x37f1a6(0x5a2)]]==_0x37f1a6(0x294)){if(this[_0x37f1a6(0x4ac)]==_0xaaeba0){if(_0x33b1a8['phase']==PHASE_PLACEPLAYER&&_0xaaeba0[_0x37f1a6(0x339)]){if(_0x1b08bc>=this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]&&_0x1b08bc<this['playersPageOffset'][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x37f1a6(0x323)](_0x37f1a6(0x473),0x14,_0x37f1a6(0x427),VILLAGE_UI_BUTTON_FILLCOLOR,_0x37f1a6(0x427),_0xaaeba0['unequipWeapon'],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1b08bc++;}if(_0x33b1a8[_0x37f1a6(0x53d)]==PHASE_PLACEPLAYER&&_0xaaeba0[_0x37f1a6(0x573)]){if(_0x1b08bc>=this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x37f1a6(0x20c)][_0x37f1a6(0x323)](_0x37f1a6(0x2e5),0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0xaaeba0['unequipArmor'],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1b08bc++;}if(_0x33b1a8[_0x37f1a6(0x53d)]==PHASE_PLACEPLAYER&&this[_0x37f1a6(0x597)]&&this[_0x37f1a6(0x597)][_0x37f1a6(0x4bb)]==_0x37f1a6(0x339)){if(_0x1b08bc>=this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x37f1a6(0x323)](_0x37f1a6(0x44e),0x14,_0x37f1a6(0x427),VILLAGE_UI_BUTTON_FILLCOLOR,_0x37f1a6(0x427),_0xaaeba0[_0x37f1a6(0x577)],{'weapon':this[_0x37f1a6(0x597)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1b08bc++;}if(_0x33b1a8[_0x37f1a6(0x53d)]==PHASE_PLACEPLAYER&&this[_0x37f1a6(0x597)]&&this[_0x37f1a6(0x597)][_0x37f1a6(0x4bb)]==_0x37f1a6(0x573)){if(_0x1b08bc>=this[_0x37f1a6(0x26f)]['value']&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x37f1a6(0x20c)][_0x37f1a6(0x323)](_0x37f1a6(0x49e),0x14,_0x37f1a6(0x427),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0xaaeba0[_0x37f1a6(0x507)],{'armor':this[_0x37f1a6(0x597)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1b08bc++;}}}}if(this[_0x37f1a6(0x2f3)]){if(_0x1b08bc>=this[_0x37f1a6(0x26f)]['value']&&_0x1b08bc<this[_0x37f1a6(0x26f)][_0x37f1a6(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x37f1a6(0x20c)][_0x37f1a6(0x535)](this[_0x37f1a6(0x2f3)]['getVillageUItext'](),0x28,0x270f,_0x37f1a6(0x427),VILLAGE_UI_FONT);_0x1b08bc++;}}this[_0x37f1a6(0x20c)][_0x37f1a6(0x1dc)]();},this['draw_newTurnPhase']=()=>{var _0x14f460=_0x6a9b0,_0x4106df=world[_0x14f460(0x59e)],_0x52bec6='New\x20Turn\x20!\x20';_0x52bec6+=world['village'][_0x14f460(0x3a2)]();if(_0x4106df[_0x14f460(0x2a6)])_0x52bec6+='\x0aYour\x20village\x20consumed\x20'+_0x4106df[_0x14f460(0x2a6)]+_0x14f460(0x3e2);for(var _0x9b17ce in _0x4106df[_0x14f460(0x216)]){var _0x5be8e2=_0x4106df[_0x14f460(0x216)];if(_0x5be8e2[_0x14f460(0x53e)])_0x52bec6+='\x0a'+_0x5be8e2[_0x14f460(0x1d5)]+'\x20can\x20lvl\x20up';}this['UI'][_0x14f460(0x535)](_0x52bec6,0x1e,0x270f,_0x14f460(0x427),VILLAGE_UI_FONT),this['UI']['addHorizontalElem']([this[_0x14f460(0x205)](![],![],_0x14f460(0x25b))]);},this[_0x6a9b0(0x1ed)]=()=>{var _0x5d1fc3=_0x6a9b0,_0x282c1e=world[_0x5d1fc3(0x59e)];if(_0x282c1e[_0x5d1fc3(0x503)])this['UI']['addTextZone'](_0x5d1fc3(0x324),0x28,0x270f,_0x5d1fc3(0x427),VILLAGE_UI_FONT);else this['UI'][_0x5d1fc3(0x535)](_0x5d1fc3(0x389),0x28,0x270f,'#000000',VILLAGE_UI_FONT);this['UI'][_0x5d1fc3(0x28f)]([this['GetNextTurnButton'](![],![],_0x282c1e[_0x5d1fc3(0x503)]?_0x5d1fc3(0x2b3):_0x5d1fc3(0x377))]);},this[_0x6a9b0(0x358)]=()=>{var _0x27cba7=_0x6a9b0,_0xc3a420=world['village'];this['UI'][_0x27cba7(0x28f)](this['GetPageSelector']({'selector':this[_0x27cba7(0x1eb)]}));var _0x35c3e1=0x0;if(_0xc3a420[_0x27cba7(0x53d)]!=PHASE_PLACEPLAYER)this['UI'][_0x27cba7(0x535)](_0x27cba7(0x55a),0x14,0x270f,_0x27cba7(0x4d5),VILLAGE_UI_FONT);if(!_0xc3a420[_0x27cba7(0x294)]['length'])this['UI'][_0x27cba7(0x535)]('you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village',0x14,0x270f,_0x27cba7(0x427),VILLAGE_UI_FONT);for(var _0x5d08ce in _0xc3a420[_0x27cba7(0x294)]){var _0x3eff47=_0xc3a420[_0x27cba7(0x294)][_0x5d08ce];if(_0x35c3e1>=this['itemsPageOffset'][_0x27cba7(0x3c5)]&&_0x35c3e1<this[_0x27cba7(0x1eb)][_0x27cba7(0x3c5)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x27cba7(0x28f)](this[_0x27cba7(0x567)](_0x3eff47,0x14));_0x35c3e1++;}},this[_0x6a9b0(0x2aa)]=()=>{var _0x2f05f3=_0x6a9b0,_0x15510c=world[_0x2f05f3(0x59e)];switch(_0x15510c['phase']){case PHASE_PLACEPLAYER:this['UI']['addTextZone'](world[_0x2f05f3(0x59e)]['getDateText'](),0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x4010d6=_0x2f05f3(0x378);_0x4010d6+=_0x2f05f3(0x276),_0x4010d6+='\x0a-affect\x20players\x20to\x20a\x20building',_0x4010d6+=_0x2f05f3(0x257),_0x4010d6+=_0x2f05f3(0x2b9),this['UI'][_0x2f05f3(0x535)](_0x4010d6,0x14,0x270f,_0x2f05f3(0x427),VILLAGE_UI_FONT);var _0x2fa4c3=[this['GetNextTurnButton'](!![],this[_0x2f05f3(0x35a)][_0x2f05f3(0x2d1)],_0x2f05f3(0x298))];this['UI']['addHorizontalElem'](_0x2fa4c3);if(this['warningEndTurnMessage'][_0x2f05f3(0x2d1)])for(var _0x51fab2 in this['warningEndTurnMessage']){var _0x154d2f=[];_0x154d2f[_0x2f05f3(0x417)]({'type':_0x2f05f3(0x3d3),'txt':this[_0x2f05f3(0x35a)][_0x51fab2][_0x2f05f3(0x3d3)],'txt_color':_0x2f05f3(0x427),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x51fab2][_0x2f05f3(0x317)]||this['warningEndTurnMessage'][_0x51fab2][_0x2f05f3(0x27f)]||this['warningEndTurnMessage'][_0x51fab2][_0x2f05f3(0x562)])&&_0x154d2f[_0x2f05f3(0x417)]({'type':_0x2f05f3(0x33d),'callback':this[_0x2f05f3(0x293)],'callback_data':this['warningEndTurnMessage'][_0x51fab2],'txt':_0x2f05f3(0x283),'txt_color':_0x2f05f3(0x427),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x2f05f3(0x427),'windowInfo':[{'callback':()=>{var _0x35df19=_0x2f05f3;return _0x35df19(0x540);}}]}),this['UI'][_0x2f05f3(0x28f)](_0x154d2f);}break;case PHASE_ACTIONPLAYER:this['UI'][_0x2f05f3(0x535)](world[_0x2f05f3(0x59e)][_0x2f05f3(0x3a2)](),0x14,0x270f,_0x2f05f3(0x427),VILLAGE_UI_FONT);var _0x4010d6='\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building';_0x4010d6+=_0x2f05f3(0x44a),_0x4010d6+='\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings',_0x4010d6+=_0x2f05f3(0x587),_0x4010d6+=_0x2f05f3(0x53f),this['UI'][_0x2f05f3(0x535)](_0x4010d6,0x14,0x270f,_0x2f05f3(0x427),VILLAGE_UI_FONT);var _0x2fa4c3=[this[_0x2f05f3(0x205)](!![],this['warningEndTurnMessage'][_0x2f05f3(0x2d1)],_0x2f05f3(0x522))];if(this[_0x2f05f3(0x35a)]['length'])_0x2fa4c3[_0x2f05f3(0x417)](this[_0x2f05f3(0x205)](![],this[_0x2f05f3(0x35a)]['length'],_0x2f05f3(0x242)));this['UI'][_0x2f05f3(0x28f)](_0x2fa4c3);if(this[_0x2f05f3(0x35a)][_0x2f05f3(0x2d1)])for(var _0x51fab2 in this['warningEndTurnMessage']){var _0x154d2f=[];_0x154d2f['push']({'type':_0x2f05f3(0x3d3),'txt':this[_0x2f05f3(0x35a)][_0x51fab2][_0x2f05f3(0x3d3)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x51fab2][_0x2f05f3(0x317)]||this[_0x2f05f3(0x35a)][_0x51fab2]['bat']||this['warningEndTurnMessage'][_0x51fab2][_0x2f05f3(0x562)])&&_0x154d2f['push']({'type':_0x2f05f3(0x33d),'callback':this[_0x2f05f3(0x293)],'callback_data':this['warningEndTurnMessage'][_0x51fab2],'txt':_0x2f05f3(0x283),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x2f05f3(0x427),'windowInfo':[{'callback':()=>{var _0xea79e6=_0x2f05f3;return _0xea79e6(0x540);}}]}),this['UI'][_0x2f05f3(0x28f)](_0x154d2f);}break;}},this[_0x6a9b0(0x4e7)]=()=>{var _0x242ab8=_0x6a9b0,_0x297b1c=world[_0x242ab8(0x59e)];if(!this[_0x242ab8(0x4ac)])return this['UI']['addTextZone'](_0x242ab8(0x4d1),VILLAGE_UI_LETTER_SIZE,0x270f,_0x242ab8(0x427),VILLAGE_UI_FONT);var _0x403b76=this[_0x242ab8(0x4ac)],_0x569b21=this[_0x242ab8(0x200)](_0x403b76,0x50);this['UI'][_0x242ab8(0x28f)](_0x569b21);var _0x49fa4c=world[_0x242ab8(0x59e)]['getBatFromPlayer'](_0x403b76);if(_0x49fa4c){var _0x313354=[{'type':_0x242ab8(0x3d3),'txt':_0x49fa4c['name'],'txt_color':this[_0x242ab8(0x40c)]==_0x49fa4c?_0x242ab8(0x245):'#000000','max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x242ab8(0x3fa),'img':world[_0x242ab8(0x4d3)][_0x49fa4c[_0x242ab8(0x49a)]][_0x242ab8(0x3fa)],'len_x':0x19,'len_y':0x19}];if(_0x297b1c[_0x242ab8(0x53d)]==PHASE_PLACEPLAYER)_0x313354['push']({'type':_0x242ab8(0x33d),'mouseLight':'88','callback':world['village']['removePlayerFromBat'],'callback_data':{'player':_0x403b76},'txt':_0x242ab8(0x4eb),'txt_color':_0x242ab8(0x427),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});this['UI']['addHorizontalElem'](_0x313354);}if(!_0x403b76[_0x242ab8(0x339)])this['UI'][_0x242ab8(0x535)]('no\x20weapon\x20equiped',0x14,0x270e,_0x242ab8(0x52a),VILLAGE_UI_FONT);else{var _0x12f60b=this[_0x242ab8(0x567)](_0x403b76[_0x242ab8(0x339)],0x1e,!![]);if(_0x297b1c[_0x242ab8(0x53d)]==PHASE_PLACEPLAYER)_0x12f60b[_0x242ab8(0x417)]({'type':_0x242ab8(0x33d),'callback':_0x403b76[_0x242ab8(0x1c8)],'callback_data':undefined,'txt':_0x242ab8(0x1e3),'txt_color':_0x242ab8(0x427),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x242ab8(0x4d5),'strokeColor':_0x242ab8(0x427),'windowInfo':[{'callback':()=>{return'unequip\x20weapon';}}]});this['UI'][_0x242ab8(0x28f)](_0x12f60b);}if(!_0x403b76[_0x242ab8(0x573)])this['UI']['addTextZone'](_0x242ab8(0x4e4),0x14,0x270e,_0x242ab8(0x52a),VILLAGE_UI_FONT);else{var _0x12f60b=this[_0x242ab8(0x567)](_0x403b76[_0x242ab8(0x573)],0x1e,!![]);if(_0x297b1c[_0x242ab8(0x53d)]==PHASE_PLACEPLAYER)_0x12f60b[_0x242ab8(0x417)]({'type':'button','callback':_0x403b76['unequipArmor'],'callback_data':undefined,'txt':_0x242ab8(0x1e3),'txt_color':_0x242ab8(0x427),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':'#ff0000','strokeColor':_0x242ab8(0x427),'windowInfo':[{'callback':()=>{var _0x4aab76=_0x242ab8;return _0x4aab76(0x2e5);}}]});this['UI'][_0x242ab8(0x28f)](_0x12f60b);}if(_0x403b76[_0x242ab8(0x53e)]&&_0x403b76[_0x242ab8(0x479)]&&_0x403b76[_0x242ab8(0x479)][_0x242ab8(0x2d1)]>0x0)for(var _0x265f1c in _0x403b76[_0x242ab8(0x479)]){var _0x569b21=_0x403b76[_0x242ab8(0x479)][_0x265f1c];this['UI'][_0x242ab8(0x323)](_0x569b21[_0x242ab8(0x482)]+'\x20'+_0x569b21['value'],0x28,_0x242ab8(0x427),'#00ff00',_0x242ab8(0x427),_0x403b76[_0x242ab8(0x3da)],_0x569b21,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0x403b76['lvlup']&&this['UI'][_0x242ab8(0x323)](_0x242ab8(0x285),0x3c,'#000000','#ffff00',_0x242ab8(0x427),_0x403b76[_0x242ab8(0x348)],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0x569b21=[];var _0x1eaa26=_0x242ab8(0x36e)+_0x403b76[_0x242ab8(0x3bf)];_0x1eaa26+='\x0aLife\x20Max\x20:\x20'+_0x403b76[_0x242ab8(0x345)],_0x1eaa26+=_0x242ab8(0x231)+_0x403b76[_0x242ab8(0x4c3)],_0x1eaa26+=_0x242ab8(0x2ef)+_0x403b76[_0x242ab8(0x2d0)];for(var _0x265f1c in _0x403b76[_0x242ab8(0x322)])_0x1eaa26+='\x0a'+_0x265f1c+'\x20'+_0x403b76[_0x242ab8(0x322)][_0x265f1c];_0x569b21[_0x242ab8(0x417)]({'type':_0x242ab8(0x3d3),'txt':_0x1eaa26,'txt_color':_0x242ab8(0x427),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x339f9b=_0x242ab8(0x4ba)+_0x403b76['villageActionPoint']+'/'+_0x403b76['villageActionPointMax'];_0x339f9b+='\x0aLvl\x20:\x20'+_0x403b76['lvl'],_0x339f9b+=_0x242ab8(0x2b5)+_0x403b76[_0x242ab8(0x3f8)]+_0x242ab8(0x40e),_0x569b21[_0x242ab8(0x417)]({'type':_0x242ab8(0x3d3),'txt':_0x339f9b,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x242ab8(0x28f)](_0x569b21);},this[_0x6a9b0(0x50f)]=()=>{var _0x5858b6=_0x6a9b0,_0x539922=world[_0x5858b6(0x59e)];for(var _0x13cfc9 in _0x539922[_0x5858b6(0x329)]){var _0x3d2f57=[],_0x21d8ea=_0x539922['resources'][_0x13cfc9];if(_0x21d8ea==undefined)continue;_0x3d2f57[_0x5858b6(0x417)]({'type':_0x5858b6(0x3d3),'txt':_0x13cfc9,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x3d2f57['push']({'type':_0x5858b6(0x3fa),'img':world[_0x5858b6(0x4d3)][_0x13cfc9+'_icon'][_0x5858b6(0x3fa)],'len_x':0x14,'len_y':0x14}),_0x3d2f57[_0x5858b6(0x417)]({'type':_0x5858b6(0x3d3),'txt':'\x20'+_0x21d8ea,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x5858b6(0x28f)](_0x3d2f57);}},this['draw_tab_selector']=()=>{var _0x3f21c9=_0x6a9b0,_0x4fb57f=[];_0x4fb57f['push']({'type':_0x3f21c9(0x33d),'mouseLight':'88','callback':()=>{var _0x561195=_0x3f21c9;this[_0x561195(0x5a2)]=this[_0x561195(0x5a2)]-0x1>=0x0?this[_0x561195(0x5a2)]-0x1:this[_0x561195(0x27d)][_0x561195(0x2d1)]-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x4fb57f[_0x3f21c9(0x417)]({'type':_0x3f21c9(0x33d),'mouseLight':'88','callback':()=>{var _0x275b30=_0x3f21c9;this['activeTabId']=this[_0x275b30(0x5a2)]+0x1<this[_0x275b30(0x27d)][_0x275b30(0x2d1)]?this[_0x275b30(0x5a2)]+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x4fb57f[_0x3f21c9(0x417)]({'type':_0x3f21c9(0x33d),'mouseLight':'ff','callback':()=>{var _0x27a45b=_0x3f21c9;this[_0x27a45b(0x5a2)]=undefined;},'callback_data':undefined,'txt':this[_0x3f21c9(0x27d)][this[_0x3f21c9(0x5a2)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI']['addHorizontalElem'](_0x4fb57f);},this[_0x6a9b0(0x2b2)]=()=>{var _0x579055=_0x6a9b0,_0x125fa9=world[_0x579055(0x59e)];this[_0x579055(0x392)]=new MyUI(this[_0x579055(0x1d9)],this[_0x579055(0x20c)][_0x579055(0x224)]+this['UI']['lenx'],0x0,0xa,this[_0x579055(0x563)],this[_0x579055(0x595)],this[_0x579055(0x51e)],this[_0x579055(0x55c)]),this[_0x579055(0x392)][_0x579055(0x535)](_0x579055(0x49d),0x28,0x270f,'#000000',VILLAGE_UI_FONT_PHASE),this[_0x579055(0x392)]['addHorizontalElem']([{'type':_0x579055(0x33d),'mouseLight':'88','callback':()=>{var _0x46efc0=_0x579055;this[_0x46efc0(0x1f8)]=this[_0x46efc0(0x1f8)]>0x0?this[_0x46efc0(0x1f8)]-0x1:this[_0x46efc0(0x1f8)];},'txt':'∧','txt_color':_0x579055(0x4d5),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':'#55aaaa'},{'type':_0x579055(0x33d),'mouseLight':'88','callback':()=>{var _0xecd811=_0x579055;this[_0xecd811(0x1f8)]=this['eventPage']<_0x125fa9[_0xecd811(0x327)][_0xecd811(0x4b5)][_0xecd811(0x2d1)]-0x1?this['eventPage']+0x1:this['eventPage'];},'txt':'∨','txt_color':_0x579055(0x4d5),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x579055(0x279)}]);var _0x2f2142=_0x125fa9[_0x579055(0x327)][_0x579055(0x361)]({'page':this[_0x579055(0x1f8)]});for(var _0x1a9f52 in _0x2f2142){var _0x1bd469=_0x2f2142[_0x579055(0x2d1)]-_0x1a9f52-0x1,_0x23c0f4=_0x579055(0x427);switch(_0x2f2142[_0x1bd469][_0x579055(0x491)]){case _0x579055(0x409):_0x23c0f4='#006400';break;case _0x579055(0x4b2):_0x23c0f4=_0x579055(0x3dd);break;case _0x579055(0x317):_0x23c0f4=_0x579055(0x4f0);break;default:_0x23c0f4=_0x579055(0x427);break;}if(_0x2f2142[_0x1bd469][_0x579055(0x491)]==_0x579055(0x40f))this[_0x579055(0x392)]['addHorizontalElem'](this[_0x579055(0x34d)](_0x2f2142[_0x1bd469][_0x579055(0x3d3)],0x14));else this['UIsystem'][_0x579055(0x535)](_0x2f2142[_0x1bd469][_0x579055(0x3d3)],0x14,0x270f,_0x23c0f4,VILLAGE_UI_FONT);}this[_0x579055(0x392)][_0x579055(0x1dc)]();},this[_0x6a9b0(0x4fb)]=()=>{var _0x562dbc=_0x6a9b0;if(!world[_0x562dbc(0x59e)])return;var _0x37c8c1=world[_0x562dbc(0x59e)];this[_0x562dbc(0x3c2)]=![],this[_0x562dbc(0x1d9)][_0x562dbc(0x581)](),this[_0x562dbc(0x1d9)][_0x562dbc(0x344)](),this[_0x562dbc(0x46e)](),this['UI']=new MyUI(this[_0x562dbc(0x1d9)],this[_0x562dbc(0x20c)]['lenx'],0x0,0xa,this[_0x562dbc(0x563)],this[_0x562dbc(0x595)],this[_0x562dbc(0x51e)],this[_0x562dbc(0x55c)]);if(!this['showUI'])this['UI'][_0x562dbc(0x323)](_0x562dbc(0x407),0x28,_0x562dbc(0x427),_0x562dbc(0x4f9),_0x562dbc(0x4f9),()=>{var _0x5e1f6e=_0x562dbc;this[_0x5e1f6e(0x466)]=!this[_0x5e1f6e(0x466)];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this[_0x562dbc(0x466)]){switch(_0x37c8c1[_0x562dbc(0x53d)]){case PHASE_PLACEPLAYER:this['UI']['addButton'](_0x562dbc(0x2c4),0x28,_0x562dbc(0x427),_0x562dbc(0x4f9),_0x562dbc(0x4f9),()=>{var _0x12bfaf=_0x562dbc;this[_0x12bfaf(0x466)]=!this[_0x12bfaf(0x466)];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI'][_0x562dbc(0x323)]('Phase\x202\x20:\x20Action\x20Players',0x28,_0x562dbc(0x427),'#00000000',_0x562dbc(0x4f9),()=>{var _0xacc939=_0x562dbc;this['showUI']=!this[_0xacc939(0x466)];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this[_0x562dbc(0x5a2)]===undefined)for(var _0x360e18 in this[_0x562dbc(0x27d)]){var _0x1a1290=[];_0x1a1290[_0x562dbc(0x417)]({'type':_0x562dbc(0x33d),'mouseLight':'ff','callback':_0x437803=>{this['activeTabId']=parseInt(_0x437803);},'callback_data':_0x360e18,'txt':this['tabs'][_0x360e18],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x562dbc(0x28f)](_0x1a1290);}else{if(_0x37c8c1[_0x562dbc(0x53d)]==PHASE_NEWTURN)this[_0x562dbc(0x3e3)]();else{if(_0x37c8c1['phase']==PHASE_COMBAT)this[_0x562dbc(0x1ed)]();else{this[_0x562dbc(0x414)]();switch(this[_0x562dbc(0x27d)][this['activeTabId']]){case _0x562dbc(0x377):this[_0x562dbc(0x2aa)]();break;case _0x562dbc(0x4b2):this[_0x562dbc(0x3b4)]();break;case'craft':this['draw_craft_menu']();break;case _0x562dbc(0x40f):this[_0x562dbc(0x50f)]();break;case _0x562dbc(0x294):this[_0x562dbc(0x358)]();break;case'Player':this[_0x562dbc(0x4e7)]();break;}}}}}}this['UI'][_0x562dbc(0x1dc)](),this[_0x562dbc(0x2b2)](),this[_0x562dbc(0x474)](![]);};},MENU_UI_TITLE_FONT=_0x110ced(0x49c),MENU_UI_BUTTON_FONT=_0x110ced(0x278),MenuUI=function(_0x19e380){var _0x201ec4=_0x110ced;this[_0x201ec4(0x1d9)]=_0x19e380,this[_0x201ec4(0x51e)]='#000000',this['background']=_0x201ec4(0x367),this['scale']=0x1,this[_0x201ec4(0x3c2)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],this['UI']=undefined;const _0x2c0b72=document['createElement'](_0x201ec4(0x1d9)),_0x3dddef=_0x2c0b72[_0x201ec4(0x3ca)]('2d'),_0xbc3508=new Image();_0xbc3508[_0x201ec4(0x386)]=_0x201ec4(0x356),_0xbc3508[_0x201ec4(0x534)]=()=>{var _0x93e90f=_0x201ec4;const _0x272bd1=_0x3dddef[_0x93e90f(0x42c)](_0xbc3508,_0x93e90f(0x3c1));this[_0x93e90f(0x595)]=_0x272bd1,this[_0x93e90f(0x3c2)]=!![];},this[_0x201ec4(0x438)]=()=>{var _0x222a73=_0x201ec4;window['addEventListener'](_0x222a73(0x33b),_0x50a76d=>{var _0x1d0e05=_0x222a73,_0x5609af=![];this['UI']&&this['UI']['mouse_move_check'](_0x50a76d[_0x1d0e05(0x2ad)],_0x50a76d[_0x1d0e05(0x5a4)])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0x1d0e05(0x3c2)]=!![],this[_0x1d0e05(0x24e)]=!![],_0x5609af=!![]);!_0x5609af&&this[_0x1d0e05(0x24e)]&&(this[_0x1d0e05(0x24e)]=![],this[_0x1d0e05(0x3c2)]=!![]);if(this==world[_0x1d0e05(0x45b)])this[_0x1d0e05(0x438)]();},{'once':!![]});},this[_0x201ec4(0x438)](),this[_0x201ec4(0x554)]=_0x42b357=>{var _0x2b462a=_0x201ec4;if(this['UI']&&this['UI']['key_buton_check'](_0x42b357))return!![];if(_0x42b357==_0x2b462a(0x455)&&this[_0x2b462a(0x46f)]())return!![];return![];},this[_0x201ec4(0x46f)]=()=>{return![];},this[_0x201ec4(0x375)]=_0x50a6a9=>{var _0x320a3f=_0x201ec4;if(!_0x50a6a9||_0x50a6a9['x']===undefined)return![];var _0x6a759d=_0x50a6a9['x'],_0x74916c=_0x50a6a9['y'];if(_0x50a6a9['button']==0x2){var _0x103e62=this[_0x320a3f(0x46f)]();if(_0x103e62)return!![];}else{if(this['UI']['click_buton_check'](_0x6a759d,_0x74916c))return!![];}return![];},this[_0x201ec4(0x474)]=_0x19c9f8=>{var _0x1eee4d=_0x201ec4;if(this['UI']&&this['UI'][_0x1eee4d(0x474)](_0x19c9f8))this['needRedraw']=!![];},this[_0x201ec4(0x4e8)]=()=>{var _0x5333e7=_0x201ec4;this['canvas'][_0x5333e7(0x581)](),this['canvas'][_0x5333e7(0x344)](),this['UI']=new MyUI(this[_0x5333e7(0x1d9)],0x0,0x0,0xa,this['scale'],this[_0x5333e7(0x595)],this['stroke'],this[_0x5333e7(0x55c)]);var _0x33a7e6=[];_0x33a7e6[_0x5333e7(0x417)]({'type':_0x5333e7(0x3d3),'txt':_0x5333e7(0x504),'txt_color':_0x5333e7(0x427),'max_letters':0x270f,'letter_size':0x2d,'txt_font':MENU_UI_TITLE_FONT}),_0x33a7e6[_0x5333e7(0x417)]({'type':_0x5333e7(0x3d3),'txt':_0x5333e7(0x495)+GAME_VERSION,'txt_color':_0x5333e7(0x427),'max_letters':0x270f,'letter_size':0xa,'txt_font':MENU_UI_TITLE_FONT}),this['UI'][_0x5333e7(0x28f)](_0x33a7e6),this['UI'][_0x5333e7(0x28f)]([{'type':_0x5333e7(0x33d),'callback':world['initVillage'],'callback_data':!![],'txt':_0x5333e7(0x3d0),'txt_color':_0x5333e7(0x427),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#55ff00','strokeColor':_0x5333e7(0x427),'windowInfo':[{'callback':()=>{return'this\x20will\x20delete\x20your\x20current\x20save';}}]}]),localStorage[_0x5333e7(0x2a4)]&&this['UI'][_0x5333e7(0x28f)]([{'type':_0x5333e7(0x33d),'callback':world['initVillage'],'callback_data':![],'txt':_0x5333e7(0x536),'txt_color':_0x5333e7(0x427),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#55ff00','strokeColor':_0x5333e7(0x427),'windowInfo':[{'callback':()=>{return'return\x20to\x20the\x20start\x20of\x20the\x20last\x20phase\x201\x20you\x20played';}}]}]),this['UI'][_0x5333e7(0x1dc)](),this[_0x5333e7(0x474)](![]);};};var IMG_TO_LOAD=[['player_test3/village/resource',_0x110ced(0x261)],['player_test3/village/resource',_0x110ced(0x506)],[_0x110ced(0x55e),_0x110ced(0x352)],[_0x110ced(0x55e),_0x110ced(0x549)],[_0x110ced(0x55e),'woodplank_icon'],[_0x110ced(0x24f),_0x110ced(0x1c2)],[_0x110ced(0x24f),'defend_village_icon'],[_0x110ced(0x24f),'workshop_icon'],[_0x110ced(0x24f),_0x110ced(0x3e4)],[_0x110ced(0x24f),'Mine'],[_0x110ced(0x24f),_0x110ced(0x484)],['player_test3/village/building','sawmill'],['player_test3/village/resource',_0x110ced(0x452)],['player_test3/village/resource',_0x110ced(0x2db)]],id=0x0;World=function(_0x172d13){var _0x43ff0c=_0x110ced;this[_0x43ff0c(0x1fc)]=_0x172d13,this[_0x43ff0c(0x4ee)]=new SoundManager(),this[_0x43ff0c(0x4d3)]=[],this['initVillage']=_0x3d0d0f=>{var _0x373914=_0x43ff0c;this[_0x373914(0x27a)]=undefined,this[_0x373914(0x59e)]=new Village({});if(!localStorage[_0x373914(0x2a4)]||_0x3d0d0f)localStorage[_0x373914(0x36a)]('villageSave'),this[_0x373914(0x59e)][_0x373914(0x272)]();else{var _0x539167=JSON[_0x373914(0x445)](localStorage['villageSave']);for(var _0x439c76 in _0x539167){if(_0x539167[_0x439c76]==undefined)continue;console[_0x373914(0x292)](_0x373914(0x384)+_0x439c76+'\x20to\x20the\x20village');if(_0x439c76==_0x373914(0x216)){var _0x29ba78=_0x539167[_0x373914(0x216)];this[_0x373914(0x59e)][_0x373914(0x216)]=[];for(var _0x1f617a in _0x29ba78){console[_0x373914(0x292)](_0x29ba78[_0x1f617a]),this[_0x373914(0x59e)]['createPlayerFromInput'](_0x29ba78[_0x1f617a]);}}else{if(_0x439c76=='bats')this['village'][_0x373914(0x30f)](_0x539167[_0x373914(0x501)]);else{if(_0x439c76==_0x373914(0x327))continue;else{if(_0x439c76==_0x373914(0x294))this[_0x373914(0x59e)]['loadItemsFromInput'](_0x539167['Items']);else this[_0x373914(0x59e)][_0x439c76]=_0x539167[_0x439c76];}}}}}this[_0x373914(0x3f3)]=new VillageUI(this[_0x373914(0x1fc)]['canList'][_0x373914(0x28d)]);},this['loadImg']=()=>{var _0x8ab92d=_0x43ff0c;for(var _0xa12bc6 in IMG_TO_LOAD){var _0x14e3cc=IMG_TO_LOAD[_0xa12bc6][0x1],_0x3951ac=IMG_TO_LOAD[_0xa12bc6][0x0];this[_0x8ab92d(0x4d3)][_0x14e3cc]=new myImage(_0x14e3cc,'./img/'+_0x3951ac+'/'+_0x14e3cc+_0x8ab92d(0x4a3));}},this[_0x43ff0c(0x373)]=()=>{var _0x40fffd=_0x43ff0c;this[_0x40fffd(0x4a2)]=new ControlManager(),new PlayersManager()[_0x40fffd(0x58b)](),this['Imgs']={...world[_0x40fffd(0x3d1)]},this[_0x40fffd(0x564)](),this['MenuUI']=new MenuUI(this['Screen'][_0x40fffd(0x277)][_0x40fffd(0x28d)]);},this[_0x43ff0c(0x58c)]=()=>{var _0x340d8f=_0x43ff0c,_0x35ecf2=JSON['stringify'](world[_0x340d8f(0x59e)]);localStorage[_0x340d8f(0x2a4)]=_0x35ecf2;},this['create_random_enemy_on_map']=_0x54a663=>{var _0x49a4e7=_0x43ff0c;if(!this[_0x49a4e7(0x4a4)])return undefined;var _0x2a940b=0x64;while(_0x2a940b-->0x1){var _0x4c5dcc=0x1+Math[_0x49a4e7(0x31d)](this[_0x49a4e7(0x4a4)][_0x49a4e7(0x402)]*(0.5+0.5*Math['random']())),_0x4d9260=0x1+Math[_0x49a4e7(0x31d)](this[_0x49a4e7(0x4a4)][_0x49a4e7(0x496)]*Math[_0x49a4e7(0x349)]()),_0x330321=this[_0x49a4e7(0x216)][_0x49a4e7(0x2c2)]({'x':_0x4c5dcc,'y':_0x4d9260,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x330321&&(console[_0x49a4e7(0x292)](_0x49a4e7(0x2df)+[_0x4c5dcc,_0x4d9260]),_0x2a940b=0x0);}if(!_0x330321)return undefined;_0x330321[_0x49a4e7(0x345)]=0x14+_0x54a663*0x4,_0x330321[_0x49a4e7(0x572)]=_0x330321[_0x49a4e7(0x345)],_0x330321['stats'][_0x49a4e7(0x383)]=0x5+_0x54a663,_0x330321[_0x49a4e7(0x322)][_0x49a4e7(0x263)]=0x5+_0x54a663,_0x330321[_0x49a4e7(0x4c3)]=0x50+_0x54a663*0x1+Math[_0x49a4e7(0x31d)](Math[_0x49a4e7(0x349)]()*0x50),_0x330321[_0x49a4e7(0x3bf)]=0x32+Math[_0x49a4e7(0x31d)](Math['random']()*0x64)+_0x54a663,_0x330321[_0x49a4e7(0x3db)]=_0x330321[_0x49a4e7(0x3bf)],_0x330321[_0x49a4e7(0x2d0)]=0x14-0xf+Math[_0x49a4e7(0x31d)](Math[_0x49a4e7(0x349)]()*0x1f)-_0x54a663;if(_0x330321[_0x49a4e7(0x2d0)]<0x5)_0x330321['movePCost']=0x5;var _0x51fc00=undefined,_0x230ad1=Math[_0x49a4e7(0x31d)](Math[_0x49a4e7(0x349)]()*0x64);if(_0x54a663<0x5)_0x51fc00=undefined;else{if(_0x230ad1+_0x54a663*0x2>0x50)_0x51fc00=new Weapon()[_0x49a4e7(0x44b)]();}_0x330321[_0x49a4e7(0x339)]=_0x51fc00;var _0x39aa04=undefined,_0x230ad1=Math[_0x49a4e7(0x31d)](Math[_0x49a4e7(0x349)]()*0x64);if(_0x54a663<0x5)_0x39aa04=undefined;else{if(_0x230ad1+_0x54a663*0x2>0x50)_0x39aa04=new Armor()['createRandomArmor']();}return _0x330321[_0x49a4e7(0x573)]=_0x39aa04,_0x330321['generateCapacity'](),console[_0x49a4e7(0x292)](_0x49a4e7(0x234)),_0x330321;},this[_0x43ff0c(0x4d7)]=(_0x9179f7,_0x2e70d3,_0x471273)=>{var _0x19c04a=_0x43ff0c;this[_0x19c04a(0x4a4)]=new BattleMap(0x19,0x6+0x2*_0x9179f7[_0x19c04a(0x2d1)]),this[_0x19c04a(0x4a4)][_0x19c04a(0x3e9)](),this[_0x19c04a(0x4a4)][_0x19c04a(0x422)](),this['players']=new PlayersManager(),this['players'][_0x19c04a(0x58b)](),this[_0x19c04a(0x216)]=this['players'],this[_0x19c04a(0x216)]['canvasPUI']=this['Screen']['canList'][_0x19c04a(0x437)],this['players'][_0x19c04a(0x1c4)]=this['Screen']['canList'][_0x19c04a(0x216)],TEAM_AI_COLOR={'r':0x78,'g':0x78,'b':0x78};var _0x241c9f=0x3;for(var _0x53dc49 in _0x9179f7){var _0xac18f3=_0x9179f7[_0x53dc49];this['players'][_0x19c04a(0x3b0)]({'x':0x3,'y':_0x241c9f,'player':_0xac18f3}),_0x241c9f+=0x2;}for(var _0x45ce5f=0x0;_0x45ce5f<0x64;_0x45ce5f++){if(_0x471273){this[_0x19c04a(0x578)](_0x2e70d3*0x3);break;}if(_0x45ce5f==0x0||_0x45ce5f==0x1){this[_0x19c04a(0x578)](_0x2e70d3);continue;}else{if(_0x2e70d3>0x5&&_0x45ce5f>0x5a&&Math[_0x19c04a(0x31d)](Math[_0x19c04a(0x349)]()*(0x64+_0x2e70d3))<_0x2e70d3)this[_0x19c04a(0x578)](_0x2e70d3);else{if(_0x2e70d3>0x14&&_0x45ce5f>0x50&&Math[_0x19c04a(0x31d)](Math['random']()*(0xc8+_0x2e70d3))<_0x2e70d3)this[_0x19c04a(0x578)](_0x2e70d3);else{if(_0x2e70d3>0x32&&_0x45ce5f>0x46&&Math[_0x19c04a(0x31d)](Math['random']()*(0x190+_0x2e70d3))<_0x2e70d3)this['create_random_enemy_on_map'](_0x2e70d3);else{if(_0x2e70d3>0x64&&_0x45ce5f>0x32&&Math['floor'](Math['random']()*(0x320+_0x2e70d3))<_0x2e70d3)this[_0x19c04a(0x578)](_0x2e70d3);}}}}}this[_0x19c04a(0x4a4)][_0x19c04a(0x42b)]();},this['needRedraw']=()=>{var _0x2a2cc7=_0x43ff0c;if(this[_0x2a2cc7(0x4a4)])this[_0x2a2cc7(0x4a4)][_0x2a2cc7(0x3c2)]=!![];if(this['GameUI'])this[_0x2a2cc7(0x28d)]['needRedraw']=!![];if(this[_0x2a2cc7(0x3f3)])this[_0x2a2cc7(0x3f3)][_0x2a2cc7(0x3c2)]=!![];if(this[_0x2a2cc7(0x27a)])this['MenuUI']['needRedraw']=!![];};},PLAYER_ID=0x3e8,document['oncontextmenu']=rightClick;function rightClick(_0x37edfd){var _0x56fca6=_0x110ced;_0x37edfd[_0x56fca6(0x30c)]();}GAME_VERSION=_0x110ced(0x596);(localStorage[_0x110ced(0x2d1)]==0x0||localStorage[_0x110ced(0x50a)]!=GAME_VERSION)&&(localStorage[_0x110ced(0x2fc)](),localStorage[_0x110ced(0x50a)]=GAME_VERSION);var GAME_SAVE=localStorage['LocalGameSave'];if(GAME_SAVE){}window[_0x110ced(0x534)]=function(){var _0x3db4b2=_0x110ced;const _0x58a204=new CanvasManager();_0x58a204[_0x3db4b2(0x300)](_0x3db4b2(0x1f0),0x0),_0x58a204[_0x3db4b2(0x300)](_0x3db4b2(0x216),0x1),_0x58a204[_0x3db4b2(0x300)](_0x3db4b2(0x3df),0x2),_0x58a204[_0x3db4b2(0x300)](_0x3db4b2(0x437),0x3),_0x58a204[_0x3db4b2(0x300)](_0x3db4b2(0x28d),0x4),world=new World(_0x58a204),world[_0x3db4b2(0x373)]();var _0x773876=new Date()['getTime']();setInterval(()=>{var _0x4e610b=_0x3db4b2;if(!world||!world['Controler'])return;var _0x593c57=new Date()[_0x4e610b(0x1c9)]();if(world['GameUI'])world[_0x4e610b(0x28d)][_0x4e610b(0x2e0)]=Math[_0x4e610b(0x31d)](0x3e8/(_0x593c57-_0x773876));_0x773876=_0x593c57;if(world[_0x4e610b(0x216)]&&world[_0x4e610b(0x216)]['Playerturn']&&world[_0x4e610b(0x216)][_0x4e610b(0x387)][_0x4e610b(0x51b)]==TEAM_AI&&!world[_0x4e610b(0x216)][_0x4e610b(0x387)]['AI'][_0x4e610b(0x307)]){var _0x1df0c3=world[_0x4e610b(0x216)][_0x4e610b(0x41b)][_0x4e610b(0x26d)](_0x2a94d3=>_0x2a94d3[_0x4e610b(0x1d1)]['length']>0x0);if(!_0x1df0c3){_0x1df0c3=world['players'][_0x4e610b(0x387)][_0x4e610b(0x371)](),console[_0x4e610b(0x292)](_0x4e610b(0x1f5)+_0x1df0c3);if(_0x1df0c3)world[_0x4e610b(0x216)][_0x4e610b(0x387)]['AI'][_0x4e610b(0x307)]=!![];}}world[_0x4e610b(0x4a2)][_0x4e610b(0x2b8)](),world[_0x4e610b(0x4a4)]&&world[_0x4e610b(0x4a4)][_0x4e610b(0x3c2)]&&(_0x58a204[_0x4e610b(0x277)]['mapFloor'][_0x4e610b(0x581)](),_0x58a204[_0x4e610b(0x277)][_0x4e610b(0x1f0)][_0x4e610b(0x344)](),_0x58a204[_0x4e610b(0x277)][_0x4e610b(0x3df)][_0x4e610b(0x581)](),_0x58a204[_0x4e610b(0x277)][_0x4e610b(0x3df)]['cleanCanvas'](),world[_0x4e610b(0x4a4)][_0x4e610b(0x2d6)](_0x58a204[_0x4e610b(0x277)][_0x4e610b(0x1f0)][_0x4e610b(0x1d9)]),world[_0x4e610b(0x4a4)]['draw_map'](_0x58a204[_0x4e610b(0x277)][_0x4e610b(0x1f0)],_0x58a204[_0x4e610b(0x277)][_0x4e610b(0x3df)],_0x58a204[_0x4e610b(0x277)]['mapUI'])),world['players']&&(_0x58a204[_0x4e610b(0x277)][_0x4e610b(0x216)][_0x4e610b(0x581)](),_0x58a204['canList'][_0x4e610b(0x216)]['cleanCanvas'](),world[_0x4e610b(0x216)][_0x4e610b(0x3a9)](),scale_changed=![]),world[_0x4e610b(0x28d)]&&(world[_0x4e610b(0x28d)][_0x4e610b(0x474)](![]),world['GameUI'][_0x4e610b(0x3c2)]&&world['GameUI']['drawGameUI']()),world['villageUI']&&(world[_0x4e610b(0x3f3)][_0x4e610b(0x474)](![]),world[_0x4e610b(0x3f3)][_0x4e610b(0x3c2)]&&world[_0x4e610b(0x3f3)][_0x4e610b(0x4fb)]()),world[_0x4e610b(0x27a)]&&(world['MenuUI'][_0x4e610b(0x474)](![]),world[_0x4e610b(0x27a)][_0x4e610b(0x3c2)]&&world[_0x4e610b(0x27a)][_0x4e610b(0x4e8)]());},0x14);};