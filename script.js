var _0x492d20=_0x3373;(function(_0x3ce3af,_0x44d9c8){var _0x215e86=_0x3373,_0x130b48=_0x3ce3af();while(!![]){try{var _0x3c97cc=-parseInt(_0x215e86(0x2bd))/0x1*(parseInt(_0x215e86(0x279))/0x2)+parseInt(_0x215e86(0x547))/0x3+-parseInt(_0x215e86(0x311))/0x4+-parseInt(_0x215e86(0x2e4))/0x5+-parseInt(_0x215e86(0x5a5))/0x6*(parseInt(_0x215e86(0x3f8))/0x7)+-parseInt(_0x215e86(0x3aa))/0x8+parseInt(_0x215e86(0x4ea))/0x9;if(_0x3c97cc===_0x44d9c8)break;else _0x130b48['push'](_0x130b48['shift']());}catch(_0x343cff){_0x130b48['push'](_0x130b48['shift']());}}}(_0x33a7,0xde83d),SoundManager=function(){var _0xfee3bb=_0x3373;this[_0xfee3bb(0x5c3)]=[],this[_0xfee3bb(0x47c)]=_0xfee3bb(0x48b),this[_0xfee3bb(0x197)]=_0x44a839=>{var _0xb137a0=_0xfee3bb;if(this[_0xb137a0(0x5c3)][_0x44a839]&&this[_0xb137a0(0x5c3)][_0x44a839][_0xb137a0(0x542)])return;var _0x369011=new Audio(this[_0xb137a0(0x47c)]+_0x44a839+_0xb137a0(0x5ec));this[_0xb137a0(0x5c3)][_0x44a839]=_0x369011;},this[_0xfee3bb(0x258)]=(_0x3f33f2,_0x2212e4,_0x1a8c70)=>{var _0x51df9e=_0xfee3bb;if(!this[_0x51df9e(0x5c3)][_0x3f33f2])this[_0x51df9e(0x197)](_0x3f33f2);if(!_0x1a8c70&&!this[_0x51df9e(0x5c3)][_0x3f33f2][_0x51df9e(0x293)])this[_0x51df9e(0x5c3)][_0x3f33f2][_0x51df9e(0x20b)]=0x0;if(_0x2212e4)this[_0x51df9e(0x5c3)][_0x3f33f2][_0x51df9e(0x34e)]=!![];this['sounds'][_0x3f33f2]['play']();},this[_0xfee3bb(0x551)]=_0xaa5672=>{var _0x4fbb24=_0xfee3bb;this['sounds'][_0xaa5672]&&(this['sounds'][_0xaa5672]['pause'](),this[_0x4fbb24(0x5c3)][_0xaa5672][_0x4fbb24(0x20b)]=0x0);};});function _0x3373(_0x278706,_0xb8cb3){var _0x33a78d=_0x33a7();return _0x3373=function(_0x3373c4,_0x2f06df){_0x3373c4=_0x3373c4-0x195;var _0x26a0d8=_0x33a78d[_0x3373c4];return _0x26a0d8;},_0x3373(_0x278706,_0xb8cb3);}function isInRect(_0x278827,_0xe3fea6,_0xad245d){if(_0x278827===undefined||_0xe3fea6===undefined||_0xad245d['ax']===undefined||_0xad245d['ay']===undefined||_0xad245d['bx']===undefined||_0xad245d['by']===undefined)return![];if(_0xad245d['ax']>_0xad245d['bx']){var _0x2e6aea=_0xad245d['ax'];_0xad245d['ax']=_0xad245d['bx'],_0xad245d['bx']=_0x2e6aea;}if(_0xad245d['ay']>_0xad245d['by']){var _0x2e6aea=_0xad245d['ay'];_0xad245d['ay']=_0xad245d['by'],_0xad245d['by']=_0x2e6aea;}if(_0x278827>_0xad245d['ax']&&_0x278827<_0xad245d['bx']&&_0xe3fea6>_0xad245d['ay']&&_0xe3fea6<_0xad245d['by'])return!![];return![];}function testCB(_0xb8add1){var _0x4b24f4=_0x3373;if(!_0xb8add1)console[_0x4b24f4(0x4a1)](_0x4b24f4(0x392));console[_0x4b24f4(0x4a1)](_0x4b24f4(0x220)+_0xb8add1['x']+'\x20'+_0xb8add1['y']),map_test[_0x4b24f4(0x41d)][_0xb8add1['x']][_0xb8add1['y']]=(map_test['mapBlock'][_0xb8add1['x']][_0xb8add1['y']]+0x1)%0x4,scale_changed=!![];}function getAngleFromTime(_0x380503,_0x6dc2d4,_0x3d91a7){var _0x5c23f8=_0x6dc2d4-_0x380503;return _0x380503+_0x5c23f8/0x2+_0x3d91a7*_0x5c23f8/0x2;}function distBlock(_0x1eee36,_0x1fa1f5,_0x1ae0bf,_0x54400b){var _0x249a2b=_0x3373,_0x67f0a0=Math[_0x249a2b(0x389)](_0x1eee36-_0x1ae0bf),_0x141742=Math['abs'](_0x1fa1f5-_0x54400b);if(_0x67f0a0>_0x141742)return _0x67f0a0;return _0x141742;}function distBlockNoDiagonal(_0x367d7a,_0x236e62,_0x63284d,_0x2f9113){var _0x219291=_0x3373,_0x151d24=Math[_0x219291(0x389)](_0x367d7a-_0x63284d),_0x3c79d0=Math[_0x219291(0x389)](_0x236e62-_0x2f9113);return _0x151d24+_0x3c79d0;}function dist(_0x28f566,_0x44c4d0,_0x1b32fb,_0x50e085){var _0x3352ed=_0x3373,_0x4c3889=Math[_0x3352ed(0x393)]((_0x28f566-_0x1b32fb)*(_0x28f566-_0x1b32fb)+(_0x44c4d0-_0x50e085)*(_0x44c4d0-_0x50e085));return _0x4c3889;}myImage=function(_0x106221,_0x43d55d){var _0x558526=_0x3373;console[_0x558526(0x4a1)](_0x558526(0x2b8)+_0x43d55d),this['img']=new Image(),this[_0x558526(0x21d)]=![],this[_0x558526(0x362)]=_0x106221,this['img'][_0x558526(0x4c8)]='anonymous',this[_0x558526(0x345)]['src']=_0x43d55d,this[_0x558526(0x345)]['alt']='cant\x20load\x20image\x20\x22'+_0x43d55d+'\x22',this['imgColored']=undefined,this[_0x558526(0x54a)]=undefined,this[_0x558526(0x345)][_0x558526(0x55e)]()[_0x558526(0x223)](()=>{var _0x4b20c6=_0x558526;console['log'](_0x4b20c6(0x5b9)+_0x106221+_0x4b20c6(0x31d)),this['ready']=!![],this[_0x4b20c6(0x468)](0xff,0xff,0xff);if(world['villageUI'])world[_0x4b20c6(0x517)][_0x4b20c6(0x21b)]=!![];if(world['GameUI'])world[_0x4b20c6(0x21e)][_0x4b20c6(0x21b)]=!![];})['catch'](_0x1b9903=>{var _0x2400f3=_0x558526;console[_0x2400f3(0x4a1)]('can\x27t\x20load\x20'+this[_0x2400f3(0x362)]),console[_0x2400f3(0x4a1)](_0x1b9903);}),this[_0x558526(0x55b)]=()=>{var _0x4004c8=_0x558526;if(!this['ready'])return undefined;const _0x2309a3=document[_0x4004c8(0x5df)](_0x4004c8(0x33d));_0x2309a3['width']=this['img'][_0x4004c8(0x5c5)],_0x2309a3[_0x4004c8(0x2ce)]=this[_0x4004c8(0x345)]['height'];const _0x71f09e=_0x2309a3[_0x4004c8(0x3f2)]('2d');return _0x71f09e[_0x4004c8(0x529)](this[_0x4004c8(0x345)],0x0,0x0),_0x71f09e[_0x4004c8(0x545)](0x0,0x0,this[_0x4004c8(0x345)][_0x4004c8(0x5c5)],this[_0x4004c8(0x345)][_0x4004c8(0x2ce)]);},this['createImgFromData']=_0x3fc914=>{var _0x43e96e=_0x558526;const _0x5664ea=document[_0x43e96e(0x5df)](_0x43e96e(0x33d));_0x5664ea[_0x43e96e(0x5c5)]=_0x3fc914['width'],_0x5664ea[_0x43e96e(0x2ce)]=_0x3fc914[_0x43e96e(0x2ce)];const _0x4f9b1f=_0x5664ea[_0x43e96e(0x3f2)]('2d');_0x4f9b1f[_0x43e96e(0x4bf)](_0x3fc914,0x0,0x0),this[_0x43e96e(0x345)]=new Image(),this[_0x43e96e(0x345)]['src']=_0x5664ea[_0x43e96e(0x351)](),this[_0x43e96e(0x345)]['alt']=_0x43e96e(0x602),this[_0x43e96e(0x345)]['decode']()[_0x43e96e(0x223)](()=>{var _0x4332cf=_0x43e96e;if(world[_0x4332cf(0x517)])world['villageUI'][_0x4332cf(0x21b)]=!![];if(world['GameUI'])world['GameUI'][_0x4332cf(0x21b)]=!![];});},this[_0x558526(0x4e9)]=(_0xda9350,_0x4a36ea,_0x1b80d8,_0x34dbbb,_0xad5f96,_0x3623fa)=>{var _0x411c4e=_0x558526,_0x37b5dc=this['createDatafromImage']();if(!_0x37b5dc)return console['log']('can\x27t\x20create\x20getColorImage');for(var _0x5a4efa=0x0;_0x5a4efa<_0x37b5dc['height'];_0x5a4efa++){for(var _0x2bb4be=0x0;_0x2bb4be<_0x37b5dc['width'];_0x2bb4be++){var _0x11b0fe=_0x37b5dc[_0x411c4e(0x3f7)][_0x5a4efa*(_0x37b5dc['width']*0x4)+_0x2bb4be*0x4],_0x316456=_0x37b5dc[_0x411c4e(0x3f7)][_0x5a4efa*(_0x37b5dc[_0x411c4e(0x5c5)]*0x4)+_0x2bb4be*0x4+0x1],_0x1629dc=_0x37b5dc['data'][_0x5a4efa*(_0x37b5dc[_0x411c4e(0x5c5)]*0x4)+_0x2bb4be*0x4+0x2],_0x228a9f=_0x37b5dc[_0x411c4e(0x3f7)][_0x5a4efa*(_0x37b5dc['width']*0x4)+_0x2bb4be*0x4+0x3];_0x11b0fe==_0xda9350&&_0x316456==_0x4a36ea&&_0x1629dc==_0x1b80d8&&(_0x37b5dc[_0x411c4e(0x3f7)][_0x5a4efa*(_0x37b5dc[_0x411c4e(0x5c5)]*0x4)+_0x2bb4be*0x4]=_0x34dbbb,_0x37b5dc[_0x411c4e(0x3f7)][_0x5a4efa*(_0x37b5dc[_0x411c4e(0x5c5)]*0x4)+_0x2bb4be*0x4+0x1]=_0xad5f96,_0x37b5dc['data'][_0x5a4efa*(_0x37b5dc[_0x411c4e(0x5c5)]*0x4)+_0x2bb4be*0x4+0x2]=_0x3623fa);}}const _0x5a6ead=document[_0x411c4e(0x5df)](_0x411c4e(0x33d));_0x5a6ead['width']=_0x37b5dc[_0x411c4e(0x5c5)],_0x5a6ead[_0x411c4e(0x2ce)]=_0x37b5dc[_0x411c4e(0x2ce)];const _0xaf7f47=_0x5a6ead[_0x411c4e(0x3f2)]('2d');_0xaf7f47['putImageData'](_0x37b5dc,0x0,0x0);var _0x5185f1=new Image();return _0x5185f1[_0x411c4e(0x47c)]=_0x5a6ead[_0x411c4e(0x351)](),_0x5185f1[_0x411c4e(0x1c6)]='failed\x20createImgData\x20image\x20Colored',_0x5185f1;},this[_0x558526(0x468)]=(_0x1a2b07,_0x520c9f,_0x746ee9)=>{var _0x120c8b=_0x558526,_0x183345=this[_0x120c8b(0x55b)]();if(!_0x183345)return undefined;for(var _0x8fe9d2=0x0;_0x8fe9d2<_0x183345[_0x120c8b(0x2ce)];_0x8fe9d2++){for(var _0x1f9207=0x0;_0x1f9207<_0x183345[_0x120c8b(0x5c5)];_0x1f9207++){var _0x2b0277=_0x183345['data'][_0x8fe9d2*(_0x183345['width']*0x4)+_0x1f9207*0x4],_0x30c5a9=_0x183345[_0x120c8b(0x3f7)][_0x8fe9d2*(_0x183345[_0x120c8b(0x5c5)]*0x4)+_0x1f9207*0x4+0x1],_0x563b9c=_0x183345[_0x120c8b(0x3f7)][_0x8fe9d2*(_0x183345[_0x120c8b(0x5c5)]*0x4)+_0x1f9207*0x4+0x2],_0xd7ae2e=_0x183345['data'][_0x8fe9d2*(_0x183345[_0x120c8b(0x5c5)]*0x4)+_0x1f9207*0x4+0x3];_0x2b0277==_0x1a2b07&&_0x30c5a9==_0x520c9f&&_0x563b9c==_0x746ee9&&(_0x183345[_0x120c8b(0x3f7)][_0x8fe9d2*(_0x183345[_0x120c8b(0x5c5)]*0x4)+_0x1f9207*0x4+0x3]=0x0);}}this[_0x120c8b(0x206)](_0x183345);};},createImgFromData=_0x13c119=>{var _0x5c56fa=_0x3373;const _0x3f7720=document[_0x5c56fa(0x5df)](_0x5c56fa(0x33d));_0x3f7720[_0x5c56fa(0x5c5)]=_0x13c119[_0x5c56fa(0x5c5)],_0x3f7720[_0x5c56fa(0x2ce)]=_0x13c119[_0x5c56fa(0x2ce)];const _0x924105=_0x3f7720[_0x5c56fa(0x3f2)]('2d');_0x924105['putImageData'](_0x13c119,0x0,0x0);var _0x3f67cf=new Image();return _0x3f67cf[_0x5c56fa(0x47c)]=_0x3f7720['toDataURL'](),_0x3f67cf[_0x5c56fa(0x1c6)]=_0x5c56fa(0x602),_0x3f67cf;},MyUI=function(_0x139ac2,_0x30ba87,_0x5f07ee,_0x1c6229,_0x2af951,_0x1dd7e5,_0x2fe32c,_0x1b0436){var _0x3e1d4f=_0x3373;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT=_0x3e1d4f(0x1aa),this['x']=_0x30ba87,this['y']=_0x5f07ee,this['canvas']=_0x139ac2,this['marge']=_0x1b0436?_0x1b0436:0x5,this['lenx']=_0x1c6229+0x2*this[_0x3e1d4f(0x46e)],this[_0x3e1d4f(0x3ef)]=this[_0x3e1d4f(0x46e)],this[_0x3e1d4f(0x23f)]=[],this[_0x3e1d4f(0x24b)]=_0x2af951,this[_0x3e1d4f(0x4c3)]=_0x1dd7e5?_0x1dd7e5:undefined,this['stroke']=_0x2fe32c?_0x2fe32c:undefined,this[_0x3e1d4f(0x518)]=[],this['InfoWindowPos']=![],this[_0x3e1d4f(0x47f)]=(_0x4def8e,_0xd2fe77,_0x16f8fd,_0x1744ce,_0x198a89)=>{var _0x17b859=_0x3e1d4f;this[_0x17b859(0x33d)][_0x17b859(0x254)][_0x17b859(0x430)]=''+_0xd2fe77+'px'+_0x198a89;var _0x1a643c=[];while(_0x4def8e[_0x17b859(0x1e9)]>0x0){var _0x4ab57e=0x0;while(_0x4def8e[_0x4ab57e]=='\x0a')_0x4ab57e++;while(_0x4def8e[_0x4ab57e]!='\x0a'&&_0x4ab57e<_0x4def8e[_0x17b859(0x1e9)]&&_0x4ab57e<_0x16f8fd)_0x4ab57e++;if(_0x4ab57e==_0x16f8fd){while(_0x4def8e[_0x4ab57e]!='\x20'&&_0x4ab57e>0x0)_0x4ab57e--;}_0x4ab57e=_0x4ab57e>0x0?_0x4ab57e:_0x16f8fd;var _0x29634=''+_0x4def8e['substring'](0x0,_0x4ab57e);while(_0x4def8e[_0x4ab57e+0x1]=='\x0a')_0x4ab57e++;_0x4def8e=_0x4def8e[_0x17b859(0x2d6)](_0x4ab57e),_0x1a643c['push'](_0x29634);var _0x23fc8c=this[_0x17b859(0x33d)][_0x17b859(0x254)][_0x17b859(0x3ed)](_0x29634);if(this[_0x17b859(0x3b0)]<_0x23fc8c[_0x17b859(0x5c5)]+0x2*this[_0x17b859(0x46e)])this[_0x17b859(0x3b0)]=_0x23fc8c[_0x17b859(0x5c5)]+0x2*this[_0x17b859(0x46e)];this['leny']+=_0xd2fe77+this[_0x17b859(0x46e)];}this[_0x17b859(0x23f)][_0x17b859(0x2a9)]({'type':'text','txts':_0x1a643c,'letter_size':Math[_0x17b859(0x295)](_0xd2fe77),'txt_color':_0x1744ce,'text_font':_0x198a89});},this[_0x3e1d4f(0x331)]=(_0x1fe036,_0x160f3f,_0x4c11d1,_0x19fc22,_0x51b4f2,_0x527693,_0x4ea76a,_0x151349,_0x2b8065)=>{var _0x58e2e8=_0x3e1d4f;_0x2b8065=_0x2b8065?_0x2b8065:_0x58e2e8(0x385),this['canvas'][_0x58e2e8(0x254)][_0x58e2e8(0x430)]=''+_0x51b4f2+'px\x20'+_0x2b8065;var _0x106428=this[_0x58e2e8(0x33d)][_0x58e2e8(0x254)]['measureText'](_0x1fe036);if(_0x106428>_0x4c11d1+0x2*this['marge'])_0x4c11d1=_0x106428+0x2*this[_0x58e2e8(0x46e)];if(this[_0x58e2e8(0x3b0)]<_0x4c11d1+0x2*this['marge'])this[_0x58e2e8(0x3b0)]=_0x4c11d1+0x2*this[_0x58e2e8(0x46e)];if(_0x19fc22<_0x51b4f2+0x2*this['marge'])_0x19fc22=_0x51b4f2+0x2*this[_0x58e2e8(0x46e)];this[_0x58e2e8(0x23f)]['push']({'type':_0x58e2e8(0x321),'txt':_0x1fe036,'fullness':_0x160f3f,'lenx':_0x4c11d1,'leny':_0x19fc22,'letter_size':_0x51b4f2,'colorFill':_0x527693,'colorStroke':_0x4ea76a,'colorText':_0x151349,'text_font':_0x2b8065}),this[_0x58e2e8(0x3ef)]+=_0x19fc22+this[_0x58e2e8(0x46e)];},this[_0x3e1d4f(0x3a4)]=(_0x5e2b34,_0x1b4754,_0x13b9fa,_0x282c40,_0x58d915,_0x450508,_0xea1c12,_0x31972a,_0x2ba8a4,_0x483fed,_0x4b62fe)=>{var _0x46bf03=_0x3e1d4f;this[_0x46bf03(0x33d)][_0x46bf03(0x254)]['font']=''+_0x1b4754+'px'+_0x31972a,_0x5e2b34=_0x2ba8a4?_0x2ba8a4+'\x20-\x20'+_0x5e2b34:_0x5e2b34;var _0x1ecf0e=this[_0x46bf03(0x33d)][_0x46bf03(0x254)][_0x46bf03(0x3ed)](_0x5e2b34);if(_0x1ecf0e['width']+0x4*this[_0x46bf03(0x46e)]>this[_0x46bf03(0x3b0)])this['lenx']=_0x1ecf0e[_0x46bf03(0x5c5)]+0x4*this[_0x46bf03(0x46e)];this[_0x46bf03(0x23f)][_0x46bf03(0x2a9)]({'type':'button','txt_size':_0x1ecf0e,'letter_size':_0x1b4754,'text_color':_0x13b9fa,'fillColor':_0x282c40,'strokeColor':_0x58d915,'callback':_0x450508,'callback_data':_0xea1c12,'text_font':_0x31972a,'key_event':_0x2ba8a4,'txt':_0x5e2b34,'windowInfo':_0x483fed,'mouseLight':_0x4b62fe}),this[_0x46bf03(0x3ef)]+=Math[_0x46bf03(0x295)](0x3*this[_0x46bf03(0x46e)]+_0x1b4754);},this[_0x3e1d4f(0x36e)]=_0x25791c=>{var _0x43844f=_0x3e1d4f,_0x22a302={'type':_0x43844f(0x353),'list':[]},_0x23d00a=0x0,_0x3851c7=this['marge'];for(var _0x2b57b5 in _0x25791c){var _0x17a4e6=_0x25791c[_0x2b57b5],_0x206328=undefined;switch(_0x17a4e6[_0x43844f(0x475)]){case undefined:continue;case _0x43844f(0x5a3):if(!_0x17a4e6['txt'])continue;var _0xf070c4=_0x17a4e6['txt'],_0x4e9475=[],_0x319c28=0x0,_0x17c185=0x0,_0x58d8cd=_0x17a4e6[_0x43844f(0x5e3)]?_0x17a4e6[_0x43844f(0x5e3)]:0x270f;this['canvas']['ctx'][_0x43844f(0x430)]=''+_0x17a4e6[_0x43844f(0x485)]+'px'+_0x17a4e6[_0x43844f(0x577)];while(_0xf070c4[_0x43844f(0x1e9)]>0x0){var _0x3ca6ff=0x0;while(_0xf070c4[_0x3ca6ff]=='\x0a')_0x3ca6ff++;while(_0xf070c4[_0x3ca6ff]!='\x0a'&&_0x3ca6ff<_0xf070c4[_0x43844f(0x1e9)]&&_0x3ca6ff<_0x58d8cd)_0x3ca6ff++;if(_0x3ca6ff==_0x58d8cd){while(_0xf070c4[_0x3ca6ff]!='\x20'&&_0x3ca6ff>0x0)_0x3ca6ff--;}_0x3ca6ff=_0x3ca6ff>0x0?_0x3ca6ff:_0x58d8cd;var _0x1bcf08=''+_0xf070c4[_0x43844f(0x2d6)](0x0,_0x3ca6ff);while(_0xf070c4[_0x3ca6ff+0x1]=='\x0a')_0x3ca6ff++;_0xf070c4=_0xf070c4[_0x43844f(0x2d6)](_0x3ca6ff),_0x4e9475[_0x43844f(0x2a9)](_0x1bcf08);var _0x57c996=this[_0x43844f(0x33d)][_0x43844f(0x254)][_0x43844f(0x3ed)](_0x1bcf08);if(_0x17c185<_0x57c996[_0x43844f(0x5c5)]+0x2*this[_0x43844f(0x46e)])_0x17c185=_0x57c996[_0x43844f(0x5c5)]+0x2*this[_0x43844f(0x46e)];_0x319c28+=_0x17a4e6[_0x43844f(0x485)]+this[_0x43844f(0x46e)];}_0x23d00a=_0x319c28>_0x23d00a?_0x319c28:_0x23d00a,_0x206328={'type':_0x43844f(0x5a3),'txts':_0x4e9475,'txt_color':_0x17a4e6[_0x43844f(0x344)]?_0x17a4e6['txt_color']:_0x43844f(0x553),'max_letters':_0x17a4e6['max_letter']?_0x17a4e6[_0x43844f(0x387)]:0x270f,'letter_size':_0x17a4e6['letter_size']?_0x17a4e6['letter_size']:0x14,'txt_font':_0x17a4e6[_0x43844f(0x577)]?_0x17a4e6[_0x43844f(0x577)]:_0x43844f(0x385),'txt_size':_0x17c185},_0x3851c7+=_0x17c185;break;case _0x43844f(0x345):if(!_0x17a4e6[_0x43844f(0x345)])continue;_0x206328={'type':_0x43844f(0x345),'img':_0x17a4e6[_0x43844f(0x345)],'len_x':_0x17a4e6[_0x43844f(0x1fb)]?_0x17a4e6['len_x']:0x32,'len_y':_0x17a4e6[_0x43844f(0x5ed)]?_0x17a4e6[_0x43844f(0x5ed)]:0x32},_0x23d00a=_0x206328[_0x43844f(0x5ed)]>_0x23d00a?_0x206328[_0x43844f(0x5ed)]:_0x23d00a,_0x3851c7+=_0x206328[_0x43844f(0x1fb)]+this[_0x43844f(0x46e)];break;case _0x43844f(0x3cb):if(!_0x17a4e6[_0x43844f(0x394)]||!_0x17a4e6[_0x43844f(0x5a3)])continue;var _0x5b4a60=_0x17a4e6['letter_size']?_0x17a4e6[_0x43844f(0x485)]:0x14,_0xf26917=_0x17a4e6[_0x43844f(0x577)]?_0x17a4e6[_0x43844f(0x577)]:_0x43844f(0x385);this[_0x43844f(0x33d)][_0x43844f(0x254)][_0x43844f(0x430)]=''+_0x5b4a60+'px'+_0xf26917;var _0xf070c4=_0x17a4e6[_0x43844f(0x5d9)]?_0x17a4e6[_0x43844f(0x5d9)]+'\x20-\x20'+_0x17a4e6[_0x43844f(0x5a3)]:_0x17a4e6[_0x43844f(0x5a3)],_0x57c996=this[_0x43844f(0x33d)][_0x43844f(0x254)]['measureText'](_0xf070c4);_0x206328={'type':_0x43844f(0x3cb),'txt_size':_0x57c996['width'],'letter_size':_0x5b4a60,'txt_color':_0x17a4e6[_0x43844f(0x344)]?_0x17a4e6[_0x43844f(0x344)]:_0x43844f(0x553),'fillColor':_0x17a4e6['fillColor']?_0x17a4e6[_0x43844f(0x4eb)]:_0x43844f(0x5ee),'strokeColor':_0x17a4e6['strokeColor']?_0x17a4e6[_0x43844f(0x555)]:_0x43844f(0x553),'callback':_0x17a4e6[_0x43844f(0x394)],'callback_data':_0x17a4e6[_0x43844f(0x595)],'txt_font':_0xf26917,'key_event':_0x17a4e6[_0x43844f(0x5d9)],'txt':_0xf070c4,'windowInfo':_0x17a4e6[_0x43844f(0x407)],'mouseLight':_0x17a4e6[_0x43844f(0x4dc)]},_0x23d00a=_0x206328[_0x43844f(0x485)]+0x2*this['marge']>_0x23d00a?_0x206328['letter_size']+0x2*this[_0x43844f(0x46e)]:_0x23d00a,_0x3851c7+=_0x57c996[_0x43844f(0x5c5)]+this[_0x43844f(0x46e)]*0x3;break;}_0x22a302[_0x43844f(0x506)]['push'](_0x206328);}if(this[_0x43844f(0x3b0)]<_0x3851c7)this[_0x43844f(0x3b0)]=_0x3851c7;_0x22a302['len_y']=_0x23d00a,this[_0x43844f(0x23f)]['push'](_0x22a302),this['leny']+=Math[_0x43844f(0x295)](this[_0x43844f(0x46e)]+_0x23d00a);},this[_0x3e1d4f(0x28f)]=(_0x3fdf97,_0x2eb85e,_0x573eb6)=>{var _0x16ac6f=_0x3e1d4f;this[_0x16ac6f(0x23f)]['push']({'type':_0x16ac6f(0x345),'img':_0x3fdf97,'lenx':_0x2eb85e,'leny':_0x573eb6});if(this[_0x16ac6f(0x3b0)]<_0x2eb85e+0x2*this[_0x16ac6f(0x46e)])this[_0x16ac6f(0x3b0)]=_0x2eb85e+0x2*this[_0x16ac6f(0x46e)];this['leny']+=Math[_0x16ac6f(0x295)](this[_0x16ac6f(0x46e)]+_0x2eb85e);},this[_0x3e1d4f(0x5ab)]=()=>{var _0x411bee=_0x3e1d4f;this['background']&&(this[_0x411bee(0x33d)][_0x411bee(0x254)]['fillStyle']=this[_0x411bee(0x4c3)],this[_0x411bee(0x33d)][_0x411bee(0x381)](this['x'],this['y'],this['x']+this[_0x411bee(0x3b0)],this['y']+this[_0x411bee(0x3ef)]));this[_0x411bee(0x256)]&&(this[_0x411bee(0x33d)]['ctx'][_0x411bee(0x1d0)]=this[_0x411bee(0x256)],this[_0x411bee(0x33d)]['drawRect'](this['x'],this['y'],this['x']+this[_0x411bee(0x3b0)],this['y']+this[_0x411bee(0x3ef)]));var _0xc9dad4=this['y']+this[_0x411bee(0x46e)];for(var _0x357708 in this[_0x411bee(0x23f)]){var _0xe146e1=this[_0x411bee(0x23f)][_0x357708];switch(_0xe146e1['type']){case _0x411bee(0x470):for(var _0x39ed48 in _0xe146e1[_0x411bee(0x2db)]){this[_0x411bee(0x33d)][_0x411bee(0x40b)](_0xe146e1[_0x411bee(0x2db)][_0x39ed48],this['x']+this[_0x411bee(0x46e)],_0xc9dad4,this[_0x411bee(0x3b0)],_0xe146e1['letter_size'],_0xe146e1[_0x411bee(0x344)],_0xe146e1[_0x411bee(0x244)]),_0xc9dad4+=_0xe146e1[_0x411bee(0x485)]+this['marge'];}break;case _0x411bee(0x3cb):this[_0x411bee(0x33d)][_0x411bee(0x254)][_0x411bee(0x430)]=''+_0xe146e1[_0x411bee(0x485)]+'px'+_0xe146e1[_0x411bee(0x244)];var _0x5e2535=Math[_0x411bee(0x295)](this['x']+_0xe146e1['txt_size']['width']/0x2+0x2*this[_0x411bee(0x46e)]),_0x525ffa=Math[_0x411bee(0x295)](_0xc9dad4+_0xe146e1[_0x411bee(0x485)]/0x2+0x1*this['marge']),_0x219303={'ax':Math[_0x411bee(0x295)](_0x5e2535-_0xe146e1[_0x411bee(0x205)]['width']/0x2-this[_0x411bee(0x46e)]),'ay':Math[_0x411bee(0x295)](_0x525ffa-_0xe146e1[_0x411bee(0x485)]/0x2-this[_0x411bee(0x46e)]),'bx':Math[_0x411bee(0x295)](_0x5e2535+_0xe146e1[_0x411bee(0x205)][_0x411bee(0x5c5)]/0x2+this[_0x411bee(0x46e)]),'by':Math['floor'](_0x525ffa+_0xe146e1[_0x411bee(0x485)]/0x2+this[_0x411bee(0x46e)])};this['canvas'][_0x411bee(0x254)][_0x411bee(0x5de)]=_0xe146e1[_0x411bee(0x4eb)];if(_0xe146e1['mouseLight']&&world[_0x411bee(0x214)]['mousePos']&&world[_0x411bee(0x214)]['mousePos']['x']!==undefined&&isInRect(world[_0x411bee(0x214)][_0x411bee(0x215)]['x'],world['Controler'][_0x411bee(0x215)]['y'],_0x219303))this[_0x411bee(0x33d)]['ctx'][_0x411bee(0x5de)]=_0xe146e1[_0x411bee(0x4eb)][_0x411bee(0x2d6)](0x0,0x7)+_0xe146e1[_0x411bee(0x4dc)];this[_0x411bee(0x33d)][_0x411bee(0x381)](_0x219303['ax'],_0x219303['ay'],_0x219303['bx'],_0x219303['by']),this[_0x411bee(0x33d)]['ctx'][_0x411bee(0x1d0)]=_0xe146e1['strokeColor'],this[_0x411bee(0x33d)][_0x411bee(0x1b3)](_0x219303['ax'],_0x219303['ay'],_0x219303['bx'],_0x219303['by']),this[_0x411bee(0x33d)][_0x411bee(0x224)](_0xe146e1[_0x411bee(0x5a3)],_0x5e2535,_0x525ffa,0x270f,_0xe146e1[_0x411bee(0x485)],_0xe146e1[_0x411bee(0x232)],_0xe146e1[_0x411bee(0x244)]),this[_0x411bee(0x518)][_0x411bee(0x2a9)]({'rect':_0x219303,'callback':_0xe146e1[_0x411bee(0x394)],'callback_data':_0xe146e1['callback_data'],'key_event':_0xe146e1[_0x411bee(0x5d9)],'windowInfo':_0xe146e1['windowInfo']}),_0xc9dad4+=_0xe146e1['letter_size']+this[_0x411bee(0x46e)]*0x3;break;case _0x411bee(0x345):this[_0x411bee(0x33d)][_0x411bee(0x50f)](_0xe146e1['img'],this['x']+this[_0x411bee(0x46e)],_0xc9dad4+this[_0x411bee(0x46e)],_0xe146e1[_0x411bee(0x3b0)],_0xe146e1['leny']),_0xc9dad4+=_0xe146e1['leny']+this[_0x411bee(0x46e)];break;case'gauge':this[_0x411bee(0x33d)][_0x411bee(0x254)][_0x411bee(0x5de)]=_0xe146e1[_0x411bee(0x567)],this[_0x411bee(0x33d)]['drawFillRect'](this['x']+this['marge'],_0xc9dad4+this['marge'],this['x']+_0xe146e1[_0x411bee(0x3b0)],_0xc9dad4+_0xe146e1[_0x411bee(0x3ef)]),this[_0x411bee(0x33d)]['ctx'][_0x411bee(0x5de)]=_0xe146e1[_0x411bee(0x2f7)];if(_0xe146e1[_0x411bee(0x5ac)]>0x0)this['canvas'][_0x411bee(0x381)](this['x']+this['marge']*0x2,_0xc9dad4+this[_0x411bee(0x46e)]*0x2,Math[_0x411bee(0x295)](this['x']+_0xe146e1[_0x411bee(0x3b0)]*_0xe146e1['fullness']-this[_0x411bee(0x46e)]),_0xc9dad4+_0xe146e1[_0x411bee(0x3ef)]-this[_0x411bee(0x46e)]);this['canvas'][_0x411bee(0x224)](_0xe146e1[_0x411bee(0x5a3)],this['x']+this['marge']+_0xe146e1[_0x411bee(0x3b0)]/0x2,_0xc9dad4+this[_0x411bee(0x46e)]+_0xe146e1[_0x411bee(0x3ef)]/0x2,_0xe146e1[_0x411bee(0x3b0)],_0xe146e1[_0x411bee(0x485)],_0xe146e1[_0x411bee(0x1ac)],_0xe146e1[_0x411bee(0x244)]),_0xc9dad4+=_0xe146e1[_0x411bee(0x3ef)];break;case'horizontal':var _0x26d1e8=this[_0x411bee(0x46e)];for(var _0x4fb045 in _0xe146e1[_0x411bee(0x506)]){var _0x4d209d=_0xe146e1[_0x411bee(0x506)][_0x4fb045];switch(_0x4d209d[_0x411bee(0x475)]){case _0x411bee(0x5a3):var _0x88eccb=_0xc9dad4;for(var _0x357708 in _0x4d209d['txts']){this['canvas'][_0x411bee(0x40b)](_0x4d209d[_0x411bee(0x2db)][_0x357708],this['x']+_0x26d1e8,_0x88eccb,_0x4d209d[_0x411bee(0x205)],_0x4d209d[_0x411bee(0x485)],_0x4d209d[_0x411bee(0x344)],_0x4d209d[_0x411bee(0x577)]),_0x88eccb+=_0x4d209d[_0x411bee(0x485)]+this[_0x411bee(0x46e)];}_0x26d1e8+=this[_0x411bee(0x46e)]+_0x4d209d[_0x411bee(0x205)];break;case _0x411bee(0x3cb):this[_0x411bee(0x33d)][_0x411bee(0x254)][_0x411bee(0x430)]=''+_0x4d209d[_0x411bee(0x485)]+'px'+_0x4d209d[_0x411bee(0x577)];var _0x5e2535=Math[_0x411bee(0x295)](this['x']+_0x26d1e8+_0x4d209d[_0x411bee(0x205)]/0x2+this[_0x411bee(0x46e)]/0x2),_0x525ffa=Math[_0x411bee(0x295)](_0xc9dad4+_0x4d209d[_0x411bee(0x485)]/0x2+this[_0x411bee(0x46e)]/0x2),_0x219303={'ax':Math[_0x411bee(0x295)](_0x5e2535-_0x4d209d[_0x411bee(0x205)]/0x2-this[_0x411bee(0x46e)]),'ay':Math[_0x411bee(0x295)](_0x525ffa-_0x4d209d['letter_size']/0x2-this[_0x411bee(0x46e)]),'bx':Math['floor'](_0x5e2535+_0x4d209d[_0x411bee(0x205)]/0x2+this[_0x411bee(0x46e)]),'by':Math['floor'](_0x525ffa+_0x4d209d[_0x411bee(0x485)]/0x2+this[_0x411bee(0x46e)])};this[_0x411bee(0x33d)][_0x411bee(0x254)][_0x411bee(0x5de)]=_0x4d209d[_0x411bee(0x4eb)];if(_0x4d209d['mouseLight']&&world[_0x411bee(0x214)][_0x411bee(0x215)]&&world[_0x411bee(0x214)][_0x411bee(0x215)]['x']!==undefined&&isInRect(world[_0x411bee(0x214)][_0x411bee(0x215)]['x'],world[_0x411bee(0x214)][_0x411bee(0x215)]['y'],_0x219303))this[_0x411bee(0x33d)][_0x411bee(0x254)][_0x411bee(0x5de)]=_0x4d209d[_0x411bee(0x4eb)]['substring'](0x0,0x7)+_0x4d209d[_0x411bee(0x4dc)];this[_0x411bee(0x33d)][_0x411bee(0x381)](_0x219303['ax'],_0x219303['ay'],_0x219303['bx'],_0x219303['by']),this[_0x411bee(0x33d)]['ctx'][_0x411bee(0x1d0)]=_0x4d209d[_0x411bee(0x555)],this['canvas']['drawRect'](_0x219303['ax'],_0x219303['ay'],_0x219303['bx'],_0x219303['by']),this[_0x411bee(0x33d)][_0x411bee(0x224)](_0x4d209d['txt'],_0x5e2535,_0x525ffa,0x270f,_0x4d209d[_0x411bee(0x485)],_0x4d209d[_0x411bee(0x344)],_0x4d209d['txt_font']),this[_0x411bee(0x518)]['push']({'rect':_0x219303,'callback':_0x4d209d[_0x411bee(0x394)],'callback_data':_0x4d209d[_0x411bee(0x595)],'key_event':_0x4d209d['key_event'],'windowInfo':_0x4d209d[_0x411bee(0x407)],'mouseLight':!![]}),_0x26d1e8+=this[_0x411bee(0x46e)]*0x3+_0x4d209d[_0x411bee(0x205)];break;case _0x411bee(0x345):this[_0x411bee(0x33d)][_0x411bee(0x50f)](_0x4d209d[_0x411bee(0x345)],this['x']+_0x26d1e8,_0xc9dad4,_0x4d209d[_0x411bee(0x1fb)],_0x4d209d[_0x411bee(0x5ed)]),_0x26d1e8+=_0x4d209d['len_y']+this[_0x411bee(0x46e)];break;}}_0xc9dad4+=_0xe146e1['len_y']+this[_0x411bee(0x46e)];break;}}this['CheckInfoWindow']();},this['click_buton_check']=(_0x2f1a16,_0x1aa34a)=>{var _0x4edca5=_0x3e1d4f;for(var _0x5d838c in this[_0x4edca5(0x518)]){var _0x54657c=this[_0x4edca5(0x518)][_0x5d838c];if(isInRect(_0x2f1a16,_0x1aa34a,_0x54657c[_0x4edca5(0x479)]))return _0x54657c[_0x4edca5(0x394)](_0x54657c[_0x4edca5(0x595)]),!![];}return![];},this[_0x3e1d4f(0x405)]=(_0x264c1f,_0x2aa631)=>{var _0x272e56=_0x3e1d4f;for(var _0x3b81b7 in this[_0x272e56(0x518)]){var _0xedae4=this[_0x272e56(0x518)][_0x3b81b7];if(_0xedae4[_0x272e56(0x4dc)]&&isInRect(_0x264c1f,_0x2aa631,_0xedae4['rect']))return this['needRedraw']=!![],!![];}return![];},this[_0x3e1d4f(0x2a4)]=_0x25f48d=>{var _0x5a4e9a=_0x3e1d4f;for(var _0x3b71bd in this[_0x5a4e9a(0x518)]){var _0x676aa2=this['buttonList'][_0x3b71bd];if(_0x676aa2[_0x5a4e9a(0x5d9)]&&_0x676aa2[_0x5a4e9a(0x5d9)]==_0x25f48d)return _0x676aa2[_0x5a4e9a(0x394)](_0x676aa2['callback_data']),!![];}return![];},this[_0x3e1d4f(0x571)]=_0x592fef=>{var _0x14080c=_0x3e1d4f;if(!world[_0x14080c(0x214)])return![];var _0x82a170=world[_0x14080c(0x214)][_0x14080c(0x215)];if(!_0x82a170)return;if(new Date()[_0x14080c(0x248)]()-_0x82a170['lastTime']<MYUI_WINDOWINFO_MOUSETIME)return this[_0x14080c(0x54e)]&&(this[_0x14080c(0x54e)]=![],this[_0x14080c(0x21b)]=!![]),![];if(!this['InfoWindowPos'])this[_0x14080c(0x54e)]={'x':_0x82a170['x'],'y':_0x82a170['y']};else{if(!_0x592fef&&_0x82a170['x']==this[_0x14080c(0x54e)]['x']&&_0x82a170['y']==this[_0x14080c(0x54e)]['y'])return![];}for(var _0x3e6068 in this['buttonList']){var _0x4c0185=this[_0x14080c(0x518)][_0x3e6068];if(_0x4c0185['windowInfo']&&isInRect(_0x82a170['x'],_0x82a170['y'],_0x4c0185[_0x14080c(0x479)])){var _0x54449a=new MyUI(this[_0x14080c(0x33d)],_0x82a170['x'],_0x82a170['y'],0x32,0x1,this[_0x14080c(0x4c3)],this['stroke'],0x1);_0x54449a[_0x14080c(0x47f)]('\x20\x20Info\x20\x20',MYUI_LETTER_SIZE,0x270f,_0x14080c(0x553),MYUI_FONT);for(var _0x8bcfe5 in _0x4c0185[_0x14080c(0x407)]){var _0x5de1d2=_0x4c0185['windowInfo'][_0x8bcfe5];if(_0x5de1d2[_0x14080c(0x394)])_0x54449a[_0x14080c(0x47f)](_0x5de1d2['callback'](_0x5de1d2[_0x14080c(0x2a3)]),MYUI_LETTER_SIZE,0x270f,_0x14080c(0x553),MYUI_FONT);}return _0x54449a[_0x14080c(0x5ab)](),!![];}}return![];};},UIManager=function(){var _0x4cc4b4=_0x3373;this[_0x4cc4b4(0x562)]=[],this[_0x4cc4b4(0x556)]=(_0x285977,_0x3054dd,_0x489848,_0xbaae6c,_0x2c3fb7,_0x143c30,_0x34f3e6,_0x6ec316)=>{var _0xf42c9b=_0x4cc4b4,_0x5c2f7b=new MyUI(_0x285977,_0x3054dd,_0x489848,_0xbaae6c,_0x2c3fb7,_0x143c30,_0x34f3e6,_0x6ec316);return this[_0xf42c9b(0x562)][_0xf42c9b(0x2a9)](_0x5c2f7b),_0x5c2f7b;},this[_0x4cc4b4(0x4e7)]=_0x462ed5=>{var _0x4c1c93=_0x4cc4b4;for(var _0x2beeeb in this[_0x4c1c93(0x562)]){var _0x55ff88=this[_0x4c1c93(0x562)][_0x2beeeb],_0x454205=_0x55ff88[_0x4c1c93(0x2a4)](_0x462ed5);if(_0x454205)return!![];}return![];},this['Mouse_Input']=(_0x2078fe,_0x2acff3)=>{var _0x2f954b=_0x4cc4b4;for(var _0xf2fa79 in this[_0x2f954b(0x562)]){var _0x4831bf=this[_0x2f954b(0x562)][_0xf2fa79],_0x36688d=_0x4831bf['click_buton_check'](_0x2078fe,_0x2acff3);if(_0x36688d)return!![];}return![];};},MyCanvas=function(_0x6bf046,_0x453d34,_0x427c84){var _0x540c91=_0x3373;this['width']=window[_0x540c91(0x1d7)],this['height']=window['innerHeight'],_0x427c84&&(_0x427c84['x']&&_0x427c84['y']&&(this[_0x540c91(0x5c5)]=_0x427c84['x'],this['height']=_0x427c84['y'])),this[_0x540c91(0x33d)]=document[_0x540c91(0x5df)](_0x540c91(0x33d)),this[_0x540c91(0x33d)]['width']=this[_0x540c91(0x5c5)],this[_0x540c91(0x33d)][_0x540c91(0x2ce)]=this[_0x540c91(0x2ce)],this['id']=_0x6bf046,this[_0x540c91(0x33d)]['id']=_0x6bf046,this['canvas'][_0x540c91(0x360)][_0x540c91(0x1a1)]=_0x453d34,this[_0x540c91(0x33d)][_0x540c91(0x360)][_0x540c91(0x3dc)]='absolute',this[_0x540c91(0x33d)][_0x540c91(0x360)][_0x540c91(0x1d6)]=_0x540c91(0x213),this['canvas']['style'][_0x540c91(0x45a)]=_0x540c91(0x213),this[_0x540c91(0x254)]=this[_0x540c91(0x33d)][_0x540c91(0x3f2)]('2d'),this[_0x540c91(0x59f)]=![],document[_0x540c91(0x32c)][_0x540c91(0x5dc)](this['canvas']),this[_0x540c91(0x22e)]=()=>{var _0x227c4e=_0x540c91,_0x1182e7=this[_0x227c4e(0x33d)][_0x227c4e(0x55d)]();if(_0x1182e7)this['screenAx']=Math[_0x227c4e(0x295)](_0x1182e7['x']),this[_0x227c4e(0x5ce)]=Math[_0x227c4e(0x295)](_0x1182e7['y']),this[_0x227c4e(0x3fe)]=Math[_0x227c4e(0x295)](_0x1182e7[_0x227c4e(0x342)]-_0x1182e7['x']),this[_0x227c4e(0x492)]=Math['floor'](_0x1182e7[_0x227c4e(0x437)]-_0x1182e7['y']);else console['log'](_0x227c4e(0x3f9));},this[_0x540c91(0x22e)](),this[_0x540c91(0x1db)]=(_0x516eb6,_0x5660d5)=>{var _0x484ffc=_0x540c91;this['GetCanvasPos']();if(_0x516eb6<this['screenAx']||_0x5660d5<this['screenAy']||_0x516eb6>this[_0x484ffc(0x3fe)]||_0x5660d5>this[_0x484ffc(0x492)])return undefined;var _0x2acc12={'x':Math['floor'](_0x516eb6-this['screenAx']),'y':Math['floor'](_0x5660d5-this['screenAy'])};return _0x2acc12;},this[_0x540c91(0x500)]=()=>{var _0x12de05=_0x540c91;this[_0x12de05(0x254)][_0x12de05(0x22c)](0x0,0x0,this[_0x12de05(0x33d)]['width'],this[_0x12de05(0x33d)][_0x12de05(0x2ce)]);},this['drawFillRect']=(_0xf10ffa,_0x3e1785,_0x5a1ea8,_0x11f002)=>{var _0xd70812=_0x540c91;this[_0xd70812(0x254)][_0xd70812(0x5e1)](_0xf10ffa,_0x3e1785,_0x5a1ea8-_0xf10ffa,_0x11f002-_0x3e1785);},this[_0x540c91(0x1b3)]=(_0x24b86c,_0x156b0a,_0x474ebf,_0x3f3f10)=>{var _0x31a90e=_0x540c91;this[_0x31a90e(0x254)][_0x31a90e(0x208)](_0x24b86c,_0x156b0a,_0x474ebf-_0x24b86c,_0x3f3f10-_0x156b0a);},this['drawLine']=(_0x447d8c,_0x3e902e,_0x3c26dd,_0xd10ea2)=>{var _0x81413b=_0x540c91;this[_0x81413b(0x254)][_0x81413b(0x318)](),this[_0x81413b(0x254)][_0x81413b(0x39f)](_0x447d8c,_0x3e902e),this[_0x81413b(0x254)][_0x81413b(0x5b8)](_0x3c26dd,_0xd10ea2),this['ctx']['stroke']();},this[_0x540c91(0x50f)]=(_0x1c4d5c,_0x24e615,_0x468533,_0x1b44c1,_0x2fe0d9)=>{var _0x103332=_0x540c91;_0x24e615=Math[_0x103332(0x361)](_0x24e615),_0x468533=Math[_0x103332(0x361)](_0x468533),_0x1b44c1=Math[_0x103332(0x361)](_0x1b44c1),_0x2fe0d9=Math[_0x103332(0x361)](_0x2fe0d9),ctx=this[_0x103332(0x254)],ctx[_0x103332(0x529)](_0x1c4d5c,_0x24e615,_0x468533,_0x1b44c1,_0x2fe0d9);},this['drawImageMirrorRotateCenter']=(_0xb4fa85,_0x81266,_0x31bbe9,_0x2d56e7,_0x5ab214,_0x42fb67,_0x2a104a)=>{var _0x377bbc=_0x540c91;_0x81266=Math[_0x377bbc(0x361)](_0x81266),_0x31bbe9=Math[_0x377bbc(0x361)](_0x31bbe9),ctx=this[_0x377bbc(0x254)],ctx[_0x377bbc(0x307)](-_0x42fb67,0x0,0x0,_0x42fb67,_0x81266,_0x31bbe9),ctx[_0x377bbc(0x24f)](_0x2a104a),ctx['drawImage'](_0xb4fa85,-_0x2d56e7,-_0x5ab214),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this['drawImageRotateCenter']=(_0x2b6b68,_0x1ebdf7,_0x560af9,_0x514672,_0x25dbfb,_0x147e33,_0x276e27)=>{var _0x2f0c7d=_0x540c91;_0x1ebdf7=Math['round'](_0x1ebdf7),_0x560af9=Math[_0x2f0c7d(0x361)](_0x560af9),ctx=this[_0x2f0c7d(0x254)],ctx[_0x2f0c7d(0x307)](_0x147e33,0x0,0x0,_0x147e33,_0x1ebdf7,_0x560af9),ctx[_0x2f0c7d(0x24f)](_0x276e27),ctx[_0x2f0c7d(0x529)](_0x2b6b68,-_0x514672,-_0x25dbfb),ctx[_0x2f0c7d(0x307)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x540c91(0x259)]=(_0x3b9db0,_0x1eb0c8,_0x3aabfc,_0xdeb9ad,_0x51c3fd)=>{var _0x32dc26=_0x540c91;_0x1eb0c8=Math[_0x32dc26(0x361)](_0x1eb0c8),_0x3aabfc=Math[_0x32dc26(0x361)](_0x3aabfc),ctx=this[_0x32dc26(0x254)],ctx[_0x32dc26(0x307)](_0xdeb9ad,0x0,0x0,_0xdeb9ad,_0x1eb0c8,_0x3aabfc),ctx[_0x32dc26(0x24f)](_0x51c3fd),ctx[_0x32dc26(0x529)](_0x3b9db0,-_0x3b9db0[_0x32dc26(0x5c5)]/0x2,-_0x3b9db0[_0x32dc26(0x2ce)]/0x2),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x540c91(0x40b)]=(_0x4203c2,_0x51864a,_0x5ce9a9,_0x1ee7cd,_0x165313,_0x39a32c,_0x353c50)=>{var _0x14536c=_0x540c91;this[_0x14536c(0x254)]['textAlign']=_0x14536c(0x45a),this[_0x14536c(0x254)]['textBaseline']=_0x14536c(0x1d6),this[_0x14536c(0x254)][_0x14536c(0x5de)]=_0x39a32c;var _0x47efb0=''+_0x165313+'px';if(!_0x353c50)_0x353c50=_0x14536c(0x5b7);_0x47efb0=_0x47efb0+'\x20'+_0x353c50,this[_0x14536c(0x254)][_0x14536c(0x430)]=_0x47efb0,this[_0x14536c(0x254)][_0x14536c(0x5b1)](_0x4203c2,_0x51864a,_0x5ce9a9,_0x1ee7cd);},this[_0x540c91(0x224)]=(_0x269f12,_0x5051e3,_0x224c09,_0xb21c8f,_0x57318d,_0x472869,_0x38c595)=>{var _0x4647de=_0x540c91;this['ctx'][_0x4647de(0x219)]=_0x4647de(0x2c9),this[_0x4647de(0x254)][_0x4647de(0x3bf)]=_0x4647de(0x4c9),this[_0x4647de(0x254)][_0x4647de(0x5de)]=_0x472869;var _0x5a375b=''+_0x57318d+'px';if(!_0x38c595)_0x38c595='serif';_0x5a375b=_0x5a375b+'\x20'+_0x38c595,this['ctx'][_0x4647de(0x430)]=_0x5a375b,this['ctx'][_0x4647de(0x5b1)](_0x269f12,_0x5051e3,_0x224c09,_0xb21c8f);};},CanvasManager=function(){var _0x119af0=_0x3373;this[_0x119af0(0x43b)]=[],this[_0x119af0(0x37a)]=0x0,window[_0x119af0(0x1b2)](_0x119af0(0x31a),()=>{var _0x4ad43b=_0x119af0;for(var _0x37786c in this[_0x4ad43b(0x43b)]){var _0x3749ce=this[_0x4ad43b(0x43b)][_0x37786c]['canvas'];_0x3749ce[_0x4ad43b(0x5c5)]=window['innerWidth'],_0x3749ce[_0x4ad43b(0x2ce)]=window[_0x4ad43b(0x4b2)];}console['log'](_0x4ad43b(0x2fd)),world[_0x4ad43b(0x21b)]();}),document[_0x119af0(0x1b2)]('fullscreenchange',this['EventcloseFullscreen'],![]),document[_0x119af0(0x1b2)](_0x119af0(0x5d1),this[_0x119af0(0x58f)],![]),document[_0x119af0(0x1b2)]('MSFullscreenChange',this[_0x119af0(0x58f)],![]),document[_0x119af0(0x1b2)](_0x119af0(0x305),this[_0x119af0(0x58f)],![]),this['EventcloseFullscreen']=()=>{var _0x5f39a5=_0x119af0;this[_0x5f39a5(0x59f)]=![],this[_0x5f39a5(0x4d6)]();},this[_0x119af0(0x51f)]=(_0x38097,_0x1ffd33,_0x4ad8f3)=>{var _0x3fbd99=_0x119af0;for(var _0x41f259 in this['canList'])if(this['canList'][_0x41f259]['id']==_0x38097)return console['log']('ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST');var _0x382bc3=new MyCanvas(_0x38097,_0x1ffd33,_0x4ad8f3);this[_0x3fbd99(0x43b)][_0x38097]=_0x382bc3;},this[_0x119af0(0x1c1)]=()=>{var _0x38abaf=_0x119af0;this[_0x38abaf(0x59f)]=!![],document[_0x38abaf(0x4e1)][_0x38abaf(0x5b6)]();},this[_0x119af0(0x4d6)]=()=>{var _0x486f7d=_0x119af0;if(this[_0x486f7d(0x59f)]&&document['fullscreenElement']){if(document[_0x486f7d(0x3f3)])document[_0x486f7d(0x3f3)]();else{if(document[_0x486f7d(0x524)])document[_0x486f7d(0x524)]();else document[_0x486f7d(0x2b1)]&&document[_0x486f7d(0x2b1)]();}}this[_0x486f7d(0x59f)]=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=[_0x492d20(0x2cf),_0x492d20(0x210),_0x492d20(0x530),_0x492d20(0x580)],MAP_BOT_ELEMENT=[{'name':_0x492d20(0x21c),'moveCost':1.5},{'name':_0x492d20(0x3b6),'moveCost':0x2},{'name':_0x492d20(0x1ce),'moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':_0x492d20(0x1cc),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x492d20(0x45e),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':'roof_0','sizex':0x1,'sizey':0x1},{'name':_0x492d20(0x575),'sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x174ba1,_0x1474d6){var _0x617edc=_0x492d20;this['x']=_0x174ba1,this['y']=_0x1474d6,this[_0x617edc(0x4cf)]=undefined,this[_0x617edc(0x5b2)]=undefined,this[_0x617edc(0x4a3)]=undefined,this[_0x617edc(0x5eb)]=()=>{var _0xb57ab9=_0x617edc,_0x4c1e02=0x1;if(this[_0xb57ab9(0x4cf)]){for(var _0x1c1990 in MAP_BOT_ELEMENT)var _0xc98bd=MAP_BOT_ELEMENT[_0xb57ab9(0x521)](_0x11a0c9=>_0x11a0c9[_0xb57ab9(0x362)]==this['botElem'][_0xb57ab9(0x362)]);if(_0xc98bd['moveCost']==![])return![];if(_0xc98bd[_0xb57ab9(0x442)])_0x4c1e02*=_0xc98bd[_0xb57ab9(0x442)];}if(this[_0xb57ab9(0x5b2)]){var _0xc98bd=MAP_TOP_ELEMENT['find'](_0xa86168=>_0xa86168[_0xb57ab9(0x362)]==this['topElem'][_0xb57ab9(0x362)]);if(_0xc98bd['moveCost']==![])return![];if(_0xc98bd['moveCost'])_0x4c1e02*=_0xc98bd[_0xb57ab9(0x442)];}return _0x4c1e02;};},BattleMap=function(_0x2d63b8,_0x442fc7){var _0x43f4d8=_0x492d20;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this[_0x43f4d8(0x5c5)]=_0x2d63b8,this[_0x43f4d8(0x2ce)]=_0x442fc7,this[_0x43f4d8(0x37b)]=_0x2d63b8/0x2,this[_0x43f4d8(0x5aa)]=_0x442fc7/0x2,this[_0x43f4d8(0x24b)]=0x1,this[_0x43f4d8(0x31f)]=[],this[_0x43f4d8(0x41d)]=[],this[_0x43f4d8(0x23e)]=[],this['mapImgsTop']=[],this[_0x43f4d8(0x21b)]=!![],this[_0x43f4d8(0x2d3)]=_0x4d5580=>{var _0x67db29=_0x43f4d8,_0x16d46e=0x1;if(_0x4d5580[_0x67db29(0x19d)])_0x16d46e=_0x4d5580[_0x67db29(0x19d)];this[_0x67db29(0x37b)]=_0x4d5580['x']+_0x16d46e/0x2,this[_0x67db29(0x5aa)]=_0x4d5580['y']+_0x16d46e/0x2,this[_0x67db29(0x21b)]=!![];},this['getZoneAtAbsRangeToPlayer']=_0x2defdd=>{var _0x26e9a5=_0x43f4d8;if(!_0x2defdd||!_0x2defdd['rangeMin']||_0x2defdd[_0x26e9a5(0x221)]==undefined||!_0x2defdd[_0x26e9a5(0x4a3)]==undefined)return[];var _0x4b600c=[],_0x6d0bda=_0x2defdd['player'],_0x511dbe=_0x2defdd[_0x26e9a5(0x275)],_0x3c5d05=_0x2defdd[_0x26e9a5(0x221)];for(var _0x34d9b3=_0x6d0bda['x']-_0x3c5d05;_0x34d9b3<_0x6d0bda['x']+_0x6d0bda['size']+_0x3c5d05;_0x34d9b3++)for(var _0x14d82d=_0x6d0bda['y']-_0x3c5d05;_0x14d82d<_0x6d0bda['y']+_0x6d0bda[_0x26e9a5(0x19d)]+_0x3c5d05;_0x14d82d++)if(_0x34d9b3<=_0x6d0bda['x']-_0x511dbe||_0x34d9b3>=_0x6d0bda['x']+_0x6d0bda[_0x26e9a5(0x19d)]+_0x511dbe-0x1||_0x14d82d<=_0x6d0bda['y']-_0x511dbe||_0x14d82d>=_0x6d0bda['y']+_0x6d0bda[_0x26e9a5(0x19d)]+_0x511dbe-0x1){if(this[_0x26e9a5(0x41d)][_0x34d9b3]&&this['mapBlock'][_0x34d9b3][_0x14d82d])_0x4b600c['push'](this['mapBlock'][_0x34d9b3][_0x14d82d]);}return _0x4b600c;},this[_0x43f4d8(0x1e1)]=_0x28333f=>{var _0x31b2a5=_0x43f4d8;if(!_0x28333f||!_0x28333f[_0x31b2a5(0x1ba)]||!_0x28333f['player'])return[];var _0x14beff=[],_0x543397=_0x28333f[_0x31b2a5(0x4a3)];if(_0x28333f[_0x31b2a5(0x1ba)]==_0x31b2a5(0x45a)||_0x28333f[_0x31b2a5(0x1ba)]['x']==-0x1&&_0x28333f['dir']['y']==0x0){var _0x4e5f56=_0x543397['x']-0x1;for(var _0x234c3f=_0x543397['y'];_0x234c3f<_0x543397['y']+_0x543397['size'];_0x234c3f++)if(this['mapBlock'][_0x4e5f56]&&this['mapBlock'][_0x4e5f56][_0x234c3f])_0x14beff['push'](this['mapBlock'][_0x4e5f56][_0x234c3f]);}else{if(_0x28333f['dir']==_0x31b2a5(0x1d6)||_0x28333f[_0x31b2a5(0x1ba)]['y']==-0x1&&_0x28333f[_0x31b2a5(0x1ba)]['x']==0x0){var _0x234c3f=_0x543397['y']-0x1;for(var _0x4e5f56=_0x543397['x'];_0x4e5f56<_0x543397['x']+_0x543397[_0x31b2a5(0x19d)];_0x4e5f56++)if(this['mapBlock'][_0x4e5f56]&&this[_0x31b2a5(0x41d)][_0x4e5f56][_0x234c3f])_0x14beff[_0x31b2a5(0x2a9)](this[_0x31b2a5(0x41d)][_0x4e5f56][_0x234c3f]);}else{if(_0x28333f[_0x31b2a5(0x1ba)]==_0x31b2a5(0x342)||_0x28333f[_0x31b2a5(0x1ba)]['x']==0x1&&_0x28333f[_0x31b2a5(0x1ba)]['y']==0x0){var _0x4e5f56=_0x543397['x']+_0x543397[_0x31b2a5(0x19d)];for(var _0x234c3f=_0x543397['y'];_0x234c3f<_0x543397['y']+_0x543397['size'];_0x234c3f++)if(this[_0x31b2a5(0x41d)][_0x4e5f56]&&this[_0x31b2a5(0x41d)][_0x4e5f56][_0x234c3f])_0x14beff[_0x31b2a5(0x2a9)](this['mapBlock'][_0x4e5f56][_0x234c3f]);}else{if(_0x28333f[_0x31b2a5(0x1ba)]==_0x31b2a5(0x2d0)||_0x28333f[_0x31b2a5(0x1ba)]['y']==0x1&&_0x28333f[_0x31b2a5(0x1ba)]['x']==0x0){var _0x234c3f=_0x543397['y']+_0x543397[_0x31b2a5(0x19d)];for(var _0x4e5f56=_0x543397['x'];_0x4e5f56<_0x543397['x']+_0x543397['size'];_0x4e5f56++)if(this['mapBlock'][_0x4e5f56]&&this['mapBlock'][_0x4e5f56][_0x234c3f])_0x14beff[_0x31b2a5(0x2a9)](this[_0x31b2a5(0x41d)][_0x4e5f56][_0x234c3f]);}}}}return _0x14beff;},this[_0x43f4d8(0x2ed)]=_0x18f269=>{var _0x5e3a78=_0x43f4d8;if(!_0x18f269||!_0x18f269['player'])return undefined;var _0x46e4ba=[];return _0x18f269[_0x5e3a78(0x1ba)]=_0x5e3a78(0x45a),_0x46e4ba=_0x46e4ba[_0x5e3a78(0x416)](this['getZoneAdjacentToPlayerByDir'](_0x18f269)),_0x18f269[_0x5e3a78(0x1ba)]=_0x5e3a78(0x1d6),_0x46e4ba=_0x46e4ba[_0x5e3a78(0x416)](this[_0x5e3a78(0x1e1)](_0x18f269)),_0x18f269[_0x5e3a78(0x1ba)]=_0x5e3a78(0x342),_0x46e4ba=_0x46e4ba['concat'](this['getZoneAdjacentToPlayerByDir'](_0x18f269)),_0x18f269[_0x5e3a78(0x1ba)]=_0x5e3a78(0x2d0),_0x46e4ba=_0x46e4ba[_0x5e3a78(0x416)](this['getZoneAdjacentToPlayerByDir'](_0x18f269)),_0x46e4ba;},this[_0x43f4d8(0x449)]=_0x14d674=>{var _0x480c5c=_0x43f4d8;if(!_0x14d674||!_0x14d674[_0x480c5c(0x4a3)]||!_0x14d674[_0x480c5c(0x1ba)])return![];var _0x38e0c2=this[_0x480c5c(0x1e1)]({'dir':_0x14d674[_0x480c5c(0x1ba)],'player':_0x14d674[_0x480c5c(0x4a3)]});if(!_0x38e0c2||_0x38e0c2[_0x480c5c(0x1e9)]==0x0)return![];var _0x5aff2c=0x0;for(var _0x5165ed in _0x38e0c2){var _0x19f834=_0x38e0c2[_0x5165ed]['getMoveCost']();if(_0x19f834===![]||_0x19f834===0x0)return![];_0x5aff2c+=_0x19f834;}return _0x5aff2c/_0x38e0c2[_0x480c5c(0x1e9)];},this[_0x43f4d8(0x516)]=()=>{var _0x1648e9=_0x43f4d8;this[_0x1648e9(0x41d)]=[];for(var _0xaa4181=0x0;_0xaa4181<this[_0x1648e9(0x5c5)];_0xaa4181++){this[_0x1648e9(0x41d)][_0xaa4181]=[];for(var _0x3cccab=0x0;_0x3cccab<this[_0x1648e9(0x2ce)];_0x3cccab++){var _0x2561b9=new Block(_0xaa4181,_0x3cccab);this[_0x1648e9(0x41d)][_0xaa4181][_0x3cccab]=_0x2561b9;if(_0xaa4181==0x0||_0x3cccab==0x0||_0xaa4181==this[_0x1648e9(0x5c5)]-0x1||_0x3cccab==this[_0x1648e9(0x2ce)]-0x1){_0x2561b9[_0x1648e9(0x5b2)]={'name':_0x1648e9(0x575),'angle':Math[_0x1648e9(0x471)]()*Math['PI']*0x2};continue;}}}},this[_0x43f4d8(0x532)]=()=>{var _0x4f4c02=_0x43f4d8;for(var _0x991f1e=0x0;_0x991f1e<this['width'];_0x991f1e++){for(var _0x1b76c2=0x0;_0x1b76c2<this[_0x4f4c02(0x2ce)];_0x1b76c2++){var _0x23369f=this[_0x4f4c02(0x41d)][_0x991f1e][_0x1b76c2];if(_0x23369f[_0x4f4c02(0x4a3)])continue;var _0x246a25=Math[_0x4f4c02(0x295)](Math['random']()*0x64);if(_0x246a25<0xa){var _0x29b87f=Math[_0x4f4c02(0x295)](Math[_0x4f4c02(0x471)]()*MAP_BOT_ELEMENT['length']);_0x23369f['botElem']={'name':MAP_BOT_ELEMENT[_0x29b87f][_0x4f4c02(0x362)],'angle':Math['random']()*Math['PI']*0x2};}var _0x246a25=Math['floor'](Math[_0x4f4c02(0x471)]()*0x64);if(_0x246a25<0xa){var _0x29b87f=Math[_0x4f4c02(0x295)](Math[_0x4f4c02(0x471)]()*MAP_TOP_ELEMENT[_0x4f4c02(0x1e9)]);_0x23369f[_0x4f4c02(0x5b2)]={'name':MAP_TOP_ELEMENT[_0x29b87f][_0x4f4c02(0x362)],'angle':Math[_0x4f4c02(0x471)]()*Math['PI']*0x2};}}}},this[_0x43f4d8(0x587)]=()=>{var _0x43e582=_0x43f4d8,_0x1fce91=_0x43e582(0x44c),_0x1c6e6f=MAP_FLOORS;for(var _0x3bce41 in _0x1c6e6f)this[_0x43e582(0x31f)][_0x1c6e6f[_0x3bce41]]=new myImage(_0x1c6e6f[_0x3bce41],_0x1fce91+_0x1c6e6f[_0x3bce41]+'.png');},this['initMapBotElement']=()=>{var _0x14d15b=_0x43f4d8,_0x37d38b=_0x14d15b(0x2d7),_0x525c49=MAP_BOT_ELEMENT;for(var _0x23a355 in _0x525c49)this[_0x14d15b(0x23e)][_0x525c49[_0x23a355][_0x14d15b(0x362)]]=new myImage(_0x525c49[_0x23a355][_0x14d15b(0x362)],_0x37d38b+_0x525c49[_0x23a355]['name']+_0x14d15b(0x2e3));},this[_0x43f4d8(0x1f8)]=()=>{var _0x3cd5a7=_0x43f4d8,_0x244a45='./img/mapTopElement/',_0x3ec8af=MAP_TOP_ELEMENT;for(var _0x29a3e2 in _0x3ec8af)this['mapImgsTop'][_0x3ec8af[_0x29a3e2]['name']]=new myImage(_0x3ec8af[_0x29a3e2][_0x3cd5a7(0x362)],_0x244a45+_0x3ec8af[_0x29a3e2]['name']+'.png');},this['initImgs']=()=>{var _0x3ea6eb=_0x43f4d8;this[_0x3ea6eb(0x1f8)](),this[_0x3ea6eb(0x587)](),this[_0x3ea6eb(0x21a)]();},this[_0x43f4d8(0x4e3)]=(_0x1b08ff,_0x118929,_0x4ed8ae)=>{var _0xc9eaec=_0x43f4d8;this[_0xc9eaec(0x37b)]+=_0x1b08ff,this['posBlocky']+=_0x118929,this[_0xc9eaec(0x24b)]*=_0x4ed8ae;if(this[_0xc9eaec(0x24b)]<0.1)this[_0xc9eaec(0x24b)]=0.1;if(this['scale']>0x1)this[_0xc9eaec(0x24b)]=0x1;this[_0xc9eaec(0x21b)]=!![];},this[_0x43f4d8(0x240)]=_0x1f2b36=>{var _0x560f15=_0x43f4d8;this['pixel_width']=Math[_0x560f15(0x295)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x560f15(0x24b)]*this[_0x560f15(0x5c5)]),this[_0x560f15(0x2e6)]=Math['floor'](MAP_BLOCK_PIXELSIZE_DEFAULT*this['scale']*this[_0x560f15(0x2ce)]),this[_0x560f15(0x548)]=Math[_0x560f15(0x295)](this[_0x560f15(0x19e)]/this[_0x560f15(0x5c5)]),this[_0x560f15(0x286)]=Math[_0x560f15(0x295)](this['pixel_height']/this['height']),this[_0x560f15(0x292)]=this[_0x560f15(0x37b)]*this['blocksize_x'],this['pos_y']=this[_0x560f15(0x5aa)]*this[_0x560f15(0x286)],this[_0x560f15(0x39e)]=_0x1f2b36['width']/0x2-this[_0x560f15(0x292)],this[_0x560f15(0x510)]=_0x1f2b36[_0x560f15(0x2ce)]/0x2-this[_0x560f15(0x2f6)],this[_0x560f15(0x388)]=this[_0x560f15(0x39e)]<0x0?0x0:this['pos_startx'],this['pixel_starty']=this['pos_starty']<0x0?0x0:this['pos_starty'],this[_0x560f15(0x3ff)]=this['pos_startx']+this['pixel_width']>=_0x1f2b36[_0x560f15(0x5c5)]?_0x1f2b36[_0x560f15(0x5c5)]-0x1:this[_0x560f15(0x39e)]+this['pixel_width'],this[_0x560f15(0x4ee)]=this['pos_starty']+this[_0x560f15(0x2e6)]>=_0x1f2b36['height']?_0x1f2b36[_0x560f15(0x2ce)]-0x1:this[_0x560f15(0x510)]+this[_0x560f15(0x2e6)],this['topleft_block']=this['get_block_by_pixel']({'x':this[_0x560f15(0x388)],'y':this[_0x560f15(0x1d5)]}),this['botright_block']=this[_0x560f15(0x37c)]({'x':this['pixel_endx'],'y':this[_0x560f15(0x4ee)]});if(this[_0x560f15(0x4ad)]){if(this[_0x560f15(0x4ad)]['x']>=this['width'])this[_0x560f15(0x4ad)]['x']=this[_0x560f15(0x5c5)]-0x1;if(this['botright_block']['y']>=this['height'])this[_0x560f15(0x4ad)]['y']=this[_0x560f15(0x2ce)]-0x1;}},this[_0x43f4d8(0x41f)]=(_0x3b82e6,_0x4bb1c3,_0x55d357,_0x1030f0,_0x9864ca)=>{var _0x1fb611=_0x43f4d8;if(_0x9864ca==_0x1fb611(0x1ea)){var _0x15b3dc=Math[_0x1fb611(0x295)](_0x55d357+0.05*this[_0x1fb611(0x548)]),_0x507ef8=Math['floor'](_0x1030f0+0.05*this[_0x1fb611(0x286)]),_0x31c3b7=Math[_0x1fb611(0x295)](_0x55d357+0.95*this[_0x1fb611(0x548)]),_0x59c09b=Math[_0x1fb611(0x295)](_0x1030f0+0.95*this[_0x1fb611(0x286)]);if(_0x4bb1c3['getMoveCost']()>0x1)_0x3b82e6[_0x1fb611(0x254)]['fillStyle']=_0x1fb611(0x56b);else{if(!_0x4bb1c3[_0x1fb611(0x5eb)]()||_0x4bb1c3[_0x1fb611(0x4a3)])_0x3b82e6[_0x1fb611(0x254)][_0x1fb611(0x5de)]=_0x1fb611(0x1d3);else _0x3b82e6[_0x1fb611(0x254)]['fillStyle']=_0x1fb611(0x3e4);}_0x3b82e6[_0x1fb611(0x381)](_0x15b3dc,_0x507ef8,_0x31c3b7,_0x59c09b);var _0x1fa8e9=new MyUI(_0x3b82e6,_0x15b3dc,_0x507ef8,0x64,this[_0x1fb611(0x24b)],undefined,undefined,0x1);_0x1fa8e9[_0x1fb611(0x47f)](_0x1fb611(0x3df)+_0x4bb1c3[_0x1fb611(0x5eb)](),0x14*this['scale'],0x64,_0x1fb611(0x568)),_0x1fa8e9[_0x1fb611(0x5ab)]();}if(_0x9864ca=='rotate'){var _0x15b3dc=Math[_0x1fb611(0x295)](_0x55d357+0.05*this[_0x1fb611(0x548)]),_0x507ef8=Math['floor'](_0x1030f0+0.05*this[_0x1fb611(0x286)]),_0x31c3b7=Math[_0x1fb611(0x295)](_0x55d357+0.95*this[_0x1fb611(0x548)]),_0x59c09b=Math[_0x1fb611(0x295)](_0x1030f0+0.95*this[_0x1fb611(0x286)]);_0x3b82e6['ctx'][_0x1fb611(0x5de)]=_0x1fb611(0x2b6),_0x3b82e6[_0x1fb611(0x381)](_0x15b3dc,_0x507ef8,_0x31c3b7,_0x59c09b);}},this['draw_map']=(_0x2aa8a3,_0x4390d5)=>{var _0x47da74=_0x43f4d8;this[_0x47da74(0x21b)]=![],world[_0x47da74(0x34a)][_0x47da74(0x1d4)]=!![];if(this[_0x47da74(0x57f)]&&this[_0x47da74(0x4ad)])for(var _0x475944=this['topleft_block']['x'];_0x475944<=this[_0x47da74(0x4ad)]['x'];_0x475944++){for(var _0x3e2dcb=this[_0x47da74(0x57f)]['y'];_0x3e2dcb<=this[_0x47da74(0x4ad)]['y'];_0x3e2dcb++){var _0x27a54b=this['get_pixel_by_block'](_0x475944,_0x3e2dcb),_0x1ab0d4=this['mapBlock'][_0x475944][_0x3e2dcb],_0x5f4f63=undefined;if(!_0x1ab0d4[_0x47da74(0x295)])_0x5f4f63=this[_0x47da74(0x31f)][_0x47da74(0x580)];else _0x5f4f63=this['mapImgsFloor'][_0x1ab0d4[_0x47da74(0x295)]];if(_0x5f4f63&&_0x5f4f63[_0x47da74(0x21d)]&&_0x27a54b)_0x2aa8a3[_0x47da74(0x50f)](_0x5f4f63[_0x47da74(0x345)],_0x27a54b['x'],_0x27a54b['y'],this[_0x47da74(0x548)]+0x1,this[_0x47da74(0x286)]+0x1);else this['needRedraw']=!![];if(_0x1ab0d4['botElem']){_0x5f4f63=this[_0x47da74(0x23e)][_0x1ab0d4['botElem'][_0x47da74(0x362)]];var _0x502c23=_0x27a54b['x']+this[_0x47da74(0x548)]/0x2,_0x25850c=_0x27a54b['y']+this[_0x47da74(0x286)]/0x2;if(_0x5f4f63)_0x2aa8a3[_0x47da74(0x259)](_0x5f4f63['img'],_0x502c23,_0x25850c,this[_0x47da74(0x24b)]*0x2,_0x1ab0d4[_0x47da74(0x4cf)][_0x47da74(0x2dd)]);}if(_0x1ab0d4[_0x47da74(0x5b2)]){_0x5f4f63=this[_0x47da74(0x2f1)][_0x1ab0d4[_0x47da74(0x5b2)][_0x47da74(0x362)]];var _0x502c23=_0x27a54b['x']+this[_0x47da74(0x548)]/0x2,_0x25850c=_0x27a54b['y']+this['blocksize_y']/0x2;if(_0x5f4f63)_0x4390d5[_0x47da74(0x259)](_0x5f4f63[_0x47da74(0x345)],_0x502c23,_0x25850c,this[_0x47da74(0x24b)]*0x2,_0x1ab0d4[_0x47da74(0x5b2)][_0x47da74(0x2dd)]);}if(world[_0x47da74(0x21e)]['highlightZone']&&world['GameUI'][_0x47da74(0x1bc)][_0x47da74(0x255)]&&world[_0x47da74(0x21e)][_0x47da74(0x1bc)][_0x47da74(0x255)][_0x47da74(0x521)](_0x119477=>_0x119477==_0x1ab0d4))this[_0x47da74(0x41f)](_0x2aa8a3,_0x1ab0d4,_0x27a54b['x'],_0x27a54b['y'],world[_0x47da74(0x21e)][_0x47da74(0x1bc)][_0x47da74(0x475)]);}}},this[_0x43f4d8(0x37c)]=_0x39b728=>{var _0x57decb=_0x43f4d8;if(_0x39b728['x']<this[_0x57decb(0x388)]||_0x39b728['y']<this[_0x57decb(0x1d5)]||_0x39b728['x']>this[_0x57decb(0x3ff)]||_0x39b728['y']>this[_0x57decb(0x4ee)]||this[_0x57decb(0x548)]==0x0||this[_0x57decb(0x286)]==0x0)return undefined;var _0x33f1ee={'x':Math[_0x57decb(0x295)]((_0x39b728['x']-this[_0x57decb(0x39e)])/this['blocksize_x']),'y':Math[_0x57decb(0x295)]((_0x39b728['y']-this[_0x57decb(0x510)])/this[_0x57decb(0x286)])};if(_0x33f1ee['x']>=this[_0x57decb(0x5c5)]&&_0x33f1ee['x']>0x0)_0x33f1ee['x']=this[_0x57decb(0x5c5)]-0x1;if(_0x33f1ee['y']>=this[_0x57decb(0x2ce)]&&_0x33f1ee['y']>0x0)_0x33f1ee['y']=this[_0x57decb(0x2ce)]-0x1;return this['mapBlock'][_0x33f1ee['x']][_0x33f1ee['y']];},this['get_pixel_by_block']=(_0x47ee2e,_0x183630)=>{var _0x3934c5=_0x43f4d8;if(_0x47ee2e<0x0||_0x183630<0x0||_0x47ee2e>=this[_0x3934c5(0x5c5)]||_0x183630>=this['height'])return undefined;return{'x':Math[_0x3934c5(0x295)](this[_0x3934c5(0x39e)]+this[_0x3934c5(0x548)]*_0x47ee2e),'y':Math[_0x3934c5(0x295)](this[_0x3934c5(0x510)]+this[_0x3934c5(0x286)]*_0x183630)};},this[_0x43f4d8(0x505)]=(_0x3a1d4e,_0x446fca)=>{var _0x4164ae=_0x43f4d8;return{'x':this['pos_startx']+this[_0x4164ae(0x548)]*_0x3a1d4e,'y':this['pos_starty']+this[_0x4164ae(0x286)]*_0x446fca};},this['get_block_at_BlockRange']=(_0x15c3ca,_0x85e31,_0x86be7f,_0x370b54)=>{var _0x231422=_0x43f4d8,_0xae51a0=[];for(var _0x40b40c=_0x15c3ca-_0x370b54;_0x40b40c<=_0x15c3ca+_0x370b54;r++){for(var _0x4d0e63=_0x85e31-_0x370b54;_0x4d0e63<=_0x85e31+_0x370b54;r++){var _0x4532e1=this[_0x231422(0x41d)][_0x40b40c][_0x4d0e63];if(_0x4532e1&&distBlock(_0x15c3ca,_0x85e31,_0x4532e1['x'],_0x4532e1['y'])>=_0x86be7f&&distBlock(_0x15c3ca,_0x85e31,_0x4532e1['x'],_0x4532e1['y'])<=_0x370b54)_0xae51a0[_0x231422(0x2a9)](_0x4532e1);}}return _0xae51a0;},this[_0x43f4d8(0x5c7)]=(_0x17df19,_0x2c2d26,_0x28f371,_0x276e28)=>{var _0x50662e=_0x43f4d8,_0x213ef7=[];for(var _0x16f3b2=Math[_0x50662e(0x295)](_0x17df19-_0x276e28);_0x16f3b2<=Math[_0x50662e(0x361)](_0x17df19+_0x276e28);r++){for(var _0xee63d9=Math['floor'](_0x2c2d26-_0x276e28);_0xee63d9<=Math[_0x50662e(0x361)](_0x2c2d26+_0x276e28);r++){var _0x2161d4=this['mapBlock'][_0x16f3b2][_0xee63d9];if(_0x2161d4&&dist(_0x17df19,_0x2c2d26,_0x2161d4['x'],_0x2161d4['y'])>=_0x28f371&&Block(_0x17df19,_0x2c2d26,_0x2161d4['x'],_0x2161d4['y'])<=_0x276e28)_0x213ef7['push'](_0x2161d4);}}return _0x213ef7;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT=_0x492d20(0x565),BONUS_DESCRIPTION=[];var id=0x1;BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]=_0x492d20(0x53e),BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x492d20(0x2fe),BONUS_FORGE_UPPGRADE=id++,BONUS_DESCRIPTION[BONUS_FORGE_UPPGRADE]=_0x492d20(0x36c),BONUS_HUNTER_FOREST=id++,BONUS_DESCRIPTION[BONUS_HUNTER_FOREST]=_0x492d20(0x440),BONUS_BUTCHER=id++,BONUS_DESCRIPTION[BONUS_BUTCHER]='Get\x20more\x20resource\x20when\x20butcher\x20animals',Player=function(_0xeebb2b,_0x4999fa,_0x4067f6,_0x172e88,_0x1ad4ee){var _0x461449=_0x492d20;this['x']=_0xeebb2b,this['y']=_0x4999fa,this[_0x461449(0x19d)]=_0x4067f6,this[_0x461449(0x23b)]=_0x1ad4ee,this['AI']=_0x1ad4ee==TEAM_HUMAN?undefined:{},this['ghost']=undefined,this[_0x461449(0x5ca)]=undefined,this['color']=_0x172e88,this['dir']=[0x1,0x0],this[_0x461449(0x38d)]=undefined,this['bodyPartImgReady']=![],this[_0x461449(0x31e)]=undefined,this[_0x461449(0x217)]=[],this[_0x461449(0x1e5)]=PLAYER_DEFAUTL_MOVECOST,this[_0x461449(0x362)]=_0x461449(0x53a),this[_0x461449(0x369)]=0x64,this[_0x461449(0x1d9)]=0x0,this[_0x461449(0x1d8)]=0x0,this['ActionPointMax']=0x64,this['lifeMax']=0x64,this[_0x461449(0x2bc)]=this[_0x461449(0x227)],this[_0x461449(0x2ba)]=![],(this['stats']={'Strength':0xa,'Dexterity':0xa},this[_0x461449(0x34d)]=_0xede0c7=>{var _0xbead06=_0x461449;if(_0xede0c7==undefined||_0xede0c7<0x0)return![];this[_0xbead06(0x2bc)]-=_0xede0c7,world[_0xbead06(0x34a)]['MessageSystem'][_0xbead06(0x225)]({'type':this[_0xbead06(0x23b)],'txt':this[_0xbead06(0x362)]+'\x20lost\x20'+_0xede0c7+_0xbead06(0x1ae)});if(this[_0xbead06(0x2bc)]<=0x0){world[_0xbead06(0x34a)][_0xbead06(0x1ed)]['addMessage']({'type':this['team'],'txt':this[_0xbead06(0x362)]+_0xbead06(0x494)}),world[_0xbead06(0x34a)]['delete_player'](this);if(this==world[_0xbead06(0x21e)][_0xbead06(0x32a)])world[_0xbead06(0x21e)][_0xbead06(0x32a)]=undefined;if(this==world['players'][_0xbead06(0x281)])world[_0xbead06(0x34a)][_0xbead06(0x281)]=undefined;}return!![];}),this[_0x461449(0x5ba)]=_0x1adb94=>{var _0x55eac2=_0x461449;if(!_0x1adb94||_0x1adb94['length']<0x1)return![];var _0xfbcdfe=0x0;for(var _0x286c2e in _0x1adb94){world[_0x55eac2(0x34a)][_0x55eac2(0x1ed)]['addMessage']({'type':this[_0x55eac2(0x23b)],'txt':this[_0x55eac2(0x362)]+_0x55eac2(0x4c0)+_0x1adb94[_0x286c2e][_0x55eac2(0x349)]+'\x20of\x20type\x20'+_0x1adb94[_0x286c2e]['type']}),_0xfbcdfe+=_0x1adb94[_0x286c2e][_0x55eac2(0x349)];}var _0x429f5c=this[_0x55eac2(0x4b8)]?this[_0x55eac2(0x4b8)][_0x55eac2(0x2c2)]({'damages':_0x1adb94}):_0xfbcdfe;return this[_0x55eac2(0x34d)](_0x429f5c);},this[_0x461449(0x326)]=()=>{var _0x3c9e64=_0x461449;this[_0x3c9e64(0x2cc)]=[{'name':_0x3c9e64(0x2f4),'type':_0x3c9e64(0x1ea),'description':'Move\x20your\x20player\x20up/right/down/left','callback':this[_0x3c9e64(0x36d)],'zone_target_area':world[_0x3c9e64(0x359)][_0x3c9e64(0x2ed)],'zone_selecting_input':{'player':this,'type':_0x3c9e64(0x1ea)},'windowInfo':[{'txt':_0x3c9e64(0x1f0),'callback':this[_0x3c9e64(0x2ac)]},{'txt':_0x3c9e64(0x552),'callback':this['GetMoveDir']}]},{'name':_0x3c9e64(0x21f),'type':'move','description':_0x3c9e64(0x329),'callback':this[_0x3c9e64(0x24f)],'zone_target_area':world[_0x3c9e64(0x359)][_0x3c9e64(0x5fc)],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':_0x3c9e64(0x24f)},'windowInfo':[{'txt':_0x3c9e64(0x3e6),'callback':this[_0x3c9e64(0x549)]}]}];if(this[_0x3c9e64(0x498)]){var _0x24b56f={'name':_0x3c9e64(0x282),'type':_0x3c9e64(0x490),'description':'attack\x20animation\x20on\x20the\x20selected\x20block','callback':this[_0x3c9e64(0x490)],'zone_target_area':this[this[_0x3c9e64(0x498)]['blockTargetingFunction'][_0x3c9e64(0x394)]],'zone_selecting_input':{...this[_0x3c9e64(0x498)][_0x3c9e64(0x436)][_0x3c9e64(0x2a3)]},'windowInfo':[{'txt':_0x3c9e64(0x3a7),'callback':this['getChanceOfHit']},{'txt':_0x3c9e64(0x390),'callback':this['getEquipedWeaponDescription']}]};_0x24b56f[_0x3c9e64(0x284)][_0x3c9e64(0x4a3)]=this,_0x24b56f[_0x3c9e64(0x284)][_0x3c9e64(0x475)]=_0x3c9e64(0x24f),this[_0x3c9e64(0x2cc)]['push'](_0x24b56f);}else{var _0x24b56f={'name':'Attack','type':'attack','description':_0x3c9e64(0x4f0),'callback':this['attack'],'zone_target_area':this['getBlockAdjacent'],'zone_selecting_input':{},'windowInfo':[{'txt':_0x3c9e64(0x3a7),'callback':this[_0x3c9e64(0x456)]},{'txt':_0x3c9e64(0x583),'callback':()=>{}}]};_0x24b56f[_0x3c9e64(0x284)][_0x3c9e64(0x4a3)]=this,_0x24b56f['zone_selecting_input'][_0x3c9e64(0x475)]='rotate',this[_0x3c9e64(0x2cc)][_0x3c9e64(0x2a9)](_0x24b56f);}},this[_0x461449(0x39c)]=()=>{var _0xd7628e=_0x461449;if(this['weapon'])return this[_0xd7628e(0x498)][_0xd7628e(0x302)]();},this['ReturnBlockTargeted']=_0x344559=>{var _0x2095b6=_0x461449;if(!_0x344559||!_0x344559[_0x2095b6(0x488)])return undefined;return[_0x344559['block']];},this['getBlockAdjacent']=()=>{var _0x40f59c=_0x461449;console['log'](_0x40f59c(0x50a));var _0x5bf50d=[];for(var _0x13f1df=this['x']-0x1;_0x13f1df<=this['x']+this[_0x40f59c(0x19d)];_0x13f1df++)for(var _0x2dfb43=this['y']-0x1;_0x2dfb43<=this['y']+this[_0x40f59c(0x19d)];_0x2dfb43++)if(!((_0x13f1df==this['x']-0x1||_0x13f1df==this['x']+this[_0x40f59c(0x19d)])&&(_0x2dfb43==this['y']-0x1||_0x2dfb43==this['y']+this['size']))&&!(_0x13f1df<=this['x']+this[_0x40f59c(0x19d)]-0x1&&_0x13f1df>=this['x']&&_0x2dfb43<=this['y']+this[_0x40f59c(0x19d)]-0x1&&_0x2dfb43>=this['y'])){if(world[_0x40f59c(0x359)][_0x40f59c(0x41d)][_0x13f1df]&&world[_0x40f59c(0x359)][_0x40f59c(0x41d)][_0x13f1df][_0x2dfb43])_0x5bf50d['push'](world[_0x40f59c(0x359)][_0x40f59c(0x41d)][_0x13f1df][_0x2dfb43]);}return _0x5bf50d;},this[_0x461449(0x58a)]=()=>{var _0x5949b9=_0x461449,_0x448e9f=[];for(var _0x4d4a8d=this['x'];_0x4d4a8d<this['x']+this[_0x5949b9(0x19d)];_0x4d4a8d++)for(var _0x375e00=this['y'];_0x375e00<this['y']+this[_0x5949b9(0x19d)];_0x375e00++)_0x448e9f['push'](world['map'][_0x5949b9(0x41d)][_0x4d4a8d][_0x375e00]);},this[_0x461449(0x199)]=_0x264ced=>{var _0x1b1544=_0x461449;if(!_0x264ced||!_0x264ced['block'])return undefined;var _0x246e8d=0x1,_0x5145c4=0x1;_0x264ced[_0x1b1544(0x3f7)]&&(_0x246e8d=_0x264ced[_0x1b1544(0x3f7)]['rangeMin']?_0x264ced[_0x1b1544(0x3f7)][_0x1b1544(0x275)]:0x1,_0x5145c4=_0x264ced[_0x1b1544(0x3f7)][_0x1b1544(0x221)]?_0x264ced[_0x1b1544(0x3f7)][_0x1b1544(0x221)]:0x1);if(_0x246e8d>_0x5145c4){var _0x41f0e9=_0x246e8d;_0x246e8d=_0x5145c4,_0x5145c4=_0x41f0e9;}var _0x5a1244=[],_0x408ee0=_0x264ced[_0x1b1544(0x488)],_0x5f1582=this['get_direction_from_pos'](_0x408ee0),_0xbad1af=-0x1,_0x4e8e9d=_0x408ee0['x'],_0x3d02d7=_0x408ee0['y'],_0x2e15cb=world['map']['mapBlock'];while(++_0xbad1af<=_0x5145c4){if(_0xbad1af>=_0x246e8d){if(_0x2e15cb[_0x4e8e9d]&&_0x2e15cb[_0x4e8e9d][_0x3d02d7])_0x5a1244[_0x1b1544(0x2a9)](_0x2e15cb[_0x4e8e9d][_0x3d02d7]);}_0x4e8e9d+=_0x5f1582[0x0],_0x3d02d7+=_0x5f1582[0x1];}return _0x5a1244;},this['getBlocksAtRange']=_0x4cebbb=>{var _0x429c62=_0x461449;if(!_0x4cebbb||!_0x4cebbb[_0x429c62(0x488)])return undefined;var _0x3ee12f=0x1,_0x3ba681=0x1;_0x4cebbb[_0x429c62(0x3f7)]&&(_0x3ee12f=_0x4cebbb[_0x429c62(0x3f7)][_0x429c62(0x275)]?_0x4cebbb[_0x429c62(0x3f7)][_0x429c62(0x275)]:0x1,_0x3ba681=_0x4cebbb['data'][_0x429c62(0x221)]?_0x4cebbb['data']['rangeMax']:0x1);if(_0x3ee12f>_0x3ba681){var _0x5f1e00=_0x3ee12f;_0x3ee12f=_0x3ba681,_0x3ba681=_0x5f1e00;}var _0x243bad=[],_0x110999=_0x4cebbb[_0x429c62(0x488)],_0x39271a=world[_0x429c62(0x359)]['mapBlock'];for(var _0x172562=_0x110999['x']-_0x3ba681;_0x172562<=_0x110999['x']+_0x3ba681;_0x172562++){for(var _0x2de495=_0x110999['y']-_0x3ba681;_0x2de495<=_0x110999['y']+_0x3ba681;_0x2de495++){var _0x5e441d=dist(_0x110999['x'],_0x110999['y'],_0x172562,_0x2de495);if(_0x5e441d<_0x3ee12f||_0x5e441d>_0x3ba681)continue;if(_0x39271a[_0x172562]&&_0x39271a[_0x172562][_0x2de495])_0x243bad[_0x429c62(0x2a9)](_0x39271a[_0x172562][_0x2de495]);}}return _0x243bad;},this[_0x461449(0x309)]=_0x477901=>{var _0x392a43=_0x461449;if(!_0x477901||_0x477901['rangeMin']==undefined||_0x477901[_0x392a43(0x221)]==undefined)return[];var _0x1afbf2=[],_0x5e08c5=this,_0x5ef4d0=_0x477901[_0x392a43(0x275)],_0x43a049=_0x477901[_0x392a43(0x221)];for(var _0x900b7f=_0x5e08c5['x']-_0x43a049;_0x900b7f<_0x5e08c5['x']+_0x5e08c5[_0x392a43(0x19d)]+_0x43a049;_0x900b7f++)for(var _0x4b768c=_0x5e08c5['y']-_0x43a049;_0x4b768c<_0x5e08c5['y']+_0x5e08c5[_0x392a43(0x19d)]+_0x43a049;_0x4b768c++)if(_0x900b7f<=_0x5e08c5['x']-_0x5ef4d0||_0x900b7f>=_0x5e08c5['x']+_0x5e08c5[_0x392a43(0x19d)]+_0x5ef4d0-0x1||_0x4b768c<=_0x5e08c5['y']-_0x5ef4d0||_0x4b768c>=_0x5e08c5['y']+_0x5e08c5[_0x392a43(0x19d)]+_0x5ef4d0-0x1){if(world[_0x392a43(0x359)][_0x392a43(0x41d)][_0x900b7f]&&world[_0x392a43(0x359)][_0x392a43(0x41d)][_0x900b7f][_0x4b768c])_0x1afbf2[_0x392a43(0x2a9)](world['map'][_0x392a43(0x41d)][_0x900b7f][_0x4b768c]);}return _0x1afbf2;},this[_0x461449(0x4fb)]=_0x403a61=>{var _0x4524d8=_0x461449;if(!_0x403a61||!_0x403a61['block'])return undefined;var _0x1e68ca=_0x403a61['block'],_0x11cce2=this['x']+this[_0x4524d8(0x19d)]/0x2,_0x46f9d4=this['y']+this[_0x4524d8(0x19d)]/0x2;_0x102d07=_0x1e68ca['x']-_0x11cce2+0.5,_0x4cc435=_0x1e68ca['y']-_0x46f9d4+0.5;return Math[_0x4524d8(0x393)](_0x102d07*_0x102d07+_0x4cc435*_0x4cc435);if(_0x1e68ca[_0x4524d8(0x4a3)]==this)return 0x0;var _0x102d07;if(this['x']>=_0x1e68ca['x']&&this['x']+this[_0x4524d8(0x19d)]-0x1<=_0x1e68ca['x'])_0x102d07=0x0;else{if(this['x']<_0x1e68ca['x'])_0x102d07=this['x']-_0x1e68ca['x'];else _0x102d07=this['x']+this[_0x4524d8(0x19d)]-_0x1e68ca['x']-0x1;}var _0x4cc435;if(this['y']>=_0x1e68ca['y']&&this['y']+this['size']-0x1<=_0x1e68ca['y'])_0x4cc435=0x0;else{if(this['x']<_0x1e68ca['x'])_0x4cc435=this['y']-_0x1e68ca['y'];else _0x4cc435=this['y']+this[_0x4524d8(0x19d)]-_0x1e68ca['y']-0x1;}return Math[_0x4524d8(0x393)](_0x102d07*_0x102d07+_0x4cc435*_0x4cc435);},this[_0x461449(0x3ea)]=_0x4b2c81=>{var _0x45214b=_0x461449;if(!_0x4b2c81||!_0x4b2c81[_0x45214b(0x275)]||!_0x4b2c81['rangeMax'])return[];var _0x1a7796=[],_0x1a02c3=this,_0xe0375b=_0x1a02c3['x']+_0x1a02c3[_0x45214b(0x19d)]/0x2-0.5,_0x36d0bf=_0x1a02c3['y']+_0x1a02c3[_0x45214b(0x19d)]/0x2-0.5,_0xc45d97=_0x4b2c81[_0x45214b(0x275)]+_0x1a02c3[_0x45214b(0x19d)]/0x2-0.5,_0x2365c0=_0x4b2c81['rangeMax']+_0x1a02c3[_0x45214b(0x19d)]/0x2-0.5;for(var _0x4e97c6=Math[_0x45214b(0x295)](_0x1a02c3['x']-_0x2365c0);_0x4e97c6<=Math[_0x45214b(0x3db)](_0x1a02c3['x']+_0x1a02c3[_0x45214b(0x19d)]-0x1+_0x2365c0);_0x4e97c6++){for(var _0x297a10=Math[_0x45214b(0x295)](_0x1a02c3['y']-_0x2365c0);_0x297a10<=Math[_0x45214b(0x3db)](_0x1a02c3['y']+_0x1a02c3[_0x45214b(0x19d)]-0x1+_0x2365c0);_0x297a10++){if(!world[_0x45214b(0x359)][_0x45214b(0x41d)][_0x4e97c6]||!world[_0x45214b(0x359)][_0x45214b(0x41d)][_0x4e97c6][_0x297a10])continue;var _0x3d28be=this[_0x45214b(0x4fb)]({'block':world[_0x45214b(0x359)][_0x45214b(0x41d)][_0x4e97c6][_0x297a10]});if(world[_0x45214b(0x359)][_0x45214b(0x41d)][_0x4e97c6]&&world[_0x45214b(0x359)][_0x45214b(0x41d)][_0x4e97c6][_0x297a10]&&_0x3d28be<=_0x2365c0&&_0x3d28be>=_0xc45d97)_0x1a7796[_0x45214b(0x2a9)](world[_0x45214b(0x359)][_0x45214b(0x41d)][_0x4e97c6][_0x297a10]);}}return _0x1a7796;},this[_0x461449(0x28a)]=_0x5d5998=>{var _0x1218d5=_0x461449;if(!this[_0x1218d5(0x3f5)])this[_0x1218d5(0x3f5)]=PLAYER_FACE_IMG[Math['floor'](Math[_0x1218d5(0x471)]()*PLAYER_FACE_IMG[_0x1218d5(0x1e9)])];if(!this['body_type'])this['body_type']=PLAYER_BODY_IMG[Math['floor'](Math[_0x1218d5(0x471)]()*PLAYER_BODY_IMG[_0x1218d5(0x1e9)])];var _0x4f6275=[];_0x4f6275[_0x1218d5(0x2a9)]({'name':this[_0x1218d5(0x4df)],'needColor':!![]}),_0x4f6275[_0x1218d5(0x2a9)]({'name':this[_0x1218d5(0x3f5)],'needColor':![]});if(this[_0x1218d5(0x4b8)])_0x4f6275[_0x1218d5(0x2a9)]({'name':this['armor'][_0x1218d5(0x362)],'needColor':![]});for(var _0x2127bb in _0x4f6275)if(!_0x5d5998[_0x4f6275[_0x2127bb]['name']]||!_0x5d5998[_0x4f6275[_0x2127bb][_0x1218d5(0x362)]]['ready'])return console[_0x1218d5(0x4a1)](_0x1218d5(0x558)+_0x4f6275[_0x2127bb]['name']);var _0x38b207=document['createElement'](_0x1218d5(0x33d));_0x38b207['width']=PLAYER_DEFAULT_SIZEX,_0x38b207[_0x1218d5(0x2ce)]=PLAYER_DEFAULT_SIZEY;var _0x1a3d7f=_0x38b207[_0x1218d5(0x3f2)]('2d');for(var _0x2127bb in _0x4f6275){var _0x377655=_0x4f6275[_0x2127bb][_0x1218d5(0x362)];if(!_0x5d5998[_0x377655])return;var _0x5bf101=undefined;if(_0x4f6275[_0x2127bb][_0x1218d5(0x5f1)])_0x5bf101=_0x5d5998[_0x377655][_0x1218d5(0x4e9)](0x0,0xff,0x0,this[_0x1218d5(0x4a5)]['r'],this[_0x1218d5(0x4a5)]['g'],this[_0x1218d5(0x4a5)]['b']);else _0x5bf101=_0x5d5998[_0x377655][_0x1218d5(0x345)];if(!_0x5bf101||!_0x5bf101[_0x1218d5(0x36b)])return![];_0x1a3d7f['drawImage'](_0x5bf101,0x0,0x0);}var _0x5bf101=new Image();_0x5bf101[_0x1218d5(0x47c)]=_0x38b207[_0x1218d5(0x351)](),_0x5bf101['decode']()[_0x1218d5(0x223)](()=>{var _0x57ab57=_0x1218d5;console['log'](_0x57ab57(0x43a)),this[_0x57ab57(0x1bd)]=!![];if(world[_0x57ab57(0x517)])world[_0x57ab57(0x517)]['needRedraw']=!![];if(world[_0x57ab57(0x21e)])world[_0x57ab57(0x21e)][_0x57ab57(0x21b)]=!![];}),this[_0x1218d5(0x38d)]=_0x5bf101;if(!_0x5d5998[_0x1218d5(0x5db)]||!_0x5d5998['hand'][_0x1218d5(0x345)]['complete'])return![];var _0x5bf101=_0x5d5998['hand'][_0x1218d5(0x4e9)](0x0,0xff,0x0,this[_0x1218d5(0x4a5)]['r'],this[_0x1218d5(0x4a5)]['g'],this[_0x1218d5(0x4a5)]['b']);if(!_0x5bf101)return![];return this[_0x1218d5(0x31e)]=_0x5bf101,!![];},this[_0x461449(0x549)]=_0x271e72=>{var _0x5c6a3b=_0x461449;if(_0x271e72['block'])_0x271e72=_0x271e72[_0x5c6a3b(0x488)];var _0x126c5a=Math[_0x5c6a3b(0x40d)](-(_0x271e72['y']-this['y']-this['size']/0x2+0.5),_0x271e72['x']-this['x']-this[_0x5c6a3b(0x19d)]/0x2+0.5);if(_0x126c5a>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0x126c5a>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0x126c5a>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0x126c5a>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0x126c5a>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0x126c5a>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0x126c5a>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0x126c5a>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0x126c5a>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x461449(0x24f)]=_0x768f0f=>{var _0x33ffce=_0x461449,_0x3da64f=_0x768f0f[_0x33ffce(0x488)];if(!_0x3da64f||_0x3da64f['x']==undefined||_0x3da64f['y']==undefined)return![];var _0x14e16b=this['get_direction_from_pos'](_0x3da64f);if(_0x14e16b)this[_0x33ffce(0x1ba)]=_0x14e16b;else return![];return!![];},this[_0x461449(0x2d4)]=(_0x48216e,_0x4e0ef4)=>{var _0x13491c=_0x461449;for(var _0x4cde82=this['x'];_0x4cde82<this['x']+this[_0x13491c(0x19d)];_0x4cde82++)for(var _0x58696c=this['y'];_0x58696c<this['y']+this['size'];_0x58696c++)_0x4e0ef4[_0x13491c(0x41d)][_0x4cde82][_0x58696c][_0x13491c(0x4a3)]=undefined;for(var _0x4cde82=_0x48216e['x'];_0x4cde82<_0x48216e['x']+this[_0x13491c(0x19d)];_0x4cde82++){for(var _0x58696c=_0x48216e['y'];_0x58696c<_0x48216e['y']+this['size'];_0x58696c++){_0x4e0ef4[_0x13491c(0x41d)][_0x4cde82][_0x58696c]['player']=this;}}this['x']=_0x48216e['x'],this['y']=_0x48216e['y'];},this[_0x461449(0x5a9)]=_0xc5010e=>{var _0x5587c3=_0x461449;if(!_0xc5010e||!_0xc5010e[_0x5587c3(0x488)]||_0xc5010e[_0x5587c3(0x488)]['x']==undefined||_0xc5010e[_0x5587c3(0x488)]['y']==undefined)return console[_0x5587c3(0x4a1)](_0x5587c3(0x35a)),![];var _0xf72519={'x':_0xc5010e[_0x5587c3(0x488)]['x'],'y':_0xc5010e[_0x5587c3(0x488)]['y']},_0x27ffd3=world['map'];if(_0xf72519['x']+this['size']-0x1>=_0x27ffd3['width']||_0xf72519['x']<0x0||_0xf72519['y']<0x0||_0xf72519['y']+this[_0x5587c3(0x19d)]-0x1>=_0x27ffd3[_0x5587c3(0x2ce)])return console[_0x5587c3(0x4a1)](_0x5587c3(0x315)+[_0xf72519['x'],_0xf72519['y']]),![];var _0x3cd15e;if(_0xf72519['x']==this['x']-0x1&&_0xf72519['y']>=this['y']&&this['y']+this[_0x5587c3(0x19d)]>_0xf72519['y'])_0xf72519['y']=this['y'],_0x3cd15e=_0x5587c3(0x45a);else{if(_0xf72519['y']==this['y']-0x1&&_0xf72519['x']>=this['x']&&this['x']+this[_0x5587c3(0x19d)]>_0xf72519['x'])_0xf72519['x']=this['x'],_0x3cd15e='top';else{if(_0xf72519['x']==this['x']+this['size']&&_0xf72519['y']>=this['y']&&this['y']+this[_0x5587c3(0x19d)]>_0xf72519['y'])_0xf72519['y']=this['y'],_0xf72519['x']=this['x']+0x1,_0x3cd15e='right';else{if(_0xf72519['y']==this['y']+this[_0x5587c3(0x19d)]&&_0xf72519['x']>=this['x']&&this['x']+this['size']>_0xf72519['x'])_0xf72519['x']=this['x'],_0xf72519['y']=this['y']+0x1,_0x3cd15e=_0x5587c3(0x2d0);else return console[_0x5587c3(0x4a1)](_0x5587c3(0x2e1)+[this['x'],this['y'],_0xf72519['x'],_0xf72519['y']]),![];}}}for(var _0x55af83=_0xf72519['x'];_0x55af83<_0xf72519['x']+this[_0x5587c3(0x19d)];_0x55af83++){for(var _0x35ff87=_0xf72519['y'];_0x35ff87<_0xf72519['y']+this[_0x5587c3(0x19d)];_0x35ff87++){if(!this[_0x5587c3(0x526)]&&_0x27ffd3[_0x5587c3(0x41d)][_0x55af83][_0x35ff87]['player']&&_0x27ffd3[_0x5587c3(0x41d)][_0x55af83][_0x35ff87][_0x5587c3(0x4a3)]!=this||this[_0x5587c3(0x526)]&&_0x27ffd3[_0x5587c3(0x41d)][_0x55af83][_0x35ff87][_0x5587c3(0x4a3)]&&this[_0x5587c3(0x5ca)]!=_0x27ffd3['mapBlock'][_0x55af83][_0x35ff87][_0x5587c3(0x4a3)])return console['log'](_0x5587c3(0x2fa)+[this[_0x5587c3(0x526)],this['ghostFrom'],this[_0x5587c3(0x5ca)]==_0x27ffd3[_0x5587c3(0x41d)][_0x55af83][_0x35ff87][_0x5587c3(0x4a3)]]),![];}}var _0x254808=world[_0x5587c3(0x359)]['CostMovingPlayer']({'player':this,'dir':_0x3cd15e});if(_0x254808===![])return console['log'](_0x5587c3(0x4fd)+[_0xf72519['x'],_0xf72519['y']]),![];return{'dir':_0x3cd15e,'cost':Math[_0x5587c3(0x295)](_0x254808*this[_0x5587c3(0x1e5)])};},this[_0x461449(0x2ac)]=_0x532888=>{var _0x612105=_0x461449,_0x29eac2=this[_0x612105(0x5a9)](_0x532888);if(_0x29eac2)return _0x29eac2[_0x612105(0x1be)];return![];},this['GetMoveDir']=_0x3b2f21=>{var _0x348468=_0x461449,_0x37862c=this[_0x348468(0x5a9)](_0x3b2f21);if(_0x37862c)return _0x37862c[_0x348468(0x1ba)];return![];},this[_0x461449(0x36d)]=_0x30091b=>{var _0x239bc8=_0x461449;if(!_0x30091b||!_0x30091b[_0x239bc8(0x488)]||_0x30091b[_0x239bc8(0x488)]['x']==undefined||_0x30091b[_0x239bc8(0x488)]['y']==undefined)return![];var _0x5a8bd7=this[_0x239bc8(0x5a9)](_0x30091b);if(_0x5a8bd7===![]||_0x5a8bd7[_0x239bc8(0x1be)]>this[_0x239bc8(0x1d8)])return![];var _0x43344e=undefined;switch(_0x5a8bd7[_0x239bc8(0x1ba)]){case _0x239bc8(0x342):_0x43344e=[0x1,0x0];break;case _0x239bc8(0x45a):_0x43344e=[-0x1,0x0];break;case _0x239bc8(0x1d6):_0x43344e=[0x0,-0x1];break;case'bot':_0x43344e=[0x0,0x1];break;default:console['log']('wrong\x20direction');return![];}this[_0x239bc8(0x1d8)]-=_0x5a8bd7['cost'];var _0x56c1ea={'type':_0x239bc8(0x54d),'mode':PLAYER_ANIMATION_MOVING,'dir':_0x43344e,'from':[this['x'],this['y']],'duration':0x1f4};this[_0x239bc8(0x217)][_0x239bc8(0x2a9)](_0x56c1ea),this['dir']=_0x43344e;var _0x51289c={'x':this['x']+_0x43344e[0x0],'y':this['y']+_0x43344e[0x1]};return this[_0x239bc8(0x2d4)](_0x51289c,world[_0x239bc8(0x359)]),!![];},this[_0x461449(0x456)]=_0x1119d6=>{var _0x23184a=_0x461449;if(!_0x1119d6||!_0x1119d6[_0x23184a(0x488)])return'no\x20block';var _0x543a09=_0x1119d6['block'];if(!_0x543a09[_0x23184a(0x4a3)]||_0x543a09['player']==this)return _0x23184a(0x450);var _0x238ca1=_0x543a09['player'],_0x3e4e79=Math[_0x23184a(0x40d)](_0x238ca1[_0x23184a(0x1ba)][0x1],_0x238ca1[_0x23184a(0x1ba)][0x0]),_0x559e69=Math['atan2'](this['y']+this[_0x23184a(0x19d)]/0x2-_0x238ca1['y']-_0x238ca1[_0x23184a(0x19d)]/0x2,this['x']+this[_0x23184a(0x19d)]/0x2-_0x238ca1['x']-_0x238ca1['size']/0x2),_0x477a22=_0x3e4e79-_0x559e69;while(_0x477a22>Math['PI'])_0x477a22-=0x2*Math['PI'];while(_0x477a22<-Math['PI'])_0x477a22+=0x2*Math['PI'];_0x477a22=Math[_0x23184a(0x389)](_0x477a22);var _0x8cd88f=0x28+(0x50-0x28)*(_0x477a22/Math['PI']);return Math[_0x23184a(0x295)](_0x8cd88f*0x64)/0x64;},this[_0x461449(0x490)]=_0x1c1edf=>{var _0x57913a=_0x461449;if(!_0x1c1edf||!_0x1c1edf[_0x57913a(0x488)])return![];var _0x53cb43=undefined,_0x595f85=[];if(this[_0x57913a(0x498)]){if(this[_0x57913a(0x1d8)]<this[_0x57913a(0x498)]['actionCost'])return![];world[_0x57913a(0x34a)][_0x57913a(0x1ed)][_0x57913a(0x225)]({'type':this[_0x57913a(0x23b)],'txt':this[_0x57913a(0x362)]+_0x57913a(0x1a6)+this[_0x57913a(0x498)][_0x57913a(0x362)]});for(var _0x5b81fa in this[_0x57913a(0x498)][_0x57913a(0x1a7)]){var _0x354857=this[_0x57913a(0x498)][_0x57913a(0x1a7)][_0x5b81fa],_0x4b980b={..._0x1c1edf};_0x4b980b[_0x57913a(0x3f7)]=_0x354857[_0x57913a(0x595)];var _0x2fcd35=this[_0x354857[_0x57913a(0x394)]](_0x4b980b);console[_0x57913a(0x4a1)](_0x57913a(0x241)+_0x5b81fa),console['log']('selector\x20:\x20'+_0x354857[_0x57913a(0x394)]);if(!_0x2fcd35||_0x2fcd35[_0x57913a(0x1e9)]<0x1)continue;console[_0x57913a(0x4a1)]('add\x20some\x20blocks\x20'+_0x2fcd35[_0x57913a(0x1e9)]),_0x595f85[_0x57913a(0x2a9)]({'blocks':_0x2fcd35,'damage':_0x354857[_0x57913a(0x5b0)]});}}else{if(this['ActionPoint']<AP_COST_NOWEAPON)return![];world[_0x57913a(0x34a)]['MessageSystem']['addMessage']({'type':this[_0x57913a(0x23b)],'txt':this[_0x57913a(0x362)]+_0x57913a(0x1e2)}),_0x595f85=[{'blocks':[_0x1c1edf['block']],'damage':[{'stats':_0x57913a(0x57c),'type':_0x57913a(0x1ab),'value':0x1}]}];}for(var _0x5b81fa in _0x595f85){var _0x211789=_0x595f85[_0x5b81fa],_0xfef353=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x211789[_0x57913a(0x32f)]}),_0x3013a9=!![];if(!_0xfef353||_0xfef353[_0x57913a(0x1e9)]<0x1)continue;for(var _0x324f48 in _0x211789['blocks']){var _0x45ef3f=_0x211789[_0x57913a(0x5cb)][_0x324f48];if(!_0x45ef3f||!_0x45ef3f['player'])continue;var _0x5ac313=this[_0x57913a(0x456)]({'block':_0x45ef3f}),_0x1ce6da=!![];if(Math[_0x57913a(0x295)](Math[_0x57913a(0x471)]()*0x64)>_0x5ac313)_0x1ce6da=![];if(_0x1ce6da)_0x3013a9=![],_0x45ef3f[_0x57913a(0x4a3)][_0x57913a(0x5ba)](_0xfef353);else{world[_0x57913a(0x34a)][_0x57913a(0x1ed)][_0x57913a(0x225)]({'txt':this[_0x57913a(0x362)]+_0x57913a(0x483)+_0x5ac313+'%)'});var _0x47804b={'type':'dodge','mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x57913a(0x471)]()*0x2*Math['PI']};_0x45ef3f[_0x57913a(0x4a3)][_0x57913a(0x217)]['push'](_0x47804b);}}}var _0x45f252={'type':_0x57913a(0x490),'mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0x1c1edf['block']['x'],_0x1c1edf[_0x57913a(0x488)]['y']],'from':[this['x'],this['y']],'duration':0x1f4};this[_0x57913a(0x498)]&&this[_0x57913a(0x498)][_0x57913a(0x5e8)]&&(_0x45f252[_0x57913a(0x5e8)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0x1c1edf['block']['x']+0.5,'y':_0x1c1edf['block']['y']+0.5},'projectilName':this[_0x57913a(0x498)]['projectil'][_0x57913a(0x1dc)]?this[_0x57913a(0x498)][_0x57913a(0x5e8)][_0x57913a(0x1dc)]:undefined,'projectilSpeed':this[_0x57913a(0x498)][_0x57913a(0x5e8)][_0x57913a(0x3d4)]?this[_0x57913a(0x498)][_0x57913a(0x5e8)][_0x57913a(0x3d4)]:0x32,'sound':this[_0x57913a(0x498)][_0x57913a(0x5e8)][_0x57913a(0x212)]&&!_0x3013a9?this[_0x57913a(0x498)][_0x57913a(0x5e8)]['sound']:undefined});this[_0x57913a(0x217)]['push'](_0x45f252);if(this['weapon']){var _0x4adac6=PLAYER_WEAPON_IMG[_0x57913a(0x521)](_0x32e931=>_0x32e931[_0x57913a(0x362)]==this[_0x57913a(0x498)][_0x57913a(0x345)]);world[_0x57913a(0x4ec)][_0x57913a(0x258)](_0x4adac6[_0x57913a(0x212)]),this[_0x57913a(0x1d8)]-=this[_0x57913a(0x498)][_0x57913a(0x585)];}else world['Music'][_0x57913a(0x258)](_0x57913a(0x3a9)),this[_0x57913a(0x1d8)]-=AP_COST_NOWEAPON;return this[_0x57913a(0x1ba)]=this[_0x57913a(0x549)](_0x1c1edf[_0x57913a(0x488)]),!![];},this[_0x461449(0x41c)]=(_0x45e672,_0x23586a,_0x43a879,_0x2dd301)=>{var _0x38f2b5=_0x461449,_0x33c4c1=new Date()[_0x38f2b5(0x248)]();while(this[_0x38f2b5(0x217)]&&this['animation'][0x0]){!this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)]&&(this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)]=new Date()[_0x38f2b5(0x248)]());if(_0x33c4c1>this[_0x38f2b5(0x217)][0x0]['startTime']+this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x231)]){if(this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5e8)])world[_0x38f2b5(0x34a)][_0x38f2b5(0x2e8)](this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5e8)]);this[_0x38f2b5(0x217)][_0x38f2b5(0x228)](),this['needUIRedraw']=!![];}else break;}if(!this[_0x38f2b5(0x1bd)]||!this['bodyPartImg'])return![];if(this['weapon']){var _0xaf6732=world[_0x38f2b5(0x247)][this[_0x38f2b5(0x498)][_0x38f2b5(0x362)]],_0x2071cc=PLAYER_WEAPON_IMG[_0x38f2b5(0x521)](_0x46f4da=>_0x46f4da[_0x38f2b5(0x362)]==this['weapon'][_0x38f2b5(0x345)]);if(!_0xaf6732||!_0x2071cc)return console[_0x38f2b5(0x4a1)](_0x38f2b5(0x280)+this['weapon'][_0x38f2b5(0x362)]);_0x2071cc=_0x2071cc[_0x38f2b5(0x2c9)];}if(!this['animation']||!this[_0x38f2b5(0x217)][0x0]){var _0x1288ed=Math[_0x38f2b5(0x295)](_0x23586a+this['size']*_0x2dd301[_0x38f2b5(0x548)]/0x2),_0x4e739e=Math[_0x38f2b5(0x295)](_0x43a879+this['size']*_0x2dd301[_0x38f2b5(0x286)]/0x2),_0x3bdbaa=Math[_0x38f2b5(0x40d)](this[_0x38f2b5(0x1ba)][0x0],-this[_0x38f2b5(0x1ba)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math['cos'](_0x33c4c1/0x1f4));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x38d)],_0x1288ed,_0x4e739e,_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x3bdbaa);var _0x41cc26=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x12c)),_0x5f0957=Math['floor'](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x41cc26+_0x3bdbaa-Math['PI']/0x2)),_0x53e454=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this['size']*Math['sin'](_0x41cc26+_0x3bdbaa-Math['PI']/0x2)),_0x1f791a=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](-_0x41cc26+_0x3bdbaa+Math['PI']/0x2)),_0x3ed3ab=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](-_0x41cc26+_0x3bdbaa+Math['PI']/0x2));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e+_0x53e454,_0x2dd301[_0x38f2b5(0x24b)],_0x41cc26+_0x3bdbaa);if(this[_0x38f2b5(0x498)])_0x45e672[_0x38f2b5(0x1e3)](_0xaf6732[_0x38f2b5(0x345)],_0x1288ed+_0x1f791a,_0x4e739e+_0x3ed3ab,_0x2071cc['x'],_0x2071cc['y'],_0x2dd301[_0x38f2b5(0x24b)],-_0x41cc26+_0x3bdbaa);_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x1f791a,_0x4e739e+_0x3ed3ab,0x14,0x14,-_0x2dd301['scale'],+_0x41cc26-_0x3bdbaa);}else{if(this[_0x38f2b5(0x217)]&&this[_0x38f2b5(0x217)][0x0]&&this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1de)]==PLAYER_ANIMATION_MOVING){var _0x150eca=this['animation'][0x0];pos=_0x2dd301[_0x38f2b5(0x2be)](_0x150eca[_0x38f2b5(0x216)][0x0]+_0x150eca['dir'][0x0],_0x150eca['from'][0x1]+_0x150eca[_0x38f2b5(0x1ba)][0x1]);var _0x1288ed=Math[_0x38f2b5(0x295)](pos['x']+this['size']*_0x2dd301[_0x38f2b5(0x548)]/0x2),_0x4e739e=Math['floor'](pos['y']+this[_0x38f2b5(0x19d)]*_0x2dd301[_0x38f2b5(0x286)]/0x2);world[_0x38f2b5(0x4ec)]['playSound']('move');var _0x21ba86=[this['animation'][0x0][_0x38f2b5(0x1ba)][0x0],this['animation'][0x0]['dir'][0x1]],_0x3315b5=0x1-(_0x33c4c1-this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)])/this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x231)];_0x1288ed-=_0x21ba86[0x0]*_0x2dd301[_0x38f2b5(0x548)]*_0x3315b5,_0x4e739e-=_0x21ba86[0x1]*_0x2dd301[_0x38f2b5(0x286)]*_0x3315b5;var _0x3bdbaa=Math[_0x38f2b5(0x40d)](_0x21ba86[0x0],-_0x21ba86[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x64));_0x45e672[_0x38f2b5(0x259)](this['bodyPartImg'],_0x1288ed,_0x4e739e,_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x3bdbaa);var _0x5e9d54=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x64))+_0x3bdbaa,_0x3bdc6e=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x38f2b5(0x308)](_0x33c4c1/0x64))-_0x3bdbaa,_0x5f0957=Math['floor'](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x5e9d54-Math['PI']/0x2)),_0x53e454=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](_0x5e9d54-Math['PI']/0x2)),_0x15a650=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x3bdc6e-Math['PI']/0x2)),_0x4f0bc1=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this['size']*Math[_0x38f2b5(0x308)](_0x3bdc6e-Math['PI']/0x2));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e+_0x53e454,_0x2dd301['scale'],_0x5e9d54);if(this[_0x38f2b5(0x498)])_0x45e672[_0x38f2b5(0x1e3)](_0xaf6732[_0x38f2b5(0x345)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,_0x2071cc['x'],_0x2071cc['y'],_0x2dd301[_0x38f2b5(0x24b)],-_0x3bdc6e);_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,0x14,0x14,_0x2dd301[_0x38f2b5(0x24b)],_0x3bdc6e+Math['PI']);}else{if(this[_0x38f2b5(0x217)]&&this[_0x38f2b5(0x217)][0x0]&&this['animation'][0x0]['mode']==PLAYER_ANIMATION_DODGE){var _0x150eca=this['animation'][0x0],_0x3315b5=0x1-(_0x33c4c1-_0x150eca['startTime'])/_0x150eca[_0x38f2b5(0x231)];_0x3315b5=_0x3315b5<0.5?0x0:_0x3315b5>0.75?0x1-(_0x3315b5-0.5)*0x2:(_0x3315b5-0.5)*0x2;var _0x20b620=_0x3315b5*Math[_0x38f2b5(0x2d1)](_0x150eca[_0x38f2b5(0x2dd)])*0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x2d62d5=_0x3315b5*Math[_0x38f2b5(0x308)](_0x150eca[_0x38f2b5(0x2dd)])*0x64*_0x2dd301[_0x38f2b5(0x24b)]*this['size'],_0x1288ed=_0x20b620+Math[_0x38f2b5(0x295)](_0x23586a+this[_0x38f2b5(0x19d)]*_0x2dd301[_0x38f2b5(0x548)]/0x2),_0x4e739e=_0x2d62d5+Math[_0x38f2b5(0x295)](_0x43a879+this['size']*_0x2dd301[_0x38f2b5(0x286)]/0x2),_0x3bdbaa=Math[_0x38f2b5(0x40d)](this[_0x38f2b5(0x1ba)][0x0],-this[_0x38f2b5(0x1ba)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math['cos'](_0x33c4c1/0x1f4));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x38d)],_0x1288ed,_0x4e739e,_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x3bdbaa);var _0x41cc26=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x12c)),_0x5f0957=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math['cos'](_0x41cc26+_0x3bdbaa-Math['PI']/0x2)),_0x53e454=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](_0x41cc26+_0x3bdbaa-Math['PI']/0x2)),_0x1f791a=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](-_0x41cc26+_0x3bdbaa+Math['PI']/0x2)),_0x3ed3ab=Math['floor'](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](-_0x41cc26+_0x3bdbaa+Math['PI']/0x2));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e+_0x53e454,_0x2dd301[_0x38f2b5(0x24b)],_0x41cc26+_0x3bdbaa);if(this[_0x38f2b5(0x498)])_0x45e672[_0x38f2b5(0x1e3)](_0xaf6732[_0x38f2b5(0x345)],_0x1288ed+_0x1f791a,_0x4e739e+_0x3ed3ab,_0x2071cc['x'],_0x2071cc['y'],_0x2dd301[_0x38f2b5(0x24b)],-_0x41cc26+_0x3bdbaa);_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x1f791a,_0x4e739e+_0x3ed3ab,0x14,0x14,-_0x2dd301['scale'],+_0x41cc26-_0x3bdbaa);}else{if(this['animation']&&this[_0x38f2b5(0x217)][0x0]&&this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1de)]==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this['weapon']){pos=_0x2dd301['get_pixel_by_block'](this[_0x38f2b5(0x217)][0x0]['from'][0x0],this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x216)][0x1]);var _0x1288ed=Math[_0x38f2b5(0x295)](pos['x']+this[_0x38f2b5(0x19d)]*_0x2dd301['blocksize_x']/0x2),_0x4e739e=Math[_0x38f2b5(0x295)](pos['y']+this['size']*_0x2dd301['blocksize_y']/0x2),_0x21ba86=[this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1ba)][0x0]-(this['x']+this['size']/0x2)+0.5,this['animation'][0x0][_0x38f2b5(0x1ba)][0x1]-(this['y']+this[_0x38f2b5(0x19d)]/0x2)+0.5],_0x3315b5=0x1-(_0x33c4c1-this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)])/this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x231)];if(_0x3315b5>0.5)_0x3315b5=0x1-_0x3315b5;_0x1288ed+=_0x21ba86[0x0]*_0x2dd301[_0x38f2b5(0x548)]*_0x3315b5/0x2,_0x4e739e+=_0x21ba86[0x1]*_0x2dd301['blocksize_y']*_0x3315b5/0x2;var _0x3bdbaa=Math[_0x38f2b5(0x40d)](_0x21ba86[0x0],-_0x21ba86[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x64));_0x45e672['drawImageRotate'](this[_0x38f2b5(0x38d)],_0x1288ed,_0x4e739e,_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x3bdbaa);var _0x5e9d54=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x64))+_0x3bdbaa,_0x3bdc6e=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x38f2b5(0x308)](_0x33c4c1/0x64))-_0x3bdbaa,_0x5f0957=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x5e9d54-Math['PI']/0x2)),_0x53e454=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](_0x5e9d54-Math['PI']/0x2)),_0x15a650=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x3bdc6e-Math['PI']/0x2)),_0x4f0bc1=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this['size']*Math[_0x38f2b5(0x308)](_0x3bdc6e-Math['PI']/0x2));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e+_0x53e454,_0x2dd301[_0x38f2b5(0x24b)],_0x5e9d54),_0x45e672['drawImageMirrorRotateCenter'](this[_0x38f2b5(0x31e)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,0x14,0x14,_0x2dd301[_0x38f2b5(0x24b)],_0x3bdc6e+Math['PI']);}else{if(this[_0x38f2b5(0x498)][_0x38f2b5(0x5ea)]=='sword'){pos=_0x2dd301['get_pixel_by_block'](this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x216)][0x0],this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x216)][0x1]);var _0x1288ed=Math[_0x38f2b5(0x295)](pos['x']+this[_0x38f2b5(0x19d)]*_0x2dd301[_0x38f2b5(0x548)]/0x2),_0x4e739e=Math['floor'](pos['y']+this[_0x38f2b5(0x19d)]*_0x2dd301['blocksize_y']/0x2),_0x21ba86=[this[_0x38f2b5(0x217)][0x0]['dir'][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1ba)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x3315b5=0x1-(_0x33c4c1-this[_0x38f2b5(0x217)][0x0]['startTime'])/this['animation'][0x0][_0x38f2b5(0x231)];if(_0x3315b5>0.5)_0x3315b5=0x1-_0x3315b5;_0x1288ed+=_0x21ba86[0x0]*_0x2dd301[_0x38f2b5(0x548)]*_0x3315b5,_0x4e739e+=_0x21ba86[0x1]*_0x2dd301['blocksize_y']*_0x3315b5;var _0x3bdbaa=Math[_0x38f2b5(0x40d)](_0x21ba86[0x0],-_0x21ba86[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x64));_0x45e672[_0x38f2b5(0x259)](this['bodyPartImg'],_0x1288ed,_0x4e739e,_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x3bdbaa);var _0x5e9d54=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math['cos'](_0x33c4c1/0x64))+_0x3bdbaa,_0x3bdc6e=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x38f2b5(0x308)](_0x33c4c1/0x64))-_0x3bdbaa,_0x5f0957=Math['floor'](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math['cos'](_0x5e9d54-Math['PI']/0x2)),_0x53e454=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this['size']*Math['sin'](_0x5e9d54-Math['PI']/0x2)),_0x15a650=Math['floor'](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x3bdc6e-Math['PI']/0x2)),_0x4f0bc1=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math['sin'](_0x3bdc6e-Math['PI']/0x2));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e+_0x53e454,_0x2dd301[_0x38f2b5(0x24b)],_0x5e9d54);if(this[_0x38f2b5(0x498)])_0x45e672['drawImageRotateCenter'](_0xaf6732[_0x38f2b5(0x345)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,_0x2071cc['x'],_0x2071cc['y'],_0x2dd301[_0x38f2b5(0x24b)],-_0x3bdc6e);_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,0x14,0x14,_0x2dd301['scale'],_0x3bdc6e+Math['PI']);}else{if(this[_0x38f2b5(0x498)][_0x38f2b5(0x5ea)]==_0x38f2b5(0x564)){pos=_0x2dd301['get_pixel_by_block'](this[_0x38f2b5(0x217)][0x0]['from'][0x0],this['animation'][0x0]['from'][0x1]);var _0x1288ed=Math[_0x38f2b5(0x295)](pos['x']+this[_0x38f2b5(0x19d)]*_0x2dd301[_0x38f2b5(0x548)]/0x2),_0x4e739e=Math[_0x38f2b5(0x295)](pos['y']+this['size']*_0x2dd301[_0x38f2b5(0x286)]/0x2),_0x21ba86=[this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1ba)][0x0]-(this['x']+this[_0x38f2b5(0x19d)]/0x2)+0.5,this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1ba)][0x1]-(this['y']+this[_0x38f2b5(0x19d)]/0x2)+0.5],_0x3315b5=0x1-(_0x33c4c1-this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)])/this['animation'][0x0][_0x38f2b5(0x231)];if(_0x3315b5>0.5)_0x3315b5=0x1-_0x3315b5;var _0x3bdbaa=Math[_0x38f2b5(0x40d)](_0x21ba86[0x0],-_0x21ba86[0x1])-Math['PI']/0x2;_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x38d)],_0x1288ed,_0x4e739e,_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x3bdbaa);var _0x5e9d54=Math['PI']*0x7/0x10+_0x3bdbaa,_0x3bdc6e=Math['PI']*0x7/0x10-_0x3bdbaa,_0x5f0957=Math[_0x38f2b5(0x295)](0x64*(0x1-_0x3315b5)*_0x2dd301[_0x38f2b5(0x24b)]*this['size']*Math['cos'](_0x5e9d54-Math['PI']/0x2)),_0x53e454=Math['floor'](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](_0x5e9d54-Math['PI']/0x2)),_0x15a650=Math['floor'](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math['cos'](_0x3bdc6e-Math['PI']/0x2)),_0x4f0bc1=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math['sin'](_0x3bdc6e-Math['PI']/0x2));_0x45e672['drawImageRotate'](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e+_0x53e454,_0x2dd301[_0x38f2b5(0x24b)],_0x5e9d54);if(this[_0x38f2b5(0x498)])_0x45e672[_0x38f2b5(0x1e3)](_0xaf6732[_0x38f2b5(0x345)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,_0x2071cc['x'],_0x2071cc['y'],_0x2dd301['scale'],-_0x3bdc6e);_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,0x14,0x14,_0x2dd301[_0x38f2b5(0x24b)],_0x3bdc6e+Math['PI']);}else{if(this['weapon'][_0x38f2b5(0x5ea)]==_0x38f2b5(0x3eb)){pos=_0x2dd301[_0x38f2b5(0x2be)](this['animation'][0x0][_0x38f2b5(0x216)][0x0],this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x216)][0x1]);var _0x1288ed=Math[_0x38f2b5(0x295)](pos['x']+this['size']*_0x2dd301[_0x38f2b5(0x548)]/0x2),_0x4e739e=Math['floor'](pos['y']+this[_0x38f2b5(0x19d)]*_0x2dd301[_0x38f2b5(0x286)]/0x2),_0x21ba86=[this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1ba)][0x0]-(this['x']+this['size']/0x2)+0.5,this['animation'][0x0][_0x38f2b5(0x1ba)][0x1]-(this['y']+this[_0x38f2b5(0x19d)]/0x2)+0.5],_0x3315b5=0x1-(_0x33c4c1-this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)])/this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x231)];if(_0x3315b5>0.5)_0x3315b5=0x1-_0x3315b5;_0x3315b5=_0x3315b5/0x3,_0x1288ed+=_0x21ba86[0x0]*_0x2dd301[_0x38f2b5(0x548)]*_0x3315b5,_0x4e739e+=_0x21ba86[0x1]*_0x2dd301['blocksize_y']*_0x3315b5;var _0x3bdbaa=Math['atan2'](_0x21ba86[0x0],-_0x21ba86[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math['cos'](_0x33c4c1/0x64));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x38d)],_0x1288ed,_0x4e739e,_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)],_0x3bdbaa);var _0x5e9d54=getAngleFromTime(0x0,Math['PI']/0x40,Math[_0x38f2b5(0x2d1)](_0x33c4c1/0x64))+_0x3bdbaa,_0x3bdc6e=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math[_0x38f2b5(0x308)]((_0x33c4c1-this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)])/this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x231)]*1.1*Math['PI']))-_0x3bdbaa,_0x5f0957=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math['cos'](_0x5e9d54-Math['PI']/0x2)),_0x53e454=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](_0x5e9d54-Math['PI']/0x2)),_0x15a650=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x3bdc6e-Math['PI']/0x2)),_0x4f0bc1=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](_0x3bdc6e-Math['PI']/0x2));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e+_0x53e454,_0x2dd301['scale'],_0x5e9d54);if(this[_0x38f2b5(0x498)])_0x45e672[_0x38f2b5(0x1e3)](_0xaf6732[_0x38f2b5(0x345)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,_0x2071cc['x'],_0x2071cc['y'],_0x2dd301[_0x38f2b5(0x24b)],_0x3bdbaa-Math['PI']/0x6);_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,0x14,0x14,_0x2dd301['scale'],_0x3bdc6e+Math['PI']);}else{if(this['weapon'][_0x38f2b5(0x5ea)]==_0x38f2b5(0x5a7)){pos=_0x2dd301['get_pixel_by_block'](this['animation'][0x0][_0x38f2b5(0x216)][0x0],this['animation'][0x0][_0x38f2b5(0x216)][0x1]);var _0x1288ed=Math[_0x38f2b5(0x295)](pos['x']+this[_0x38f2b5(0x19d)]*_0x2dd301[_0x38f2b5(0x548)]/0x2),_0x4e739e=Math[_0x38f2b5(0x295)](pos['y']+this[_0x38f2b5(0x19d)]*_0x2dd301[_0x38f2b5(0x286)]/0x2),_0x21ba86=[this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x1ba)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x38f2b5(0x217)][0x0]['dir'][0x1]-(this['y']+this[_0x38f2b5(0x19d)]/0x2)+0.5],_0x3315b5=0x1-(_0x33c4c1-this['animation'][0x0][_0x38f2b5(0x5f7)])/this['animation'][0x0]['duration'];if(_0x3315b5>0.5)_0x3315b5=0x1-_0x3315b5;_0x3315b5=_0x3315b5/0x3,_0x1288ed+=_0x21ba86[0x0]*_0x2dd301['blocksize_x']*_0x3315b5,_0x4e739e+=_0x21ba86[0x1]*_0x2dd301['blocksize_y']*_0x3315b5;var _0x3bdbaa=Math['atan2'](_0x21ba86[0x0],-_0x21ba86[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math[_0x38f2b5(0x2d1)]((_0x33c4c1-this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)])/this['animation'][0x0]['duration']*0x1*Math['PI']));_0x45e672[_0x38f2b5(0x259)](this[_0x38f2b5(0x38d)],_0x1288ed,_0x4e739e,_0x2dd301['scale']*this['size'],_0x3bdbaa);var _0x3bdc6e=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math[_0x38f2b5(0x2d1)]((_0x33c4c1-this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x5f7)])/this[_0x38f2b5(0x217)][0x0][_0x38f2b5(0x231)]*0x1*Math['PI']))-_0x3bdbaa,_0x5e9d54=_0x3bdc6e-Math['PI']/0x20,_0x5f0957=Math['floor'](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x5e9d54-Math['PI']/0x2)),_0x53e454=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this['size']*Math[_0x38f2b5(0x308)](_0x5e9d54-Math['PI']/0x2)),_0x15a650=Math[_0x38f2b5(0x295)](0x64*_0x2dd301[_0x38f2b5(0x24b)]*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x2d1)](_0x3bdc6e-Math['PI']/0x2)),_0x4f0bc1=Math[_0x38f2b5(0x295)](0x64*_0x2dd301['scale']*this[_0x38f2b5(0x19d)]*Math[_0x38f2b5(0x308)](_0x3bdc6e-Math['PI']/0x2));_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x5f0957,_0x4e739e-_0x53e454,0x14,0x14,_0x2dd301['scale'],_0x5e9d54+Math['PI']);if(this['weapon'])_0x45e672[_0x38f2b5(0x1e3)](_0xaf6732[_0x38f2b5(0x345)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,_0x2071cc['x'],_0x2071cc['y'],_0x2dd301[_0x38f2b5(0x24b)],-_0x3bdc6e);_0x45e672[_0x38f2b5(0x19b)](this[_0x38f2b5(0x31e)],_0x1288ed+_0x15a650,_0x4e739e-_0x4f0bc1,0x14,0x14,_0x2dd301['scale'],_0x3bdc6e+Math['PI']);}}}}}}}}}},this[_0x461449(0x4b4)]=(_0x517f14,_0x10a728,_0x5dd179,_0x179a5f)=>{var _0x5f0f48=_0x461449;console[_0x5f0f48(0x4a1)](_0x5f0f48(0x4ab)+[_0x5dd179['x'],_0x5dd179['y']]+_0x5f0f48(0x47e)+_0x10a728+'AP,\x20i\x20walked\x20'+_0x179a5f[_0x5f0f48(0x1e9)]);var _0x436c84=new Player(_0x5dd179['x'],_0x5dd179['y'],this[_0x5f0f48(0x19d)],this[_0x5f0f48(0x4a5)],this['team']);_0x436c84[_0x5f0f48(0x526)]=!![];if(this[_0x5f0f48(0x5ca)])_0x436c84[_0x5f0f48(0x5ca)]=this[_0x5f0f48(0x5ca)];else _0x436c84[_0x5f0f48(0x5ca)]=this;var _0x458740=[{'x':_0x5dd179['x']+0x1+_0x436c84['size']-0x1,'y':_0x5dd179['y']},{'x':_0x5dd179['x']-0x1,'y':_0x5dd179['y']},{'x':_0x5dd179['x'],'y':_0x5dd179['y']-0x1},{'x':_0x5dd179['x'],'y':_0x5dd179['y']+0x1+_0x436c84[_0x5f0f48(0x19d)]-0x1}];_0x458740=_0x458740[_0x5f0f48(0x525)](_0x1c40a5=>world[_0x5f0f48(0x359)]['mapBlock'][_0x1c40a5['x']]&&world['map'][_0x5f0f48(0x41d)][_0x1c40a5['x']][_0x1c40a5['y']]),console['log'](_0x5f0f48(0x409)+[_0x436c84[_0x5f0f48(0x362)]+_0x436c84['x'],_0x436c84['y']]),_0x458740=_0x458740[_0x5f0f48(0x525)](_0x5d4527=>_0x436c84[_0x5f0f48(0x5a9)]({'block':world['map']['mapBlock'][_0x5d4527['x']][_0x5d4527['y']]}));for(var _0x3d0b19 in _0x458740){var _0x58efad=_0x458740[_0x3d0b19]['x'],_0x5c7c89=_0x458740[_0x3d0b19]['y'],_0x121c2b=world['map'][_0x5f0f48(0x41d)][_0x58efad][_0x5c7c89],_0x536a52=_0x436c84[_0x5f0f48(0x5a9)]({'block':_0x121c2b});if(!_0x536a52||_0x536a52[_0x5f0f48(0x1be)]>_0x10a728)continue;console[_0x5f0f48(0x4a1)](_0x5f0f48(0x355)+[_0x436c84['x'],_0x436c84['y']]+_0x5f0f48(0x5a2)+[_0x58efad,_0x5c7c89]);if(_0x58efad>_0x436c84['x'])_0x58efad=_0x436c84['x']+0x1;if(_0x5c7c89>_0x436c84['y'])_0x5c7c89=_0x436c84['y']+0x1;console[_0x5f0f48(0x4a1)](_0x5f0f48(0x458)+[_0x58efad,_0x5c7c89]);var _0x7c7e58=_0x517f14[_0x5f0f48(0x506)]['find'](_0x5d8770=>_0x5d8770['x']==_0x58efad&&_0x5d8770['y']==_0x5c7c89&&_0x10a728-_0x536a52[_0x5f0f48(0x1be)]<_0x5d8770['AP']);if(!_0x7c7e58){_0x517f14[_0x5f0f48(0x506)]=_0x517f14[_0x5f0f48(0x506)]['filter'](_0x302e1c=>!(_0x302e1c['x']==_0x58efad&&_0x302e1c['y']==_0x5c7c89));if(!_0x517f14[_0x5f0f48(0x506)])continue;var _0x45b1de={'x':_0x58efad,'y':_0x5c7c89,'AP':_0x10a728-_0x536a52['cost'],'path':_0x179a5f[_0x5f0f48(0x416)]([{'x':_0x58efad,'y':_0x5c7c89,'dirx':_0x458740[_0x3d0b19]['x'],'diry':_0x458740[_0x3d0b19]['y']}])};_0x517f14['list'][_0x5f0f48(0x2a9)](_0x45b1de),_0x436c84[_0x5f0f48(0x4b4)](_0x517f14,_0x45b1de['AP'],{'x':_0x58efad,'y':_0x5c7c89},_0x45b1de[_0x5f0f48(0x413)]);}}},this[_0x461449(0x53f)]=()=>{var _0x2fd599=_0x461449,_0x3aa7c4={'list':[{'x':this['x'],'y':this['y'],'AP':this[_0x2fd599(0x1d8)],'path':[]}]};return this[_0x2fd599(0x4b4)](_0x3aa7c4,this['ActionPoint'],this,[]),console[_0x2fd599(0x4a1)](_0x2fd599(0x59b)+_0x3aa7c4[_0x2fd599(0x506)]['length']),_0x3aa7c4[_0x2fd599(0x506)];},this['get_path_to']=(_0x481176,_0x273ce0)=>{var _0x57cff4=_0x461449,_0x28efac={'list':[{'x':this['x'],'y':this['y'],'AP':0x5dc,'path':[]}]};this['get_next_block_accessible'](_0x28efac,this[_0x57cff4(0x1d8)],this,[]);var _0x3ed8a5=_0x28efac[_0x57cff4(0x506)];if(!_0x3ed8a5||!_0x3ed8a5['length'])return undefined;var _0x5162e7=_0x3ed8a5[_0x57cff4(0x525)](_0x187ea2=>{distBlockNoDiagonal(_0x187ea2['x'],_0x187ea2['y'],_0x481176['x'],_0x481176['y'])<_0x273ce0;});return!_0x5162e7||!_0x5162e7[_0x57cff4(0x1e9)]?(_0x5162e7=_0x3ed8a5[_0x57cff4(0x340)]((_0x3ad130,_0x2a3807)=>{return distBlockNoDiagonal(_0x3ad130['x'],_0x3ad130['y'],_0x481176['x'],_0x481176['y'])-distBlockNoDiagonal(_0x2a3807['x'],_0x2a3807['y'],_0x481176['x'],_0x481176['y']);})[0x0],_0x5162e7[_0x57cff4(0x413)]):(_0x5162e7=_0x5162e7['sort']((_0x1fae8d,_0x6353)=>{return _0x6353['AP']-_0x1fae8d['AP'];}),_0x5162e7[0x0]['path']);return undefined;return _0x28efac[_0x57cff4(0x506)];},this[_0x461449(0x444)]=()=>{var _0x451314=_0x461449;console['log'](this['name']+'\x20AI\x20is\x20playing');var _0x5b646c=this[_0x451314(0x2cc)]['find'](_0x3ef035=>_0x3ef035[_0x451314(0x362)]==_0x451314(0x282)),_0x43c7af=world['players']['playerList'][_0x451314(0x525)](_0x16ae65=>_0x16ae65[_0x451314(0x23b)]!=this['team']);if(!_0x43c7af||_0x43c7af[_0x451314(0x1e9)]<0x1)return!![];var _0x18f66b=_0x43c7af['sort']((_0x47c33f,_0x40ff57)=>{var _0x2af139=_0x451314;return _0x47c33f['life']-_0x40ff57[_0x2af139(0x2bc)];})[0x0],_0x598aac=_0x43c7af[_0x451314(0x340)]((_0x10fa58,_0x1c5da0)=>{return dist(this['x'],this['y'],_0x10fa58['x'],_0x10fa58['y'])-dist(this['x'],this['y'],_0x1c5da0['x'],_0x1c5da0['y']);})[0x0],_0x3afe8b=_0x5b646c[_0x451314(0x383)](_0x5b646c['zone_selecting_input']),_0x23db54=_0x3afe8b['filter'](_0x10bacc=>_0x10bacc[_0x451314(0x4a3)]&&_0x10bacc[_0x451314(0x4a3)][_0x451314(0x23b)]!=this[_0x451314(0x23b)]),_0x25c473=_0x23db54[_0x451314(0x340)]((_0x20e529,_0x40d48c)=>{var _0x698e16=_0x451314;return _0x20e529[_0x698e16(0x4a3)]['life']-_0x40d48c['player'][_0x698e16(0x2bc)];});if(_0x25c473[_0x451314(0x1e9)]){if(this[_0x451314(0x490)]({'block':_0x25c473[0x0]}))return![];}var _0x5f4e3a=this[_0x451314(0x53f)]();for(var _0x4d779c in _0x5f4e3a){var _0x5d8a9e=new Player(_0x5f4e3a[_0x4d779c]['x'],_0x5f4e3a[_0x4d779c]['y'],this['size'],this[_0x451314(0x4a5)],this[_0x451314(0x23b)]);_0x5d8a9e['weapon']=this['weapon'],_0x5d8a9e[_0x451314(0x326)]();var _0x1f4cb7=_0x5d8a9e[_0x451314(0x2cc)][_0x451314(0x521)](_0x1d68b6=>_0x1d68b6[_0x451314(0x362)]==_0x451314(0x282)),_0x31804b=_0x1f4cb7['zone_target_area'](_0x1f4cb7[_0x451314(0x284)]);_0x31804b=_0x31804b['filter'](_0x30816b=>_0x30816b[_0x451314(0x4a3)]&&_0x30816b['player']!=this&&_0x30816b[_0x451314(0x4a3)][_0x451314(0x23b)]!=this['team']),_0x31804b[_0x451314(0x1e9)]&&(_0x31804b=_0x31804b['sort']((_0x5281aa,_0x84d0f8)=>{var _0x4b0a97=_0x451314;return _0x5281aa[_0x4b0a97(0x2bc)]-_0x84d0f8[_0x4b0a97(0x2bc)];})[0x0],_0x5f4e3a[_0x4d779c][_0x451314(0x4af)]=!![],_0x5f4e3a[_0x4d779c][_0x451314(0x5d2)]=_0x31804b[_0x451314(0x2bc)]);}var _0x10ea07=undefined,_0x560e05=this[_0x451314(0x498)]?this[_0x451314(0x498)][_0x451314(0x585)]:AP_COST_NOWEAPON,_0x40f756=_0x5f4e3a[_0x451314(0x525)](_0xf6ecee=>_0xf6ecee[_0x451314(0x4af)]==!![]&&_0xf6ecee['AP']>=_0x560e05);if(_0x40f756&&_0x40f756['length'])_0x10ea07=_0x40f756[_0x451314(0x340)]((_0x5016a1,_0x181247)=>{var _0x4e2279=_0x451314;return _0x5016a1[_0x4e2279(0x5d2)]-_0x181247[_0x4e2279(0x5d2)];})[0x0],_0x10ea07=_0x5f4e3a[_0x451314(0x521)](_0x4364f6=>_0x4364f6['x']==_0x10ea07['x']&&_0x4364f6['y']==_0x10ea07['y']);else{if(!this[_0x451314(0x413)]){if(this['AIstyleFocus']==_0x451314(0x337))this['path']=this[_0x451314(0x294)](_0x18f66b,0x2);else this[_0x451314(0x413)]=this[_0x451314(0x294)](_0x598aac,0x2);}if(this['path']&&this['path'][_0x451314(0x1e9)]>0x1){if(this['TryMoveTo']({'block':world[_0x451314(0x359)][_0x451314(0x41d)][this[_0x451314(0x413)][0x0][_0x451314(0x5d8)]][this[_0x451314(0x413)][0x0][_0x451314(0x222)]]}))return this['path'][_0x451314(0x228)](),![];}else console['log'](_0x451314(0x3dd));}if(_0x10ea07){var _0x162184=_0x10ea07[_0x451314(0x413)];if(!_0x162184||!_0x162184[_0x451314(0x1e9)]);else{_0x162184=_0x162184[0x0];if(this[_0x451314(0x36d)]({'block':world[_0x451314(0x359)][_0x451314(0x41d)][_0x162184[_0x451314(0x5d8)]][_0x162184[_0x451314(0x222)]]}))return![];}}return console[_0x451314(0x4a1)](_0x451314(0x5a4)+[_0x598aac['x'],_0x598aac['y']]),this[_0x451314(0x24f)]({'block':world[_0x451314(0x359)][_0x451314(0x41d)][_0x598aac['x']][_0x598aac['y']]}),this['path']=undefined,!![];};},PLAYER_FACE_IMG=[_0x492d20(0x2cd),'human_face_1',_0x492d20(0x1f2),_0x492d20(0x596),'human_face_4',_0x492d20(0x1a3),_0x492d20(0x5ff)],PLAYER_BODY_IMG=[_0x492d20(0x27f),_0x492d20(0x2bf),_0x492d20(0x5a8),_0x492d20(0x300),'human_body_4','goblin_body_0',_0x492d20(0x283)],PROJECTIL_IMG=['wood_arrow'],PlayersManager=function(_0x32e4f8){var _0x4013c4=_0x492d20;this[_0x4013c4(0x306)]=[],this[_0x4013c4(0x247)]=undefined,this['DefaultImgsReady']=![],this[_0x4013c4(0x281)]=undefined,this[_0x4013c4(0x1df)]=world[_0x4013c4(0x4f1)][_0x4013c4(0x43b)][_0x4013c4(0x34a)],this[_0x4013c4(0x5fd)]=world[_0x4013c4(0x4f1)][_0x4013c4(0x43b)][_0x4013c4(0x34a)],this[_0x4013c4(0x1d4)]=!![],this[_0x4013c4(0x1ed)]=new MessageSystem(),this[_0x4013c4(0x408)]=[],this[_0x4013c4(0x2e8)]=_0x5e51dc=>{var _0x21a994=_0x4013c4;if(!_0x5e51dc||!_0x5e51dc[_0x21a994(0x5dd)]||!_0x5e51dc[_0x21a994(0x572)]||!_0x5e51dc['projectilName']||!_0x5e51dc[_0x21a994(0x3d4)])return;var _0x4aed5f=_0x5e51dc[_0x21a994(0x5dd)],_0x382a29=_0x5e51dc[_0x21a994(0x572)];this[_0x21a994(0x408)][_0x21a994(0x2a9)]({'posA':_0x4aed5f,'posB':_0x382a29,'angle':Math[_0x21a994(0x40d)](_0x382a29['y']-_0x4aed5f['y'],_0x382a29['x']-_0x4aed5f['x']),'name':_0x5e51dc[_0x21a994(0x499)],'duration':_0x5e51dc[_0x21a994(0x3d4)]?_0x5e51dc['projectilSpeed']*dist(_0x4aed5f['x'],_0x4aed5f['y'],_0x382a29['x'],_0x382a29['y']):0x64});if(_0x5e51dc[_0x21a994(0x212)])world[_0x21a994(0x4ec)][_0x21a994(0x258)](_0x5e51dc[_0x21a994(0x212)]);},this[_0x4013c4(0x49e)]=()=>{var _0x6524b4=_0x4013c4,_0x5b0eca=new Date()[_0x6524b4(0x248)]();for(var _0x30fcb7 in this['projectilAnimation']){if(this['projectilAnimation'][_0x30fcb7][_0x6524b4(0x5f7)]&&_0x5b0eca-this['projectilAnimation'][_0x30fcb7][_0x6524b4(0x5f7)]>this[_0x6524b4(0x408)][_0x30fcb7]['duration'])this[_0x6524b4(0x408)][_0x6524b4(0x1c2)](_0x30fcb7,0x1);else{if(!this[_0x6524b4(0x408)][_0x30fcb7]['startTime'])this[_0x6524b4(0x408)][_0x30fcb7][_0x6524b4(0x5f7)]=_0x5b0eca;}}var _0x147998=world[_0x6524b4(0x359)],_0x78e38b=this[_0x6524b4(0x5fd)];for(var _0x30fcb7 in this[_0x6524b4(0x408)]){var _0x2908e7=this[_0x6524b4(0x408)][_0x30fcb7],_0x1f7cf8=(_0x5b0eca-_0x2908e7[_0x6524b4(0x5f7)])/_0x2908e7['duration'],_0x5a47ec=_0x1f7cf8>0.5?0x1-_0x1f7cf8:_0x1f7cf8,_0x23b606=_0x2908e7[_0x6524b4(0x5dd)]['x']+_0x1f7cf8*(_0x2908e7['posB']['x']-_0x2908e7[_0x6524b4(0x5dd)]['x']),_0x263130=_0x2908e7[_0x6524b4(0x5dd)]['y']+_0x1f7cf8*(_0x2908e7[_0x6524b4(0x572)]['y']-_0x2908e7[_0x6524b4(0x5dd)]['y']),_0x157455=_0x147998[_0x6524b4(0x505)](_0x23b606,_0x263130);if(_0x157455['x']<0x0||_0x157455['y']<0x0||_0x157455['x']>_0x78e38b[_0x6524b4(0x5c5)]||_0x157455['y']>_0x78e38b[_0x6524b4(0x2ce)])continue;_0x78e38b[_0x6524b4(0x259)](world[_0x6524b4(0x247)][_0x2908e7[_0x6524b4(0x362)]][_0x6524b4(0x345)],_0x157455['x'],_0x157455['y'],_0x147998['scale']*(0.5+_0x5a47ec*0x3),_0x2908e7[_0x6524b4(0x2dd)]);}},this[_0x4013c4(0x257)]=_0x5bd012=>{var _0x2c7b2b=_0x4013c4;if(!_0x5bd012)return console[_0x2c7b2b(0x4a1)]('can\x27t\x20delete\x20this\x20player');_0x5bd012[_0x2c7b2b(0x2ba)]=!![],world['village'][_0x2c7b2b(0x272)](_0x5bd012);if(_0x5bd012&&_0x5bd012['x']!=undefined&&_0x5bd012['y']!=undefined){for(var _0xeb3321=_0x5bd012['x'];_0xeb3321<_0x5bd012['x']+_0x5bd012['size'];_0xeb3321++)for(var _0x186eae=_0x5bd012['y'];_0x186eae<_0x5bd012['y']+_0x5bd012['size'];_0x186eae++)if(world[_0x2c7b2b(0x359)][_0x2c7b2b(0x41d)][_0xeb3321]&&world[_0x2c7b2b(0x359)]['mapBlock'][_0xeb3321][_0x186eae]&&world[_0x2c7b2b(0x359)][_0x2c7b2b(0x41d)][_0xeb3321][_0x186eae][_0x2c7b2b(0x4a3)]==_0x5bd012)world[_0x2c7b2b(0x359)][_0x2c7b2b(0x41d)][_0xeb3321][_0x186eae][_0x2c7b2b(0x4a3)]=undefined;}var _0x258a36=0x0;while(this[_0x2c7b2b(0x306)][_0x258a36]){if(this[_0x2c7b2b(0x306)][_0x258a36]==_0x5bd012){this['playerList'][_0x2c7b2b(0x1c2)](_0x258a36,0x1);break;}_0x258a36++;}},this[_0x4013c4(0x291)]=()=>{var _0x4ec832=_0x4013c4,_0x363699=_0x4ec832(0x4b9);this[_0x4ec832(0x247)]=[];var _0x2041b8=[[_0x4ec832(0x5db),_0x363699+'hand/hand_0.png']];for(var _0x5d3490 in WEAPON_TYPE){var _0x196271=WEAPON_TYPE[_0x5d3490][_0x4ec832(0x362)],_0x29e520=WEAPON_TYPE[_0x5d3490][_0x4ec832(0x33a)];_0x2041b8[_0x4ec832(0x2a9)]([_0x196271,_0x363699+_0x4ec832(0x2a1)+_0x29e520+_0x4ec832(0x2e3)]),_0x2041b8[_0x4ec832(0x2a9)]([_0x196271+_0x4ec832(0x24a),_0x363699+_0x4ec832(0x2a1)+_0x29e520+_0x4ec832(0x24a)+_0x4ec832(0x2e3)]);}for(var _0x5d3490 in PLAYER_BODY_IMG){var _0x196271=PLAYER_BODY_IMG[_0x5d3490];_0x2041b8['push']([_0x196271,_0x363699+_0x4ec832(0x474)+_0x196271+_0x4ec832(0x2e3)]);}for(var _0x5d3490 in PLAYER_FACE_IMG){var _0x196271=PLAYER_FACE_IMG[_0x5d3490];_0x2041b8['push']([_0x196271,_0x363699+_0x4ec832(0x2fc)+_0x196271+'.png']);}for(var _0x5d3490 in PLAYER_ARMOR){var _0x196271=PLAYER_ARMOR[_0x5d3490][_0x4ec832(0x362)],_0x29e520=PLAYER_ARMOR[_0x5d3490][_0x4ec832(0x345)];_0x2041b8[_0x4ec832(0x2a9)]([_0x196271,_0x363699+_0x4ec832(0x1e4)+_0x29e520+_0x4ec832(0x2e3)]),_0x2041b8[_0x4ec832(0x2a9)]([_0x196271+_0x4ec832(0x24a),_0x363699+_0x4ec832(0x1e4)+_0x29e520+_0x4ec832(0x24a)+_0x4ec832(0x2e3)]);}for(var _0x5d3490 in PROJECTIL_IMG){var _0x196271=PROJECTIL_IMG[_0x5d3490];_0x2041b8['push']([_0x196271,_0x363699+_0x4ec832(0x3b4)+_0x196271+_0x4ec832(0x2e3)]);}for(var _0x5d3490 in _0x2041b8){console[_0x4ec832(0x4a1)](_0x4ec832(0x4ef)+_0x2041b8[_0x5d3490]),this[_0x4ec832(0x247)][_0x2041b8[_0x5d3490][0x0]]=new myImage(_0x2041b8[_0x5d3490][0x0],_0x2041b8[_0x5d3490][0x1]);}world['playerDefaultImgs']=this['playerDefaultImgs'];},this[_0x4013c4(0x49a)]=(_0x5bdb5f,_0x45f82b,_0x4a4d13,_0x4e22e2,_0x3a1384)=>{var _0x31f5bc=_0x4013c4,_0x344281=new Player(_0x5bdb5f,_0x45f82b,_0x4a4d13,_0x4e22e2,_0x3a1384);return _0x344281[_0x31f5bc(0x2d4)](_0x344281,world[_0x31f5bc(0x359)]),_0x344281['generateCapacity'](),_0x344281[_0x31f5bc(0x1d9)]=0x0,_0x344281;},this['createPlayerFromVillage']=_0x9225c6=>{var _0x28cfac=_0x4013c4;if(!_0x9225c6||!_0x9225c6[_0x28cfac(0x4a3)]||_0x9225c6['x']==undefined||_0x9225c6['y']==undefined)return console[_0x28cfac(0x4a1)](_0x28cfac(0x1a0));console[_0x28cfac(0x4a1)](_0x28cfac(0x2c7)+[_0x9225c6['x'],_0x9225c6['y'],_0x9225c6[_0x28cfac(0x4a3)][_0x28cfac(0x19d)]]);var _0x519caf=_0x9225c6['player'],_0x58d699=_0x9225c6['x'],_0x32f78b=_0x9225c6['y'],_0xf723f5=_0x9225c6[_0x28cfac(0x23b)]?_0x9225c6[_0x28cfac(0x23b)]:TEAM_HUMAN,_0x17c2c6=world[_0x28cfac(0x359)];if(_0x58d699<0x0||_0x58d699+_0x519caf['size']-0x1>=_0x17c2c6['width']||_0x32f78b<0x0||_0x32f78b+_0x519caf[_0x28cfac(0x19d)]-0x1>=_0x17c2c6[_0x28cfac(0x2ce)])return![];for(var _0x1f378e=_0x58d699;_0x1f378e<_0x58d699+_0x519caf[_0x28cfac(0x19d)];_0x1f378e++){for(var _0x4b58b9=_0x32f78b;_0x4b58b9<_0x32f78b+_0x519caf['size'];_0x4b58b9++){if(_0x17c2c6[_0x28cfac(0x41d)][_0x1f378e][_0x4b58b9][_0x28cfac(0x4a3)])return![];if(!_0x17c2c6[_0x28cfac(0x41d)][_0x1f378e][_0x4b58b9][_0x28cfac(0x5eb)]())return![];}}var _0x175c3d=this[_0x28cfac(0x49a)](_0x58d699,_0x32f78b,_0x519caf[_0x28cfac(0x19d)],_0x519caf['color'],_0xf723f5);if(!_0x175c3d)return![];_0x175c3d['name']=_0x519caf[_0x28cfac(0x362)],_0x175c3d[_0x28cfac(0x3f5)]=_0x519caf[_0x28cfac(0x3f5)],_0x175c3d[_0x28cfac(0x4df)]=_0x519caf[_0x28cfac(0x4df)],_0x175c3d[_0x28cfac(0x4b8)]=_0x519caf[_0x28cfac(0x4b8)],_0x175c3d[_0x28cfac(0x498)]=_0x519caf[_0x28cfac(0x498)],_0x175c3d[_0x28cfac(0x369)]=_0x519caf[_0x28cfac(0x369)],_0x175c3d[_0x28cfac(0x438)]=_0x519caf[_0x28cfac(0x438)],_0x175c3d[_0x28cfac(0x227)]=_0x519caf['lifeMax'],_0x175c3d['life']=_0x519caf[_0x28cfac(0x227)],_0x175c3d[_0x28cfac(0x1e5)]=_0x519caf[_0x28cfac(0x1e5)],_0x175c3d[_0x28cfac(0x218)]=_0x519caf['stats'],_0x175c3d[_0x28cfac(0x19d)]=_0x519caf['size'],_0x175c3d['id']=_0x519caf['id'];if(_0xf723f5==TEAM_AI)_0x175c3d['dir']=[-0x1,0x0];for(var _0x1f378e=_0x58d699;_0x1f378e<_0x58d699+_0x519caf['size'];_0x1f378e++){for(var _0x4b58b9=_0x32f78b;_0x4b58b9<_0x32f78b+_0x519caf[_0x28cfac(0x19d)];_0x4b58b9++){_0x17c2c6['mapBlock'][_0x1f378e][_0x4b58b9][_0x28cfac(0x4a3)]=_0x175c3d;}}return _0x175c3d[_0x28cfac(0x326)](),this[_0x28cfac(0x306)]['push'](_0x175c3d),!![];},this[_0x4013c4(0x19a)]=_0x5fed9e=>{var _0x566bd5=_0x4013c4;if(!_0x5fed9e||_0x5fed9e['x']===undefined||_0x5fed9e['y']===undefined)return![];var _0x3fab8c=_0x5fed9e['x'],_0x425e9e=_0x5fed9e['y'],_0x4343bb=_0x5fed9e['color']?_0x5fed9e[_0x566bd5(0x4a5)]:{'r':Math['floor'](Math[_0x566bd5(0x471)]()*0x100),'g':Math[_0x566bd5(0x295)](Math[_0x566bd5(0x471)]()*0x100),'b':Math[_0x566bd5(0x295)](Math['random']()*0x100)},_0x509e21=_0x5fed9e[_0x566bd5(0x19d)]||_0x5fed9e[_0x566bd5(0x19d)]<0x1?_0x5fed9e[_0x566bd5(0x19d)]:0x1,_0x516066=_0x5fed9e[_0x566bd5(0x23b)]?_0x5fed9e[_0x566bd5(0x23b)]:TEAM_HUMAN,_0x19e048=world[_0x566bd5(0x359)];if(_0x3fab8c<0x0||_0x3fab8c+_0x509e21-0x1>=_0x19e048[_0x566bd5(0x5c5)]||_0x425e9e<0x0||_0x425e9e+_0x509e21-0x1>=_0x19e048[_0x566bd5(0x2ce)])return![];for(var _0xc5e79c=_0x3fab8c;_0xc5e79c<_0x3fab8c+_0x509e21;_0xc5e79c++){for(var _0x3e660a=_0x425e9e;_0x3e660a<_0x425e9e+_0x509e21;_0x3e660a++){if(_0x19e048['mapBlock'][_0xc5e79c][_0x3e660a][_0x566bd5(0x4a3)])return![];if(!_0x19e048[_0x566bd5(0x41d)][_0xc5e79c][_0x3e660a][_0x566bd5(0x5eb)]())return![];}}var _0x53f8b9=this[_0x566bd5(0x49a)](_0x3fab8c,_0x425e9e,_0x509e21,_0x4343bb,_0x516066);_0x53f8b9['id']=PLAYER_ID++,nameList=[_0x566bd5(0x5c0),'Argoo',_0x566bd5(0x328),_0x566bd5(0x426),_0x566bd5(0x2f8),_0x566bd5(0x48a),_0x566bd5(0x3c1),_0x566bd5(0x209),'Aufait',_0x566bd5(0x49c)],_0x53f8b9['name']=nameList[Math[_0x566bd5(0x295)](Math[_0x566bd5(0x471)]()*nameList[_0x566bd5(0x1e9)])]+'\x20#'+Math['floor'](Math['random']()*0x64),_0x53f8b9[_0x566bd5(0x498)]=new Weapon()[_0x566bd5(0x4e6)](),_0x53f8b9['armor']=new Armor()[_0x566bd5(0x2e0)]();if(_0x516066==TEAM_AI)_0x53f8b9[_0x566bd5(0x1ba)]=[-0x1,0x0];for(var _0xc5e79c=_0x3fab8c;_0xc5e79c<_0x3fab8c+_0x509e21;_0xc5e79c++){for(var _0x3e660a=_0x425e9e;_0x3e660a<_0x425e9e+_0x509e21;_0x3e660a++){_0x19e048[_0x566bd5(0x41d)][_0xc5e79c][_0x3e660a][_0x566bd5(0x4a3)]=_0x53f8b9;}}return _0x53f8b9[_0x566bd5(0x369)]=_0x5fed9e[_0x566bd5(0x369)]?_0x5fed9e[_0x566bd5(0x369)]:Math[_0x566bd5(0x361)](_0x53f8b9[_0x566bd5(0x369)]*(0.8+Math[_0x566bd5(0x471)]()*0.4)),_0x53f8b9['generateCapacity'](),this[_0x566bd5(0x306)][_0x566bd5(0x2a9)](_0x53f8b9),_0x53f8b9;},this[_0x4013c4(0x44a)]=(_0x3f6b9b,_0x250acf)=>{var _0x467311=_0x4013c4,_0xa1b8f5=world[_0x467311(0x359)];this[_0x467311(0x5fd)][_0x467311(0x254)][_0x467311(0x318)]();var _0xf222d8=_0x3f6b9b[_0x467311(0x23b)]==TEAM_AI?_0x467311(0x26f):'#006400',_0x437498=_0xa1b8f5['blocksize_x']/0x2*_0x3f6b9b[_0x467311(0x19d)];if(_0x3f6b9b==this[_0x467311(0x281)])_0xf222d8+='ff',_0x437498=_0x437498*(0x1+0.1*Math[_0x467311(0x2d1)](new Date()['getTime']()/0x1f4));else _0xf222d8+='88';this[_0x467311(0x5fd)]['ctx'][_0x467311(0x1d0)]=_0xf222d8,this[_0x467311(0x5fd)]['ctx'][_0x467311(0x4d4)]=0x4*_0xa1b8f5[_0x467311(0x24b)],this[_0x467311(0x5fd)][_0x467311(0x254)][_0x467311(0x51d)](_0x250acf['x']+_0xa1b8f5[_0x467311(0x548)]/0x2*_0x3f6b9b['size'],_0x250acf['y']+_0xa1b8f5[_0x467311(0x548)]/0x2*_0x3f6b9b['size'],_0x437498,0x0,0x2*Math['PI']),this[_0x467311(0x5fd)][_0x467311(0x254)][_0x467311(0x256)]();},this[_0x4013c4(0x36f)]=()=>{var _0x48f9c1=_0x4013c4,_0x11c596=world['map'];if(!_0x11c596||!_0x11c596[_0x48f9c1(0x57f)]||!_0x11c596[_0x48f9c1(0x4ad)])return;var _0x1a7cfc=_0x11c596['topleft_block']['x'],_0x340a2f=_0x11c596[_0x48f9c1(0x57f)]['y'],_0x33fbb6=_0x11c596[_0x48f9c1(0x4ad)]['x'],_0x4a1b97=_0x11c596[_0x48f9c1(0x4ad)]['y'],_0x42dc17=[],_0x4105eb=[];for(var _0x3e41b3=_0x1a7cfc;_0x3e41b3<=_0x33fbb6;_0x3e41b3++){for(var _0x4b86c8=_0x340a2f;_0x4b86c8<=_0x4a1b97;_0x4b86c8++){var _0x26e038=_0x11c596[_0x48f9c1(0x41d)][_0x3e41b3][_0x4b86c8][_0x48f9c1(0x4a3)];if(!_0x26e038||_0x4105eb[_0x48f9c1(0x521)](_0x24ba2c=>_0x24ba2c==_0x26e038))continue;if(_0x26e038==this[_0x48f9c1(0x281)])_0x4105eb[_0x48f9c1(0x2a9)](_0x26e038);else _0x4105eb[_0x48f9c1(0x59c)](_0x26e038);}}for(var _0x259d7a in _0x4105eb){var _0x26e038=_0x4105eb[_0x259d7a];if(!_0x26e038[_0x48f9c1(0x38d)]||!_0x26e038[_0x48f9c1(0x1bd)])_0x26e038[_0x48f9c1(0x28a)](this[_0x48f9c1(0x247)]);var _0x377e86=_0x11c596[_0x48f9c1(0x2be)](_0x26e038['x'],_0x26e038['y']);if(_0x377e86)this[_0x48f9c1(0x44a)](_0x26e038,_0x377e86),_0x26e038[_0x48f9c1(0x41c)](this['canvasPlayer'],_0x377e86['x'],_0x377e86['y'],_0x11c596);else continue;_0x26e038[_0x48f9c1(0x50b)]&&(this[_0x48f9c1(0x1d4)]=!![],_0x26e038[_0x48f9c1(0x50b)]=![]);var _0x236fb1=new MyUI(this[_0x48f9c1(0x1df)],_0x377e86['x']-_0x11c596['blocksize_x']/0x4,_0x377e86['y']-_0x11c596[_0x48f9c1(0x286)]/0x4,0x64*world[_0x48f9c1(0x359)]['scale'],world[_0x48f9c1(0x359)]['scale'],undefined,undefined,0x1),_0x2f1271=_0x26e038[_0x48f9c1(0x23b)]==TEAM_HUMAN?_0x48f9c1(0x58b):_0x48f9c1(0x378);_0x236fb1['addTextZone'](_0x26e038['name'],Math[_0x48f9c1(0x295)](0x28*world[_0x48f9c1(0x359)]['scale']),0x10,_0x2f1271,PLAYER_NAME_FONT);var _0x44203d=Math[_0x48f9c1(0x295)](0x14*world['map'][_0x48f9c1(0x24b)]);if(_0x26e038==this['Playerturn'])_0x236fb1['addGauge'](_0x48f9c1(0x569)+_0x26e038['ActionPoint']+'/'+_0x26e038['ActionPointMax'],_0x26e038[_0x48f9c1(0x1d8)]/_0x26e038['ActionPointMax'],Math[_0x48f9c1(0x295)](0x64*world['map'][_0x48f9c1(0x24b)]),_0x44203d+0x1,_0x44203d,_0x48f9c1(0x5ee),_0x48f9c1(0x446),'#000000');else _0x236fb1['addGauge']('speed\x20'+Math['floor'](0x64*_0x26e038[_0x48f9c1(0x1d9)])+'\x20%',_0x26e038[_0x48f9c1(0x1d9)],Math[_0x48f9c1(0x295)](0x64*world[_0x48f9c1(0x359)][_0x48f9c1(0x24b)]),_0x44203d+0x1,_0x44203d,_0x48f9c1(0x5ee),_0x48f9c1(0x446),_0x48f9c1(0x553));_0x236fb1[_0x48f9c1(0x331)](_0x48f9c1(0x2f9)+Math[_0x48f9c1(0x295)](_0x26e038[_0x48f9c1(0x2bc)])+'/'+Math['floor'](_0x26e038[_0x48f9c1(0x227)]),_0x26e038['life']/_0x26e038[_0x48f9c1(0x227)],Math[_0x48f9c1(0x295)](0x64*world[_0x48f9c1(0x359)][_0x48f9c1(0x24b)]),_0x44203d+0x1,_0x44203d,'#ffffff',_0x48f9c1(0x26f),_0x48f9c1(0x553)),_0x42dc17[_0x48f9c1(0x2a9)](_0x236fb1);}if(this['pUI_need_redraw']){this[_0x48f9c1(0x1df)][_0x48f9c1(0x500)]();for(var _0x259d7a in _0x42dc17){_0x42dc17[_0x259d7a][_0x48f9c1(0x5ab)]();}this['pUI_need_redraw']=![];}this['drawProjectiles']();},this[_0x4013c4(0x5af)]=_0x511103=>{var _0x561923=_0x4013c4;if(!_0x511103||_0x511103['x']==undefined||_0x511103['y']==undefined)return undefined;return this[_0x561923(0x306)][_0x561923(0x521)](_0x8b6df0=>_0x8b6df0['x']==_0x511103['x']&&_0x8b6df0['y']==_0x511103['y']);},this[_0x4013c4(0x56c)]=()=>{var _0x28fe30=_0x4013c4,_0x5858e4=undefined,_0x15dc2=0x0,_0x279a59=0x0;for(var _0x3f2bc4 in this[_0x28fe30(0x306)]){var _0x542528=this['playerList'][_0x3f2bc4];if((0x1-_0x542528['gaugeSpeed'])/_0x542528[_0x28fe30(0x369)]<=(0x1-_0x15dc2)/_0x279a59){if(_0x5858e4&&(0x1-_0x542528[_0x28fe30(0x1d9)])*_0x542528[_0x28fe30(0x369)]==(0x1-_0x15dc2)*_0x279a59){if(_0x5858e4[_0x28fe30(0x369)]>_0x542528['speed'])continue;}_0x5858e4=_0x542528,_0x15dc2=_0x542528[_0x28fe30(0x1d9)],_0x279a59=_0x542528[_0x28fe30(0x369)];}}if(!_0x5858e4)return undefined;for(var _0x3f2bc4 in this[_0x28fe30(0x306)]){var _0x542528=this[_0x28fe30(0x306)][_0x3f2bc4];_0x542528[_0x28fe30(0x1d9)]+=(0x1-_0x15dc2)*(_0x542528[_0x28fe30(0x369)]/_0x279a59);}return _0x5858e4;},this[_0x4013c4(0x1cf)]=_0x5c7e69=>{var _0x217aea=_0x4013c4,_0x2cb8f3=[],_0x448aa6=[];for(var _0x2d965c in this[_0x217aea(0x306)]){var _0x41e4cd=this['playerList'][_0x2d965c];_0x448aa6[_0x2d965c]={'player':_0x41e4cd,'gaugeSpeed':_0x41e4cd[_0x217aea(0x1d9)],'speed':_0x41e4cd[_0x217aea(0x369)]};}if(_0x5c7e69<0x0||_0x448aa6[_0x217aea(0x1e9)]<0x1)return[];for(var _0xe5802c=0x0;_0xe5802c<_0x5c7e69;_0xe5802c++){var _0x2ce715=undefined,_0x39dc14=0x0,_0x76beaf=0x0;for(var _0x2d965c in _0x448aa6){var _0x41e4cd=_0x448aa6[_0x2d965c];if((0x1-_0x41e4cd[_0x217aea(0x1d9)])/_0x41e4cd['speed']<=(0x1-_0x39dc14)/_0x76beaf){if(_0x2ce715&&(0x1-_0x41e4cd[_0x217aea(0x1d9)])*_0x41e4cd[_0x217aea(0x369)]==(0x1-_0x39dc14)*_0x76beaf){if(_0x2ce715['speed']>_0x41e4cd['speed'])continue;}_0x2ce715=_0x41e4cd,_0x39dc14=_0x41e4cd[_0x217aea(0x1d9)],_0x76beaf=_0x41e4cd[_0x217aea(0x369)];}}if(!_0x2ce715)continue;for(var _0x2d965c in _0x448aa6){var _0x41e4cd=_0x448aa6[_0x2d965c];_0x41e4cd[_0x217aea(0x1d9)]+=(0x1-_0x39dc14)*(_0x41e4cd[_0x217aea(0x369)]/_0x76beaf);}_0x2ce715['gaugeSpeed']=0x0,_0x2cb8f3[_0x217aea(0x2a9)](_0x2ce715[_0x217aea(0x4a3)]);}return _0x2cb8f3;},this[_0x4013c4(0x1c0)]=_0x2134c0=>{var _0x3f2480=_0x4013c4,_0x4ea2a8=this['playerList'][_0x3f2480(0x521)](_0x238b20=>_0x238b20[_0x3f2480(0x23b)]==TEAM_AI),_0x1ac034=this[_0x3f2480(0x306)][_0x3f2480(0x521)](_0x22df31=>_0x22df31[_0x3f2480(0x23b)]==TEAM_HUMAN);if(!_0x4ea2a8||!_0x1ac034){console[_0x3f2480(0x4a1)](_0x3f2480(0x3a8)),this[_0x3f2480(0x2b4)]();return;}world[_0x3f2480(0x21e)]&&(world['GameUI']['playersSelected']=undefined,world[_0x3f2480(0x21e)][_0x3f2480(0x566)]=undefined,world[_0x3f2480(0x21e)]['selecting_block']=undefined,world[_0x3f2480(0x21e)]['highlightZone']=undefined);if(world[_0x3f2480(0x34a)][_0x3f2480(0x281)]&&world['players'][_0x3f2480(0x281)]['AI']&&!world['players']['Playerturn']['AI'][_0x3f2480(0x469)])return;if(this['Playerturn'])this['Playerturn'][_0x3f2480(0x1d9)]=0x0;this[_0x3f2480(0x281)]=this[_0x3f2480(0x56c)]();if(!this[_0x3f2480(0x281)])return;this[_0x3f2480(0x1ed)][_0x3f2480(0x225)]({'type':this[_0x3f2480(0x281)][_0x3f2480(0x23b)],'txt':this[_0x3f2480(0x281)]['name']+_0x3f2480(0x35d)});if(world['map'])world[_0x3f2480(0x359)][_0x3f2480(0x2d3)](this['Playerturn']);world['GameUI']&&(world[_0x3f2480(0x21e)][_0x3f2480(0x32a)]=this[_0x3f2480(0x281)],world[_0x3f2480(0x21e)][_0x3f2480(0x21b)]=!![]);this[_0x3f2480(0x281)][_0x3f2480(0x1d8)]=this[_0x3f2480(0x281)][_0x3f2480(0x438)];if(this[_0x3f2480(0x281)]['AI'])this[_0x3f2480(0x281)]['AI'][_0x3f2480(0x469)]=![];},this[_0x4013c4(0x2b4)]=()=>{var _0x418f9d=_0x4013c4;world[_0x418f9d(0x21e)]=undefined,world[_0x418f9d(0x359)]=undefined,world['villageUI']=new VillageUI(world[_0x418f9d(0x4f1)]['canList'][_0x418f9d(0x21e)]),world['Screen'][_0x418f9d(0x43b)][_0x418f9d(0x200)][_0x418f9d(0x22e)](),world[_0x418f9d(0x4f1)][_0x418f9d(0x43b)][_0x418f9d(0x200)][_0x418f9d(0x500)](),world[_0x418f9d(0x4f1)][_0x418f9d(0x43b)][_0x418f9d(0x539)][_0x418f9d(0x22e)](),world[_0x418f9d(0x4f1)][_0x418f9d(0x43b)][_0x418f9d(0x539)]['cleanCanvas'](),world[_0x418f9d(0x4f1)]['canList'][_0x418f9d(0x34a)][_0x418f9d(0x22e)](),world[_0x418f9d(0x4f1)]['canList'][_0x418f9d(0x34a)][_0x418f9d(0x500)](),world[_0x418f9d(0x4f1)][_0x418f9d(0x43b)][_0x418f9d(0x330)][_0x418f9d(0x22e)](),world[_0x418f9d(0x4f1)][_0x418f9d(0x43b)][_0x418f9d(0x330)][_0x418f9d(0x500)](),world[_0x418f9d(0x4ec)]['stopSound']('where-the-brave-may-live-forever'),world[_0x418f9d(0x4d5)][_0x418f9d(0x4a6)]=![],world['village'][_0x418f9d(0x1ed)][_0x418f9d(0x225)]({'txt':_0x418f9d(0x375)});};},GameUI=function(_0x5c21b5){var _0x1c7ed4=_0x492d20;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT=_0x1c7ed4(0x1aa),GAME_UI_FONT_BUTTON='\x27Bauhaus\x2093\x27',GAME_UI_WINDOWINFO_MOUSETIME=0x190,this[_0x1c7ed4(0x33d)]=_0x5c21b5,this['lenx']=GAME_UI_DEFAULTSIZE_X,this[_0x1c7ed4(0x24b)]=0x1,this[_0x1c7ed4(0x4c3)]=_0x1c7ed4(0x20d),this[_0x1c7ed4(0x256)]='#663300',this['marge']=GAME_UI_DEFAULTMARGE,this[_0x1c7ed4(0x21b)]=!![],this['fps']=undefined,this['UI']=undefined,this['PlayerInfodisplay']=![],this[_0x1c7ed4(0x496)]=undefined,this[_0x1c7ed4(0x3c4)]=![],this[_0x1c7ed4(0x5e4)]=undefined,this[_0x1c7ed4(0x53c)]=![],this[_0x1c7ed4(0x40a)]={'value':0x0},this[_0x1c7ed4(0x32a)]=undefined,this[_0x1c7ed4(0x566)]=undefined,this[_0x1c7ed4(0x5a1)]=undefined,this['highlightZone']=undefined,this[_0x1c7ed4(0x4a0)]=undefined,this[_0x1c7ed4(0x29d)]=undefined,this[_0x1c7ed4(0x3ae)]={'x':0xa,'y':0xa},this[_0x1c7ed4(0x45b)]=!![],this[_0x1c7ed4(0x250)]=()=>{window['addEventListener']('mousemove',_0x519eba=>{var _0x257ef7=_0x3373,_0x4aa731=![];this['UIturn']&&this[_0x257ef7(0x496)]['mouse_move_check'](_0x519eba['clientX'],_0x519eba['clientY'])&&!this[_0x257ef7(0x45b)]&&(this['needRedraw']=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x4aa731=!![]);this['UI']&&this['UI'][_0x257ef7(0x405)](_0x519eba[_0x257ef7(0x4a4)],_0x519eba['clientY'])&&!this[_0x257ef7(0x45b)]&&(this[_0x257ef7(0x21b)]=!![],this[_0x257ef7(0x45b)]=!![],_0x4aa731=!![]);this[_0x257ef7(0x5e4)]&&this[_0x257ef7(0x5e4)]['mouse_move_check'](_0x519eba[_0x257ef7(0x4a4)],_0x519eba[_0x257ef7(0x589)])&&!this[_0x257ef7(0x45b)]&&(this['needRedraw']=!![],this[_0x257ef7(0x45b)]=!![],_0x4aa731=!![]);!_0x4aa731&&this[_0x257ef7(0x45b)]&&(this[_0x257ef7(0x45b)]=![],this[_0x257ef7(0x21b)]=!![]);if(this==world[_0x257ef7(0x21e)])this[_0x257ef7(0x250)]();},{'once':!![]});},this[_0x1c7ed4(0x250)](),this[_0x1c7ed4(0x571)]=_0x1be33c=>{var _0x3eac22=_0x1c7ed4;if(!world['Controler'])return![];var _0x80d3c=world[_0x3eac22(0x214)][_0x3eac22(0x215)];if(!_0x80d3c)return![];if(new Date()[_0x3eac22(0x248)]()-_0x80d3c[_0x3eac22(0x3ec)]<GAME_UI_WINDOWINFO_MOUSETIME)return this[_0x3eac22(0x29d)]&&(this['InfoWinfowPos']=![],this['needRedraw']=!![]),![];if(this['UI']&&this['UI'][_0x3eac22(0x571)](_0x1be33c))return!![];if(this['UIturn']&&this[_0x3eac22(0x496)][_0x3eac22(0x571)](_0x1be33c))return!![];if(this[_0x3eac22(0x5e4)]&&this[_0x3eac22(0x5e4)]['CheckInfoWindow'](_0x1be33c))return!![];if(!this[_0x3eac22(0x4a0)])return![];if(!this[_0x3eac22(0x29d)])this[_0x3eac22(0x29d)]={'x':_0x80d3c['x'],'y':_0x80d3c['y']};else{if(!_0x1be33c&&_0x80d3c['x']==this[_0x3eac22(0x29d)]['x']&&_0x80d3c['y']==this['InfoWinfowPos']['y'])return![];}var _0x2efd0e=new MyUI(this['canvas'],_0x80d3c['x'],_0x80d3c['y'],0x32,0x1,this[_0x3eac22(0x4c3)],this[_0x3eac22(0x256)],0x1);_0x2efd0e[_0x3eac22(0x47f)](_0x3eac22(0x5cd),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x3eac22(0x553),GAME_UI_FONT);var _0x28a8c7=world[_0x3eac22(0x359)][_0x3eac22(0x37c)](_0x80d3c);for(var _0x138f0e in this[_0x3eac22(0x4a0)]){var _0xee38b8=this['mouseInfoWindow'][_0x138f0e];_0x2efd0e[_0x3eac22(0x47f)](_0xee38b8['txt']+_0xee38b8[_0x3eac22(0x394)]({'block':_0x28a8c7}),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x3eac22(0x553),GAME_UI_FONT);}_0x2efd0e[_0x3eac22(0x5ab)]();},this[_0x1c7ed4(0x195)]=_0x36c908=>{var _0x4ddc05=_0x1c7ed4;if(this['UI']&&this['UI'][_0x4ddc05(0x2a4)](_0x36c908))return!![];if(this[_0x4ddc05(0x496)]&&this[_0x4ddc05(0x496)][_0x4ddc05(0x2a4)](_0x36c908))return!![];if(this[_0x4ddc05(0x5e4)]&&this[_0x4ddc05(0x5e4)][_0x4ddc05(0x2a4)](_0x36c908)){if(_0x36c908==_0x4ddc05(0x40f)&&this[_0x4ddc05(0x41b)]())return!![];}return![];},this[_0x1c7ed4(0x41b)]=()=>{var _0x7997b=_0x1c7ed4,_0x341bd5=![];if(this[_0x7997b(0x263)])return this[_0x7997b(0x263)]=![],!![];this[_0x7997b(0x5a1)]&&(this[_0x7997b(0x5a1)]=undefined,_0x341bd5=!![]);this[_0x7997b(0x1bc)]&&(this[_0x7997b(0x1bc)]=undefined,this['mouseInfoWindow']=undefined,this[_0x7997b(0x29d)]=undefined,world['map'][_0x7997b(0x21b)]=!![],_0x341bd5=!![]);if(_0x341bd5)return _0x341bd5;_0x341bd5=![];this[_0x7997b(0x32a)]&&(this[_0x7997b(0x32a)]=undefined,_0x341bd5=!![]);this[_0x7997b(0x566)]&&(this['blockSelected']=undefined,_0x341bd5=!![]);if(_0x341bd5)return!![];return![];},this[_0x1c7ed4(0x350)]=_0x332c6a=>{var _0x33f3f6=_0x1c7ed4,_0x2b630c=_0x332c6a['x'],_0x4b62fa=_0x332c6a['y'];if(_0x332c6a['button']==0x2){var _0xde56ca=this[_0x33f3f6(0x41b)]();if(_0xde56ca)return!![];}else{if(this['UI']&&this['UI'][_0x33f3f6(0x25f)](_0x2b630c,_0x4b62fa))return!![];if(this[_0x33f3f6(0x496)]&&this[_0x33f3f6(0x496)][_0x33f3f6(0x25f)](_0x2b630c,_0x4b62fa))return!![];if(this['UIevent']&&this[_0x33f3f6(0x5e4)][_0x33f3f6(0x25f)](_0x2b630c,_0x4b62fa))return!![];if(world[_0x33f3f6(0x359)])var _0x1f00e4=world['map'][_0x33f3f6(0x37c)]({'x':_0x2b630c,'y':_0x4b62fa});if(!_0x1f00e4)return![];if(this['selecting_block']&&this[_0x33f3f6(0x1bc)]&&this['highlightZone'][_0x33f3f6(0x255)]&&!this[_0x33f3f6(0x1bc)]['zone'][_0x33f3f6(0x521)](_0x5bbfa3=>_0x5bbfa3==_0x1f00e4))return![];if(this[_0x33f3f6(0x5a1)])return this['selecting_block']['callback']({'block':_0x1f00e4,'input':this[_0x33f3f6(0x5a1)][_0x33f3f6(0x2a3)]}),this['highlightZone']=undefined,this[_0x33f3f6(0x4a0)]=undefined,this[_0x33f3f6(0x566)]=undefined,this[_0x33f3f6(0x5a1)]=undefined,world[_0x33f3f6(0x359)][_0x33f3f6(0x21b)]=!![],!![];else this[_0x33f3f6(0x566)]=_0x1f00e4;return this[_0x33f3f6(0x32a)]=_0x1f00e4[_0x33f3f6(0x4a3)],!![];}return![];},this[_0x1c7ed4(0x56a)]=_0x1d0145=>{var _0x543e48=_0x1c7ed4;if(!_0x1d0145||!_0x1d0145[_0x543e48(0x394)])return;this['selecting_block']={'callback':_0x1d0145[_0x543e48(0x394)],'input':_0x1d0145[_0x543e48(0x2a3)],'info':_0x1d0145[_0x543e48(0x34b)]},this['needRedraw']=!![],_0x1d0145[_0x543e48(0x395)]&&(this[_0x543e48(0x1bc)]={'zone':_0x1d0145['highlight'][_0x543e48(0x394)](_0x1d0145[_0x543e48(0x395)][_0x543e48(0x2a3)]),'type':_0x1d0145['highlight'][_0x543e48(0x2a3)][_0x543e48(0x475)]},world['map'][_0x543e48(0x21b)]=!![]),_0x1d0145['windowInfo']&&(this[_0x543e48(0x4a0)]=_0x1d0145[_0x543e48(0x407)]);},this[_0x1c7ed4(0x421)]=()=>{var _0x307ce3=_0x1c7ed4;if(!world[_0x307ce3(0x34a)][_0x307ce3(0x281)])return![];world[_0x307ce3(0x359)][_0x307ce3(0x2d3)](world[_0x307ce3(0x34a)]['Playerturn']),this[_0x307ce3(0x32a)]=world['players'][_0x307ce3(0x281)];},this[_0x1c7ed4(0x322)]=()=>{var _0x36b901=_0x1c7ed4;0x0;var _0x266f0d=[];_0x266f0d[_0x36b901(0x2a9)]({'type':'img','img':this[_0x36b901(0x32a)][_0x36b901(0x38d)],'lenx':0xc8,'leny':0xc8}),this['UI'][_0x36b901(0x36e)](_0x266f0d);var _0xf25059=this[_0x36b901(0x32a)],_0x5eb57a=''+_0xf25059[_0x36b901(0x362)]+'\x20(',_0xf90e19=_0xf25059[_0x36b901(0x23b)]==TEAM_AI?_0x36b901(0x25c):_0x36b901(0x384);_0x5eb57a+=_0xf90e19,_0x5eb57a+='\x0a'+_0xf25059['life']+'/'+_0xf25059['lifeMax']+_0x36b901(0x1ae),_0x5eb57a+='\x0a'+_0xf25059[_0x36b901(0x1d8)]+'/'+_0xf25059[_0x36b901(0x438)]+_0x36b901(0x579),_0x5eb57a+='\x0a'+_0x36b901(0x533)+_0xf25059[_0x36b901(0x369)],_0x5eb57a+='\x0a'+_0x36b901(0x2e5)+_0xf25059[_0x36b901(0x1e5)];for(var _0x5cc306 in _0xf25059[_0x36b901(0x218)])_0x5eb57a+='\x0a'+_0x5cc306+_0x36b901(0x486)+_0xf25059[_0x36b901(0x218)][_0x5cc306];this['UI']['addTextZone'](_0x5eb57a,GAME_UI_LETTER_SIZE/0x2,0x270f,_0x36b901(0x553),GAME_UI_FONT);if(_0xf25059[_0x36b901(0x498)])this['UI']['addTextZone'](_0x36b901(0x356)+_0xf25059[_0x36b901(0x498)]['name']+'\x27\x0a'+_0xf25059[_0x36b901(0x498)][_0x36b901(0x302)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x36b901(0x553),GAME_UI_FONT);if(_0xf25059['armor'])this['UI']['addTextZone']('armor\x20equiped\x20:\x20'+_0xf25059[_0x36b901(0x4b8)]['getArmorDescription'](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x36b901(0x553),GAME_UI_FONT);},this[_0x1c7ed4(0x54c)]=()=>{var _0x37b809=_0x1c7ed4;this[_0x37b809(0x5e4)]=new MyUI(this[_0x37b809(0x33d)],this[_0x37b809(0x496)][_0x37b809(0x3b0)]+this['UI'][_0x37b809(0x3b0)],0x0,0x5,this[_0x37b809(0x24b)],this[_0x37b809(0x4c3)],this[_0x37b809(0x256)],this['marge']);var _0x234e6d=[];_0x234e6d[_0x37b809(0x2a9)]({'type':_0x37b809(0x3cb),'mouseLight':'ff','callback':()=>{var _0x10742a=_0x37b809;this[_0x10742a(0x53c)]=!this[_0x10742a(0x53c)];},'callback_data':GAME_UI_FONT,'txt':_0x37b809(0x43d),'txt_color':_0x37b809(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':'#ffffff88','strokeColor':this[_0x37b809(0x53c)]?_0x37b809(0x273):_0x37b809(0x364),'windowInfo':[{'callback':()=>{return'extand\x20the\x20event\x20window';},'input':_0x10848e}]});if(this['UIeventExpanded']){var _0x412405=this['GetPageSelector'](this[_0x37b809(0x40a)]);for(var _0x10848e in _0x412405)_0x234e6d[_0x37b809(0x2a9)](_0x412405[_0x10848e]);}this[_0x37b809(0x5e4)][_0x37b809(0x36e)](_0x234e6d);if(this['UIeventExpanded']&&world['players']){var _0x133e6c=-0x1;for(var _0x10848e=this[_0x37b809(0x40a)][_0x37b809(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x10848e>=this[_0x37b809(0x40a)][_0x37b809(0x349)];_0x10848e--){_0x133e6c++;var _0x3af60b=world[_0x37b809(0x34a)]['MessageSystem']['msg'][_0x10848e];if(_0x10848e>=world[_0x37b809(0x34a)][_0x37b809(0x1ed)][_0x37b809(0x23c)]['length'])continue;if(!_0x3af60b)break;this[_0x37b809(0x538)](_0x3af60b);}}console[_0x37b809(0x4a1)](this[_0x37b809(0x40a)]['value']),this['UIevent']['drawUI']();},this[_0x1c7ed4(0x432)]=()=>{var _0x56eddb=_0x1c7ed4;if(!world['map']||!world[_0x56eddb(0x34a)])return;this[_0x56eddb(0x21b)]=![],this['canvas'][_0x56eddb(0x22e)](),this[_0x56eddb(0x33d)][_0x56eddb(0x500)](),this[_0x56eddb(0x496)]=new MyUI(this['canvas'],0x0,0x0,0x32,this[_0x56eddb(0x24b)],this[_0x56eddb(0x4c3)],this[_0x56eddb(0x256)],0x1),this[_0x56eddb(0x496)][_0x56eddb(0x36e)]([{'type':_0x56eddb(0x3cb),'mouseLight':'ff','callback':()=>{var _0x5f203d=_0x56eddb;this[_0x5f203d(0x3c4)]=!this['UIturnExpanded'];},'callback_data':GAME_UI_FONT,'txt':_0x56eddb(0x4bd),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x56eddb(0x1eb),'strokeColor':this[_0x56eddb(0x53c)]?_0x56eddb(0x273):_0x56eddb(0x364),'windowInfo':[{'callback':()=>{return'extand\x20the\x20Turns\x20window';},'input':_0x1d4f09}]}]);var _0x4a74b5=world[_0x56eddb(0x34a)][_0x56eddb(0x1cf)](0xf);for(var _0x1d4f09 in _0x4a74b5){var _0x3197aa=_0x4a74b5[_0x1d4f09],_0x413b5c=[];_0x413b5c[_0x56eddb(0x2a9)]({'type':_0x56eddb(0x345),'img':_0x3197aa['bodyPartImg'],'lenx':0x1e,'leny':0x1e});if(this['UIturnExpanded'])_0x413b5c['push']({'type':_0x56eddb(0x3cb),'mouseLight':'ff','callback':_0x36ef78=>{var _0x8e4cef=_0x56eddb;this['playersSelected']=_0x36ef78;if(world['map'])world[_0x8e4cef(0x359)][_0x8e4cef(0x2d3)](_0x36ef78);},'callback_data':_0x3197aa,'txt':_0x3197aa[_0x56eddb(0x362)],'txt_color':_0x3197aa['team']==TEAM_HUMAN?'#0088ff':'#ff0000','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x56eddb(0x1eb),'strokeColor':this[_0x56eddb(0x32a)]==_0x3197aa?'#000000ff':_0x56eddb(0x273),'windowInfo':[{'callback':_0x1504d9=>{var _0x4cfaf6=_0x56eddb;return _0x4cfaf6(0x341)+_0x1504d9+_0x4cfaf6(0x489);},'input':_0x1d4f09}]});this[_0x56eddb(0x496)]['addHorizontalElem'](_0x413b5c);}this[_0x56eddb(0x496)]['drawUI'](),this['UI']=new MyUI(this['canvas'],this['UIturn'][_0x56eddb(0x3b0)],0x0,this[_0x56eddb(0x3b0)],this[_0x56eddb(0x24b)],this[_0x56eddb(0x4c3)],this[_0x56eddb(0x256)],this[_0x56eddb(0x46e)]);if(this['PlayerInfodisplay']&&this[_0x56eddb(0x32a)])this[_0x56eddb(0x322)](),this['UI']['addButton'](this[_0x56eddb(0x263)]&&this['playersSelected']?_0x56eddb(0x59d):'info',GAME_UI_LETTER_SIZE,'#000000',_0x56eddb(0x5ee),this[_0x56eddb(0x256)],()=>{var _0x4eaaab=_0x56eddb;this[_0x4eaaab(0x263)]=!this[_0x4eaaab(0x263)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world['players'][_0x56eddb(0x281)])this['UI'][_0x56eddb(0x3a4)](_0x56eddb(0x48f),GAME_UI_LETTER_SIZE,'#ffff00','#0320fb',this['stroke'],world[_0x56eddb(0x34a)][_0x56eddb(0x1c0)],undefined,GAME_UI_FONT,_0x56eddb(0x45f)),this['UI']['addButton'](_0x56eddb(0x592),GAME_UI_LETTER_SIZE,_0x56eddb(0x553),_0x56eddb(0x3ad),this[_0x56eddb(0x256)],this[_0x56eddb(0x421)],undefined,GAME_UI_FONT,_0x56eddb(0x527));else this['UI']['addButton'](_0x56eddb(0x37d),GAME_UI_LETTER_SIZE,_0x56eddb(0x261),_0x56eddb(0x4f2),this[_0x56eddb(0x256)],world[_0x56eddb(0x34a)][_0x56eddb(0x1c0)],undefined,GAME_UI_FONT,_0x56eddb(0x45f));if(this[_0x56eddb(0x566)]&&!this[_0x56eddb(0x32a)]){var _0x3adf58=this[_0x56eddb(0x566)]['x'],_0x40ad0d=this[_0x56eddb(0x566)]['y'],_0x26d6ce={'r':Math[_0x56eddb(0x295)](Math['random']()*0x100),'g':Math[_0x56eddb(0x295)](Math['random']()*0x100),'b':Math['floor'](Math[_0x56eddb(0x471)]()*0x100)};this['UI']['addButton']('spawn\x20player',GAME_UI_LETTER_SIZE,_0x56eddb(0x553),_0x56eddb(0x425),this[_0x56eddb(0x256)],world[_0x56eddb(0x34a)][_0x56eddb(0x19a)],{'x':_0x3adf58,'y':_0x40ad0d,'color':_0x26d6ce},GAME_UI_FONT);}if(this['playersSelected']){var _0x3197aa=this[_0x56eddb(0x32a)];this['UI'][_0x56eddb(0x3a4)](_0x3197aa[_0x56eddb(0x362)],GAME_UI_LETTER_SIZE,_0x56eddb(0x553),_0x56eddb(0x5ee),this[_0x56eddb(0x256)],()=>{var _0x5b9e0e=_0x56eddb;this[_0x5b9e0e(0x263)]=!this[_0x5b9e0e(0x263)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this[_0x56eddb(0x32a)]==world[_0x56eddb(0x34a)]['Playerturn']&&this[_0x56eddb(0x32a)][_0x56eddb(0x23b)]==TEAM_HUMAN){if(_0x3197aa[_0x56eddb(0x38d)]&&_0x3197aa[_0x56eddb(0x1bd)]&&_0x3197aa[_0x56eddb(0x38d)][_0x56eddb(0x36b)])this['UI']['addImage'](_0x3197aa[_0x56eddb(0x38d)],0x64,0x64);else this[_0x56eddb(0x21b)]=!![];if(this[_0x56eddb(0x5a1)])this['UI'][_0x56eddb(0x47f)](_0x56eddb(0x42c)+this[_0x56eddb(0x5a1)][_0x56eddb(0x34b)],GAME_UI_LETTER_SIZE*0.8,0x14,_0x56eddb(0x553),GAME_UI_FONT);else for(var _0x1d4f09 in _0x3197aa['capacityList']){var _0x19447d=_0x3197aa['capacityList'][_0x1d4f09];this['UI'][_0x56eddb(0x3a4)](_0x19447d[_0x56eddb(0x362)],GAME_UI_LETTER_SIZE,'#000000',_0x56eddb(0x425),this[_0x56eddb(0x256)],this['SelectingBlockAction'],{'callback':_0x19447d[_0x56eddb(0x394)],'info':_0x19447d[_0x56eddb(0x48e)],'highlight':{'callback':_0x19447d[_0x56eddb(0x383)],'input':_0x19447d[_0x56eddb(0x284)]},'windowInfo':_0x19447d[_0x56eddb(0x407)]},GAME_UI_FONT,parseInt(_0x1d4f09)+0x1);}}}}this[_0x56eddb(0x54c)](),this['UI'][_0x56eddb(0x5ab)](),this[_0x56eddb(0x571)](!![]);},this['GetPageSelector']=_0x1f8a70=>{var _0x37ec90=_0x1c7ed4,_0x3f2f6a=[{'type':_0x37ec90(0x3cb),'callback':()=>{var _0x17e0d7=_0x37ec90;_0x1f8a70[_0x17e0d7(0x349)]=_0x1f8a70[_0x17e0d7(0x349)]>0x0?_0x1f8a70[_0x17e0d7(0x349)]-0x1:0x0;},'txt':'','txt_color':_0x37ec90(0x5ee),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':_0x37ec90(0x553),'windowInfo':[{'callback':()=>{var _0x4eb3d5=_0x37ec90;return _0x4eb3d5(0x4b1);}}]},{'type':'button','callback':()=>{var _0x3f5d59=_0x37ec90;_0x1f8a70[_0x3f5d59(0x349)]++;},'txt':'','txt_color':_0x37ec90(0x5ee),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x37ec90(0x237),'strokeColor':_0x37ec90(0x553),'windowInfo':[{'callback':()=>{var _0x32c7ca=_0x37ec90;return _0x32c7ca(0x560);}}]},{'type':_0x37ec90(0x5a3),'txt':'['+_0x1f8a70[_0x37ec90(0x349)]+':'+(_0x1f8a70['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x37ec90(0x553),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0x3f2f6a;},this[_0x1c7ed4(0x538)]=_0x254645=>{var _0x37bf9f=_0x1c7ed4;if(!_0x254645)return;var _0x8bd4b3=_0x37bf9f(0x553);switch(_0x254645[_0x37bf9f(0x475)]){case TEAM_HUMAN:_0x8bd4b3='#0000ff';break;case TEAM_AI:_0x8bd4b3=_0x37bf9f(0x26f);break;}this[_0x37bf9f(0x5e4)][_0x37bf9f(0x47f)](_0x254645[_0x37bf9f(0x5a3)],GAME_UI_LETTER_SIZE/0x2,0x270f,_0x8bd4b3,GAME_UI_FONT);};},ControlManager=function(){var _0x46b162=_0x492d20;this['keyDown']=[],this['keyUp']=[],this[_0x46b162(0x215)]={'x':0x0,'y':0x0,'lastTime':new Date()[_0x46b162(0x248)]()},window[_0x46b162(0x1b2)]('keydown',_0x34a855=>{var _0x3c6b9e=_0x46b162;if(_0x34a855[_0x3c6b9e(0x443)])return;var _0x5bdfcf=_0x34a855[_0x3c6b9e(0x30c)],_0xb8e5e9=_0x34a855[_0x3c6b9e(0x55c)];this[_0x3c6b9e(0x4b6)][_0xb8e5e9]=!![];}),window[_0x46b162(0x1b2)]('keyup',_0xea1c7d=>{var _0x58ed60=_0x46b162,_0x39a1da=_0xea1c7d[_0x58ed60(0x30c)],_0x3915aa=_0xea1c7d[_0x58ed60(0x55c)];this['keyDown'][_0x3915aa]=![],this[_0x58ed60(0x5c4)][_0x3915aa]=!![];}),window[_0x46b162(0x1b2)]('wheel',_0x1289b8=>{var _0x3ed0c6=_0x46b162,_0x4fd04a=_0x1289b8['deltaY'];if(world[_0x3ed0c6(0x359)]){if(_0x4fd04a>0x0)world[_0x3ed0c6(0x359)][_0x3ed0c6(0x4e3)](0x0,0x0,0.95);else{if(_0x4fd04a<0x0)world[_0x3ed0c6(0x359)][_0x3ed0c6(0x4e3)](0x0,0x0,1.05);}}}),window[_0x46b162(0x1b2)](_0x46b162(0x463),_0x33b28e=>{var _0x7038ee=_0x46b162,_0x2cda74=world['Screen'][_0x7038ee(0x43b)]['mapFloor'];pos=_0x2cda74[_0x7038ee(0x1db)](_0x33b28e[_0x7038ee(0x4a4)],_0x33b28e[_0x7038ee(0x589)]),pos&&(this[_0x7038ee(0x509)]={'x':pos['x'],'y':pos['y'],'button':_0x33b28e[_0x7038ee(0x3cb)]});}),window[_0x46b162(0x1b2)](_0x46b162(0x278),_0x5a6e0c=>{var _0x1ca610=_0x46b162,_0x10eca1=world[_0x1ca610(0x4f1)]['canList'][_0x1ca610(0x200)];this[_0x1ca610(0x215)]=_0x10eca1[_0x1ca610(0x1db)](_0x5a6e0c['clientX'],_0x5a6e0c['clientY']);if(this[_0x1ca610(0x215)])this['mousePos']['lastTime']=new Date()[_0x1ca610(0x248)]();}),this[_0x46b162(0x4d8)]=()=>{var _0x219d68=_0x46b162,_0x3ecb31=![];if(world[_0x219d68(0x359)]){if(this['keyDown']['KeyW'])world[_0x219d68(0x359)][_0x219d68(0x4e3)](0x0,-0.1/world[_0x219d68(0x359)][_0x219d68(0x24b)],0x1);if(this[_0x219d68(0x4b6)][_0x219d68(0x4cc)])world[_0x219d68(0x359)][_0x219d68(0x4e3)](0x0,0.1/world['map']['scale'],0x1);if(this[_0x219d68(0x4b6)][_0x219d68(0x3e1)])world['map']['changeMapView'](-0.1/world[_0x219d68(0x359)][_0x219d68(0x24b)],0x0,0x1);if(this[_0x219d68(0x4b6)]['KeyD'])world[_0x219d68(0x359)][_0x219d68(0x4e3)](0.1/world['map']['scale'],0x0,0x1);if(this['keyDown'][_0x219d68(0x56f)])world[_0x219d68(0x359)][_0x219d68(0x4e3)](0x0,-0.1/world['map'][_0x219d68(0x24b)],0x1);if(this['keyDown'][_0x219d68(0x3e3)])world[_0x219d68(0x359)][_0x219d68(0x4e3)](0x0,0.1/world[_0x219d68(0x359)]['scale'],0x1);if(this[_0x219d68(0x4b6)][_0x219d68(0x1ad)])world[_0x219d68(0x359)][_0x219d68(0x4e3)](-0.1/world['map'][_0x219d68(0x24b)],0x0,0x1);if(this[_0x219d68(0x4b6)]['ArrowRight'])world[_0x219d68(0x359)][_0x219d68(0x4e3)](0.1/world['map']['scale'],0x0,0x1);if(this[_0x219d68(0x4b6)][_0x219d68(0x29c)])world['map'][_0x219d68(0x4e3)](0x0,0x0,0.95);if(this[_0x219d68(0x4b6)][_0x219d68(0x249)])world[_0x219d68(0x359)][_0x219d68(0x4e3)](0x0,0x0,1.05);}if(this['keyUp'][_0x219d68(0x1e0)]){if(!world['Screen'][_0x219d68(0x59f)])world[_0x219d68(0x4f1)][_0x219d68(0x1c1)]();else world['Screen']['closeFullscreen'](document);world['Music'][_0x219d68(0x258)](_0x219d68(0x3fc),undefined,!![]);}for(var _0x4379da in this[_0x219d68(0x5c4)]){if(!_0x3ecb31&&_0x4379da[_0x219d68(0x5f8)](_0x219d68(0x466))||_0x4379da['startsWith'](_0x219d68(0x1c4)))_0x4379da=_0x4379da['replace']('Digit','')[_0x219d68(0x3cc)](_0x219d68(0x1c4),'');if(world[_0x219d68(0x21e)]&&!_0x3ecb31&&world[_0x219d68(0x21e)][_0x219d68(0x195)](_0x4379da)){world['Music']['playSound']('click',undefined,!![]),_0x3ecb31=!![];if(world[_0x219d68(0x21e)])world[_0x219d68(0x21e)][_0x219d68(0x21b)]=!![];break;}if(world[_0x219d68(0x517)]&&world[_0x219d68(0x517)][_0x219d68(0x195)](_0x4379da)){world[_0x219d68(0x4ec)][_0x219d68(0x258)]('click',undefined,!![]),_0x3ecb31=!![];if(world[_0x219d68(0x517)])world['villageUI'][_0x219d68(0x21b)]=!![];break;}if(world[_0x219d68(0x2eb)]&&world[_0x219d68(0x2eb)]['getKeyInput'](_0x4379da)){world[_0x219d68(0x4ec)]['playSound'](_0x219d68(0x3fc),undefined,!![]),_0x3ecb31=!![];if(world[_0x219d68(0x2eb)])world[_0x219d68(0x2eb)][_0x219d68(0x21b)]=!![];break;}}this['keyUp']=[];if(this[_0x219d68(0x509)]){if(!_0x3ecb31&&world[_0x219d68(0x21e)]&&world[_0x219d68(0x21e)][_0x219d68(0x350)](this[_0x219d68(0x509)])){world[_0x219d68(0x4ec)][_0x219d68(0x258)](_0x219d68(0x3fc),undefined,!![]),_0x3ecb31=!![];if(world['GameUI'])world[_0x219d68(0x21e)]['needRedraw']=!![];}if(!_0x3ecb31&&world['villageUI']&&world['villageUI'][_0x219d68(0x350)](this[_0x219d68(0x509)])){world[_0x219d68(0x4ec)][_0x219d68(0x258)](_0x219d68(0x3fc),undefined,!![]),_0x3ecb31=!![];if(world['villageUI'])world[_0x219d68(0x517)][_0x219d68(0x21b)]=!![];}if(!_0x3ecb31&&world[_0x219d68(0x2eb)]&&world[_0x219d68(0x2eb)]['getMouseInput'](this[_0x219d68(0x509)])){world['Music'][_0x219d68(0x258)](_0x219d68(0x3fc),undefined,!![]),_0x3ecb31=!![];if(world[_0x219d68(0x2eb)])world['MenuUI'][_0x219d68(0x21b)]=!![];}}this[_0x219d68(0x509)]=undefined;};},PLAYER_WEAPON_IMG=[{'name':_0x492d20(0x2ae),'center':{'x':0xa1,'y':0xd},'sound':'spear_attack'},{'name':_0x492d20(0x3c3),'center':{'x':0x28,'y':0x11},'sound':_0x492d20(0x26c)},{'name':_0x492d20(0x40c),'center':{'x':0x3c,'y':0x40},'sound':_0x492d20(0x5cf)},{'name':_0x492d20(0x1b1),'center':{'x':0x16,'y':0x11},'sound':_0x492d20(0x25d)},{'name':_0x492d20(0x441),'center':{'x':0x32,'y':0x37},'sound':_0x492d20(0x25d)},{'name':_0x492d20(0x1e8),'center':{'x':0x39,'y':0x25},'sound':_0x492d20(0x202)},{'name':'stone_pickaxe','center':{'x':0x41,'y':0x46},'sound':'mine'},{'name':_0x492d20(0x4d9),'center':{'x':0xa,'y':0x1a},'sound':_0x492d20(0x26c)},{'name':'copper_hammer','center':{'x':0x1f,'y':0x29},'sound':_0x492d20(0x1b8)}],WEAPON_TYPE=[{'name':_0x492d20(0x49f),'Img':'wood_stick','weaponAnim':_0x492d20(0x5da),'bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':_0x492d20(0x50c),'input':{}},'zoneTarget':[{'callback':_0x492d20(0x4be),'damageBase':[{'stats':_0x492d20(0x57c),'type':_0x492d20(0x1ab),'value':0x1}]}]},{'name':_0x492d20(0x41e),'Img':'stone_spear','weaponAnim':_0x492d20(0x3eb),'bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':_0x492d20(0x309),'input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':'Strength','type':'piercing','value':1.5}]},{'callback':_0x492d20(0x199),'damageBase':[{'stats':_0x492d20(0x57c),'type':_0x492d20(0x4cb),'value':0.5}]}]},{'name':_0x492d20(0x1bb),'Img':'stone_axe','weaponAnim':_0x492d20(0x5da),'bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x492d20(0x4be),'damageBase':[{'stats':'Strength','type':_0x492d20(0x1ab),'value':0x1},{'stats':_0x492d20(0x57c),'type':_0x492d20(0x32e),'value':0x1}]}]},{'name':'Metal\x20Sword','Img':_0x492d20(0x3c3),'weaponAnim':_0x492d20(0x5da),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':_0x492d20(0x309),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x492d20(0x4be),'damageBase':[{'stats':_0x492d20(0x57c),'type':_0x492d20(0x4cb),'value':1.5},{'stats':_0x492d20(0x57c),'type':_0x492d20(0x32e),'value':1.5}]}]},{'name':_0x492d20(0x2d5),'Img':'metal_axe','weaponAnim':'sword_2h','actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':_0x492d20(0x309),'input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x492d20(0x4be),'damageBase':[{'stats':_0x492d20(0x57c),'type':_0x492d20(0x1ab),'value':0x2},{'stats':'Strength','type':_0x492d20(0x32e),'value':0x2}]},{'callback':_0x492d20(0x504),'callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':'Strength','type':'crushing','value':0.2},{'stats':'Strength','type':'slashing','value':0.2}]}]},{'name':_0x492d20(0x260),'Img':_0x492d20(0x1e8),'weaponAnim':'bow','bonus':[BONUS_HUNTER_FOREST],'projectil':{'ammo':'wood_arrow','projectilSpeed':0x64,'sound':'arrow_projectil'},'actionCost':0x32,'blockTargetingFunction':{'callback':_0x492d20(0x3ea),'input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':_0x492d20(0x4be),'damageBase':[{'stats':'Dexterity','type':_0x492d20(0x4cb),'value':0x1}]}]},{'name':_0x492d20(0x1f6),'Img':_0x492d20(0x38a),'weaponAnim':_0x492d20(0x5da),'actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':_0x492d20(0x50c),'input':{}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x492d20(0x57c),'type':_0x492d20(0x4cb),'value':0x2}]}]},{'name':_0x492d20(0x3d9),'Img':_0x492d20(0x4d9),'weaponAnim':'sword','actionCost':0x1e,'bonus':[BONUS_BUTCHER],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x492d20(0x50c),'input':{}},'zoneTarget':[{'callback':_0x492d20(0x4be),'damageBase':[{'stats':'Dexterity','type':_0x492d20(0x32e),'value':1.7}]}]},{'name':'Copper\x20Hammer','Img':'copper_hammer','weaponAnim':_0x492d20(0x5da),'actionCost':0x36,'bonus':[BONUS_FORGE_UPPGRADE],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x492d20(0x50c),'input':{}},'zoneTarget':[{'callback':_0x492d20(0x4be),'damageBase':[{'stats':'Strength','type':'smashing','value':2.3}]}]}],Weapon=function(){var _0x50ac88=_0x492d20;this[_0x50ac88(0x4c2)]=_0x50ac88(0x498),this[_0x50ac88(0x362)],this[_0x50ac88(0x497)],this[_0x50ac88(0x345)],this[_0x50ac88(0x5ea)],this['zoneTarget'],this['actionCost'],this['blockTargetingFunction'],this[_0x50ac88(0x3fb)],this['upgradeLvl'],this['createNewWeapon']=_0xf9826=>{var _0x41a7dc=_0x50ac88;if(!_0xf9826||!_0xf9826['name'])return console[_0x41a7dc(0x4a1)]('can\x27t\x20create\x20this\x20weapon');var _0x26c8a1=WEAPON_TYPE[_0x41a7dc(0x521)](_0x546d78=>_0x546d78[_0x41a7dc(0x362)]==_0xf9826[_0x41a7dc(0x362)]);if(!_0x26c8a1)return console[_0x41a7dc(0x4a1)](_0x41a7dc(0x2c3));var _0xe8d607=PLAYER_WEAPON_IMG[_0x41a7dc(0x521)](_0xf03222=>_0xf03222['name']==_0x26c8a1[_0x41a7dc(0x33a)]);if(!_0xe8d607)return console[_0x41a7dc(0x4a1)]('can\x27t\x20create\x20this\x20weapon');return this[_0x41a7dc(0x345)]=_0xe8d607['name'],this[_0x41a7dc(0x362)]=_0xf9826['name'],this[_0x41a7dc(0x5ea)]=_0x26c8a1[_0x41a7dc(0x497)],this[_0x41a7dc(0x1a7)]=_0x26c8a1['zoneTarget'],this[_0x41a7dc(0x585)]=_0x26c8a1['actionCost'],this['blockTargetingFunction']=_0x26c8a1[_0x41a7dc(0x436)],this['projectil']=_0x26c8a1['projectil'],this[_0x41a7dc(0x3fb)]=_0x26c8a1[_0x41a7dc(0x3fb)],this['upgradeLvl']=_0x26c8a1[_0x41a7dc(0x20a)],this;},this[_0x50ac88(0x4e8)]=_0x17a42c=>{for(var _0x9a727f in _0x17a42c){this[_0x9a727f]=_0x17a42c[_0x9a727f];}return this;},this[_0x50ac88(0x4e6)]=()=>{var _0x292463=_0x50ac88,_0x1cd933=WEAPON_TYPE[Math[_0x292463(0x295)](Math[_0x292463(0x471)]()*WEAPON_TYPE['length'])];return this[_0x292463(0x1fc)]({'name':_0x1cd933['name']});},this[_0x50ac88(0x302)]=()=>{var _0x58f9a8=_0x50ac88,_0x319ea9=_0x58f9a8(0x482)+this['name']+_0x58f9a8(0x46c)+this[_0x58f9a8(0x585)]+'\x20action\x20points';switch(this['blockTargetingFunction']['callback']){case _0x58f9a8(0x50c):_0x319ea9+=_0x58f9a8(0x313);break;case _0x58f9a8(0x309):_0x319ea9+='\x0aTarget\x20between\x20['+this['blockTargetingFunction']['input'][_0x58f9a8(0x275)]+','+this[_0x58f9a8(0x436)][_0x58f9a8(0x2a3)]['rangeMax']+']';break;}for(var _0x6b809b in this[_0x58f9a8(0x1a7)]){var _0x2b5b78=this[_0x58f9a8(0x1a7)][_0x6b809b];switch(_0x2b5b78[_0x58f9a8(0x394)]){case _0x58f9a8(0x4be):_0x319ea9+=_0x58f9a8(0x38b);break;case _0x58f9a8(0x199):var _0xf72d36=_0x2b5b78[_0x58f9a8(0x595)]?_0x2b5b78[_0x58f9a8(0x595)][_0x58f9a8(0x275)]:0x1,_0x17113f=_0x2b5b78['callback_data']?_0x2b5b78[_0x58f9a8(0x595)][_0x58f9a8(0x221)]:0x1;_0x319ea9+=_0x58f9a8(0x2f0)+[_0xf72d36,_0x17113f]+_0x58f9a8(0x3ab);break;case _0x58f9a8(0x504):var _0xf72d36=_0x2b5b78['callback_data']?_0x2b5b78[_0x58f9a8(0x595)][_0x58f9a8(0x275)]:0x1,_0x17113f=_0x2b5b78[_0x58f9a8(0x595)]?_0x2b5b78['callback_data']['rangeMax']:0x1;_0x319ea9+='\x0a-hit\x20['+[_0xf72d36,_0x17113f]+_0x58f9a8(0x487);break;}for(var _0x284823 in _0x2b5b78[_0x58f9a8(0x5b0)]){var _0x591c1f=_0x2b5b78[_0x58f9a8(0x5b0)][_0x284823];_0x319ea9+=_0x58f9a8(0x412)+_0x591c1f[_0x58f9a8(0x349)]+'\x20'+_0x591c1f[_0x58f9a8(0x218)]+'\x20'+_0x591c1f['type']+_0x58f9a8(0x44e);}}for(var _0x6b809b in this['bonus'])if(BONUS_DESCRIPTION[this[_0x58f9a8(0x3fb)]])_0x319ea9+='\x0a'+BONUS_DESCRIPTION[this['bonus']];return _0x319ea9;},this[_0x50ac88(0x274)]=()=>{var _0x108074=_0x50ac88;if(!this[_0x108074(0x20a)])return![];return Math[_0x108074(0x361)](0x64*(0x1/(0x2+this[_0x108074(0x20a)])));},this[_0x50ac88(0x536)]=_0x15ddbc=>{var _0x49b751=_0x50ac88;if(!this['upgradeLvl']||!_0x15ddbc||!_0x15ddbc[_0x49b751(0x4a3)]||!_0x15ddbc[_0x49b751(0x4a3)]['villageActionPoint'])return![];var _0x65d9a0=Math[_0x49b751(0x295)](Math['random']()*0x64),_0x34b508=_0x15ddbc[_0x49b751(0x4a3)],_0x481f48=0x1;_0x34b508['villageActionPoint']=0x0;if(_0x34b508[_0x49b751(0x498)]&&_0x34b508[_0x49b751(0x498)][_0x49b751(0x3fb)][_0x49b751(0x521)](_0x286d74=>_0x286d74==BONUS_FORGE_UPPGRADE))_0x481f48++;if(_0x65d9a0/_0x481f48-_0x34b508[_0x49b751(0x5c2)]/0x2<this['getChanceUppgrade']()){var _0x2fe242=Math[_0x49b751(0x295)](Math['random']()*this[_0x49b751(0x1a7)][_0x49b751(0x1e9)]),_0x3f4e1d=this['zoneTarget'][_0x2fe242],_0x282e14=Math[_0x49b751(0x295)](Math[_0x49b751(0x471)]()*_0x3f4e1d[_0x49b751(0x5b0)]['length']),_0x4988cf=_0x3f4e1d[_0x49b751(0x5b0)][_0x282e14][_0x49b751(0x349)]*0.1,_0xdf7871=_0x4988cf['toFixed'](0x1);_0x4988cf=parseFloat((_0x3f4e1d[_0x49b751(0x5b0)][_0x282e14][_0x49b751(0x349)]+_0x4988cf)[_0x49b751(0x27a)](0x1));if(_0x4988cf<0.1)_0x4988cf=0.1;return _0x3f4e1d['damageBase'][_0x282e14][_0x49b751(0x349)]=_0x4988cf,this[_0x49b751(0x20a)]++,world[_0x49b751(0x4d5)][_0x49b751(0x1ed)]['addMessage']({'type':_0x49b751(0x398),'txt':'Success\x20\x27'+this[_0x49b751(0x362)]+'\x27\x20'+_0x3f4e1d[_0x49b751(0x5b0)][_0x282e14]['stats']+'\x20'+_0x3f4e1d[_0x49b751(0x5b0)][_0x282e14]['type']+_0x49b751(0x4fe)+_0xdf7871}),!![];}return world[_0x49b751(0x4d5)][_0x49b751(0x1ed)][_0x49b751(0x225)]({'type':_0x49b751(0x398),'txt':'Fail\x20!\x27'+this[_0x49b751(0x362)]+_0x49b751(0x4f9)}),![];};};function CalculeDamageWeaponFromPlayerStats(_0x18722b){var _0x4759c6=_0x492d20;if(!_0x18722b||!_0x18722b['player']||!_0x18722b[_0x4759c6(0x32f)])return undefined;var _0x5e67ea=_0x18722b[_0x4759c6(0x32f)],_0x42161c=_0x18722b['player'],_0x524039=[];for(var _0x30a5e6 in _0x5e67ea)_0x524039[_0x4759c6(0x2a9)]({'type':_0x5e67ea[_0x30a5e6]['type'],'value':_0x42161c[_0x4759c6(0x218)][_0x5e67ea[_0x30a5e6][_0x4759c6(0x218)]]*_0x5e67ea[_0x30a5e6][_0x4759c6(0x349)]});return _0x524039;}PLAYER_ARMOR=[{'name':_0x492d20(0x252),'img':'wood_armor','dmgArmor':[{'damage':'piercing','type':_0x492d20(0x4d0),'value':0x14},{'damage':_0x492d20(0x4cb),'value':0x2}]},{'name':_0x492d20(0x327),'img':_0x492d20(0x332),'dmgArmor':[{'damage':'piercing','value':0x5},{'damage':_0x492d20(0x1ab),'value':0x5},{'damage':'slashing','value':0x5}]},{'name':_0x492d20(0x51a),'img':_0x492d20(0x543),'dmgArmor':[{'damage':'crushing','type':'factor','value':0x19},{'damage':_0x492d20(0x1ab),'value':0x5}]},{'name':_0x492d20(0x2a7),'img':_0x492d20(0x5b5),'dmgArmor':[{'damage':'slashing','type':'factor','value':0x5},{'damage':_0x492d20(0x32e),'value':0xa}]}],Armor=function(){var _0x5cecc1=_0x492d20;this[_0x5cecc1(0x4c2)]=_0x5cecc1(0x4b8),this[_0x5cecc1(0x362)],this[_0x5cecc1(0x345)],this[_0x5cecc1(0x276)],this[_0x5cecc1(0x455)]=_0x1b2134=>{var _0x235823=_0x5cecc1;if(!_0x1b2134||!_0x1b2134[_0x235823(0x362)])return undefined;this['name']=_0x1b2134[_0x235823(0x362)];var _0x501271=PLAYER_ARMOR[_0x235823(0x521)](_0x2c8bcb=>_0x2c8bcb[_0x235823(0x362)]==_0x1b2134[_0x235823(0x362)]);if(!_0x501271)return undefined;return this[_0x235823(0x345)]=_0x501271[_0x235823(0x345)]?_0x501271[_0x235823(0x345)]:this[_0x235823(0x362)],this['dmgArmor']=_0x501271[_0x235823(0x276)],this;},this[_0x5cecc1(0x285)]=_0x40700c=>{for(var _0x4f931f in _0x40700c)this[_0x4f931f]=_0x40700c[_0x4f931f];return this;},this[_0x5cecc1(0x2e0)]=()=>{var _0x2fee20=_0x5cecc1;return this['createNewArmor']({'name':PLAYER_ARMOR[Math[_0x2fee20(0x295)](Math['random']()*PLAYER_ARMOR['length'])][_0x2fee20(0x362)]});},this[_0x5cecc1(0x2c2)]=_0x4ca247=>{var _0x293f62=_0x5cecc1;if(!_0x4ca247||!_0x4ca247[_0x293f62(0x317)]||_0x4ca247['damages'][_0x293f62(0x1e9)]<0x1)return 0x0;var _0x57578f=0x0;for(var _0x20e82d in _0x4ca247['damages']){var _0x54960e=_0x4ca247[_0x293f62(0x317)][_0x20e82d],_0x1f5a0b=_0x54960e[_0x293f62(0x349)];console[_0x293f62(0x4a1)](_0x293f62(0x414)+_0x54960e+'\x20'+_0x1f5a0b);for(var _0x1bfa1 in this[_0x293f62(0x276)]){var _0x326528=this['dmgArmor'][_0x1bfa1];console[_0x293f62(0x4a1)](_0x293f62(0x338)+[_0x326528[_0x293f62(0x32f)],_0x326528[_0x293f62(0x475)],_0x54960e[_0x293f62(0x475)]]);if(_0x326528['damage']==_0x54960e['type']){console[_0x293f62(0x4a1)]('reducing\x20'+_0x54960e['type']+_0x293f62(0x19f)+_0x326528['value']+_0x293f62(0x35f)+_0x326528[_0x293f62(0x475)]);if(_0x326528[_0x293f62(0x475)])_0x1f5a0b=_0x1f5a0b*(0x1-_0x326528[_0x293f62(0x349)]/0x64);else _0x1f5a0b=_0x1f5a0b-_0x326528[_0x293f62(0x349)];}}if(_0x1f5a0b>0x0)_0x57578f+=_0x1f5a0b;}console[_0x293f62(0x4a1)](_0x293f62(0x379)+_0x57578f+'\x20('+Math[_0x293f62(0x295)](_0x57578f)+')');if(_0x57578f>0x0)return parseInt(_0x57578f);return 0x0;},this['getArmorDescription']=()=>{var _0x316483=_0x5cecc1,_0x3ba2d5='\x27'+this[_0x316483(0x362)]+'\x27';for(var _0x27b3a7 in this['dmgArmor']){_0x3ba2d5+='\x0a-reduce\x20';if(this[_0x316483(0x276)][_0x27b3a7]['type'])_0x3ba2d5+=this[_0x316483(0x276)][_0x27b3a7][_0x316483(0x349)]+_0x316483(0x42b);else _0x3ba2d5+=this[_0x316483(0x276)][_0x27b3a7][_0x316483(0x349)]+'\x20';_0x3ba2d5+=this[_0x316483(0x276)][_0x27b3a7]['damage']+_0x316483(0x53b);}return _0x3ba2d5;};},HUMAN_NAME_LIST=[_0x492d20(0x20f),_0x492d20(0x3a6),_0x492d20(0x2a0),_0x492d20(0x207),_0x492d20(0x2c4),_0x492d20(0x28d),_0x492d20(0x1c7),_0x492d20(0x290),_0x492d20(0x1c8),_0x492d20(0x3a3),_0x492d20(0x30d),_0x492d20(0x52c),_0x492d20(0x47b),_0x492d20(0x1c5),_0x492d20(0x477),_0x492d20(0x4fa),_0x492d20(0x26d),_0x492d20(0x277),'Lorelei\x20Alexander',_0x492d20(0x198),_0x492d20(0x4ae),_0x492d20(0x1ca),_0x492d20(0x5c1),_0x492d20(0x39a),_0x492d20(0x352),'Denver\x20Leal','Murphy\x20Nava',_0x492d20(0x472),'Anahi\x20Strickland',_0x492d20(0x5f9),_0x492d20(0x3c9),'Ares\x20Long',_0x492d20(0x391),'Ryder\x20Sandoval',_0x492d20(0x1f9),'Vincent\x20Dougherty',_0x492d20(0x51c),_0x492d20(0x57d),_0x492d20(0x4cd),'Nathan\x20Beltran',_0x492d20(0x245),_0x492d20(0x600),_0x492d20(0x4ba),_0x492d20(0x4c7),_0x492d20(0x3b2),_0x492d20(0x5ef),_0x492d20(0x33f),_0x492d20(0x3b7),'Vada\x20Conley',_0x492d20(0x491),'Ximena\x20Zimmerman',_0x492d20(0x5e6),_0x492d20(0x268),_0x492d20(0x599),_0x492d20(0x4aa),_0x492d20(0x354),_0x492d20(0x28b),_0x492d20(0x2d2),_0x492d20(0x3af),_0x492d20(0x1b5),_0x492d20(0x32b),_0x492d20(0x467),'Capri\x20Glenn',_0x492d20(0x382),_0x492d20(0x445),_0x492d20(0x47a),_0x492d20(0x473),_0x492d20(0x1fa),_0x492d20(0x459),_0x492d20(0x515),'Daisy\x20Robinson',_0x492d20(0x3cd),_0x492d20(0x478),'Dennis\x20Parrish',_0x492d20(0x4c6),_0x492d20(0x3f6),_0x492d20(0x541),_0x492d20(0x348),_0x492d20(0x3bc),_0x492d20(0x336),_0x492d20(0x3ca),_0x492d20(0x402),_0x492d20(0x3e2),_0x492d20(0x243),_0x492d20(0x411),_0x492d20(0x41a),_0x492d20(0x299),_0x492d20(0x1c3),_0x492d20(0x550),_0x492d20(0x419),'Skye\x20Ramirez',_0x492d20(0x3c5),'Alaina\x20Bradford',_0x492d20(0x42e),_0x492d20(0x33b),_0x492d20(0x511),'Bonnie\x20Bishop',_0x492d20(0x540),_0x492d20(0x39d),_0x492d20(0x5ad)],MessageSystem=function(){var _0x34da3e=_0x492d20;world[_0x34da3e(0x1ed)]=this,this[_0x34da3e(0x23c)]=[],COLOR_SYSTEM_DEFAULT=_0x34da3e(0x553),MAX_MESSAGE=0xc8,this[_0x34da3e(0x225)]=_0x4e595f=>{var _0x37f15b=_0x34da3e;if(!_0x4e595f||!_0x4e595f[_0x37f15b(0x5a3)])return;this['msg'][_0x37f15b(0x59c)]({'type':_0x4e595f[_0x37f15b(0x475)],'txt':_0x4e595f[_0x37f15b(0x5a3)]});while(this[_0x37f15b(0x23c)]['length']>MAX_MESSAGE)this[_0x37f15b(0x23c)][_0x37f15b(0x1ec)]();},this[_0x34da3e(0x225)]({'txt':'start\x20message\x20system'}),this['getMessageSystem']=_0x4db490=>{var _0x245c49=_0x34da3e;if(!_0x4db490||!this['msg']||this['msg']['length']<0x1)return[];var _0x538ea0=_0x4db490[_0x245c49(0x37e)]&&_0x4db490['page']<this[_0x245c49(0x23c)][_0x245c49(0x1e9)]?_0x4db490['page']:0x0,_0x40bfbf=_0x4db490[_0x245c49(0x554)]?_0x4db490[_0x245c49(0x554)]:0xa;while(_0x538ea0+_0x40bfbf>this[_0x245c49(0x23c)]['length']&&_0x40bfbf>0x0)_0x40bfbf--;var _0x383fa9=[],_0x511a5f=0x0;while(_0x511a5f<_0x40bfbf&&this[_0x245c49(0x23c)][_0x538ea0+_0x511a5f]){_0x383fa9['push'](this[_0x245c49(0x23c)][_0x538ea0+_0x511a5f]),_0x511a5f++;}return _0x383fa9;};},PlayerVillage=function(_0x218296){var _0xff306e=_0x492d20;this[_0xff306e(0x362)]=_0x218296[_0xff306e(0x362)]?_0x218296['name']:HUMAN_NAME_LIST[Math[_0xff306e(0x295)](Math['random']()*HUMAN_NAME_LIST[_0xff306e(0x1e9)])],this['color']=_0x218296[_0xff306e(0x4a5)]?_0x218296[_0xff306e(0x4a5)]:{'r':Math[_0xff306e(0x295)](Math[_0xff306e(0x471)]()*0x100),'g':Math['floor'](Math[_0xff306e(0x471)]()*0x100),'b':Math[_0xff306e(0x295)](Math[_0xff306e(0x471)]()*0x100)},this[_0xff306e(0x38d)]=undefined,this[_0xff306e(0x1bd)]=![],this[_0xff306e(0x3d0)]='human';var _0x49c645=PLAYER_FACE_IMG[_0xff306e(0x525)](_0x4c6c19=>_0x4c6c19[_0xff306e(0x5f8)](this[_0xff306e(0x3d0)]));this[_0xff306e(0x3f5)]=_0x218296[_0xff306e(0x3f5)]?_0x218296[_0xff306e(0x3f5)]:_0x49c645[Math['floor'](Math[_0xff306e(0x471)]()*_0x49c645[_0xff306e(0x1e9)])];var _0x355907=PLAYER_BODY_IMG['filter'](_0x3e1710=>_0x3e1710[_0xff306e(0x5f8)](this[_0xff306e(0x3d0)]));this['body_type']=_0x218296[_0xff306e(0x4df)]?_0x218296[_0xff306e(0x4df)]:_0x355907[Math[_0xff306e(0x295)](Math[_0xff306e(0x471)]()*_0x355907[_0xff306e(0x1e9)])],this[_0xff306e(0x4b8)]=_0x218296[_0xff306e(0x4b8)]?_0x218296[_0xff306e(0x4b8)]:undefined,this[_0xff306e(0x498)]=_0x218296[_0xff306e(0x498)]?_0x218296[_0xff306e(0x498)]:undefined,this[_0xff306e(0x369)]=_0x218296['speed']?_0x218296[_0xff306e(0x369)]:0x64,this[_0xff306e(0x438)]=_0x218296[_0xff306e(0x438)]?_0x218296[_0xff306e(0x438)]:0x64,this[_0xff306e(0x227)]=_0x218296[_0xff306e(0x227)]?_0x218296[_0xff306e(0x227)]:0x64,this['stats']=_0x218296[_0xff306e(0x218)],this[_0xff306e(0x1e5)]=_0x218296[_0xff306e(0x1e5)]?_0x218296[_0xff306e(0x1e5)]:PLAYER_DEFAUTL_MOVECOST,this['size']=_0x218296[_0xff306e(0x19d)]?_0x218296[_0xff306e(0x19d)]:0x1,this['id']=PLAYER_ID++,this['villageActionPointMax']=_0x218296['villageActionPointMax']?_0x218296['villageActionPointMax']:0xa,this[_0xff306e(0x5c2)]=this[_0xff306e(0x264)],this[_0xff306e(0x406)]=_0x218296[_0xff306e(0x406)]?_0x218296[_0xff306e(0x5f5)]:0x0,this[_0xff306e(0x5be)]=_0x218296[_0xff306e(0x5be)]?_0x218296[_0xff306e(0x5be)]:0x1,this[_0xff306e(0x429)]=_0x218296[_0xff306e(0x429)]?_0x218296['lvlup']:0x0,this[_0xff306e(0x1b9)]=[],this[_0xff306e(0x4c1)]=()=>{var _0x4f358f=_0xff306e,_0x2900af=window[_0x4f358f(0x400)](_0x4f358f(0x52f),this[_0x4f358f(0x362)]);if(!_0x2900af||typeof _0x2900af!=_0x4f358f(0x2ff)||_0x2900af[_0x4f358f(0x1e9)]<0x4||_0x2900af[_0x4f358f(0x1e9)]>0x10)return world[_0x4f358f(0x4d5)][_0x4f358f(0x1ed)][_0x4f358f(0x225)]({'type':'player','txt':_0x4f358f(0x522)});world[_0x4f358f(0x4d5)][_0x4f358f(0x1ed)][_0x4f358f(0x225)]({'type':_0x4f358f(0x4a3),'txt':this[_0x4f358f(0x362)]+_0x4f358f(0x365)+_0x2900af}),this[_0x4f358f(0x362)]=_0x2900af;},this['getLvlUpPerkList']=()=>{var _0x109867=_0xff306e,_0x59c23=[],_0x297b16=[{'type':_0x109867(0x218),'stat':_0x109867(0x57c),'value':0x1+Math[_0x109867(0x295)](Math['random']()*0x3+this[_0x109867(0x5be)]/0x3)},{'type':_0x109867(0x218),'stat':_0x109867(0x2d9),'value':0x1+Math['floor'](Math[_0x109867(0x471)]()*0x3+this[_0x109867(0x5be)]/0x3)},{'type':'playerstats','stat':_0x109867(0x227),'value':0x5+Math['floor'](Math[_0x109867(0x471)]()*0xa+this[_0x109867(0x5be)])},{'type':_0x109867(0x422),'stat':_0x109867(0x369),'value':0x2+Math[_0x109867(0x295)](Math[_0x109867(0x471)]()*0x5+this[_0x109867(0x5be)]/0x7)},{'type':'playerstats','stat':_0x109867(0x438),'value':0x4+Math['floor'](Math[_0x109867(0x471)]()*0x4+this[_0x109867(0x5be)]/0x6)},{'type':_0x109867(0x422),'stat':'villageActionPointMax','value':0x2+Math['floor'](Math[_0x109867(0x471)]()*0x2+this[_0x109867(0x5be)]/0xa)}];if(this[_0x109867(0x19d)]<0x3)_0x297b16[_0x109867(0x2a9)]({'type':_0x109867(0x422),'stat':'size','value':0x1});if(this[_0x109867(0x1e5)]>0x7)_0x297b16[_0x109867(0x2a9)]({'type':'playerstats','stat':_0x109867(0x1e5),'value':-0x1-Math[_0x109867(0x295)](Math[_0x109867(0x471)]()*0x2)});while(_0x59c23['length']<0x3){for(var _0x3efca9 in _0x297b16){if(Math[_0x109867(0x295)](Math[_0x109867(0x471)]()*0x64)<0x32)_0x59c23[_0x109867(0x2a9)](_0x297b16[_0x3efca9]);if(_0x59c23['length']>0x2)break;}}return this[_0x109867(0x1b9)]=_0x59c23,_0x59c23;},this['ApplyListPerkUp']=_0x3b563a=>{var _0x214ff6=_0xff306e;if(!_0x3b563a||!_0x3b563a[_0x214ff6(0x475)]||!this[_0x214ff6(0x429)])return;if(_0x3b563a['type']==_0x214ff6(0x422))this[_0x3b563a[_0x214ff6(0x5c6)]]+=_0x3b563a[_0x214ff6(0x349)];else _0x3b563a[_0x214ff6(0x475)]==_0x214ff6(0x218)&&(this[_0x214ff6(0x218)][_0x3b563a[_0x214ff6(0x5c6)]]+=_0x3b563a['value']);world[_0x214ff6(0x4d5)][_0x214ff6(0x1ed)][_0x214ff6(0x225)]({'type':'player','txt':this['name']+'\x27s\x20'+_0x3b563a[_0x214ff6(0x5c6)]+'\x20'+_0x3b563a['value']}),this[_0x214ff6(0x1b9)]=[],this[_0x214ff6(0x429)]--,this[_0x214ff6(0x5be)]++;},this[_0xff306e(0x454)]=()=>{var _0x59a8a2=_0xff306e,_0x335985=0x1e*(0x1-this[_0x59a8a2(0x5be)]/0x64),_0x3890a1=Math[_0x59a8a2(0x295)](Math['random']()*0x64);if(_0x3890a1<_0x335985)return this[_0x59a8a2(0x429)]++,world[_0x59a8a2(0x4d5)]['MessageSystem'][_0x59a8a2(0x225)]({'type':'player','txt':this[_0x59a8a2(0x362)]+'\x20can\x20lvl\x20up\x20++'}),world[_0x59a8a2(0x4ec)][_0x59a8a2(0x258)](_0x59a8a2(0x429)),!![];return![];},this[_0xff306e(0x316)]=()=>{var _0x75a207=_0xff306e,_0x29049f=''+this[_0x75a207(0x362)];_0x29049f+='\x0a'+'Life\x20Max\x20:\x20'+this[_0x75a207(0x227)],_0x29049f+='\x0a'+_0x75a207(0x401)+this[_0x75a207(0x438)],_0x29049f+='\x0a'+'Speed\x20:\x20'+this['speed'];for(var _0x293f3b in this['stats'])_0x29049f+='\x0a'+_0x293f3b+_0x75a207(0x486)+this['stats'][_0x293f3b];return this[_0x75a207(0x498)]&&(_0x29049f+='\x0a'+_0x75a207(0x5d6)+this[_0x75a207(0x498)][_0x75a207(0x362)]+'\x27',_0x29049f+='\x0a'+_0x75a207(0x368)+[this[_0x75a207(0x498)][_0x75a207(0x436)][_0x75a207(0x394)]]),_0x29049f;},this['get_valid_action_in_affected_building']=()=>{var _0x31bc2=_0xff306e;if(!this['villageActionPoint'])return[];var _0x2f62fc=world[_0x31bc2(0x4d5)][_0x31bc2(0x40e)](this);if(!_0x2f62fc||!_0x2f62fc[_0x31bc2(0x4e4)]||!_0x2f62fc[_0x31bc2(0x4e4)]['length'])return[];var _0x4d5b36=_0x2f62fc[_0x31bc2(0x4e4)][_0x31bc2(0x525)](_0x1ae1a3=>_0x1ae1a3[_0x31bc2(0x1be)]<=this[_0x31bc2(0x5c2)]);return _0x4d5b36;},this[_0xff306e(0x34f)]=()=>{var _0x551fc7=_0xff306e;this[_0x551fc7(0x498)]&&(world[_0x551fc7(0x4d5)]['addWeaponToVillageInventory']({'weapon':this[_0x551fc7(0x498)]}),this['weapon']=undefined);},this[_0xff306e(0x46a)]=()=>{var _0x5c90d3=_0xff306e;if(this['armor'])world[_0x5c90d3(0x4d5)]['addArmorToVillageInventory']({'armor':this[_0x5c90d3(0x4b8)]});this[_0x5c90d3(0x4b8)]=undefined,this['bodyPartImgReady']=![];},this['unequipItem']=_0x162c0f=>{var _0x39a15b=_0xff306e;if(!_0x162c0f||!_0x162c0f[_0x39a15b(0x2ab)])return;if(_0x162c0f[_0x39a15b(0x2ab)][_0x39a15b(0x4c2)]==_0x39a15b(0x4b8))this[_0x39a15b(0x46a)]();else{if(_0x162c0f[_0x39a15b(0x2ab)]['itemType']==_0x39a15b(0x498))this[_0x39a15b(0x34f)]();}},this[_0xff306e(0x29f)]=_0x131c2c=>{var _0x20ace9=_0xff306e;if(!_0x131c2c||!_0x131c2c[_0x20ace9(0x498)])return;var _0x23ecfe=-0x1;for(var _0x35c8dd in world[_0x20ace9(0x4d5)][_0x20ace9(0x26e)])if(world[_0x20ace9(0x4d5)][_0x20ace9(0x26e)][_0x35c8dd]==_0x131c2c['weapon'])_0x23ecfe=_0x35c8dd;if(_0x23ecfe==-0x1)return;if(this[_0x20ace9(0x498)])this[_0x20ace9(0x34f)]();this[_0x20ace9(0x498)]=_0x131c2c[_0x20ace9(0x498)],world[_0x20ace9(0x4d5)][_0x20ace9(0x26e)]['splice'](_0x23ecfe,0x1);if(world['villageUI']&&world[_0x20ace9(0x517)][_0x20ace9(0x3b8)]==_0x131c2c[_0x20ace9(0x498)])world[_0x20ace9(0x517)][_0x20ace9(0x3b8)]=undefined;},this[_0xff306e(0x5bb)]=_0x5543ab=>{var _0x32f7e5=_0xff306e;if(!_0x5543ab||!_0x5543ab[_0x32f7e5(0x4b8)])return;var _0x16c5a6=-0x1;for(var _0x557f9c in world[_0x32f7e5(0x4d5)][_0x32f7e5(0x26e)])if(world[_0x32f7e5(0x4d5)][_0x32f7e5(0x26e)][_0x557f9c]==_0x5543ab['armor'])_0x16c5a6=_0x557f9c;if(_0x16c5a6==-0x1)return;if(this[_0x32f7e5(0x4b8)])this['unequipArmor']();this['armor']=_0x5543ab['armor'],world[_0x32f7e5(0x4d5)][_0x32f7e5(0x26e)]['splice'](_0x16c5a6,0x1);if(world[_0x32f7e5(0x517)]&&world[_0x32f7e5(0x517)][_0x32f7e5(0x3b8)]==_0x5543ab[_0x32f7e5(0x4b8)])world[_0x32f7e5(0x517)][_0x32f7e5(0x3b8)]=undefined;this[_0x32f7e5(0x1bd)]=![];},this['equipItem']=_0x2e8f0c=>{var _0x1a2c7e=_0xff306e;if(!_0x2e8f0c||!_0x2e8f0c[_0x1a2c7e(0x2ab)])return;if(_0x2e8f0c[_0x1a2c7e(0x2ab)][_0x1a2c7e(0x4c2)]==_0x1a2c7e(0x4b8))this['equipArmor']();else{if(_0x2e8f0c[_0x1a2c7e(0x2ab)][_0x1a2c7e(0x4c2)]=='weapon')this[_0x1a2c7e(0x29f)]();}},this['LoadPlayerVillageImage']=()=>{var _0x1ed2a8=_0xff306e,_0x32edf6=world[_0x1ed2a8(0x247)];if(!this[_0x1ed2a8(0x3f5)])this[_0x1ed2a8(0x3f5)]=PLAYER_FACE_IMG[Math[_0x1ed2a8(0x295)](Math[_0x1ed2a8(0x471)]()*PLAYER_FACE_IMG[_0x1ed2a8(0x1e9)])];if(!this[_0x1ed2a8(0x4df)])this['body_type']=PLAYER_BODY_IMG[Math[_0x1ed2a8(0x295)](Math[_0x1ed2a8(0x471)]()*PLAYER_BODY_IMG['length'])];var _0x318fdc=[];_0x318fdc[_0x1ed2a8(0x2a9)]({'name':this['body_type'],'needColor':!![]}),_0x318fdc['push']({'name':this[_0x1ed2a8(0x3f5)],'needColor':![]});if(this[_0x1ed2a8(0x4b8)])_0x318fdc[_0x1ed2a8(0x2a9)]({'name':this[_0x1ed2a8(0x4b8)][_0x1ed2a8(0x362)],'needColor':![]});for(var _0x39f73e in _0x318fdc)if(!_0x32edf6[_0x318fdc[_0x39f73e][_0x1ed2a8(0x362)]]||!_0x32edf6[_0x318fdc[_0x39f73e][_0x1ed2a8(0x362)]][_0x1ed2a8(0x21d)])return console['log'](_0x1ed2a8(0x558)+_0x318fdc[_0x39f73e][_0x1ed2a8(0x362)]);var _0xbf5e57=document[_0x1ed2a8(0x5df)](_0x1ed2a8(0x33d));_0xbf5e57[_0x1ed2a8(0x5c5)]=PLAYER_DEFAULT_SIZEX,_0xbf5e57[_0x1ed2a8(0x2ce)]=PLAYER_DEFAULT_SIZEY;var _0x2b0f43=_0xbf5e57[_0x1ed2a8(0x3f2)]('2d');for(var _0x39f73e in _0x318fdc){var _0x4c6562=_0x318fdc[_0x39f73e]['name'];if(!_0x32edf6[_0x4c6562])return console[_0x1ed2a8(0x4a1)](_0x1ed2a8(0x2c0)+_0x4c6562);var _0x45336e=undefined;if(_0x318fdc[_0x39f73e]['needColor'])_0x45336e=_0x32edf6[_0x4c6562]['GetColorImage'](0x0,0xff,0x0,this[_0x1ed2a8(0x4a5)]['r'],this[_0x1ed2a8(0x4a5)]['g'],this[_0x1ed2a8(0x4a5)]['b']);else _0x45336e=_0x32edf6[_0x4c6562]['img'];if(!_0x45336e||!_0x45336e['complete'])return console['log'](_0x1ed2a8(0x2b2));_0x2b0f43[_0x1ed2a8(0x529)](_0x45336e,0x0,0x0);}var _0x45336e=new Image();return _0x45336e['src']=_0xbf5e57[_0x1ed2a8(0x351)](),this[_0x1ed2a8(0x38d)]=_0x45336e,console[_0x1ed2a8(0x4a1)](_0x1ed2a8(0x30f)+this[_0x1ed2a8(0x362)]+_0x1ed2a8(0x4f3)),this['bodyPartImgReady']=!![],!![];},this[_0xff306e(0x2a5)]();},Batiment=function(_0x16a86a){var _0xf6f64a=_0x492d20;this[_0xf6f64a(0x362)]=_0x16a86a[_0xf6f64a(0x362)],this[_0xf6f64a(0x570)]=_0x16a86a[_0xf6f64a(0x570)]?_0x16a86a['player_size']:0x0,this[_0xf6f64a(0x4e4)]=_0x16a86a[_0xf6f64a(0x4e4)],this[_0xf6f64a(0x335)]=[],this[_0xf6f64a(0x48e)]=_0x16a86a['description']?_0x16a86a[_0xf6f64a(0x48e)]:_0xf6f64a(0x3de),this[_0xf6f64a(0x386)]=_0x16a86a['blocking_end_turn']?_0x16a86a[_0xf6f64a(0x386)]:![],this[_0xf6f64a(0x528)]=_0x16a86a['imgIcon']?_0x16a86a['imgIcon']:undefined,this[_0xf6f64a(0x2ca)]=_0x16a86a[_0xf6f64a(0x2ca)]?_0x16a86a[_0xf6f64a(0x2ca)]:undefined,this[_0xf6f64a(0x5be)]=_0x16a86a[_0xf6f64a(0x5be)]?_0x16a86a[_0xf6f64a(0x5be)]:undefined,this[_0xf6f64a(0x55f)]=_0x16a86a['upgrades']?_0x16a86a['upgrades']:[],this[_0xf6f64a(0x4d3)]=_0x16a86a[_0xf6f64a(0x4d3)]?_0x16a86a[_0xf6f64a(0x4d3)]:undefined,this[_0xf6f64a(0x1cb)]=_0x16a86a[_0xf6f64a(0x1cb)]?_0x16a86a[_0xf6f64a(0x1cb)]:undefined,this['build']=_0x3c2fcb=>{var _0x2cdc2a=_0xf6f64a;if(!_0x3c2fcb||!_0x3c2fcb[_0x2cdc2a(0x4a3)]||!_0x3c2fcb[_0x2cdc2a(0x4a3)][_0x2cdc2a(0x5c2)])return![];var _0x46766e=this['build_progression']<_0x3c2fcb[_0x2cdc2a(0x4a3)][_0x2cdc2a(0x5c2)]?this[_0x2cdc2a(0x2ca)]:_0x3c2fcb[_0x2cdc2a(0x4a3)][_0x2cdc2a(0x5c2)];return this[_0x2cdc2a(0x2ca)]-=_0x46766e,_0x3c2fcb[_0x2cdc2a(0x4a3)][_0x2cdc2a(0x5c2)]-=_0x46766e,world[_0x2cdc2a(0x4d5)][_0x2cdc2a(0x1ed)]['addMessage']({'type':_0x2cdc2a(0x3c7),'txt':_0x3c2fcb[_0x2cdc2a(0x4a3)][_0x2cdc2a(0x362)]+_0x2cdc2a(0x370)+this['name']+_0x2cdc2a(0x4f5)+_0x46766e+')'}),this[_0x2cdc2a(0x2ca)]<0x1&&(this[_0x2cdc2a(0x2ca)]=undefined,world[_0x2cdc2a(0x4d5)]['MessageSystem']['addMessage']({'type':'building','txt':_0x2cdc2a(0x403)+this[_0x2cdc2a(0x362)]+'\x27\x20is\x20finished'})),world['Music'][_0x2cdc2a(0x258)](_0x2cdc2a(0x5bd)),!![];},this[_0xf6f64a(0x4dd)]=()=>{var _0x2876c8=_0xf6f64a;if(!this[_0x2876c8(0x55f)]||!this[_0x2876c8(0x55f)]['length'])return undefined;return this[_0x2876c8(0x55f)][0x0];},this['checkNextUpgrade']=()=>{var _0xc30ec5=_0xf6f64a;if(!this[_0xc30ec5(0x55f)]||!this[_0xc30ec5(0x55f)]['length'])return![];var _0x3c5872=this['getNextUpgrade']();if(_0x3c5872[_0xc30ec5(0x1f7)]){if(!world[_0xc30ec5(0x4d5)][_0xc30ec5(0x2de)](_0x3c5872))return;}return world['Music'][_0xc30ec5(0x258)](_0xc30ec5(0x5bd)),!![];},this[_0xf6f64a(0x2e2)]=()=>{var _0x3fe9aa=_0xf6f64a,_0x55c95d=this['getNextUpgrade']();if(this[_0x3fe9aa(0x420)]()){world[_0x3fe9aa(0x4d5)][_0x3fe9aa(0x1ed)][_0x3fe9aa(0x225)]({'type':_0x3fe9aa(0x3c7),'txt':this[_0x3fe9aa(0x362)]+_0x3fe9aa(0x1ee)+(this[_0x3fe9aa(0x5be)]+0x1)}),world[_0x3fe9aa(0x4d5)]['removeResource'](_0x55c95d);if(this[_0x3fe9aa(0x4d3)])window[this[_0x3fe9aa(0x4d3)]]({'bat':this});this[_0x3fe9aa(0x55f)][_0x3fe9aa(0x228)](),this['lvl']++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':_0x492d20(0x3d7),'type':_0x492d20(0x498),'bat':_0x492d20(0x226),'resources':{'wood':0xa},'APcost':0xa,'description':_0x492d20(0x1ef)},{'name':'Wood\x20Armor','type':_0x492d20(0x4b8),'bat':_0x492d20(0x226),'resources':{'wood':0x19},'APcost':0xa,'description':_0x492d20(0x495)},{'name':'Stone\x20Axe','type':_0x492d20(0x498),'bat':_0x492d20(0x226),'resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':_0x492d20(0x4d2)},{'name':_0x492d20(0x1f6),'type':_0x492d20(0x498),'bat':_0x492d20(0x226),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x492d20(0x4a7)},{'name':_0x492d20(0x41e),'type':_0x492d20(0x498),'bat':_0x492d20(0x226),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x492d20(0x357)},{'name':'Leather\x20Armor','type':'armor','bat':_0x492d20(0x226),'resources':{'leather':0x4},'APcost':0xc,'description':_0x492d20(0x1f3)},{'name':'Miner\x20helmet','type':'armor','bat':'workshop','resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':_0x492d20(0x559)},{'name':_0x492d20(0x260),'type':_0x492d20(0x498),'bat':'fletching\x20station','resources':{'wood':0x64},'APcost':0xa,'description':_0x492d20(0x597)},{'name':_0x492d20(0x1af),'type':_0x492d20(0x498),'bat':'Forge','resources':{'wood':0x37,'metalCopper':0xa},'APcost':0xa,'description':_0x492d20(0x5a0)},{'name':_0x492d20(0x3d9),'type':'weapon','bat':_0x492d20(0x3a2),'resources':{'wood':0xf,'metalCopper':0x5},'APcost':0xa,'description':_0x492d20(0x22b)},{'name':_0x492d20(0x2a7),'type':_0x492d20(0x4b8),'bat':_0x492d20(0x3a2),'resources':{'metalCopper':0x14},'APcost':0xa,'description':'Vini,\x20Vidi,\x20Vici'}],Village=function(_0x2dac59){var _0x3b2bb6=_0x492d20;this[_0x3b2bb6(0x2cb)]=_0x2dac59['nb_houses']?_0x2dac59[_0x3b2bb6(0x271)]:0x1,this[_0x3b2bb6(0x1f7)]=_0x2dac59['resources']?_0x2dac59['resources']:{'food':0x0,'wood':0x0},this[_0x3b2bb6(0x34a)]=_0x2dac59['players']?_0x2dac59[_0x3b2bb6(0x34a)]:[],this[_0x3b2bb6(0x423)]=_0x2dac59['bats']?_0x2dac59['bats']:[],this[_0x3b2bb6(0x1f1)]=[],this[_0x3b2bb6(0x581)]=_0x2dac59[_0x3b2bb6(0x581)]?_0x2dac59['week']:0x0,this[_0x3b2bb6(0x1ed)]=new MessageSystem();var _0x516e0a=0x0;PHASE_NEWTURN=_0x516e0a++,PHASE_PLACEPLAYER=_0x516e0a++,PHASE_ACTIONPLAYER=_0x516e0a++,PHASE_COMBAT=_0x516e0a++,PHASE_END_TURN=_0x516e0a++,this[_0x3b2bb6(0x377)]=PHASE_NEWTURN,this[_0x3b2bb6(0x26e)]=[],this['waves']=[],this[_0x3b2bb6(0x4ff)]=0x1,this[_0x3b2bb6(0x5fe)]=_0x2dac59[_0x3b2bb6(0x5fe)]?_0x2dac59['playerColor']:HUMAN_DEFAULT_COLOR[Math[_0x3b2bb6(0x295)](Math[_0x3b2bb6(0x471)]()*HUMAN_DEFAULT_COLOR[_0x3b2bb6(0x1e9)])],this[_0x3b2bb6(0x1c9)]=()=>{var _0x51bb97=_0x3b2bb6,_0x4c953b=Math[_0x51bb97(0x295)](this[_0x51bb97(0x581)]/(0xc*0x4)),_0x1eaa3=Math[_0x51bb97(0x295)](this[_0x51bb97(0x581)]/0x4)%0xc,_0x579a46=this[_0x51bb97(0x581)]%0x4+0x1,_0x3ddd53=_0x51bb97(0x32d)+this[_0x51bb97(0x581)];_0x3ddd53+='\x20:\x20';if(_0x4c953b)_0x3ddd53+=_0x51bb97(0x323)+_0x4c953b;if(_0x1eaa3)_0x3ddd53+='\x20month\x20'+_0x1eaa3;return _0x3ddd53+=_0x51bb97(0x461)+_0x579a46,_0x3ddd53;},this[_0x3b2bb6(0x49b)]=()=>{var _0x280240=_0x3b2bb6,_0xd94684=[];for(var _0x5ec34f in CRAFT_LIST){var _0x5501b1=CRAFT_LIST[_0x5ec34f],_0x354b23=this[_0x280240(0x423)][_0x280240(0x521)](_0x1ca1fe=>_0x1ca1fe[_0x280240(0x362)]==_0x5501b1[_0x280240(0x301)]);if(!_0x354b23||_0x354b23[_0x280240(0x2ca)])continue;_0xd94684[_0x280240(0x2a9)](_0x5501b1);}return _0xd94684;},this[_0x3b2bb6(0x347)]=_0x5e8e0e=>{var _0x2f1d70=_0x3b2bb6;if(!_0x5e8e0e||!_0x5e8e0e[_0x2f1d70(0x4b7)])return[];var _0x3ce26b=[],_0x1d9c33=_0x5e8e0e[_0x2f1d70(0x4b7)];for(var _0x4da253 in this[_0x2f1d70(0x34a)]){var _0x8ae9c1=this[_0x2f1d70(0x34a)][_0x4da253],_0x118afa=this[_0x2f1d70(0x40e)](_0x8ae9c1);if(!_0x118afa||_0x118afa[_0x2f1d70(0x362)]!=_0x1d9c33[_0x2f1d70(0x301)])continue;if(_0x8ae9c1[_0x2f1d70(0x5c2)]<_0x1d9c33['APcost'])continue;for(var _0x271035 in _0x1d9c33[_0x2f1d70(0x2ea)]){var _0x263b70=_0x271035,_0x58b2c2=_0x1d9c33['resource'][_0x271035];if(!this[_0x2f1d70(0x1f7)][_0x2f1d70(0x23a)]||this['resources']['res']<_0x58b2c2)continue;}_0x3ce26b['push'](_0x8ae9c1);}return _0x3ce26b;},this[_0x3b2bb6(0x433)]=_0x2e8857=>{var _0xe54965=_0x3b2bb6;if(!_0x2e8857||!_0x2e8857[_0xe54965(0x4b7)]||!_0x2e8857[_0xe54965(0x4a3)])return console['log']('bad\x20input');var _0x3f9bdc=this[_0xe54965(0x49b)](),_0x5087a7=_0x2e8857['player'];if(!_0x3f9bdc||_0x3f9bdc[_0xe54965(0x1e9)]<0x1)return console['log'](_0xe54965(0x2aa));_0x3f9bdc=_0x3f9bdc[_0xe54965(0x521)](_0x45efd9=>_0x45efd9==_0x2e8857[_0xe54965(0x4b7)]);if(!_0x3f9bdc)return console[_0xe54965(0x4a1)]('invalid\x20craft');if(!this['get_valid_player_for_craft']({'craft':_0x3f9bdc})[_0xe54965(0x521)](_0x33e22a=>_0x33e22a==_0x5087a7))return console['log'](_0xe54965(0x591));for(var _0x2db504 in _0x3f9bdc[_0xe54965(0x1f7)]){var _0x2d8903=_0x2db504,_0x134432=_0x3f9bdc[_0xe54965(0x1f7)][_0x2db504];if(this[_0xe54965(0x1f7)][_0x2db504]<_0x134432)return this[_0xe54965(0x1ed)]['addMessage']({'txt':_0xe54965(0x2f2)}),![];}if(_0x5087a7['villageActionPoint']<_0x3f9bdc['APcost'])return this['MessageSystem']['addMessage']({'txt':_0x5087a7[_0xe54965(0x362)]+_0xe54965(0x2b0)}),![];_0x5087a7[_0xe54965(0x5c2)]-=_0x3f9bdc[_0xe54965(0x2af)];switch(_0x3f9bdc[_0xe54965(0x475)]){case'weapon':this['addWeaponToVillageInventory']({'weapon':new Weapon()[_0xe54965(0x1fc)]({'name':_0x3f9bdc[_0xe54965(0x362)]})});break;case _0xe54965(0x4b8):this[_0xe54965(0x239)]({'armor':new Armor()[_0xe54965(0x455)]({'name':_0x3f9bdc[_0xe54965(0x362)]})});}switch(_0x3f9bdc[_0xe54965(0x301)]){case'workshop':world[_0xe54965(0x4ec)][_0xe54965(0x258)](_0xe54965(0x43f));break;case _0xe54965(0x59e):world['Music']['playSound'](_0xe54965(0x43f));break;}this[_0xe54965(0x1ed)][_0xe54965(0x225)]({'type':_0xe54965(0x398),'txt':_0x5087a7[_0xe54965(0x362)]+_0xe54965(0x5e9)+_0x3f9bdc[_0xe54965(0x362)]}),this[_0xe54965(0x3b1)](_0x3f9bdc);},this[_0x3b2bb6(0x4ed)]=_0x301332=>{var _0x1e944b=_0x3b2bb6;this[_0x1e944b(0x26e)]=[];for(var _0x143b63 in _0x301332){var _0xac23c=_0x301332[_0x143b63];switch(_0xac23c[_0x1e944b(0x4c2)]){case _0x1e944b(0x498):this[_0x1e944b(0x2fb)]({'weapon':new Weapon()[_0x1e944b(0x4e8)](_0xac23c)});break;case _0x1e944b(0x4b8):this['addArmorToVillageInventory']({'armor':new Armor()[_0x1e944b(0x285)](_0xac23c)});}}},this[_0x3b2bb6(0x2f3)]=_0x296cdc=>{var _0x2b3530=_0x3b2bb6;if(!_0x296cdc)return undefined;var _0x4094b0=new PlayerVillage({});for(var _0x3155a6 in _0x296cdc){if(_0x296cdc[_0x3155a6]==undefined)continue;if(_0x3155a6==_0x2b3530(0x38d)||_0x3155a6==_0x2b3530(0x1bd))continue;else{if(_0x3155a6==_0x2b3530(0x498))_0x4094b0['weapon']=new Weapon()['createWeaponFromInput'](_0x296cdc[_0x3155a6]);else{if(_0x3155a6==_0x2b3530(0x4b8))_0x4094b0['armor']=new Armor()[_0x2b3530(0x285)](_0x296cdc[_0x3155a6]);else _0x4094b0[_0x3155a6]=_0x296cdc[_0x3155a6];}}}return this[_0x2b3530(0x34a)][_0x2b3530(0x2a9)](_0x4094b0),_0x4094b0[_0x2b3530(0x2a5)](),_0x4094b0;},this[_0x3b2bb6(0x201)]=_0x38753d=>{var _0x1c73e6=_0x3b2bb6;if(this[_0x1c73e6(0x34a)]['length']>=this[_0x1c73e6(0x2cb)])return undefined;var _0x4038ea={'r':this[_0x1c73e6(0x5fe)]['r']-0x5+Math[_0x1c73e6(0x295)](Math['random']()*0xb),'g':this[_0x1c73e6(0x5fe)]['g']-0x5+Math[_0x1c73e6(0x295)](Math[_0x1c73e6(0x471)]()*0xb),'b':this[_0x1c73e6(0x5fe)]['b']-0x5+Math[_0x1c73e6(0x295)](Math['random']()*0xb)},_0x1e05d5=new PlayerVillage({'color':_0x4038ea,'speed':0x64-0x5+Math[_0x1c73e6(0x295)](Math[_0x1c73e6(0x471)]()*0xb),'stats':{'Strength':0xa-0x5+Math[_0x1c73e6(0x295)](Math[_0x1c73e6(0x471)]()*0xb),'Dexterity':0xa-0x5+Math[_0x1c73e6(0x295)](Math[_0x1c73e6(0x471)]()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math['floor'](Math[_0x1c73e6(0x471)]()*0x5),'lifeMax':0x64-0x14+Math[_0x1c73e6(0x295)](Math[_0x1c73e6(0x471)]()*0x29),'weapon':_0x38753d[_0x1c73e6(0x498)]?new Weapon()[_0x1c73e6(0x1fc)]({'name':_0x38753d[_0x1c73e6(0x498)]}):undefined,'armor':_0x38753d[_0x1c73e6(0x4b8)]?new Armor()[_0x1c73e6(0x455)]({'name':_0x38753d[_0x1c73e6(0x4b8)]}):undefined,'size':0x1,'ActionPointMax':0x5f+Math[_0x1c73e6(0x295)](Math[_0x1c73e6(0x471)]()*0xb)});return this[_0x1c73e6(0x34a)]['push'](_0x1e05d5),_0x1e05d5;},this[_0x3b2bb6(0x40e)]=_0x1f84b7=>{var _0x2ebb4e=_0x3b2bb6;if(!_0x1f84b7)return undefined;for(var _0x5e697a in this[_0x2ebb4e(0x423)]){var _0x59d865=this[_0x2ebb4e(0x423)][_0x5e697a]['players_inside']['find'](_0x19f56e=>_0x19f56e==_0x1f84b7);if(_0x59d865)return this[_0x2ebb4e(0x423)][_0x5e697a];}return undefined;},this[_0x3b2bb6(0x25e)]=()=>{var _0x39604c=_0x3b2bb6;this[_0x39604c(0x2cb)]=0x5,this[_0x39604c(0x1f7)]={'food':0xc8,'wood':0x14};for(var _0x5df083=0x0;_0x5df083<0x5;_0x5df083++){if(_0x5df083==0x0)var _0x4a1c0e=this[_0x39604c(0x201)]({'weapon':_0x39604c(0x1bb)});else{if(_0x5df083==0x1)var _0x4a1c0e=this[_0x39604c(0x201)]({'weapon':_0x39604c(0x260)});else{if(_0x5df083==0x2){var _0x4a1c0e=this[_0x39604c(0x201)]({'armor':'Leather\x20Armor'});_0x4a1c0e[_0x39604c(0x19d)]=0x2;}}}var _0x4a1c0e=this[_0x39604c(0x201)]({});}var _0x2503df=this[_0x39604c(0x4c4)]();for(var _0x2ec81e in this[_0x39604c(0x34a)])_0x2503df[_0x39604c(0x335)][_0x39604c(0x2a9)](this['players'][_0x2ec81e]);this[_0x39604c(0x3fd)](),this[_0x39604c(0x339)](),this[_0x39604c(0x3d2)](),this[_0x39604c(0x52e)](),this[_0x39604c(0x377)]=PHASE_COMBAT,this[_0x39604c(0x4a6)]=!![];},this[_0x3b2bb6(0x52e)]=()=>{var _0x275c90=_0x3b2bb6;if(!![]||this[_0x275c90(0x581)]==0x0){this[_0x275c90(0x5cc)]=[];for(var _0x153abe=0x1;_0x153abe<0xa;_0x153abe++){this[_0x275c90(0x5cc)][_0x153abe]={};}this['waves'][0x0]={'attackVillage':{'enemies':[{'type':_0x275c90(0x582),'nb':0x3,'lvl':0x1}]}},this[_0x275c90(0x5cc)][0x1][_0x275c90(0x5fb)]=!![],this[_0x275c90(0x5cc)][0x2][_0x275c90(0x5fb)]=!![],this[_0x275c90(0x5cc)][0x3][_0x275c90(0x5fb)]=!![],this[_0x275c90(0x5cc)][0x4]={'attackVillage':{'enemies':[{'type':_0x275c90(0x590),'nb':0x2,'lvl':0x1}]},'visible':!![]},this['waves'][0x8]={'attackVillage':{'enemies':[{'type':_0x275c90(0x45c),'nb':0x1,'lvl':0x1}]}};}},this[_0x3b2bb6(0x523)]=()=>{var _0x1b4256=_0x3b2bb6;this[_0x1b4256(0x5cc)]['shift'](),this['waves'][0x0][_0x1b4256(0x5fb)]=!![];var _0x5c9c39={},_0x4ff230=['brigand',_0x1b4256(0x337),'giant'],_0x112a6f=_0x4ff230[Math[_0x1b4256(0x295)](Math[_0x1b4256(0x471)]()*_0x4ff230[_0x1b4256(0x1e9)])];if(Math[_0x1b4256(0x295)](Math[_0x1b4256(0x471)]()*0x64)<0x1e)switch(_0x112a6f){case _0x1b4256(0x337):_0x5c9c39[_0x1b4256(0x30a)]={'enemies':[{'type':_0x1b4256(0x582),'nb':0x6+Math['floor'](Math['random']()*this[_0x1b4256(0x581)]/0x2),'lvl':Math['floor'](0x1+this[_0x1b4256(0x581)]/0x8)}]};break;case'giant':_0x5c9c39['attackVillage']={'enemies':[{'type':_0x1b4256(0x582),'nb':0x1+Math['floor'](Math[_0x1b4256(0x471)]()*this[_0x1b4256(0x581)]/0x6),'lvl':Math[_0x1b4256(0x295)](0x1+this[_0x1b4256(0x581)]/0x12)}]};break;case _0x1b4256(0x590):_0x5c9c39[_0x1b4256(0x30a)]={'enemies':[{'type':_0x1b4256(0x582),'nb':0x3+Math[_0x1b4256(0x295)](Math['random']()*this[_0x1b4256(0x581)]/0x3),'lvl':Math[_0x1b4256(0x295)](0x1+this[_0x1b4256(0x581)]/0xd)}]};break;}this[_0x1b4256(0x5cc)][0x0]['visible']=!![],this[_0x1b4256(0x5cc)][_0x1b4256(0x2a9)](_0x5c9c39);},this[_0x3b2bb6(0x4a8)]=_0x45f87e=>{var _0x473958=_0x3b2bb6;if(!_0x45f87e||!_0x45f87e[_0x473958(0x4a3)])return![];var _0x1ebc11=_0x45f87e[_0x473958(0x4a3)];for(var _0x38b90f in this['bats']){var _0x419578=this[_0x473958(0x423)][_0x38b90f];for(var _0x5cb664 in _0x419578[_0x473958(0x335)])if(_0x419578[_0x473958(0x335)][_0x5cb664]==_0x1ebc11)_0x419578[_0x473958(0x335)]['splice'](_0x5cb664,0x1);}},this[_0x3b2bb6(0x57e)]=_0x78902d=>{var _0x4f5754=_0x3b2bb6;if(!_0x78902d||!_0x78902d['player']||!_0x78902d[_0x4f5754(0x301)])return![];if(_0x78902d[_0x4f5754(0x301)]['players_inside'][_0x4f5754(0x1e9)]>=_0x78902d[_0x4f5754(0x301)][_0x4f5754(0x570)])return![];var _0x243200=_0x78902d[_0x4f5754(0x4a3)];for(var _0x16621d in this[_0x4f5754(0x423)]){var _0x355bbe=this[_0x4f5754(0x423)][_0x16621d];for(var _0x1252de in _0x355bbe['players_inside'])if(_0x355bbe[_0x4f5754(0x335)][_0x1252de]==_0x243200)_0x355bbe[_0x4f5754(0x335)]['splice'](_0x1252de,0x1);}_0x78902d[_0x4f5754(0x301)][_0x4f5754(0x335)][_0x4f5754(0x2a9)](_0x243200);},this[_0x3b2bb6(0x3b1)]=_0x552e69=>{var _0x15a624=_0x3b2bb6;if(!_0x552e69||!_0x552e69['resources'])return console[_0x15a624(0x4a1)](_0x15a624(0x235));var _0x1c9279=![],_0x2b10a4=_0x15a624(0x29e);for(var _0x260d87 in _0x552e69[_0x15a624(0x1f7)]){var _0x99834f=_0x260d87,_0x5d1d88=_0x552e69['resources'][_0x260d87];if(!(_0x5d1d88>0x0))continue;_0x1c9279=!![];var _0x2e9585=this[_0x15a624(0x1f7)];if(!_0x2e9585[_0x99834f]||_0x2e9585[_0x99834f]<_0x5d1d88)return console[_0x15a624(0x4a1)]('not\x20enoguht\x20resources');_0x2e9585[_0x99834f]-=_0x5d1d88,_0x2b10a4+='\x20x'+_0x5d1d88+'\x20'+_0x99834f;}if(_0x1c9279)this[_0x15a624(0x1ed)][_0x15a624(0x225)]({'type':_0x15a624(0x2ea),'txt':{..._0x552e69[_0x15a624(0x1f7)]}});},this['addResource']=_0x201041=>{var _0x24ddea=_0x3b2bb6;if(!_0x201041||!_0x201041[_0x24ddea(0x1f7)])return![];var _0x275698=![];for(var _0x53f839 in _0x201041['resources']){var _0x4b3d91=_0x53f839,_0x568fe5=_0x201041['resources'][_0x53f839];if(!(_0x568fe5>0x0))continue;_0x275698=!![];var _0x4c2d40=this[_0x24ddea(0x1f7)];if(!_0x4c2d40[_0x4b3d91])_0x4c2d40[_0x4b3d91]=0x0;_0x4c2d40[_0x4b3d91]+=_0x568fe5;}if(_0x275698)this['MessageSystem'][_0x24ddea(0x225)]({'type':'resource','txt':{..._0x201041['resources']}});},this[_0x3b2bb6(0x546)]=_0x54d490=>{var _0x41b914=_0x3b2bb6;this[_0x41b914(0x423)]=[];for(var _0x1df99f in _0x54d490){var _0x4b12a8=_0x54d490[_0x1df99f],_0x20786f=new Batiment(_0x54d490[_0x1df99f]);for(var _0x2fb341 in _0x4b12a8){_0x20786f[_0x2fb341]=_0x4b12a8[_0x2fb341];}_0x20786f[_0x41b914(0x335)]=[],this[_0x41b914(0x423)][_0x41b914(0x2a9)](_0x20786f);}},this[_0x3b2bb6(0x339)]=_0x46794f=>{var _0x502f22=_0x3b2bb6,_0x23393d=new Batiment({'name':_0x502f22(0x544),'player_size':0x0,'callback_actionPlayer':[],'description':_0x502f22(0x3ac),'blocking_end_turn':!![],'imgIcon':_0x502f22(0x544),'lvl':0x1,'upgrades_callback':_0x502f22(0x324),'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'woodplank':0xa,'stone':0x32}}],'upgrade_description':_0x502f22(0x3e8)});_0x23393d['bonusPopulation']=0x5,this[_0x502f22(0x423)][_0x502f22(0x2a9)](_0x23393d);},this['addBowWorkshop']=_0x1b3803=>{var _0x218249=_0x3b2bb6,_0x1d0a96=new Batiment({'name':_0x1b3803[_0x218249(0x362)],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x218249(0x503),'buto_txt':_0x218249(0x242),'description':_0x218249(0x2ec),'cost':0x0}],'description':'the\x20place\x20for\x20craft\x20bow\x20and\x20arrow','blocking_end_turn':!![],'imgIcon':_0x218249(0x584),'build_progression':_0x1b3803[_0x218249(0x52b)]});this['bats'][_0x218249(0x2a9)](_0x1d0a96);},this[_0x3b2bb6(0x42a)]=_0x722f27=>{var _0x1606b7=_0x3b2bb6,_0x424e90=new Batiment({'name':_0x722f27[_0x1606b7(0x362)],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x1606b7(0x503),'buto_txt':_0x1606b7(0x242),'description':_0x1606b7(0x2ec),'cost':0x0},{'callback':'TanHide','buto_txt':'tan\x20hide','description':_0x1606b7(0x24c),'cost':0x6}],'description':_0x1606b7(0x2e9),'blocking_end_turn':!![],'imgIcon':_0x1606b7(0x4bc),'build_progression':_0x722f27['costAP']});this[_0x1606b7(0x423)]['push'](_0x424e90);},this[_0x3b2bb6(0x2a2)]=_0x1a1125=>{var _0x154d62=_0x3b2bb6,_0x229d52=new Batiment({'name':_0x1a1125[_0x154d62(0x362)],'player_size':0x2,'callback_actionPlayer':[{'callback':'recolteMine','buto_txt':_0x154d62(0x563),'description':'Mine\x20the\x20ground\x20get\x20resources','cost':0x4}],'description':_0x154d62(0x4f6),'blocking_end_turn':!![],'imgIcon':_0x154d62(0x20c),'build_progression':_0x1a1125['costAP'],'upgrades_callback':_0x154d62(0x1a5),'upgrades':[{'resources':{'wood':0x28}},{'resources':{'woodplank':0xa}},{'resources':{'woodplank':0x14,'brick':0x1e,'metalCopper':0x5}}],'upgrade_description':'increase\x20nb\x20of\x20places'});_0x229d52[_0x154d62(0x5be)]=0x1,this[_0x154d62(0x423)]['push'](_0x229d52);},this[_0x3b2bb6(0x287)]=_0x32f43b=>{var _0x2d8bb2=_0x3b2bb6,_0xda6f83=new Batiment({'name':_0x2d8bb2(0x325),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x2d8bb2(0x49d),'buto_txt':_0x2d8bb2(0x25a),'description':_0x2d8bb2(0x22a),'cost':0x5}],'description':_0x2d8bb2(0x304),'blocking_end_turn':!![],'imgIcon':'sawmill','build_progression':_0x32f43b[_0x2d8bb2(0x52b)]});this['bats'][_0x2d8bb2(0x2a9)](_0xda6f83);},this['addSmelter']=_0xd4be33=>{var _0x5dff9c=_0x3b2bb6,_0x2a36b6=new Batiment({'name':_0x5dff9c(0x5e0),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x5dff9c(0x4ca),'buto_txt':_0x5dff9c(0x5ae),'description':_0x5dff9c(0x1b6),'cost':0x3}],'description':_0x5dff9c(0x35b),'blocking_end_turn':!![],'imgIcon':_0x5dff9c(0x238),'build_progression':_0xd4be33['costAP']});this['bats'][_0x5dff9c(0x2a9)](_0x2a36b6);},this['addButchery']=_0x21526b=>{var _0x216806=_0x3b2bb6,_0xb13085=new Batiment({'name':'Butchery','player_size':0x1,'callback_actionPlayer':[{'callback':'ButcherAnimals','buto_txt':'Butcher','description':_0x216806(0x33c),'cost':0x7}],'blocking_end_turn':!![],'description':_0x216806(0x27d),'imgIcon':_0x216806(0x464),'build_progression':_0x21526b[_0x216806(0x52b)],'upgrades_callback':'IncreaseBatSizeMax','upgrades':[{'resources':{'brick':0x14}}],'upgrade_description':'increase\x20nb\x20of\x20places'});_0xb13085[_0x216806(0x5be)]=0x1,this['bats'][_0x216806(0x2a9)](_0xb13085);},this[_0x3b2bb6(0x30b)]=_0x26f3c2=>{var _0x1f0505=_0x3b2bb6,_0x245ceb=new Batiment({'name':_0x1f0505(0x513),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x1f0505(0x4e0),'buto_txt':_0x1f0505(0x1cd),'description':_0x1f0505(0x270),'cost':0x0}],'blocking_end_turn':!![],'description':_0x1f0505(0x53d),'imgIcon':'lighthouse','build_progression':_0x26f3c2['costAP'],'upgrades_callback':'','upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'woodplank':0xa,'brick':0xa,'metalCopper':0xa}}],'upgrade_description':'increase\x20chance\x20of\x20detection'});_0x245ceb[_0x1f0505(0x5be)]=0x1,this[_0x1f0505(0x423)][_0x1f0505(0x2a9)](_0x245ceb);},this['addForge']=_0x2d09c8=>{var _0x4b6865=_0x3b2bb6,_0x558c4a=new Batiment({'name':_0x4b6865(0x3a2),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x4b6865(0x503),'buto_txt':_0x4b6865(0x242),'description':'craft\x20weapons','cost':0x0},{'callback':_0x4b6865(0x434),'buto_txt':_0x4b6865(0x5f4),'description':_0x4b6865(0x30e),'cost':0x0}],'description':_0x4b6865(0x1f4),'blocking_end_turn':!![],'imgIcon':_0x4b6865(0x435),'build_progression':_0x2d09c8['costAP']});this[_0x4b6865(0x423)][_0x4b6865(0x2a9)](_0x558c4a);},this['addStoneCuting']=()=>{var _0x3df809=_0x3b2bb6,_0x12769a=new Batiment({'name':_0x3df809(0x54b),'player_size':0x1,'callback_actionPlayer':[{'callback':'recoltStoneCutingResouce','buto_txt':_0x3df809(0x2df),'description':_0x3df809(0x25b),'cost':0x2}],'description':'I\x20know\x20you\x20have\x20too\x20much\x20stone','blocking_end_turn':!![],'imgIcon':_0x3df809(0x363)});this['bats'][_0x3df809(0x2a9)](_0x12769a);},this[_0x3b2bb6(0x3fd)]=()=>{var _0x193c66=_0x3b2bb6,_0x1fe517=new Batiment({'name':_0x193c66(0x31b),'player_size':0x3e7,'callback_actionPlayer':[{'callback':_0x193c66(0x476),'buto_txt':_0x193c66(0x203),'description':_0x193c66(0x22d),'cost':0x5}],'description':_0x193c66(0x5d7),'blocking_end_turn':!![],'imgIcon':_0x193c66(0x28e)});this[_0x193c66(0x423)][_0x193c66(0x2a9)](_0x1fe517);},this[_0x3b2bb6(0x4c4)]=()=>{var _0x34f3c0=_0x3b2bb6,_0x1e661a=new Batiment({'name':_0x34f3c0(0x48d),'player_size':0x5,'callback_actionPlayer':[],'description':_0x34f3c0(0x2b3),'blocking_end_turn':![],'imgIcon':'defend_village_icon','upgrades_callback':_0x34f3c0(0x37f),'upgrades':[{'resources':{'food':0x32,'wood':0x19}},{'resources':{'food':0x64,'brick':0x5}},{'resources':{'food':0x96,'coal':0x32}},{'resources':{'food':0xc8,'metalCopper':0x19}}],'upgrade_description':'increase\x20nb\x20of\x20places'});return _0x1e661a[_0x34f3c0(0x5be)]=0x1,this[_0x34f3c0(0x423)]['push'](_0x1e661a),_0x1e661a;},this[_0x3b2bb6(0x3d2)]=()=>{var _0x50643c=_0x3b2bb6;this['batsToBuild']=[{'name':'workshop','img':'workshop_icon','resources':{'wood':0xa},'callback':_0x50643c(0x42a),'input':{'name':_0x50643c(0x226),'costAP':0x1e}},{'name':_0x50643c(0x3f4),'img':_0x50643c(0x584),'resources':{'wood':0x64,'stone':0x1e},'callback':_0x50643c(0x43e),'input':{'name':_0x50643c(0x3f4),'costAP':0x14}},{'name':_0x50643c(0x20c),'img':'Mine','resources':{'wood':0x14,'stone':0x5},'callback':_0x50643c(0x2a2),'input':{'name':_0x50643c(0x20c),'costAP':0xa}},{'name':_0x50643c(0x325),'img':_0x50643c(0x601),'resources':{'wood':0x32,'stone':0x32},'callback':_0x50643c(0x287),'input':{'name':_0x50643c(0x325),'costAP':0xa}},{'name':'Smelter','img':'smelter','resources':{'wood':0xf,'brick':0x5},'callback':'addSmelter','input':{'name':_0x50643c(0x5e0),'costAP':0xa}},{'name':'Forge','img':_0x50643c(0x435),'resources':{'wood':0x14,'brick':0x5},'callback':_0x50643c(0x204),'input':{'name':'Forge','costAP':0xa}},{'name':'Stone\x20Carving','img':_0x50643c(0x363),'resources':{'wood':0x14,'stone':0x5},'callback':_0x50643c(0x4a9),'input':{'name':_0x50643c(0x54b),'costAP':0x50}},{'name':_0x50643c(0x2ee),'img':_0x50643c(0x5e7),'resources':{'wood':0x1},'callback':'addLightHouse','input':{'name':_0x50643c(0x2ee),'costAP':0xa}},{'name':_0x50643c(0x452),'img':_0x50643c(0x464),'resources':{'wood':0xa},'callback':_0x50643c(0x3f1),'input':{'name':_0x50643c(0x452),'costAP':0x2d}}];},this[_0x3b2bb6(0x2de)]=_0x1600bf=>{var _0x1f7082=_0x3b2bb6;if(!_0x1600bf||!_0x1600bf[_0x1f7082(0x1f7)])return![];var _0x549979=_0x1600bf['resources'];for(var _0x59ade0 in _0x1600bf[_0x1f7082(0x1f7)]){var _0x2f3b09=_0x59ade0,_0x51937d=_0x549979[_0x59ade0];if(!this[_0x1f7082(0x1f7)][_0x2f3b09]||this['resources'][_0x2f3b09]<_0x51937d)return![];}return!![];},this[_0x3b2bb6(0x5bf)]=_0x3a0cf1=>{var _0x4c23f1=_0x3b2bb6;if(!_0x3a0cf1||!_0x3a0cf1[_0x4c23f1(0x301)])return![];if(!this[_0x4c23f1(0x2de)](_0x3a0cf1[_0x4c23f1(0x301)]))return this['MessageSystem'][_0x4c23f1(0x225)]({'txt':'you\x20don\x27t\x20have\x20enought\x20resource'});var _0x340a5e=_0x3a0cf1[_0x4c23f1(0x301)];this[_0x4c23f1(0x1ed)][_0x4c23f1(0x225)]({'type':_0x4c23f1(0x3c7),'txt':_0x4c23f1(0x403)+_0x340a5e[_0x4c23f1(0x362)]+_0x4c23f1(0x2a8)}),this[_0x4c23f1(0x3b1)](_0x3a0cf1['bat']),this[_0x340a5e[_0x4c23f1(0x394)]](_0x340a5e[_0x4c23f1(0x2a3)]);for(var _0x2422a3 in this['batsToBuild'])if(this['batsToBuild'][_0x2422a3]==_0x340a5e)this[_0x4c23f1(0x1f1)][_0x4c23f1(0x1c2)](_0x2422a3,0x1);},this[_0x3b2bb6(0x239)]=_0x372343=>{var _0x4a406b=_0x3b2bb6;if(!_0x372343||!_0x372343[_0x4a406b(0x4b8)])return;this['Items']['push'](_0x372343[_0x4a406b(0x4b8)]);},this[_0x3b2bb6(0x2fb)]=_0x352e50=>{var _0xf37fff=_0x3b2bb6;if(!_0x352e50||!_0x352e50[_0xf37fff(0x498)])return console[_0xf37fff(0x4a1)]('can\x27t\x20add\x20this\x20weapon');this['Items'][_0xf37fff(0x2a9)](_0x352e50[_0xf37fff(0x498)]);},this['End_Turn']=_0x39aed2=>{var _0x542506=_0x3b2bb6;if(!_0x39aed2)return![];world[_0x542506(0x517)]['warningEndTurnMessage']=[];switch(this['phase']){case PHASE_NEWTURN:world[_0x542506(0x427)](),this[_0x542506(0x377)]=PHASE_PLACEPLAYER,this[_0x542506(0x1ed)][_0x542506(0x225)]({'txt':_0x542506(0x296)});this[_0x542506(0x5cc)][0x0][_0x542506(0x30a)]&&(this[_0x542506(0x1ed)][_0x542506(0x225)]({'txt':_0x542506(0x465)}),world[_0x542506(0x4ec)][_0x542506(0x258)](_0x542506(0x2ad)));for(var _0x1e0e92 in this['players'])this['players'][_0x1e0e92][_0x542506(0x5c2)]=this['players'][_0x1e0e92][_0x542506(0x264)];if(this['week']==0x0)world[_0x542506(0x4ec)][_0x542506(0x258)](_0x542506(0x46d),!![],!![]);break;case PHASE_PLACEPLAYER:if(_0x39aed2[_0x542506(0x4ce)]){var _0x3e7aa3=[];for(var _0x1e0e92 in this['players']){_0x526f55=this[_0x542506(0x34a)][_0x1e0e92];if(!this[_0x542506(0x40e)](_0x526f55))_0x3e7aa3[_0x542506(0x2a9)]({'txt':_0x542506(0x30f)+_0x526f55[_0x542506(0x362)]+_0x542506(0x24e),'player':_0x526f55,'tab':_0x542506(0x3c7)});}defBat=this[_0x542506(0x423)]['find'](_0x911ff0=>_0x911ff0['name']=='Defend\x20Village');if(defBat[_0x542506(0x335)][_0x542506(0x1e9)]<0x1)_0x3e7aa3['push']({'txt':_0x542506(0x376),'bat':defBat,'tab':'building'});if(_0x3e7aa3[_0x542506(0x1e9)]>0x0){world['villageUI']['warningEndTurnMessage']=_0x3e7aa3;return;}}this[_0x542506(0x377)]=PHASE_ACTIONPLAYER,this[_0x542506(0x1ed)][_0x542506(0x225)]({'txt':_0x542506(0x4e2)});break;case PHASE_ACTIONPLAYER:var _0x3e7aa3=[];if(_0x39aed2[_0x542506(0x4ce)])for(var _0x1e0e92 in this['bats']){var _0x2494e1=this[_0x542506(0x423)][_0x1e0e92];if(!_0x2494e1[_0x542506(0x386)])continue;for(var _0x5c7b19 in _0x2494e1['players_inside']){var _0x526f55=_0x2494e1[_0x542506(0x335)][_0x5c7b19],_0x4d2e9a=_0x526f55['get_valid_action_in_affected_building']();if(_0x4d2e9a&&_0x4d2e9a[_0x542506(0x1e9)]>0x0)_0x3e7aa3[_0x542506(0x2a9)]({'txt':_0x542506(0x30f)+_0x526f55['name']+_0x542506(0x366)+_0x526f55[_0x542506(0x5c2)]+'\x20Action\x20Points\x20left','player':_0x526f55,'tab':_0x542506(0x3c7)});}}if(_0x3e7aa3['length']>0x0){world[_0x542506(0x517)]['warningEndTurnMessage']=_0x3e7aa3;return;}this[_0x542506(0x377)]=PHASE_COMBAT;var _0x37b378=this[_0x542506(0x5cc)][0x0];_0x37b378['attackVillage']&&(this[_0x542506(0x4a6)]=!![],this['MessageSystem'][_0x542506(0x225)]({'txt':_0x542506(0x428)}));break;case PHASE_COMBAT:if(this[_0x542506(0x4a6)])this['test_start_battle']();else{this[_0x542506(0x523)](),this['phase']=PHASE_NEWTURN,this[_0x542506(0x581)]++;var _0x5b2aa1=this[_0x542506(0x34a)][_0x542506(0x1e9)]*0x2;this[_0x542506(0x1ed)][_0x542506(0x225)]({'txt':_0x542506(0x29b)+this[_0x542506(0x581)]}),this[_0x542506(0x1ed)]['addMessage']({'type':_0x542506(0x4a3),'txt':_0x542506(0x3bb)}),this[_0x542506(0x3b1)]({'resources':{'food':_0x5b2aa1}}),this['foodconsumedLastTurn']=_0x5b2aa1;for(var _0x1e0e92 in this[_0x542506(0x34a)]){this[_0x542506(0x34a)][_0x1e0e92][_0x542506(0x454)](),this[_0x542506(0x34a)][_0x1e0e92][_0x542506(0x406)]++;}if(this[_0x542506(0x34a)]['length']<this[_0x542506(0x2cb)]){var _0x4144de=Math['floor'](Math[_0x542506(0x471)]()*(0x64+0xa*this[_0x542506(0x2cb)]-this['players']['length']));if(_0x4144de>0x32){var _0x526f55=this[_0x542506(0x201)]({});this['MessageSystem'][_0x542506(0x225)]({'type':_0x542506(0x4a3),'txt':'New\x20PLayer\x20'+_0x526f55['name']+'\x20joined\x20your\x20village'});}}}break;}},this['test_start_battle']=()=>{var _0x2e3d55=_0x3b2bb6,_0x99f630=[];for(var _0x6f1805 in this['players']){var _0x4c76bb=this[_0x2e3d55(0x34a)][_0x6f1805];bat=this[_0x2e3d55(0x40e)](_0x4c76bb);if(bat[_0x2e3d55(0x362)]==_0x2e3d55(0x48d))_0x99f630[_0x2e3d55(0x2a9)](_0x4c76bb);}world[_0x2e3d55(0x517)]=undefined,console[_0x2e3d55(0x4a1)](_0x99f630[_0x2e3d55(0x1e9)]+_0x2e3d55(0x298)),world['generateBattleMapFromWave'](_0x99f630,this[_0x2e3d55(0x5cc)][0x0]),world['Music'][_0x2e3d55(0x551)]('the-britons',!![]),world[_0x2e3d55(0x4ec)][_0x2e3d55(0x258)]('where-the-brave-may-live-forever',!![]),world[_0x2e3d55(0x21e)]=new GameUI(world['Screen']['canList'][_0x2e3d55(0x21e)]),world[_0x2e3d55(0x4ec)]['playSound'](_0x2e3d55(0x2ad));},this[_0x3b2bb6(0x272)]=_0x3f2322=>{var _0x3bf36b=_0x3b2bb6;for(var _0x2322b1 in this[_0x3bf36b(0x34a)]){this[_0x3bf36b(0x34a)][_0x2322b1]['id']==_0x3f2322['id']&&(this[_0x3bf36b(0x34a)][_0x3bf36b(0x1c2)](_0x2322b1,0x1),this[_0x3bf36b(0x1ed)][_0x3bf36b(0x225)]({'txt':_0x3f2322[_0x3bf36b(0x362)]+_0x3bf36b(0x48c)}));}for(var _0x2322b1 in this[_0x3bf36b(0x423)]){var _0x31af81=this[_0x3bf36b(0x423)][_0x2322b1];for(var _0x500ed6 in _0x31af81['players_inside'])if(_0x31af81[_0x3bf36b(0x335)][_0x500ed6]['id']==_0x3f2322['id'])_0x31af81[_0x3bf36b(0x335)][_0x3bf36b(0x1c2)](_0x500ed6,0x1);}};};function _0x33a7(){var _0x3e8a97=['villageAP_icon','tryLvLup','createNewArmor','getChanceOfHit','getItemIcone','corrected\x20in\x20\x20','Scarlett\x20Mays','left','mouseWasOnMouseLightLastDraw','giant','getLvlUpPerkList','big_tree_1','Enter','#a01454','\x20week\x20','leather_icon','mouseup','butchery','WARNING\x20:\x20enemy\x20will\x20attack\x20this\x20turn\x20!','Digit','Kevin\x20Wiggins','AlphaTransparencyByPixel','turnFinished','unequipArmor','\x20is\x20tanning\x20hide\x20into\x20leather\x20for\x20','\x20for\x20','the-britons','marge','Build\x20new\x20batiments\x20here','text','random','Stefan\x20Christian','Stephanie\x20Bradley','body/','type','recoltForestResouce','Jordan\x20Barker','Itzel\x20Allison','rect','Kenji\x20McLaughlin','Khloe\x20Horn','src','#008b8b','\x20with\x20','addTextZone','#0000ff','#17bdbc','Attack\x20with\x20','\x20missed\x20attack\x20(','draw_tab_selector','letter_size','\x20:\x20',']\x20distance\x20around\x20the\x20target','block','\x20turn','Fepachie','./music/','is\x20dead\x20R.I.P','Defend\x20Village','description','End\x20Turn','attack','Marvin\x20Herrera','screenBy','\x0a-equip\x20items','\x20is\x20dead','better\x20than\x20nothing','UIturn','weaponAnim','weapon','projectilName','createNewPlayer','get_valid_craft_list','Askip','craftPlankInSawmill','drawProjectiles','Wood\x20Stick','mouseInfoWindow','log','woodplank_icon','player','clientX','color','battle','get\x20more\x20resources\x20in\x20mine','removePlayerFromBat','addStoneCuting','Emmalyn\x20Spence','i\x20am\x20in\x20','getResourcesTextAndImg','botright_block','Mckenna\x20Leblanc','canAttackHere','Force\x20End\x20Turn','page\x20up','innerHeight','draw_NextTurnTab','get_next_block_accessible','oncontextmenu','keyDown','craft','armor','./img/player_test3/','Zelda\x20Stevens','#00ff00','workshop_icon','Turns','ReturnBlockTargeted','putImageData','\x20received\x20damage\x20:\x20','askUserChangeName','itemType','background','addDefendVillage','version\x20','Tiana\x20Daniel','Zachary\x20Holloway','crossOrigin','middle','SmeltCopper','piercing','KeyS','Lia\x20Diaz','warning','botElem','factor','No\x20WAter\x20in\x0athis\x20village','cut\x20wood\x20faster\x20in\x20forest','upgrades_callback','lineWidth','village','closeFullscreen','batPageOffset','CheckControlInput','copper_cleaver','brick_icon','\x27Algerian\x27','mouseLight','getNextUpgrade','create_random_enemy_on_map','body_type','WorkAtLightHouse','documentElement','Phase\x202\x20started','changeMapView','callback_actionPlayer','foodconsumedLastTurn','createRandomWeapon','Key_Input','createWeaponFromInput','GetColorImage','48336876ztyHxj','fillColor','Music','loadItemsFromInput','pixel_endy','imgs\x20:\x20','attack\x20animation\x20on\x20the\x20selected\x20block','Screen','#0000fb','\x20img\x20loaded','showUIplayers','\x27\x20(+','A\x20big\x20hole\x20in\x20the\x20ground','removeItem','#ff080888','\x27\x20uppgrading','Kade\x20House','getDistToABlock','#888888','CheckMoveTo\x20:\x20invalid\x20cost\x20:\x20','\x20damage\x20increase\x20of\x20','wavesVision','cleanCanvas','buto_txt','\x20is\x20carving\x20stone\x20into\x20brick\x20for\x20','GoToCraftTab','getBlocksAtRange','get_pixel_by_pos','list','loadImg','#55ff00','inputclick','get\x20block\x20adjacent','needUIRedraw','getBlockAdjacent','\x0a-recolt\x20resource\x20in\x20the\x20forest','Raid\x20!','draw_Image','pos_starty','Dakari\x20Poole','changed\x20','Lighthouse','GetDrawBuildingElement','Jadiel\x20McDonald','generateMap','villageUI','buttonList','drawVillageUI','Miner\x20helmet','#000000aa','Alisson\x20Roberson','arc','metalCopper_icon','addCanvas','End_Turn','find','invalid\x20input','addWavesNextTurn','webkitExitFullscreen','filter','ghost','Space','imgIcon','drawImage','initImgs','costAP','Carson\x20Hunter','#666666','generateWaves','Enter\x20player\x20new\x20name\x20:\x20(must\x20be\x204-16\x20letters\x20long','sea','onload','generateRandomElement','Speed\x20:\x20','playersPageOffset','NextTurnPrevisionExtended','upgradeWeapon','\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27','displayMessageEvent','mapTopElem','No\x20Name','\x20incoming\x20damage','UIeventExpanded','chance\x20to\x20forecast\x20incoming\x20enemy','get\x20x2\x20more\x20wood\x20in\x20forest','get_all_block_accessible','Paxton\x20Pollard','Treasure\x20Quintana','readyState','miner_helmet','Houses','getImageData','loadBatsFromInput','3782355NWMuKW','blocksize_x','get_direction_from_pos','colorColored','Stone\x20Carving','drawMessageSystemEvents','moving','InfoWindowPos','enemies','Giana\x20Hudson','stopSound','Direction\x20:\x20','#000000','lineMax','strokeColor','createUI','upgrade\x20!','can\x27t\x20with\x20','light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling','#6495ed88','createDatafromImage','code','getBoundingClientRect','decode','upgrades','page\x20down','you\x20can\x20only\x20craft\x20during\x20Phase\x202','UI_list','mine','bow','Algerian','blockSelected','colorFill','#005500','action\x20point\x20:\x20','SelectingBlockAction','#ff880022','get_next_turn','defend_village_icon','batSelected','ArrowUp','player_size','CheckInfoWindow','posB','GetBatBuildMenuSelector','addResource','wall','no\x20attack','txt_font','draw_newTurnPhase','\x20AP','menuUI','parse','Strength','Shepherd\x20Park','affectPlayerToBat','topleft_block','weed','week','goblins','attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','bow_workshop_icon','actionCost','creating\x20a\x20giant\x20in\x20','initMapFloorImage','batSortModeId','clientY','getBlockUnderPlayer','#1e90ff','stone_icon','add\x20to\x20building','UIplayers','EventcloseFullscreen','brigand','invalid\x20player','center\x20on\x20player','New\x20Building','Phase\x202\x20:\x20Action\x20Players','callback_data','human_face_3','hit\x20them\x20from\x20behind','you\x20don\x27t\x20have\x20enought\x20stone','Zachariah\x20Berg','New\x20Turn\x20!\x20','all\x20block\x20accessible\x20:\x20','unshift','return','Bow\x20workshop','fullScreen','Strenght\x20Smashing\x20weapon,\x20can\x20be\x20uppgraded','selecting_block','\x20let\x27s\x20go\x20','txt','rotate\x20to\x20:\x20','1266MNPzTs','Discord','sword_2h','human_body_2','CheckMoveTo','posBlocky','drawUI','fullness','Krew\x20Pruitt','smelt\x20copper','getPlayerByBlock','damageBase','fillText','topElem','No\x20player\x20selected','\x20size\x20+1','copper_armor','requestFullscreen','serif','lineTo','img\x20','receive_attack','equipArmor','#00D238','hammer_nails','lvl','TryBuildBat','Gruu','Ila\x20Ellis','villageActionPoint','sounds','keyUp','width','stat','get_block_at_DistRange','batBuildMenu','GetPageSelector','ghostFrom','blocks','waves','\x20\x20\x20\x20\x20Info\x20:','screenAy','attack_bigaxe','under_construction_icon','mozfullscreenchange','weakest','Your\x20Village\x20is\x20attacked\x20!!','fps','sort\x20by\x20','Equiped\x20with\x20\x27','Exploit\x20resource\x20from\x20the\x20forest','dirx','key_event','sword','hand','appendChild','posA','fillStyle','createElement','Smelter','fillRect','statsplayerSortModeList','letter_per_line','UIevent','Player','Sergio\x20Welch','lighthouse','projectil','\x20crafted\x20a\x20','anim','getMoveCost','.mp3','len_y','#ffffff','Magnus\x20Yoder','tab','needColor','\x20turns\x20:\x20','create_brigand_on_map','go\x20to\x20forge\x20tab','ago','test\x20turn\x20finished\x20:\x20','startTime','startsWith','Keegan\x20Doyle','craftPageOffset','visible','getZoneAtAbsRangeToPlayer','canvasPlayer','playerColor','goblin_face_1','Azrael\x20Ali','sawmill','failed\x20createImgData\x20image','getKeyInput','#663300','LoadSound','Kingston\x20Howell','getBlockBehindTarget','createPlayer','drawImageMirrorRotateCenter','draw_menu','size','pixel_width','\x20by\x20','error\x20input\x20create\x20player','zIndex','eventPage','goblin_face_0','getPlayerIcone','IncreaseBatSizeMax','\x20is\x20attacking\x20with\x20','zoneTarget','#55aaaa','\x27Cooper\x20Black\x27','\x27Footlight\x20MT\x20Light\x27','crushing','colorText','ArrowLeft','\x20life\x20point','Copper\x20Hammer','tabs','wood_stick','addEventListener','drawRect','draw_craft_menu','Greyson\x20Walker','burn\x20coal,\x20transform\x20\x27raw\x20copper\x27\x20into\x20\x27metal\x20copper\x27','warningEndTurnMessage','hammerMetal','lvlupList','dir','Stone\x20Axe','highlightZone','bodyPartImgReady','cost','generateBattleMapFromWave','nextTurn','openFullscreen','splice','Jamison\x20Pace','Numpad','Wilson\x20Gill','alt','Alexia\x20Anderson','Linda\x20Castillo','getDateText','Braden\x20Lucero','upgrade_description','big_tree_0','watch','tree_root','getNextTurnList','strokeStyle','playerSortModeId','affecting\x20','#ff000055','pUI_need_redraw','pixel_starty','top','innerWidth','ActionPoint','gaugeSpeed','build','getPixelPosition','ammo','getArmorDescription','mode','canvasPUI','KeyF','getZoneAdjacentToPlayerByDir','\x20is\x20attacking\x20(no\x20weapon)','drawImageRotateCenter','armor/','movePCost','lvl\x20','_blank','small_woodBow','length','move','#ffffff88','pop','MessageSystem','\x20uppgraded\x20to\x20LvL\x20','this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it','Movement\x20cost\x20:\x20','batsToBuild','human_face_2','it\x20smells\x20bad,\x20but\x20this\x20armor\x20is\x20efficient\x20against\x20weak\x20enemy','craft\x20or\x20upgrade\x20weapons\x20here','#d2691e88','Stone\x20Pickaxe','resources','initMapTopElement','Elsie\x20Reynolds','Richard\x20Lee','len_x','createNewWeapon','Phase\x201\x20:\x20Place\x20Players','villageSave','look','mapFloor','generateBasicPlayer','bow\x20attack','get\x20resources','addForge','txt_size','createImgFromData','Boden\x20Archer','strokeRect','Okalm','upgradeLvl','currentTime','Mine','#ffff66','no\x20armor\x20equiped','Lilianna\x20Doyle','sand','sortButo','sound','0px','Controler','mousePos','from','animation','stats','textAlign','initMapBotElement','needRedraw','bush','ready','GameUI','Rotate','change\x20block\x20','rangeMax','diry','then','drawTextCenter','addMessage','workshop','lifeMax','shift','\x20left','transform\x20wood\x20into\x20woodplank','Dexterity\x20Slashing\x20weapon,\x20can\x20be\x20uppgraded','clearRect','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','GetCanvasPos','#00dd00','draw_battlePhase','duration','text_color','\x20is\x20smelting\x20copper\x20for\x20','statsplayerSortModeId','bad\x20input\x20remove\x20resource','createPattern','#5500ff','smelter','addArmorToVillageInventory','res','team','msg','draw_UI_EventMessage','mapImgsBot','elmList','set_drawing_map','test\x20zone\x20','go\x20to\x20craft\x20tab','Archer\x20Baxter','text_font','Kaydence\x20Xiong','#0000ff88','playerDefaultImgs','getTime','NumpadAdd','_icon','scale','transform\x20hide\x20(from\x20deadAnimals,\x20in\x20butchery)\x20into\x20leather','init','\x20is\x20not\x20affected\x20to\x20a\x20building','rotate','init_check_mouse_move','unequip\x20armor','Wood\x20Armor','itemsPageOffset','ctx','zone','stroke','delete_player','playSound','drawImageRotate','craft\x20woodplank','turn\x20Stone\x20into\x20brick','enemy)','smash','generateBasicVillage','click_buton_check','Small\x20Woodbow','#ffff00','you\x20don\x27t\x20have\x20coal\x20or\x20rawCopper','PlayerInfodisplay','villageActionPointMax','\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings','You\x20can\x20defend\x20your\x20village\x20with\x20+5\x20players\x20(','preventDefault','Amira\x20Escobar','Menu','draw_ItemsTab','use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building','attack_metal_slash','Sariah\x20Cabrera','Items','#ff0000','wacth\x20out\x20incoming\x20enemy\x20attack','nb_houses','kill_player','#00000000','getChanceUppgrade','rangeMin','dmgArmor','Cade\x20Patton','mousemove','3214VPRmAM','toFixed','\x0aSpeed\x20:\x20','\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20','Not\x20for\x20Vegan','human','human_body_0','can\x27t\x20display\x20weapon\x20:\x20','Playerturn','Attack','goblin_body_1','zone_selecting_input','createArmorFromInput','blocksize_y','addSawmill','sortButo2','Load\x20saved\x20game','LoadPlayerImage','Ruth\x20Stout','butcherMear','Collin\x20Snow','forest_icon','addImage','Jacob\x20Knapp','loadPlayerDefaultImgs','pos_x','paused','get_path_to','floor','Phase\x201\x20started','shaken_bush','\x20players\x20to\x20the\x20battle','Aubrielle\x20Farmer','\x0aLvl\x20:\x20','New\x20Turn\x20started\x20:\x20','NumpadSubtract','InfoWinfowPos','you\x20lost\x20:','equipWeapon','Halo\x20Knapp','weapon/','addMine','input','key_buton_check','LoadPlayerVillageImage','player_test3/village/resource','centurion\x20helmet','\x27\x20have\x20started','push','no\x20crafts\x20list','item','GetMovePrice','hornBattle','stone_spear','APcost','\x20don\x27t\x20have\x20enought\x20Action\x20Point','msExitFullscreen','image\x20incomplet','Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village\x0aAt\x20least\x201\x20player\x20must\x20be\x20present\x20in\x20this\x20place','endFight','you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank','#ef0bc322','./img/','creating\x20an\x20image\x20:\x20','version','isDead','no\x20weapon\x20equiped','life','982fWURaY','get_pixel_by_block','human_body_1','i\x20dont\x20have\x20this\x20image\x20\x20:\x20','#00ffff','calculatDamageFromAttack','can\x27t\x20create\x20this\x20weapon','Kadence\x20Castaneda','./img/player_test3/village/villageUI_patern.png','start\x20construction','create\x20player\x20in\x20','draw_resource_tab','center','build_progression','populationMax','capacityList','human_face_0','height','rock','bot','cos','Callahan\x20Schmitt','centerOnBlock','ChangePosition','Metal\x20Axe','substring','./img/mapBotElement/','selector','Dexterity','Where\x20your\x20players\x20works','txts','playerInfoMenu','angle','checkHaveResources','cut\x20stone','createRandomArmor','CheckMoveTo\x20wrong\x20direction\x20this->dst\x20:\x20','TryUpgrade','.png','2361285DWOFFO','Move\x20AP\x20cost\x20:\x20','pixel_height','You\x20can\x20see\x20events\x20(attack)\x20that\x20will\x20happen\x20this\x20turn\x0aBuild\x20a\x20LightHouse\x20for\x20see\x20further','createProjectilAnimation','craft\x20basic\x20tools\x20and\x20weapons\x0acan\x20also\x20tan\x20hide\x20into\x20leather','resource','MenuUI','craft\x20basic\x20stuff','getZoneAdjacentToPlayer','Light\x20House','UIsystem','\x0a-hit\x20between\x20[','mapImgsTop','you\x20don\x27t\x20have\x20enought\x20resource','createPlayerFromInput','Move\x20To','stoneCarving','pos_y','colorStroke','Azyla','life\x20','CheckMoveTo\x20:\x20player\x20here\x20:\x20','addWeaponToVillageInventory','face/','resized','get\x20more\x20resources\x20in\x20the\x20mine','string','human_body_3','bat','getWeaponAttackDescription','playerSelected','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','webkitfullscreenchange','playerList','setTransform','sin','getBlocksAtRangeFromPlayer','attackVillage','addLightHouse','key','Jianna\x20Wood','upgrade\x20weapons','player\x20','Population\x20max\x20+\x205\x20(','3873584akprJp','\x20weeks','\x0aTarget\x20adjacents\x20blocks','Lvl\x20up\x20+1','CheckMoveTo\x20:\x20invalid\x20block\x20:\x20','getVillageUItext','damages','beginPath','player_test3/village/building','resize','Forest\x20Exploitation','you\x20don\x27t\x20have\x20hide','\x20is\x20loaded','handImg','mapImgsFloor','\x20x\x20','gauge','DrawTabInfoPlayer','year\x20','UpgradingHouses','Sawmill','generateCapacity','Leather\x20Armor','Belek','rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','playersSelected','Hazel\x20Crawford','body','Turn\x20','slashing','damage','mapUI','addGauge','leather_armor','\x27Snap\x20ITC\x27','hide_icon','players_inside','Andres\x20Sampson','goblin','check\x20protect\x20','addHouse','Img','Mira\x20Acevedo','cut\x20deadAnimal\x20into\x20food\x20and\x20Hide','canvas','\x20-Action\x20Point\x20','Emerie\x20Hickman','sort','I\x20will\x20play\x20in\x20','right','stringify','txt_color','img','return\x20to\x20the\x20start\x20of\x20the\x20last\x20phase\x201\x20you\x20played','get_valid_player_for_craft','Kelvin\x20Fischer','value','players','info','#000000ff','take_damage','loop','unequipWeapon','getMouseInput','toDataURL','Saige\x20McBride','horizontal','Cillian\x20Ray','from\x20','weapon\x20equiped\x20:\x20\x27','hit\x20the\x20target\x20behind','Start\x20Phase\x202','map','CheckMoveTo\x20:\x20invalid\x20Input','smelt\x20raw\x20mineral\x20into\x20metal','enemy\x20created\x20succesfully','\x20turn\x20have\x20started','https://discord.gg/bSKtAqwAhc','\x20if\x20%','style','round','name','StoneCuting','ff0000','\x20is\x20now\x20','\x20have\x20','no\x20one\x20can\x20craft\x20it','weapon\x20:\x20','speed','\x20\x20During\x20Phase\x201,\x20you\x20can','complete','more\x20chance\x20to\x20uppgrade\x20a\x20weapon\x20in\x20forge','TryMoveTo','addHorizontalElem','drawPlayers','\x20is\x20building\x20\x27','batSortModeList','create_goblin_on_map','constructionSelected','drawPrevision','End\x20of\x20the\x20battle','DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','phase','#da1d81','damage\x20after\x20armor\x20reduction\x20:\x20','layerLen','posBlockx','get_block_by_pixel','Next\x20Turn','page','UppgradeDefendVillage','\x20have\x20forecasts\x20','drawFillRect','Zaid\x20Terry','zone_target_area','allied)','Arial','blocking_end_turn','max_letter','pixel_startx','abs','stone_pickaxe','\x0a-hit\x20the\x20selected\x20block','function','bodyPartImg','lvl\x20up','unequip\x20weapon','attack\x20with\x20:\x20','Jade\x20Butler','error,\x20no\x20block','sqrt','callback','highlight','Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn','\x20is\x20cutting\x20meat\x20for\x20','job','#FFAD1C','Cole\x20Clayton','Prevision','getEquipedWeaponDescription','Marisol\x20Humphrey','pos_startx','moveTo','create_giant_on_map','creating\x20a\x20goblin\x20in\x20','Forge','Kai\x20Benjamin','addButton','go\x20to\x20player\x20tab\x20for\x20lvl\x20up','Kashton\x20McCarty','chance\x20to\x20hit\x20:\x20%','end\x20of\x20the\x20combat','hand\x20hit','13694488pXZaKI',']\x20blocks\x20behind\x20the\x20target','upgrade\x20for\x20increase\x20your\x20Population\x20max','#11ff33','newGameInput','Queen\x20Watson','lenx','removeResource','Mae\x20Gentry','draw_villagePlayerUi','weapon/projectil/','you\x20don\x27t\x20have\x20enought\x20deadAnimal,\x20go\x20hunt\x20in\x20the\x20forest\x20with\x20a\x20bow','stones','Jakobe\x20Hardin','itemSelected','draw_building_tab','draw_map','Your\x20population\x20eat\x20food,\x20Miam','Maci\x20Alvarado','back','\x27Chiller\x27','textBaseline','playerSortModeList','Osef','craftSelected','metal_sword','UIturnExpanded','David\x20Grant','showUI','building','\x0aSurvived\x20','Annalise\x20Carson','Meilani\x20Olson','button','replace','Matthew\x20Beil','Imgs','upgrade','race','ApplyListPerkUp','createBatToBuildList','Start\x20a\x20new\x20game','projectilSpeed','AIstyleFocus','GetNextTurnButton','wood\x20Stick','activeTabId','Copper\x20Cleaver','draw_playerTab','ceil','position','no\x20path\x20found\x20:\x27(','no\x20description','movement\x20factor\x20x','\x20can\x20lvl\x20up','KeyA','River\x20Hunter','ArrowDown','#00af0022','\x20Action\x20Point\x20(Village)\x20','direction\x20:\x20','\x27Comic\x20Sans\x20MS\x27','increase\x20your\x20max\x20population','initVillage','getBlocksAtDistRangeFromPlayer','spear','lastTime','measureText','\x20Action\x20Point\x20left','leny','sawmill_song','addButchery','getContext','exitFullscreen','fletching\x20station','face_type','Grady\x20ONeal','data','32830yHEtxu','can\x27t\x20get\x20can\x20pos','\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building','bonus','click','addForest','screenBx','pixel_endx','prompt','Action\x20Point\x20:\x20','Malachi\x20Garza','the\x20construction\x20of\x20\x27','coal','mouse_move_check','age','windowInfo','projectilAnimation','ghost\x20copy\x20=\x20','eventPageOffset','drawTextTopLeft','metal_axe','atan2','getBatFromPlayer','ControlLeft','GoToTabName','Lara\x20Barnett','\x0a--\x20x','path','check\x20dmg\x20:\x20','\x20leave\x20','concat','open','world','Peter\x20Tate','Stephen\x20Bartlett','cancel_menu','drawPlayer','mapBlock','Stone\x20Spear','highlightBlock','checkNextUpgrade','center_on_selected_player','playerstats','bats','food_icon','#ff66ff','Setple','saveWorld','Your\x20village\x20is\x20attacked\x20!','lvlup','addWorkShop','\x20%\x20of\x20','left\x20mouse\x20:\x0a','wood_icon','Ander\x20Wise','Players','font','\x0a-start\x20the\x20construction\x20of\x20new\x20building','drawGameUI','TryCraftItem','GoToForgeTab','forge','blockTargetingFunction','bottom','ActionPointMax','#555555','player\x20body\x20img\x20loaded\x20and\x20ready','canList','\x20/\x20','Events','addBowWorkshop','saw_workshop','Hunt\x20deadAnimal\x20in\x20the\x20forest','stone_axe','moveCost','repeat','playAIturn','Wren\x20Costa','#00aaaa','Prevision\x20:\x20','deadAnimal_icon','CostMovingPlayer','circle_under_player','#556b2f88','./img/mapFloor/','showUIsystem','\x20damage','#a52a2a','no\x20players','rename','Butchery'];_0x33a7=function(){return _0x3e8a97;};return _0x33a7();}function UppgradeDefendVillage(_0xea9b54){var _0x1693d2=_0x492d20;if(!_0xea9b54||!_0xea9b54[_0x1693d2(0x301)])return;bat['player_size']+=0x5,village[_0x1693d2(0x1ed)]['addMessage']({'type':_0x1693d2(0x3c7),'txt':_0x1693d2(0x266)+bat[_0x1693d2(0x570)]+')'});}function IncreaseBatSizeMax(_0x57cf98){var _0x2f2b31=_0x492d20;if(!_0x57cf98||!_0x57cf98[_0x2f2b31(0x301)])return;bat[_0x2f2b31(0x570)]+=0x1,village['MessageSystem']['addMessage']({'type':_0x2f2b31(0x3c7),'txt':bat[_0x2f2b31(0x362)]+_0x2f2b31(0x5b4)});}function UpgradingHouses(_0x58e8c1){var _0x36102d=_0x492d20;if(!_0x58e8c1||!_0x58e8c1[_0x36102d(0x301)])return;var _0x566593=_0x58e8c1[_0x36102d(0x301)],_0x28beda=world[_0x36102d(0x4d5)];_0x566593[_0x36102d(0x5be)]==0x1&&(_0x28beda[_0x36102d(0x2cb)]+=0x5,_0x28beda[_0x36102d(0x1ed)][_0x36102d(0x225)]({'type':'player','txt':_0x36102d(0x310)+_0x28beda[_0x36102d(0x2cb)]+')'})),_0x566593[_0x36102d(0x5be)]==0x2&&(_0x28beda[_0x36102d(0x2cb)]+=0xa,_0x28beda[_0x36102d(0x1ed)]['addMessage']({'type':_0x36102d(0x4a3),'txt':'Population\x20max\x20+\x2010\x20('+_0x28beda[_0x36102d(0x2cb)]+')'}));}function GoToCraftTab(){var _0x9535dd=_0x492d20;if(world['villageUI'])world[_0x9535dd(0x517)][_0x9535dd(0x410)]({'tab':_0x9535dd(0x4b7)});}function GoToForgeTab(){var _0x2c5090=_0x492d20;if(world['villageUI'])world[_0x2c5090(0x517)]['GoToTabName']({'tab':_0x2c5090(0x26e)});}function recolteMine(_0x13da33){var _0x2e2a59=_0x492d20;if(!_0x13da33||!_0x13da33[_0x2e2a59(0x4a3)]||_0x13da33[_0x2e2a59(0x1be)]==undefined||_0x13da33[_0x2e2a59(0x1be)]>_0x13da33[_0x2e2a59(0x4a3)]['villageActionPoint'])return;var _0x1d714f=_0x13da33[_0x2e2a59(0x4a3)][_0x2e2a59(0x362)]+'\x20is\x20mining\x20resource\x20for\x20'+_0x13da33[_0x2e2a59(0x1be)]+_0x2e2a59(0x579);world[_0x2e2a59(0x4d5)][_0x2e2a59(0x1ed)][_0x2e2a59(0x225)]({'type':'job','txt':_0x1d714f}),_0x13da33['player'][_0x2e2a59(0x5c2)]-=_0x13da33[_0x2e2a59(0x1be)];var _0x381e21=_0x13da33['player'][_0x2e2a59(0x498)]&&_0x13da33['player'][_0x2e2a59(0x498)][_0x2e2a59(0x3fb)][_0x2e2a59(0x521)](_0x118448=>_0x118448==BONUS_PICKAXE_MINE)?!![]:![],_0x3028a7=0x2+Math['floor'](Math[_0x2e2a59(0x471)]()*0x5),_0xf2cb12=Math['floor'](Math[_0x2e2a59(0x471)]()*0x64)>0x5?0x0:Math[_0x2e2a59(0x295)](Math[_0x2e2a59(0x471)]()*0xa),_0x300036=Math[_0x2e2a59(0x295)](Math[_0x2e2a59(0x471)]()*0x64)>0x5?0x0:Math['floor'](Math['random']()*0x3);_0x381e21&&(_0xf2cb12+=0x5,_0x3028a7+=0x14,_0x300036+=0x2);var _0x35ee8b={'stone':_0x3028a7};if(_0xf2cb12||_0x381e21&&_0xf2cb12)_0x35ee8b[_0x2e2a59(0x404)]=_0xf2cb12;if(_0x300036||_0x381e21&&_0x300036)_0x35ee8b['rawCopper']=_0x300036;world[_0x2e2a59(0x4d5)][_0x2e2a59(0x574)]({'resources':_0x35ee8b}),world[_0x2e2a59(0x4ec)]['playSound'](_0x2e2a59(0x563));}function craftPlankInSawmill(_0x128a87){var _0x4d2517=_0x492d20;if(!_0x128a87||!_0x128a87[_0x4d2517(0x4a3)]||_0x128a87[_0x4d2517(0x1be)]==undefined||_0x128a87[_0x4d2517(0x1be)]>_0x128a87[_0x4d2517(0x4a3)][_0x4d2517(0x5c2)])return;if(!world[_0x4d2517(0x4d5)][_0x4d2517(0x2de)]({'resources':{'wood':0xa}})){world[_0x4d2517(0x4d5)][_0x4d2517(0x1ed)]['addMessage']({'type':_0x4d2517(0x398),'txt':_0x4d2517(0x2b5)});return;}world['Music']['playSound'](_0x4d2517(0x3f0));var _0x5b6392=_0x128a87['player']['name']+'\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for'+_0x128a87[_0x4d2517(0x1be)]+'\x20AP';world[_0x4d2517(0x4d5)][_0x4d2517(0x1ed)][_0x4d2517(0x225)]({'type':_0x4d2517(0x398),'txt':_0x5b6392}),_0x128a87[_0x4d2517(0x4a3)][_0x4d2517(0x5c2)]-=_0x128a87['cost'],world['village'][_0x4d2517(0x3b1)]({'resources':{'wood':0xa}}),world[_0x4d2517(0x4d5)][_0x4d2517(0x574)]({'resources':{'woodplank':0x1}});}function recoltForestResouce(_0x9c0d0d){var _0xf53ac5=_0x492d20;if(!_0x9c0d0d||!_0x9c0d0d[_0xf53ac5(0x4a3)]||_0x9c0d0d[_0xf53ac5(0x1be)]==undefined||_0x9c0d0d['cost']>_0x9c0d0d[_0xf53ac5(0x4a3)][_0xf53ac5(0x5c2)])return;world[_0xf53ac5(0x4ec)]['playSound'](_0xf53ac5(0x297));var _0x470883=0xa-0x2+Math[_0xf53ac5(0x295)](Math[_0xf53ac5(0x471)]()*0x5),_0x3f3bb0=0x5-0x3+Math[_0xf53ac5(0x295)](Math[_0xf53ac5(0x471)]()*0x9),_0x29fa68=0x0;_0x9c0d0d[_0xf53ac5(0x4a3)][_0xf53ac5(0x498)]&&_0x9c0d0d[_0xf53ac5(0x4a3)]['weapon'][_0xf53ac5(0x3fb)][_0xf53ac5(0x521)](_0xffc3cd=>_0xffc3cd==BONUS_AXE_FOREST_WOOD)&&(_0x3f3bb0*=0x2,_0x3f3bb0+=0xc);_0x9c0d0d['player'][_0xf53ac5(0x498)]&&_0x9c0d0d['player'][_0xf53ac5(0x498)]['bonus']['find'](_0x4add2e=>_0x4add2e==BONUS_HUNTER_FOREST)&&(_0x29fa68=Math['floor'](Math[_0xf53ac5(0x471)]()*0x3));var _0x1bdfa6=0x1+Math['floor'](Math[_0xf53ac5(0x471)]()*0x2),_0x564181=_0x9c0d0d['player'][_0xf53ac5(0x362)]+_0xf53ac5(0x27c)+_0x9c0d0d[_0xf53ac5(0x1be)]+_0xf53ac5(0x579);world[_0xf53ac5(0x4d5)][_0xf53ac5(0x1ed)]['addMessage']({'type':_0xf53ac5(0x398),'txt':_0x564181}),_0x9c0d0d[_0xf53ac5(0x4a3)][_0xf53ac5(0x5c2)]-=_0x9c0d0d[_0xf53ac5(0x1be)],world[_0xf53ac5(0x4d5)][_0xf53ac5(0x574)]({'resources':{'food':_0x470883,'wood':_0x3f3bb0,'stone':_0x1bdfa6,'deadAnimal':_0x29fa68}});}function WorkAtLightHouse(_0x198f62){var _0x178be1=_0x492d20,_0x559dd6=_0x198f62[_0x178be1(0x4a3)],_0x3b0587=_0x198f62[_0x178be1(0x301)],_0x495082=world[_0x178be1(0x4d5)][_0x178be1(0x5cc)],_0x4ab5c6=0x0;for(var _0x2a433e=0x0;_0x2a433e<_0x559dd6['villageActionPoint'];_0x2a433e++){var _0x91eff=0x0;while(_0x495082[_0x91eff]&&_0x495082[_0x91eff][_0x178be1(0x5fb)])_0x91eff++;if(_0x91eff>=_0x495082['length'])break;var _0x2761d9=Math['floor'](Math[_0x178be1(0x471)]()*0x64);_0x2761d9<0x5*_0x3b0587[_0x178be1(0x5be)]&&(_0x495082[_0x91eff][_0x178be1(0x5fb)]=!![],_0x4ab5c6++);}var _0x56d8d6=_0x559dd6['name']+_0x178be1(0x380)+_0x4ab5c6+_0x178be1(0x312);world[_0x178be1(0x4d5)]['MessageSystem'][_0x178be1(0x225)]({'type':_0x178be1(0x398),'txt':_0x56d8d6}),_0x559dd6[_0x178be1(0x5c2)]=0x0;}function TanHide(_0x592307){var _0x3b9ef4=_0x492d20;if(!_0x592307||!_0x592307[_0x3b9ef4(0x4a3)]||_0x592307['cost']===undefined)return;var _0x39d212=world[_0x3b9ef4(0x4d5)][_0x3b9ef4(0x2de)]({'resources':{'hide':0x1}});if(!_0x39d212)return world[_0x3b9ef4(0x4d5)][_0x3b9ef4(0x1ed)][_0x3b9ef4(0x225)]({'type':_0x3b9ef4(0x398),'txt':_0x3b9ef4(0x31c)});var _0x53a1f4=_0x592307[_0x3b9ef4(0x4a3)][_0x3b9ef4(0x362)]+_0x3b9ef4(0x46b)+_0x592307['cost']+_0x3b9ef4(0x579);world[_0x3b9ef4(0x4d5)]['MessageSystem']['addMessage']({'type':_0x3b9ef4(0x398),'txt':_0x53a1f4}),world[_0x3b9ef4(0x4ec)][_0x3b9ef4(0x258)](_0x3b9ef4(0x28c)),_0x592307[_0x3b9ef4(0x4a3)][_0x3b9ef4(0x5c2)]-=_0x592307[_0x3b9ef4(0x1be)],world[_0x3b9ef4(0x4d5)][_0x3b9ef4(0x3b1)]({'resources':{'hide':0x1}}),world[_0x3b9ef4(0x4d5)]['addResource']({'resources':{'leather':0x1}});}function ButcherAnimals(_0x2ce7fa){var _0xf147ae=_0x492d20;if(!_0x2ce7fa||!_0x2ce7fa[_0xf147ae(0x4a3)]||_0x2ce7fa[_0xf147ae(0x1be)]===undefined)return;var _0x4cf3ae=world[_0xf147ae(0x4d5)][_0xf147ae(0x2de)]({'resources':{'deadAnimal':0x2}});if(!_0x4cf3ae)return world[_0xf147ae(0x4d5)][_0xf147ae(0x1ed)][_0xf147ae(0x225)]({'type':_0xf147ae(0x398),'txt':_0xf147ae(0x3b5)});var _0x371102=_0x2ce7fa[_0xf147ae(0x4a3)]['name']+_0xf147ae(0x397)+_0x2ce7fa[_0xf147ae(0x1be)]+_0xf147ae(0x579);world[_0xf147ae(0x4d5)]['MessageSystem']['addMessage']({'type':'job','txt':_0x371102}),world[_0xf147ae(0x4ec)][_0xf147ae(0x258)](_0xf147ae(0x28c)),_0x2ce7fa[_0xf147ae(0x4a3)]['villageActionPoint']-=_0x2ce7fa[_0xf147ae(0x1be)],world[_0xf147ae(0x4d5)][_0xf147ae(0x3b1)]({'resources':{'deadAnimal':0x2}});var _0x4bb626=0x5+Math[_0xf147ae(0x295)](Math[_0xf147ae(0x471)]()*0xa),_0x557189=0x1+Math[_0xf147ae(0x295)](Math[_0xf147ae(0x471)]()*0x4);_0x2ce7fa[_0xf147ae(0x4a3)][_0xf147ae(0x498)]&&_0x2ce7fa[_0xf147ae(0x4a3)][_0xf147ae(0x498)][_0xf147ae(0x3fb)][_0xf147ae(0x521)](_0x4fc059=>_0x4fc059==BONUS_BUTCHER)&&(_0x4bb626*=0x3,_0x557189=_0x557189*0x2+0x4),world[_0xf147ae(0x4d5)][_0xf147ae(0x574)]({'resources':{'food':_0x4bb626,'hide':_0x557189}});}function recoltStoneCutingResouce(_0x1b34c8){var _0x17f847=_0x492d20,_0x21aec0=world[_0x17f847(0x4d5)][_0x17f847(0x2de)]({'resources':{'stone':0xa}});if(!_0x21aec0)return world['village']['MessageSystem'][_0x17f847(0x225)]({'type':_0x17f847(0x398),'txt':_0x17f847(0x598)});var _0x250583=_0x1b34c8['player'][_0x17f847(0x362)]+_0x17f847(0x502)+_0x1b34c8[_0x17f847(0x1be)]+'\x20AP';world[_0x17f847(0x4d5)][_0x17f847(0x1ed)]['addMessage']({'type':_0x17f847(0x398),'txt':_0x250583}),_0x1b34c8['player'][_0x17f847(0x5c2)]-=_0x1b34c8['cost'],world['Music']['playSound'](_0x17f847(0x2f5)),world['village'][_0x17f847(0x3b1)]({'resources':{'stone':0xa}}),world[_0x17f847(0x4d5)]['addResource']({'resources':{'brick':0x1}});}function SmeltCopper(_0x1c36f2){var _0x542362=_0x492d20,_0x6386c4=world[_0x542362(0x4d5)][_0x542362(0x2de)]({'resources':{'coal':0x5,'rawCopper':0x2}});if(!_0x6386c4)return world['village'][_0x542362(0x1ed)][_0x542362(0x225)]({'type':_0x542362(0x398),'txt':_0x542362(0x262)});var _0x462444=_0x1c36f2['player'][_0x542362(0x362)]+_0x542362(0x233)+_0x1c36f2[_0x542362(0x1be)]+_0x542362(0x579);world[_0x542362(0x4d5)][_0x542362(0x1ed)][_0x542362(0x225)]({'type':'job','txt':_0x462444}),_0x1c36f2['player'][_0x542362(0x5c2)]-=_0x1c36f2[_0x542362(0x1be)],world[_0x542362(0x4ec)][_0x542362(0x258)](_0x542362(0x238)),world[_0x542362(0x4d5)]['removeResource']({'resources':{'coal':0x5,'rawCopper':0x2}}),world[_0x542362(0x4d5)][_0x542362(0x574)]({'resources':{'metalCopper':0x1}});}VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT=_0x492d20(0x1aa),VILLAGE_UI_FONT_BUTTON=_0x492d20(0x1a9),VILLAGE_UI_FONT_BUTTON_2=_0x492d20(0x3e7),VILLAGE_UI_FONT_TITLE=_0x492d20(0x333),VILLAGE_UI_FONT_PLAYERNAME=_0x492d20(0x3be),VILLAGE_UI_FONT_BUILDINGNAME='\x27Ravie\x27',VILLAGE_UI_FONT_PHASE=_0x492d20(0x4db),VILLAGE_UI_TABS_FONT=_0x492d20(0x333),VILLAGE_UI_TABS_TXTCOLOR=_0x492d20(0x5ee),VILLAGE_UI_TABS_FILLCOLOR=_0x492d20(0x44b),VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE=_0x492d20(0x20d),VILLAGE_UI_BAT_ELM_FILLCOLOR=_0x492d20(0x1f5),VILLAGE_UI_PLAYER_ELM_FILLCOLOR=_0x492d20(0x55a),VILLAGE_UI_ITEM_ELM_FILLCOLOR='#f8f8ff88',VILLAGE_UI_BUTTON_FILLCOLOR=_0x492d20(0x22f),VillageUI=function(_0x494c41){var _0x55bb1a=_0x492d20;world[_0x55bb1a(0x4ec)]['playSound'](_0x55bb1a(0x46d),!![]),this['canvas']=_0x494c41,this[_0x55bb1a(0x21b)]=!![],this['marge']=0x5,this[_0x55bb1a(0x4c3)]=VILLAGE_UI_FILLSTYLE,this['stroke']=_0x55bb1a(0x196),this[_0x55bb1a(0x24b)]=0x1,this['mouseWasOnMouseLightLastDraw']=!![],this['tabs']=['Next\x20Turn',_0x55bb1a(0x3c7),_0x55bb1a(0x4b7),_0x55bb1a(0x2ea),'Items',_0x55bb1a(0x5e5)],this[_0x55bb1a(0x3d8)]=0x0,this[_0x55bb1a(0x535)]={'value':0x0},this[_0x55bb1a(0x303)]=undefined,this[_0x55bb1a(0x2dc)]=undefined,this[_0x55bb1a(0x534)]={'value':0x0},this[_0x55bb1a(0x3c0)]=['name',_0x55bb1a(0x3c7),_0x55bb1a(0x218),'weapon',_0x55bb1a(0x4b8)],this[_0x55bb1a(0x1d1)]={'value':0x0},this['statsplayerSortModeList']=[_0x55bb1a(0x57c),_0x55bb1a(0x2d9),_0x55bb1a(0x369),_0x55bb1a(0x438),'lifeMax',_0x55bb1a(0x1e5),'villageActionPointMax'],this[_0x55bb1a(0x234)]={'value':0x0},this[_0x55bb1a(0x56e)]=undefined,this[_0x55bb1a(0x5c8)]=undefined,this[_0x55bb1a(0x4d7)]={'value':0x0},this['batSortModeList']=['name','player','size'],this['batSortModeId']={'value':0x0},this[_0x55bb1a(0x373)]=undefined,this['itemSelected']=undefined,this['itemsPageOffset']={'value':0x0},this[_0x55bb1a(0x3c2)]=undefined,this[_0x55bb1a(0x5fa)]={'value':0x0},this['UI']=undefined,this['showUI']=!![],this['UIplayers']=undefined,this[_0x55bb1a(0x4f4)]=!![],this[_0x55bb1a(0x2ef)]=undefined,this[_0x55bb1a(0x44d)]=!![],this[_0x55bb1a(0x1a2)]=0x0,this[_0x55bb1a(0x1b7)]=[];const _0x14191e=document[_0x55bb1a(0x5df)]('canvas'),_0x3eee30=_0x14191e[_0x55bb1a(0x3f2)]('2d'),_0x269c14=new Image();_0x269c14[_0x55bb1a(0x47c)]='./img/player_test3/village/villageUI_patern.png',_0x269c14[_0x55bb1a(0x531)]=()=>{var _0x178cce=_0x55bb1a;const _0x7d6f78=_0x3eee30[_0x178cce(0x236)](_0x269c14,_0x178cce(0x443));this[_0x178cce(0x4c3)]=_0x7d6f78,this[_0x178cce(0x21b)]=!![];},this['init_check_mouse_move']=()=>{var _0xa09042=_0x55bb1a;window[_0xa09042(0x1b2)]('mousemove',_0xbf11bb=>{var _0x57822b=_0xa09042,_0x365c6b=![];this['UIplayers']&&this[_0x57822b(0x58e)][_0x57822b(0x405)](_0xbf11bb[_0x57822b(0x4a4)],_0xbf11bb[_0x57822b(0x589)])&&!this[_0x57822b(0x45b)]&&(this['needRedraw']=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x365c6b=!![]);this['UI']&&this['UI']['mouse_move_check'](_0xbf11bb[_0x57822b(0x4a4)],_0xbf11bb[_0x57822b(0x589)])&&!this[_0x57822b(0x45b)]&&(this[_0x57822b(0x21b)]=!![],this[_0x57822b(0x45b)]=!![],_0x365c6b=!![]);this['UIsystem']&&this[_0x57822b(0x2ef)][_0x57822b(0x405)](_0xbf11bb[_0x57822b(0x4a4)],_0xbf11bb[_0x57822b(0x589)])&&!this[_0x57822b(0x45b)]&&(this[_0x57822b(0x21b)]=!![],this[_0x57822b(0x45b)]=!![],_0x365c6b=!![]);!_0x365c6b&&this[_0x57822b(0x45b)]&&(this[_0x57822b(0x45b)]=![],this[_0x57822b(0x21b)]=!![]);if(this==world[_0x57822b(0x517)])this[_0x57822b(0x250)]();},{'once':!![]});},this[_0x55bb1a(0x250)](),this[_0x55bb1a(0x195)]=_0x1a4be0=>{var _0x12ec0c=_0x55bb1a;if(this['UI']&&this['UI']['key_buton_check'](_0x1a4be0))return!![];if(this[_0x12ec0c(0x58e)]&&this[_0x12ec0c(0x58e)][_0x12ec0c(0x2a4)](_0x1a4be0))return!![];if(this[_0x12ec0c(0x2ef)]&&this[_0x12ec0c(0x2ef)]['key_buton_check'](_0x1a4be0))return!![];if(_0x1a4be0==_0x12ec0c(0x40f)&&this[_0x12ec0c(0x41b)]())return!![];return![];},this[_0x55bb1a(0x41b)]=()=>{var _0x44f756=_0x55bb1a;if(this[_0x44f756(0x2dc)])return this[_0x44f756(0x2dc)]=undefined,!![];if(this[_0x44f756(0x1b0)][this[_0x44f756(0x3d8)]]==_0x44f756(0x3c7)){if(this['batBuildMenu'])return this[_0x44f756(0x5c8)]=undefined,!![];if(this[_0x44f756(0x56e)])return this[_0x44f756(0x56e)]=undefined,!![];}return![];},this[_0x55bb1a(0x350)]=_0x28460c=>{var _0x3eee8e=_0x55bb1a;if(!_0x28460c||_0x28460c['x']===undefined)return![];var _0x30c64e=_0x28460c['x'],_0xfd90ca=_0x28460c['y'];if(_0x28460c[_0x3eee8e(0x3cb)]==0x2){var _0x346a63=this[_0x3eee8e(0x41b)]();if(_0x346a63)return!![];}else{if(this['UI'][_0x3eee8e(0x25f)](_0x30c64e,_0xfd90ca))return!![];else{if(this[_0x3eee8e(0x58e)][_0x3eee8e(0x25f)](_0x30c64e,_0xfd90ca))return!![];else{if(this[_0x3eee8e(0x2ef)][_0x3eee8e(0x25f)](_0x30c64e,_0xfd90ca))return!![];}}}return![];},this[_0x55bb1a(0x571)]=_0x18dc4c=>{var _0x3aff49=_0x55bb1a;if(this['UI']&&this['UI'][_0x3aff49(0x571)](_0x18dc4c))this[_0x3aff49(0x21b)]=!![];if(this['UIplayers']&&this[_0x3aff49(0x58e)][_0x3aff49(0x571)](_0x18dc4c))this[_0x3aff49(0x21b)]=!![];if(this[_0x3aff49(0x2ef)]&&this['UIsystem']['CheckInfoWindow'](_0x18dc4c))this[_0x3aff49(0x21b)]=!![];},this[_0x55bb1a(0x410)]=_0x282bea=>{var _0x555260=_0x55bb1a;if(!_0x282bea)return;if(_0x282bea[_0x555260(0x5f0)])for(var _0xaeffb5 in this['tabs']){if(this[_0x555260(0x1b0)][_0xaeffb5]==_0x282bea['tab'])this[_0x555260(0x3d8)]=_0xaeffb5;}if(_0x282bea[_0x555260(0x4a3)])this['playerSelected']=_0x282bea[_0x555260(0x4a3)];if(_0x282bea[_0x555260(0x301)])this[_0x555260(0x56e)]=_0x282bea['bat'];},this[_0x55bb1a(0x5c9)]=_0x1523b5=>{var _0x2dc691=_0x55bb1a;if(!_0x1523b5[_0x2dc691(0x2d8)])return;var _0x24b821=[{'type':'button','callback':()=>{var _0x4e50af=_0x2dc691;_0x1523b5[_0x4e50af(0x2d8)][_0x4e50af(0x349)]=_0x1523b5[_0x4e50af(0x2d8)][_0x4e50af(0x349)]>0x0?_0x1523b5['selector'][_0x4e50af(0x349)]-0x1:0x0;},'txt':'','txt_color':_0x2dc691(0x5ee),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x2dc691(0x237),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x322030=_0x2dc691;return _0x322030(0x4b1);}}]},{'type':_0x2dc691(0x3cb),'callback':()=>{var _0x2ddebb=_0x2dc691;_0x1523b5['selector'][_0x2ddebb(0x349)]++;},'txt':'','txt_color':_0x2dc691(0x5ee),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x2dc691(0x237),'strokeColor':_0x2dc691(0x553),'windowInfo':[{'callback':()=>{var _0xd7514c=_0x2dc691;return _0xd7514c(0x560);}}]},{'type':_0x2dc691(0x5a3),'txt':'['+_0x1523b5['selector']['value']+':'+(_0x1523b5[_0x2dc691(0x2d8)][_0x2dc691(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x1523b5[_0x2dc691(0x211)])_0x24b821[_0x2dc691(0x2a9)]({'type':_0x2dc691(0x3cb),'callback':_0x5e34a0=>{var _0x2c092f=_0x2dc691;_0x5e34a0['id'][_0x2c092f(0x349)]=(_0x5e34a0['id']['value']+0x1)%_0x5e34a0[_0x2c092f(0x506)][_0x2c092f(0x1e9)],console[_0x2c092f(0x4a1)](_0x2c092f(0x512)+[_0x5e34a0['id'][_0x2c092f(0x349)],_0x5e34a0[_0x2c092f(0x506)]['length']]);},'callback_data':_0x1523b5[_0x2dc691(0x211)],'txt':_0x1523b5[_0x2dc691(0x211)][_0x2dc691(0x506)][_0x1523b5[_0x2dc691(0x211)]['id']['value']],'txt_color':_0x2dc691(0x5ee),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':_0x2dc691(0x553),'windowInfo':[{'callback':()=>{var _0x5dfbe3=_0x2dc691;return _0x5dfbe3(0x5d5)+this[_0x5dfbe3(0x371)][this[_0x5dfbe3(0x588)][_0x5dfbe3(0x349)]];}}]});if(_0x1523b5[_0x2dc691(0x288)])_0x24b821['push']({'type':'button','callback':_0x41e9c4=>{var _0x487e95=_0x2dc691;_0x41e9c4['id'][_0x487e95(0x349)]=(_0x41e9c4['id'][_0x487e95(0x349)]+0x1)%_0x41e9c4[_0x487e95(0x506)][_0x487e95(0x1e9)],console[_0x487e95(0x4a1)]('changed\x20'+[_0x41e9c4['id'][_0x487e95(0x349)],_0x41e9c4['list']['length']]);},'callback_data':_0x1523b5[_0x2dc691(0x288)],'txt':_0x1523b5[_0x2dc691(0x288)][_0x2dc691(0x506)][_0x1523b5[_0x2dc691(0x288)]['id'][_0x2dc691(0x349)]],'txt_color':_0x2dc691(0x5ee),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x44dc12=_0x2dc691;return _0x44dc12(0x5d5)+this[_0x44dc12(0x371)][this[_0x44dc12(0x588)][_0x44dc12(0x349)]];}}]});return _0x24b821;},this['draw_building_tab']=()=>{var _0x4bde9b=_0x55bb1a,_0x17b725=world[_0x4bde9b(0x4d5)];this['UI']['addHorizontalElem'](this[_0x4bde9b(0x5c9)]({'sortButo':{'list':this[_0x4bde9b(0x371)],'id':this['batSortModeId']},'selector':this[_0x4bde9b(0x4d7)]}));switch(this['batSortModeList'][this['batSortModeId'][_0x4bde9b(0x349)]]){case _0x4bde9b(0x362):_0x17b725['bats'][_0x4bde9b(0x340)]((_0xce42cd,_0x298d34)=>{var _0xede2f1=_0x4bde9b;if(_0xce42cd['name']>_0x298d34['name'])return 0x1;if(_0xce42cd[_0xede2f1(0x362)]<_0x298d34[_0xede2f1(0x362)])return-0x1;return 0x0;});break;case _0x4bde9b(0x4a3):_0x17b725[_0x4bde9b(0x423)]['sort']((_0x141d96,_0x26fb2d)=>{var _0x53db7f=_0x4bde9b;if(_0x141d96[_0x53db7f(0x335)][_0x53db7f(0x1e9)]<=_0x26fb2d[_0x53db7f(0x335)][_0x53db7f(0x1e9)])return 0x1;return-0x1;});break;case _0x4bde9b(0x19d):_0x17b725[_0x4bde9b(0x423)][_0x4bde9b(0x340)]((_0x1162d4,_0x200c2b)=>{var _0xa4b77b=_0x4bde9b;if(_0x1162d4[_0xa4b77b(0x570)]<=_0x200c2b[_0xa4b77b(0x570)])return 0x1;return-0x1;});break;}if(_0x17b725[_0x4bde9b(0x377)]==PHASE_PLACEPLAYER){this['UI'][_0x4bde9b(0x36e)](this[_0x4bde9b(0x573)]());var _0x18db6b=0x0;if(this[_0x4bde9b(0x5c8)])for(var _0x1af385 in _0x17b725[_0x4bde9b(0x1f1)]){var _0x1ff79b=_0x17b725[_0x4bde9b(0x1f1)][_0x1af385],_0x4c0f9e=[];_0x4c0f9e[_0x4bde9b(0x2a9)]({'type':_0x4bde9b(0x3cb),'callback':_0xb79daf=>{var _0x429173=_0x4bde9b;if(this[_0x429173(0x373)]==_0xb79daf)this[_0x429173(0x373)]=undefined;else this[_0x429173(0x373)]=_0xb79daf;},'callback_data':_0x1ff79b,'txt':_0x1ff79b[_0x4bde9b(0x362)],'mouseLight':'88','txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#00000000','strokeColor':this[_0x4bde9b(0x373)]==_0x1ff79b?_0x4bde9b(0x553):_0x4bde9b(0x273),'windowInfo':[{'callback':()=>{var _0x37fbee=_0x4bde9b;return _0x37fbee(0x46f);}}]}),_0x4c0f9e[_0x4bde9b(0x2a9)]({'type':'img','img':world[_0x4bde9b(0x3ce)][_0x1ff79b[_0x4bde9b(0x345)]][_0x4bde9b(0x345)],'len_x':0x1e,'len_y':0x1e});if(_0x18db6b>=this['batPageOffset'][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x36e)](_0x4c0f9e);_0x18db6b++;if(this[_0x4bde9b(0x373)]==_0x1ff79b){var _0x4c0f9e=[];_0x4c0f9e[_0x4bde9b(0x2a9)]({'type':'button','mouseLight':'88','callback':world[_0x4bde9b(0x4d5)][_0x4bde9b(0x5bf)],'callback_data':{'bat':_0x1ff79b},'txt':_0x4bde9b(0x2c6),'txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x4bde9b(0x273),'windowInfo':[{'callback':()=>{var _0xc216f=_0x4bde9b;return _0xc216f(0x46f);}}]});if(_0x18db6b>=this[_0x4bde9b(0x4d7)]['value']&&_0x18db6b<this['batPageOffset'][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x36e)](_0x4c0f9e);_0x18db6b++;if(_0x1ff79b['input']&&_0x1ff79b[_0x4bde9b(0x2a3)][_0x4bde9b(0x52b)]){if(_0x18db6b>=this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x36e)]([{'type':'txt','txt':_0x4bde9b(0x33e)+_0x1ff79b[_0x4bde9b(0x2a3)]['costAP'],'txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':_0x4bde9b(0x345),'img':world[_0x4bde9b(0x3ce)][_0x4bde9b(0x453)][_0x4bde9b(0x345)],'len_x':0x14,'len_y':0x14}]);_0x18db6b++;}for(var _0x1dfaed in _0x1ff79b['resources']){var _0x34fc5d=[];_0x34fc5d['push']({'type':'txt','txt':'\x20-'+_0x1dfaed+'\x20'+_0x1ff79b[_0x4bde9b(0x1f7)][_0x1dfaed],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x34fc5d['push']({'type':_0x4bde9b(0x345),'img':world['Imgs'][_0x1dfaed+'_icon'][_0x4bde9b(0x345)],'len_x':0x14,'len_y':0x14});}if(_0x18db6b>=this['batPageOffset'][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](this[_0x4bde9b(0x4ac)](_0x1ff79b[_0x4bde9b(0x1f7)],0x14));_0x18db6b++;}}else{if(!this['batBuildMenu'])for(var _0x1af385 in _0x17b725['bats']){var _0x1ff79b=_0x17b725[_0x4bde9b(0x423)][_0x1af385],_0x3a0199=this['GetDrawBuildingElement'](_0x1ff79b,0x28);if(_0x1ff79b[_0x4bde9b(0x2ca)])_0x3a0199[_0x4bde9b(0x2a9)]({'type':_0x4bde9b(0x345),'img':world['Imgs']['under_construction_icon'][_0x4bde9b(0x345)],'len_x':0x28,'len_y':0x28});if(_0x18db6b>=this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x3a0199);_0x18db6b++;if(_0x1ff79b['build_progression']){if(_0x18db6b>=this['batPageOffset'][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x47f)](''+_0x1ff79b[_0x4bde9b(0x2ca)]+'\x20PA\x20left\x20for\x20finish\x20construction',0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0x18db6b++;}var _0x4c0f9e=[],_0x340d8e=_0x1ff79b[_0x4bde9b(0x4dd)]();if(this[_0x4bde9b(0x56e)]==_0x1ff79b&&_0x1ff79b[_0x4bde9b(0x5be)]){if(_0x18db6b>=this['batPageOffset'][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x47f)](_0x4bde9b(0x1e6)+_0x1ff79b[_0x4bde9b(0x5be)],0xf,0x270f,_0x4bde9b(0x553),VILLAGE_UI_FONT);_0x18db6b++;}if(this[_0x4bde9b(0x56e)]==_0x1ff79b&&_0x340d8e){var _0x2df907=this['getResourcesTextAndImg'](_0x340d8e[_0x4bde9b(0x1f7)],0x14);_0x2df907[_0x4bde9b(0x59c)]({'type':_0x4bde9b(0x3cb),'mouseLight':'88','callback':_0x1ff79b[_0x4bde9b(0x2e2)],'callback_data':{},'txt':'upgrade','txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x4bca50=>{return _0x4bca50;},'input':_0x1ff79b[_0x4bde9b(0x1cb)]}]});if(_0x18db6b>=this['batPageOffset'][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x2df907);_0x18db6b++;}if(_0x1ff79b==this[_0x4bde9b(0x56e)]&&_0x1ff79b['player_size']){if(_0x1ff79b[_0x4bde9b(0x570)]&&_0x18db6b>=this['batPageOffset'][_0x4bde9b(0x349)]&&_0x18db6b<this['batPageOffset'][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x47f)](''+_0x1ff79b[_0x4bde9b(0x335)]['length']+_0x4bde9b(0x43c)+_0x1ff79b[_0x4bde9b(0x570)]+'\x20place',0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0x18db6b++;}if(this['playerSelected']&&_0x1ff79b==this['batSelected']&&!_0x1ff79b[_0x4bde9b(0x335)][_0x4bde9b(0x521)](_0x39d628=>_0x39d628==this[_0x4bde9b(0x303)])&&_0x1ff79b[_0x4bde9b(0x335)][_0x4bde9b(0x1e9)]<_0x1ff79b[_0x4bde9b(0x570)])_0x4c0f9e['push']({'type':'button','mouseLight':'88','callback':world[_0x4bde9b(0x4d5)]['affectPlayerToBat'],'callback_data':{'player':this[_0x4bde9b(0x303)],'bat':_0x1ff79b},'txt':'add\x20player','txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x4c0f9e[_0x4bde9b(0x1e9)]){if(_0x18db6b>=this[_0x4bde9b(0x4d7)]['value']&&_0x18db6b<this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x4c0f9e);_0x18db6b++;}if(this[_0x4bde9b(0x56e)]==_0x1ff79b)for(var _0x1dfaed in _0x1ff79b['players_inside']){var _0x15221c=_0x1ff79b[_0x4bde9b(0x335)][_0x1dfaed],_0x544f61=this[_0x4bde9b(0x1a4)](_0x15221c);_0x544f61['push']({'type':'button','mouseLight':'88','callback':world[_0x4bde9b(0x4d5)]['removePlayerFromBat'],'callback_data':{'player':_0x15221c},'txt':_0x4bde9b(0x320),'txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});if(_0x18db6b>=this[_0x4bde9b(0x4d7)]['value']&&_0x18db6b<this[_0x4bde9b(0x4d7)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x544f61);_0x18db6b++;}}}}else{if(_0x17b725['phase']==PHASE_ACTIONPLAYER){var _0x18db6b=0x0;for(var _0x1af385 in _0x17b725[_0x4bde9b(0x423)]){var _0x1ff79b=_0x17b725[_0x4bde9b(0x423)][_0x1af385],_0x3a0199=this['GetDrawBuildingElement'](_0x1ff79b,0x28);if(_0x1ff79b[_0x4bde9b(0x2ca)])_0x3a0199[_0x4bde9b(0x2a9)]({'type':_0x4bde9b(0x345),'img':world['Imgs'][_0x4bde9b(0x5d0)][_0x4bde9b(0x345)],'len_x':0x28,'len_y':0x28});if(_0x18db6b>=this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x36e)](_0x3a0199);_0x18db6b++;if(_0x1ff79b[_0x4bde9b(0x2ca)]){if(_0x18db6b>=this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x47f)](''+_0x1ff79b[_0x4bde9b(0x2ca)]+'\x20PA\x20left\x20for\x20finish\x20construction',0x14,0x270f,_0x4bde9b(0x553),VILLAGE_UI_FONT);_0x18db6b++;}var _0x4c0f9e=[];if(_0x4c0f9e['length']){if(_0x18db6b>=this['batPageOffset'][_0x4bde9b(0x349)]&&_0x18db6b<this['batPageOffset'][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x36e)](_0x4c0f9e);_0x18db6b++;}for(var _0x1dfaed in _0x1ff79b['players_inside']){var _0x15221c=_0x1ff79b[_0x4bde9b(0x335)][_0x1dfaed],_0xea50a4=_0x15221c['get_valid_action_in_affected_building']();if(this['batSelected']==_0x1ff79b||_0xea50a4[_0x4bde9b(0x1e9)]&&_0x1ff79b['name']!='Defend\x20Village'){var _0x544f61=this['getPlayerIcone'](_0x15221c);if(_0x1ff79b[_0x4bde9b(0x4e4)]['length'])_0x544f61[_0x4bde9b(0x2a9)]({'type':_0x4bde9b(0x345),'img':world[_0x4bde9b(0x3ce)][_0x4bde9b(0x453)][_0x4bde9b(0x345)],'len_x':0x14,'len_y':0x14},{'type':_0x4bde9b(0x5a3),'txt':''+_0x15221c['villageActionPoint']+_0x4bde9b(0x3ee),'txt_color':_0x15221c[_0x4bde9b(0x5c2)]?_0x4bde9b(0x553):'#000000aa','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0x18db6b>=this[_0x4bde9b(0x4d7)]['value']&&_0x18db6b<this['batPageOffset'][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x544f61);_0x18db6b++;if(_0x1ff79b['build_progression']){var _0x2c0e59=[];_0x15221c['villageActionPoint']>0x0&&(_0x2c0e59['push']({'type':_0x4bde9b(0x3cb),'mouseLight':'88','callback':_0x1ff79b[_0x4bde9b(0x1da)],'callback_data':{'player':_0x15221c},'txt':_0x4bde9b(0x1da),'txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x21e7d1=>{return _0x21e7d1;},'input':_0x4bde9b(0x26b)}]}),_0x2c0e59['push']({'type':_0x4bde9b(0x5a3),'txt':'under\x20construction\x20:\x20'+_0x1ff79b[_0x4bde9b(0x2ca)]+_0x4bde9b(0x229),'txt_color':_0x15221c[_0x4bde9b(0x5c2)]?_0x4bde9b(0x553):_0x4bde9b(0x51b),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0x18db6b>=this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]&&_0x18db6b<this['batPageOffset'][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4bde9b(0x36e)](_0x2c0e59);_0x18db6b++;}else for(var _0x1daf14 in _0x1ff79b[_0x4bde9b(0x4e4)]){var _0x1f60b3=_0x1ff79b[_0x4bde9b(0x4e4)][_0x1daf14];if(_0x1f60b3[_0x4bde9b(0x1be)]&&_0x1f60b3['cost']>_0x15221c[_0x4bde9b(0x5c2)]||_0x15221c[_0x4bde9b(0x5c2)]==0x0)continue;var _0x6b60b9={'type':_0x4bde9b(0x3cb),'mouseLight':'88','callback':window[_0x1f60b3[_0x4bde9b(0x394)]],'callback_data':{'player':_0x15221c,'cost':_0x1f60b3[_0x4bde9b(0x1be)],'bat':_0x1ff79b},'txt':_0x1f60b3[_0x4bde9b(0x501)],'txt_color':_0x4bde9b(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x1c4fc2=>{return _0x1c4fc2;},'input':_0x1f60b3['description']}]};if(_0x18db6b>=this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]&&_0x18db6b<this[_0x4bde9b(0x4d7)][_0x4bde9b(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([_0x6b60b9]);_0x18db6b++;}}}}}}},this[_0x55bb1a(0x573)]=()=>{var _0x1f9a23=_0x55bb1a,_0x53eaa8=[];return this['batBuildMenu']?_0x53eaa8['push']({'type':_0x1f9a23(0x3cb),'mouseLight':'88','callback':()=>{var _0xc039ab=_0x1f9a23;this[_0xc039ab(0x5c8)]=![],this['batPageOffset'][_0xc039ab(0x349)]=0x0;},'txt':_0x1f9a23(0x3bd),'mouseLight':'88','txt_color':'#a01454','max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x1f9a23(0x481),'strokeColor':'#000000','windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}):_0x53eaa8[_0x1f9a23(0x2a9)]({'type':'button','mouseLight':'88','callback':()=>{var _0x476ee5=_0x1f9a23;this[_0x476ee5(0x5c8)]=!![],this['batPageOffset'][_0x476ee5(0x349)]=0x0;},'txt':_0x1f9a23(0x593),'mouseLight':'88','txt_color':_0x1f9a23(0x481),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x1f9a23(0x460),'strokeColor':_0x1f9a23(0x553),'windowInfo':[{'callback':()=>{var _0x539412=_0x1f9a23;return _0x539412(0x2da);}}]}),_0x53eaa8;},this['getResourcesTextAndImg']=(_0x2a01a2,_0x553450)=>{var _0x402e9e=_0x55bb1a,_0xbc6d36=[];for(var _0x4103a7 in _0x2a01a2){_0xbc6d36[_0x402e9e(0x2a9)]({'type':_0x402e9e(0x345),'img':world['Imgs'][_0x4103a7+_0x402e9e(0x24a)]['img'],'len_x':_0x553450,'len_y':_0x553450}),_0xbc6d36[_0x402e9e(0x2a9)]({'type':_0x402e9e(0x5a3),'txt':'\x20x'+_0x2a01a2[_0x4103a7],'txt_color':_0x402e9e(0x553),'max_letters':0x270f,'letter_size':_0x553450,'txt_font':VILLAGE_UI_FONT});}return _0xbc6d36;},this[_0x55bb1a(0x457)]=(_0x37b3b2,_0x2b0905,_0x14562c)=>{var _0x4fecdd=_0x55bb1a,_0x2b0e08=()=>this[_0x4fecdd(0x3b8)]=this[_0x4fecdd(0x3b8)]==_0x37b3b2?undefined:_0x37b3b2;if(_0x14562c)_0x2b0e08=()=>{};var _0xf2ff13=[{'type':_0x4fecdd(0x345),'img':world[_0x4fecdd(0x3ce)][_0x37b3b2['name']+_0x4fecdd(0x24a)][_0x4fecdd(0x345)],'len_x':_0x2b0905,'len_y':_0x2b0905},{'type':_0x4fecdd(0x3cb),'mouseLight':'ff','callback':_0x2b0e08,'txt':_0x37b3b2[_0x4fecdd(0x362)],'txt_color':'#000000','max_letters':0x270f,'letter_size':_0x2b0905,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this['itemSelected']==_0x37b3b2?_0x4fecdd(0x246):'#00000000','windowInfo':[{'callback':_0x37b3b2['itemType']==_0x4fecdd(0x498)?_0x37b3b2['getWeaponAttackDescription']:_0x37b3b2[_0x4fecdd(0x1dd)]}]}];return _0xf2ff13;},this[_0x55bb1a(0x1b4)]=()=>{var _0x2e38bb=_0x55bb1a,_0x36bfa3=world['village'];this['UI'][_0x2e38bb(0x36e)](this['GetPageSelector']({'selector':this[_0x2e38bb(0x5fa)]}));var _0x10d3f8=0x0,_0x139c28=_0x36bfa3[_0x2e38bb(0x49b)]();if(_0x36bfa3[_0x2e38bb(0x377)]!=PHASE_ACTIONPLAYER)this['UI'][_0x2e38bb(0x47f)](_0x2e38bb(0x561),0x14,0x270f,'#ff0000',VILLAGE_UI_FONT);if(!_0x139c28||_0x139c28[_0x2e38bb(0x1e9)]<0x1)this['UI'][_0x2e38bb(0x47f)]('no\x20craft\x20available',0x14,0x270f,_0x2e38bb(0x553),VILLAGE_UI_FONT);for(var _0x2821bc in _0x139c28){var _0x49e62e=[],_0x2a7acc=_0x139c28[_0x2821bc];_0x49e62e[_0x2e38bb(0x2a9)]({'type':_0x2e38bb(0x3cb),'mouseLight':'ff','callback':_0x31b515=>this['craftSelected']=this[_0x2e38bb(0x3c2)]==_0x31b515?undefined:_0x31b515,'callback_data':_0x2a7acc,'txt':_0x2a7acc[_0x2e38bb(0x362)]+'\x20('+_0x2a7acc['type']+')','txt_color':this[_0x2e38bb(0x3c2)]==_0x2a7acc?_0x2e38bb(0x52d):'#000000','max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x2e38bb(0x1eb),'strokeColor':this[_0x2e38bb(0x3c2)]==_0x2a7acc?'#000000ff':_0x2e38bb(0x273),'windowInfo':[{'callback':()=>{var _0x37d1d9=_0x2e38bb;return _0x2a7acc[_0x37d1d9(0x48e)];},'input':undefined}]});if(_0x10d3f8>=this[_0x2e38bb(0x5fa)][_0x2e38bb(0x349)]&&_0x10d3f8<this['craftPageOffset'][_0x2e38bb(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2e38bb(0x36e)](_0x49e62e);_0x10d3f8++;if(this[_0x2e38bb(0x3c2)]==_0x2a7acc){var _0x2cdc87=_0x36bfa3[_0x2e38bb(0x347)]({'craft':_0x2a7acc});if(_0x10d3f8>=this[_0x2e38bb(0x5fa)][_0x2e38bb(0x349)]&&_0x10d3f8<this[_0x2e38bb(0x5fa)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2e38bb(0x36e)](this[_0x2e38bb(0x4ac)](_0x2a7acc['resources'],0x14));_0x10d3f8++;if(!_0x2cdc87||_0x2cdc87[_0x2e38bb(0x1e9)]<0x1){if(_0x10d3f8>=this[_0x2e38bb(0x5fa)][_0x2e38bb(0x349)]&&_0x10d3f8<this[_0x2e38bb(0x5fa)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2e38bb(0x47f)](_0x2e38bb(0x367),0x14,0x270f,'#ff0000',VILLAGE_UI_FONT);_0x10d3f8++;}for(var _0x301f57 in _0x2cdc87){var _0x1942ad=_0x2cdc87[_0x301f57],_0x49e62e=this[_0x2e38bb(0x1a4)](_0x1942ad,0x19);_0x36bfa3[_0x2e38bb(0x377)]==PHASE_ACTIONPLAYER&&_0x49e62e['push']({'type':_0x2e38bb(0x3cb),'mouseLight':'88','callback':_0x36bfa3[_0x2e38bb(0x433)],'callback_data':{'craft':_0x2a7acc,'player':_0x1942ad},'txt':_0x2e38bb(0x4b7),'txt_color':_0x2e38bb(0x553),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x2e38bb(0x5bc),'strokeColor':this[_0x2e38bb(0x3c2)]==_0x2a7acc?'#000000ff':'#00000000','windowInfo':[{'callback':()=>{var _0x43bba8=_0x2e38bb;return _0x2a7acc[_0x43bba8(0x48e)];},'input':undefined}]});if(_0x10d3f8>=this['craftPageOffset'][_0x2e38bb(0x349)]&&_0x10d3f8<this[_0x2e38bb(0x5fa)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2e38bb(0x36e)](_0x49e62e);_0x10d3f8++;}}}},this[_0x55bb1a(0x514)]=(_0x56d927,_0x55f19c)=>{var _0x49c2ae=_0x55bb1a,_0x2a537b=[{'type':_0x49c2ae(0x345),'img':world[_0x49c2ae(0x3ce)][_0x56d927[_0x49c2ae(0x528)]]['img'],'len_x':_0x55f19c,'len_y':_0x55f19c},{'type':_0x49c2ae(0x3cb),'mouseLight':'ff','callback':_0x541ebb=>{var _0x552f89=_0x49c2ae;this['batSelected']=this[_0x552f89(0x56e)]==_0x541ebb?undefined:_0x541ebb;},'callback_data':_0x56d927,'txt':_0x56d927[_0x49c2ae(0x362)],'txt_color':this[_0x49c2ae(0x56e)]==_0x56d927?'#dddddd':_0x49c2ae(0x553),'max_letters':0x270f,'letter_size':_0x55f19c,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this[_0x49c2ae(0x56e)]==_0x56d927?'#000000ff':_0x49c2ae(0x273),'windowInfo':[{'callback':_0x953c3c=>{var _0x48fe58=_0x49c2ae;if(typeof _0x953c3c['description']==_0x48fe58(0x38c))return _0x953c3c[_0x48fe58(0x48e)](_0x953c3c);if(typeof _0x953c3c[_0x48fe58(0x48e)]==_0x48fe58(0x2ff))return _0x953c3c[_0x48fe58(0x48e)];},'input':_0x56d927}]}];return _0x2a537b;},this[_0x55bb1a(0x3d6)]=(_0x6c31cc,_0x1533b7,_0x4d9def)=>{var _0x94ea70=_0x55bb1a,_0x5ca63a={'type':'button','mouseLight':'88','callback':world[_0x94ea70(0x4d5)][_0x94ea70(0x520)],'callback_data':{'warning':_0x6c31cc?!![]:![]},'txt':_0x4d9def,'txt_color':_0x94ea70(0x553),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x1533b7?_0x94ea70(0x399):'#00D238','strokeColor':_0x94ea70(0x553)};return _0x5ca63a;},this[_0x55bb1a(0x1a4)]=(_0x1f1b8e,_0x312d88)=>{var _0x5c637c=_0x55bb1a;if(!_0x1f1b8e)return undefined;var _0x312d88=_0x312d88?_0x312d88:0x28,_0x3adcd5=[{'type':_0x5c637c(0x3cb),'mouseLight':'ff','txt':_0x1f1b8e[_0x5c637c(0x362)],'callback':_0x390a7e=>{var _0x5cfe0e=_0x5c637c;this[_0x5cfe0e(0x303)]=this['playerSelected']==_0x390a7e?undefined:_0x390a7e;},'callback_data':_0x1f1b8e,'txt_color':_0x1f1b8e[_0x5c637c(0x429)]?_0x5c637c(0x4bb):this[_0x5c637c(0x303)]==_0x1f1b8e?_0x5c637c(0x5ee):_0x5c637c(0x553),'max_letters':0x270f,'letter_size':_0x312d88,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this['playerSelected']==_0x1f1b8e?_0x5c637c(0x34c):_0x5c637c(0x273),'windowInfo':[{'callback':_0x1f1b8e[_0x5c637c(0x316)]}]}];if(!_0x1f1b8e['bodyPartImgReady'])_0x1f1b8e[_0x5c637c(0x2a5)]();return _0x3adcd5['push']({'type':_0x5c637c(0x345),'img':_0x1f1b8e['bodyPartImg'],'len_x':_0x312d88,'len_y':_0x312d88}),_0x1f1b8e['weapon']&&_0x3adcd5['push']({'type':'img','img':world[_0x5c637c(0x247)][_0x1f1b8e[_0x5c637c(0x498)][_0x5c637c(0x362)]+'_icon'][_0x5c637c(0x345)],'len_x':_0x312d88,'len_y':_0x312d88}),_0x3adcd5;},this[_0x55bb1a(0x3b3)]=()=>{var _0x4c9665=_0x55bb1a,_0x45a666=world[_0x4c9665(0x4d5)];this[_0x4c9665(0x58e)]=new MyUI(this['canvas'],0x0,0x0,0xa,this[_0x4c9665(0x24b)],this[_0x4c9665(0x4c3)],this['stroke'],this['marge']),this[_0x4c9665(0x58e)][_0x4c9665(0x3a4)](_0x4c9665(0x42f),0x28,_0x4c9665(0x553),_0x4c9665(0x273),_0x4c9665(0x273),()=>{var _0x5cc0e5=_0x4c9665;this[_0x5cc0e5(0x4f4)]=!this['showUIplayers'];},undefined,VILLAGE_UI_FONT_PHASE);if(this['showUIplayers']){var _0x103a9d=this[_0x4c9665(0x3c0)][this[_0x4c9665(0x1d1)]['value']]==_0x4c9665(0x218)?{'list':this[_0x4c9665(0x5e2)],'id':this[_0x4c9665(0x234)]}:undefined,_0x5d6960=this[_0x4c9665(0x5c9)]({'selector':this['playersPageOffset'],'sortButo':{'list':this['playerSortModeList'],'id':this[_0x4c9665(0x1d1)]},'sortButo2':_0x103a9d});switch(this[_0x4c9665(0x3c0)][this[_0x4c9665(0x1d1)][_0x4c9665(0x349)]]){case'name':_0x45a666[_0x4c9665(0x34a)][_0x4c9665(0x340)]((_0x4be3de,_0xff4063)=>{var _0x571547=_0x4c9665;if(_0x4be3de[_0x571547(0x362)]>_0xff4063[_0x571547(0x362)])return 0x1;return 0x0;});break;case _0x4c9665(0x3c7):_0x45a666[_0x4c9665(0x34a)][_0x4c9665(0x340)]((_0x556975,_0x35dc99)=>{var _0x25ce67=_0x4c9665,_0x586c25=_0x45a666[_0x25ce67(0x40e)](_0x556975),_0x377b21=_0x45a666[_0x25ce67(0x40e)](_0x35dc99);if(!_0x586c25&&_0x377b21)return-0x1;if(_0x586c25&&!_0x377b21)return 0x1;if(!_0x586c25&&!_0x377b21)return 0x0;if(_0x586c25[_0x25ce67(0x362)]>_0x377b21[_0x25ce67(0x362)])return-0x1;if(_0x586c25[_0x25ce67(0x362)]<_0x377b21[_0x25ce67(0x362)])return 0x1;return 0x0;});break;case _0x4c9665(0x498):_0x45a666['players'][_0x4c9665(0x340)]((_0x28b426,_0x361ffe)=>{var _0x5cc965=_0x4c9665,_0x1655cb=_0x28b426[_0x5cc965(0x498)],_0x3c7673=_0x361ffe['weapon'];if(!_0x1655cb&&_0x3c7673)return 0x1;if(_0x1655cb&&!_0x3c7673)return-0x1;if(!_0x1655cb&&!_0x3c7673)return 0x0;if(_0x1655cb[_0x5cc965(0x362)]>_0x3c7673[_0x5cc965(0x362)])return 0x1;if(_0x1655cb[_0x5cc965(0x362)]<_0x3c7673['name'])return-0x1;return 0x0;});break;case _0x4c9665(0x4b8):_0x45a666['players'][_0x4c9665(0x340)]((_0x28d2d6,_0x140b0c)=>{var _0x36318d=_0x4c9665,_0x886aa5=_0x28d2d6[_0x36318d(0x4b8)],_0x146a91=_0x140b0c[_0x36318d(0x4b8)];if(!_0x886aa5&&_0x146a91)return 0x1;if(_0x886aa5&&!_0x146a91)return-0x1;if(!_0x886aa5&&!_0x146a91)return 0x0;if(_0x886aa5[_0x36318d(0x362)]>_0x146a91['name'])return 0x1;if(_0x886aa5[_0x36318d(0x362)]<_0x146a91[_0x36318d(0x362)])return-0x1;return 0x0;});break;case _0x4c9665(0x218):var _0x111a5e=this['statsplayerSortModeList'][this[_0x4c9665(0x234)]['value']];if(_0x111a5e==_0x4c9665(0x57c)||_0x111a5e==_0x4c9665(0x2d9))_0x45a666['players'][_0x4c9665(0x340)]((_0x22e61d,_0x15415f)=>{var _0x597d3c=_0x4c9665;if(_0x22e61d['stats'][_0x111a5e]<_0x15415f[_0x597d3c(0x218)][_0x111a5e])return 0x1;if(_0x22e61d[_0x597d3c(0x218)][_0x111a5e]>_0x15415f[_0x597d3c(0x218)][_0x111a5e])return-0x1;return 0x0;});else _0x45a666[_0x4c9665(0x34a)][_0x4c9665(0x340)]((_0x4a97db,_0x514078)=>{if(_0x4a97db[_0x111a5e]<_0x514078[_0x111a5e])return 0x1;if(_0x4a97db[_0x111a5e]>_0x514078[_0x111a5e])return-0x1;return 0x0;});break;}if(this[_0x4c9665(0x303)]&&this['tabs'][this[_0x4c9665(0x3d8)]]!=_0x4c9665(0x5e5)&&(_0x45a666[_0x4c9665(0x377)]==PHASE_PLACEPLAYER||_0x45a666['phase']==PHASE_ACTIONPLAYER))_0x5d6960[_0x4c9665(0x2a9)]({'type':'button','mouseLight':'88','callback':this['GoToTabName'],'callback_data':{'tab':_0x4c9665(0x5e5)},'txt':'Show','txt_color':_0x4c9665(0x553),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x4c9665(0x5ee)});this['UIplayers'][_0x4c9665(0x36e)](_0x5d6960);var _0x91fe12=0x0;if(!this[_0x4c9665(0x2dc)])for(var _0x430f4c in _0x45a666[_0x4c9665(0x34a)]){var _0x304e29=_0x45a666[_0x4c9665(0x34a)][_0x430f4c];if(_0x91fe12>=this['playersPageOffset'][_0x4c9665(0x349)]&&_0x91fe12<this['playersPageOffset'][_0x4c9665(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4c9665(0x58e)][_0x4c9665(0x36e)](this['getPlayerIcone'](_0x304e29));_0x91fe12++;if(_0x304e29[_0x4c9665(0x429)]&&_0x45a666[_0x4c9665(0x377)]!=PHASE_NEWTURN){if(_0x91fe12>=this[_0x4c9665(0x534)][_0x4c9665(0x349)]&&_0x91fe12<this['playersPageOffset'][_0x4c9665(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers']['addButton'](_0x4c9665(0x38e),0xa,'#ffffff',_0x4c9665(0x4f8),_0x4c9665(0x553),this['GoToTabName'],{'tab':_0x4c9665(0x5e5),'player':_0x304e29},VILLAGE_UI_FONT_BUTTON,undefined,[{'callback':()=>{var _0x210ce4=_0x4c9665;return _0x210ce4(0x3a5);}}],'ff');_0x91fe12++;}var _0xa9768c=world[_0x4c9665(0x4d5)]['getBatFromPlayer'](_0x304e29);if(_0xa9768c&&(this['playerSelected']==_0x304e29||this[_0x4c9665(0x3c0)][this[_0x4c9665(0x1d1)][_0x4c9665(0x349)]]==_0x4c9665(0x3c7))){var _0x1a3c87=[{'type':_0x4c9665(0x5a3),'txt':_0xa9768c[_0x4c9665(0x362)],'txt_color':this[_0x4c9665(0x56e)]==_0xa9768c?_0x4c9665(0x4fc):_0x4c9665(0x553),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x4c9665(0x345),'img':world[_0x4c9665(0x3ce)][_0xa9768c['imgIcon']][_0x4c9665(0x345)],'len_x':0x14,'len_y':0x14}];if(_0x45a666[_0x4c9665(0x377)]==PHASE_PLACEPLAYER)_0x1a3c87[_0x4c9665(0x2a9)]({'type':_0x4c9665(0x3cb),'mouseLight':'88','callback':world['village'][_0x4c9665(0x4a8)],'callback_data':{'player':_0x304e29},'txt':_0x4c9665(0x415),'txt_color':'#000000','max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x4c9665(0x26f)});if(_0x91fe12>=this[_0x4c9665(0x534)][_0x4c9665(0x349)]&&_0x91fe12<this[_0x4c9665(0x534)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4c9665(0x58e)][_0x4c9665(0x36e)](_0x1a3c87);_0x91fe12++;}var _0x90e960=[];if(_0x45a666[_0x4c9665(0x377)]==PHASE_PLACEPLAYER&&this[_0x4c9665(0x56e)]&&this['tabs'][this[_0x4c9665(0x3d8)]]==_0x4c9665(0x3c7)&&this[_0x4c9665(0x56e)][_0x4c9665(0x570)]&&!this[_0x4c9665(0x56e)][_0x4c9665(0x335)][_0x4c9665(0x521)](_0x56468d=>_0x56468d==_0x304e29)&&!_0xa9768c&&!this[_0x4c9665(0x5c8)]&&this[_0x4c9665(0x56e)]['players_inside'][_0x4c9665(0x1e9)]<this[_0x4c9665(0x56e)][_0x4c9665(0x570)])_0x90e960['push']({'type':_0x4c9665(0x3cb),'mouseLight':'88','callback':world['village'][_0x4c9665(0x57e)],'callback_data':{'player':_0x304e29,'bat':this['batSelected']},'txt':_0x4c9665(0x58d),'txt_color':_0x4c9665(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x90e960[_0x4c9665(0x1e9)]){if(_0x91fe12>=this[_0x4c9665(0x534)][_0x4c9665(0x349)]&&_0x91fe12<this[_0x4c9665(0x534)][_0x4c9665(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4c9665(0x58e)][_0x4c9665(0x36e)](_0x90e960);_0x91fe12++;}if(this[_0x4c9665(0x1b0)][this[_0x4c9665(0x3d8)]]==_0x4c9665(0x26e)){if(this[_0x4c9665(0x303)]==_0x304e29){if(_0x45a666[_0x4c9665(0x377)]==PHASE_PLACEPLAYER&&_0x304e29[_0x4c9665(0x498)]){if(_0x91fe12>=this[_0x4c9665(0x534)][_0x4c9665(0x349)]&&_0x91fe12<this[_0x4c9665(0x534)][_0x4c9665(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4c9665(0x58e)][_0x4c9665(0x3a4)]('unequip\x20weapon',0x14,_0x4c9665(0x553),VILLAGE_UI_BUTTON_FILLCOLOR,_0x4c9665(0x553),_0x304e29['unequipWeapon'],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x91fe12++;}if(_0x45a666[_0x4c9665(0x377)]==PHASE_PLACEPLAYER&&_0x304e29[_0x4c9665(0x4b8)]){if(_0x91fe12>=this['playersPageOffset']['value']&&_0x91fe12<this[_0x4c9665(0x534)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4c9665(0x58e)][_0x4c9665(0x3a4)](_0x4c9665(0x251),0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0x4c9665(0x553),_0x304e29['unequipArmor'],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x91fe12++;}if(_0x45a666[_0x4c9665(0x377)]==PHASE_PLACEPLAYER&&this[_0x4c9665(0x3b8)]&&this['itemSelected'][_0x4c9665(0x4c2)]==_0x4c9665(0x498)){if(_0x91fe12>=this[_0x4c9665(0x534)]['value']&&_0x91fe12<this[_0x4c9665(0x534)][_0x4c9665(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4c9665(0x58e)][_0x4c9665(0x3a4)]('equip\x20weapon',0x14,_0x4c9665(0x553),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x304e29[_0x4c9665(0x29f)],{'weapon':this[_0x4c9665(0x3b8)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x91fe12++;}if(_0x45a666[_0x4c9665(0x377)]==PHASE_PLACEPLAYER&&this['itemSelected']&&this[_0x4c9665(0x3b8)][_0x4c9665(0x4c2)]=='armor'){if(_0x91fe12>=this[_0x4c9665(0x534)]['value']&&_0x91fe12<this[_0x4c9665(0x534)][_0x4c9665(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers']['addButton']('equip\x20armor',0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0x4c9665(0x553),_0x304e29[_0x4c9665(0x5bb)],{'armor':this['itemSelected']},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x91fe12++;}}}}if(this[_0x4c9665(0x2dc)]){if(_0x91fe12>=this[_0x4c9665(0x534)]['value']&&_0x91fe12<this[_0x4c9665(0x534)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4c9665(0x58e)][_0x4c9665(0x47f)](this['playerInfoMenu'][_0x4c9665(0x316)](),0x28,0x270f,'#000000',VILLAGE_UI_FONT);_0x91fe12++;}}this[_0x4c9665(0x58e)]['drawUI']();},this[_0x55bb1a(0x578)]=()=>{var _0x35e713=_0x55bb1a,_0x327899=world['village'],_0x3f8903=_0x35e713(0x59a);_0x3f8903+=world[_0x35e713(0x4d5)]['getDateText']();if(_0x327899[_0x35e713(0x4e5)])_0x3f8903+='\x0aYour\x20village\x20consumed\x20'+_0x327899[_0x35e713(0x4e5)]+'\x20food\x20last\x20week';for(var _0x4b9eb3 in _0x327899['players']){var _0x3159ce=_0x327899['players'];if(_0x3159ce[_0x35e713(0x429)])_0x3f8903+='\x0a'+_0x3159ce[_0x35e713(0x362)]+_0x35e713(0x3e0);}this['UI'][_0x35e713(0x47f)](_0x3f8903,0x1e,0x270f,'#000000',VILLAGE_UI_FONT),this['UI'][_0x35e713(0x36e)]([this[_0x35e713(0x3d6)](![],![],'Start\x20Turn')]);},this[_0x55bb1a(0x230)]=()=>{var _0x5f23ff=_0x55bb1a,_0x327527=world[_0x5f23ff(0x4d5)];if(_0x327527[_0x5f23ff(0x4a6)])this['UI'][_0x5f23ff(0x47f)](_0x5f23ff(0x5d3),0x28,0x270f,_0x5f23ff(0x553),VILLAGE_UI_FONT);else this['UI'][_0x5f23ff(0x47f)](_0x5f23ff(0x396),0x28,0x270f,_0x5f23ff(0x553),VILLAGE_UI_FONT);this['UI'][_0x5f23ff(0x36e)]([this[_0x5f23ff(0x3d6)](![],![],_0x327527['battle']?'Start\x20Battle':'Next\x20Turn')]);},this[_0x55bb1a(0x26a)]=()=>{var _0x32cd42=_0x55bb1a,_0x310437=world[_0x32cd42(0x4d5)];this['UI'][_0x32cd42(0x36e)](this[_0x32cd42(0x5c9)]({'selector':this[_0x32cd42(0x253)]}));var _0x26fac2=0x0;if(_0x310437['phase']!=PHASE_PLACEPLAYER)this['UI'][_0x32cd42(0x47f)]('you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201',0x14,0x270f,_0x32cd42(0x26f),VILLAGE_UI_FONT);if(!_0x310437[_0x32cd42(0x26e)]['length'])this['UI'][_0x32cd42(0x47f)]('you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village',0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x2ead6b=_0x310437['bats']['find'](_0x401d15=>_0x401d15[_0x32cd42(0x362)]=='Forge');for(var _0x4fd4a8 in _0x310437[_0x32cd42(0x26e)]){var _0x6ac5a7=_0x310437[_0x32cd42(0x26e)][_0x4fd4a8],_0x36ecc7=this[_0x32cd42(0x457)](_0x6ac5a7,0x14);if(_0x6ac5a7[_0x32cd42(0x20a)]>0x1)_0x36ecc7[_0x32cd42(0x2a9)]({'type':_0x32cd42(0x5a3),'txt':_0x32cd42(0x1e6)+_0x6ac5a7[_0x32cd42(0x20a)],'txt_color':_0x32cd42(0x480),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT});_0x2ead6b&&!_0x2ead6b[_0x32cd42(0x2ca)]&&_0x6ac5a7['itemType']==_0x32cd42(0x498)&&_0x6ac5a7['upgradeLvl']&&_0x310437[_0x32cd42(0x377)]==PHASE_ACTIONPLAYER&&_0x36ecc7[_0x32cd42(0x2a9)]({'type':'txt','txt':_0x32cd42(0x557),'txt_color':_0x32cd42(0x26f),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT});if(_0x26fac2>=this[_0x32cd42(0x253)][_0x32cd42(0x349)]&&_0x26fac2<this[_0x32cd42(0x253)][_0x32cd42(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x32cd42(0x36e)](_0x36ecc7);_0x26fac2++;if(_0x2ead6b&&!_0x2ead6b[_0x32cd42(0x2ca)]&&_0x6ac5a7['itemType']=='weapon'&&_0x6ac5a7[_0x32cd42(0x20a)]&&_0x310437[_0x32cd42(0x377)]==PHASE_ACTIONPLAYER)for(var _0x8c61a3 in _0x2ead6b['players_inside']){var _0x675e89=_0x2ead6b[_0x32cd42(0x335)][_0x8c61a3],_0x167f6d=[];if(this[_0x32cd42(0x3b8)]==_0x6ac5a7&&_0x675e89['villageActionPoint']){_0x167f6d[_0x32cd42(0x2a9)]({'type':_0x32cd42(0x3cb),'callback':_0x6ac5a7[_0x32cd42(0x536)],'callback_data':{'player':_0x675e89},'txt':_0x32cd42(0x3cf),'txt_color':_0x32cd42(0x553),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x32cd42(0x553),'windowInfo':[{'callback':_0x51b3bc=>{return'succes\x20chance\x20'+_0x51b3bc['getChanceUppgrade']()+'%';},'input':_0x6ac5a7}]});if(_0x26fac2>=this['itemsPageOffset'][_0x32cd42(0x349)]&&_0x26fac2<this[_0x32cd42(0x253)][_0x32cd42(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x32cd42(0x36e)](_0x167f6d);_0x26fac2++;}else{if(_0x26fac2>=this[_0x32cd42(0x253)][_0x32cd42(0x349)]&&_0x26fac2<this[_0x32cd42(0x253)][_0x32cd42(0x349)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([{'type':_0x32cd42(0x5a3),'txt':'no\x20one\x20can\x20uppgrade\x20it','txt_color':_0x32cd42(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}]);_0x26fac2++;}}}},this[_0x55bb1a(0x374)]=()=>{var _0x1293b9=_0x55bb1a,_0x1dfb66=world[_0x1293b9(0x4d5)],_0x17e32a=_0x1293b9(0x2e7);this['UI'][_0x1293b9(0x3a4)](_0x1293b9(0x39b),0x1e,_0x1293b9(0x553),_0x1293b9(0x47d),_0x1293b9(0x553),_0x421c9c=>{var _0x2bf87a=_0x1293b9;_0x421c9c[_0x2bf87a(0x349)]=!_0x421c9c[_0x2bf87a(0x349)];},this[_0x1293b9(0x535)],VILLAGE_UI_FONT_BUTTON,undefined,[{'callback':()=>{return _0x17e32a;}}],'ff');if(!this[_0x1293b9(0x535)][_0x1293b9(0x349)])return;var _0xe72f19=_0x1293b9(0x447);for(var _0x26773b in _0x1dfb66[_0x1293b9(0x5cc)]){if(_0x1dfb66[_0x1293b9(0x5cc)][_0x26773b]['visible']){if(_0x26773b==0x0)_0xe72f19+='\x0aThis\x20turn\x20:\x20';else _0xe72f19+='\x0aIn\x20'+_0x26773b+_0x1293b9(0x5f2);if(_0x1dfb66[_0x1293b9(0x5cc)][_0x26773b][_0x1293b9(0x30a)])_0xe72f19+=_0x1293b9(0x50e);else _0xe72f19+=_0x1293b9(0x576);}}this['UI'][_0x1293b9(0x47f)](_0xe72f19,0x14,0x270f,_0x1293b9(0x553),VILLAGE_UI_FONT);},this[_0x55bb1a(0x4b3)]=()=>{var _0x5d7ae3=_0x55bb1a,_0x69879=world[_0x5d7ae3(0x4d5)];this[_0x5d7ae3(0x374)]();switch(_0x69879[_0x5d7ae3(0x377)]){case PHASE_PLACEPLAYER:this['UI'][_0x5d7ae3(0x47f)](world[_0x5d7ae3(0x4d5)][_0x5d7ae3(0x1c9)](),0x14,0x270f,_0x5d7ae3(0x553),VILLAGE_UI_FONT);var _0x11fd2f=_0x5d7ae3(0x36a);_0x11fd2f+=_0x5d7ae3(0x493),_0x11fd2f+='\x0a-affect\x20players\x20to\x20a\x20building',_0x11fd2f+=_0x5d7ae3(0x431),_0x11fd2f+=_0x5d7ae3(0x537),this['UI'][_0x5d7ae3(0x47f)](_0x11fd2f,0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0xfa4190=[this['GetNextTurnButton'](!![],this[_0x5d7ae3(0x1b7)][_0x5d7ae3(0x1e9)],_0x5d7ae3(0x358))];this['UI'][_0x5d7ae3(0x36e)](_0xfa4190);if(this[_0x5d7ae3(0x1b7)][_0x5d7ae3(0x1e9)])for(var _0x1bdbe3 in this[_0x5d7ae3(0x1b7)]){var _0x53952a=[];_0x53952a[_0x5d7ae3(0x2a9)]({'type':_0x5d7ae3(0x5a3),'txt':this[_0x5d7ae3(0x1b7)][_0x1bdbe3][_0x5d7ae3(0x5a3)],'txt_color':_0x5d7ae3(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x1bdbe3]['player']||this[_0x5d7ae3(0x1b7)][_0x1bdbe3]['bat']||this[_0x5d7ae3(0x1b7)][_0x1bdbe3][_0x5d7ae3(0x5f0)])&&_0x53952a[_0x5d7ae3(0x2a9)]({'type':'button','callback':this[_0x5d7ae3(0x410)],'callback_data':this[_0x5d7ae3(0x1b7)][_0x1bdbe3],'txt':_0x5d7ae3(0x1ff),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x5d7ae3(0x553),'windowInfo':[{'callback':()=>{var _0x392e3e=_0x5d7ae3;return _0x392e3e(0x4b1);}}]}),this['UI']['addHorizontalElem'](_0x53952a);}break;case PHASE_ACTIONPLAYER:this['UI']['addTextZone'](world[_0x5d7ae3(0x4d5)][_0x5d7ae3(0x1c9)](),0x14,0x270f,_0x5d7ae3(0x553),VILLAGE_UI_FONT);var _0x11fd2f=_0x5d7ae3(0x3fa);_0x11fd2f+=_0x5d7ae3(0x50d),_0x11fd2f+=_0x5d7ae3(0x265),_0x11fd2f+='\x0a-craft\x20weapons\x20and\x20armors',_0x11fd2f+='\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building',this['UI'][_0x5d7ae3(0x47f)](_0x11fd2f,0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0xfa4190=[this[_0x5d7ae3(0x3d6)](!![],this[_0x5d7ae3(0x1b7)][_0x5d7ae3(0x1e9)],_0x5d7ae3(0x48f))];if(this[_0x5d7ae3(0x1b7)][_0x5d7ae3(0x1e9)])_0xfa4190[_0x5d7ae3(0x2a9)](this[_0x5d7ae3(0x3d6)](![],this[_0x5d7ae3(0x1b7)][_0x5d7ae3(0x1e9)],_0x5d7ae3(0x4b0)));this['UI'][_0x5d7ae3(0x36e)](_0xfa4190);if(this[_0x5d7ae3(0x1b7)][_0x5d7ae3(0x1e9)])for(var _0x1bdbe3 in this[_0x5d7ae3(0x1b7)]){var _0x53952a=[];_0x53952a[_0x5d7ae3(0x2a9)]({'type':'txt','txt':this[_0x5d7ae3(0x1b7)][_0x1bdbe3][_0x5d7ae3(0x5a3)],'txt_color':_0x5d7ae3(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x1bdbe3][_0x5d7ae3(0x4a3)]||this[_0x5d7ae3(0x1b7)][_0x1bdbe3][_0x5d7ae3(0x301)]||this[_0x5d7ae3(0x1b7)][_0x1bdbe3][_0x5d7ae3(0x5f0)])&&_0x53952a[_0x5d7ae3(0x2a9)]({'type':_0x5d7ae3(0x3cb),'callback':this[_0x5d7ae3(0x410)],'callback_data':this[_0x5d7ae3(0x1b7)][_0x1bdbe3],'txt':_0x5d7ae3(0x1ff),'txt_color':_0x5d7ae3(0x553),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':'#000000','windowInfo':[{'callback':()=>{return'page\x20up';}}]}),this['UI'][_0x5d7ae3(0x36e)](_0x53952a);}break;}},this[_0x55bb1a(0x3da)]=()=>{var _0x2d918a=_0x55bb1a,_0x3017e3=world[_0x2d918a(0x4d5)];if(!this['playerSelected'])return this['UI']['addTextZone'](_0x2d918a(0x5b3),VILLAGE_UI_LETTER_SIZE,0x270f,_0x2d918a(0x553),VILLAGE_UI_FONT);var _0xcb696d=this[_0x2d918a(0x303)];this['UI']['addButton'](_0x2d918a(0x451),0xa,'#ffffff',_0x2d918a(0x34c),_0x2d918a(0x553),_0xcb696d[_0x2d918a(0x4c1)],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'88');var _0x217b94=this['getPlayerIcone'](_0xcb696d,0x50);this['UI']['addHorizontalElem'](_0x217b94);var _0x296336=world[_0x2d918a(0x4d5)]['getBatFromPlayer'](_0xcb696d);if(_0x296336){var _0xa1837c=[{'type':_0x2d918a(0x5a3),'txt':_0x296336['name'],'txt_color':this[_0x2d918a(0x56e)]==_0x296336?_0x2d918a(0x4fc):_0x2d918a(0x553),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x2d918a(0x345),'img':world['Imgs'][_0x296336[_0x2d918a(0x528)]][_0x2d918a(0x345)],'len_x':0x19,'len_y':0x19}];if(_0x3017e3[_0x2d918a(0x377)]==PHASE_PLACEPLAYER)_0xa1837c[_0x2d918a(0x2a9)]({'type':_0x2d918a(0x3cb),'mouseLight':'88','callback':world[_0x2d918a(0x4d5)]['removePlayerFromBat'],'callback_data':{'player':_0xcb696d},'txt':_0x2d918a(0x415),'txt_color':_0x2d918a(0x553),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x2d918a(0x26f)});this['UI'][_0x2d918a(0x36e)](_0xa1837c);}if(!_0xcb696d[_0x2d918a(0x498)])this['UI']['addTextZone'](_0x2d918a(0x2bb),0x14,0x270e,_0x2d918a(0x439),VILLAGE_UI_FONT);else{var _0x21dc80=this['getItemIcone'](_0xcb696d[_0x2d918a(0x498)],0x1e,!![]);if(_0x3017e3[_0x2d918a(0x377)]==PHASE_PLACEPLAYER)_0x21dc80[_0x2d918a(0x2a9)]({'type':_0x2d918a(0x3cb),'callback':_0xcb696d[_0x2d918a(0x34f)],'callback_data':undefined,'txt':_0x2d918a(0x320),'txt_color':_0x2d918a(0x553),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x2d918a(0x26f),'strokeColor':_0x2d918a(0x553),'windowInfo':[{'callback':()=>{var _0x192df8=_0x2d918a;return _0x192df8(0x38f);}}]});this['UI'][_0x2d918a(0x36e)](_0x21dc80);}if(!_0xcb696d[_0x2d918a(0x4b8)])this['UI']['addTextZone'](_0x2d918a(0x20e),0x14,0x270e,_0x2d918a(0x439),VILLAGE_UI_FONT);else{var _0x21dc80=this['getItemIcone'](_0xcb696d[_0x2d918a(0x4b8)],0x1e,!![]);if(_0x3017e3['phase']==PHASE_PLACEPLAYER)_0x21dc80[_0x2d918a(0x2a9)]({'type':'button','callback':_0xcb696d[_0x2d918a(0x46a)],'callback_data':undefined,'txt':_0x2d918a(0x320),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x2d918a(0x26f),'strokeColor':_0x2d918a(0x553),'windowInfo':[{'callback':()=>{var _0x189828=_0x2d918a;return _0x189828(0x251);}}]});this['UI'][_0x2d918a(0x36e)](_0x21dc80);}if(_0xcb696d[_0x2d918a(0x429)]&&_0xcb696d[_0x2d918a(0x1b9)]&&_0xcb696d['lvlupList'][_0x2d918a(0x1e9)]>0x0)for(var _0x16f6ad in _0xcb696d['lvlupList']){var _0x217b94=_0xcb696d[_0x2d918a(0x1b9)][_0x16f6ad];this['UI']['addButton'](_0x217b94[_0x2d918a(0x5c6)]+'\x20'+_0x217b94[_0x2d918a(0x349)],0x28,_0x2d918a(0x553),_0x2d918a(0x4bb),'#000000',_0xcb696d[_0x2d918a(0x3d1)],_0x217b94,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0xcb696d[_0x2d918a(0x429)]&&this['UI'][_0x2d918a(0x3a4)](_0x2d918a(0x314),0x3c,_0x2d918a(0x553),_0x2d918a(0x261),_0x2d918a(0x553),_0xcb696d[_0x2d918a(0x45d)],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0x217b94=[];var _0x6681a4='\x20Action\x20Point\x20Max\x20(Battle)\x20'+_0xcb696d[_0x2d918a(0x438)];_0x6681a4+='\x0aLife\x20Max\x20:\x20'+_0xcb696d['lifeMax'],_0x6681a4+=_0x2d918a(0x27b)+_0xcb696d[_0x2d918a(0x369)],_0x6681a4+='\x0aMove\x20AP\x20cost\x20'+_0xcb696d['movePCost'];for(var _0x16f6ad in _0xcb696d[_0x2d918a(0x218)])_0x6681a4+='\x0a'+_0x16f6ad+'\x20'+_0xcb696d[_0x2d918a(0x218)][_0x16f6ad];_0x217b94[_0x2d918a(0x2a9)]({'type':_0x2d918a(0x5a3),'txt':_0x6681a4,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x34b8f5=_0x2d918a(0x3e5)+_0xcb696d[_0x2d918a(0x5c2)]+'/'+_0xcb696d[_0x2d918a(0x264)];_0x34b8f5+=_0x2d918a(0x29a)+_0xcb696d[_0x2d918a(0x5be)],_0x34b8f5+=_0x2d918a(0x3c8)+_0xcb696d[_0x2d918a(0x406)]+_0x2d918a(0x312),_0x217b94[_0x2d918a(0x2a9)]({'type':_0x2d918a(0x5a3),'txt':_0x34b8f5,'txt_color':_0x2d918a(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x2d918a(0x36e)](_0x217b94);},this['draw_resource_tab']=()=>{var _0x4e95af=_0x55bb1a,_0x3da0ef=world[_0x4e95af(0x4d5)];for(var _0x42cf58 in _0x3da0ef[_0x4e95af(0x1f7)]){var _0x1316e5=[],_0x4354ea=_0x3da0ef['resources'][_0x42cf58];if(_0x4354ea==undefined)continue;_0x1316e5[_0x4e95af(0x2a9)]({'type':_0x4e95af(0x5a3),'txt':_0x42cf58,'txt_color':_0x4e95af(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x1316e5[_0x4e95af(0x2a9)]({'type':_0x4e95af(0x345),'img':world[_0x4e95af(0x3ce)][_0x42cf58+_0x4e95af(0x24a)][_0x4e95af(0x345)],'len_x':0x14,'len_y':0x14}),_0x1316e5['push']({'type':_0x4e95af(0x5a3),'txt':'\x20'+_0x4354ea,'txt_color':_0x4e95af(0x553),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x4e95af(0x36e)](_0x1316e5);}},this[_0x55bb1a(0x484)]=()=>{var _0x187517=_0x55bb1a,_0x921f4a=[];_0x921f4a['push']({'type':_0x187517(0x3cb),'mouseLight':'88','callback':()=>{var _0x4d8a8e=_0x187517;this[_0x4d8a8e(0x3d8)]=this[_0x4d8a8e(0x3d8)]-0x1>=0x0?this['activeTabId']-0x1:this[_0x4d8a8e(0x1b0)]['length']-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x921f4a['push']({'type':_0x187517(0x3cb),'mouseLight':'88','callback':()=>{var _0x34fb73=_0x187517;this[_0x34fb73(0x3d8)]=this[_0x34fb73(0x3d8)]+0x1<this[_0x34fb73(0x1b0)][_0x34fb73(0x1e9)]?this[_0x34fb73(0x3d8)]+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x921f4a[_0x187517(0x2a9)]({'type':'button','mouseLight':'ff','callback':()=>{var _0x4e961a=_0x187517;this[_0x4e961a(0x3d8)]=undefined;},'callback_data':undefined,'txt':this[_0x187517(0x1b0)][this[_0x187517(0x3d8)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI']['addHorizontalElem'](_0x921f4a);},this[_0x55bb1a(0x23d)]=()=>{var _0x5e6f49=_0x55bb1a,_0x54fa21=world[_0x5e6f49(0x4d5)];this[_0x5e6f49(0x2ef)]=new MyUI(this[_0x5e6f49(0x33d)],this[_0x5e6f49(0x58e)][_0x5e6f49(0x3b0)]+this['UI'][_0x5e6f49(0x3b0)],0x0,0xa,this[_0x5e6f49(0x24b)],this['background'],this[_0x5e6f49(0x256)],this['marge']),this[_0x5e6f49(0x2ef)]['addTextZone'](_0x5e6f49(0x43d),0x28,0x270f,_0x5e6f49(0x553),VILLAGE_UI_FONT_PHASE),this[_0x5e6f49(0x2ef)][_0x5e6f49(0x36e)]([{'type':'button','mouseLight':'88','callback':()=>{var _0x57e273=_0x5e6f49;this[_0x57e273(0x1a2)]=this['eventPage']>0x0?this[_0x57e273(0x1a2)]-0x1:this[_0x57e273(0x1a2)];},'txt':'','txt_color':_0x5e6f49(0x26f),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x5e6f49(0x1a8)},{'type':_0x5e6f49(0x3cb),'mouseLight':'88','callback':()=>{var _0x562d6b=_0x5e6f49;this[_0x562d6b(0x1a2)]=this['eventPage']<_0x54fa21[_0x562d6b(0x1ed)][_0x562d6b(0x23c)][_0x562d6b(0x1e9)]-0x1?this['eventPage']+0x1:this['eventPage'];},'txt':'','txt_color':_0x5e6f49(0x26f),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x5e6f49(0x1a8)}]);var _0x35c3f3=_0x54fa21[_0x5e6f49(0x1ed)]['getMessageSystem']({'page':this[_0x5e6f49(0x1a2)]});for(var _0x32c874 in _0x35c3f3){var _0x3a436d=_0x35c3f3['length']-_0x32c874-0x1,_0x578905='#000000';switch(_0x35c3f3[_0x3a436d]['type']){case _0x5e6f49(0x398):_0x578905='#006400';break;case _0x5e6f49(0x3c7):_0x578905=_0x5e6f49(0x44f);break;case'player':_0x578905=_0x5e6f49(0x480);break;default:_0x578905=_0x5e6f49(0x553);break;}if(_0x35c3f3[_0x3a436d][_0x5e6f49(0x475)]==_0x5e6f49(0x2ea))this[_0x5e6f49(0x2ef)][_0x5e6f49(0x36e)](this[_0x5e6f49(0x4ac)](_0x35c3f3[_0x3a436d][_0x5e6f49(0x5a3)],0x14));else this[_0x5e6f49(0x2ef)][_0x5e6f49(0x47f)](_0x35c3f3[_0x3a436d][_0x5e6f49(0x5a3)],0x14,0x270f,_0x578905,VILLAGE_UI_FONT);}this[_0x5e6f49(0x2ef)][_0x5e6f49(0x5ab)]();},this[_0x55bb1a(0x519)]=()=>{var _0x301351=_0x55bb1a;if(!world[_0x301351(0x4d5)])return;var _0x5b7f0f=world[_0x301351(0x4d5)];this['needRedraw']=![],this[_0x301351(0x33d)]['GetCanvasPos'](),this[_0x301351(0x33d)][_0x301351(0x500)](),this[_0x301351(0x3b3)](),this['UI']=new MyUI(this['canvas'],this[_0x301351(0x58e)][_0x301351(0x3b0)],0x0,0xa,this[_0x301351(0x24b)],this[_0x301351(0x4c3)],this['stroke'],this['marge']);if(!this[_0x301351(0x3c6)])this['UI']['addButton'](_0x301351(0x269),0x28,_0x301351(0x553),_0x301351(0x273),_0x301351(0x273),()=>{var _0x328ce9=_0x301351;this[_0x328ce9(0x3c6)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this[_0x301351(0x3c6)]){switch(_0x5b7f0f['phase']){case PHASE_PLACEPLAYER:this['UI'][_0x301351(0x3a4)](_0x301351(0x1fd),0x28,_0x301351(0x553),'#00000000','#00000000',()=>{var _0x378407=_0x301351;this[_0x378407(0x3c6)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI'][_0x301351(0x3a4)](_0x301351(0x594),0x28,'#000000',_0x301351(0x273),_0x301351(0x273),()=>{var _0x1f1365=_0x301351;this[_0x1f1365(0x3c6)]=!this[_0x1f1365(0x3c6)];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this[_0x301351(0x3d8)]===undefined)for(var _0x4b1d07 in this[_0x301351(0x1b0)]){var _0x3a949e=[];_0x3a949e[_0x301351(0x2a9)]({'type':_0x301351(0x3cb),'mouseLight':'ff','callback':_0x5da1ae=>{var _0x3dfc4e=_0x301351;this[_0x3dfc4e(0x3d8)]=parseInt(_0x5da1ae);},'callback_data':_0x4b1d07,'txt':this[_0x301351(0x1b0)][_0x4b1d07],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI']['addHorizontalElem'](_0x3a949e);}else{if(_0x5b7f0f[_0x301351(0x377)]==PHASE_NEWTURN)this[_0x301351(0x578)]();else{if(_0x5b7f0f[_0x301351(0x377)]==PHASE_COMBAT)this[_0x301351(0x230)]();else{this[_0x301351(0x484)]();switch(this[_0x301351(0x1b0)][this[_0x301351(0x3d8)]]){case _0x301351(0x37d):this[_0x301351(0x4b3)]();break;case'building':this[_0x301351(0x3b9)]();break;case _0x301351(0x4b7):this[_0x301351(0x1b4)]();break;case _0x301351(0x2ea):this[_0x301351(0x2c8)]();break;case _0x301351(0x26e):this[_0x301351(0x26a)]();break;case'Player':this[_0x301351(0x3da)]();break;}}}}}}this['UI'][_0x301351(0x5ab)](),this[_0x301351(0x23d)](),this['CheckInfoWindow'](![]);};},MENU_UI_TITLE_FONT=_0x492d20(0x4db),MENU_UI_BUTTON_FONT=_0x492d20(0x3e7),MenuUI=function(_0x313080){var _0x22a87d=_0x492d20;this[_0x22a87d(0x33d)]=_0x313080,this[_0x22a87d(0x256)]=_0x22a87d(0x553),this[_0x22a87d(0x4c3)]=_0x22a87d(0x2c1),this[_0x22a87d(0x24b)]=0x1,this[_0x22a87d(0x21b)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],this['UI']=undefined;const _0x2df031=document[_0x22a87d(0x5df)](_0x22a87d(0x33d)),_0x1e7629=_0x2df031[_0x22a87d(0x3f2)]('2d'),_0x26049b=new Image();_0x26049b[_0x22a87d(0x47c)]=_0x22a87d(0x2c5),_0x26049b[_0x22a87d(0x531)]=()=>{var _0x537dd7=_0x22a87d;const _0x29ee1f=_0x1e7629[_0x537dd7(0x236)](_0x26049b,_0x537dd7(0x443));this[_0x537dd7(0x4c3)]=_0x29ee1f,this['needRedraw']=!![];},this[_0x22a87d(0x250)]=()=>{var _0x3ccb6e=_0x22a87d;window[_0x3ccb6e(0x1b2)](_0x3ccb6e(0x278),_0x1beb94=>{var _0x5f82d9=_0x3ccb6e,_0x2ffe24=![];this['UI']&&this['UI'][_0x5f82d9(0x405)](_0x1beb94['clientX'],_0x1beb94[_0x5f82d9(0x589)])&&!this[_0x5f82d9(0x45b)]&&(this[_0x5f82d9(0x21b)]=!![],this[_0x5f82d9(0x45b)]=!![],_0x2ffe24=!![]);!_0x2ffe24&&this['mouseWasOnMouseLightLastDraw']&&(this[_0x5f82d9(0x45b)]=![],this[_0x5f82d9(0x21b)]=!![]);if(this==world[_0x5f82d9(0x57a)])this[_0x5f82d9(0x250)]();},{'once':!![]});},this[_0x22a87d(0x250)](),this[_0x22a87d(0x195)]=_0x216f67=>{var _0x3760d5=_0x22a87d;if(this['UI']&&this['UI'][_0x3760d5(0x2a4)](_0x216f67))return!![];if(_0x216f67==_0x3760d5(0x40f)&&this[_0x3760d5(0x41b)]())return!![];return![];},this[_0x22a87d(0x41b)]=()=>{return![];},this['getMouseInput']=_0x318a6c=>{var _0x365639=_0x22a87d;if(!_0x318a6c||_0x318a6c['x']===undefined)return![];var _0x17c025=_0x318a6c['x'],_0x3929c8=_0x318a6c['y'];if(_0x318a6c[_0x365639(0x3cb)]==0x2){var _0x1eeb8a=this[_0x365639(0x41b)]();if(_0x1eeb8a)return!![];}else{if(this['UI']['click_buton_check'](_0x17c025,_0x3929c8))return!![];}return![];},this[_0x22a87d(0x571)]=_0x2da73f=>{var _0x2476c6=_0x22a87d;if(this['UI']&&this['UI'][_0x2476c6(0x571)](_0x2da73f))this[_0x2476c6(0x21b)]=!![];},this[_0x22a87d(0x19c)]=()=>{var _0x1a157a=_0x22a87d;this[_0x1a157a(0x33d)][_0x1a157a(0x22e)](),this[_0x1a157a(0x33d)][_0x1a157a(0x500)](),this['UI']=new MyUI(this[_0x1a157a(0x33d)],0x0,0x0,0xa,this[_0x1a157a(0x24b)],this[_0x1a157a(0x4c3)],this[_0x1a157a(0x256)],this[_0x1a157a(0x46e)]);var _0x16269b=[];_0x16269b[_0x1a157a(0x2a9)]({'type':_0x1a157a(0x5a3),'txt':_0x1a157a(0x4d1),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x2d,'txt_font':MENU_UI_TITLE_FONT}),_0x16269b[_0x1a157a(0x2a9)]({'type':_0x1a157a(0x5a3),'txt':_0x1a157a(0x4c5)+GAME_VERSION,'txt_color':'#000000','max_letters':0x270f,'letter_size':0xa,'txt_font':MENU_UI_TITLE_FONT}),this['UI'][_0x1a157a(0x36e)](_0x16269b),this['UI'][_0x1a157a(0x36e)]([{'type':'button','callback':world[_0x1a157a(0x3e9)],'callback_data':!![],'txt':_0x1a157a(0x3d3),'txt_color':_0x1a157a(0x553),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x1a157a(0x508),'strokeColor':_0x1a157a(0x553),'windowInfo':[{'callback':()=>{return'this\x20will\x20delete\x20your\x20current\x20save';}}]}]),localStorage[_0x1a157a(0x1fe)]&&this['UI']['addHorizontalElem']([{'type':_0x1a157a(0x3cb),'callback':world[_0x1a157a(0x3e9)],'callback_data':![],'txt':_0x1a157a(0x289),'txt_color':_0x1a157a(0x553),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x1a157a(0x508),'strokeColor':_0x1a157a(0x553),'windowInfo':[{'callback':()=>{var _0x5b7a3c=_0x1a157a;return _0x5b7a3c(0x346);}}]}]),this['UI'][_0x1a157a(0x36e)]([{'type':'button','callback':()=>{var _0x2075bc=_0x1a157a;window[_0x2075bc(0x417)](_0x2075bc(0x35e),_0x2075bc(0x1e7));},'callback_data':undefined,'txt':_0x1a157a(0x5a6),'txt_color':_0x1a157a(0x5ee),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x1a157a(0x480),'strokeColor':_0x1a157a(0x553),'windowInfo':[{'callback':()=>{var _0x42ce25=_0x1a157a;return _0x42ce25(0x35e);}}]}]),this['UI'][_0x1a157a(0x5ab)](),this['CheckInfoWindow'](![]);};};var IMG_TO_LOAD=[[_0x492d20(0x2a6),_0x492d20(0x424)],[_0x492d20(0x2a6),_0x492d20(0x42d)],[_0x492d20(0x2a6),_0x492d20(0x58c)],[_0x492d20(0x2a6),'coal_icon'],[_0x492d20(0x2a6),_0x492d20(0x4a2)],[_0x492d20(0x2a6),'rawCopper_icon'],[_0x492d20(0x2a6),_0x492d20(0x51e)],[_0x492d20(0x2a6),_0x492d20(0x4da)],[_0x492d20(0x2a6),_0x492d20(0x448)],[_0x492d20(0x2a6),_0x492d20(0x334)],[_0x492d20(0x2a6),_0x492d20(0x462)],[_0x492d20(0x319),_0x492d20(0x28e)],[_0x492d20(0x319),_0x492d20(0x56d)],[_0x492d20(0x319),'workshop_icon'],[_0x492d20(0x319),_0x492d20(0x544)],[_0x492d20(0x319),'Mine'],[_0x492d20(0x319),_0x492d20(0x584)],[_0x492d20(0x319),_0x492d20(0x601)],['player_test3/village/building','smelter'],[_0x492d20(0x319),_0x492d20(0x435)],[_0x492d20(0x319),_0x492d20(0x363)],[_0x492d20(0x319),_0x492d20(0x5e7)],[_0x492d20(0x319),'butchery'],['player_test3/village/resource','villageAP_icon'],[_0x492d20(0x2a6),_0x492d20(0x5d0)]],id=0x0;GOBLIN_COLOR={'r':0x41,'g':0x7a,'b':0x51},GIANT_COLOR={'r':0x7d,'g':0x7d,'b':0x7d},World=function(_0x21fbe0){var _0x5b6c1a=_0x492d20;this[_0x5b6c1a(0x4f1)]=_0x21fbe0,this[_0x5b6c1a(0x4ec)]=new SoundManager(),this[_0x5b6c1a(0x3ce)]=[],this[_0x5b6c1a(0x3e9)]=_0x317e0c=>{var _0x12ef29=_0x5b6c1a;this[_0x12ef29(0x2eb)]=undefined,this[_0x12ef29(0x4d5)]=new Village({});if(!localStorage['villageSave']||_0x317e0c)localStorage[_0x12ef29(0x4f7)](_0x12ef29(0x1fe)),this['village']['generateBasicVillage']();else{var _0x498e1a=JSON[_0x12ef29(0x57b)](localStorage[_0x12ef29(0x1fe)]);for(var _0x2dc67f in _0x498e1a){if(_0x498e1a[_0x2dc67f]==undefined)continue;console[_0x12ef29(0x4a1)](_0x12ef29(0x1d2)+_0x2dc67f+'\x20to\x20the\x20village');if(_0x2dc67f=='players'){var _0x4d56a9=_0x498e1a[_0x12ef29(0x34a)];this['village']['players']=[];for(var _0x202ebd in _0x4d56a9){console[_0x12ef29(0x4a1)](_0x4d56a9[_0x202ebd]),this[_0x12ef29(0x4d5)][_0x12ef29(0x2f3)](_0x4d56a9[_0x202ebd]);}}else{if(_0x2dc67f=='bats')this[_0x12ef29(0x4d5)]['loadBatsFromInput'](_0x498e1a[_0x12ef29(0x423)]);else{if(_0x2dc67f=='MessageSystem')continue;else{if(_0x2dc67f==_0x12ef29(0x26e))this[_0x12ef29(0x4d5)][_0x12ef29(0x4ed)](_0x498e1a[_0x12ef29(0x26e)]);else this[_0x12ef29(0x4d5)][_0x2dc67f]=_0x498e1a[_0x2dc67f];}}}}}this['villageUI']=new VillageUI(this[_0x12ef29(0x4f1)][_0x12ef29(0x43b)]['GameUI']);},this[_0x5b6c1a(0x507)]=()=>{var _0x3eb345=_0x5b6c1a;for(var _0x5602f3 in IMG_TO_LOAD){var _0x4619c4=IMG_TO_LOAD[_0x5602f3][0x1],_0x435752=IMG_TO_LOAD[_0x5602f3][0x0];this[_0x3eb345(0x3ce)][_0x4619c4]=new myImage(_0x4619c4,_0x3eb345(0x2b7)+_0x435752+'/'+_0x4619c4+_0x3eb345(0x2e3));}},this[_0x5b6c1a(0x24d)]=()=>{var _0x243e2e=_0x5b6c1a;this['Controler']=new ControlManager(),new PlayersManager()['loadPlayerDefaultImgs'](),this[_0x243e2e(0x3ce)]={...world['playerDefaultImgs']},this[_0x243e2e(0x507)](),this[_0x243e2e(0x2eb)]=new MenuUI(this[_0x243e2e(0x4f1)]['canList'][_0x243e2e(0x21e)]);},this['saveWorld']=()=>{var _0x47896d=_0x5b6c1a,_0x1a6f6a=JSON[_0x47896d(0x343)](world[_0x47896d(0x4d5)]);localStorage[_0x47896d(0x1fe)]=_0x1a6f6a;},this[_0x5b6c1a(0x3a0)]=_0x584480=>{var _0x4d153e=_0x5b6c1a;if(!this[_0x4d153e(0x359)])return undefined;var _0x12493f=0x3e8,_0x19391c=0x2+Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*0x2);while(_0x12493f-->0x1){var _0x1a4a22=0x1+Math[_0x4d153e(0x295)](this['map'][_0x4d153e(0x5c5)]*(0.5+0.5*Math[_0x4d153e(0x471)]())),_0x236cb6=0x1+Math[_0x4d153e(0x295)](this[_0x4d153e(0x359)][_0x4d153e(0x2ce)]*Math[_0x4d153e(0x471)]()),_0x31d2db=this[_0x4d153e(0x34a)][_0x4d153e(0x19a)]({'x':_0x1a4a22,'y':_0x236cb6,'size':_0x19391c,'team':TEAM_AI,'color':GIANT_COLOR});_0x31d2db&&(console[_0x4d153e(0x4a1)](_0x4d153e(0x586)+[_0x1a4a22,_0x236cb6]),_0x12493f=0x0);}if(!_0x31d2db)return undefined;var _0x3520ab=PLAYER_FACE_IMG['filter'](_0xcac6f=>_0xcac6f[_0x4d153e(0x5f8)](_0x4d153e(0x27e))),_0x541691=PLAYER_BODY_IMG[_0x4d153e(0x525)](_0x4846d8=>_0x4846d8[_0x4d153e(0x5f8)](_0x4d153e(0x27e)));_0x31d2db[_0x4d153e(0x3d5)]=_0x4d153e(0x45c),_0x31d2db['face_type']=_0x3520ab[Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*_0x3520ab[_0x4d153e(0x1e9)])],_0x31d2db[_0x4d153e(0x4df)]=_0x541691[Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*_0x541691['length'])],_0x31d2db[_0x4d153e(0x227)]=0xc8+Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*0x64)*_0x584480,_0x31d2db[_0x4d153e(0x2bc)]=_0x31d2db['lifeMax'],_0x31d2db['stats'][_0x4d153e(0x57c)]=Math['floor'](0x1e+Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*0xa))*_0x584480,_0x31d2db[_0x4d153e(0x218)][_0x4d153e(0x2d9)]=Math[_0x4d153e(0x295)](0x1+Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*0x2))*_0x584480,_0x31d2db[_0x4d153e(0x369)]=Math[_0x4d153e(0x295)](0x28+Math[_0x4d153e(0x471)]()*0xa),_0x31d2db['ActionPointMax']=0xc8*(0x1+_0x584480/0x2)+Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*0x32),_0x31d2db[_0x4d153e(0x1d8)]=_0x31d2db[_0x4d153e(0x438)],_0x31d2db[_0x4d153e(0x1e5)]=0x2d+Math['floor'](Math[_0x4d153e(0x471)]()*0xb);var _0x3f5001=undefined,_0x1a019b=Math[_0x4d153e(0x295)](Math['random']()*0x64),_0x5692cc=['Wood\x20Stick'],_0x1b1627=_0x5692cc[Math[_0x4d153e(0x295)](Math[_0x4d153e(0x471)]()*_0x5692cc['length'])];return _0x3f5001=new Weapon()[_0x4d153e(0x1fc)]({'name':_0x1b1627}),_0x31d2db[_0x4d153e(0x498)]=_0x3f5001,_0x31d2db[_0x4d153e(0x4b8)]=undefined,_0x31d2db[_0x4d153e(0x326)](),console[_0x4d153e(0x4a1)](_0x4d153e(0x35c)),_0x31d2db;},this[_0x5b6c1a(0x372)]=_0xbffb46=>{var _0x2cdc14=_0x5b6c1a;if(!this[_0x2cdc14(0x359)])return undefined;var _0x1a40e7=0x3e8;while(_0x1a40e7-->0x1){var _0x4d378a=0x1+Math[_0x2cdc14(0x295)](this[_0x2cdc14(0x359)][_0x2cdc14(0x5c5)]*(0.5+0.5*Math['random']())),_0x5a4bc7=0x1+Math[_0x2cdc14(0x295)](this[_0x2cdc14(0x359)][_0x2cdc14(0x2ce)]*Math[_0x2cdc14(0x471)]()),_0x228ece=this[_0x2cdc14(0x34a)][_0x2cdc14(0x19a)]({'x':_0x4d378a,'y':_0x5a4bc7,'size':0x1,'team':TEAM_AI,'color':GOBLIN_COLOR});_0x228ece&&(console['log'](_0x2cdc14(0x3a1)+[_0x4d378a,_0x5a4bc7]),_0x1a40e7=0x0);}if(!_0x228ece)return undefined;var _0x33c1e9=PLAYER_FACE_IMG['filter'](_0x3c4fd4=>_0x3c4fd4[_0x2cdc14(0x5f8)](_0x2cdc14(0x337))),_0x4ebe4d=PLAYER_BODY_IMG[_0x2cdc14(0x525)](_0x1ef686=>_0x1ef686[_0x2cdc14(0x5f8)](_0x2cdc14(0x337)));_0x228ece[_0x2cdc14(0x3d5)]=_0x2cdc14(0x337),_0x228ece[_0x2cdc14(0x3f5)]=_0x33c1e9[Math[_0x2cdc14(0x295)](Math['random']()*_0x33c1e9[_0x2cdc14(0x1e9)])],_0x228ece[_0x2cdc14(0x4df)]=_0x4ebe4d[Math[_0x2cdc14(0x295)](Math[_0x2cdc14(0x471)]()*_0x4ebe4d[_0x2cdc14(0x1e9)])],_0x228ece[_0x2cdc14(0x227)]=0xf+Math[_0x2cdc14(0x295)](Math[_0x2cdc14(0x471)]()*0x14)*_0xbffb46,_0x228ece[_0x2cdc14(0x2bc)]=_0x228ece['lifeMax'],_0x228ece[_0x2cdc14(0x218)][_0x2cdc14(0x57c)]=Math[_0x2cdc14(0x295)](0x5+Math[_0x2cdc14(0x295)](Math[_0x2cdc14(0x471)]()*0x3))*_0xbffb46,_0x228ece['stats']['Dexterity']=Math[_0x2cdc14(0x295)](0x5+Math[_0x2cdc14(0x295)](Math[_0x2cdc14(0x471)]()*0x3))*_0xbffb46,_0x228ece['speed']=Math[_0x2cdc14(0x295)](0x78+Math[_0x2cdc14(0x471)]()*0x14),_0x228ece['ActionPointMax']=0x46*_0xbffb46+Math[_0x2cdc14(0x295)](Math['random']()*0x14),_0x228ece[_0x2cdc14(0x1d8)]=_0x228ece[_0x2cdc14(0x438)],_0x228ece['movePCost']=0xf+Math['floor'](Math['random']()*0x3);var _0x1dbb86=undefined,_0x1aea3b=Math[_0x2cdc14(0x295)](Math['random']()*0x64),_0x621551=[_0x2cdc14(0x260),_0x2cdc14(0x41e)],_0x88f1d8=_0x621551[Math[_0x2cdc14(0x295)](Math[_0x2cdc14(0x471)]()*_0x621551['length'])];return _0x1dbb86=new Weapon()[_0x2cdc14(0x1fc)]({'name':_0x88f1d8}),_0x228ece[_0x2cdc14(0x498)]=_0x1dbb86,_0x228ece[_0x2cdc14(0x4b8)]=undefined,_0x228ece['generateCapacity'](),console[_0x2cdc14(0x4a1)](_0x2cdc14(0x35c)),_0x228ece;},this[_0x5b6c1a(0x5f3)]=_0x2fd8fc=>{var _0x241194=_0x5b6c1a;if(!this[_0x241194(0x359)])return undefined;var _0x57badd=world[_0x241194(0x4d5)]['playerColor'];TEAM_AI_COLOR={'r':(_0x57badd['r']+0x7d)%0x100,'g':(_0x57badd['g']+0x7d)%0x100,'b':(_0x57badd['b']+0x7d)%0x100};var _0x5a1b1f=0x3e8;while(_0x5a1b1f-->0x1){var _0x5afad0=0x1+Math[_0x241194(0x295)](this[_0x241194(0x359)][_0x241194(0x5c5)]*(0.5+0.5*Math[_0x241194(0x471)]())),_0x2d72bd=0x1+Math[_0x241194(0x295)](this[_0x241194(0x359)][_0x241194(0x2ce)]*Math[_0x241194(0x471)]()),_0x57640e=this[_0x241194(0x34a)]['createPlayer']({'x':_0x5afad0,'y':_0x2d72bd,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x57640e&&(console['log'](_0x241194(0x3a1)+[_0x5afad0,_0x2d72bd]),_0x5a1b1f=0x0);}if(!_0x57640e)return undefined;var _0x27dbdc=PLAYER_FACE_IMG['filter'](_0x42d9eb=>_0x42d9eb['startsWith'](_0x241194(0x27e))),_0x16d9ed=PLAYER_BODY_IMG[_0x241194(0x525)](_0x1cada7=>_0x1cada7['startsWith']('human'));_0x57640e[_0x241194(0x3d5)]=_0x241194(0x590),_0x57640e['face_type']=_0x27dbdc[Math[_0x241194(0x295)](Math[_0x241194(0x471)]()*_0x27dbdc[_0x241194(0x1e9)])],_0x57640e[_0x241194(0x4df)]=_0x16d9ed[Math[_0x241194(0x295)](Math[_0x241194(0x471)]()*_0x16d9ed[_0x241194(0x1e9)])],_0x57640e[_0x241194(0x227)]=0x50*_0x2fd8fc+Math['floor'](Math[_0x241194(0x471)]()*0x14),_0x57640e[_0x241194(0x2bc)]=_0x57640e[_0x241194(0x227)],_0x57640e[_0x241194(0x218)][_0x241194(0x57c)]=0xa+Math[_0x241194(0x295)](Math[_0x241194(0x295)](Math['random']()*0xa))*_0x2fd8fc,_0x57640e[_0x241194(0x218)][_0x241194(0x2d9)]=0xa+Math[_0x241194(0x295)](Math[_0x241194(0x295)](Math[_0x241194(0x471)]()*0xa))*_0x2fd8fc,_0x57640e[_0x241194(0x369)]=Math['floor'](0x5a+Math['random']()*0x14*_0x2fd8fc),_0x57640e['ActionPointMax']=0x50*_0x2fd8fc+Math[_0x241194(0x295)](Math[_0x241194(0x471)]()*0x28),_0x57640e[_0x241194(0x1d8)]=_0x57640e[_0x241194(0x438)],_0x57640e[_0x241194(0x1e5)]=0xf+Math[_0x241194(0x295)](Math[_0x241194(0x471)]()*0xa);var _0x445a8f=undefined,_0x129329=Math[_0x241194(0x295)](Math[_0x241194(0x471)]()*0x64),_0x28caa2=[_0x241194(0x260),_0x241194(0x41e),_0x241194(0x49f),_0x241194(0x1bb),_0x241194(0x1f6),_0x241194(0x3d9),_0x241194(0x1af)],_0x114572=_0x28caa2[Math[_0x241194(0x295)](Math[_0x241194(0x471)]()*_0x28caa2[_0x241194(0x1e9)])];return _0x445a8f=new Weapon()[_0x241194(0x1fc)]({'name':_0x114572}),_0x57640e[_0x241194(0x498)]=_0x445a8f,_0x57640e[_0x241194(0x4b8)]=undefined,_0x57640e['generateCapacity'](),console[_0x241194(0x4a1)](_0x241194(0x35c)),_0x57640e;},this[_0x5b6c1a(0x4de)]=_0xaea528=>{var _0x1e840d=_0x5b6c1a;if(!this[_0x1e840d(0x359)])return undefined;var _0x2c99b9=0x64;while(_0x2c99b9-->0x1){var _0x376432=0x1+Math['floor'](this[_0x1e840d(0x359)][_0x1e840d(0x5c5)]*(0.5+0.5*Math[_0x1e840d(0x471)]())),_0x5cb414=0x1+Math[_0x1e840d(0x295)](this[_0x1e840d(0x359)][_0x1e840d(0x2ce)]*Math['random']()),_0x1bf68d=this[_0x1e840d(0x34a)]['createPlayer']({'x':_0x376432,'y':_0x5cb414,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x1bf68d&&(console['log']('creating\x20an\x20enemy\x20in\x20'+[_0x376432,_0x5cb414]),_0x2c99b9=0x0);}if(!_0x1bf68d)return undefined;_0x1bf68d['lifeMax']=0x32+_0xaea528*0x4+Math['floor'](Math[_0x1e840d(0x471)]()*0x32),_0x1bf68d['life']=_0x1bf68d[_0x1e840d(0x227)],_0x1bf68d[_0x1e840d(0x218)][_0x1e840d(0x57c)]=0x5+_0xaea528+Math[_0x1e840d(0x295)](Math[_0x1e840d(0x471)]()*0xa),_0x1bf68d[_0x1e840d(0x218)][_0x1e840d(0x2d9)]=0x5+_0xaea528+Math['floor'](Math[_0x1e840d(0x471)]()*0xa),_0x1bf68d['speed']=0x50+_0xaea528*0x1+Math[_0x1e840d(0x295)](Math['random']()*0x50),_0x1bf68d[_0x1e840d(0x438)]=0x64+Math['floor'](Math[_0x1e840d(0x471)]()*0x32)+_0xaea528,_0x1bf68d[_0x1e840d(0x1d8)]=_0x1bf68d['ActionPointMax'],_0x1bf68d[_0x1e840d(0x1e5)]=0x14-0x4+Math[_0x1e840d(0x295)](Math['random']()*0xf-_0xaea528/0x3);if(_0x1bf68d[_0x1e840d(0x1e5)]<0xa)_0x1bf68d[_0x1e840d(0x1e5)]=0xa;var _0x1d5b70=undefined,_0xe2452c=Math[_0x1e840d(0x295)](Math[_0x1e840d(0x471)]()*0x64);if(_0xaea528<0x5)_0x1d5b70=undefined;else{if(_0xe2452c+_0xaea528*0x2>0x50)_0x1d5b70=new Weapon()[_0x1e840d(0x4e6)]();}_0x1d5b70=new Weapon()[_0x1e840d(0x4e6)](),_0x1bf68d['weapon']=_0x1d5b70;var _0x5ed52a=undefined,_0xe2452c=Math[_0x1e840d(0x295)](Math['random']()*0x64);if(_0xaea528<0x5)_0x5ed52a=undefined;else{if(_0xe2452c+_0xaea528*0x2>0x50)_0x5ed52a=new Armor()[_0x1e840d(0x2e0)]();}return _0x5ed52a=new Armor()[_0x1e840d(0x2e0)](),_0x1bf68d['armor']=_0x5ed52a,_0x1bf68d[_0x1e840d(0x326)](),console[_0x1e840d(0x4a1)](_0x1e840d(0x35c)),_0x1bf68d;},this[_0x5b6c1a(0x1bf)]=(_0x4a6683,_0x5b1cbf)=>{var _0x268547=_0x5b6c1a;if(!_0x4a6683||!_0x5b1cbf||!_0x5b1cbf[_0x268547(0x30a)]||!_0x5b1cbf[_0x268547(0x30a)][_0x268547(0x54f)])return;this['map']=new BattleMap(0x19,0x6+0x3*_0x4a6683[_0x268547(0x1e9)]),this[_0x268547(0x359)][_0x268547(0x52a)](),this['map']['generateMap'](),this[_0x268547(0x34a)]=new PlayersManager(),this[_0x268547(0x34a)]['loadPlayerDefaultImgs'](),this[_0x268547(0x34a)]=this['players'],this[_0x268547(0x34a)][_0x268547(0x1df)]=this[_0x268547(0x4f1)][_0x268547(0x43b)][_0x268547(0x330)],this[_0x268547(0x34a)][_0x268547(0x5fd)]=this[_0x268547(0x4f1)][_0x268547(0x43b)][_0x268547(0x34a)];var _0x28df2e=0x3;for(var _0x29b32c in _0x4a6683){var _0x2f21c7=_0x4a6683[_0x29b32c];this['players']['createPlayerFromVillage']({'x':0x3,'y':_0x28df2e,'player':_0x2f21c7}),_0x28df2e+=0x3;}var _0x21b509=_0x5b1cbf[_0x268547(0x30a)][_0x268547(0x54f)];for(var _0x29b32c in _0x21b509){for(var _0x4b69be=0x0;_0x4b69be<_0x21b509[_0x29b32c]['nb'];_0x4b69be++)switch(_0x21b509[_0x29b32c][_0x268547(0x475)]){case _0x268547(0x582):this[_0x268547(0x372)](_0x21b509[_0x29b32c][_0x268547(0x5be)]);break;case _0x268547(0x45c):this[_0x268547(0x3a0)](_0x21b509[_0x29b32c][_0x268547(0x5be)]);break;case _0x268547(0x590):this['create_brigand_on_map'](_0x21b509[_0x29b32c][_0x268547(0x5be)]);break;}}this[_0x268547(0x359)][_0x268547(0x532)]();},this[_0x5b6c1a(0x21b)]=()=>{var _0x648b46=_0x5b6c1a;if(this[_0x648b46(0x359)])this[_0x648b46(0x359)][_0x648b46(0x21b)]=!![];if(this[_0x648b46(0x21e)])this[_0x648b46(0x21e)]['needRedraw']=!![];if(this[_0x648b46(0x517)])this[_0x648b46(0x517)]['needRedraw']=!![];if(this[_0x648b46(0x2eb)])this['MenuUI'][_0x648b46(0x21b)]=!![];};},PLAYER_ID=0x3e8,document[_0x492d20(0x4b5)]=rightClick;function rightClick(_0x4d1fd8){var _0x237192=_0x492d20;_0x4d1fd8[_0x237192(0x267)]();}GAME_VERSION='0.0.5';(localStorage[_0x492d20(0x1e9)]==0x0||localStorage[_0x492d20(0x2b9)]!=GAME_VERSION)&&(localStorage['clear'](),localStorage['version']=GAME_VERSION);var WORLD={},world;window[_0x492d20(0x531)]=function(){var _0x3e5a95=_0x492d20;const _0xad114f=new CanvasManager();_0xad114f[_0x3e5a95(0x51f)](_0x3e5a95(0x200),0x0),_0xad114f['addCanvas'](_0x3e5a95(0x34a),0x1),_0xad114f[_0x3e5a95(0x51f)](_0x3e5a95(0x539),0x2),_0xad114f[_0x3e5a95(0x51f)](_0x3e5a95(0x330),0x3),_0xad114f['addCanvas'](_0x3e5a95(0x21e),0x4),world=new World(_0xad114f),window[_0x3e5a95(0x418)]=world,world['init']();var _0x57e46a=new Date()[_0x3e5a95(0x248)]();setInterval(()=>{var _0x5288cd=_0x3e5a95;if(!world||!world[_0x5288cd(0x214)])return;var _0xa7b81e=new Date()[_0x5288cd(0x248)]();if(world[_0x5288cd(0x21e)])world[_0x5288cd(0x21e)][_0x5288cd(0x5d4)]=Math[_0x5288cd(0x295)](0x3e8/(_0xa7b81e-_0x57e46a));_0x57e46a=_0xa7b81e;if(world[_0x5288cd(0x34a)]&&world[_0x5288cd(0x34a)][_0x5288cd(0x281)]&&world['players'][_0x5288cd(0x281)]['team']==TEAM_AI&&!world[_0x5288cd(0x34a)][_0x5288cd(0x281)]['AI']['turnFinished']){var _0xb225e4=world[_0x5288cd(0x34a)][_0x5288cd(0x306)][_0x5288cd(0x521)](_0x3f0337=>_0x3f0337['animation'][_0x5288cd(0x1e9)]>0x0);!_0xb225e4&&(_0xb225e4=world[_0x5288cd(0x34a)]['Playerturn'][_0x5288cd(0x444)](),console[_0x5288cd(0x4a1)](_0x5288cd(0x5f6)+_0xb225e4),_0xb225e4&&(world[_0x5288cd(0x34a)][_0x5288cd(0x281)]['AI']['turnFinished']=!![],world[_0x5288cd(0x34a)][_0x5288cd(0x1c0)]()));}world['Controler']['CheckControlInput'](),world[_0x5288cd(0x359)]&&world['map'][_0x5288cd(0x21b)]&&(_0xad114f[_0x5288cd(0x43b)]['mapFloor']['GetCanvasPos'](),_0xad114f[_0x5288cd(0x43b)][_0x5288cd(0x200)]['cleanCanvas'](),_0xad114f[_0x5288cd(0x43b)][_0x5288cd(0x539)]['GetCanvasPos'](),_0xad114f['canList']['mapTopElem']['cleanCanvas'](),world['map'][_0x5288cd(0x240)](_0xad114f[_0x5288cd(0x43b)][_0x5288cd(0x200)][_0x5288cd(0x33d)]),world[_0x5288cd(0x359)][_0x5288cd(0x3ba)](_0xad114f[_0x5288cd(0x43b)][_0x5288cd(0x200)],_0xad114f['canList'][_0x5288cd(0x539)],_0xad114f[_0x5288cd(0x43b)]['mapUI'])),world[_0x5288cd(0x34a)]&&(_0xad114f[_0x5288cd(0x43b)][_0x5288cd(0x34a)][_0x5288cd(0x22e)](),_0xad114f[_0x5288cd(0x43b)]['players']['cleanCanvas'](),world[_0x5288cd(0x34a)][_0x5288cd(0x36f)](),scale_changed=![]),world[_0x5288cd(0x21e)]&&(world[_0x5288cd(0x21e)]['CheckInfoWindow'](![]),world[_0x5288cd(0x21e)]['needRedraw']&&world[_0x5288cd(0x21e)][_0x5288cd(0x432)]()),world[_0x5288cd(0x517)]&&(world['villageUI'][_0x5288cd(0x571)](![]),world['villageUI'][_0x5288cd(0x21b)]&&world[_0x5288cd(0x517)][_0x5288cd(0x519)]()),world[_0x5288cd(0x2eb)]&&(world[_0x5288cd(0x2eb)][_0x5288cd(0x571)](![]),world[_0x5288cd(0x2eb)][_0x5288cd(0x21b)]&&world['MenuUI']['draw_menu']());},0x14);};