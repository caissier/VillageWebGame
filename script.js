function _0x4131(_0x52c5fc,_0x97276){var _0xe7c00e=_0xe7c0();return _0x4131=function(_0x413163,_0x2150f7){_0x413163=_0x413163-0x139;var _0x5c40b9=_0xe7c00e[_0x413163];return _0x5c40b9;},_0x4131(_0x52c5fc,_0x97276);}var _0x30a6b3=_0x4131;(function(_0x812cff,_0x14c0a6){var _0x183698=_0x4131,_0x15a31d=_0x812cff();while(!![]){try{var _0x35f6db=-parseInt(_0x183698(0x1d7))/0x1*(parseInt(_0x183698(0x1ce))/0x2)+-parseInt(_0x183698(0x2f0))/0x3*(parseInt(_0x183698(0x2ae))/0x4)+-parseInt(_0x183698(0x27d))/0x5+-parseInt(_0x183698(0x432))/0x6+parseInt(_0x183698(0x3a5))/0x7*(-parseInt(_0x183698(0x319))/0x8)+-parseInt(_0x183698(0x335))/0x9*(-parseInt(_0x183698(0x2ef))/0xa)+parseInt(_0x183698(0x2dd))/0xb;if(_0x35f6db===_0x14c0a6)break;else _0x15a31d['push'](_0x15a31d['shift']());}catch(_0x375024){_0x15a31d['push'](_0x15a31d['shift']());}}}(_0xe7c0,0xba454),SoundManager=function(){var _0x2c66fb=_0x4131;this[_0x2c66fb(0x1f3)]=[],this[_0x2c66fb(0x4fa)]='./music/',this[_0x2c66fb(0x2d2)]=_0x1ffafc=>{var _0x4dcdf4=_0x2c66fb;if(this[_0x4dcdf4(0x1f3)][_0x1ffafc]&&this['sounds'][_0x1ffafc][_0x4dcdf4(0x538)])return;var _0x5e9673=new Audio(this[_0x4dcdf4(0x4fa)]+_0x1ffafc+'.mp3');this[_0x4dcdf4(0x1f3)][_0x1ffafc]=_0x5e9673;},this[_0x2c66fb(0x4b4)]=(_0x2aca5c,_0x5ca222,_0x5bbd1d)=>{var _0xfea757=_0x2c66fb;if(!this[_0xfea757(0x1f3)][_0x2aca5c])this['LoadSound'](_0x2aca5c);if(!_0x5bbd1d&&!this[_0xfea757(0x1f3)][_0x2aca5c][_0xfea757(0x4dd)])this[_0xfea757(0x1f3)][_0x2aca5c][_0xfea757(0x203)]=0x0;if(_0x5ca222)this[_0xfea757(0x1f3)][_0x2aca5c]['loop']=!![];this[_0xfea757(0x1f3)][_0x2aca5c][_0xfea757(0x192)]();},this[_0x2c66fb(0x495)]=_0x4a093e=>{var _0x37c409=_0x2c66fb;this[_0x37c409(0x1f3)][_0x4a093e]&&(this[_0x37c409(0x1f3)][_0x4a093e][_0x37c409(0x146)](),this['sounds'][_0x4a093e][_0x37c409(0x203)]=0x0);};});function isInRect(_0x2cc545,_0x12c785,_0x5201fd){if(_0x2cc545===undefined||_0x12c785===undefined||_0x5201fd['ax']===undefined||_0x5201fd['ay']===undefined||_0x5201fd['bx']===undefined||_0x5201fd['by']===undefined)return![];if(_0x5201fd['ax']>_0x5201fd['bx']){var _0x5d9daf=_0x5201fd['ax'];_0x5201fd['ax']=_0x5201fd['bx'],_0x5201fd['bx']=_0x5d9daf;}if(_0x5201fd['ay']>_0x5201fd['by']){var _0x5d9daf=_0x5201fd['ay'];_0x5201fd['ay']=_0x5201fd['by'],_0x5201fd['by']=_0x5d9daf;}if(_0x2cc545>_0x5201fd['ax']&&_0x2cc545<_0x5201fd['bx']&&_0x12c785>_0x5201fd['ay']&&_0x12c785<_0x5201fd['by'])return!![];return![];}function testCB(_0x69686e){var _0x202379=_0x4131;if(!_0x69686e)console['log'](_0x202379(0x2c2));console['log'](_0x202379(0x160)+_0x69686e['x']+'\x20'+_0x69686e['y']),map_test[_0x202379(0x53d)][_0x69686e['x']][_0x69686e['y']]=(map_test['mapBlock'][_0x69686e['x']][_0x69686e['y']]+0x1)%0x4,scale_changed=!![];}function _0xe7c0(){var _0x5ac507=['SelectingBlockAction','ApplyListPerkUp','Events','addBowWorkshop','player_test3/village/resource','screenAy','draw_playerTab','draw_map','draw_resource_tab','./img/','test_start_battle','Vincent\x20Dougherty','scale','get_next_path','extand\x20the\x20Turns\x20window','posBlocky','face_1','substring','inputclick','createImgFromData','wood\x20Stick','Move\x20AP\x20cost\x20:\x20','get_next_turn','slashing','lastTime','Imgs','text','UIturn','creating\x20an\x20enemy\x20in\x20','innerHeight','small_woodBow','createPlayer','createNewWeapon','lvlupList','drawImage','layerLen','\x20/\x20','paused','\x20missed\x20attack\x20(','Kingston\x20Howell','Kevin\x20Wiggins','pos_y','innerWidth','Grady\x20Oâ€™Neal','players','bodyPartImgReady','Music','map','center\x20on\x20player','initImgs','\x0a-recolt\x20resource\x20in\x20the\x20forest','batSelected','no\x20block','\x27Footlight\x20MT\x20Light\x27','mode','get\x20x2\x20more\x20wood\x20in\x20forest','Numpad','lenx','LoadPlayerVillageImage','./img/mapBotElement/','unequip\x20weapon','showUI','createUI','Ximena\x20Zimmerman','botElem','End\x20Turn','src','./img/mapFloor/','draw_building_tab','ActionPoint','keydown','attack\x20with\x20:\x20','weapon\x20:\x20','tabs','addTextZone','roof_0','createBatToBuildList','bot','actionCost','keyDown','\x20don\x27t\x20have\x20enought\x20Action\x20Point','burn\x20coal,\x20transform\x20\x27raw\x20copper\x27\x20into\x20\x27metal\x20copper\x27','metal_axe','get_block_at_BlockRange','Emmalyn\x20Spence','turnFinished','absolute','Enter','#555555','pixel_endx','craft','cancel_menu','path','_icon','costAP','food_icon','cost','pos_startx','unequip\x20armor','Stephanie\x20Bradley','weapon\x20equiped\x20:\x20\x27','let\x20do\x20it','addHorizontalElem','text_color','MenuUI','can\x27t\x20create\x20getColorImage','smashing','blocking_end_turn','init',']\x20distance\x20around\x20the\x20target','this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it','addCanvas','Osef','NumpadAdd','no\x20description','keyUp','anonymous','job','rect','Queen\x20Watson','Strenght\x20Smashing\x20weapon,\x20can\x20be\x20uppgraded','kill_player','mozfullscreenchange','Stefan\x20Christian','village','checkHaveResources','workshop_icon','Wood\x20Armor','readyState','Key_Input','body_3','endFight','SmeltCopper','mapBlock','PlayerInfodisplay','px\x20','moveTo','isDead','ReturnBlockTargeted','lineTo','animation','fletching\x20station','closeFullscreen','Malachi\x20Garza','Stone\x20Spear','fillRect','mouseLight','enemy\x20created\x20succesfully','pause','getChanceOfHit','getDistToABlock','pop','New\x20Turn\x20!\x20','TryUpgrade','Lvl\x20up\x20+1','createNewPlayer','draw_Image','forge','Forge','\x0aSurvived\x20','UIsystem','Metal\x20Axe','draw_ItemsTab','dmgArmor','doubled\x20wood','extand\x20the\x20event\x20window','\x20lost\x20','addWorkShop','webkitfullscreenchange','size','oncontextmenu','copper_hammer','tryLvLup','Players','change\x20block\x20','KeyA','color','len_x','ready','callback','strokeColor','click_buton_check','bodyPartImg','letter_per_line','highlightBlock','Houses','name','#5500ff','GetMovePrice','drawProjectiles','Copper\x20Cleaver','\x20for\x20','info','Meilani\x20Olson','Ares\x20Long','txts','highlightZone','key_buton_check','addGauge','nb_houses','Start\x20Phase\x202','DrawTabInfoPlayer','sword_2h','\x20AP','open','get\x20more\x20resources\x20in\x20the\x20mine','take_damage','Copper\x20Hammer','Braden\x20Lucero','MessageSystem','Halo\x20Knapp','eventPage',']\x20blocks\x20behind\x20the\x20target','mapUI','hand\x20hit','getBlocksAtRange','Dexterity\x20Slashing\x20weapon,\x20can\x20be\x20uppgraded','\x20weeks','player\x20','ctx','Belek','getZoneAdjacentToPlayer','marge','showUIsystem','play','#ff080888','#0000ff88','unequipWeapon','unequipItem','sand','\x20month\x20','mapTopElem','Attack\x20with\x20','blocksize_x','sin','Build\x20new\x20batiments\x20here','draw_UI_EventMessage','\x20Action\x20Point\x20Max\x20(Battle)\x20','\x27s\x20','\x20is\x20loaded','createRandomArmor','wood_arrow','highlight','#ff0000','Life\x20Max\x20:\x20','constructionSelected','\x27\x20have\x20started','life\x20','txt_color','cant\x20load\x20image\x20\x22','Move\x20your\x20player\x20up/right/down/left','get\x20resources','movePCost','Callahan\x20Schmitt','deltaY','\x20Action\x20Points\x20left','getNextTurnList','Algerian','damages','cleanCanvas','unequipArmor','crushing','input','loadItemsFromInput','big_tree_0','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','centerOnBlock','coal','attack_metal_slash','Lara\x20Barnett','Playerturn','Jamison\x20Pace','#0000fb','Gruu','UIturnExpanded','canvasPlayer','\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building','button','changed\x20','face_2','#ff880022','GetPageSelector','KeyW','\x20received\x20damage\x20:\x20','2xonNmE','key','stat','style','Start\x20a\x20new\x20game','#17bdbc','generateMap','page\x20down','Jakobe\x20Hardin','969821RWeOAh','GoToCraftTab','0.0.3','craft\x20or\x20upgrade\x20weapons\x20here','Argoo','Collin\x20Snow','end\x20of\x20the\x20combat','pixel_starty','drawImageMirrorRotateCenter','createProjectilAnimation','getChanceUppgrade','DefaultImgsReady','#0000ff','\x20is\x20building\x20\x27','equip\x20armor','blocks','clientY','playersPageOffset','bush','\x0a-affect\x20players\x20to\x20a\x20building','Start\x20Battle','\x20\x20During\x20Phase\x201,\x20you\x20can','enemy)','\x20can\x20lvl\x20up','drawImageRotate','miner_helmet','#a52a2a','InfoWindowPos','sounds','the\x20place\x20for\x20craft\x20bow\x20and\x20arrow','toFixed','background','\x20action\x20points','Img','spawn\x20player','width','toDataURL','InfoWinfowPos','batBuildMenu','lvl\x20','start\x20message\x20system','bonusPopulation','workshop','get_block_at_DistRange','currentTime','beginPath','New\x20Building','moving','you\x20don\x27t\x20have\x20enought\x20resources','wheel','\x20is\x20mining\x20resource\x20for\x20','botright_block','code','textBaseline','damage\x20after\x20armor\x20reduction\x20:\x20','Zaid\x20Terry','Stone\x20Axe','addEventListener','itemType','check\x20protect\x20','sortButo','hit\x20the\x20target\x20behind','weapon','mapImgsBot','stats','Sawmill','fillText','go\x20to\x20craft\x20tab','pos_x','resized','spear_attack','itemSelected','colorStroke','\x20\x20Info\x20\x20','getContext','onload','rangeMin','checkNextUpgrade','addButton','addHouse','getBoundingClientRect','lvl\x20up','can\x27t\x20display\x20weapon\x20:\x20','putImageData','Load\x20saved\x20game','Lilianna\x20Doyle','getTime','colorText','Phase\x202\x20:\x20Action\x20Players','\x20\x20\x20\x20\x20Info\x20:','\x27Comic\x20Sans\x20MS\x27','hand','mine','mouse_move_check','bat','\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20','addForge','EventcloseFullscreen','Jadiel\x20McDonald','getBlockAdjacent','\x0a-hit\x20the\x20selected\x20block','drawUI','hammerMetal','armor/','Player','armor','delete_player','pixel_endy','getBlocksAtRangeFromPlayer','start\x20construction','Speed\x20:\x20','#da1d81','createRandomWeapon','removeItem','big_tree_1','height','ff0000','a->Z','Matthew\x20Beil','left','action\x20point\x20:\x20','right','under\x20construction\x20:\x20','max_letter','villageAP_icon','week','Items','Metal\x20Sword','\x0a-hit\x20between\x20[','Screen','playerDefaultImgs','floor','loadImg','#55aaaa','#FFAD1C','Shepherd\x20Park','Cole\x20Clayton','buttonList','get\x20more\x20resources\x20in\x20mine','TryCraftItem','\x20to\x20the\x20village','Where\x20your\x20players\x20works','year\x20','msExitFullscreen','Cade\x20Patton','mapFloor','createNewArmor','test\x20zone\x20','\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings','Bonnie\x20Bishop','imgColored','addMessage','\x20of\x20type\x20','splice','Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn','generateBasicPlayer','batPageOffset','loadBatsFromInput','getZoneAtAbsRangeToPlayer','Digit','Success\x20\x27','projectilAnimation','where-the-brave-may-live-forever','UI_list','sea','Mae\x20Gentry','1285885IfbsIp','#11ff33','getDateText','#000000ff','CheckMoveTo\x20:\x20invalid\x20cost','affectPlayerToBat','\x20is\x20smelting\x20copper\x20for\x20','repeat','go\x20to\x20player\x20tab\x20for\x20lvl\x20up','Your\x20Village\x20is\x20attacked\x20!!','type','#00000000','addResource','click','mapImgsFloor','rock','Capri\x20Glenn','selector','KeyF','recoltForestResouce','Dexterity','letter_size','\x0a-hit\x20[','Controler','Annalise\x20Carson','i\x20am\x20in\x20','key_event','check\x20dmg\x20:\x20','generateBasicVillage','AlphaTransparencyByPixel','fps','loadPlayerDefaultImgs','Linda\x20Castillo','zone_target_area','can\x27t\x20create\x20this\x20weapon','./img/mapTopElement/','#ffffff88','error\x20input\x20create\x20player','batSortModeList','#00dd00','startTime','text_font','craftPageOffset','displayMessageEvent','invalid\x20craft','\x27\x20is\x20finished','posBlockx','sqrt','getImageData','333204yICBEO','armor\x20equiped\x20:\x20','\x0aLife\x20Max\x20:\x20','posA','getZoneAdjacentToPlayerByDir','getMouseInput','item','lvlup','villageActionPointMax','getBlockUnderPlayer','initMapTopElement','add\x20player','#000000aa','\x20turn\x20have\x20started','Aufait','bonus','get_block_by_pixel','CheckMoveTo','topElem','leny','error,\x20no\x20block','copper_cleaver','Skye\x20Ramirez','eventPageOffset','hammer_nails','build_progression','\x20img\x20loaded','\x0aTarget\x20between\x20[','craft\x20woodplank','from','Bow\x20workshop','menuUI','batSortModeId','arrow_projectil','blockSelected','pixel_startx','LoadSound','#666666','callback_data','#d2691e88','\x20damage\x20increase\x20of\x20','resources','getNextUpgrade','callback_actionPlayer','create\x20player\x20in\x20','stone_icon','body_1','35487716JnOoAw','fullscreenElement','upgradeWeapon','log','mouseInfoWindow','\x20players\x20to\x20the\x20battle','\x20is\x20attacking\x20with\x20','#006400','\x20is\x20dead','saw_workshop','ago','getVillageUItext','playerstats','colorFill','pixel_width','ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST','factor','mousePos','10GxxEbK','15nrjkBV','documentElement','Ander\x20Wise','getResourcesTextAndImg','createDatafromImage','saveWorld','\x27Ravie\x27','#1e90ff','Kelvin\x20Fischer','find','stone_spear','face_type','weapon/projectil/','Small\x20Woodbow','bow\x20attack','fillColor','affecting\x20','top','posB','draw_tab_selector','Alexia\x20Anderson','smelt\x20copper','Hazel\x20Crawford','\x20week\x20','Movement\x20cost\x20:\x20','parse','Alaina\x20Bradford','reducing\x20','#ffff66','attack_bigaxe','\x20:\x20','Giana\x20Hudson','buto_txt','addWeaponToVillageInventory','bow','upgrades_callback','zoneTarget','./img/player_test3/village/villageUI_patern.png','decode','Maci\x20Alvarado','resource','8440DMWTxK','getWeaponAttackDescription','Setple','sawmill_song','abs','ArrowDown','age','CheckMoveTo\x20:\x20invalid\x20block','block','phase','you\x20lost\x20:','Mira\x20Acevedo','#000000','drawRect','preventDefault','Greyson\x20Walker','Kadence\x20Castaneda','craftSelected','#ff66ff','CheckControlInput','page','screenBx','\x27Snap\x20ITC\x27','villageActionPoint','\x27Algerian\x27','playerList','Zachariah\x20Berg','get_direction_from_pos','10138059SRtJuC','addSawmill','\x20leave\x20','getPlayerIcone','\x20life\x20point','#ffff00','drawImageRotateCenter','more\x20chance\x20to\x20uppgrade\x20a\x20weapon\x20in\x20forge','failed\x20createImgData\x20image','description','Fail\x20!\x27','return','pixel_height','No\x20Name','uppgrade\x20!','Arial','getItemIcone','Tiana\x20Daniel','drawVillageUI','addMine','#f8f8ff88','sound','cut\x20wood\x20faster\x20in\x20forest','#00aaaa','uppgrade','playersSelected','version\x20','life','selecting_block','GoToTabName','image\x20incomplet','fillStyle','under_construction_icon','\x20blocks','#663300','battle','attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','handImg','initMapBotElement','page\x20up','measureText','gauge','APcost','Turn\x20','Peter\x20Tate','getPixelPosition','draw_newTurnPhase','warning','\x0aLvl\x20:\x20','angle','test','capacityList','screenBy','getEquipedWeaponDescription','Richard\x20Lee','get_valid_player_for_craft','rangeMax','gaugeSpeed','getBlocksAtDistRangeFromPlayer','msg','\x20uppgraded\x20to\x20LvL\x20','Turns','keyup','you\x20don\x27t\x20have\x20enought\x20resource','defend_village_icon','players_inside','I\x20will\x20play\x20in\x20','building','player_size','warningEndTurnMessage','#00af0022','getArmorDescription','\x20PA\x20left\x20for\x20finish\x20construction','Phase\x201\x20:\x20Place\x20Players','Alisson\x20Roberson','Kashton\x20McCarty','filter','damage','Forest\x20Exploitation','build','speed\x20','imgs\x20:\x20','drawFillRect','End_Turn','wood_stick','face_0','imgIcon','removeResource','tab','canvas','concat','upgrades','txt','unshift','openFullscreen','craft\x20stuff\x20here','getBatFromPlayer','Aubrielle\x20Farmer','value','\x20joined\x20your\x20village','screenAx','blockTargetingFunction','\x20turn','needRedraw','needUIRedraw','length','weaponAnim','attack','body_0','UIevent','stone_axe','attack\x20animation\x20on\x20the\x20selected\x20block','7105mZRmDz','mousemove','./img/player_test3/','GetColorImage','getLvlUpPerkList','createArmorFromInput','Askip','GameUI','canvasPUI','creating\x20an\x20image\x20:\x20','cos','KeyD','UIplayers','draw_NextTurnTab','Khloe\x20Horn','wood_icon','Andres\x20Sampson','drawGameUI','ChangePosition','\x20have\x20','set_drawing_map','0px','tree_root','smash','Rotate','sword','random','equipItem','Jordan\x20Barker','createWeaponFromInput','Smelter','playAIturn','replace','canList','sort','get_valid_craft_list','player','get_pixel_by_block','equip\x20weapon','serif','GoToForgeTab','TryBuildBat','better\x20than\x20nothing','speed','data','\x20left','Ruth\x20Stout','movement\x20factor\x20x','#00ff00','GetDrawBuildingElement','transform\x20wood\x20into\x20woodplank','shaken_bush','metal_sword','End\x20of\x20the\x20battle','drawPlayer','https://discord.gg/bSKtAqwAhc','#55ff00','lvl','\x27Bauhaus\x2093\x27','coal_icon','#0088ff','sawmill','GetBatBuildMenuSelector','Keegan\x20Doyle','batsToBuild','forest_icon','dodge','equipArmor','draw_villagePlayerUi','Daisy\x20Robinson','CheckInfoWindow','\x0aYour\x20village\x20consumed\x20','list','moveCost','\x20incoming\x20damage','\x20is\x20attacking\x20(no\x20weapon)','body_2','Kenji\x20McLaughlin','left\x20mouse\x20:\x0a','smelter','GetCanvasPos','pUI_need_redraw','add\x20some\x20blocks\x20','getKeyInput','windowInfo','\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27','strokeStyle','rotate','#ffffff','complete','mapImgsTop','getMessageSystem','get_valid_action_in_affected_building','createElement','can\x27t\x20delete\x20this\x20player','return\x20to\x20the\x20start\x20of\x20the\x20last\x20phase\x201\x20you\x20played','this\x20will\x20delete\x20your\x20current\x20save','draw_menu','projectilName','Denver\x20Leal','Stone\x20Pickaxe','villageSave','Discord','weed','changeMapView','Jade\x20Butler','recolteMine','duration','player_test3/village/building','Mine','addSmelter','drawMessageSystemEvents','can\x27t\x20add\x20this\x20weapon','ArrowRight','generateRandomElement','draw_battlePhase','ActionPointMax','dir','font','middle','elmList','body/','UpgradingHouses','bow_workshop_icon','itemsPageOffset','bad\x20input\x20remove\x20resource','setTransform','Defend\x20Village','#a01454','body_type','drawTextCenter','round','Action\x20Point\x20:\x20','getMoveCost','needColor','CheckMoveTo\x20:\x20invalid\x20Input','craft\x20weapons','drawPlayers','generateCapacity','Marisol\x20Humphrey','check\x20next\x20block','5251890xWOrVv','initMapFloorImage','Azrael\x20Ali','img','img\x20','No\x20player\x20selected','add\x20to\x20building','txt_size','Attack','Dakari\x20Poole','calculatDamageFromAttack','atan2','topleft_block','textAlign','fullness','version','stone_pickaxe','foodconsumedLastTurn','projectil','NumpadSubtract','look','UIeventExpanded','Dennis\x20Parrish','bats','fullScreen','shift','the\x20construction\x20of\x20\x27','upgradeLvl','block\x20','Mine\x20the\x20ground\x20get\x20resources','initVillage','drawTextTopLeft','\x0a--\x20x','lineMax','body','invalid\x20player','len_y','playerSelected','\x20by\x20','ArrowUp','#dddddd','#0320fb','projectilSpeed','string','LoadPlayerImage','piercing','villageUI','zone','showUIplayers','.png','#00D238','lifeMax','move','Miner\x20helmet','face_3','can\x27t\x20load\x20','mouseup','createPlayerFromVillage','Strength','nextTurn','Phase\x201\x20started','draw_craft_menu','then','addArmorToVillageInventory','getBlockBehindTarget','playerInfoMenu','create_random_enemy_on_map','smelt\x20raw\x20mineral\x20into\x20metal','activeTabId','DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','getPlayerByBlock','txt_font','Your\x20village\x20is\x20attacked\x20!','you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village','pos_starty','Exploit\x20resource\x20from\x20the\x20forest','\x27\x20uppgrading','Vada\x20Conley','GetMoveDir','position','GetNextTurnButton','test\x20turn\x20finished\x20:\x20','\x27Chiller\x27','addDefendVillage','\x20can\x20lvl\x20up\x20++','\x20x\x20','clientX','hello\x20world','catch','Phase\x202\x20started','CostMovingPlayer','Next\x20Turn','Show','removePlayerFromBat','playerColor','chance\x20to\x20hit\x20:\x20%','mouseWasOnMouseLightLastDraw','\x0aVillage\x20max\x20population\x20=\x20','damageBase','stopSound','alt','weapon/','David\x20Grant','webkitExitFullscreen','the-britons','\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for','team','spear','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','#888888','ControlLeft','anim','#ef0bc322','init_check_mouse_move','\x20-\x20','center','populationMax','get_pixel_by_pos','push','\x20is\x20not\x20affected\x20to\x20a\x20building','equipWeapon','A\x20big\x20hole\x20in\x20the\x20ground','Zelda\x20Stevens','woodplank_icon','stroke','blocksize_y','createPlayerFromInput','zone_selecting_input','MSFullscreenChange','center_on_selected_player','playSound','Amira\x20Escobar','createPattern','TryMoveTo'];_0xe7c0=function(){return _0x5ac507;};return _0xe7c0();}function getAngleFromTime(_0x294e4e,_0x4186bb,_0x2edec8){var _0x1a4725=_0x4186bb-_0x294e4e;return _0x294e4e+_0x1a4725/0x2+_0x2edec8*_0x1a4725/0x2;}function distBlock(_0x2c39f7,_0x24d585,_0x322b63,_0x3116bb){var _0x1af048=_0x4131,_0x38b5a3=Math['abs'](_0x2c39f7-_0x322b63),_0x356930=Math[_0x1af048(0x31d)](_0x24d585-_0x3116bb);if(_0x38b5a3>_0x356930)return _0x38b5a3;return _0x356930;}function dist(_0x1343b6,_0x49671b,_0x49f36e,_0x1b5567){var _0x2e8afa=_0x4131,_0x127ef4=Math[_0x2e8afa(0x2ac)]((_0x1343b6-_0x49f36e)*(_0x1343b6-_0x49f36e)+(_0x49671b-_0x1b5567)*(_0x49671b-_0x1b5567));return _0x127ef4;}var obj={'callback':_0x30a6b3(0x367)};World=function(){var _0x1646e1=_0x30a6b3;this['txt']=_0x1646e1(0x489),this[_0x1646e1(0x367)]=()=>{var _0x4d8d1f=_0x1646e1;console[_0x4d8d1f(0x2e0)](this['txt']);};};var world=new World();world[obj[_0x30a6b3(0x165)]](),myImage=function(_0x3b5483,_0x34959b){var _0x2226dc=_0x30a6b3;console[_0x2226dc(0x2e0)](_0x2226dc(0x3ae)+_0x34959b),this[_0x2226dc(0x435)]=new Image(),this[_0x2226dc(0x164)]=![],this['name']=_0x3b5483,this[_0x2226dc(0x435)]['crossOrigin']=_0x2226dc(0x52c),this[_0x2226dc(0x435)][_0x2226dc(0x4fa)]=_0x34959b,this[_0x2226dc(0x435)]['alt']=_0x2226dc(0x1ab)+_0x34959b+'\x22',this[_0x2226dc(0x26d)]=undefined,this['colorColored']=undefined,this[_0x2226dc(0x435)][_0x2226dc(0x316)]()[_0x2226dc(0x470)](()=>{var _0x313972=_0x2226dc;console['log'](_0x313972(0x436)+_0x3b5483+_0x313972(0x1a1)),this[_0x313972(0x164)]=!![],this[_0x313972(0x29a)](0xff,0xff,0xff);if(world[_0x313972(0x460)])world[_0x313972(0x460)][_0x313972(0x39c)]=!![];if(world[_0x313972(0x3ac)])world[_0x313972(0x3ac)][_0x313972(0x39c)]=!![];})[_0x2226dc(0x48a)](_0x26dffa=>{var _0x166168=_0x2226dc;console[_0x166168(0x2e0)](_0x166168(0x469)+this[_0x166168(0x16c)]),console[_0x166168(0x2e0)](_0x26dffa);}),this[_0x2226dc(0x2f4)]=()=>{var _0x1571d4=_0x2226dc;if(!this[_0x1571d4(0x164)])return undefined;const _0x5c4967=document[_0x1571d4(0x402)](_0x1571d4(0x38e));_0x5c4967[_0x1571d4(0x1fa)]=this['img'][_0x1571d4(0x1fa)],_0x5c4967['height']=this['img']['height'];const _0x177e79=_0x5c4967['getContext']('2d');return _0x177e79[_0x1571d4(0x4da)](this['img'],0x0,0x0),_0x177e79[_0x1571d4(0x2ad)](0x0,0x0,this[_0x1571d4(0x435)]['width'],this[_0x1571d4(0x435)][_0x1571d4(0x24a)]);},this['createImgFromData']=_0x3ff0cf=>{var _0x44c115=_0x2226dc;const _0x11a5da=document[_0x44c115(0x402)]('canvas');_0x11a5da[_0x44c115(0x1fa)]=_0x3ff0cf[_0x44c115(0x1fa)],_0x11a5da[_0x44c115(0x24a)]=_0x3ff0cf[_0x44c115(0x24a)];const _0x519af8=_0x11a5da[_0x44c115(0x221)]('2d');_0x519af8['putImageData'](_0x3ff0cf,0x0,0x0),this[_0x44c115(0x435)]=new Image(),this[_0x44c115(0x435)][_0x44c115(0x4fa)]=_0x11a5da[_0x44c115(0x1fb)](),this[_0x44c115(0x435)][_0x44c115(0x496)]=_0x44c115(0x33d),this[_0x44c115(0x435)][_0x44c115(0x316)]()[_0x44c115(0x470)](()=>{var _0x20ea98=_0x44c115;if(world[_0x20ea98(0x460)])world[_0x20ea98(0x460)][_0x20ea98(0x39c)]=!![];if(world[_0x20ea98(0x3ac)])world[_0x20ea98(0x3ac)][_0x20ea98(0x39c)]=!![];});},this['GetColorImage']=(_0x373465,_0x14ea23,_0x246328,_0x3af0f7,_0x281944,_0x21de6c)=>{var _0x56af2e=_0x2226dc,_0x2d59fc=this['createDatafromImage']();if(!_0x2d59fc)return console[_0x56af2e(0x2e0)](_0x56af2e(0x521));for(var _0x35a922=0x0;_0x35a922<_0x2d59fc['height'];_0x35a922++){for(var _0x6ecac6=0x0;_0x6ecac6<_0x2d59fc[_0x56af2e(0x1fa)];_0x6ecac6++){var _0x5bcd13=_0x2d59fc[_0x56af2e(0x3d1)][_0x35a922*(_0x2d59fc[_0x56af2e(0x1fa)]*0x4)+_0x6ecac6*0x4],_0x157428=_0x2d59fc[_0x56af2e(0x3d1)][_0x35a922*(_0x2d59fc[_0x56af2e(0x1fa)]*0x4)+_0x6ecac6*0x4+0x1],_0x27ca82=_0x2d59fc[_0x56af2e(0x3d1)][_0x35a922*(_0x2d59fc[_0x56af2e(0x1fa)]*0x4)+_0x6ecac6*0x4+0x2],_0x5df067=_0x2d59fc[_0x56af2e(0x3d1)][_0x35a922*(_0x2d59fc[_0x56af2e(0x1fa)]*0x4)+_0x6ecac6*0x4+0x3];_0x5bcd13==_0x373465&&_0x157428==_0x14ea23&&_0x27ca82==_0x246328&&(_0x2d59fc[_0x56af2e(0x3d1)][_0x35a922*(_0x2d59fc['width']*0x4)+_0x6ecac6*0x4]=_0x3af0f7,_0x2d59fc[_0x56af2e(0x3d1)][_0x35a922*(_0x2d59fc[_0x56af2e(0x1fa)]*0x4)+_0x6ecac6*0x4+0x1]=_0x281944,_0x2d59fc[_0x56af2e(0x3d1)][_0x35a922*(_0x2d59fc[_0x56af2e(0x1fa)]*0x4)+_0x6ecac6*0x4+0x2]=_0x21de6c);}}const _0x499196=document[_0x56af2e(0x402)]('canvas');_0x499196[_0x56af2e(0x1fa)]=_0x2d59fc[_0x56af2e(0x1fa)],_0x499196[_0x56af2e(0x24a)]=_0x2d59fc[_0x56af2e(0x24a)];const _0x5345f7=_0x499196[_0x56af2e(0x221)]('2d');_0x5345f7[_0x56af2e(0x22a)](_0x2d59fc,0x0,0x0);var _0xb98565=new Image();return _0xb98565['src']=_0x499196[_0x56af2e(0x1fb)](),_0xb98565[_0x56af2e(0x496)]='failed\x20createImgData\x20image\x20Colored',_0xb98565;},this[_0x2226dc(0x29a)]=(_0x3bdb53,_0x49da0d,_0x320c5c)=>{var _0x2e1ed4=_0x2226dc,_0x281ae1=this[_0x2e1ed4(0x2f4)]();if(!_0x281ae1)return undefined;for(var _0x5ef957=0x0;_0x5ef957<_0x281ae1['height'];_0x5ef957++){for(var _0x25e1ec=0x0;_0x25e1ec<_0x281ae1['width'];_0x25e1ec++){var _0x304fb2=_0x281ae1['data'][_0x5ef957*(_0x281ae1[_0x2e1ed4(0x1fa)]*0x4)+_0x25e1ec*0x4],_0x2e5840=_0x281ae1[_0x2e1ed4(0x3d1)][_0x5ef957*(_0x281ae1[_0x2e1ed4(0x1fa)]*0x4)+_0x25e1ec*0x4+0x1],_0x485a8a=_0x281ae1[_0x2e1ed4(0x3d1)][_0x5ef957*(_0x281ae1[_0x2e1ed4(0x1fa)]*0x4)+_0x25e1ec*0x4+0x2],_0x3ea9b8=_0x281ae1[_0x2e1ed4(0x3d1)][_0x5ef957*(_0x281ae1[_0x2e1ed4(0x1fa)]*0x4)+_0x25e1ec*0x4+0x3];_0x304fb2==_0x3bdb53&&_0x2e5840==_0x49da0d&&_0x485a8a==_0x320c5c&&(_0x281ae1[_0x2e1ed4(0x3d1)][_0x5ef957*(_0x281ae1[_0x2e1ed4(0x1fa)]*0x4)+_0x25e1ec*0x4+0x3]=0x0);}}this[_0x2e1ed4(0x4cb)](_0x281ae1);};},createImgFromData=_0x2e124f=>{var _0x9e5594=_0x30a6b3;const _0x41a44a=document['createElement']('canvas');_0x41a44a[_0x9e5594(0x1fa)]=_0x2e124f['width'],_0x41a44a[_0x9e5594(0x24a)]=_0x2e124f[_0x9e5594(0x24a)];const _0x247609=_0x41a44a[_0x9e5594(0x221)]('2d');_0x247609[_0x9e5594(0x22a)](_0x2e124f,0x0,0x0);var _0x18ebd6=new Image();return _0x18ebd6[_0x9e5594(0x4fa)]=_0x41a44a[_0x9e5594(0x1fb)](),_0x18ebd6[_0x9e5594(0x496)]=_0x9e5594(0x33d),_0x18ebd6;},MyUI=function(_0x52b4d7,_0x170615,_0x5bd4f3,_0x577762,_0x245ecf,_0x4ef472,_0xe4fbf1,_0x40b2ff){var _0x507a58=_0x30a6b3;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT='\x27Footlight\x20MT\x20Light\x27',this['x']=_0x170615,this['y']=_0x5bd4f3,this[_0x507a58(0x38e)]=_0x52b4d7,this['marge']=_0x40b2ff?_0x40b2ff:0x5,this['lenx']=_0x577762+0x2*this[_0x507a58(0x190)],this[_0x507a58(0x2c1)]=this[_0x507a58(0x190)],this['elmList']=[],this['scale']=_0x245ecf,this[_0x507a58(0x1f6)]=_0x4ef472?_0x4ef472:undefined,this[_0x507a58(0x4ae)]=_0xe4fbf1?_0xe4fbf1:undefined,this[_0x507a58(0x260)]=[],this[_0x507a58(0x1f2)]=![],this[_0x507a58(0x502)]=(_0x28aa98,_0x422f25,_0x4ee404,_0x30c598,_0xc6c551)=>{var _0x55351e=_0x507a58;this['canvas']['ctx'][_0x55351e(0x41b)]=''+_0x422f25+'px'+_0xc6c551;var _0x216a6d=[];while(_0x28aa98['length']>0x0){var _0x4ad075=0x0;while(_0x28aa98[_0x4ad075]=='\x0a')_0x4ad075++;while(_0x28aa98[_0x4ad075]!='\x0a'&&_0x4ad075<_0x28aa98[_0x55351e(0x39e)]&&_0x4ad075<_0x4ee404)_0x4ad075++;if(_0x4ad075==_0x4ee404){while(_0x28aa98[_0x4ad075]!='\x20'&&_0x4ad075>0x0)_0x4ad075--;}_0x4ad075=_0x4ad075>0x0?_0x4ad075:_0x4ee404;var _0x2963ea=''+_0x28aa98['substring'](0x0,_0x4ad075);while(_0x28aa98[_0x4ad075+0x1]=='\x0a')_0x4ad075++;_0x28aa98=_0x28aa98[_0x55351e(0x4c9)](_0x4ad075),_0x216a6d['push'](_0x2963ea);var _0x527804=this[_0x55351e(0x38e)][_0x55351e(0x18d)]['measureText'](_0x2963ea);if(this['lenx']<_0x527804[_0x55351e(0x1fa)]+0x2*this['marge'])this[_0x55351e(0x4f1)]=_0x527804['width']+0x2*this[_0x55351e(0x190)];this[_0x55351e(0x2c1)]+=_0x422f25+this[_0x55351e(0x190)];}this[_0x55351e(0x41d)][_0x55351e(0x4a8)]({'type':_0x55351e(0x4d2),'txts':_0x216a6d,'letter_size':Math[_0x55351e(0x25a)](_0x422f25),'txt_color':_0x30c598,'text_font':_0xc6c551});},this[_0x507a58(0x178)]=(_0x40f0,_0x50d433,_0x1b4310,_0x4ff879,_0x555a16,_0x291529,_0x3a9397,_0x2564af,_0xe5a98b)=>{var _0x5d2158=_0x507a58;_0xe5a98b=_0xe5a98b?_0xe5a98b:_0x5d2158(0x344),this[_0x5d2158(0x38e)][_0x5d2158(0x18d)][_0x5d2158(0x41b)]=''+_0x555a16+_0x5d2158(0x139)+_0xe5a98b;var _0x39956a=this[_0x5d2158(0x38e)][_0x5d2158(0x18d)][_0x5d2158(0x35d)](_0x40f0);if(_0x39956a>_0x1b4310+0x2*this[_0x5d2158(0x190)])_0x1b4310=_0x39956a+0x2*this[_0x5d2158(0x190)];if(this[_0x5d2158(0x4f1)]<_0x1b4310+0x2*this[_0x5d2158(0x190)])this[_0x5d2158(0x4f1)]=_0x1b4310+0x2*this[_0x5d2158(0x190)];if(_0x4ff879<_0x555a16+0x2*this['marge'])_0x4ff879=_0x555a16+0x2*this[_0x5d2158(0x190)];this[_0x5d2158(0x41d)]['push']({'type':_0x5d2158(0x35e),'txt':_0x40f0,'fullness':_0x50d433,'lenx':_0x1b4310,'leny':_0x4ff879,'letter_size':_0x555a16,'colorFill':_0x291529,'colorStroke':_0x3a9397,'colorText':_0x2564af,'text_font':_0xe5a98b}),this['leny']+=_0x4ff879+this[_0x5d2158(0x190)];},this['addButton']=(_0x5f32ec,_0x522d10,_0x326359,_0x515876,_0x27e49f,_0x36edf4,_0x44ffda,_0x45c281,_0x521698,_0x158c5d,_0xfca363)=>{var _0x20b592=_0x507a58;this[_0x20b592(0x38e)][_0x20b592(0x18d)]['font']=''+_0x522d10+'px'+_0x45c281,_0x5f32ec=_0x521698?_0x521698+'\x20-\x20'+_0x5f32ec:_0x5f32ec;var _0x4bfa02=this['canvas'][_0x20b592(0x18d)][_0x20b592(0x35d)](_0x5f32ec);if(_0x4bfa02[_0x20b592(0x1fa)]+0x4*this[_0x20b592(0x190)]>this[_0x20b592(0x4f1)])this['lenx']=_0x4bfa02[_0x20b592(0x1fa)]+0x4*this['marge'];this[_0x20b592(0x41d)][_0x20b592(0x4a8)]({'type':'button','txt_size':_0x4bfa02,'letter_size':_0x522d10,'text_color':_0x326359,'fillColor':_0x515876,'strokeColor':_0x27e49f,'callback':_0x36edf4,'callback_data':_0x44ffda,'text_font':_0x45c281,'key_event':_0x521698,'txt':_0x5f32ec,'windowInfo':_0x158c5d,'mouseLight':_0xfca363}),this['leny']+=Math[_0x20b592(0x25a)](0x3*this[_0x20b592(0x190)]+_0x522d10);},this['addHorizontalElem']=_0x34bc48=>{var _0x3442a7=_0x507a58,_0x4f6c39={'type':'horizontal','list':[]},_0x1e4b1a=0x0,_0x298894=this[_0x3442a7(0x190)];for(var _0xa02b4b in _0x34bc48){var _0x2b74f4=_0x34bc48[_0xa02b4b],_0x4319b9=undefined;switch(_0x2b74f4['type']){case undefined:continue;case _0x3442a7(0x391):if(!_0x2b74f4[_0x3442a7(0x391)])continue;var _0x1f2388=_0x2b74f4[_0x3442a7(0x391)],_0x5f248b=[],_0x17b95a=0x0,_0x24bb59=0x0,_0x3f93c5=_0x2b74f4[_0x3442a7(0x169)]?_0x2b74f4[_0x3442a7(0x169)]:0x270f;this[_0x3442a7(0x38e)]['ctx']['font']=''+_0x2b74f4[_0x3442a7(0x292)]+'px'+_0x2b74f4[_0x3442a7(0x479)];while(_0x1f2388[_0x3442a7(0x39e)]>0x0){var _0x215227=0x0;while(_0x1f2388[_0x215227]=='\x0a')_0x215227++;while(_0x1f2388[_0x215227]!='\x0a'&&_0x215227<_0x1f2388[_0x3442a7(0x39e)]&&_0x215227<_0x3f93c5)_0x215227++;if(_0x215227==_0x3f93c5){while(_0x1f2388[_0x215227]!='\x20'&&_0x215227>0x0)_0x215227--;}_0x215227=_0x215227>0x0?_0x215227:_0x3f93c5;var _0xc67c58=''+_0x1f2388[_0x3442a7(0x4c9)](0x0,_0x215227);while(_0x1f2388[_0x215227+0x1]=='\x0a')_0x215227++;_0x1f2388=_0x1f2388['substring'](_0x215227),_0x5f248b[_0x3442a7(0x4a8)](_0xc67c58);var _0x30f09b=this[_0x3442a7(0x38e)][_0x3442a7(0x18d)][_0x3442a7(0x35d)](_0xc67c58);if(_0x24bb59<_0x30f09b[_0x3442a7(0x1fa)]+0x2*this['marge'])_0x24bb59=_0x30f09b[_0x3442a7(0x1fa)]+0x2*this[_0x3442a7(0x190)];_0x17b95a+=_0x2b74f4[_0x3442a7(0x292)]+this[_0x3442a7(0x190)];}_0x1e4b1a=_0x17b95a>_0x1e4b1a?_0x17b95a:_0x1e4b1a,_0x4319b9={'type':_0x3442a7(0x391),'txts':_0x5f248b,'txt_color':_0x2b74f4[_0x3442a7(0x1aa)]?_0x2b74f4[_0x3442a7(0x1aa)]:_0x3442a7(0x325),'max_letters':_0x2b74f4[_0x3442a7(0x252)]?_0x2b74f4['max_letter']:0x270f,'letter_size':_0x2b74f4[_0x3442a7(0x292)]?_0x2b74f4[_0x3442a7(0x292)]:0x14,'txt_font':_0x2b74f4[_0x3442a7(0x479)]?_0x2b74f4['txt_font']:_0x3442a7(0x344),'txt_size':_0x24bb59},_0x298894+=_0x24bb59;break;case _0x3442a7(0x435):if(!_0x2b74f4[_0x3442a7(0x435)])continue;_0x4319b9={'type':_0x3442a7(0x435),'img':_0x2b74f4[_0x3442a7(0x435)],'len_x':_0x2b74f4[_0x3442a7(0x163)]?_0x2b74f4['len_x']:0x32,'len_y':_0x2b74f4[_0x3442a7(0x456)]?_0x2b74f4[_0x3442a7(0x456)]:0x32},_0x1e4b1a=_0x4319b9[_0x3442a7(0x456)]>_0x1e4b1a?_0x4319b9[_0x3442a7(0x456)]:_0x1e4b1a,_0x298894+=_0x4319b9[_0x3442a7(0x163)]+this[_0x3442a7(0x190)];break;case _0x3442a7(0x1c7):if(!_0x2b74f4['callback']||!_0x2b74f4['txt'])continue;var _0xa36dc1=_0x2b74f4[_0x3442a7(0x292)]?_0x2b74f4['letter_size']:0x14,_0x35914a=_0x2b74f4[_0x3442a7(0x479)]?_0x2b74f4['txt_font']:_0x3442a7(0x344);this[_0x3442a7(0x38e)][_0x3442a7(0x18d)][_0x3442a7(0x41b)]=''+_0xa36dc1+'px'+_0x35914a;var _0x1f2388=_0x2b74f4[_0x3442a7(0x297)]?_0x2b74f4[_0x3442a7(0x297)]+_0x3442a7(0x4a4)+_0x2b74f4[_0x3442a7(0x391)]:_0x2b74f4[_0x3442a7(0x391)],_0x30f09b=this['canvas'][_0x3442a7(0x18d)]['measureText'](_0x1f2388);_0x4319b9={'type':_0x3442a7(0x1c7),'txt_size':_0x30f09b['width'],'letter_size':_0xa36dc1,'txt_color':_0x2b74f4[_0x3442a7(0x1aa)]?_0x2b74f4[_0x3442a7(0x1aa)]:'#000000','fillColor':_0x2b74f4[_0x3442a7(0x2ff)]?_0x2b74f4['fillColor']:_0x3442a7(0x3fd),'strokeColor':_0x2b74f4[_0x3442a7(0x166)]?_0x2b74f4[_0x3442a7(0x166)]:_0x3442a7(0x325),'callback':_0x2b74f4[_0x3442a7(0x165)],'callback_data':_0x2b74f4[_0x3442a7(0x2d4)],'txt_font':_0x35914a,'key_event':_0x2b74f4[_0x3442a7(0x297)],'txt':_0x1f2388,'windowInfo':_0x2b74f4[_0x3442a7(0x3f9)],'mouseLight':_0x2b74f4[_0x3442a7(0x144)]},_0x1e4b1a=_0x4319b9[_0x3442a7(0x292)]+0x2*this[_0x3442a7(0x190)]>_0x1e4b1a?_0x4319b9[_0x3442a7(0x292)]+0x2*this['marge']:_0x1e4b1a,_0x298894+=_0x30f09b[_0x3442a7(0x1fa)]+this[_0x3442a7(0x190)]*0x3;break;}_0x4f6c39['list'][_0x3442a7(0x4a8)](_0x4319b9);}if(this['lenx']<_0x298894)this['lenx']=_0x298894;_0x4f6c39[_0x3442a7(0x456)]=_0x1e4b1a,this[_0x3442a7(0x41d)]['push'](_0x4f6c39),this[_0x3442a7(0x2c1)]+=Math[_0x3442a7(0x25a)](this[_0x3442a7(0x190)]+_0x1e4b1a);},this['addImage']=(_0xbcb11b,_0x54c362,_0x4f1b0f)=>{var _0x180487=_0x507a58;this[_0x180487(0x41d)]['push']({'type':'img','img':_0xbcb11b,'lenx':_0x54c362,'leny':_0x4f1b0f});if(this[_0x180487(0x4f1)]<_0x54c362+0x2*this[_0x180487(0x190)])this[_0x180487(0x4f1)]=_0x54c362+0x2*this['marge'];this['leny']+=Math[_0x180487(0x25a)](this[_0x180487(0x190)]+_0x54c362);},this[_0x507a58(0x23c)]=()=>{var _0x5c140a=_0x507a58;this['background']&&(this[_0x5c140a(0x38e)][_0x5c140a(0x18d)][_0x5c140a(0x354)]=this[_0x5c140a(0x1f6)],this[_0x5c140a(0x38e)][_0x5c140a(0x387)](this['x'],this['y'],this['x']+this['lenx'],this['y']+this[_0x5c140a(0x2c1)]));this['stroke']&&(this[_0x5c140a(0x38e)][_0x5c140a(0x18d)][_0x5c140a(0x3fb)]=this['stroke'],this[_0x5c140a(0x38e)]['drawRect'](this['x'],this['y'],this['x']+this[_0x5c140a(0x4f1)],this['y']+this['leny']));var _0x161a04=this['y']+this['marge'];for(var _0x513f2e in this[_0x5c140a(0x41d)]){var _0xef9d03=this[_0x5c140a(0x41d)][_0x513f2e];switch(_0xef9d03[_0x5c140a(0x287)]){case _0x5c140a(0x4d2):for(var _0x147cdc in _0xef9d03[_0x5c140a(0x175)]){this['canvas'][_0x5c140a(0x451)](_0xef9d03['txts'][_0x147cdc],this['x']+this[_0x5c140a(0x190)],_0x161a04,this[_0x5c140a(0x4f1)],_0xef9d03[_0x5c140a(0x292)],_0xef9d03['txt_color'],_0xef9d03[_0x5c140a(0x2a6)]),_0x161a04+=_0xef9d03['letter_size']+this[_0x5c140a(0x190)];}break;case _0x5c140a(0x1c7):this[_0x5c140a(0x38e)][_0x5c140a(0x18d)]['font']=''+_0xef9d03[_0x5c140a(0x292)]+'px'+_0xef9d03['text_font'];var _0x57c686=Math[_0x5c140a(0x25a)](this['x']+_0xef9d03[_0x5c140a(0x439)][_0x5c140a(0x1fa)]/0x2+0x2*this[_0x5c140a(0x190)]),_0x409a95=Math[_0x5c140a(0x25a)](_0x161a04+_0xef9d03[_0x5c140a(0x292)]/0x2+0x1*this['marge']),_0x294fd5={'ax':Math['floor'](_0x57c686-_0xef9d03[_0x5c140a(0x439)]['width']/0x2-this[_0x5c140a(0x190)]),'ay':Math[_0x5c140a(0x25a)](_0x409a95-_0xef9d03[_0x5c140a(0x292)]/0x2-this['marge']),'bx':Math['floor'](_0x57c686+_0xef9d03[_0x5c140a(0x439)]['width']/0x2+this[_0x5c140a(0x190)]),'by':Math[_0x5c140a(0x25a)](_0x409a95+_0xef9d03[_0x5c140a(0x292)]/0x2+this[_0x5c140a(0x190)])};this[_0x5c140a(0x38e)][_0x5c140a(0x18d)][_0x5c140a(0x354)]=_0xef9d03[_0x5c140a(0x2ff)];if(_0xef9d03[_0x5c140a(0x144)]&&world[_0x5c140a(0x294)]['mousePos']&&world[_0x5c140a(0x294)][_0x5c140a(0x2ee)]['x']!==undefined&&isInRect(world[_0x5c140a(0x294)]['mousePos']['x'],world[_0x5c140a(0x294)][_0x5c140a(0x2ee)]['y'],_0x294fd5))this[_0x5c140a(0x38e)]['ctx'][_0x5c140a(0x354)]=_0xef9d03[_0x5c140a(0x2ff)][_0x5c140a(0x4c9)](0x0,0x7)+_0xef9d03[_0x5c140a(0x144)];this[_0x5c140a(0x38e)][_0x5c140a(0x387)](_0x294fd5['ax'],_0x294fd5['ay'],_0x294fd5['bx'],_0x294fd5['by']),this[_0x5c140a(0x38e)]['ctx'][_0x5c140a(0x3fb)]=_0xef9d03['strokeColor'],this['canvas'][_0x5c140a(0x326)](_0x294fd5['ax'],_0x294fd5['ay'],_0x294fd5['bx'],_0x294fd5['by']),this[_0x5c140a(0x38e)]['drawTextCenter'](_0xef9d03['txt'],_0x57c686,_0x409a95,0x270f,_0xef9d03[_0x5c140a(0x292)],_0xef9d03[_0x5c140a(0x51f)],_0xef9d03[_0x5c140a(0x2a6)]),this['buttonList'][_0x5c140a(0x4a8)]({'rect':_0x294fd5,'callback':_0xef9d03[_0x5c140a(0x165)],'callback_data':_0xef9d03['callback_data'],'key_event':_0xef9d03[_0x5c140a(0x297)],'windowInfo':_0xef9d03['windowInfo']}),_0x161a04+=_0xef9d03[_0x5c140a(0x292)]+this[_0x5c140a(0x190)]*0x3;break;case _0x5c140a(0x435):this[_0x5c140a(0x38e)][_0x5c140a(0x14e)](_0xef9d03[_0x5c140a(0x435)],this['x']+this[_0x5c140a(0x190)],_0x161a04+this[_0x5c140a(0x190)],_0xef9d03[_0x5c140a(0x4f1)],_0xef9d03[_0x5c140a(0x2c1)]),_0x161a04+=_0xef9d03[_0x5c140a(0x2c1)]+this[_0x5c140a(0x190)];break;case _0x5c140a(0x35e):this[_0x5c140a(0x38e)][_0x5c140a(0x18d)][_0x5c140a(0x354)]=_0xef9d03[_0x5c140a(0x2ea)],this[_0x5c140a(0x38e)]['drawFillRect'](this['x']+this[_0x5c140a(0x190)],_0x161a04+this[_0x5c140a(0x190)],this['x']+_0xef9d03['lenx'],_0x161a04+_0xef9d03[_0x5c140a(0x2c1)]),this[_0x5c140a(0x38e)][_0x5c140a(0x18d)][_0x5c140a(0x354)]=_0xef9d03[_0x5c140a(0x21f)];if(_0xef9d03[_0x5c140a(0x440)]>0x0)this[_0x5c140a(0x38e)][_0x5c140a(0x387)](this['x']+this[_0x5c140a(0x190)]*0x2,_0x161a04+this[_0x5c140a(0x190)]*0x2,Math[_0x5c140a(0x25a)](this['x']+_0xef9d03['lenx']*_0xef9d03['fullness']-this[_0x5c140a(0x190)]),_0x161a04+_0xef9d03[_0x5c140a(0x2c1)]-this[_0x5c140a(0x190)]);this['canvas']['drawTextCenter'](_0xef9d03[_0x5c140a(0x391)],this['x']+this[_0x5c140a(0x190)]+_0xef9d03['lenx']/0x2,_0x161a04+this[_0x5c140a(0x190)]+_0xef9d03[_0x5c140a(0x2c1)]/0x2,_0xef9d03[_0x5c140a(0x4f1)],_0xef9d03[_0x5c140a(0x292)],_0xef9d03[_0x5c140a(0x22e)],_0xef9d03[_0x5c140a(0x2a6)]),_0x161a04+=_0xef9d03[_0x5c140a(0x2c1)];break;case'horizontal':var _0x8c3fc4=this[_0x5c140a(0x190)];for(var _0x25bc12 in _0xef9d03['list']){var _0x1ab156=_0xef9d03[_0x5c140a(0x3ed)][_0x25bc12];switch(_0x1ab156[_0x5c140a(0x287)]){case _0x5c140a(0x391):var _0x238ff4=_0x161a04;for(var _0x513f2e in _0x1ab156['txts']){this[_0x5c140a(0x38e)]['drawTextTopLeft'](_0x1ab156[_0x5c140a(0x175)][_0x513f2e],this['x']+_0x8c3fc4,_0x238ff4,_0x1ab156[_0x5c140a(0x439)],_0x1ab156[_0x5c140a(0x292)],_0x1ab156[_0x5c140a(0x1aa)],_0x1ab156['txt_font']),_0x238ff4+=_0x1ab156[_0x5c140a(0x292)]+this['marge'];}_0x8c3fc4+=this[_0x5c140a(0x190)]+_0x1ab156['txt_size'];break;case'button':this[_0x5c140a(0x38e)][_0x5c140a(0x18d)]['font']=''+_0x1ab156[_0x5c140a(0x292)]+'px'+_0x1ab156[_0x5c140a(0x479)];var _0x57c686=Math[_0x5c140a(0x25a)](this['x']+_0x8c3fc4+_0x1ab156[_0x5c140a(0x439)]/0x2+this[_0x5c140a(0x190)]/0x2),_0x409a95=Math['floor'](_0x161a04+_0x1ab156['letter_size']/0x2+this['marge']/0x2),_0x294fd5={'ax':Math[_0x5c140a(0x25a)](_0x57c686-_0x1ab156[_0x5c140a(0x439)]/0x2-this[_0x5c140a(0x190)]),'ay':Math[_0x5c140a(0x25a)](_0x409a95-_0x1ab156[_0x5c140a(0x292)]/0x2-this[_0x5c140a(0x190)]),'bx':Math[_0x5c140a(0x25a)](_0x57c686+_0x1ab156['txt_size']/0x2+this[_0x5c140a(0x190)]),'by':Math['floor'](_0x409a95+_0x1ab156[_0x5c140a(0x292)]/0x2+this['marge'])};this[_0x5c140a(0x38e)][_0x5c140a(0x18d)][_0x5c140a(0x354)]=_0x1ab156[_0x5c140a(0x2ff)];if(_0x1ab156[_0x5c140a(0x144)]&&world[_0x5c140a(0x294)][_0x5c140a(0x2ee)]&&world[_0x5c140a(0x294)][_0x5c140a(0x2ee)]['x']!==undefined&&isInRect(world['Controler']['mousePos']['x'],world[_0x5c140a(0x294)][_0x5c140a(0x2ee)]['y'],_0x294fd5))this[_0x5c140a(0x38e)][_0x5c140a(0x18d)][_0x5c140a(0x354)]=_0x1ab156[_0x5c140a(0x2ff)][_0x5c140a(0x4c9)](0x0,0x7)+_0x1ab156[_0x5c140a(0x144)];this[_0x5c140a(0x38e)][_0x5c140a(0x387)](_0x294fd5['ax'],_0x294fd5['ay'],_0x294fd5['bx'],_0x294fd5['by']),this[_0x5c140a(0x38e)]['ctx'][_0x5c140a(0x3fb)]=_0x1ab156[_0x5c140a(0x166)],this['canvas'][_0x5c140a(0x326)](_0x294fd5['ax'],_0x294fd5['ay'],_0x294fd5['bx'],_0x294fd5['by']),this[_0x5c140a(0x38e)][_0x5c140a(0x427)](_0x1ab156['txt'],_0x57c686,_0x409a95,0x270f,_0x1ab156[_0x5c140a(0x292)],_0x1ab156[_0x5c140a(0x1aa)],_0x1ab156[_0x5c140a(0x479)]),this['buttonList'][_0x5c140a(0x4a8)]({'rect':_0x294fd5,'callback':_0x1ab156[_0x5c140a(0x165)],'callback_data':_0x1ab156[_0x5c140a(0x2d4)],'key_event':_0x1ab156[_0x5c140a(0x297)],'windowInfo':_0x1ab156[_0x5c140a(0x3f9)],'mouseLight':!![]}),_0x8c3fc4+=this[_0x5c140a(0x190)]*0x3+_0x1ab156[_0x5c140a(0x439)];break;case _0x5c140a(0x435):this[_0x5c140a(0x38e)]['draw_Image'](_0x1ab156[_0x5c140a(0x435)],this['x']+_0x8c3fc4,_0x161a04,_0x1ab156[_0x5c140a(0x163)],_0x1ab156['len_y']),_0x8c3fc4+=_0x1ab156[_0x5c140a(0x456)]+this[_0x5c140a(0x190)];break;}}_0x161a04+=_0xef9d03[_0x5c140a(0x456)]+this[_0x5c140a(0x190)];break;}}this[_0x5c140a(0x3eb)]();},this[_0x507a58(0x167)]=(_0x2b586c,_0x5f1551)=>{var _0x3a4a24=_0x507a58;for(var _0x4c5b41 in this['buttonList']){var _0x10b97f=this[_0x3a4a24(0x260)][_0x4c5b41];if(isInRect(_0x2b586c,_0x5f1551,_0x10b97f[_0x3a4a24(0x52e)]))return _0x10b97f[_0x3a4a24(0x165)](_0x10b97f[_0x3a4a24(0x2d4)]),!![];}return![];},this[_0x507a58(0x234)]=(_0x2542f1,_0x18d089)=>{var _0x4d57d7=_0x507a58;for(var _0xeacedb in this[_0x4d57d7(0x260)]){var _0x3adf2d=this['buttonList'][_0xeacedb];if(_0x3adf2d[_0x4d57d7(0x144)]&&isInRect(_0x2542f1,_0x18d089,_0x3adf2d[_0x4d57d7(0x52e)]))return this['needRedraw']=!![],!![];}return![];},this[_0x507a58(0x177)]=_0x30532d=>{var _0x2ece3b=_0x507a58;for(var _0x549f7a in this[_0x2ece3b(0x260)]){var _0x494dc2=this[_0x2ece3b(0x260)][_0x549f7a];if(_0x494dc2['key_event']&&_0x494dc2['key_event']==_0x30532d)return _0x494dc2[_0x2ece3b(0x165)](_0x494dc2['callback_data']),!![];}return![];},this[_0x507a58(0x3eb)]=_0x297a36=>{var _0x280e56=_0x507a58;if(!world['Controler'])return![];var _0x12ddb3=world[_0x280e56(0x294)][_0x280e56(0x2ee)];if(!_0x12ddb3)return;if(new Date()['getTime']()-_0x12ddb3[_0x280e56(0x4d0)]<MYUI_WINDOWINFO_MOUSETIME)return this[_0x280e56(0x1f2)]&&(this[_0x280e56(0x1f2)]=![],this[_0x280e56(0x39c)]=!![]),![];if(!this[_0x280e56(0x1f2)])this['InfoWindowPos']={'x':_0x12ddb3['x'],'y':_0x12ddb3['y']};else{if(!_0x297a36&&_0x12ddb3['x']==this[_0x280e56(0x1f2)]['x']&&_0x12ddb3['y']==this[_0x280e56(0x1f2)]['y'])return![];}for(var _0x2b3109 in this[_0x280e56(0x260)]){var _0x2f9451=this[_0x280e56(0x260)][_0x2b3109];if(_0x2f9451[_0x280e56(0x3f9)]&&isInRect(_0x12ddb3['x'],_0x12ddb3['y'],_0x2f9451['rect'])){var _0x3a12c9=new MyUI(this[_0x280e56(0x38e)],_0x12ddb3['x'],_0x12ddb3['y'],0x32,0x1,this[_0x280e56(0x1f6)],this[_0x280e56(0x4ae)],0x1);_0x3a12c9[_0x280e56(0x502)](_0x280e56(0x220),MYUI_LETTER_SIZE,0x270f,_0x280e56(0x325),MYUI_FONT);for(var _0x2db57f in _0x2f9451['windowInfo']){var _0x35a37e=_0x2f9451[_0x280e56(0x3f9)][_0x2db57f];if(_0x35a37e[_0x280e56(0x165)])_0x3a12c9['addTextZone'](_0x35a37e[_0x280e56(0x165)](_0x35a37e[_0x280e56(0x1b8)]),MYUI_LETTER_SIZE,0x270f,_0x280e56(0x325),MYUI_FONT);}return _0x3a12c9[_0x280e56(0x23c)](),!![];}}return![];};},UIManager=function(){var _0x5ec904=_0x30a6b3;this[_0x5ec904(0x27a)]=[],this[_0x5ec904(0x4f6)]=(_0xcac78b,_0x2d43e5,_0x206f92,_0x226e80,_0x2c6fc7,_0x430466,_0x3feb92,_0x318bb9)=>{var _0x5ca4d6=_0x5ec904,_0x342b36=new MyUI(_0xcac78b,_0x2d43e5,_0x206f92,_0x226e80,_0x2c6fc7,_0x430466,_0x3feb92,_0x318bb9);return this[_0x5ca4d6(0x27a)][_0x5ca4d6(0x4a8)](_0x342b36),_0x342b36;},this[_0x5ec904(0x539)]=_0x3f5acc=>{var _0x25a2e4=_0x5ec904;for(var _0x399fa5 in this[_0x25a2e4(0x27a)]){var _0x424b36=this[_0x25a2e4(0x27a)][_0x399fa5],_0x18281a=_0x424b36['key_buton_check'](_0x3f5acc);if(_0x18281a)return!![];}return![];},this['Mouse_Input']=(_0x4760a7,_0x1c5917)=>{var _0x5572f7=_0x5ec904;for(var _0x1f41b6 in this[_0x5572f7(0x27a)]){var _0x197059=this['UI_list'][_0x1f41b6],_0x4186fd=_0x197059[_0x5572f7(0x167)](_0x4760a7,_0x1c5917);if(_0x4186fd)return!![];}return![];};},MyCanvas=function(_0x33407c,_0x34bae1,_0x1ef2f9){var _0x21b1d0=_0x30a6b3;this[_0x21b1d0(0x1fa)]=window['innerWidth'],this[_0x21b1d0(0x24a)]=window[_0x21b1d0(0x4d5)],_0x1ef2f9&&(_0x1ef2f9['x']&&_0x1ef2f9['y']&&(this[_0x21b1d0(0x1fa)]=_0x1ef2f9['x'],this[_0x21b1d0(0x24a)]=_0x1ef2f9['y'])),this[_0x21b1d0(0x38e)]=document['createElement'](_0x21b1d0(0x38e)),this[_0x21b1d0(0x38e)][_0x21b1d0(0x1fa)]=this[_0x21b1d0(0x1fa)],this['canvas'][_0x21b1d0(0x24a)]=this[_0x21b1d0(0x24a)],this['id']=_0x33407c,this[_0x21b1d0(0x38e)]['id']=_0x33407c,this[_0x21b1d0(0x38e)]['style']['zIndex']=_0x34bae1,this[_0x21b1d0(0x38e)][_0x21b1d0(0x1d1)][_0x21b1d0(0x481)]=_0x21b1d0(0x50e),this[_0x21b1d0(0x38e)][_0x21b1d0(0x1d1)][_0x21b1d0(0x301)]='0px',this['canvas'][_0x21b1d0(0x1d1)][_0x21b1d0(0x24e)]=_0x21b1d0(0x3ba),this['ctx']=this['canvas'][_0x21b1d0(0x221)]('2d'),this[_0x21b1d0(0x44a)]=![],document[_0x21b1d0(0x454)]['appendChild'](this[_0x21b1d0(0x38e)]),this[_0x21b1d0(0x3f5)]=()=>{var _0x456572=_0x21b1d0,_0x474b32=this[_0x456572(0x38e)][_0x456572(0x227)]();if(_0x474b32)this[_0x456572(0x399)]=Math[_0x456572(0x25a)](_0x474b32['x']),this['screenAy']=Math[_0x456572(0x25a)](_0x474b32['y']),this[_0x456572(0x32e)]=Math[_0x456572(0x25a)](_0x474b32['right']-_0x474b32['x']),this[_0x456572(0x369)]=Math[_0x456572(0x25a)](_0x474b32['bottom']-_0x474b32['y']);else console[_0x456572(0x2e0)]('can\x27t\x20get\x20can\x20pos');},this[_0x21b1d0(0x3f5)](),this['getPixelPosition']=(_0x403dd6,_0x5d2f81)=>{var _0x316932=_0x21b1d0;this['GetCanvasPos']();if(_0x403dd6<this['screenAx']||_0x5d2f81<this['screenAy']||_0x403dd6>this[_0x316932(0x32e)]||_0x5d2f81>this['screenBy'])return undefined;var _0x1e6309={'x':Math['floor'](_0x403dd6-this[_0x316932(0x399)]),'y':Math[_0x316932(0x25a)](_0x5d2f81-this[_0x316932(0x4bd)])};return _0x1e6309;},this[_0x21b1d0(0x1b5)]=()=>{var _0x290ed1=_0x21b1d0;this[_0x290ed1(0x18d)]['clearRect'](0x0,0x0,this['canvas']['width'],this[_0x290ed1(0x38e)][_0x290ed1(0x24a)]);},this[_0x21b1d0(0x387)]=(_0xc9f097,_0x30c98b,_0x21ae3e,_0x57fea8)=>{var _0x446b7b=_0x21b1d0;this[_0x446b7b(0x18d)][_0x446b7b(0x143)](_0xc9f097,_0x30c98b,_0x21ae3e-_0xc9f097,_0x57fea8-_0x30c98b);},this['drawRect']=(_0x1f1364,_0x3a1d8d,_0x5cd30d,_0xa2dfd0)=>{var _0x154234=_0x21b1d0;this[_0x154234(0x18d)]['strokeRect'](_0x1f1364,_0x3a1d8d,_0x5cd30d-_0x1f1364,_0xa2dfd0-_0x3a1d8d);},this['drawLine']=(_0x106ca7,_0x3b526e,_0xe1c127,_0x41f350)=>{var _0x2f5621=_0x21b1d0;this[_0x2f5621(0x18d)][_0x2f5621(0x204)](),this[_0x2f5621(0x18d)][_0x2f5621(0x13a)](_0x106ca7,_0x3b526e),this[_0x2f5621(0x18d)][_0x2f5621(0x13d)](_0xe1c127,_0x41f350),this[_0x2f5621(0x18d)][_0x2f5621(0x4ae)]();},this[_0x21b1d0(0x14e)]=(_0x47d6f2,_0x2d943b,_0x16dd0d,_0x34e7b2,_0x155d5f)=>{var _0x4380be=_0x21b1d0;_0x2d943b=Math[_0x4380be(0x428)](_0x2d943b),_0x16dd0d=Math[_0x4380be(0x428)](_0x16dd0d),_0x34e7b2=Math['round'](_0x34e7b2),_0x155d5f=Math[_0x4380be(0x428)](_0x155d5f),ctx=this[_0x4380be(0x18d)],ctx[_0x4380be(0x4da)](_0x47d6f2,_0x2d943b,_0x16dd0d,_0x34e7b2,_0x155d5f);},this['drawImageMirrorRotateCenter']=(_0x2cc35f,_0x469a09,_0x2fc9f1,_0x8e17f,_0x3069b5,_0x798f6b,_0x78114f)=>{var _0x112b8b=_0x21b1d0;_0x469a09=Math[_0x112b8b(0x428)](_0x469a09),_0x2fc9f1=Math[_0x112b8b(0x428)](_0x2fc9f1),ctx=this[_0x112b8b(0x18d)],ctx['setTransform'](-_0x798f6b,0x0,0x0,_0x798f6b,_0x469a09,_0x2fc9f1),ctx[_0x112b8b(0x3fc)](_0x78114f),ctx[_0x112b8b(0x4da)](_0x2cc35f,-_0x8e17f,-_0x3069b5),ctx[_0x112b8b(0x423)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x21b1d0(0x33b)]=(_0x5f0fd8,_0x32d895,_0x1a6160,_0x48ab4f,_0x527b88,_0x86607c,_0x1405e0)=>{var _0x3017c1=_0x21b1d0;_0x32d895=Math['round'](_0x32d895),_0x1a6160=Math[_0x3017c1(0x428)](_0x1a6160),ctx=this['ctx'],ctx['setTransform'](_0x86607c,0x0,0x0,_0x86607c,_0x32d895,_0x1a6160),ctx['rotate'](_0x1405e0),ctx[_0x3017c1(0x4da)](_0x5f0fd8,-_0x48ab4f,-_0x527b88),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x21b1d0(0x1ef)]=(_0x5080dd,_0x3c1423,_0x5531db,_0x300a7d,_0x5d8d28)=>{var _0x3b217b=_0x21b1d0;_0x3c1423=Math[_0x3b217b(0x428)](_0x3c1423),_0x5531db=Math[_0x3b217b(0x428)](_0x5531db),ctx=this[_0x3b217b(0x18d)],ctx['setTransform'](_0x300a7d,0x0,0x0,_0x300a7d,_0x3c1423,_0x5531db),ctx[_0x3b217b(0x3fc)](_0x5d8d28),ctx['drawImage'](_0x5080dd,-_0x5080dd['width']/0x2,-_0x5080dd['height']/0x2),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this['drawTextTopLeft']=(_0x318023,_0x24d57b,_0x3bede9,_0xc2c1f2,_0x1d0941,_0x8d77d1,_0x4c12b6)=>{var _0x5432a0=_0x21b1d0;this['ctx'][_0x5432a0(0x43f)]=_0x5432a0(0x24e),this[_0x5432a0(0x18d)]['textBaseline']=_0x5432a0(0x301),this['ctx'][_0x5432a0(0x354)]=_0x8d77d1;var _0xa89dd9=''+_0x1d0941+'px';if(!_0x4c12b6)_0x4c12b6=_0x5432a0(0x3cc);_0xa89dd9=_0xa89dd9+'\x20'+_0x4c12b6,this['ctx']['font']=_0xa89dd9,this[_0x5432a0(0x18d)]['fillText'](_0x318023,_0x24d57b,_0x3bede9,_0xc2c1f2);},this[_0x21b1d0(0x427)]=(_0x1c7018,_0x1a3f88,_0x431db8,_0xce438,_0x2970c3,_0x5eb07,_0x3d38c7)=>{var _0x315202=_0x21b1d0;this['ctx']['textAlign']=_0x315202(0x4a5),this['ctx'][_0x315202(0x20c)]=_0x315202(0x41c),this[_0x315202(0x18d)][_0x315202(0x354)]=_0x5eb07;var _0x1011f0=''+_0x2970c3+'px';if(!_0x3d38c7)_0x3d38c7=_0x315202(0x3cc);_0x1011f0=_0x1011f0+'\x20'+_0x3d38c7,this['ctx'][_0x315202(0x41b)]=_0x1011f0,this[_0x315202(0x18d)][_0x315202(0x219)](_0x1c7018,_0x1a3f88,_0x431db8,_0xce438);};},CanvasManager=function(){var _0x30bbd3=_0x30a6b3;this['canList']=[],this[_0x30bbd3(0x4db)]=0x0,window[_0x30bbd3(0x210)]('resize',()=>{var _0x4d25b6=_0x30bbd3;for(var _0xe43698 in this[_0x4d25b6(0x3c6)]){var _0x3f9758=this['canList'][_0xe43698]['canvas'];_0x3f9758[_0x4d25b6(0x1fa)]=window[_0x4d25b6(0x4e2)],_0x3f9758[_0x4d25b6(0x24a)]=window[_0x4d25b6(0x4d5)];}console[_0x4d25b6(0x2e0)](_0x4d25b6(0x21c)),world[_0x4d25b6(0x39c)]();}),document['addEventListener']('fullscreenchange',this['EventcloseFullscreen'],![]),document[_0x30bbd3(0x210)](_0x30bbd3(0x532),this['EventcloseFullscreen'],![]),document[_0x30bbd3(0x210)](_0x30bbd3(0x4b2),this['EventcloseFullscreen'],![]),document[_0x30bbd3(0x210)](_0x30bbd3(0x15a),this['EventcloseFullscreen'],![]),this[_0x30bbd3(0x238)]=()=>{var _0x44a5c=_0x30bbd3;this[_0x44a5c(0x44a)]=![],this[_0x44a5c(0x140)]();},this[_0x30bbd3(0x527)]=(_0x989217,_0x229fde,_0x3b20f8)=>{var _0x56ee91=_0x30bbd3;for(var _0x33e13f in this[_0x56ee91(0x3c6)])if(this[_0x56ee91(0x3c6)][_0x33e13f]['id']==_0x989217)return console['log'](_0x56ee91(0x2ec));var _0x5035de=new MyCanvas(_0x989217,_0x229fde,_0x3b20f8);this['canList'][_0x989217]=_0x5035de;},this['openFullscreen']=()=>{var _0x5abec3=_0x30bbd3;this[_0x5abec3(0x44a)]=!![],document[_0x5abec3(0x2f1)]['requestFullscreen']();},this[_0x30bbd3(0x140)]=()=>{var _0x345f47=_0x30bbd3;if(this[_0x345f47(0x44a)]&&document[_0x345f47(0x2de)]){if(document['exitFullscreen'])document['exitFullscreen']();else{if(document[_0x345f47(0x499)])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0x345f47(0x266)]();}}this[_0x345f47(0x44a)]=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=[_0x30a6b3(0x28c),_0x30a6b3(0x197),_0x30a6b3(0x27b),_0x30a6b3(0x40c)],MAP_BOT_ELEMENT=[{'name':_0x30a6b3(0x1e9),'moveCost':1.5},{'name':'stones','moveCost':0x2},{'name':_0x30a6b3(0x3bb),'moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':_0x30a6b3(0x1ba),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x30a6b3(0x249),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x30a6b3(0x503),'sizex':0x1,'sizey':0x1},{'name':'wall','sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x5e8644,_0x2ea222){var _0x55d680=_0x30a6b3;this['x']=_0x5e8644,this['y']=_0x2ea222,this[_0x55d680(0x4f8)]=undefined,this['topElem']=undefined,this[_0x55d680(0x3c9)]=undefined,this[_0x55d680(0x42a)]=()=>{var _0x196216=_0x55d680,_0xc16701=0x1;if(this[_0x196216(0x4f8)]){for(var _0x34b200 in MAP_BOT_ELEMENT)var _0x37f21b=MAP_BOT_ELEMENT[_0x196216(0x2f9)](_0x33f3e9=>_0x33f3e9[_0x196216(0x16c)]==this[_0x196216(0x4f8)]['name']);if(_0x37f21b[_0x196216(0x3ee)]==![])return![];if(_0x37f21b[_0x196216(0x3ee)])_0xc16701*=_0x37f21b[_0x196216(0x3ee)];}if(this['topElem']){var _0x37f21b=MAP_TOP_ELEMENT['find'](_0x2a7bad=>_0x2a7bad[_0x196216(0x16c)]==this[_0x196216(0x2c0)][_0x196216(0x16c)]);if(_0x37f21b[_0x196216(0x3ee)]==![])return![];if(_0x37f21b[_0x196216(0x3ee)])_0xc16701*=_0x37f21b[_0x196216(0x3ee)];}return _0xc16701;};},BattleMap=function(_0x72440b,_0x3defd9){var _0x360cda=_0x30a6b3;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this[_0x360cda(0x1fa)]=_0x72440b,this[_0x360cda(0x24a)]=_0x3defd9,this['posBlockx']=_0x72440b/0x2,this[_0x360cda(0x4c7)]=_0x3defd9/0x2,this[_0x360cda(0x4c4)]=0x1,this[_0x360cda(0x28b)]=[],this[_0x360cda(0x53d)]=[],this[_0x360cda(0x216)]=[],this[_0x360cda(0x3ff)]=[],this[_0x360cda(0x39c)]=!![],this[_0x360cda(0x1bc)]=_0x5bdbd3=>{var _0x2c0119=_0x360cda,_0x4500fa=0x1;if(_0x5bdbd3[_0x2c0119(0x15b)])_0x4500fa=_0x5bdbd3[_0x2c0119(0x15b)];this['posBlockx']=_0x5bdbd3['x']+_0x4500fa/0x2,this['posBlocky']=_0x5bdbd3['y']+_0x4500fa/0x2,this['needRedraw']=!![];},this[_0x360cda(0x275)]=_0x502a19=>{var _0x8a334f=_0x360cda;if(!_0x502a19||!_0x502a19[_0x8a334f(0x223)]||!_0x502a19[_0x8a334f(0x36d)]||!_0x502a19['player'])return[];var _0x24fad0=[],_0x45c81c=_0x502a19[_0x8a334f(0x3c9)],_0x588846=_0x502a19[_0x8a334f(0x223)],_0x371195=_0x502a19[_0x8a334f(0x36d)];for(var _0x5f1a38=_0x45c81c['x']-_0x371195;_0x5f1a38<_0x45c81c['x']+_0x45c81c[_0x8a334f(0x15b)]+_0x371195;_0x5f1a38++)for(var _0x1697f7=_0x45c81c['y']-_0x371195;_0x1697f7<_0x45c81c['y']+_0x45c81c[_0x8a334f(0x15b)]+_0x371195;_0x1697f7++)if(_0x5f1a38<=_0x45c81c['x']-_0x588846||_0x5f1a38>=_0x45c81c['x']+_0x45c81c[_0x8a334f(0x15b)]+_0x588846-0x1||_0x1697f7<=_0x45c81c['y']-_0x588846||_0x1697f7>=_0x45c81c['y']+_0x45c81c[_0x8a334f(0x15b)]+_0x588846-0x1){if(this[_0x8a334f(0x53d)][_0x5f1a38]&&this[_0x8a334f(0x53d)][_0x5f1a38][_0x1697f7])_0x24fad0['push'](this['mapBlock'][_0x5f1a38][_0x1697f7]);}return _0x24fad0;},this[_0x360cda(0x2b2)]=_0xc545c9=>{var _0x33150f=_0x360cda;if(!_0xc545c9||!_0xc545c9[_0x33150f(0x41a)]||!_0xc545c9[_0x33150f(0x3c9)])return[];var _0x558aa2=[],_0x1b0eff=_0xc545c9[_0x33150f(0x3c9)];if(_0xc545c9[_0x33150f(0x41a)]==_0x33150f(0x24e)||_0xc545c9[_0x33150f(0x41a)]['x']==-0x1&&_0xc545c9['dir']['y']==0x0){var _0x1063b9=_0x1b0eff['x']-0x1;for(var _0x538d7d=_0x1b0eff['y'];_0x538d7d<_0x1b0eff['y']+_0x1b0eff['size'];_0x538d7d++)if(this['mapBlock'][_0x1063b9]&&this[_0x33150f(0x53d)][_0x1063b9][_0x538d7d])_0x558aa2[_0x33150f(0x4a8)](this[_0x33150f(0x53d)][_0x1063b9][_0x538d7d]);}else{if(_0xc545c9['dir']==_0x33150f(0x301)||_0xc545c9[_0x33150f(0x41a)]['y']==-0x1&&_0xc545c9[_0x33150f(0x41a)]['x']==0x0){var _0x538d7d=_0x1b0eff['y']-0x1;for(var _0x1063b9=_0x1b0eff['x'];_0x1063b9<_0x1b0eff['x']+_0x1b0eff['size'];_0x1063b9++)if(this['mapBlock'][_0x1063b9]&&this['mapBlock'][_0x1063b9][_0x538d7d])_0x558aa2[_0x33150f(0x4a8)](this[_0x33150f(0x53d)][_0x1063b9][_0x538d7d]);}else{if(_0xc545c9[_0x33150f(0x41a)]==_0x33150f(0x250)||_0xc545c9[_0x33150f(0x41a)]['x']==0x1&&_0xc545c9['dir']['y']==0x0){var _0x1063b9=_0x1b0eff['x']+_0x1b0eff[_0x33150f(0x15b)];for(var _0x538d7d=_0x1b0eff['y'];_0x538d7d<_0x1b0eff['y']+_0x1b0eff[_0x33150f(0x15b)];_0x538d7d++)if(this['mapBlock'][_0x1063b9]&&this['mapBlock'][_0x1063b9][_0x538d7d])_0x558aa2[_0x33150f(0x4a8)](this['mapBlock'][_0x1063b9][_0x538d7d]);}else{if(_0xc545c9[_0x33150f(0x41a)]==_0x33150f(0x505)||_0xc545c9[_0x33150f(0x41a)]['y']==0x1&&_0xc545c9[_0x33150f(0x41a)]['x']==0x0){var _0x538d7d=_0x1b0eff['y']+_0x1b0eff['size'];for(var _0x1063b9=_0x1b0eff['x'];_0x1063b9<_0x1b0eff['x']+_0x1b0eff['size'];_0x1063b9++)if(this[_0x33150f(0x53d)][_0x1063b9]&&this[_0x33150f(0x53d)][_0x1063b9][_0x538d7d])_0x558aa2[_0x33150f(0x4a8)](this[_0x33150f(0x53d)][_0x1063b9][_0x538d7d]);}}}}return _0x558aa2;},this[_0x360cda(0x18f)]=_0x4b25d3=>{var _0x5e78d0=_0x360cda;if(!_0x4b25d3||!_0x4b25d3['player'])return undefined;var _0x4b8dcf=[];return _0x4b25d3[_0x5e78d0(0x41a)]=_0x5e78d0(0x24e),_0x4b8dcf=_0x4b8dcf[_0x5e78d0(0x38f)](this['getZoneAdjacentToPlayerByDir'](_0x4b25d3)),_0x4b25d3[_0x5e78d0(0x41a)]=_0x5e78d0(0x301),_0x4b8dcf=_0x4b8dcf[_0x5e78d0(0x38f)](this[_0x5e78d0(0x2b2)](_0x4b25d3)),_0x4b25d3['dir']=_0x5e78d0(0x250),_0x4b8dcf=_0x4b8dcf['concat'](this[_0x5e78d0(0x2b2)](_0x4b25d3)),_0x4b25d3[_0x5e78d0(0x41a)]=_0x5e78d0(0x505),_0x4b8dcf=_0x4b8dcf[_0x5e78d0(0x38f)](this[_0x5e78d0(0x2b2)](_0x4b25d3)),_0x4b8dcf;},this[_0x360cda(0x48c)]=_0x26e399=>{var _0x4f158b=_0x360cda;if(!_0x26e399||!_0x26e399[_0x4f158b(0x3c9)]||!_0x26e399[_0x4f158b(0x41a)])return![];var _0x57fce0=this[_0x4f158b(0x2b2)]({'dir':_0x26e399[_0x4f158b(0x41a)],'player':_0x26e399[_0x4f158b(0x3c9)]});if(!_0x57fce0||_0x57fce0[_0x4f158b(0x39e)]==0x0)return![];var _0x3bb384=0x0;for(var _0x43bd60 in _0x57fce0){var _0x3a394=_0x57fce0[_0x43bd60]['getMoveCost']();if(_0x3a394===![]||_0x3a394===0x0)return![];_0x3bb384+=_0x3a394;}return _0x3bb384/_0x57fce0[_0x4f158b(0x39e)];},this[_0x360cda(0x1d4)]=()=>{var _0x256a25=_0x360cda;this['mapBlock']=[];for(var _0x3f69d1=0x0;_0x3f69d1<this[_0x256a25(0x1fa)];_0x3f69d1++){this[_0x256a25(0x53d)][_0x3f69d1]=[];for(var _0x3a93f8=0x0;_0x3a93f8<this[_0x256a25(0x24a)];_0x3a93f8++){var _0x25caee=new Block(_0x3f69d1,_0x3a93f8);this[_0x256a25(0x53d)][_0x3f69d1][_0x3a93f8]=_0x25caee;if(_0x3f69d1==0x0||_0x3a93f8==0x0||_0x3f69d1==this['width']-0x1||_0x3a93f8==this[_0x256a25(0x24a)]-0x1){_0x25caee[_0x256a25(0x2c0)]={'name':'wall','angle':Math[_0x256a25(0x3bf)]()*Math['PI']*0x2};continue;}}}},this[_0x360cda(0x417)]=()=>{var _0x26d928=_0x360cda;for(var _0x54b5ac=0x0;_0x54b5ac<this[_0x26d928(0x1fa)];_0x54b5ac++){for(var _0x53b50f=0x0;_0x53b50f<this[_0x26d928(0x24a)];_0x53b50f++){var _0x2d19db=this[_0x26d928(0x53d)][_0x54b5ac][_0x53b50f];if(_0x2d19db[_0x26d928(0x3c9)])continue;var _0x33e636=Math['floor'](Math[_0x26d928(0x3bf)]()*0x64);if(_0x33e636<0xa){var _0x206791=Math[_0x26d928(0x25a)](Math['random']()*MAP_BOT_ELEMENT['length']);_0x2d19db[_0x26d928(0x4f8)]={'name':MAP_BOT_ELEMENT[_0x206791][_0x26d928(0x16c)],'angle':Math[_0x26d928(0x3bf)]()*Math['PI']*0x2};}var _0x33e636=Math[_0x26d928(0x25a)](Math[_0x26d928(0x3bf)]()*0x64);if(_0x33e636<0xa){var _0x206791=Math['floor'](Math[_0x26d928(0x3bf)]()*MAP_TOP_ELEMENT[_0x26d928(0x39e)]);_0x2d19db[_0x26d928(0x2c0)]={'name':MAP_TOP_ELEMENT[_0x206791]['name'],'angle':Math[_0x26d928(0x3bf)]()*Math['PI']*0x2};}}}},this[_0x360cda(0x433)]=()=>{var _0x9e5725=_0x360cda,_0x5935c1=_0x9e5725(0x4fb),_0x2a694b=MAP_FLOORS;for(var _0x2aa175 in _0x2a694b)this[_0x9e5725(0x28b)][_0x2a694b[_0x2aa175]]=new myImage(_0x2a694b[_0x2aa175],_0x5935c1+_0x2a694b[_0x2aa175]+_0x9e5725(0x463));},this[_0x360cda(0x35b)]=()=>{var _0x2141df=_0x360cda,_0x1579f9=_0x2141df(0x4f3),_0x320697=MAP_BOT_ELEMENT;for(var _0x252f68 in _0x320697)this['mapImgsBot'][_0x320697[_0x252f68][_0x2141df(0x16c)]]=new myImage(_0x320697[_0x252f68][_0x2141df(0x16c)],_0x1579f9+_0x320697[_0x252f68][_0x2141df(0x16c)]+'.png');},this[_0x360cda(0x2b8)]=()=>{var _0x55a0b5=_0x360cda,_0xd123ad=_0x55a0b5(0x2a0),_0xd57fd4=MAP_TOP_ELEMENT;for(var _0x2cfb28 in _0xd57fd4)this['mapImgsTop'][_0xd57fd4[_0x2cfb28]['name']]=new myImage(_0xd57fd4[_0x2cfb28][_0x55a0b5(0x16c)],_0xd123ad+_0xd57fd4[_0x2cfb28]['name']+_0x55a0b5(0x463));},this[_0x360cda(0x4e9)]=()=>{var _0x901be9=_0x360cda;this[_0x901be9(0x2b8)](),this[_0x901be9(0x433)](),this[_0x901be9(0x35b)]();},this['changeMapView']=(_0x44d084,_0x2a1306,_0x2a481f)=>{var _0x1056d5=_0x360cda;this[_0x1056d5(0x2ab)]+=_0x44d084,this['posBlocky']+=_0x2a1306,this[_0x1056d5(0x4c4)]*=_0x2a481f;if(this['scale']<0.1)this[_0x1056d5(0x4c4)]=0.1;if(this[_0x1056d5(0x4c4)]>0x1)this[_0x1056d5(0x4c4)]=0x1;this[_0x1056d5(0x39c)]=!![];},this[_0x360cda(0x3b9)]=_0x4f9f32=>{var _0xb5e1fe=_0x360cda;this[_0xb5e1fe(0x2eb)]=Math['floor'](MAP_BLOCK_PIXELSIZE_DEFAULT*this['scale']*this[_0xb5e1fe(0x1fa)]),this[_0xb5e1fe(0x341)]=Math[_0xb5e1fe(0x25a)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0xb5e1fe(0x4c4)]*this[_0xb5e1fe(0x24a)]),this['blocksize_x']=Math[_0xb5e1fe(0x25a)](this[_0xb5e1fe(0x2eb)]/this[_0xb5e1fe(0x1fa)]),this[_0xb5e1fe(0x4af)]=Math[_0xb5e1fe(0x25a)](this[_0xb5e1fe(0x341)]/this[_0xb5e1fe(0x24a)]),this[_0xb5e1fe(0x21b)]=this['posBlockx']*this['blocksize_x'],this['pos_y']=this[_0xb5e1fe(0x4c7)]*this[_0xb5e1fe(0x4af)],this[_0xb5e1fe(0x519)]=_0x4f9f32[_0xb5e1fe(0x1fa)]/0x2-this[_0xb5e1fe(0x21b)],this[_0xb5e1fe(0x47c)]=_0x4f9f32[_0xb5e1fe(0x24a)]/0x2-this[_0xb5e1fe(0x4e1)],this[_0xb5e1fe(0x2d1)]=this[_0xb5e1fe(0x519)]<0x0?0x0:this[_0xb5e1fe(0x519)],this[_0xb5e1fe(0x1de)]=this['pos_starty']<0x0?0x0:this[_0xb5e1fe(0x47c)],this[_0xb5e1fe(0x511)]=this[_0xb5e1fe(0x519)]+this[_0xb5e1fe(0x2eb)]>=_0x4f9f32[_0xb5e1fe(0x1fa)]?_0x4f9f32[_0xb5e1fe(0x1fa)]-0x1:this['pos_startx']+this[_0xb5e1fe(0x2eb)],this['pixel_endy']=this['pos_starty']+this[_0xb5e1fe(0x341)]>=_0x4f9f32[_0xb5e1fe(0x24a)]?_0x4f9f32[_0xb5e1fe(0x24a)]-0x1:this[_0xb5e1fe(0x47c)]+this['pixel_height'],this[_0xb5e1fe(0x43e)]=this[_0xb5e1fe(0x2be)]({'x':this[_0xb5e1fe(0x2d1)],'y':this['pixel_starty']}),this[_0xb5e1fe(0x20a)]=this['get_block_by_pixel']({'x':this[_0xb5e1fe(0x511)],'y':this[_0xb5e1fe(0x242)]});if(this[_0xb5e1fe(0x20a)]){if(this[_0xb5e1fe(0x20a)]['x']>=this[_0xb5e1fe(0x1fa)])this[_0xb5e1fe(0x20a)]['x']=this[_0xb5e1fe(0x1fa)]-0x1;if(this[_0xb5e1fe(0x20a)]['y']>=this[_0xb5e1fe(0x24a)])this[_0xb5e1fe(0x20a)]['y']=this[_0xb5e1fe(0x24a)]-0x1;}},this['highlightBlock']=(_0x21039b,_0x545d85,_0x58f58d,_0x34bd6d,_0x30f8bb)=>{var _0x4a3742=_0x360cda;if(_0x30f8bb==_0x4a3742(0x466)){var _0x3d1aa1=Math[_0x4a3742(0x25a)](_0x58f58d+0.05*this['blocksize_x']),_0x9dd6d3=Math['floor'](_0x34bd6d+0.05*this[_0x4a3742(0x4af)]),_0x1afcf6=Math[_0x4a3742(0x25a)](_0x58f58d+0.95*this[_0x4a3742(0x19b)]),_0x50bad6=Math[_0x4a3742(0x25a)](_0x34bd6d+0.95*this[_0x4a3742(0x4af)]);if(_0x545d85[_0x4a3742(0x42a)]()>0x1)_0x21039b[_0x4a3742(0x18d)][_0x4a3742(0x354)]=_0x4a3742(0x1ca);else{if(!_0x545d85['getMoveCost']()||_0x545d85['player'])_0x21039b[_0x4a3742(0x18d)][_0x4a3742(0x354)]='#ff000055';else _0x21039b[_0x4a3742(0x18d)][_0x4a3742(0x354)]=_0x4a3742(0x37b);}_0x21039b[_0x4a3742(0x387)](_0x3d1aa1,_0x9dd6d3,_0x1afcf6,_0x50bad6);var _0x322221=new MyUI(_0x21039b,_0x3d1aa1,_0x9dd6d3,0x64,this['scale'],undefined,undefined,0x1);_0x322221[_0x4a3742(0x502)](_0x4a3742(0x3d4)+_0x545d85['getMoveCost'](),0x14*this[_0x4a3742(0x4c4)],0x64,'#005500'),_0x322221[_0x4a3742(0x23c)]();}if(_0x30f8bb==_0x4a3742(0x3fc)){var _0x3d1aa1=Math[_0x4a3742(0x25a)](_0x58f58d+0.05*this[_0x4a3742(0x19b)]),_0x9dd6d3=Math['floor'](_0x34bd6d+0.05*this[_0x4a3742(0x4af)]),_0x1afcf6=Math[_0x4a3742(0x25a)](_0x58f58d+0.95*this['blocksize_x']),_0x50bad6=Math[_0x4a3742(0x25a)](_0x34bd6d+0.95*this[_0x4a3742(0x4af)]);_0x21039b[_0x4a3742(0x18d)][_0x4a3742(0x354)]=_0x4a3742(0x4a2),_0x21039b[_0x4a3742(0x387)](_0x3d1aa1,_0x9dd6d3,_0x1afcf6,_0x50bad6);}},this['draw_map']=(_0x5ddd07,_0x513624)=>{var _0x1a1902=_0x360cda;this[_0x1a1902(0x39c)]=![],world['players']['pUI_need_redraw']=!![];if(this[_0x1a1902(0x43e)]&&this[_0x1a1902(0x20a)])for(var _0x4cadf2=this[_0x1a1902(0x43e)]['x'];_0x4cadf2<=this[_0x1a1902(0x20a)]['x'];_0x4cadf2++){for(var _0x575b35=this[_0x1a1902(0x43e)]['y'];_0x575b35<=this[_0x1a1902(0x20a)]['y'];_0x575b35++){var _0x512e89=this[_0x1a1902(0x3ca)](_0x4cadf2,_0x575b35),_0x4cbe63=this['mapBlock'][_0x4cadf2][_0x575b35],_0x9bcaed=undefined;if(!_0x4cbe63['floor'])_0x9bcaed=this[_0x1a1902(0x28b)][_0x1a1902(0x40c)];else _0x9bcaed=this[_0x1a1902(0x28b)][_0x4cbe63[_0x1a1902(0x25a)]];if(_0x9bcaed&&_0x9bcaed[_0x1a1902(0x164)]&&_0x512e89)_0x5ddd07[_0x1a1902(0x14e)](_0x9bcaed[_0x1a1902(0x435)],_0x512e89['x'],_0x512e89['y'],this['blocksize_x']+0x1,this[_0x1a1902(0x4af)]+0x1);else this[_0x1a1902(0x39c)]=!![];if(_0x4cbe63[_0x1a1902(0x4f8)]){_0x9bcaed=this[_0x1a1902(0x216)][_0x4cbe63['botElem'][_0x1a1902(0x16c)]];var _0x5bb033=_0x512e89['x']+this['blocksize_x']/0x2,_0x39cfb3=_0x512e89['y']+this[_0x1a1902(0x4af)]/0x2;if(_0x9bcaed)_0x5ddd07['drawImageRotate'](_0x9bcaed[_0x1a1902(0x435)],_0x5bb033,_0x39cfb3,this['scale']*0x2,_0x4cbe63['botElem'][_0x1a1902(0x366)]);}if(_0x4cbe63[_0x1a1902(0x2c0)]){_0x9bcaed=this[_0x1a1902(0x3ff)][_0x4cbe63[_0x1a1902(0x2c0)][_0x1a1902(0x16c)]];var _0x5bb033=_0x512e89['x']+this[_0x1a1902(0x19b)]/0x2,_0x39cfb3=_0x512e89['y']+this[_0x1a1902(0x4af)]/0x2;if(_0x9bcaed)_0x513624[_0x1a1902(0x1ef)](_0x9bcaed['img'],_0x5bb033,_0x39cfb3,this['scale']*0x2,_0x4cbe63[_0x1a1902(0x2c0)][_0x1a1902(0x366)]);}if(world['GameUI'][_0x1a1902(0x176)]&&world[_0x1a1902(0x3ac)][_0x1a1902(0x176)][_0x1a1902(0x461)]&&world[_0x1a1902(0x3ac)][_0x1a1902(0x176)][_0x1a1902(0x461)]['find'](_0x3ff263=>_0x3ff263==_0x4cbe63))this[_0x1a1902(0x16a)](_0x5ddd07,_0x4cbe63,_0x512e89['x'],_0x512e89['y'],world[_0x1a1902(0x3ac)]['highlightZone']['type']);}}},this[_0x360cda(0x2be)]=_0x19d394=>{var _0x42700e=_0x360cda;if(_0x19d394['x']<this[_0x42700e(0x2d1)]||_0x19d394['y']<this['pixel_starty']||_0x19d394['x']>this[_0x42700e(0x511)]||_0x19d394['y']>this['pixel_endy']||this['blocksize_x']==0x0||this['blocksize_y']==0x0)return undefined;var _0x1fc683={'x':Math[_0x42700e(0x25a)]((_0x19d394['x']-this[_0x42700e(0x519)])/this[_0x42700e(0x19b)]),'y':Math['floor']((_0x19d394['y']-this[_0x42700e(0x47c)])/this[_0x42700e(0x4af)])};if(_0x1fc683['x']>=this[_0x42700e(0x1fa)]&&_0x1fc683['x']>0x0)_0x1fc683['x']=this[_0x42700e(0x1fa)]-0x1;if(_0x1fc683['y']>=this[_0x42700e(0x24a)]&&_0x1fc683['y']>0x0)_0x1fc683['y']=this[_0x42700e(0x24a)]-0x1;return this[_0x42700e(0x53d)][_0x1fc683['x']][_0x1fc683['y']];},this[_0x360cda(0x3ca)]=(_0xfa0026,_0x3f0d01)=>{var _0x4ef02b=_0x360cda;if(_0xfa0026<0x0||_0x3f0d01<0x0||_0xfa0026>=this[_0x4ef02b(0x1fa)]||_0x3f0d01>=this[_0x4ef02b(0x24a)])return undefined;return{'x':Math['floor'](this[_0x4ef02b(0x519)]+this[_0x4ef02b(0x19b)]*_0xfa0026),'y':Math['floor'](this[_0x4ef02b(0x47c)]+this[_0x4ef02b(0x4af)]*_0x3f0d01)};},this[_0x360cda(0x4a7)]=(_0x1fcb19,_0x5d9c53)=>{var _0x5ee089=_0x360cda;return{'x':this[_0x5ee089(0x519)]+this[_0x5ee089(0x19b)]*_0x1fcb19,'y':this['pos_starty']+this[_0x5ee089(0x4af)]*_0x5d9c53};},this[_0x360cda(0x50b)]=(_0x50160a,_0x376301,_0x310968,_0x47b734)=>{var _0x316eb5=_0x360cda,_0x1d161c=[];for(var _0x57c067=_0x50160a-_0x47b734;_0x57c067<=_0x50160a+_0x47b734;r++){for(var _0x30ea37=_0x376301-_0x47b734;_0x30ea37<=_0x376301+_0x47b734;r++){var _0x1a1cbc=this['mapBlock'][_0x57c067][_0x30ea37];if(_0x1a1cbc&&distBlock(_0x50160a,_0x376301,_0x1a1cbc['x'],_0x1a1cbc['y'])>=_0x310968&&distBlock(_0x50160a,_0x376301,_0x1a1cbc['x'],_0x1a1cbc['y'])<=_0x47b734)_0x1d161c[_0x316eb5(0x4a8)](_0x1a1cbc);}}return _0x1d161c;},this[_0x360cda(0x202)]=(_0xfadda3,_0x28d0d4,_0x2517bf,_0x4acf0c)=>{var _0x204939=_0x360cda,_0x36e17d=[];for(var _0x230c10=Math[_0x204939(0x25a)](_0xfadda3-_0x4acf0c);_0x230c10<=Math[_0x204939(0x428)](_0xfadda3+_0x4acf0c);r++){for(var _0x100d2f=Math[_0x204939(0x25a)](_0x28d0d4-_0x4acf0c);_0x100d2f<=Math[_0x204939(0x428)](_0x28d0d4+_0x4acf0c);r++){var _0x214221=this[_0x204939(0x53d)][_0x230c10][_0x100d2f];if(_0x214221&&dist(_0xfadda3,_0x28d0d4,_0x214221['x'],_0x214221['y'])>=_0x2517bf&&Block(_0xfadda3,_0x28d0d4,_0x214221['x'],_0x214221['y'])<=_0x4acf0c)_0x36e17d[_0x204939(0x4a8)](_0x214221);}}return _0x36e17d;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT=_0x30a6b3(0x1b3),BONUS_DESCRIPTION=[];var id=0x1;BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]=_0x30a6b3(0x4ef),BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x30a6b3(0x17f),BONUS_FORGE_UPPGRADE=id++,BONUS_DESCRIPTION[BONUS_FORGE_UPPGRADE]=_0x30a6b3(0x33c),Player=function(_0x2f47b,_0x2e2d21,_0x272033,_0x52750b,_0x3c315f){var _0x556e0f=_0x30a6b3;this['x']=_0x2f47b,this['y']=_0x2e2d21,this[_0x556e0f(0x15b)]=_0x272033,this['team']=_0x3c315f,this['AI']=_0x3c315f==TEAM_HUMAN?undefined:{},this['color']=_0x52750b,this['dir']=[0x1,0x0],this[_0x556e0f(0x168)]=undefined,this['bodyPartImgReady']=![],this[_0x556e0f(0x35a)]=undefined,this['animation']=[],this[_0x556e0f(0x1ae)]=PLAYER_DEFAUTL_MOVECOST,this[_0x556e0f(0x16c)]=_0x556e0f(0x342),this[_0x556e0f(0x3d0)]=0x64,this[_0x556e0f(0x36e)]=0x0,this[_0x556e0f(0x4fd)]=0x0,this[_0x556e0f(0x419)]=0x64,this['lifeMax']=0x64,this['life']=this[_0x556e0f(0x465)],this['isDead']=![],(this[_0x556e0f(0x217)]={'Strength':0xa,'Dexterity':0xa},this[_0x556e0f(0x180)]=_0x1868ac=>{var _0x5900ef=_0x556e0f;if(_0x1868ac==undefined||_0x1868ac<0x0)return![];this[_0x5900ef(0x350)]-=_0x1868ac,world[_0x5900ef(0x4e4)][_0x5900ef(0x183)][_0x5900ef(0x26e)]({'type':this[_0x5900ef(0x49c)],'txt':this[_0x5900ef(0x16c)]+_0x5900ef(0x158)+_0x1868ac+_0x5900ef(0x339)});if(this['life']<=0x0){world[_0x5900ef(0x4e4)][_0x5900ef(0x183)][_0x5900ef(0x26e)]({'type':this[_0x5900ef(0x49c)],'txt':this['name']+_0x5900ef(0x2e5)}),world[_0x5900ef(0x4e4)][_0x5900ef(0x241)](this);if(this==world[_0x5900ef(0x3ac)][_0x5900ef(0x34e)])world[_0x5900ef(0x3ac)][_0x5900ef(0x34e)]=undefined;if(this==world[_0x5900ef(0x4e4)][_0x5900ef(0x1c0)])world[_0x5900ef(0x4e4)][_0x5900ef(0x1c0)]=undefined;}return!![];}),this['receive_attack']=_0x41a9b4=>{var _0x539e2d=_0x556e0f;if(!_0x41a9b4||_0x41a9b4[_0x539e2d(0x39e)]<0x1)return![];var _0x1268a3=0x0;for(var _0x1fb5b9 in _0x41a9b4){world[_0x539e2d(0x4e4)][_0x539e2d(0x183)][_0x539e2d(0x26e)]({'type':this[_0x539e2d(0x49c)],'txt':this['name']+_0x539e2d(0x1cd)+_0x41a9b4[_0x1fb5b9][_0x539e2d(0x397)]+_0x539e2d(0x26f)+_0x41a9b4[_0x1fb5b9][_0x539e2d(0x287)]}),_0x1268a3+=_0x41a9b4[_0x1fb5b9]['value'];}var _0x99ef98=this[_0x539e2d(0x240)]?this[_0x539e2d(0x240)][_0x539e2d(0x43c)]({'damages':_0x41a9b4}):_0x1268a3;return this[_0x539e2d(0x180)](_0x99ef98);},this['generateCapacity']=()=>{var _0x3681f1=_0x556e0f;this[_0x3681f1(0x368)]=[{'name':'Move\x20To','type':_0x3681f1(0x466),'description':_0x3681f1(0x1ac),'callback':this[_0x3681f1(0x4b7)],'zone_target_area':world[_0x3681f1(0x4e7)][_0x3681f1(0x18f)],'zone_selecting_input':{'player':this,'type':_0x3681f1(0x466)},'windowInfo':[{'txt':_0x3681f1(0x308),'callback':this[_0x3681f1(0x16e)]},{'txt':'Direction\x20:\x20','callback':this['GetMoveDir']}]},{'name':_0x3681f1(0x3bd),'type':'move','description':'rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','callback':this[_0x3681f1(0x3fc)],'zone_target_area':world['map'][_0x3681f1(0x275)],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':_0x3681f1(0x3fc)},'windowInfo':[{'txt':'direction\x20:\x20','callback':this['get_direction_from_pos']}]}];if(this[_0x3681f1(0x215)]){var _0x386764={'name':_0x3681f1(0x43a),'type':'attack','description':_0x3681f1(0x3a4),'callback':this[_0x3681f1(0x3a0)],'zone_target_area':this[this[_0x3681f1(0x215)][_0x3681f1(0x39a)][_0x3681f1(0x165)]],'zone_selecting_input':{...this[_0x3681f1(0x215)][_0x3681f1(0x39a)]['input']},'windowInfo':[{'txt':_0x3681f1(0x491),'callback':this[_0x3681f1(0x147)]},{'txt':_0x3681f1(0x4ff),'callback':this[_0x3681f1(0x36a)]}]};_0x386764['zone_selecting_input'][_0x3681f1(0x3c9)]=this,_0x386764[_0x3681f1(0x4b1)]['type']=_0x3681f1(0x3fc),this[_0x3681f1(0x368)]['push'](_0x386764);}else{var _0x386764={'name':_0x3681f1(0x43a),'type':'attack','description':'attack\x20animation\x20on\x20the\x20selected\x20block','callback':this[_0x3681f1(0x3a0)],'zone_target_area':this[_0x3681f1(0x23a)],'zone_selecting_input':{},'windowInfo':[{'txt':_0x3681f1(0x491),'callback':this[_0x3681f1(0x147)]},{'txt':_0x3681f1(0x359),'callback':()=>{}}]};_0x386764[_0x3681f1(0x4b1)]['player']=this,_0x386764['zone_selecting_input'][_0x3681f1(0x287)]=_0x3681f1(0x3fc),this[_0x3681f1(0x368)]['push'](_0x386764);}},this[_0x556e0f(0x36a)]=()=>{var _0xd86d0=_0x556e0f;if(this['weapon'])return this[_0xd86d0(0x215)][_0xd86d0(0x31a)]();},this['ReturnBlockTargeted']=_0x2ff5ba=>{var _0x43d324=_0x556e0f;if(!_0x2ff5ba||!_0x2ff5ba['block'])return undefined;return[_0x2ff5ba[_0x43d324(0x321)]];},this[_0x556e0f(0x23a)]=()=>{var _0x707d56=_0x556e0f;console[_0x707d56(0x2e0)]('get\x20block\x20adjacent');var _0x44266d=[];for(var _0x4ea474=this['x']-0x1;_0x4ea474<=this['x']+this[_0x707d56(0x15b)];_0x4ea474++)for(var _0x62a744=this['y']-0x1;_0x62a744<=this['y']+this['size'];_0x62a744++)if(!((_0x4ea474==this['x']-0x1||_0x4ea474==this['x']+this[_0x707d56(0x15b)])&&(_0x62a744==this['y']-0x1||_0x62a744==this['y']+this[_0x707d56(0x15b)]))&&!(_0x4ea474<=this['x']+this['size']-0x1&&_0x4ea474>=this['x']&&_0x62a744<=this['y']+this[_0x707d56(0x15b)]-0x1&&_0x62a744>=this['y'])){if(world[_0x707d56(0x4e7)][_0x707d56(0x53d)][_0x4ea474]&&world[_0x707d56(0x4e7)]['mapBlock'][_0x4ea474][_0x62a744])_0x44266d[_0x707d56(0x4a8)](world[_0x707d56(0x4e7)]['mapBlock'][_0x4ea474][_0x62a744]);}return console[_0x707d56(0x2e0)]('returned\x20'+_0x44266d[_0x707d56(0x39e)]+_0x707d56(0x356)),_0x44266d;},this[_0x556e0f(0x2b7)]=()=>{var _0xf31bd2=_0x556e0f,_0x2cadf3=[];for(var _0x3e171a=this['x'];_0x3e171a<this['x']+this[_0xf31bd2(0x15b)];_0x3e171a++)for(var _0x347778=this['y'];_0x347778<this['y']+this[_0xf31bd2(0x15b)];_0x347778++)_0x2cadf3['push'](world[_0xf31bd2(0x4e7)][_0xf31bd2(0x53d)][_0x3e171a][_0x347778]);},this[_0x556e0f(0x472)]=_0x28f3e1=>{var _0x991452=_0x556e0f;if(!_0x28f3e1||!_0x28f3e1['block'])return undefined;var _0xeaa6fd=0x1,_0x263570=0x1;_0x28f3e1[_0x991452(0x3d1)]&&(_0xeaa6fd=_0x28f3e1[_0x991452(0x3d1)][_0x991452(0x223)]?_0x28f3e1[_0x991452(0x3d1)][_0x991452(0x223)]:0x1,_0x263570=_0x28f3e1[_0x991452(0x3d1)]['rangeMax']?_0x28f3e1[_0x991452(0x3d1)][_0x991452(0x36d)]:0x1);if(_0xeaa6fd>_0x263570){var _0x4d42d8=_0xeaa6fd;_0xeaa6fd=_0x263570,_0x263570=_0x4d42d8;}var _0x334f1a=[],_0x14a77a=_0x28f3e1[_0x991452(0x321)],_0x5a90bf=this[_0x991452(0x334)](_0x14a77a),_0x13b99e=-0x1,_0x116f7c=_0x14a77a['x'],_0x38a840=_0x14a77a['y'],_0x281e3b=world[_0x991452(0x4e7)][_0x991452(0x53d)];while(++_0x13b99e<=_0x263570){if(_0x13b99e>=_0xeaa6fd){if(_0x281e3b[_0x116f7c]&&_0x281e3b[_0x116f7c][_0x38a840])_0x334f1a[_0x991452(0x4a8)](_0x281e3b[_0x116f7c][_0x38a840]);}_0x116f7c+=_0x5a90bf[0x0],_0x38a840+=_0x5a90bf[0x1];}return _0x334f1a;},this[_0x556e0f(0x189)]=_0x9a4932=>{var _0x749371=_0x556e0f;if(!_0x9a4932||!_0x9a4932[_0x749371(0x321)])return undefined;var _0x347ba1=0x1,_0x3af455=0x1;_0x9a4932[_0x749371(0x3d1)]&&(_0x347ba1=_0x9a4932[_0x749371(0x3d1)]['rangeMin']?_0x9a4932[_0x749371(0x3d1)][_0x749371(0x223)]:0x1,_0x3af455=_0x9a4932['data'][_0x749371(0x36d)]?_0x9a4932[_0x749371(0x3d1)][_0x749371(0x36d)]:0x1);if(_0x347ba1>_0x3af455){var _0x13a247=_0x347ba1;_0x347ba1=_0x3af455,_0x3af455=_0x13a247;}var _0x150b8f=[],_0x1802f8=_0x9a4932[_0x749371(0x321)],_0x586de9=world[_0x749371(0x4e7)][_0x749371(0x53d)];for(var _0x2ce135=_0x1802f8['x']-_0x3af455;_0x2ce135<=_0x1802f8['x']+_0x3af455;_0x2ce135++){for(var _0x5d4513=_0x1802f8['y']-_0x3af455;_0x5d4513<=_0x1802f8['y']+_0x3af455;_0x5d4513++){var _0x2f7d09=dist(_0x1802f8['x'],_0x1802f8['y'],_0x2ce135,_0x5d4513);if(_0x2f7d09<_0x347ba1||_0x2f7d09>_0x3af455)continue;if(_0x586de9[_0x2ce135]&&_0x586de9[_0x2ce135][_0x5d4513])_0x150b8f[_0x749371(0x4a8)](_0x586de9[_0x2ce135][_0x5d4513]);}}return _0x150b8f;},this[_0x556e0f(0x243)]=_0x37feba=>{var _0x53e0fd=_0x556e0f;if(!_0x37feba||!_0x37feba[_0x53e0fd(0x223)]||!_0x37feba['rangeMax'])return[];var _0x140dd9=[],_0xfa7dd=this,_0x323f65=_0x37feba[_0x53e0fd(0x223)],_0x4dc8ad=_0x37feba[_0x53e0fd(0x36d)];for(var _0xbbf75c=_0xfa7dd['x']-_0x4dc8ad;_0xbbf75c<_0xfa7dd['x']+_0xfa7dd[_0x53e0fd(0x15b)]+_0x4dc8ad;_0xbbf75c++)for(var _0x5dbeee=_0xfa7dd['y']-_0x4dc8ad;_0x5dbeee<_0xfa7dd['y']+_0xfa7dd['size']+_0x4dc8ad;_0x5dbeee++)if(_0xbbf75c<=_0xfa7dd['x']-_0x323f65||_0xbbf75c>=_0xfa7dd['x']+_0xfa7dd[_0x53e0fd(0x15b)]+_0x323f65-0x1||_0x5dbeee<=_0xfa7dd['y']-_0x323f65||_0x5dbeee>=_0xfa7dd['y']+_0xfa7dd[_0x53e0fd(0x15b)]+_0x323f65-0x1){if(world[_0x53e0fd(0x4e7)][_0x53e0fd(0x53d)][_0xbbf75c]&&world[_0x53e0fd(0x4e7)]['mapBlock'][_0xbbf75c][_0x5dbeee])_0x140dd9['push'](world[_0x53e0fd(0x4e7)][_0x53e0fd(0x53d)][_0xbbf75c][_0x5dbeee]);}return _0x140dd9;},this[_0x556e0f(0x148)]=_0x563350=>{var _0x22b3ed=_0x556e0f;if(!_0x563350||!_0x563350['block'])return undefined;var _0x1b14fe=_0x563350['block'];if(_0x1b14fe[_0x22b3ed(0x3c9)]==this)return 0x0;var _0x48891d;if(this['x']>=_0x1b14fe['x']&&this['x']+this[_0x22b3ed(0x15b)]<=_0x1b14fe['x'])_0x48891d=0x0;else{if(this['x']<_0x1b14fe['x'])_0x48891d=this['x']-_0x1b14fe['x'];else _0x48891d=this['x']+this[_0x22b3ed(0x15b)]-_0x1b14fe['x']-0x1;}var _0xb5eecf;if(this['y']>=_0x1b14fe['y']&&this['y']+this[_0x22b3ed(0x15b)]<=_0x1b14fe['y'])_0xb5eecf=0x0;else{if(this['x']<_0x1b14fe['x'])_0xb5eecf=this['y']-_0x1b14fe['y'];else _0xb5eecf=this['y']+this[_0x22b3ed(0x15b)]-_0x1b14fe['y']-0x1;}return console[_0x22b3ed(0x2e0)](_0x22b3ed(0x44e)+[_0x1b14fe['x'],_0x1b14fe['y']]+'\x20dist\x20'+Math[_0x22b3ed(0x2ac)](_0x48891d*_0x48891d+_0xb5eecf*_0xb5eecf)),Math[_0x22b3ed(0x2ac)](_0x48891d*_0x48891d+_0xb5eecf*_0xb5eecf);},this[_0x556e0f(0x36f)]=_0x5908fc=>{var _0x5d2c52=_0x556e0f;if(!_0x5908fc||!_0x5908fc[_0x5d2c52(0x223)]||!_0x5908fc[_0x5d2c52(0x36d)])return[];var _0x1ccd61=[],_0x2b965c=this,_0x509ded=_0x2b965c['x']+_0x2b965c['size']/0x2-0.5,_0x3626fa=_0x2b965c['y']+_0x2b965c[_0x5d2c52(0x15b)]/0x2-0.5,_0x5c0671=_0x5908fc[_0x5d2c52(0x223)]+_0x2b965c[_0x5d2c52(0x15b)]/0x2-0.5,_0xf77c7a=_0x5908fc[_0x5d2c52(0x36d)]+_0x2b965c['size']/0x2-0.5;for(var _0x246e9a=Math['round'](_0x2b965c['x']-_0xf77c7a);_0x246e9a<Math['round'](_0x2b965c['x']+_0x2b965c[_0x5d2c52(0x15b)]+_0xf77c7a);_0x246e9a++)for(var _0xad9d3c=Math[_0x5d2c52(0x428)](_0x2b965c['y']-_0xf77c7a);_0xad9d3c<Math[_0x5d2c52(0x428)](_0x2b965c['y']+_0x2b965c[_0x5d2c52(0x15b)]+_0xf77c7a);_0xad9d3c++)if(world[_0x5d2c52(0x4e7)]['mapBlock'][_0x246e9a]&&world[_0x5d2c52(0x4e7)][_0x5d2c52(0x53d)][_0x246e9a][_0xad9d3c]&&this['getDistToABlock']({'block':world[_0x5d2c52(0x4e7)][_0x5d2c52(0x53d)][_0x246e9a][_0xad9d3c]})<=Math[_0x5d2c52(0x428)](_0xf77c7a)&&this[_0x5d2c52(0x148)]({'block':world[_0x5d2c52(0x4e7)][_0x5d2c52(0x53d)][_0x246e9a][_0xad9d3c]})>=Math[_0x5d2c52(0x25a)](_0x5c0671))_0x1ccd61['push'](world[_0x5d2c52(0x4e7)]['mapBlock'][_0x246e9a][_0xad9d3c]);return _0x1ccd61;},this[_0x556e0f(0x45e)]=_0x4fd903=>{var _0x2732cc=_0x556e0f;if(!this[_0x2732cc(0x2fb)])this[_0x2732cc(0x2fb)]=PLAYER_FACE_IMG[Math[_0x2732cc(0x25a)](Math['random']()*PLAYER_FACE_IMG[_0x2732cc(0x39e)])];if(!this[_0x2732cc(0x426)])this['body_type']=PLAYER_BODY_IMG[Math[_0x2732cc(0x25a)](Math[_0x2732cc(0x3bf)]()*PLAYER_BODY_IMG[_0x2732cc(0x39e)])];var _0x5a38db=[];_0x5a38db[_0x2732cc(0x4a8)]({'name':this[_0x2732cc(0x426)],'needColor':!![]}),_0x5a38db[_0x2732cc(0x4a8)]({'name':this[_0x2732cc(0x2fb)],'needColor':![]});if(this[_0x2732cc(0x240)])_0x5a38db[_0x2732cc(0x4a8)]({'name':this['armor']['name'],'needColor':![]});for(var _0x9cd07d in _0x5a38db)if(!_0x4fd903[_0x5a38db[_0x9cd07d]['name']]||!_0x4fd903[_0x5a38db[_0x9cd07d][_0x2732cc(0x16c)]][_0x2732cc(0x164)])return console[_0x2732cc(0x2e0)]('can\x27t\x20with\x20'+_0x5a38db[_0x9cd07d][_0x2732cc(0x16c)]);var _0x48cc9d=document['createElement'](_0x2732cc(0x38e));_0x48cc9d['width']=PLAYER_DEFAULT_SIZEX,_0x48cc9d[_0x2732cc(0x24a)]=PLAYER_DEFAULT_SIZEY;var _0x2c5139=_0x48cc9d[_0x2732cc(0x221)]('2d');for(var _0x9cd07d in _0x5a38db){var _0x37c1cb=_0x5a38db[_0x9cd07d]['name'];if(!_0x4fd903[_0x37c1cb])return;var _0xb32916=undefined;if(_0x5a38db[_0x9cd07d][_0x2732cc(0x42b)])_0xb32916=_0x4fd903[_0x37c1cb][_0x2732cc(0x3a8)](0x0,0xff,0x0,this['color']['r'],this[_0x2732cc(0x162)]['g'],this[_0x2732cc(0x162)]['b']);else _0xb32916=_0x4fd903[_0x37c1cb]['img'];if(!_0xb32916||!_0xb32916[_0x2732cc(0x3fe)])return![];_0x2c5139[_0x2732cc(0x4da)](_0xb32916,0x0,0x0);}var _0xb32916=new Image();_0xb32916['src']=_0x48cc9d[_0x2732cc(0x1fb)](),_0xb32916['decode']()[_0x2732cc(0x470)](()=>{var _0x28013a=_0x2732cc;console[_0x28013a(0x2e0)]('player\x20body\x20img\x20loaded\x20and\x20ready'),this['bodyPartImgReady']=!![];if(world[_0x28013a(0x460)])world['villageUI']['needRedraw']=!![];if(world['GameUI'])world['GameUI'][_0x28013a(0x39c)]=!![];}),this[_0x2732cc(0x168)]=_0xb32916;if(!_0x4fd903['hand']||!_0x4fd903['hand'][_0x2732cc(0x435)][_0x2732cc(0x3fe)])return![];var _0xb32916=_0x4fd903[_0x2732cc(0x232)][_0x2732cc(0x3a8)](0x0,0xff,0x0,this[_0x2732cc(0x162)]['r'],this[_0x2732cc(0x162)]['g'],this[_0x2732cc(0x162)]['b']);if(!_0xb32916)return![];return this[_0x2732cc(0x35a)]=_0xb32916,!![];},this[_0x556e0f(0x334)]=_0x549040=>{var _0x12352b=_0x556e0f;if(_0x549040[_0x12352b(0x321)])_0x549040=_0x549040[_0x12352b(0x321)];var _0x5af622=Math[_0x12352b(0x43d)](-(_0x549040['y']-this['y']-this[_0x12352b(0x15b)]/0x2+0.5),_0x549040['x']-this['x']-this[_0x12352b(0x15b)]/0x2+0.5);if(_0x5af622>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0x5af622>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0x5af622>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0x5af622>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0x5af622>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0x5af622>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0x5af622>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0x5af622>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0x5af622>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x556e0f(0x3fc)]=_0x100247=>{var _0x63d1a3=_0x556e0f,_0x64bbbf=_0x100247['block'];if(!_0x64bbbf||_0x64bbbf['x']==undefined||_0x64bbbf['y']==undefined)return![];var _0x5203d3=this[_0x63d1a3(0x334)](_0x64bbbf);if(_0x5203d3)this['dir']=_0x5203d3;else return![];return!![];},this[_0x556e0f(0x3b7)]=(_0x35540b,_0x520f82)=>{var _0x12282a=_0x556e0f;for(var _0x59d399=this['x'];_0x59d399<this['x']+this['size'];_0x59d399++)for(var _0xba8132=this['y'];_0xba8132<this['y']+this[_0x12282a(0x15b)];_0xba8132++)_0x520f82[_0x12282a(0x53d)][_0x59d399][_0xba8132][_0x12282a(0x3c9)]=undefined;for(var _0x59d399=_0x35540b['x'];_0x59d399<_0x35540b['x']+this[_0x12282a(0x15b)];_0x59d399++){for(var _0xba8132=_0x35540b['y'];_0xba8132<_0x35540b['y']+this['size'];_0xba8132++){_0x520f82[_0x12282a(0x53d)][_0x59d399][_0xba8132][_0x12282a(0x3c9)]=this;}}this['x']=_0x35540b['x'],this['y']=_0x35540b['y'];},this[_0x556e0f(0x2bf)]=_0x148865=>{var _0x272c96=_0x556e0f;if(!_0x148865||!_0x148865['block']||_0x148865[_0x272c96(0x321)]['x']==undefined||_0x148865[_0x272c96(0x321)]['y']==undefined)return console['log'](_0x272c96(0x42c)),![];var _0x5a3858={'x':_0x148865[_0x272c96(0x321)]['x'],'y':_0x148865[_0x272c96(0x321)]['y']},_0x412b2d=world[_0x272c96(0x4e7)];if(_0x5a3858['x']+this['size']-0x1>=_0x412b2d[_0x272c96(0x1fa)]||_0x5a3858['x']<0x0||_0x5a3858['y']<0x0||_0x5a3858['y']+this[_0x272c96(0x15b)]-0x1>=_0x412b2d[_0x272c96(0x24a)])return console[_0x272c96(0x2e0)](_0x272c96(0x320)),![];var _0x5162bd;if(_0x5a3858['x']==this['x']-0x1&&_0x5a3858['y']>=this['y']&&this['y']+this[_0x272c96(0x15b)]>_0x5a3858['y'])_0x5a3858['y']=this['y'],_0x5162bd='left';else{if(_0x5a3858['y']==this['y']-0x1&&_0x5a3858['x']>=this['x']&&this['x']+this[_0x272c96(0x15b)]>_0x5a3858['x'])_0x5a3858['x']=this['x'],_0x5162bd='top';else{if(_0x5a3858['x']==this['x']+this[_0x272c96(0x15b)]&&_0x5a3858['y']>=this['y']&&this['y']+this['size']>_0x5a3858['y'])_0x5a3858['y']=this['y'],_0x5a3858['x']=this['x']+0x1,_0x5162bd='right';else{if(_0x5a3858['y']==this['y']+this['size']&&_0x5a3858['x']>=this['x']&&this['x']+this[_0x272c96(0x15b)]>_0x5a3858['x'])_0x5a3858['x']=this['x'],_0x5a3858['y']=this['y']+0x1,_0x5162bd='bot';else return console[_0x272c96(0x2e0)]('wrong\x20direction'),![];}}}for(var _0x171815=_0x5a3858['x'];_0x171815<_0x5a3858['x']+this[_0x272c96(0x15b)];_0x171815++){for(var _0x9f9395=_0x5a3858['y'];_0x9f9395<_0x5a3858['y']+this[_0x272c96(0x15b)];_0x9f9395++){if(_0x412b2d[_0x272c96(0x53d)][_0x171815][_0x9f9395][_0x272c96(0x3c9)]&&_0x412b2d[_0x272c96(0x53d)][_0x171815][_0x9f9395][_0x272c96(0x3c9)]!=this)return console[_0x272c96(0x2e0)]('CheckMoveTo\x20:\x20player\x20here'),![];}}var _0x3faad0=world[_0x272c96(0x4e7)][_0x272c96(0x48c)]({'player':this,'dir':_0x5162bd});if(_0x3faad0===![])return console['log'](_0x272c96(0x281)),![];return{'dir':_0x5162bd,'cost':Math['floor'](_0x3faad0*this[_0x272c96(0x1ae)])};},this[_0x556e0f(0x16e)]=_0x4c8d7b=>{var _0x5555b0=_0x556e0f,_0x2754b5=this[_0x5555b0(0x2bf)](_0x4c8d7b);if(_0x2754b5)return _0x2754b5[_0x5555b0(0x518)];return![];},this[_0x556e0f(0x480)]=_0x256b72=>{var _0x141bf0=this['CheckMoveTo'](_0x256b72);if(_0x141bf0)return _0x141bf0['dir'];return![];},this[_0x556e0f(0x4b7)]=_0x3cfa81=>{var _0x19833b=_0x556e0f;if(!_0x3cfa81||!_0x3cfa81[_0x19833b(0x321)]||_0x3cfa81[_0x19833b(0x321)]['x']==undefined||_0x3cfa81[_0x19833b(0x321)]['y']==undefined)return![];var _0x23c94c=this['CheckMoveTo'](_0x3cfa81);if(_0x23c94c===![]||_0x23c94c['cost']>this['ActionPoint'])return![];var _0x39710a=undefined;switch(_0x23c94c[_0x19833b(0x41a)]){case _0x19833b(0x250):_0x39710a=[0x1,0x0];break;case _0x19833b(0x24e):_0x39710a=[-0x1,0x0];break;case'top':_0x39710a=[0x0,-0x1];break;case'bot':_0x39710a=[0x0,0x1];break;default:console[_0x19833b(0x2e0)]('wrong\x20direction');return![];}this['ActionPoint']-=_0x23c94c[_0x19833b(0x518)];var _0x4b4118={'type':_0x19833b(0x206),'mode':PLAYER_ANIMATION_MOVING,'dir':_0x39710a,'from':[this['x'],this['y']],'duration':0x1f4};this[_0x19833b(0x13e)][_0x19833b(0x4a8)](_0x4b4118),this['dir']=_0x39710a;var _0x5046ca={'x':this['x']+_0x39710a[0x0],'y':this['y']+_0x39710a[0x1]};return this[_0x19833b(0x3b7)](_0x5046ca,world[_0x19833b(0x4e7)]),!![];},this[_0x556e0f(0x147)]=_0x2dcfbf=>{var _0x19a5be=_0x556e0f;if(!_0x2dcfbf||!_0x2dcfbf[_0x19a5be(0x321)])return _0x19a5be(0x4ec);var _0x49506c=_0x2dcfbf['block'];if(!_0x49506c['player']||_0x49506c[_0x19a5be(0x3c9)]==this)return'no\x20players';var _0x1b52ce=_0x49506c[_0x19a5be(0x3c9)],_0x4c1f46=Math[_0x19a5be(0x43d)](_0x1b52ce[_0x19a5be(0x41a)][0x1],_0x1b52ce['dir'][0x0]),_0x1b0cd6=Math['atan2'](this['y']-_0x1b52ce['y'],this['x']-_0x1b52ce['x']),_0x385a38=_0x4c1f46-_0x1b0cd6;while(_0x385a38>Math['PI'])_0x385a38-=0x2*Math['PI'];while(_0x385a38<-Math['PI'])_0x385a38+=0x2*Math['PI'];_0x385a38=Math['abs'](_0x385a38);var _0x66d217=0x28+(0x50-0x28)*(_0x385a38/Math['PI']);return Math['floor'](_0x66d217*0x64)/0x64;},this[_0x556e0f(0x3a0)]=_0x342ebc=>{var _0x3f964b=_0x556e0f;if(!_0x342ebc||!_0x342ebc[_0x3f964b(0x321)])return![];var _0x1af1e3=undefined,_0x2367a0=[];if(this[_0x3f964b(0x215)]){if(this['ActionPoint']<this[_0x3f964b(0x215)]['actionCost'])return![];world[_0x3f964b(0x4e4)][_0x3f964b(0x183)]['addMessage']({'type':this[_0x3f964b(0x49c)],'txt':this[_0x3f964b(0x16c)]+_0x3f964b(0x2e3)+this[_0x3f964b(0x215)]['name']});for(var _0x186ecf in this[_0x3f964b(0x215)]['zoneTarget']){var _0x2cb394=this[_0x3f964b(0x215)][_0x3f964b(0x314)][_0x186ecf],_0x5c5fec={..._0x342ebc};_0x5c5fec[_0x3f964b(0x3d1)]=_0x2cb394[_0x3f964b(0x2d4)];var _0x13a67e=this[_0x2cb394[_0x3f964b(0x165)]](_0x5c5fec);console['log'](_0x3f964b(0x26a)+_0x186ecf),console[_0x3f964b(0x2e0)]('selector\x20:\x20'+_0x2cb394[_0x3f964b(0x165)]);if(!_0x13a67e||_0x13a67e[_0x3f964b(0x39e)]<0x1)continue;console[_0x3f964b(0x2e0)](_0x3f964b(0x3f7)+_0x13a67e[_0x3f964b(0x39e)]),_0x2367a0[_0x3f964b(0x4a8)]({'blocks':_0x13a67e,'damage':_0x2cb394[_0x3f964b(0x494)]});}}else{if(this['ActionPoint']<AP_COST_NOWEAPON)return![];world['players'][_0x3f964b(0x183)][_0x3f964b(0x26e)]({'type':this[_0x3f964b(0x49c)],'txt':this[_0x3f964b(0x16c)]+_0x3f964b(0x3f0)}),_0x2367a0=[{'blocks':[_0x342ebc[_0x3f964b(0x321)]],'damage':[{'stats':'Strength','type':_0x3f964b(0x1b7),'value':0x1}]}];}for(var _0x186ecf in _0x2367a0){var _0x356ea8=_0x2367a0[_0x186ecf],_0x4638e5=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x356ea8[_0x3f964b(0x382)]}),_0x210a0d=!![];if(!_0x4638e5||_0x4638e5['length']<0x1)continue;for(var _0x5aeff6 in _0x356ea8[_0x3f964b(0x1e6)]){var _0x3768ee=_0x356ea8['blocks'][_0x5aeff6];if(!_0x3768ee||!_0x3768ee[_0x3f964b(0x3c9)])continue;var _0x575cb8=this[_0x3f964b(0x147)]({'block':_0x3768ee}),_0x48f6a9=!![];if(Math[_0x3f964b(0x25a)](Math[_0x3f964b(0x3bf)]()*0x64)>_0x575cb8)_0x48f6a9=![];if(_0x48f6a9)_0x210a0d=![],_0x3768ee[_0x3f964b(0x3c9)]['receive_attack'](_0x4638e5);else{world[_0x3f964b(0x4e4)][_0x3f964b(0x183)][_0x3f964b(0x26e)]({'txt':this[_0x3f964b(0x16c)]+_0x3f964b(0x4de)+_0x575cb8+'%)'});var _0x49c006={'type':_0x3f964b(0x3e7),'mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x3f964b(0x3bf)]()*0x2*Math['PI']};_0x3768ee[_0x3f964b(0x3c9)][_0x3f964b(0x13e)][_0x3f964b(0x4a8)](_0x49c006);}}}var _0x1aed5c={'type':'attack','mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0x342ebc[_0x3f964b(0x321)]['x'],_0x342ebc[_0x3f964b(0x321)]['y']],'from':[this['x'],this['y']],'duration':0x1f4};this[_0x3f964b(0x215)]&&this[_0x3f964b(0x215)][_0x3f964b(0x444)]&&(_0x1aed5c[_0x3f964b(0x444)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0x342ebc[_0x3f964b(0x321)]['x']+0.5,'y':_0x342ebc[_0x3f964b(0x321)]['y']+0.5},'projectilName':this[_0x3f964b(0x215)]['projectil']['ammo']?this['weapon']['projectil']['ammo']:undefined,'projectilSpeed':this['weapon']['projectil'][_0x3f964b(0x45c)]?this[_0x3f964b(0x215)]['projectil']['projectilSpeed']:0x32,'sound':this[_0x3f964b(0x215)][_0x3f964b(0x444)][_0x3f964b(0x34a)]&&!_0x210a0d?this[_0x3f964b(0x215)][_0x3f964b(0x444)]['sound']:undefined});this[_0x3f964b(0x13e)][_0x3f964b(0x4a8)](_0x1aed5c);if(this[_0x3f964b(0x215)]){var _0x141ff7=PLAYER_WEAPON_IMG[_0x3f964b(0x2f9)](_0xf6e76c=>_0xf6e76c[_0x3f964b(0x16c)]==this[_0x3f964b(0x215)]['img']);world[_0x3f964b(0x4e6)][_0x3f964b(0x4b4)](_0x141ff7[_0x3f964b(0x34a)]),this[_0x3f964b(0x4fd)]-=this[_0x3f964b(0x215)][_0x3f964b(0x506)];}else world['Music'][_0x3f964b(0x4b4)](_0x3f964b(0x188)),this[_0x3f964b(0x4fd)]-=AP_COST_NOWEAPON;return this[_0x3f964b(0x41a)]=this['get_direction_from_pos'](_0x342ebc['block']),!![];},this[_0x556e0f(0x3db)]=(_0x386af5,_0x3cab7d,_0xb51f9d,_0x4ed7c6)=>{var _0x425d4b=_0x556e0f,_0x3fa635=new Date()[_0x425d4b(0x22d)]();while(this[_0x425d4b(0x13e)]&&this['animation'][0x0]){!this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2a5)]&&(this[_0x425d4b(0x13e)][0x0]['startTime']=new Date()[_0x425d4b(0x22d)]());if(_0x3fa635>this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2a5)]+this[_0x425d4b(0x13e)][0x0]['duration']){if(this['animation'][0x0][_0x425d4b(0x444)])world[_0x425d4b(0x4e4)][_0x425d4b(0x1e0)](this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x444)]);this[_0x425d4b(0x13e)][_0x425d4b(0x44b)](),this[_0x425d4b(0x39d)]=!![];}else break;}if(!this['bodyPartImgReady']||!this[_0x425d4b(0x168)])return![];if(this[_0x425d4b(0x215)]){var _0x2346e7=world[_0x425d4b(0x259)][this[_0x425d4b(0x215)]['name']],_0x5c2eba=PLAYER_WEAPON_IMG[_0x425d4b(0x2f9)](_0x48c130=>_0x48c130[_0x425d4b(0x16c)]==this[_0x425d4b(0x215)][_0x425d4b(0x435)]);if(!_0x2346e7||!_0x5c2eba)return console[_0x425d4b(0x2e0)](_0x425d4b(0x229)+this[_0x425d4b(0x215)][_0x425d4b(0x16c)]);_0x5c2eba=_0x5c2eba[_0x425d4b(0x4a5)];}if(!this['animation']||!this[_0x425d4b(0x13e)][0x0]){var _0x1fe6d4=Math[_0x425d4b(0x25a)](_0x3cab7d+this['size']*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=Math[_0x425d4b(0x25a)](_0xb51f9d+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x4af)]/0x2),_0x42999b=Math['atan2'](this[_0x425d4b(0x41a)][0x0],-this[_0x425d4b(0x41a)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math['cos'](_0x3fa635/0x1f4));_0x386af5[_0x425d4b(0x1ef)](this[_0x425d4b(0x168)],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)],_0x42999b);var _0x19f880=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math['cos'](_0x3fa635/0x12c)),_0x334ba3=Math['floor'](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x19f880+_0x42999b-Math['PI']/0x2)),_0xa55dcb=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this['size']*Math[_0x425d4b(0x19c)](_0x19f880+_0x42999b-Math['PI']/0x2)),_0x556071=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](-_0x19f880+_0x42999b+Math['PI']/0x2)),_0x14c11f=Math['floor'](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](-_0x19f880+_0x42999b+Math['PI']/0x2));_0x386af5['drawImageRotate'](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x334ba3,_0x2cbd0f+_0xa55dcb,_0x4ed7c6[_0x425d4b(0x4c4)],_0x19f880+_0x42999b);if(this[_0x425d4b(0x215)])_0x386af5[_0x425d4b(0x33b)](_0x2346e7[_0x425d4b(0x435)],_0x1fe6d4+_0x556071,_0x2cbd0f+_0x14c11f,_0x5c2eba['x'],_0x5c2eba['y'],_0x4ed7c6[_0x425d4b(0x4c4)],-_0x19f880+_0x42999b);_0x386af5[_0x425d4b(0x1df)](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x556071,_0x2cbd0f+_0x14c11f,0x14,0x14,-_0x4ed7c6[_0x425d4b(0x4c4)],+_0x19f880-_0x42999b);}else{if(this[_0x425d4b(0x13e)]&&this[_0x425d4b(0x13e)][0x0]&&this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x4ee)]==PLAYER_ANIMATION_MOVING){var _0xa86b8b=this[_0x425d4b(0x13e)][0x0];pos=_0x4ed7c6[_0x425d4b(0x3ca)](_0xa86b8b[_0x425d4b(0x2cb)][0x0]+_0xa86b8b['dir'][0x0],_0xa86b8b[_0x425d4b(0x2cb)][0x1]+_0xa86b8b['dir'][0x1]);var _0x1fe6d4=Math['floor'](pos['x']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=Math[_0x425d4b(0x25a)](pos['y']+this['size']*_0x4ed7c6[_0x425d4b(0x4af)]/0x2);world[_0x425d4b(0x4e6)][_0x425d4b(0x4b4)]('move');var _0x1cd8a5=[this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x41a)][0x0],this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x41a)][0x1]],_0x3cc3d5=0x1-(_0x3fa635-this['animation'][0x0]['startTime'])/this['animation'][0x0][_0x425d4b(0x410)];_0x1fe6d4-=_0x1cd8a5[0x0]*_0x4ed7c6['blocksize_x']*_0x3cc3d5,_0x2cbd0f-=_0x1cd8a5[0x1]*_0x4ed7c6[_0x425d4b(0x4af)]*_0x3cc3d5;var _0x42999b=Math[_0x425d4b(0x43d)](_0x1cd8a5[0x0],-_0x1cd8a5[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math[_0x425d4b(0x3af)](_0x3fa635/0x64));_0x386af5[_0x425d4b(0x1ef)](this[_0x425d4b(0x168)],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6[_0x425d4b(0x4c4)]*this['size'],_0x42999b);var _0x32a1a3=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x425d4b(0x3af)](_0x3fa635/0x64))+_0x42999b,_0x17f025=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math['sin'](_0x3fa635/0x64))-_0x42999b,_0x334ba3=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this['size']*Math[_0x425d4b(0x3af)](_0x32a1a3-Math['PI']/0x2)),_0xa55dcb=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this['size']*Math[_0x425d4b(0x19c)](_0x32a1a3-Math['PI']/0x2)),_0x2b5693=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x17f025-Math['PI']/0x2)),_0x545fb7=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this['size']*Math[_0x425d4b(0x19c)](_0x17f025-Math['PI']/0x2));_0x386af5['drawImageRotate'](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x334ba3,_0x2cbd0f+_0xa55dcb,_0x4ed7c6[_0x425d4b(0x4c4)],_0x32a1a3);if(this['weapon'])_0x386af5[_0x425d4b(0x33b)](_0x2346e7[_0x425d4b(0x435)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,_0x5c2eba['x'],_0x5c2eba['y'],_0x4ed7c6[_0x425d4b(0x4c4)],-_0x17f025);_0x386af5['drawImageMirrorRotateCenter'](this['handImg'],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,0x14,0x14,_0x4ed7c6[_0x425d4b(0x4c4)],_0x17f025+Math['PI']);}else{if(this[_0x425d4b(0x13e)]&&this[_0x425d4b(0x13e)][0x0]&&this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x4ee)]==PLAYER_ANIMATION_DODGE){var _0xa86b8b=this[_0x425d4b(0x13e)][0x0],_0x3cc3d5=0x1-(_0x3fa635-_0xa86b8b[_0x425d4b(0x2a5)])/_0xa86b8b['duration'];_0x3cc3d5=_0x3cc3d5<0.5?0x0:_0x3cc3d5>0.75?0x1-(_0x3cc3d5-0.5)*0x2:(_0x3cc3d5-0.5)*0x2;var _0x1a58e6=_0x3cc3d5*Math[_0x425d4b(0x3af)](_0xa86b8b[_0x425d4b(0x366)])*0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)],_0x174327=_0x3cc3d5*Math[_0x425d4b(0x19c)](_0xa86b8b[_0x425d4b(0x366)])*0x64*_0x4ed7c6['scale']*this[_0x425d4b(0x15b)],_0x1fe6d4=_0x1a58e6+Math[_0x425d4b(0x25a)](_0x3cab7d+this['size']*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=_0x174327+Math[_0x425d4b(0x25a)](_0xb51f9d+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x4af)]/0x2),_0x42999b=Math[_0x425d4b(0x43d)](this[_0x425d4b(0x41a)][0x0],-this[_0x425d4b(0x41a)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x425d4b(0x3af)](_0x3fa635/0x1f4));_0x386af5[_0x425d4b(0x1ef)](this[_0x425d4b(0x168)],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6['scale']*this[_0x425d4b(0x15b)],_0x42999b);var _0x19f880=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x425d4b(0x3af)](_0x3fa635/0x12c)),_0x334ba3=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this['size']*Math[_0x425d4b(0x3af)](_0x19f880+_0x42999b-Math['PI']/0x2)),_0xa55dcb=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math['sin'](_0x19f880+_0x42999b-Math['PI']/0x2)),_0x556071=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](-_0x19f880+_0x42999b+Math['PI']/0x2)),_0x14c11f=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](-_0x19f880+_0x42999b+Math['PI']/0x2));_0x386af5[_0x425d4b(0x1ef)](this['handImg'],_0x1fe6d4+_0x334ba3,_0x2cbd0f+_0xa55dcb,_0x4ed7c6['scale'],_0x19f880+_0x42999b);if(this[_0x425d4b(0x215)])_0x386af5['drawImageRotateCenter'](_0x2346e7[_0x425d4b(0x435)],_0x1fe6d4+_0x556071,_0x2cbd0f+_0x14c11f,_0x5c2eba['x'],_0x5c2eba['y'],_0x4ed7c6[_0x425d4b(0x4c4)],-_0x19f880+_0x42999b);_0x386af5[_0x425d4b(0x1df)](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x556071,_0x2cbd0f+_0x14c11f,0x14,0x14,-_0x4ed7c6[_0x425d4b(0x4c4)],+_0x19f880-_0x42999b);}else{if(this[_0x425d4b(0x13e)]&&this[_0x425d4b(0x13e)][0x0]&&this[_0x425d4b(0x13e)][0x0]['mode']==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this[_0x425d4b(0x215)]){pos=_0x4ed7c6[_0x425d4b(0x3ca)](this['animation'][0x0][_0x425d4b(0x2cb)][0x0],this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2cb)][0x1]);var _0x1fe6d4=Math[_0x425d4b(0x25a)](pos['x']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=Math[_0x425d4b(0x25a)](pos['y']+this['size']*_0x4ed7c6[_0x425d4b(0x4af)]/0x2),_0x1cd8a5=[this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x41a)][0x0]-(this['x']+this[_0x425d4b(0x15b)]/0x2)+0.5,this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x41a)][0x1]-(this['y']+this[_0x425d4b(0x15b)]/0x2)+0.5],_0x3cc3d5=0x1-(_0x3fa635-this[_0x425d4b(0x13e)][0x0]['startTime'])/this[_0x425d4b(0x13e)][0x0]['duration'];if(_0x3cc3d5>0.5)_0x3cc3d5=0x1-_0x3cc3d5;_0x1fe6d4+=_0x1cd8a5[0x0]*_0x4ed7c6[_0x425d4b(0x19b)]*_0x3cc3d5/0x2,_0x2cbd0f+=_0x1cd8a5[0x1]*_0x4ed7c6[_0x425d4b(0x4af)]*_0x3cc3d5/0x2;var _0x42999b=Math[_0x425d4b(0x43d)](_0x1cd8a5[0x0],-_0x1cd8a5[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x425d4b(0x3af)](_0x3fa635/0x64));_0x386af5[_0x425d4b(0x1ef)](this['bodyPartImg'],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)],_0x42999b);var _0x32a1a3=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x425d4b(0x3af)](_0x3fa635/0x64))+_0x42999b,_0x17f025=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x425d4b(0x19c)](_0x3fa635/0x64))-_0x42999b,_0x334ba3=Math['floor'](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this['size']*Math[_0x425d4b(0x3af)](_0x32a1a3-Math['PI']/0x2)),_0xa55dcb=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](_0x32a1a3-Math['PI']/0x2)),_0x2b5693=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x17f025-Math['PI']/0x2)),_0x545fb7=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](_0x17f025-Math['PI']/0x2));_0x386af5['drawImageRotate'](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x334ba3,_0x2cbd0f+_0xa55dcb,_0x4ed7c6[_0x425d4b(0x4c4)],_0x32a1a3),_0x386af5[_0x425d4b(0x1df)](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,0x14,0x14,_0x4ed7c6[_0x425d4b(0x4c4)],_0x17f025+Math['PI']);}else{if(this[_0x425d4b(0x215)][_0x425d4b(0x4a1)]==_0x425d4b(0x3be)){pos=_0x4ed7c6['get_pixel_by_block'](this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2cb)][0x0],this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2cb)][0x1]);var _0x1fe6d4=Math[_0x425d4b(0x25a)](pos['x']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=Math[_0x425d4b(0x25a)](pos['y']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x4af)]/0x2),_0x1cd8a5=[this['animation'][0x0]['dir'][0x0]-(this['x']+this[_0x425d4b(0x15b)]/0x2)+0.5,this[_0x425d4b(0x13e)][0x0]['dir'][0x1]-(this['y']+this['size']/0x2)+0.5],_0x3cc3d5=0x1-(_0x3fa635-this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2a5)])/this['animation'][0x0][_0x425d4b(0x410)];if(_0x3cc3d5>0.5)_0x3cc3d5=0x1-_0x3cc3d5;_0x1fe6d4+=_0x1cd8a5[0x0]*_0x4ed7c6[_0x425d4b(0x19b)]*_0x3cc3d5,_0x2cbd0f+=_0x1cd8a5[0x1]*_0x4ed7c6[_0x425d4b(0x4af)]*_0x3cc3d5;var _0x42999b=Math[_0x425d4b(0x43d)](_0x1cd8a5[0x0],-_0x1cd8a5[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x425d4b(0x3af)](_0x3fa635/0x64));_0x386af5[_0x425d4b(0x1ef)](this[_0x425d4b(0x168)],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6['scale']*this['size'],_0x42999b);var _0x32a1a3=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x425d4b(0x3af)](_0x3fa635/0x64))+_0x42999b,_0x17f025=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math['sin'](_0x3fa635/0x64))-_0x42999b,_0x334ba3=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x32a1a3-Math['PI']/0x2)),_0xa55dcb=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math['sin'](_0x32a1a3-Math['PI']/0x2)),_0x2b5693=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this['size']*Math[_0x425d4b(0x3af)](_0x17f025-Math['PI']/0x2)),_0x545fb7=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this[_0x425d4b(0x15b)]*Math['sin'](_0x17f025-Math['PI']/0x2));_0x386af5[_0x425d4b(0x1ef)](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x334ba3,_0x2cbd0f+_0xa55dcb,_0x4ed7c6[_0x425d4b(0x4c4)],_0x32a1a3);if(this[_0x425d4b(0x215)])_0x386af5[_0x425d4b(0x33b)](_0x2346e7[_0x425d4b(0x435)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,_0x5c2eba['x'],_0x5c2eba['y'],_0x4ed7c6[_0x425d4b(0x4c4)],-_0x17f025);_0x386af5[_0x425d4b(0x1df)](this['handImg'],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,0x14,0x14,_0x4ed7c6[_0x425d4b(0x4c4)],_0x17f025+Math['PI']);}else{if(this[_0x425d4b(0x215)][_0x425d4b(0x4a1)]==_0x425d4b(0x312)){pos=_0x4ed7c6[_0x425d4b(0x3ca)](this['animation'][0x0][_0x425d4b(0x2cb)][0x0],this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2cb)][0x1]);var _0x1fe6d4=Math['floor'](pos['x']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=Math[_0x425d4b(0x25a)](pos['y']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x4af)]/0x2),_0x1cd8a5=[this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x41a)][0x0]-(this['x']+this['size']/0x2)+0.5,this['animation'][0x0][_0x425d4b(0x41a)][0x1]-(this['y']+this[_0x425d4b(0x15b)]/0x2)+0.5],_0x3cc3d5=0x1-(_0x3fa635-this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2a5)])/this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x410)];if(_0x3cc3d5>0.5)_0x3cc3d5=0x1-_0x3cc3d5;var _0x42999b=Math[_0x425d4b(0x43d)](_0x1cd8a5[0x0],-_0x1cd8a5[0x1])-Math['PI']/0x2;_0x386af5[_0x425d4b(0x1ef)](this[_0x425d4b(0x168)],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)],_0x42999b);var _0x32a1a3=Math['PI']*0x7/0x10+_0x42999b,_0x17f025=Math['PI']*0x7/0x10-_0x42999b,_0x334ba3=Math[_0x425d4b(0x25a)](0x64*(0x1-_0x3cc3d5)*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x32a1a3-Math['PI']/0x2)),_0xa55dcb=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this['size']*Math[_0x425d4b(0x19c)](_0x32a1a3-Math['PI']/0x2)),_0x2b5693=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x17f025-Math['PI']/0x2)),_0x545fb7=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](_0x17f025-Math['PI']/0x2));_0x386af5['drawImageRotate'](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x334ba3,_0x2cbd0f+_0xa55dcb,_0x4ed7c6[_0x425d4b(0x4c4)],_0x32a1a3);if(this[_0x425d4b(0x215)])_0x386af5[_0x425d4b(0x33b)](_0x2346e7['img'],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,_0x5c2eba['x'],_0x5c2eba['y'],_0x4ed7c6[_0x425d4b(0x4c4)],-_0x17f025);_0x386af5['drawImageMirrorRotateCenter'](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,0x14,0x14,_0x4ed7c6[_0x425d4b(0x4c4)],_0x17f025+Math['PI']);}else{if(this[_0x425d4b(0x215)][_0x425d4b(0x4a1)]==_0x425d4b(0x49d)){pos=_0x4ed7c6['get_pixel_by_block'](this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2cb)][0x0],this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2cb)][0x1]);var _0x1fe6d4=Math['floor'](pos['x']+this['size']*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=Math[_0x425d4b(0x25a)](pos['y']+this[_0x425d4b(0x15b)]*_0x4ed7c6['blocksize_y']/0x2),_0x1cd8a5=[this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x41a)][0x0]-(this['x']+this[_0x425d4b(0x15b)]/0x2)+0.5,this[_0x425d4b(0x13e)][0x0]['dir'][0x1]-(this['y']+this[_0x425d4b(0x15b)]/0x2)+0.5],_0x3cc3d5=0x1-(_0x3fa635-this[_0x425d4b(0x13e)][0x0]['startTime'])/this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x410)];if(_0x3cc3d5>0.5)_0x3cc3d5=0x1-_0x3cc3d5;_0x3cc3d5=_0x3cc3d5/0x3,_0x1fe6d4+=_0x1cd8a5[0x0]*_0x4ed7c6['blocksize_x']*_0x3cc3d5,_0x2cbd0f+=_0x1cd8a5[0x1]*_0x4ed7c6[_0x425d4b(0x4af)]*_0x3cc3d5;var _0x42999b=Math[_0x425d4b(0x43d)](_0x1cd8a5[0x0],-_0x1cd8a5[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x425d4b(0x3af)](_0x3fa635/0x64));_0x386af5[_0x425d4b(0x1ef)](this[_0x425d4b(0x168)],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6['scale']*this[_0x425d4b(0x15b)],_0x42999b);var _0x32a1a3=getAngleFromTime(0x0,Math['PI']/0x40,Math[_0x425d4b(0x3af)](_0x3fa635/0x64))+_0x42999b,_0x17f025=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math['sin']((_0x3fa635-this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2a5)])/this[_0x425d4b(0x13e)][0x0]['duration']*1.1*Math['PI']))-_0x42999b,_0x334ba3=Math['floor'](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x32a1a3-Math['PI']/0x2)),_0xa55dcb=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](_0x32a1a3-Math['PI']/0x2)),_0x2b5693=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x3af)](_0x17f025-Math['PI']/0x2)),_0x545fb7=Math['floor'](0x64*_0x4ed7c6['scale']*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](_0x17f025-Math['PI']/0x2));_0x386af5['drawImageRotate'](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x334ba3,_0x2cbd0f+_0xa55dcb,_0x4ed7c6[_0x425d4b(0x4c4)],_0x32a1a3);if(this[_0x425d4b(0x215)])_0x386af5[_0x425d4b(0x33b)](_0x2346e7[_0x425d4b(0x435)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,_0x5c2eba['x'],_0x5c2eba['y'],_0x4ed7c6['scale'],_0x42999b-Math['PI']/0x6);_0x386af5['drawImageMirrorRotateCenter'](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,0x14,0x14,_0x4ed7c6[_0x425d4b(0x4c4)],_0x17f025+Math['PI']);}else{if(this['weapon']['anim']==_0x425d4b(0x17c)){pos=_0x4ed7c6[_0x425d4b(0x3ca)](this[_0x425d4b(0x13e)][0x0]['from'][0x0],this['animation'][0x0][_0x425d4b(0x2cb)][0x1]);var _0x1fe6d4=Math['floor'](pos['x']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x19b)]/0x2),_0x2cbd0f=Math[_0x425d4b(0x25a)](pos['y']+this[_0x425d4b(0x15b)]*_0x4ed7c6[_0x425d4b(0x4af)]/0x2),_0x1cd8a5=[this[_0x425d4b(0x13e)][0x0]['dir'][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x41a)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x3cc3d5=0x1-(_0x3fa635-this['animation'][0x0]['startTime'])/this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x410)];if(_0x3cc3d5>0.5)_0x3cc3d5=0x1-_0x3cc3d5;_0x3cc3d5=_0x3cc3d5/0x3,_0x1fe6d4+=_0x1cd8a5[0x0]*_0x4ed7c6[_0x425d4b(0x19b)]*_0x3cc3d5,_0x2cbd0f+=_0x1cd8a5[0x1]*_0x4ed7c6[_0x425d4b(0x4af)]*_0x3cc3d5;var _0x42999b=Math[_0x425d4b(0x43d)](_0x1cd8a5[0x0],-_0x1cd8a5[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math['cos']((_0x3fa635-this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x2a5)])/this[_0x425d4b(0x13e)][0x0][_0x425d4b(0x410)]*0x1*Math['PI']));_0x386af5['drawImageRotate'](this['bodyPartImg'],_0x1fe6d4,_0x2cbd0f,_0x4ed7c6['scale']*this[_0x425d4b(0x15b)],_0x42999b);var _0x17f025=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math[_0x425d4b(0x3af)]((_0x3fa635-this['animation'][0x0]['startTime'])/this['animation'][0x0][_0x425d4b(0x410)]*0x1*Math['PI']))-_0x42999b,_0x32a1a3=_0x17f025-Math['PI']/0x20,_0x334ba3=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math['cos'](_0x32a1a3-Math['PI']/0x2)),_0xa55dcb=Math['floor'](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this['size']*Math[_0x425d4b(0x19c)](_0x32a1a3-Math['PI']/0x2)),_0x2b5693=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6['scale']*this['size']*Math[_0x425d4b(0x3af)](_0x17f025-Math['PI']/0x2)),_0x545fb7=Math[_0x425d4b(0x25a)](0x64*_0x4ed7c6[_0x425d4b(0x4c4)]*this[_0x425d4b(0x15b)]*Math[_0x425d4b(0x19c)](_0x17f025-Math['PI']/0x2));_0x386af5[_0x425d4b(0x1df)](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x334ba3,_0x2cbd0f-_0xa55dcb,0x14,0x14,_0x4ed7c6[_0x425d4b(0x4c4)],_0x32a1a3+Math['PI']);if(this[_0x425d4b(0x215)])_0x386af5[_0x425d4b(0x33b)](_0x2346e7[_0x425d4b(0x435)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,_0x5c2eba['x'],_0x5c2eba['y'],_0x4ed7c6[_0x425d4b(0x4c4)],-_0x17f025);_0x386af5[_0x425d4b(0x1df)](this[_0x425d4b(0x35a)],_0x1fe6d4+_0x2b5693,_0x2cbd0f-_0x545fb7,0x14,0x14,_0x4ed7c6[_0x425d4b(0x4c4)],_0x17f025+Math['PI']);}}}}}}}}}},this[_0x556e0f(0x4c5)]=(_0x324fd1,_0xe86bdd)=>{var _0x4a23ed=_0x556e0f;if(!_0x324fd1||!_0xe86bdd||_0x324fd1[_0x4a23ed(0x39e)]>0xc8)return undefined;var _0x37825f=_0x324fd1[_0x324fd1[_0x4a23ed(0x39e)]-0x1];console['log'](_0x4a23ed(0x296)+[_0x37825f['x'],_0x37825f['y']]);if(_0x37825f['x']==_0xe86bdd['x']&&_0x37825f['y']==_0xe86bdd['y'])return _0x324fd1;var _0x4026cc=[{'x':_0x37825f['x']+0x1,'y':_0x37825f['y']},{'x':_0x37825f['x']-0x1,'y':_0x37825f['y']},{'x':_0x37825f['x'],'y':_0x37825f['y']-0x1},{'x':_0x37825f['x'],'y':_0x37825f['y']+0x1}];_0x4026cc=_0x4026cc['sort']((_0x238d30,_0x579119)=>{return dist(_0x238d30['x'],_0x238d30['y'],_0xe86bdd['x'],_0xe86bdd['y'])-dist(_0x579119['x'],_0x579119['y'],_0xe86bdd['x'],_0xe86bdd['y']);});for(var _0x14780c in _0x4026cc){var _0x50e119=_0x4026cc[_0x14780c]['x'],_0x184b69=_0x4026cc[_0x14780c]['y'];console[_0x4a23ed(0x2e0)](_0x4a23ed(0x431)+[_0x50e119,_0x184b69]+'?');var _0x50a8a5=![];for(var _0x25aaa8 in _0x324fd1)if(_0x324fd1[_0x25aaa8]['x']==_0x50e119&&_0x324fd1[_0x25aaa8]['y']==_0x184b69)_0x50a8a5=!![];if(_0x50a8a5)continue;if(!world['map'][_0x4a23ed(0x53d)][_0x50e119]||!world[_0x4a23ed(0x4e7)][_0x4a23ed(0x53d)][_0x50e119][_0x184b69])continue;var _0x5dd4ac=world['map'][_0x4a23ed(0x53d)][_0x50e119][_0x184b69];if(_0x5dd4ac['player']&&!(_0xe86bdd['x']==_0x5dd4ac['x']&&_0xe86bdd['y']==_0x5dd4ac['y'])||!_0x5dd4ac[_0x4a23ed(0x42a)]())continue;console['log'](_0x4a23ed(0x51d));var _0x2cc767=this[_0x4a23ed(0x4c5)](_0x324fd1[_0x4a23ed(0x38f)]([_0x4026cc[_0x14780c]]),_0xe86bdd);if(_0x2cc767)return _0x2cc767;}return console[_0x4a23ed(0x2e0)]('nope,\x20not\x20this\x20way'),undefined;},this[_0x556e0f(0x3c4)]=()=>{var _0x53d3e4=_0x556e0f;console[_0x53d3e4(0x2e0)](this[_0x53d3e4(0x16c)]+'\x20AI\x20is\x20playing');var _0xb502be=this[_0x53d3e4(0x368)]['find'](_0x8c2368=>_0x8c2368[_0x53d3e4(0x16c)]==_0x53d3e4(0x43a)),_0x2d6e4f=_0xb502be[_0x53d3e4(0x29e)](_0xb502be[_0x53d3e4(0x4b1)]);_0x2d6e4f=_0x2d6e4f['find'](_0x231116=>_0x231116[_0x53d3e4(0x3c9)]&&_0x231116[_0x53d3e4(0x3c9)][_0x53d3e4(0x49c)]!=this[_0x53d3e4(0x49c)]);if(this['attack']({'block':_0x2d6e4f}))return![];var _0x5408c4=world[_0x53d3e4(0x4e4)]['playerList'][_0x53d3e4(0x381)](_0x2c9b1e=>_0x2c9b1e[_0x53d3e4(0x49c)]!=this[_0x53d3e4(0x49c)]);if(!_0x5408c4||_0x5408c4['length']<0x1)return!![];var _0x10226a=_0x5408c4['sort']((_0x32fd27,_0x4a44b5)=>{return dist(this['x'],this['y'],_0x32fd27['x'],_0x32fd27['y'])-dist(this['x'],this['y'],_0x4a44b5['x'],_0x4a44b5['y']);})[0x0];if(!this['AI'][_0x53d3e4(0x514)]||this['AI'][_0x53d3e4(0x514)][_0x53d3e4(0x39e)]<0xa||dist(this['x'],this['y'],_0x10226a['x'],_0x10226a['y'])<0x5)this['AI'][_0x53d3e4(0x514)]=this[_0x53d3e4(0x4c5)]([{'x':this['x'],'y':this['y']}],_0x10226a);var _0x23e5fd=this['AI'][_0x53d3e4(0x514)];if(_0x23e5fd&&_0x23e5fd[_0x53d3e4(0x39e)]>0x1)_0x23e5fd=_0x23e5fd[0x1];if(this['TryMoveTo']({'block':world[_0x53d3e4(0x4e7)]['mapBlock'][_0x23e5fd['x']][_0x23e5fd['y']]}))return this['AI'][_0x53d3e4(0x514)][_0x53d3e4(0x44b)](),![];return!![];};},PLAYER_FACE_IMG=[_0x30a6b3(0x38a),_0x30a6b3(0x4c8),_0x30a6b3(0x1c9),_0x30a6b3(0x468),'face_4'],PLAYER_BODY_IMG=[_0x30a6b3(0x3a1),_0x30a6b3(0x2dc),_0x30a6b3(0x3f1),_0x30a6b3(0x53a),'body_4'],PROJECTIL_IMG=[_0x30a6b3(0x1a3)],PlayersManager=function(_0x5014fd){var _0x43bdca=_0x30a6b3;this[_0x43bdca(0x332)]=[],this['playerDefaultImgs']=undefined,this[_0x43bdca(0x1e2)]=![],this[_0x43bdca(0x1c0)]=undefined,this[_0x43bdca(0x3ad)]=world['Screen']['canList'][_0x43bdca(0x4e4)],this[_0x43bdca(0x1c5)]=world[_0x43bdca(0x258)][_0x43bdca(0x3c6)]['players'],this[_0x43bdca(0x3f6)]=!![],this[_0x43bdca(0x183)]=new MessageSystem(),this[_0x43bdca(0x278)]=[],this[_0x43bdca(0x1e0)]=_0x10661e=>{var _0x3c5832=_0x43bdca;if(!_0x10661e||!_0x10661e[_0x3c5832(0x2b1)]||!_0x10661e[_0x3c5832(0x302)]||!_0x10661e['projectilName']||!_0x10661e[_0x3c5832(0x45c)])return;var _0x1a4ebc=_0x10661e[_0x3c5832(0x2b1)],_0x4e2952=_0x10661e['posB'];this[_0x3c5832(0x278)][_0x3c5832(0x4a8)]({'posA':_0x1a4ebc,'posB':_0x4e2952,'angle':Math[_0x3c5832(0x43d)](_0x4e2952['y']-_0x1a4ebc['y'],_0x4e2952['x']-_0x1a4ebc['x']),'name':_0x10661e[_0x3c5832(0x407)],'duration':_0x10661e[_0x3c5832(0x45c)]?_0x10661e[_0x3c5832(0x45c)]*dist(_0x1a4ebc['x'],_0x1a4ebc['y'],_0x4e2952['x'],_0x4e2952['y']):0x64});if(_0x10661e[_0x3c5832(0x34a)])world[_0x3c5832(0x4e6)][_0x3c5832(0x4b4)](_0x10661e[_0x3c5832(0x34a)]);},this[_0x43bdca(0x16f)]=()=>{var _0xd83220=_0x43bdca,_0xb206fc=new Date()[_0xd83220(0x22d)]();for(var _0xde5f34 in this[_0xd83220(0x278)]){if(this['projectilAnimation'][_0xde5f34][_0xd83220(0x2a5)]&&_0xb206fc-this[_0xd83220(0x278)][_0xde5f34][_0xd83220(0x2a5)]>this[_0xd83220(0x278)][_0xde5f34][_0xd83220(0x410)])this[_0xd83220(0x278)][_0xd83220(0x270)](_0xde5f34,0x1);else{if(!this[_0xd83220(0x278)][_0xde5f34][_0xd83220(0x2a5)])this[_0xd83220(0x278)][_0xde5f34][_0xd83220(0x2a5)]=_0xb206fc;}}var _0x2cf93c=world[_0xd83220(0x4e7)],_0x3c8c53=this[_0xd83220(0x1c5)];for(var _0xde5f34 in this[_0xd83220(0x278)]){var _0x56b5c8=this[_0xd83220(0x278)][_0xde5f34],_0x3fd482=(_0xb206fc-_0x56b5c8[_0xd83220(0x2a5)])/_0x56b5c8['duration'],_0xc3346f=_0x3fd482>0.5?0x1-_0x3fd482:_0x3fd482,_0x29d78a=_0x56b5c8[_0xd83220(0x2b1)]['x']+_0x3fd482*(_0x56b5c8['posB']['x']-_0x56b5c8['posA']['x']),_0x32a953=_0x56b5c8[_0xd83220(0x2b1)]['y']+_0x3fd482*(_0x56b5c8[_0xd83220(0x302)]['y']-_0x56b5c8[_0xd83220(0x2b1)]['y']),_0x5eb294=_0x2cf93c[_0xd83220(0x4a7)](_0x29d78a,_0x32a953);if(_0x5eb294['x']<0x0||_0x5eb294['y']<0x0||_0x5eb294['x']>_0x3c8c53['width']||_0x5eb294['y']>_0x3c8c53[_0xd83220(0x24a)])continue;_0x3c8c53[_0xd83220(0x1ef)](world[_0xd83220(0x259)][_0x56b5c8['name']][_0xd83220(0x435)],_0x5eb294['x'],_0x5eb294['y'],_0x2cf93c[_0xd83220(0x4c4)]*(0.5+_0xc3346f*0x3),_0x56b5c8[_0xd83220(0x366)]);}},this['delete_player']=_0x329af9=>{var _0x12e4c0=_0x43bdca;if(!_0x329af9)return console[_0x12e4c0(0x2e0)](_0x12e4c0(0x403));_0x329af9[_0x12e4c0(0x13b)]=!![],world[_0x12e4c0(0x534)]['kill_player'](_0x329af9);if(_0x329af9&&_0x329af9['x']!=undefined&&_0x329af9['y']!=undefined){for(var _0x4887c8=_0x329af9['x'];_0x4887c8<_0x329af9['x']+_0x329af9['size'];_0x4887c8++)for(var _0x4a1ece=_0x329af9['y'];_0x4a1ece<_0x329af9['y']+_0x329af9[_0x12e4c0(0x15b)];_0x4a1ece++)if(world['map']['mapBlock'][_0x4887c8]&&world[_0x12e4c0(0x4e7)][_0x12e4c0(0x53d)][_0x4887c8][_0x4a1ece]&&world['map'][_0x12e4c0(0x53d)][_0x4887c8][_0x4a1ece][_0x12e4c0(0x3c9)]==_0x329af9)world[_0x12e4c0(0x4e7)][_0x12e4c0(0x53d)][_0x4887c8][_0x4a1ece][_0x12e4c0(0x3c9)]=undefined;}var _0x58efc5=0x0;while(this['playerList'][_0x58efc5]){if(this[_0x12e4c0(0x332)][_0x58efc5]==_0x329af9){this['playerList'][_0x12e4c0(0x270)](_0x58efc5,0x1);break;}_0x58efc5++;}},this[_0x43bdca(0x29c)]=()=>{var _0x6912ef=_0x43bdca,_0x4e7deb=_0x6912ef(0x3a7);this['playerDefaultImgs']=[];var _0x56d491=[['hand',_0x4e7deb+'hand/hand_0.png']];for(var _0x13914c in WEAPON_TYPE){var _0x317ab6=WEAPON_TYPE[_0x13914c]['name'],_0x55496d=WEAPON_TYPE[_0x13914c]['Img'];_0x56d491[_0x6912ef(0x4a8)]([_0x317ab6,_0x4e7deb+_0x6912ef(0x497)+_0x55496d+_0x6912ef(0x463)]),_0x56d491[_0x6912ef(0x4a8)]([_0x317ab6+_0x6912ef(0x515),_0x4e7deb+_0x6912ef(0x497)+_0x55496d+_0x6912ef(0x515)+_0x6912ef(0x463)]);}for(var _0x13914c in PLAYER_BODY_IMG){var _0x317ab6=PLAYER_BODY_IMG[_0x13914c];_0x56d491['push']([_0x317ab6,_0x4e7deb+_0x6912ef(0x41e)+_0x317ab6+_0x6912ef(0x463)]);}for(var _0x13914c in PLAYER_FACE_IMG){var _0x317ab6=PLAYER_FACE_IMG[_0x13914c];_0x56d491[_0x6912ef(0x4a8)]([_0x317ab6,_0x4e7deb+'face/'+_0x317ab6+'.png']);}for(var _0x13914c in PLAYER_ARMOR){var _0x317ab6=PLAYER_ARMOR[_0x13914c][_0x6912ef(0x16c)],_0x55496d=PLAYER_ARMOR[_0x13914c][_0x6912ef(0x435)];_0x56d491[_0x6912ef(0x4a8)]([_0x317ab6,_0x4e7deb+_0x6912ef(0x23e)+_0x55496d+_0x6912ef(0x463)]),_0x56d491[_0x6912ef(0x4a8)]([_0x317ab6+_0x6912ef(0x515),_0x4e7deb+_0x6912ef(0x23e)+_0x55496d+_0x6912ef(0x515)+_0x6912ef(0x463)]);}for(var _0x13914c in PROJECTIL_IMG){var _0x317ab6=PROJECTIL_IMG[_0x13914c];_0x56d491['push']([_0x317ab6,_0x4e7deb+_0x6912ef(0x2fc)+_0x317ab6+'.png']);}for(var _0x13914c in _0x56d491){console[_0x6912ef(0x2e0)](_0x6912ef(0x386)+_0x56d491[_0x13914c]),this[_0x6912ef(0x259)][_0x56d491[_0x13914c][0x0]]=new myImage(_0x56d491[_0x13914c][0x0],_0x56d491[_0x13914c][0x1]);}world[_0x6912ef(0x259)]=this[_0x6912ef(0x259)];},this[_0x43bdca(0x14d)]=(_0x3a55d1,_0x2b5b0c,_0x2ca453,_0x101e92,_0x23c152)=>{var _0x585275=_0x43bdca,_0x3f84eb=new Player(_0x3a55d1,_0x2b5b0c,_0x2ca453,_0x101e92,_0x23c152);return _0x3f84eb[_0x585275(0x3b7)](_0x3f84eb,world[_0x585275(0x4e7)]),_0x3f84eb[_0x585275(0x42f)](),_0x3f84eb[_0x585275(0x36e)]=0x0,_0x3f84eb;},this[_0x43bdca(0x46b)]=_0x2c38f0=>{var _0x5332d8=_0x43bdca;if(!_0x2c38f0||!_0x2c38f0[_0x5332d8(0x3c9)]||_0x2c38f0['x']==undefined||_0x2c38f0['y']==undefined)return console[_0x5332d8(0x2e0)](_0x5332d8(0x2a2));console[_0x5332d8(0x2e0)](_0x5332d8(0x2da)+[_0x2c38f0['x'],_0x2c38f0['y'],_0x2c38f0[_0x5332d8(0x3c9)]['size']]);var _0x4f9ac3=_0x2c38f0[_0x5332d8(0x3c9)],_0x5dd4a1=_0x2c38f0['x'],_0x516038=_0x2c38f0['y'],_0x32aef5=_0x2c38f0[_0x5332d8(0x49c)]?_0x2c38f0[_0x5332d8(0x49c)]:TEAM_HUMAN,_0x4377f5=world['map'];if(_0x5dd4a1<0x0||_0x5dd4a1+_0x4f9ac3[_0x5332d8(0x15b)]-0x1>=_0x4377f5['width']||_0x516038<0x0||_0x516038+_0x4f9ac3[_0x5332d8(0x15b)]-0x1>=_0x4377f5[_0x5332d8(0x24a)])return![];for(var _0x4b9eca=_0x5dd4a1;_0x4b9eca<_0x5dd4a1+_0x4f9ac3['size'];_0x4b9eca++){for(var _0x4794d7=_0x516038;_0x4794d7<_0x516038+_0x4f9ac3[_0x5332d8(0x15b)];_0x4794d7++){if(_0x4377f5[_0x5332d8(0x53d)][_0x4b9eca][_0x4794d7][_0x5332d8(0x3c9)])return![];if(!_0x4377f5[_0x5332d8(0x53d)][_0x4b9eca][_0x4794d7]['getMoveCost']())return![];}}var _0x362ab4=this[_0x5332d8(0x14d)](_0x5dd4a1,_0x516038,_0x4f9ac3[_0x5332d8(0x15b)],_0x4f9ac3[_0x5332d8(0x162)],_0x32aef5);if(!_0x362ab4)return![];_0x362ab4[_0x5332d8(0x16c)]=_0x4f9ac3['name'],_0x362ab4[_0x5332d8(0x2fb)]=_0x4f9ac3['face_type'],_0x362ab4[_0x5332d8(0x426)]=_0x4f9ac3[_0x5332d8(0x426)],_0x362ab4[_0x5332d8(0x240)]=_0x4f9ac3[_0x5332d8(0x240)],_0x362ab4[_0x5332d8(0x215)]=_0x4f9ac3[_0x5332d8(0x215)],_0x362ab4[_0x5332d8(0x3d0)]=_0x4f9ac3[_0x5332d8(0x3d0)],_0x362ab4[_0x5332d8(0x419)]=_0x4f9ac3[_0x5332d8(0x419)],_0x362ab4['lifeMax']=_0x4f9ac3['lifeMax'],_0x362ab4[_0x5332d8(0x350)]=_0x4f9ac3[_0x5332d8(0x465)],_0x362ab4['movePCost']=_0x4f9ac3['movePCost'],_0x362ab4[_0x5332d8(0x217)]=_0x4f9ac3[_0x5332d8(0x217)],_0x362ab4[_0x5332d8(0x15b)]=_0x4f9ac3[_0x5332d8(0x15b)],_0x362ab4['id']=_0x4f9ac3['id'];if(_0x32aef5==TEAM_AI)_0x362ab4[_0x5332d8(0x41a)]=[-0x1,0x0];for(var _0x4b9eca=_0x5dd4a1;_0x4b9eca<_0x5dd4a1+_0x4f9ac3[_0x5332d8(0x15b)];_0x4b9eca++){for(var _0x4794d7=_0x516038;_0x4794d7<_0x516038+_0x4f9ac3[_0x5332d8(0x15b)];_0x4794d7++){_0x4377f5[_0x5332d8(0x53d)][_0x4b9eca][_0x4794d7][_0x5332d8(0x3c9)]=_0x362ab4;}}return _0x362ab4[_0x5332d8(0x42f)](),this[_0x5332d8(0x332)][_0x5332d8(0x4a8)](_0x362ab4),!![];},this[_0x43bdca(0x4d7)]=_0x619605=>{var _0x242cc3=_0x43bdca;if(!_0x619605||_0x619605['x']===undefined||_0x619605['y']===undefined)return![];var _0x553394=_0x619605['x'],_0x4a5c38=_0x619605['y'],_0x2606b5=_0x619605[_0x242cc3(0x162)]?_0x619605[_0x242cc3(0x162)]:{'r':Math['floor'](Math[_0x242cc3(0x3bf)]()*0x100),'g':Math[_0x242cc3(0x25a)](Math[_0x242cc3(0x3bf)]()*0x100),'b':Math['floor'](Math[_0x242cc3(0x3bf)]()*0x100)},_0x88e949=_0x619605['size']||_0x619605['size']<0x1?_0x619605[_0x242cc3(0x15b)]:0x1,_0x3f08ec=_0x619605['team']?_0x619605[_0x242cc3(0x49c)]:TEAM_HUMAN,_0x443e3f=world[_0x242cc3(0x4e7)];if(_0x553394<0x0||_0x553394+_0x88e949-0x1>=_0x443e3f['width']||_0x4a5c38<0x0||_0x4a5c38+_0x88e949-0x1>=_0x443e3f[_0x242cc3(0x24a)])return![];for(var _0x4671bf=_0x553394;_0x4671bf<_0x553394+_0x88e949;_0x4671bf++){for(var _0x150c1a=_0x4a5c38;_0x150c1a<_0x4a5c38+_0x88e949;_0x150c1a++){if(_0x443e3f[_0x242cc3(0x53d)][_0x4671bf][_0x150c1a]['player'])return![];if(!_0x443e3f[_0x242cc3(0x53d)][_0x4671bf][_0x150c1a][_0x242cc3(0x42a)]())return![];}}var _0x1e123d=this[_0x242cc3(0x14d)](_0x553394,_0x4a5c38,_0x88e949,_0x2606b5,_0x3f08ec);_0x1e123d['id']=PLAYER_ID++,nameList=[_0x242cc3(0x1c3),_0x242cc3(0x1db),_0x242cc3(0x18e),_0x242cc3(0x31b),'Azyla','Fepachie',_0x242cc3(0x528),'Okalm',_0x242cc3(0x2bc),_0x242cc3(0x3ab)],_0x1e123d[_0x242cc3(0x16c)]=nameList[Math[_0x242cc3(0x25a)](Math[_0x242cc3(0x3bf)]()*nameList[_0x242cc3(0x39e)])]+'\x20#'+Math[_0x242cc3(0x25a)](Math[_0x242cc3(0x3bf)]()*0x64),_0x1e123d[_0x242cc3(0x215)]=new Weapon()[_0x242cc3(0x247)](),_0x1e123d[_0x242cc3(0x240)]=new Armor()['createRandomArmor']();if(_0x3f08ec==TEAM_AI)_0x1e123d[_0x242cc3(0x41a)]=[-0x1,0x0];for(var _0x4671bf=_0x553394;_0x4671bf<_0x553394+_0x88e949;_0x4671bf++){for(var _0x150c1a=_0x4a5c38;_0x150c1a<_0x4a5c38+_0x88e949;_0x150c1a++){_0x443e3f['mapBlock'][_0x4671bf][_0x150c1a][_0x242cc3(0x3c9)]=_0x1e123d;}}return _0x1e123d[_0x242cc3(0x3d0)]=_0x619605[_0x242cc3(0x3d0)]?_0x619605[_0x242cc3(0x3d0)]:Math['round'](_0x1e123d[_0x242cc3(0x3d0)]*(0.8+Math[_0x242cc3(0x3bf)]()*0.4)),_0x1e123d[_0x242cc3(0x42f)](),this[_0x242cc3(0x332)]['push'](_0x1e123d),_0x1e123d;},this['drawPlayers']=()=>{var _0x3ee81c=_0x43bdca,_0x4af3ac=world[_0x3ee81c(0x4e7)];if(!_0x4af3ac||!_0x4af3ac[_0x3ee81c(0x43e)]||!_0x4af3ac['botright_block'])return;var _0x5034f8=_0x4af3ac[_0x3ee81c(0x43e)]['x'],_0x2c96b2=_0x4af3ac[_0x3ee81c(0x43e)]['y'],_0x2b1ea6=_0x4af3ac[_0x3ee81c(0x20a)]['x'],_0x221910=_0x4af3ac['botright_block']['y'],_0x1e1915=[],_0x55fcca=[];for(var _0x30871f=_0x5034f8;_0x30871f<=_0x2b1ea6;_0x30871f++){for(var _0x40b875=_0x2c96b2;_0x40b875<=_0x221910;_0x40b875++){var _0x46575b=_0x4af3ac[_0x3ee81c(0x53d)][_0x30871f][_0x40b875]['player'];if(!_0x46575b||_0x55fcca[_0x3ee81c(0x2f9)](_0x3eff9f=>_0x3eff9f==_0x46575b))continue;if(_0x46575b==this[_0x3ee81c(0x1c0)])_0x55fcca[_0x3ee81c(0x4a8)](_0x46575b);else _0x55fcca[_0x3ee81c(0x392)](_0x46575b);}}for(var _0x3f52d4 in _0x55fcca){var _0x46575b=_0x55fcca[_0x3f52d4];if(!_0x46575b[_0x3ee81c(0x168)]||!_0x46575b[_0x3ee81c(0x4e5)])_0x46575b[_0x3ee81c(0x45e)](this[_0x3ee81c(0x259)]);var _0x3ecf30=_0x4af3ac[_0x3ee81c(0x3ca)](_0x46575b['x'],_0x46575b['y']);if(_0x3ecf30)_0x46575b[_0x3ee81c(0x3db)](this[_0x3ee81c(0x1c5)],_0x3ecf30['x'],_0x3ecf30['y'],_0x4af3ac);else continue;_0x46575b[_0x3ee81c(0x39d)]&&(this[_0x3ee81c(0x3f6)]=!![],_0x46575b[_0x3ee81c(0x39d)]=![]);var _0xb9f862=new MyUI(this[_0x3ee81c(0x3ad)],_0x3ecf30['x']-_0x4af3ac['blocksize_x']/0x4,_0x3ecf30['y']-_0x4af3ac[_0x3ee81c(0x4af)]/0x4,0x64*world[_0x3ee81c(0x4e7)]['scale'],world['map'][_0x3ee81c(0x4c4)],undefined,undefined,0x1),_0x164320=_0x46575b[_0x3ee81c(0x49c)]==TEAM_HUMAN?_0x3ee81c(0x2f7):_0x3ee81c(0x246);_0xb9f862[_0x3ee81c(0x502)](_0x46575b[_0x3ee81c(0x16c)],Math[_0x3ee81c(0x25a)](0x28*world['map'][_0x3ee81c(0x4c4)]),0x10,_0x164320,PLAYER_NAME_FONT);var _0x4a0773=Math[_0x3ee81c(0x25a)](0x14*world[_0x3ee81c(0x4e7)][_0x3ee81c(0x4c4)]);if(_0x46575b==this[_0x3ee81c(0x1c0)])_0xb9f862[_0x3ee81c(0x178)](_0x3ee81c(0x24f)+Math[_0x3ee81c(0x25a)](0x64*_0x46575b[_0x3ee81c(0x4fd)]/_0x46575b[_0x3ee81c(0x419)]),_0x46575b[_0x3ee81c(0x4fd)]/_0x46575b[_0x3ee81c(0x419)],Math[_0x3ee81c(0x25a)](0x64*world[_0x3ee81c(0x4e7)]['scale']),_0x4a0773+0x1,_0x4a0773,'#ffffff','#00aaaa',_0x3ee81c(0x325));else _0xb9f862[_0x3ee81c(0x178)](_0x3ee81c(0x385)+Math[_0x3ee81c(0x25a)](0x64*_0x46575b['gaugeSpeed'])+'\x20%',_0x46575b[_0x3ee81c(0x36e)],Math[_0x3ee81c(0x25a)](0x64*world[_0x3ee81c(0x4e7)][_0x3ee81c(0x4c4)]),_0x4a0773+0x1,_0x4a0773,_0x3ee81c(0x3fd),_0x3ee81c(0x34c),_0x3ee81c(0x325));_0xb9f862[_0x3ee81c(0x178)](_0x3ee81c(0x1a9)+Math[_0x3ee81c(0x25a)](_0x46575b[_0x3ee81c(0x350)])+'/'+Math['floor'](_0x46575b[_0x3ee81c(0x465)]),_0x46575b[_0x3ee81c(0x350)]/_0x46575b[_0x3ee81c(0x465)],Math[_0x3ee81c(0x25a)](0x64*world['map'][_0x3ee81c(0x4c4)]),_0x4a0773+0x1,_0x4a0773,'#ffffff','#ff0000',_0x3ee81c(0x325)),_0x1e1915[_0x3ee81c(0x4a8)](_0xb9f862);}if(this[_0x3ee81c(0x3f6)]){this['canvasPUI'][_0x3ee81c(0x1b5)]();for(var _0x3f52d4 in _0x1e1915){_0x1e1915[_0x3f52d4][_0x3ee81c(0x23c)]();}this[_0x3ee81c(0x3f6)]=![];}this[_0x3ee81c(0x16f)]();},this[_0x43bdca(0x478)]=_0x475bd2=>{var _0x270eb8=_0x43bdca;if(!_0x475bd2||_0x475bd2['x']==undefined||_0x475bd2['y']==undefined)return undefined;return this[_0x270eb8(0x332)][_0x270eb8(0x2f9)](_0x21a085=>_0x21a085['x']==_0x475bd2['x']&&_0x21a085['y']==_0x475bd2['y']);},this[_0x43bdca(0x4ce)]=()=>{var _0x360336=_0x43bdca,_0x3e5a70=undefined,_0x3f0bfa=0x0,_0x1a31d9=0x0;for(var _0x7f9d08 in this[_0x360336(0x332)]){var _0xfafbb=this[_0x360336(0x332)][_0x7f9d08];if((0x1-_0xfafbb[_0x360336(0x36e)])/_0xfafbb['speed']<=(0x1-_0x3f0bfa)/_0x1a31d9){if(_0x3e5a70&&(0x1-_0xfafbb['gaugeSpeed'])*_0xfafbb[_0x360336(0x3d0)]==(0x1-_0x3f0bfa)*_0x1a31d9){if(_0x3e5a70['speed']>_0xfafbb[_0x360336(0x3d0)])continue;}_0x3e5a70=_0xfafbb,_0x3f0bfa=_0xfafbb['gaugeSpeed'],_0x1a31d9=_0xfafbb[_0x360336(0x3d0)];}}if(!_0x3e5a70)return undefined;for(var _0x7f9d08 in this['playerList']){var _0xfafbb=this[_0x360336(0x332)][_0x7f9d08];_0xfafbb['gaugeSpeed']+=(0x1-_0x3f0bfa)*(_0xfafbb[_0x360336(0x3d0)]/_0x1a31d9);}return _0x3e5a70;},this[_0x43bdca(0x1b2)]=_0x190f96=>{var _0x3ec717=_0x43bdca,_0x45befc=[],_0x1d63e7=[];for(var _0x47ff2e in this[_0x3ec717(0x332)]){var _0x8fe816=this[_0x3ec717(0x332)][_0x47ff2e];_0x1d63e7[_0x47ff2e]={'player':_0x8fe816,'gaugeSpeed':_0x8fe816[_0x3ec717(0x36e)],'speed':_0x8fe816['speed']};}if(_0x190f96<0x0||_0x1d63e7['length']<0x1)return[];for(var _0xf7dcf7=0x0;_0xf7dcf7<_0x190f96;_0xf7dcf7++){var _0x54e2a5=undefined,_0x6ff359=0x0,_0x154d84=0x0;for(var _0x47ff2e in _0x1d63e7){var _0x8fe816=_0x1d63e7[_0x47ff2e];if((0x1-_0x8fe816['gaugeSpeed'])/_0x8fe816[_0x3ec717(0x3d0)]<=(0x1-_0x6ff359)/_0x154d84){if(_0x54e2a5&&(0x1-_0x8fe816['gaugeSpeed'])*_0x8fe816[_0x3ec717(0x3d0)]==(0x1-_0x6ff359)*_0x154d84){if(_0x54e2a5['speed']>_0x8fe816[_0x3ec717(0x3d0)])continue;}_0x54e2a5=_0x8fe816,_0x6ff359=_0x8fe816['gaugeSpeed'],_0x154d84=_0x8fe816[_0x3ec717(0x3d0)];}}if(!_0x54e2a5)continue;for(var _0x47ff2e in _0x1d63e7){var _0x8fe816=_0x1d63e7[_0x47ff2e];_0x8fe816[_0x3ec717(0x36e)]+=(0x1-_0x6ff359)*(_0x8fe816['speed']/_0x154d84);}_0x54e2a5[_0x3ec717(0x36e)]=0x0,_0x45befc[_0x3ec717(0x4a8)](_0x54e2a5[_0x3ec717(0x3c9)]);}return _0x45befc;},this[_0x43bdca(0x46d)]=_0xb80eb7=>{var _0x516a5c=_0x43bdca,_0x3e48cb=this[_0x516a5c(0x332)][_0x516a5c(0x2f9)](_0x3438da=>_0x3438da[_0x516a5c(0x49c)]==TEAM_AI),_0x57fe2e=this['playerList'][_0x516a5c(0x2f9)](_0x2eee8c=>_0x2eee8c['team']==TEAM_HUMAN);if(!_0x3e48cb||!_0x57fe2e){console[_0x516a5c(0x2e0)](_0x516a5c(0x1dd)),this[_0x516a5c(0x53b)]();return;}world[_0x516a5c(0x3ac)]&&(world['GameUI'][_0x516a5c(0x34e)]=undefined,world[_0x516a5c(0x3ac)][_0x516a5c(0x2d0)]=undefined,world[_0x516a5c(0x3ac)][_0x516a5c(0x351)]=undefined,world[_0x516a5c(0x3ac)]['highlightZone']=undefined);if(world['players'][_0x516a5c(0x1c0)]&&world['players'][_0x516a5c(0x1c0)]['AI']&&!world[_0x516a5c(0x4e4)]['Playerturn']['AI'][_0x516a5c(0x50d)])return;if(this[_0x516a5c(0x1c0)])this[_0x516a5c(0x1c0)]['gaugeSpeed']=0x0;this[_0x516a5c(0x1c0)]=this['get_next_turn']();if(!this[_0x516a5c(0x1c0)])return;this[_0x516a5c(0x183)][_0x516a5c(0x26e)]({'type':this[_0x516a5c(0x1c0)][_0x516a5c(0x49c)],'txt':this[_0x516a5c(0x1c0)]['name']+_0x516a5c(0x2bb)});if(_0xb80eb7[_0x516a5c(0x4e7)])_0xb80eb7['map']['centerOnBlock'](this['Playerturn']);if(_0xb80eb7[_0x516a5c(0x3ac)])_0xb80eb7[_0x516a5c(0x3ac)]['playersSelected']=this[_0x516a5c(0x1c0)];this[_0x516a5c(0x1c0)][_0x516a5c(0x4fd)]=this['Playerturn'][_0x516a5c(0x419)];if(this[_0x516a5c(0x1c0)]['AI'])this['Playerturn']['AI'][_0x516a5c(0x50d)]=![];},this[_0x43bdca(0x53b)]=()=>{var _0x394189=_0x43bdca;world[_0x394189(0x3ac)]=undefined,world[_0x394189(0x4e7)]=undefined,world[_0x394189(0x460)]=new VillageUI(world[_0x394189(0x258)][_0x394189(0x3c6)][_0x394189(0x3ac)]),world[_0x394189(0x258)][_0x394189(0x3c6)][_0x394189(0x268)][_0x394189(0x3f5)](),world[_0x394189(0x258)][_0x394189(0x3c6)]['mapFloor']['cleanCanvas'](),world[_0x394189(0x258)]['canList'][_0x394189(0x199)][_0x394189(0x3f5)](),world['Screen'][_0x394189(0x3c6)][_0x394189(0x199)]['cleanCanvas'](),world[_0x394189(0x258)][_0x394189(0x3c6)][_0x394189(0x4e4)][_0x394189(0x3f5)](),world[_0x394189(0x258)]['canList'][_0x394189(0x4e4)]['cleanCanvas'](),world[_0x394189(0x258)]['canList'][_0x394189(0x187)][_0x394189(0x3f5)](),world[_0x394189(0x258)][_0x394189(0x3c6)][_0x394189(0x187)]['cleanCanvas'](),world[_0x394189(0x4e6)][_0x394189(0x495)](_0x394189(0x279)),world['village'][_0x394189(0x358)]=![],world['village']['MessageSystem'][_0x394189(0x26e)]({'txt':_0x394189(0x3da)});};},GameUI=function(_0x152bc0){var _0x506cb6=_0x30a6b3;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT=_0x506cb6(0x4ed),GAME_UI_FONT_BUTTON=_0x506cb6(0x3df),GAME_UI_WINDOWINFO_MOUSETIME=0x190,this['canvas']=_0x152bc0,this[_0x506cb6(0x4f1)]=GAME_UI_DEFAULTSIZE_X,this[_0x506cb6(0x4c4)]=0x1,this[_0x506cb6(0x1f6)]=_0x506cb6(0x30c),this[_0x506cb6(0x4ae)]=_0x506cb6(0x357),this[_0x506cb6(0x190)]=GAME_UI_DEFAULTMARGE,this['needRedraw']=!![],this[_0x506cb6(0x29b)]=undefined,this['UI']=undefined,this[_0x506cb6(0x53e)]=![],this[_0x506cb6(0x4d3)]=undefined,this['UIturnExpanded']=![],this['UIevent']=undefined,this[_0x506cb6(0x447)]=![],this[_0x506cb6(0x2c5)]={'value':0x0},this['playersSelected']=undefined,this[_0x506cb6(0x2d0)]=undefined,this[_0x506cb6(0x351)]=undefined,this[_0x506cb6(0x176)]=undefined,this['mouseInfoWindow']=undefined,this[_0x506cb6(0x1fc)]=undefined,this['newGameInput']={'x':0xa,'y':0xa},this[_0x506cb6(0x492)]=!![],this[_0x506cb6(0x4a3)]=()=>{var _0x2af374=_0x506cb6;window[_0x2af374(0x210)](_0x2af374(0x3a6),_0x14c9e9=>{var _0xb97a16=_0x2af374,_0x4e6a6b=![];this[_0xb97a16(0x4d3)]&&this[_0xb97a16(0x4d3)][_0xb97a16(0x234)](_0x14c9e9[_0xb97a16(0x488)],_0x14c9e9['clientY'])&&!this[_0xb97a16(0x492)]&&(this[_0xb97a16(0x39c)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x4e6a6b=!![]);this['UI']&&this['UI'][_0xb97a16(0x234)](_0x14c9e9[_0xb97a16(0x488)],_0x14c9e9[_0xb97a16(0x1e7)])&&!this[_0xb97a16(0x492)]&&(this[_0xb97a16(0x39c)]=!![],this[_0xb97a16(0x492)]=!![],_0x4e6a6b=!![]);this[_0xb97a16(0x3a2)]&&this[_0xb97a16(0x3a2)][_0xb97a16(0x234)](_0x14c9e9['clientX'],_0x14c9e9[_0xb97a16(0x1e7)])&&!this[_0xb97a16(0x492)]&&(this[_0xb97a16(0x39c)]=!![],this[_0xb97a16(0x492)]=!![],_0x4e6a6b=!![]);!_0x4e6a6b&&this['mouseWasOnMouseLightLastDraw']&&(this[_0xb97a16(0x492)]=![],this[_0xb97a16(0x39c)]=!![]);if(this==world['GameUI'])this['init_check_mouse_move']();},{'once':!![]});},this[_0x506cb6(0x4a3)](),this['CheckInfoWindow']=_0x22bedf=>{var _0x408088=_0x506cb6;if(!world['Controler'])return![];var _0x413cde=world['Controler']['mousePos'];if(!_0x413cde)return![];if(new Date()[_0x408088(0x22d)]()-_0x413cde[_0x408088(0x4d0)]<GAME_UI_WINDOWINFO_MOUSETIME)return this[_0x408088(0x1fc)]&&(this[_0x408088(0x1fc)]=![],this[_0x408088(0x39c)]=!![]),![];if(this['UI']&&this['UI'][_0x408088(0x3eb)](_0x22bedf))return!![];if(this[_0x408088(0x4d3)]&&this[_0x408088(0x4d3)][_0x408088(0x3eb)](_0x22bedf))return!![];if(this[_0x408088(0x3a2)]&&this[_0x408088(0x3a2)]['CheckInfoWindow'](_0x22bedf))return!![];if(!this['mouseInfoWindow'])return![];if(!this[_0x408088(0x1fc)])this['InfoWinfowPos']={'x':_0x413cde['x'],'y':_0x413cde['y']};else{if(!_0x22bedf&&_0x413cde['x']==this[_0x408088(0x1fc)]['x']&&_0x413cde['y']==this[_0x408088(0x1fc)]['y'])return![];}var _0x131ad1=new MyUI(this['canvas'],_0x413cde['x'],_0x413cde['y'],0x32,0x1,this['background'],this[_0x408088(0x4ae)],0x1);_0x131ad1[_0x408088(0x502)](_0x408088(0x230),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x408088(0x325),GAME_UI_FONT);var _0x1c5fbf=world[_0x408088(0x4e7)][_0x408088(0x2be)](_0x413cde);for(var _0x5aa9a3 in this[_0x408088(0x2e1)]){var _0x31a5e3=this[_0x408088(0x2e1)][_0x5aa9a3];_0x131ad1[_0x408088(0x502)](_0x31a5e3['txt']+_0x31a5e3['callback']({'block':_0x1c5fbf}),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x408088(0x325),GAME_UI_FONT);}_0x131ad1[_0x408088(0x23c)]();},this['getKeyInput']=_0x44a0d9=>{var _0x13702d=_0x506cb6;if(this['UI']&&this['UI'][_0x13702d(0x177)](_0x44a0d9))return!![];if(this[_0x13702d(0x4d3)]&&this['UIturn'][_0x13702d(0x177)](_0x44a0d9))return!![];if(this['UIevent']&&this['UIevent'][_0x13702d(0x177)](_0x44a0d9)){if(_0x44a0d9==_0x13702d(0x4a0)&&this[_0x13702d(0x513)]())return!![];}return![];},this[_0x506cb6(0x513)]=()=>{var _0x141f93=_0x506cb6,_0x32470e=![];if(this['PlayerInfodisplay'])return this[_0x141f93(0x53e)]=![],!![];this[_0x141f93(0x351)]&&(this[_0x141f93(0x351)]=undefined,_0x32470e=!![]);this[_0x141f93(0x176)]&&(this[_0x141f93(0x176)]=undefined,this[_0x141f93(0x2e1)]=undefined,this[_0x141f93(0x1fc)]=undefined,world[_0x141f93(0x4e7)][_0x141f93(0x39c)]=!![],_0x32470e=!![]);if(_0x32470e)return _0x32470e;_0x32470e=![];this[_0x141f93(0x34e)]&&(this[_0x141f93(0x34e)]=undefined,_0x32470e=!![]);this['blockSelected']&&(this[_0x141f93(0x2d0)]=undefined,_0x32470e=!![]);if(_0x32470e)return!![];return![];},this[_0x506cb6(0x2b3)]=_0x53d062=>{var _0x132a24=_0x506cb6,_0x564cc5=_0x53d062['x'],_0x2d3277=_0x53d062['y'];if(_0x53d062[_0x132a24(0x1c7)]==0x2){var _0x27d91a=this[_0x132a24(0x513)]();if(_0x27d91a)return!![];}else{if(this['UI']&&this['UI']['click_buton_check'](_0x564cc5,_0x2d3277))return!![];if(this['UIturn']&&this['UIturn'][_0x132a24(0x167)](_0x564cc5,_0x2d3277))return!![];if(this[_0x132a24(0x3a2)]&&this[_0x132a24(0x3a2)][_0x132a24(0x167)](_0x564cc5,_0x2d3277))return!![];if(world[_0x132a24(0x4e7)])var _0x17dc3a=world[_0x132a24(0x4e7)][_0x132a24(0x2be)]({'x':_0x564cc5,'y':_0x2d3277});if(!_0x17dc3a)return![];if(this['selecting_block']&&this[_0x132a24(0x176)]&&this['highlightZone']['zone']&&!this[_0x132a24(0x176)]['zone'][_0x132a24(0x2f9)](_0x54f084=>_0x54f084==_0x17dc3a))return![];if(this[_0x132a24(0x351)])return this['selecting_block'][_0x132a24(0x165)]({'block':_0x17dc3a,'input':this['selecting_block']['input']}),this['highlightZone']=undefined,this['mouseInfoWindow']=undefined,this[_0x132a24(0x2d0)]=undefined,this[_0x132a24(0x351)]=undefined,world[_0x132a24(0x4e7)][_0x132a24(0x39c)]=!![],!![];else this[_0x132a24(0x2d0)]=_0x17dc3a;return this[_0x132a24(0x34e)]=_0x17dc3a[_0x132a24(0x3c9)],!![];}return![];},this['SelectingBlockAction']=_0x4441ee=>{var _0x52b3e9=_0x506cb6;if(!_0x4441ee||!_0x4441ee[_0x52b3e9(0x165)])return;this[_0x52b3e9(0x351)]={'callback':_0x4441ee[_0x52b3e9(0x165)],'input':_0x4441ee[_0x52b3e9(0x1b8)],'info':_0x4441ee[_0x52b3e9(0x172)]},this['needRedraw']=!![],_0x4441ee[_0x52b3e9(0x1a4)]&&(this['highlightZone']={'zone':_0x4441ee[_0x52b3e9(0x1a4)][_0x52b3e9(0x165)](_0x4441ee['highlight'][_0x52b3e9(0x1b8)]),'type':_0x4441ee[_0x52b3e9(0x1a4)][_0x52b3e9(0x1b8)][_0x52b3e9(0x287)]},world['map'][_0x52b3e9(0x39c)]=!![]),_0x4441ee[_0x52b3e9(0x3f9)]&&(this[_0x52b3e9(0x2e1)]=_0x4441ee[_0x52b3e9(0x3f9)]);},this[_0x506cb6(0x4b3)]=()=>{var _0x45a319=_0x506cb6;if(!world['players'][_0x45a319(0x1c0)])return![];world[_0x45a319(0x4e7)]['centerOnBlock'](world['players'][_0x45a319(0x1c0)]),this[_0x45a319(0x34e)]=world[_0x45a319(0x4e4)][_0x45a319(0x1c0)];},this['DrawTabInfoPlayer']=()=>{var _0x26da61=_0x506cb6;0x0;var _0x1e0b25=[];_0x1e0b25['push']({'type':_0x26da61(0x435),'img':this[_0x26da61(0x34e)][_0x26da61(0x168)],'lenx':0xc8,'leny':0xc8}),this['UI'][_0x26da61(0x51e)](_0x1e0b25);var _0x1d57ea=this['playersSelected'],_0xbcadf8=''+_0x1d57ea['name']+'\x20(',_0x38ba2b=_0x1d57ea[_0x26da61(0x49c)]==TEAM_AI?_0x26da61(0x1ed):'allied)';_0xbcadf8+=_0x38ba2b,_0xbcadf8+='\x0a'+_0x1d57ea['life']+'/'+_0x1d57ea['lifeMax']+'\x20life\x20point',_0xbcadf8+='\x0a'+_0x1d57ea['ActionPoint']+'/'+_0x1d57ea[_0x26da61(0x419)]+_0x26da61(0x17d),_0xbcadf8+='\x0a'+_0x26da61(0x245)+_0x1d57ea['speed'],_0xbcadf8+='\x0a'+_0x26da61(0x4cd)+_0x1d57ea[_0x26da61(0x1ae)];for(var _0x392909 in _0x1d57ea[_0x26da61(0x217)])_0xbcadf8+='\x0a'+_0x392909+_0x26da61(0x30e)+_0x1d57ea['stats'][_0x392909];this['UI']['addTextZone'](_0xbcadf8,GAME_UI_LETTER_SIZE/0x2,0x270f,_0x26da61(0x325),GAME_UI_FONT);if(_0x1d57ea[_0x26da61(0x215)])this['UI'][_0x26da61(0x502)](_0x26da61(0x51c)+_0x1d57ea[_0x26da61(0x215)]['name']+'\x27\x0a'+_0x1d57ea[_0x26da61(0x215)][_0x26da61(0x31a)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x26da61(0x325),GAME_UI_FONT);if(_0x1d57ea[_0x26da61(0x240)])this['UI'][_0x26da61(0x502)](_0x26da61(0x2af)+_0x1d57ea[_0x26da61(0x240)]['getArmorDescription'](),GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);},this[_0x506cb6(0x414)]=()=>{var _0x1210c0=_0x506cb6;this[_0x1210c0(0x3a2)]=new MyUI(this[_0x1210c0(0x38e)],this[_0x1210c0(0x4d3)][_0x1210c0(0x4f1)]+this['UI'][_0x1210c0(0x4f1)],0x0,0x5,this[_0x1210c0(0x4c4)],this[_0x1210c0(0x1f6)],this[_0x1210c0(0x4ae)],this[_0x1210c0(0x190)]);var _0x5d1a1d=[];_0x5d1a1d[_0x1210c0(0x4a8)]({'type':_0x1210c0(0x1c7),'mouseLight':'ff','callback':()=>{var _0x27cdd7=_0x1210c0;this['UIeventExpanded']=!this[_0x27cdd7(0x447)];},'callback_data':GAME_UI_FONT,'txt':_0x1210c0(0x4ba),'txt_color':_0x1210c0(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x1210c0(0x2a1),'strokeColor':this[_0x1210c0(0x447)]?'#00000000':_0x1210c0(0x24b),'windowInfo':[{'callback':()=>{var _0x3a4aa1=_0x1210c0;return _0x3a4aa1(0x157);},'input':_0x549d0c}]});if(this[_0x1210c0(0x447)]){var _0x9a5302=this[_0x1210c0(0x1cb)](this[_0x1210c0(0x2c5)]);for(var _0x549d0c in _0x9a5302)_0x5d1a1d[_0x1210c0(0x4a8)](_0x9a5302[_0x549d0c]);}this[_0x1210c0(0x3a2)][_0x1210c0(0x51e)](_0x5d1a1d);if(this[_0x1210c0(0x447)]&&world[_0x1210c0(0x4e4)]){var _0x439b3b=-0x1;for(var _0x549d0c=this['eventPageOffset'][_0x1210c0(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x549d0c>=this[_0x1210c0(0x2c5)][_0x1210c0(0x397)];_0x549d0c--){_0x439b3b++;var _0x26a7e1=world[_0x1210c0(0x4e4)][_0x1210c0(0x183)]['msg'][_0x549d0c];if(_0x549d0c>=world[_0x1210c0(0x4e4)][_0x1210c0(0x183)][_0x1210c0(0x370)][_0x1210c0(0x39e)])continue;if(!_0x26a7e1)break;this[_0x1210c0(0x2a8)](_0x26a7e1);}}console[_0x1210c0(0x2e0)](this[_0x1210c0(0x2c5)][_0x1210c0(0x397)]),this[_0x1210c0(0x3a2)]['drawUI']();},this['drawGameUI']=()=>{var _0x4bc255=_0x506cb6;if(!world[_0x4bc255(0x4e7)]||!world[_0x4bc255(0x4e4)])return;this[_0x4bc255(0x39c)]=![],this[_0x4bc255(0x38e)][_0x4bc255(0x3f5)](),this[_0x4bc255(0x38e)][_0x4bc255(0x1b5)](),this[_0x4bc255(0x4d3)]=new MyUI(this['canvas'],0x0,0x0,0x32,this[_0x4bc255(0x4c4)],this[_0x4bc255(0x1f6)],this[_0x4bc255(0x4ae)],0x1),this[_0x4bc255(0x4d3)][_0x4bc255(0x51e)]([{'type':_0x4bc255(0x1c7),'mouseLight':'ff','callback':()=>{var _0x4aeff0=_0x4bc255;this['UIturnExpanded']=!this[_0x4aeff0(0x1c4)];},'callback_data':GAME_UI_FONT,'txt':_0x4bc255(0x372),'txt_color':_0x4bc255(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':'#ffffff88','strokeColor':this[_0x4bc255(0x447)]?_0x4bc255(0x288):'ff0000','windowInfo':[{'callback':()=>{var _0x324eb1=_0x4bc255;return _0x324eb1(0x4c6);},'input':_0x24331e}]}]);var _0x4167cc=world[_0x4bc255(0x4e4)][_0x4bc255(0x1b2)](0xf);for(var _0x24331e in _0x4167cc){var _0x2a7160=_0x4167cc[_0x24331e],_0x552c83=[];_0x552c83[_0x4bc255(0x4a8)]({'type':_0x4bc255(0x435),'img':_0x2a7160[_0x4bc255(0x168)],'lenx':0x1e,'leny':0x1e});if(this[_0x4bc255(0x1c4)])_0x552c83[_0x4bc255(0x4a8)]({'type':'button','mouseLight':'ff','callback':_0x44243f=>{var _0x596bf3=_0x4bc255;this[_0x596bf3(0x34e)]=_0x44243f;if(world[_0x596bf3(0x4e7)])world[_0x596bf3(0x4e7)][_0x596bf3(0x1bc)](_0x44243f);},'callback_data':_0x2a7160,'txt':_0x2a7160[_0x4bc255(0x16c)],'txt_color':_0x2a7160[_0x4bc255(0x49c)]==TEAM_HUMAN?_0x4bc255(0x3e1):'#ff0000','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x4bc255(0x2a1),'strokeColor':this['playersSelected']==_0x2a7160?_0x4bc255(0x280):_0x4bc255(0x288),'windowInfo':[{'callback':_0x29b383=>{var _0x33dde9=_0x4bc255;return _0x33dde9(0x377)+_0x29b383+_0x33dde9(0x39b);},'input':_0x24331e}]});this[_0x4bc255(0x4d3)][_0x4bc255(0x51e)](_0x552c83);}this[_0x4bc255(0x4d3)][_0x4bc255(0x23c)](),this['UI']=new MyUI(this['canvas'],this['UIturn'][_0x4bc255(0x4f1)],0x0,this[_0x4bc255(0x4f1)],this[_0x4bc255(0x4c4)],this[_0x4bc255(0x1f6)],this['stroke'],this[_0x4bc255(0x190)]);if(this[_0x4bc255(0x53e)]&&this['playersSelected'])this[_0x4bc255(0x17b)](),this['UI']['addButton'](this['PlayerInfodisplay']&&this['playersSelected']?_0x4bc255(0x340):_0x4bc255(0x172),GAME_UI_LETTER_SIZE,_0x4bc255(0x325),_0x4bc255(0x3fd),this['stroke'],()=>{var _0x54ac5a=_0x4bc255;this[_0x54ac5a(0x53e)]=!this['PlayerInfodisplay'];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world[_0x4bc255(0x4e4)][_0x4bc255(0x1c0)])this['UI'][_0x4bc255(0x225)](_0x4bc255(0x4f9),GAME_UI_LETTER_SIZE,_0x4bc255(0x33a),_0x4bc255(0x45b),this['stroke'],world[_0x4bc255(0x4e4)][_0x4bc255(0x46d)],{'map':world[_0x4bc255(0x4e7)],'GameUI':world[_0x4bc255(0x3ac)]},GAME_UI_FONT,_0x4bc255(0x50f)),this['UI']['addButton'](_0x4bc255(0x4e8),GAME_UI_LETTER_SIZE,_0x4bc255(0x325),_0x4bc255(0x27e),this[_0x4bc255(0x4ae)],this[_0x4bc255(0x4b3)],undefined,GAME_UI_FONT,'Space');else this['UI'][_0x4bc255(0x225)](_0x4bc255(0x48d),GAME_UI_LETTER_SIZE,_0x4bc255(0x33a),_0x4bc255(0x1c2),this[_0x4bc255(0x4ae)],world[_0x4bc255(0x4e4)][_0x4bc255(0x46d)],{'map':world[_0x4bc255(0x4e7)],'GameUI':world['GameUI']},GAME_UI_FONT,'Enter');if(this[_0x4bc255(0x2d0)]&&!this[_0x4bc255(0x34e)]){var _0x1dcf63=this['blockSelected']['x'],_0x461855=this[_0x4bc255(0x2d0)]['y'],_0x3d6d56={'r':Math['floor'](Math[_0x4bc255(0x3bf)]()*0x100),'g':Math['floor'](Math['random']()*0x100),'b':Math[_0x4bc255(0x25a)](Math[_0x4bc255(0x3bf)]()*0x100)};this['UI'][_0x4bc255(0x225)](_0x4bc255(0x1f9),GAME_UI_LETTER_SIZE,_0x4bc255(0x325),_0x4bc255(0x32b),this[_0x4bc255(0x4ae)],world[_0x4bc255(0x4e4)]['createPlayer'],{'x':_0x1dcf63,'y':_0x461855,'color':_0x3d6d56},GAME_UI_FONT);}if(this[_0x4bc255(0x34e)]){var _0x2a7160=this[_0x4bc255(0x34e)];this['UI'][_0x4bc255(0x225)](_0x2a7160['name'],GAME_UI_LETTER_SIZE,_0x4bc255(0x325),'#ffffff',this[_0x4bc255(0x4ae)],()=>{var _0x28f533=_0x4bc255;this[_0x28f533(0x53e)]=!this[_0x28f533(0x53e)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this[_0x4bc255(0x34e)]==world[_0x4bc255(0x4e4)][_0x4bc255(0x1c0)]&&this[_0x4bc255(0x34e)][_0x4bc255(0x49c)]==TEAM_HUMAN){if(_0x2a7160[_0x4bc255(0x168)]&&_0x2a7160['bodyPartImgReady']&&_0x2a7160['bodyPartImg'][_0x4bc255(0x3fe)])this['UI']['addImage'](_0x2a7160['bodyPartImg'],0x64,0x64);else this['needRedraw']=!![];if(this[_0x4bc255(0x351)])this['UI']['addTextZone'](_0x4bc255(0x3f3)+this[_0x4bc255(0x351)][_0x4bc255(0x172)],GAME_UI_LETTER_SIZE*0.8,0x14,_0x4bc255(0x325),GAME_UI_FONT);else for(var _0x24331e in _0x2a7160[_0x4bc255(0x368)]){var _0x23b5bd=_0x2a7160[_0x4bc255(0x368)][_0x24331e];this['UI'][_0x4bc255(0x225)](_0x23b5bd['name'],GAME_UI_LETTER_SIZE,'#000000',_0x4bc255(0x32b),this[_0x4bc255(0x4ae)],this[_0x4bc255(0x4b8)],{'callback':_0x23b5bd['callback'],'info':_0x23b5bd[_0x4bc255(0x33e)],'highlight':{'callback':_0x23b5bd[_0x4bc255(0x29e)],'input':_0x23b5bd[_0x4bc255(0x4b1)]},'windowInfo':_0x23b5bd[_0x4bc255(0x3f9)]},GAME_UI_FONT,parseInt(_0x24331e)+0x1);}}}}this['drawMessageSystemEvents'](),this['UI'][_0x4bc255(0x23c)](),this[_0x4bc255(0x3eb)](!![]);},this[_0x506cb6(0x1cb)]=_0x3b0ce9=>{var _0x1b70a8=_0x506cb6,_0xfe4262=[{'type':'button','callback':()=>{var _0x52c437=_0x4131;_0x3b0ce9[_0x52c437(0x397)]=_0x3b0ce9[_0x52c437(0x397)]>0x0?_0x3b0ce9[_0x52c437(0x397)]-0x1:0x0;},'txt':'âˆ§','txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x1b70a8(0x16d),'strokeColor':_0x1b70a8(0x325),'windowInfo':[{'callback':()=>{var _0x3aa481=_0x1b70a8;return _0x3aa481(0x35c);}}]},{'type':_0x1b70a8(0x1c7),'callback':()=>{var _0x5f5a05=_0x1b70a8;_0x3b0ce9[_0x5f5a05(0x397)]++;},'txt':'âˆ¨','txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x1b70a8(0x16d),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0xcc1322=_0x1b70a8;return _0xcc1322(0x1d5);}}]},{'type':'txt','txt':'['+_0x3b0ce9[_0x1b70a8(0x397)]+':'+(_0x3b0ce9[_0x1b70a8(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x1b70a8(0x325),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0xfe4262;},this[_0x506cb6(0x2a8)]=_0x57e181=>{var _0x56c9a5=_0x506cb6;if(!_0x57e181)return;var _0x22afaa='#000000';switch(_0x57e181[_0x56c9a5(0x287)]){case TEAM_HUMAN:_0x22afaa='#0000ff';break;case TEAM_AI:_0x22afaa=_0x56c9a5(0x1a5);break;}this[_0x56c9a5(0x3a2)]['addTextZone'](_0x57e181['txt'],GAME_UI_LETTER_SIZE/0x2,0x270f,_0x22afaa,GAME_UI_FONT);};},ControlManager=function(){var _0xf5b973=_0x30a6b3;this['keyDown']=[],this[_0xf5b973(0x52b)]=[],this['mousePos']={'x':0x0,'y':0x0,'lastTime':new Date()[_0xf5b973(0x22d)]()},window[_0xf5b973(0x210)](_0xf5b973(0x4fe),_0x1b2907=>{var _0x15f0aa=_0xf5b973;if(_0x1b2907[_0x15f0aa(0x284)])return;var _0x4b8f7f=_0x1b2907[_0x15f0aa(0x1cf)],_0x4ae3de=_0x1b2907[_0x15f0aa(0x20b)];this['keyDown'][_0x4ae3de]=!![];}),window['addEventListener'](_0xf5b973(0x373),_0x13b106=>{var _0x2d0f1b=_0xf5b973,_0xe4dab0=_0x13b106['key'],_0x4adc76=_0x13b106['code'];this[_0x2d0f1b(0x507)][_0x4adc76]=![],this[_0x2d0f1b(0x52b)][_0x4adc76]=!![];}),window['addEventListener'](_0xf5b973(0x208),_0x1f4a94=>{var _0x1e4161=_0xf5b973,_0x55baf0=_0x1f4a94[_0x1e4161(0x1b0)];if(world['map']){if(_0x55baf0>0x0)world['map'][_0x1e4161(0x40d)](0x0,0x0,0.95);else{if(_0x55baf0<0x0)world[_0x1e4161(0x4e7)]['changeMapView'](0x0,0x0,1.05);}}}),window[_0xf5b973(0x210)](_0xf5b973(0x46a),_0x21ea26=>{var _0x3a6659=_0xf5b973,_0x17b34f=world['Screen'][_0x3a6659(0x3c6)]['mapFloor'];pos=_0x17b34f[_0x3a6659(0x362)](_0x21ea26[_0x3a6659(0x488)],_0x21ea26['clientY']),pos&&(this[_0x3a6659(0x4ca)]={'x':pos['x'],'y':pos['y'],'button':_0x21ea26['button']});}),window['addEventListener']('mousemove',_0x2f4629=>{var _0x4110af=_0xf5b973,_0x15972a=world[_0x4110af(0x258)][_0x4110af(0x3c6)][_0x4110af(0x268)];this[_0x4110af(0x2ee)]=_0x15972a[_0x4110af(0x362)](_0x2f4629['clientX'],_0x2f4629[_0x4110af(0x1e7)]);if(this[_0x4110af(0x2ee)])this[_0x4110af(0x2ee)][_0x4110af(0x4d0)]=new Date()[_0x4110af(0x22d)]();}),this[_0xf5b973(0x32c)]=()=>{var _0x1e53a9=_0xf5b973,_0x443502=![];if(world[_0x1e53a9(0x4e7)]){if(this[_0x1e53a9(0x507)][_0x1e53a9(0x1cc)])world[_0x1e53a9(0x4e7)][_0x1e53a9(0x40d)](0x0,-0.1/world[_0x1e53a9(0x4e7)]['scale'],0x1);if(this[_0x1e53a9(0x507)]['KeyS'])world[_0x1e53a9(0x4e7)]['changeMapView'](0x0,0.1/world[_0x1e53a9(0x4e7)]['scale'],0x1);if(this[_0x1e53a9(0x507)][_0x1e53a9(0x161)])world['map'][_0x1e53a9(0x40d)](-0.1/world['map'][_0x1e53a9(0x4c4)],0x0,0x1);if(this[_0x1e53a9(0x507)][_0x1e53a9(0x3b0)])world[_0x1e53a9(0x4e7)][_0x1e53a9(0x40d)](0.1/world[_0x1e53a9(0x4e7)]['scale'],0x0,0x1);if(this[_0x1e53a9(0x507)][_0x1e53a9(0x459)])world[_0x1e53a9(0x4e7)]['changeMapView'](0x0,-0.1/world[_0x1e53a9(0x4e7)][_0x1e53a9(0x4c4)],0x1);if(this[_0x1e53a9(0x507)][_0x1e53a9(0x31e)])world[_0x1e53a9(0x4e7)][_0x1e53a9(0x40d)](0x0,0.1/world[_0x1e53a9(0x4e7)]['scale'],0x1);if(this[_0x1e53a9(0x507)]['ArrowLeft'])world['map']['changeMapView'](-0.1/world['map']['scale'],0x0,0x1);if(this['keyDown'][_0x1e53a9(0x416)])world[_0x1e53a9(0x4e7)][_0x1e53a9(0x40d)](0.1/world[_0x1e53a9(0x4e7)][_0x1e53a9(0x4c4)],0x0,0x1);if(this['keyDown'][_0x1e53a9(0x445)])world['map'][_0x1e53a9(0x40d)](0x0,0x0,0.95);if(this[_0x1e53a9(0x507)][_0x1e53a9(0x529)])world[_0x1e53a9(0x4e7)][_0x1e53a9(0x40d)](0x0,0x0,1.05);}if(this[_0x1e53a9(0x52b)][_0x1e53a9(0x28f)]){if(!world[_0x1e53a9(0x258)][_0x1e53a9(0x44a)])world[_0x1e53a9(0x258)][_0x1e53a9(0x393)]();else world[_0x1e53a9(0x258)][_0x1e53a9(0x140)](document);world[_0x1e53a9(0x4e6)][_0x1e53a9(0x4b4)]('click',undefined,!![]);}for(var _0x2b430b in this[_0x1e53a9(0x52b)]){if(!_0x443502&&_0x2b430b['startsWith'](_0x1e53a9(0x276))||_0x2b430b['startsWith'](_0x1e53a9(0x4f0)))_0x2b430b=_0x2b430b[_0x1e53a9(0x3c5)](_0x1e53a9(0x276),'')[_0x1e53a9(0x3c5)](_0x1e53a9(0x4f0),'');if(world[_0x1e53a9(0x3ac)]&&!_0x443502&&world['GameUI'][_0x1e53a9(0x3f8)](_0x2b430b)){world[_0x1e53a9(0x4e6)][_0x1e53a9(0x4b4)](_0x1e53a9(0x28a),undefined,!![]),_0x443502=!![];if(world['GameUI'])world[_0x1e53a9(0x3ac)][_0x1e53a9(0x39c)]=!![];break;}if(world[_0x1e53a9(0x460)]&&world['villageUI']['getKeyInput'](_0x2b430b)){world[_0x1e53a9(0x4e6)][_0x1e53a9(0x4b4)](_0x1e53a9(0x28a),undefined,!![]),_0x443502=!![];if(world[_0x1e53a9(0x460)])world[_0x1e53a9(0x460)][_0x1e53a9(0x39c)]=!![];break;}if(world[_0x1e53a9(0x520)]&&world['MenuUI']['getKeyInput'](_0x2b430b)){world[_0x1e53a9(0x4e6)]['playSound'](_0x1e53a9(0x28a),undefined,!![]),_0x443502=!![];if(world['MenuUI'])world[_0x1e53a9(0x520)][_0x1e53a9(0x39c)]=!![];break;}}this[_0x1e53a9(0x52b)]=[];if(this[_0x1e53a9(0x4ca)]){if(!_0x443502&&world[_0x1e53a9(0x3ac)]&&world[_0x1e53a9(0x3ac)][_0x1e53a9(0x2b3)](this['inputclick'])){world[_0x1e53a9(0x4e6)]['playSound'](_0x1e53a9(0x28a),undefined,!![]),_0x443502=!![];if(world[_0x1e53a9(0x3ac)])world[_0x1e53a9(0x3ac)][_0x1e53a9(0x39c)]=!![];}if(!_0x443502&&world['villageUI']&&world[_0x1e53a9(0x460)][_0x1e53a9(0x2b3)](this[_0x1e53a9(0x4ca)])){world[_0x1e53a9(0x4e6)][_0x1e53a9(0x4b4)]('click',undefined,!![]),_0x443502=!![];if(world['villageUI'])world['villageUI'][_0x1e53a9(0x39c)]=!![];}if(!_0x443502&&world['MenuUI']&&world[_0x1e53a9(0x520)][_0x1e53a9(0x2b3)](this['inputclick'])){world[_0x1e53a9(0x4e6)]['playSound'](_0x1e53a9(0x28a),undefined,!![]),_0x443502=!![];if(world[_0x1e53a9(0x520)])world['MenuUI'][_0x1e53a9(0x39c)]=!![];}}this[_0x1e53a9(0x4ca)]=undefined;};},PLAYER_WEAPON_IMG=[{'name':_0x30a6b3(0x2fa),'center':{'x':0xa1,'y':0xd},'sound':_0x30a6b3(0x21d)},{'name':_0x30a6b3(0x3d9),'center':{'x':0x28,'y':0x11},'sound':_0x30a6b3(0x1be)},{'name':_0x30a6b3(0x50a),'center':{'x':0x3c,'y':0x40},'sound':_0x30a6b3(0x30d)},{'name':_0x30a6b3(0x389),'center':{'x':0x16,'y':0x11},'sound':_0x30a6b3(0x3bc)},{'name':_0x30a6b3(0x3a3),'center':{'x':0x32,'y':0x37},'sound':_0x30a6b3(0x3bc)},{'name':_0x30a6b3(0x4d6),'center':{'x':0x39,'y':0x25},'sound':_0x30a6b3(0x2fe)},{'name':_0x30a6b3(0x442),'center':{'x':0x41,'y':0x46},'sound':'mine'},{'name':_0x30a6b3(0x2c3),'center':{'x':0xa,'y':0x1a},'sound':_0x30a6b3(0x1be)},{'name':_0x30a6b3(0x15d),'center':{'x':0x1f,'y':0x29},'sound':_0x30a6b3(0x23d)}],WEAPON_TYPE=[{'name':'Wood\x20Stick','Img':'wood_stick','weaponAnim':'sword','bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':'getBlockAdjacent','input':{}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x30a6b3(0x46c),'type':'crushing','value':0x1}]}]},{'name':_0x30a6b3(0x142),'Img':'stone_spear','weaponAnim':_0x30a6b3(0x49d),'bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':_0x30a6b3(0x243),'input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':'Strength','type':'piercing','value':1.5}]},{'callback':_0x30a6b3(0x472),'damageBase':[{'stats':_0x30a6b3(0x46c),'type':_0x30a6b3(0x45f),'value':0.5}]}]},{'name':_0x30a6b3(0x20f),'Img':_0x30a6b3(0x3a3),'weaponAnim':_0x30a6b3(0x3be),'bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':_0x30a6b3(0x243),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':_0x30a6b3(0x46c),'type':_0x30a6b3(0x1b7),'value':0x1},{'stats':'Strength','type':'slashing','value':0x1}]}]},{'name':_0x30a6b3(0x256),'Img':_0x30a6b3(0x3d9),'weaponAnim':_0x30a6b3(0x3be),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':_0x30a6b3(0x243),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':_0x30a6b3(0x46c),'type':_0x30a6b3(0x45f),'value':1.5},{'stats':'Strength','type':_0x30a6b3(0x4cf),'value':1.5}]}]},{'name':_0x30a6b3(0x153),'Img':_0x30a6b3(0x50a),'weaponAnim':'sword_2h','actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':_0x30a6b3(0x243),'input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':_0x30a6b3(0x46c),'type':_0x30a6b3(0x1b7),'value':0x2},{'stats':'Strength','type':_0x30a6b3(0x4cf),'value':0x2}]},{'callback':'getBlocksAtRange','callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':_0x30a6b3(0x46c),'type':_0x30a6b3(0x1b7),'value':0.2},{'stats':_0x30a6b3(0x46c),'type':'slashing','value':0.2}]}]},{'name':_0x30a6b3(0x2fd),'Img':_0x30a6b3(0x4d6),'weaponAnim':_0x30a6b3(0x312),'bonus':[],'projectil':{'ammo':_0x30a6b3(0x1a3),'projectilSpeed':0x64,'sound':_0x30a6b3(0x2cf)},'actionCost':0x32,'blockTargetingFunction':{'callback':_0x30a6b3(0x36f),'input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':'Dexterity','type':_0x30a6b3(0x45f),'value':0x1}]}]},{'name':_0x30a6b3(0x409),'Img':'stone_pickaxe','weaponAnim':_0x30a6b3(0x3be),'actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':'getBlockAdjacent','input':{}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':'Strength','type':_0x30a6b3(0x45f),'value':0x2}]}]},{'name':_0x30a6b3(0x170),'Img':_0x30a6b3(0x2c3),'weaponAnim':_0x30a6b3(0x3be),'actionCost':0x1e,'bonus':[],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x30a6b3(0x23a),'input':{}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':_0x30a6b3(0x291),'type':_0x30a6b3(0x4cf),'value':1.7}]}]},{'name':'Copper\x20Hammer','Img':_0x30a6b3(0x2c3),'weaponAnim':_0x30a6b3(0x3be),'actionCost':0x36,'bonus':[BONUS_FORGE_UPPGRADE],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x30a6b3(0x23a),'input':{}},'zoneTarget':[{'callback':_0x30a6b3(0x13c),'damageBase':[{'stats':_0x30a6b3(0x46c),'type':_0x30a6b3(0x522),'value':2.3}]}]}],Weapon=function(){var _0x70386c=_0x30a6b3;this[_0x70386c(0x211)]=_0x70386c(0x215),this[_0x70386c(0x16c)],this[_0x70386c(0x39f)],this[_0x70386c(0x435)],this[_0x70386c(0x4a1)],this[_0x70386c(0x314)],this[_0x70386c(0x506)],this[_0x70386c(0x39a)],this[_0x70386c(0x2bd)],this[_0x70386c(0x44d)],this[_0x70386c(0x4d8)]=_0x2c0d2d=>{var _0x305956=_0x70386c;if(!_0x2c0d2d||!_0x2c0d2d['name'])return console[_0x305956(0x2e0)]('can\x27t\x20create\x20this\x20weapon');var _0x462a83=WEAPON_TYPE['find'](_0x419462=>_0x419462[_0x305956(0x16c)]==_0x2c0d2d[_0x305956(0x16c)]);if(!_0x462a83)return console[_0x305956(0x2e0)](_0x305956(0x29f));var _0x59fd30=PLAYER_WEAPON_IMG[_0x305956(0x2f9)](_0x365984=>_0x365984['name']==_0x462a83[_0x305956(0x1f8)]);if(!_0x59fd30)return console['log'](_0x305956(0x29f));return this['img']=_0x59fd30[_0x305956(0x16c)],this['name']=_0x2c0d2d['name'],this[_0x305956(0x4a1)]=_0x462a83['weaponAnim'],this[_0x305956(0x314)]=_0x462a83[_0x305956(0x314)],this[_0x305956(0x506)]=_0x462a83[_0x305956(0x506)],this[_0x305956(0x39a)]=_0x462a83[_0x305956(0x39a)],this[_0x305956(0x444)]=_0x462a83[_0x305956(0x444)],this[_0x305956(0x2bd)]=_0x462a83[_0x305956(0x2bd)],this[_0x305956(0x44d)]=_0x462a83[_0x305956(0x44d)],this;},this[_0x70386c(0x3c2)]=_0x4157d3=>{for(var _0x3aba45 in _0x4157d3){this[_0x3aba45]=_0x4157d3[_0x3aba45];}return this;},this[_0x70386c(0x247)]=()=>{var _0x382de6=_0x70386c,_0x3e3fda=WEAPON_TYPE[Math['floor'](Math[_0x382de6(0x3bf)]()*WEAPON_TYPE['length'])];return this[_0x382de6(0x4d8)]({'name':_0x3e3fda[_0x382de6(0x16c)]});},this['getWeaponAttackDescription']=()=>{var _0x5a8c90=_0x70386c,_0x436f6a=_0x5a8c90(0x19a)+this[_0x5a8c90(0x16c)]+_0x5a8c90(0x171)+this[_0x5a8c90(0x506)]+_0x5a8c90(0x1f7);switch(this[_0x5a8c90(0x39a)]['callback']){case'getBlockAdjacent':_0x436f6a+='\x0aTarget\x20adjacents\x20blocks';break;case _0x5a8c90(0x243):_0x436f6a+=_0x5a8c90(0x2c9)+this[_0x5a8c90(0x39a)][_0x5a8c90(0x1b8)][_0x5a8c90(0x223)]+','+this[_0x5a8c90(0x39a)]['input']['rangeMax']+']';break;}for(var _0x4acfe2 in this[_0x5a8c90(0x314)]){var _0x2c0bc6=this[_0x5a8c90(0x314)][_0x4acfe2];switch(_0x2c0bc6['callback']){case _0x5a8c90(0x13c):_0x436f6a+=_0x5a8c90(0x23b);break;case'getBlockBehindTarget':var _0x4968ce=_0x2c0bc6[_0x5a8c90(0x2d4)]?_0x2c0bc6[_0x5a8c90(0x2d4)][_0x5a8c90(0x223)]:0x1,_0x290792=_0x2c0bc6['callback_data']?_0x2c0bc6[_0x5a8c90(0x2d4)][_0x5a8c90(0x36d)]:0x1;_0x436f6a+=_0x5a8c90(0x257)+[_0x4968ce,_0x290792]+_0x5a8c90(0x186);break;case _0x5a8c90(0x189):var _0x4968ce=_0x2c0bc6[_0x5a8c90(0x2d4)]?_0x2c0bc6[_0x5a8c90(0x2d4)][_0x5a8c90(0x223)]:0x1,_0x290792=_0x2c0bc6[_0x5a8c90(0x2d4)]?_0x2c0bc6[_0x5a8c90(0x2d4)][_0x5a8c90(0x36d)]:0x1;_0x436f6a+=_0x5a8c90(0x293)+[_0x4968ce,_0x290792]+_0x5a8c90(0x525);break;}for(var _0x3c76b6 in _0x2c0bc6[_0x5a8c90(0x494)]){var _0x5a4bea=_0x2c0bc6[_0x5a8c90(0x494)][_0x3c76b6];_0x436f6a+=_0x5a8c90(0x452)+_0x5a4bea[_0x5a8c90(0x397)]+'\x20'+_0x5a4bea[_0x5a8c90(0x217)]+'\x20'+_0x5a4bea['type']+'\x20damage';}}for(var _0x4acfe2 in this[_0x5a8c90(0x2bd)])if(BONUS_DESCRIPTION[this['bonus']])_0x436f6a+='\x0a'+BONUS_DESCRIPTION[this[_0x5a8c90(0x2bd)]];return _0x436f6a;},this[_0x70386c(0x1e1)]=()=>{var _0x32d4c6=_0x70386c;if(!this[_0x32d4c6(0x44d)])return![];return Math[_0x32d4c6(0x428)](0x64*(0x1/(0x2+this[_0x32d4c6(0x44d)])));},this[_0x70386c(0x2df)]=_0x20c9a1=>{var _0x1c7c40=_0x70386c;if(!this[_0x1c7c40(0x44d)]||!_0x20c9a1||!_0x20c9a1[_0x1c7c40(0x3c9)]||!_0x20c9a1[_0x1c7c40(0x3c9)][_0x1c7c40(0x330)])return![];var _0xb6c502=Math[_0x1c7c40(0x25a)](Math[_0x1c7c40(0x3bf)]()*0x64),_0x22c2c6=_0x20c9a1[_0x1c7c40(0x3c9)],_0x561898=0x1;_0x22c2c6[_0x1c7c40(0x330)]=0x0;if(_0x22c2c6['weapon']&&_0x22c2c6[_0x1c7c40(0x215)]['bonus']['find'](_0x4fdf03=>_0x4fdf03==BONUS_FORGE_UPPGRADE))_0x561898++;if(_0xb6c502/_0x561898-_0x22c2c6[_0x1c7c40(0x330)]/0x2<this[_0x1c7c40(0x1e1)]()){var _0x3fd946=Math[_0x1c7c40(0x25a)](Math[_0x1c7c40(0x3bf)]()*this['zoneTarget'][_0x1c7c40(0x39e)]),_0x3fef92=this[_0x1c7c40(0x314)][_0x3fd946],_0x28185c=Math[_0x1c7c40(0x25a)](Math[_0x1c7c40(0x3bf)]()*_0x3fef92['damageBase']['length']),_0xba11a1=_0x3fef92[_0x1c7c40(0x494)][_0x28185c][_0x1c7c40(0x397)]*0.1,_0x40bfff=_0xba11a1[_0x1c7c40(0x1f5)](0x1);_0xba11a1=parseFloat((_0x3fef92[_0x1c7c40(0x494)][_0x28185c][_0x1c7c40(0x397)]+_0xba11a1)[_0x1c7c40(0x1f5)](0x1));if(_0xba11a1<0.1)_0xba11a1=0.1;return _0x3fef92['damageBase'][_0x28185c]['value']=_0xba11a1,this[_0x1c7c40(0x44d)]++,world['village'][_0x1c7c40(0x183)][_0x1c7c40(0x26e)]({'type':_0x1c7c40(0x52d),'txt':_0x1c7c40(0x277)+this[_0x1c7c40(0x16c)]+'\x27\x20'+_0x3fef92['damageBase'][_0x28185c][_0x1c7c40(0x217)]+'\x20'+_0x3fef92[_0x1c7c40(0x494)][_0x28185c][_0x1c7c40(0x287)]+_0x1c7c40(0x2d6)+_0x40bfff}),!![];}return world['village'][_0x1c7c40(0x183)][_0x1c7c40(0x26e)]({'type':'job','txt':_0x1c7c40(0x33f)+this['name']+_0x1c7c40(0x47e)}),![];};};function CalculeDamageWeaponFromPlayerStats(_0x58bda5){var _0x4af5f7=_0x30a6b3;if(!_0x58bda5||!_0x58bda5[_0x4af5f7(0x3c9)]||!_0x58bda5[_0x4af5f7(0x382)])return undefined;var _0x25f9c0=_0x58bda5['damage'],_0xf8a5c3=_0x58bda5[_0x4af5f7(0x3c9)],_0x1b722=[];for(var _0x218494 in _0x25f9c0)_0x1b722['push']({'type':_0x25f9c0[_0x218494]['type'],'value':_0xf8a5c3[_0x4af5f7(0x217)][_0x25f9c0[_0x218494][_0x4af5f7(0x217)]]*_0x25f9c0[_0x218494][_0x4af5f7(0x397)]});return _0x1b722;}PLAYER_ARMOR=[{'name':_0x30a6b3(0x537),'img':'wood_armor','dmgArmor':[{'damage':_0x30a6b3(0x1b7),'type':_0x30a6b3(0x2ed),'value':0x14},{'damage':_0x30a6b3(0x45f),'value':0x2}]},{'name':_0x30a6b3(0x467),'img':_0x30a6b3(0x1f0),'dmgArmor':[{'damage':_0x30a6b3(0x1b7),'type':'factor','value':0x19},{'damage':_0x30a6b3(0x1b7),'value':0x5}]}],Armor=function(){var _0x31a3e6=_0x30a6b3;this[_0x31a3e6(0x211)]=_0x31a3e6(0x240),this['name'],this[_0x31a3e6(0x435)],this[_0x31a3e6(0x155)],this[_0x31a3e6(0x269)]=_0x1af23b=>{var _0xdbe878=_0x31a3e6;if(!_0x1af23b||!_0x1af23b[_0xdbe878(0x16c)])return undefined;this['name']=_0x1af23b[_0xdbe878(0x16c)];var _0xf3d488=PLAYER_ARMOR[_0xdbe878(0x2f9)](_0x64a944=>_0x64a944[_0xdbe878(0x16c)]==_0x1af23b['name']);if(!_0xf3d488)return undefined;return this['img']=_0xf3d488[_0xdbe878(0x435)]?_0xf3d488[_0xdbe878(0x435)]:this[_0xdbe878(0x16c)],this[_0xdbe878(0x155)]=_0xf3d488['dmgArmor'],this;},this[_0x31a3e6(0x3aa)]=_0x282dad=>{for(var _0x23afba in _0x282dad)this[_0x23afba]=_0x282dad[_0x23afba];return this;},this[_0x31a3e6(0x1a2)]=()=>{var _0x248c54=_0x31a3e6;return this['createNewArmor']({'name':PLAYER_ARMOR[Math[_0x248c54(0x25a)](Math[_0x248c54(0x3bf)]()*PLAYER_ARMOR[_0x248c54(0x39e)])][_0x248c54(0x16c)]});},this['calculatDamageFromAttack']=_0x20a184=>{var _0x243162=_0x31a3e6;if(!_0x20a184||!_0x20a184[_0x243162(0x1b4)]||_0x20a184[_0x243162(0x1b4)]['length']<0x1)return 0x0;var _0x31eb63=0x0;for(var _0x629555 in _0x20a184['damages']){var _0x5c5cc3=_0x20a184[_0x243162(0x1b4)][_0x629555],_0x49d8c4=_0x5c5cc3['value'];console[_0x243162(0x2e0)](_0x243162(0x298)+_0x5c5cc3+'\x20'+_0x49d8c4);for(var _0x1920a0 in this[_0x243162(0x155)]){var _0x4fd8b3=this['dmgArmor'][_0x1920a0];console[_0x243162(0x2e0)](_0x243162(0x212)+[_0x4fd8b3[_0x243162(0x382)],_0x4fd8b3[_0x243162(0x287)],_0x5c5cc3[_0x243162(0x287)]]);if(_0x4fd8b3[_0x243162(0x382)]==_0x5c5cc3[_0x243162(0x287)]){console[_0x243162(0x2e0)](_0x243162(0x30b)+_0x5c5cc3['type']+_0x243162(0x458)+_0x4fd8b3[_0x243162(0x397)]+'\x20if\x20%'+_0x4fd8b3['type']);if(_0x4fd8b3['type'])_0x49d8c4=_0x49d8c4*(0x1-_0x4fd8b3['value']/0x64);else _0x49d8c4=_0x49d8c4-_0x4fd8b3['value'];}}if(_0x49d8c4>0x0)_0x31eb63+=_0x49d8c4;}console['log'](_0x243162(0x20d)+_0x31eb63+'\x20('+Math[_0x243162(0x25a)](_0x31eb63)+')');if(_0x31eb63>0x0)return parseInt(_0x31eb63);return 0x0;},this[_0x31a3e6(0x37c)]=()=>{var _0x4649b9=_0x31a3e6,_0x2593af='\x27'+this[_0x4649b9(0x16c)]+'\x27';for(var _0x4c3373 in this['dmgArmor']){_0x2593af+='\x0a-reduce\x20';if(this[_0x4649b9(0x155)][_0x4c3373][_0x4649b9(0x287)])_0x2593af+=this[_0x4649b9(0x155)][_0x4c3373][_0x4649b9(0x397)]+'\x20%\x20of\x20';else _0x2593af+=this['dmgArmor'][_0x4c3373][_0x4649b9(0x397)]+'\x20';_0x2593af+=this[_0x4649b9(0x155)][_0x4c3373][_0x4649b9(0x382)]+_0x4649b9(0x3ef);}return _0x2593af;};},HUMAN_NAME_LIST=[_0x30a6b3(0x22c),_0x30a6b3(0x380),_0x30a6b3(0x184),'Boden\x20Archer',_0x30a6b3(0x329),_0x30a6b3(0x1dc),_0x30a6b3(0x304),'Jacob\x20Knapp',_0x30a6b3(0x29d),'Kai\x20Benjamin','Jianna\x20Wood','Carson\x20Hunter',_0x30a6b3(0x3b3),'Wilson\x20Gill',_0x30a6b3(0x3c1),'Kade\x20House','Sariah\x20Cabrera',_0x30a6b3(0x267),'Lorelei\x20Alexander',_0x30a6b3(0x4df),'Mckenna\x20Leblanc',_0x30a6b3(0x182),'Ila\x20Ellis',_0x30a6b3(0x25f),'Saige\x20McBride',_0x30a6b3(0x408),'Murphy\x20Nava',_0x30a6b3(0x533),'Anahi\x20Strickland',_0x30a6b3(0x3e4),_0x30a6b3(0x295),_0x30a6b3(0x174),_0x30a6b3(0x40e),'Ryder\x20Sandoval','Elsie\x20Reynolds',_0x30a6b3(0x4c3),_0x30a6b3(0x37f),_0x30a6b3(0x25e),'Lia\x20Diaz','Nathan\x20Beltran','Kaydence\x20Xiong',_0x30a6b3(0x434),_0x30a6b3(0x4ac),'Zachary\x20Holloway',_0x30a6b3(0x27c),'Magnus\x20Yoder','Emerie\x20Hickman',_0x30a6b3(0x1d6),_0x30a6b3(0x47f),'Marvin\x20Herrera',_0x30a6b3(0x4f7),'Sergio\x20Welch',_0x30a6b3(0x4b5),_0x30a6b3(0x333),_0x30a6b3(0x50c),'Cillian\x20Ray',_0x30a6b3(0x3d3),_0x30a6b3(0x1af),_0x30a6b3(0x52f),_0x30a6b3(0x328),_0x30a6b3(0x306),_0x30a6b3(0x4e0),_0x30a6b3(0x28d),_0x30a6b3(0x20e),'Wren\x20Costa',_0x30a6b3(0x3f2),_0x30a6b3(0x51b),_0x30a6b3(0x36b),'Scarlett\x20Mays',_0x30a6b3(0x239),_0x30a6b3(0x3ea),_0x30a6b3(0x24d),'Itzel\x20Allison',_0x30a6b3(0x448),_0x30a6b3(0x346),_0x30a6b3(0x4e3),'Treasure\x20Quintana',_0x30a6b3(0x2f8),_0x30a6b3(0x317),_0x30a6b3(0x3b5),_0x30a6b3(0x173),_0x30a6b3(0x141),'River\x20Hunter','Archer\x20Baxter',_0x30a6b3(0x1bf),'Stephen\x20Bartlett',_0x30a6b3(0x396),_0x30a6b3(0x1c1),_0x30a6b3(0x30f),_0x30a6b3(0x361),_0x30a6b3(0x2c4),_0x30a6b3(0x498),_0x30a6b3(0x30a),_0x30a6b3(0x2f2),_0x30a6b3(0x324),_0x30a6b3(0x43b),_0x30a6b3(0x26c),'Paxton\x20Pollard',_0x30a6b3(0x430),'Krew\x20Pruitt'],MessageSystem=function(){var _0x5a0a83=_0x30a6b3;world[_0x5a0a83(0x183)]=this,this[_0x5a0a83(0x370)]=[],COLOR_SYSTEM_DEFAULT='#000000',MAX_MESSAGE=0xc8,this[_0x5a0a83(0x26e)]=_0x171757=>{var _0x4801f9=_0x5a0a83;if(!_0x171757||!_0x171757[_0x4801f9(0x391)])return;this[_0x4801f9(0x370)][_0x4801f9(0x392)]({'type':_0x171757[_0x4801f9(0x287)],'txt':_0x171757['txt']});while(this[_0x4801f9(0x370)][_0x4801f9(0x39e)]>MAX_MESSAGE)this['msg'][_0x4801f9(0x149)]();},this[_0x5a0a83(0x26e)]({'txt':_0x5a0a83(0x1ff)}),this[_0x5a0a83(0x400)]=_0x18682a=>{var _0x2d18bc=_0x5a0a83;if(!_0x18682a||!this[_0x2d18bc(0x370)]||this[_0x2d18bc(0x370)][_0x2d18bc(0x39e)]<0x1)return[];var _0x2b8b94=_0x18682a[_0x2d18bc(0x32d)]&&_0x18682a[_0x2d18bc(0x32d)]<this['msg'][_0x2d18bc(0x39e)]?_0x18682a[_0x2d18bc(0x32d)]:0x0,_0x4015ad=_0x18682a[_0x2d18bc(0x453)]?_0x18682a['lineMax']:0xa;while(_0x2b8b94+_0x4015ad>this[_0x2d18bc(0x370)][_0x2d18bc(0x39e)]&&_0x4015ad>0x0)_0x4015ad--;var _0x4ba6d5=[],_0x6b4752=0x0;while(_0x6b4752<_0x4015ad&&this[_0x2d18bc(0x370)][_0x2b8b94+_0x6b4752]){_0x4ba6d5['push'](this[_0x2d18bc(0x370)][_0x2b8b94+_0x6b4752]),_0x6b4752++;}return _0x4ba6d5;};},PlayerVillage=function(_0x18f4ea){var _0x3417f9=_0x30a6b3;this[_0x3417f9(0x16c)]=_0x18f4ea[_0x3417f9(0x16c)]?_0x18f4ea['name']:HUMAN_NAME_LIST[Math[_0x3417f9(0x25a)](Math[_0x3417f9(0x3bf)]()*HUMAN_NAME_LIST['length'])],this[_0x3417f9(0x162)]=_0x18f4ea[_0x3417f9(0x162)]?_0x18f4ea[_0x3417f9(0x162)]:{'r':Math[_0x3417f9(0x25a)](Math[_0x3417f9(0x3bf)]()*0x100),'g':Math[_0x3417f9(0x25a)](Math[_0x3417f9(0x3bf)]()*0x100),'b':Math[_0x3417f9(0x25a)](Math[_0x3417f9(0x3bf)]()*0x100)},this[_0x3417f9(0x168)]=undefined,this[_0x3417f9(0x4e5)]=![],this[_0x3417f9(0x2fb)]=_0x18f4ea['face_type']?_0x18f4ea['face_type']:PLAYER_FACE_IMG[Math[_0x3417f9(0x25a)](Math[_0x3417f9(0x3bf)]()*PLAYER_FACE_IMG[_0x3417f9(0x39e)])],this['body_type']=_0x18f4ea[_0x3417f9(0x426)]?_0x18f4ea[_0x3417f9(0x426)]:PLAYER_BODY_IMG[Math['floor'](Math[_0x3417f9(0x3bf)]()*PLAYER_BODY_IMG['length'])],this[_0x3417f9(0x240)]=_0x18f4ea[_0x3417f9(0x240)]?_0x18f4ea[_0x3417f9(0x240)]:undefined,this[_0x3417f9(0x215)]=_0x18f4ea[_0x3417f9(0x215)]?_0x18f4ea[_0x3417f9(0x215)]:undefined,this['speed']=_0x18f4ea[_0x3417f9(0x3d0)]?_0x18f4ea[_0x3417f9(0x3d0)]:0x64,this[_0x3417f9(0x419)]=_0x18f4ea[_0x3417f9(0x419)]?_0x18f4ea['ActionPointMax']:0x64,this[_0x3417f9(0x465)]=_0x18f4ea[_0x3417f9(0x465)]?_0x18f4ea[_0x3417f9(0x465)]:0x64,this[_0x3417f9(0x217)]=_0x18f4ea['stats'],this[_0x3417f9(0x1ae)]=_0x18f4ea[_0x3417f9(0x1ae)]?_0x18f4ea['movePCost']:PLAYER_DEFAUTL_MOVECOST,this[_0x3417f9(0x15b)]=_0x18f4ea[_0x3417f9(0x15b)]?_0x18f4ea['size']:0x1,this['id']=PLAYER_ID++,this['villageActionPointMax']=_0x18f4ea[_0x3417f9(0x2b6)]?_0x18f4ea[_0x3417f9(0x2b6)]:0xa,this[_0x3417f9(0x330)]=this['villageActionPointMax'],this[_0x3417f9(0x31f)]=_0x18f4ea[_0x3417f9(0x31f)]?_0x18f4ea[_0x3417f9(0x2e7)]:0x0,this[_0x3417f9(0x3de)]=_0x18f4ea[_0x3417f9(0x3de)]?_0x18f4ea['lvl']:0x1,this[_0x3417f9(0x2b5)]=_0x18f4ea[_0x3417f9(0x2b5)]?_0x18f4ea[_0x3417f9(0x2b5)]:0x0,this[_0x3417f9(0x4d9)]=[],this[_0x3417f9(0x3a9)]=()=>{var _0x29ebd4=_0x3417f9,_0x592c8b=[],_0x18a9e5=Math[_0x29ebd4(0x25a)](Math[_0x29ebd4(0x3bf)]()*0x64),_0x4757b5=_0x29ebd4(0x217),_0x54cb51=[{'type':_0x29ebd4(0x217),'stat':_0x29ebd4(0x46c),'value':0x1},{'type':_0x29ebd4(0x217),'stat':_0x29ebd4(0x291),'value':0x1},{'type':'playerstats','stat':_0x29ebd4(0x465),'value':0x5},{'type':_0x29ebd4(0x2e9),'stat':'speed','value':0x2},{'type':'playerstats','stat':_0x29ebd4(0x1ae),'value':-0x1},{'type':_0x29ebd4(0x2e9),'stat':_0x29ebd4(0x419),'value':0x4},{'type':'playerstats','stat':_0x29ebd4(0x2b6),'value':0x5}];while(_0x592c8b[_0x29ebd4(0x39e)]<0x3){for(var _0x53787b in _0x54cb51){if(Math[_0x29ebd4(0x25a)](Math[_0x29ebd4(0x3bf)]()*0x64)<0x32)_0x592c8b[_0x29ebd4(0x4a8)](_0x54cb51[_0x53787b]);if(_0x592c8b[_0x29ebd4(0x39e)]>0x2)break;}}return this[_0x29ebd4(0x4d9)]=_0x592c8b,_0x592c8b;},this[_0x3417f9(0x4b9)]=_0x19e3da=>{var _0x179cef=_0x3417f9;if(!_0x19e3da||!_0x19e3da[_0x179cef(0x287)]||!this[_0x179cef(0x2b5)])return;if(_0x19e3da[_0x179cef(0x287)]==_0x179cef(0x2e9))this[_0x19e3da[_0x179cef(0x1d0)]]+=_0x19e3da[_0x179cef(0x397)];else _0x19e3da['type']==_0x179cef(0x217)&&(this[_0x179cef(0x217)][_0x19e3da[_0x179cef(0x1d0)]]+=_0x19e3da[_0x179cef(0x397)]);world[_0x179cef(0x534)][_0x179cef(0x183)][_0x179cef(0x26e)]({'type':_0x179cef(0x3c9),'txt':this[_0x179cef(0x16c)]+_0x179cef(0x1a0)+_0x19e3da[_0x179cef(0x1d0)]+'\x20'+_0x19e3da[_0x179cef(0x397)]}),this['lvlupList']=[],this[_0x179cef(0x2b5)]--,this[_0x179cef(0x3de)]++;},this['tryLvLup']=()=>{var _0x1f83a4=_0x3417f9,_0x2b6274=0x32*(0x1-this[_0x1f83a4(0x3de)]/0x64),_0x34c67e=Math['floor'](Math['random']()*0x64);if(_0x34c67e<_0x2b6274)return this[_0x1f83a4(0x2b5)]++,world['village'][_0x1f83a4(0x183)][_0x1f83a4(0x26e)]({'type':_0x1f83a4(0x3c9),'txt':this[_0x1f83a4(0x16c)]+_0x1f83a4(0x486)}),world[_0x1f83a4(0x4e6)][_0x1f83a4(0x4b4)](_0x1f83a4(0x2b5)),!![];return![];},this[_0x3417f9(0x2e8)]=()=>{var _0x1eb45c=_0x3417f9,_0x342304=''+this[_0x1eb45c(0x16c)];_0x342304+='\x0a'+_0x1eb45c(0x1a6)+this[_0x1eb45c(0x465)],_0x342304+='\x0a'+_0x1eb45c(0x429)+this['ActionPointMax'],_0x342304+='\x0a'+'Speed\x20:\x20'+this[_0x1eb45c(0x3d0)];for(var _0x20c5b1 in this[_0x1eb45c(0x217)])_0x342304+='\x0a'+_0x20c5b1+_0x1eb45c(0x30e)+this['stats'][_0x20c5b1];return this[_0x1eb45c(0x215)]&&(_0x342304+='\x0a'+'Equiped\x20with\x20\x27'+this[_0x1eb45c(0x215)]['name']+'\x27',_0x342304+='\x0a'+_0x1eb45c(0x500)+[this[_0x1eb45c(0x215)][_0x1eb45c(0x39a)][_0x1eb45c(0x165)]]),_0x342304;},this[_0x3417f9(0x401)]=()=>{var _0x3b96d4=_0x3417f9;if(!this[_0x3b96d4(0x330)])return[];var _0x5b6b16=world[_0x3b96d4(0x534)]['getBatFromPlayer'](this);if(!_0x5b6b16||!_0x5b6b16[_0x3b96d4(0x2d9)]||!_0x5b6b16[_0x3b96d4(0x2d9)][_0x3b96d4(0x39e)])return[];var _0x244787=_0x5b6b16[_0x3b96d4(0x2d9)][_0x3b96d4(0x381)](_0x47c173=>_0x47c173[_0x3b96d4(0x518)]<=this[_0x3b96d4(0x330)]);return _0x244787;},this[_0x3417f9(0x195)]=()=>{var _0x56b2f2=_0x3417f9;this['weapon']&&(world[_0x56b2f2(0x534)][_0x56b2f2(0x311)]({'weapon':this['weapon']}),this[_0x56b2f2(0x215)]=undefined);},this[_0x3417f9(0x1b6)]=()=>{var _0x13c617=_0x3417f9;if(this[_0x13c617(0x240)])world[_0x13c617(0x534)][_0x13c617(0x471)]({'armor':this[_0x13c617(0x240)]});this[_0x13c617(0x240)]=undefined,this[_0x13c617(0x4e5)]=![];},this[_0x3417f9(0x196)]=_0x30adb5=>{var _0xf9aa8b=_0x3417f9;if(!_0x30adb5||!_0x30adb5['item'])return;if(_0x30adb5[_0xf9aa8b(0x2b4)]['itemType']=='armor')this[_0xf9aa8b(0x1b6)]();else{if(_0x30adb5[_0xf9aa8b(0x2b4)][_0xf9aa8b(0x211)]=='weapon')this[_0xf9aa8b(0x195)]();}},this[_0x3417f9(0x4aa)]=_0x357667=>{var _0x327626=_0x3417f9;if(!_0x357667||!_0x357667[_0x327626(0x215)])return;var _0x5dd9dc=-0x1;for(var _0x23d9f6 in world[_0x327626(0x534)]['Items'])if(world['village']['Items'][_0x23d9f6]==_0x357667[_0x327626(0x215)])_0x5dd9dc=_0x23d9f6;if(_0x5dd9dc==-0x1)return;if(this[_0x327626(0x215)])this['unequipWeapon']();this[_0x327626(0x215)]=_0x357667[_0x327626(0x215)],world[_0x327626(0x534)][_0x327626(0x255)][_0x327626(0x270)](_0x5dd9dc,0x1);if(world[_0x327626(0x460)]&&world[_0x327626(0x460)][_0x327626(0x21e)]==_0x357667[_0x327626(0x215)])world[_0x327626(0x460)][_0x327626(0x21e)]=undefined;},this[_0x3417f9(0x3e8)]=_0x57b451=>{var _0x362e83=_0x3417f9;if(!_0x57b451||!_0x57b451['armor'])return;var _0x3720fc=-0x1;for(var _0x2822d4 in world[_0x362e83(0x534)][_0x362e83(0x255)])if(world[_0x362e83(0x534)][_0x362e83(0x255)][_0x2822d4]==_0x57b451[_0x362e83(0x240)])_0x3720fc=_0x2822d4;if(_0x3720fc==-0x1)return;if(this[_0x362e83(0x240)])this[_0x362e83(0x1b6)]();this['armor']=_0x57b451[_0x362e83(0x240)],world['village']['Items']['splice'](_0x3720fc,0x1);if(world['villageUI']&&world['villageUI']['itemSelected']==_0x57b451['armor'])world['villageUI'][_0x362e83(0x21e)]=undefined;this[_0x362e83(0x4e5)]=![];},this[_0x3417f9(0x3c0)]=_0x29e4ad=>{var _0xcca69c=_0x3417f9;if(!_0x29e4ad||!_0x29e4ad[_0xcca69c(0x2b4)])return;if(_0x29e4ad[_0xcca69c(0x2b4)][_0xcca69c(0x211)]=='armor')this[_0xcca69c(0x3e8)]();else{if(_0x29e4ad['item']['itemType']==_0xcca69c(0x215))this[_0xcca69c(0x4aa)]();}},this['LoadPlayerVillageImage']=()=>{var _0x49437e=_0x3417f9,_0x22f99c=world[_0x49437e(0x259)];if(!this['face_type'])this[_0x49437e(0x2fb)]=PLAYER_FACE_IMG[Math[_0x49437e(0x25a)](Math[_0x49437e(0x3bf)]()*PLAYER_FACE_IMG[_0x49437e(0x39e)])];if(!this['body_type'])this[_0x49437e(0x426)]=PLAYER_BODY_IMG[Math['floor'](Math[_0x49437e(0x3bf)]()*PLAYER_BODY_IMG[_0x49437e(0x39e)])];var _0xa9b3e4=[];_0xa9b3e4[_0x49437e(0x4a8)]({'name':this[_0x49437e(0x426)],'needColor':!![]}),_0xa9b3e4[_0x49437e(0x4a8)]({'name':this[_0x49437e(0x2fb)],'needColor':![]});if(this[_0x49437e(0x240)])_0xa9b3e4[_0x49437e(0x4a8)]({'name':this[_0x49437e(0x240)][_0x49437e(0x16c)],'needColor':![]});for(var _0x1348c8 in _0xa9b3e4)if(!_0x22f99c[_0xa9b3e4[_0x1348c8][_0x49437e(0x16c)]]||!_0x22f99c[_0xa9b3e4[_0x1348c8][_0x49437e(0x16c)]][_0x49437e(0x164)])return console[_0x49437e(0x2e0)]('can\x27t\x20with\x20'+_0xa9b3e4[_0x1348c8][_0x49437e(0x16c)]);var _0x2f6b28=document[_0x49437e(0x402)]('canvas');_0x2f6b28[_0x49437e(0x1fa)]=PLAYER_DEFAULT_SIZEX,_0x2f6b28[_0x49437e(0x24a)]=PLAYER_DEFAULT_SIZEY;var _0x111722=_0x2f6b28[_0x49437e(0x221)]('2d');for(var _0x1348c8 in _0xa9b3e4){var _0x2ed4f2=_0xa9b3e4[_0x1348c8][_0x49437e(0x16c)];if(!_0x22f99c[_0x2ed4f2])return console[_0x49437e(0x2e0)]('i\x20dont\x20have\x20this\x20image\x20\x20:\x20'+_0x2ed4f2);var _0xc43707=undefined;if(_0xa9b3e4[_0x1348c8][_0x49437e(0x42b)])_0xc43707=_0x22f99c[_0x2ed4f2]['GetColorImage'](0x0,0xff,0x0,this[_0x49437e(0x162)]['r'],this[_0x49437e(0x162)]['g'],this[_0x49437e(0x162)]['b']);else _0xc43707=_0x22f99c[_0x2ed4f2][_0x49437e(0x435)];if(!_0xc43707||!_0xc43707[_0x49437e(0x3fe)])return console['log'](_0x49437e(0x353));_0x111722[_0x49437e(0x4da)](_0xc43707,0x0,0x0);}var _0xc43707=new Image();return _0xc43707[_0x49437e(0x4fa)]=_0x2f6b28[_0x49437e(0x1fb)](),this[_0x49437e(0x168)]=_0xc43707,console[_0x49437e(0x2e0)](_0x49437e(0x18c)+this[_0x49437e(0x16c)]+_0x49437e(0x2c8)),this[_0x49437e(0x4e5)]=!![],!![];},this[_0x3417f9(0x4f2)]();},Batiment=function(_0x1b713d){var _0x46e28a=_0x30a6b3;this[_0x46e28a(0x16c)]=_0x1b713d[_0x46e28a(0x16c)],this['player_size']=_0x1b713d[_0x46e28a(0x379)]?_0x1b713d[_0x46e28a(0x379)]:0x0,this[_0x46e28a(0x2d9)]=_0x1b713d[_0x46e28a(0x2d9)],this[_0x46e28a(0x376)]=[],this['description']=_0x1b713d[_0x46e28a(0x33e)]?_0x1b713d[_0x46e28a(0x33e)]:_0x46e28a(0x52a),this['blocking_end_turn']=_0x1b713d['blocking_end_turn']?_0x1b713d[_0x46e28a(0x523)]:![],this['imgIcon']=_0x1b713d[_0x46e28a(0x38b)]?_0x1b713d[_0x46e28a(0x38b)]:undefined,this[_0x46e28a(0x2c7)]=_0x1b713d['build_progression']?_0x1b713d[_0x46e28a(0x2c7)]:undefined,this[_0x46e28a(0x3de)]=_0x1b713d[_0x46e28a(0x3de)]?_0x1b713d['lvl']:undefined,this[_0x46e28a(0x390)]=_0x1b713d[_0x46e28a(0x390)]?_0x1b713d[_0x46e28a(0x390)]:[],this[_0x46e28a(0x313)]=_0x1b713d['upgrades_callback']?_0x1b713d[_0x46e28a(0x313)]:undefined,this[_0x46e28a(0x384)]=_0x3cc06f=>{var _0x4f5322=_0x46e28a;if(!_0x3cc06f||!_0x3cc06f[_0x4f5322(0x3c9)]||!_0x3cc06f[_0x4f5322(0x3c9)][_0x4f5322(0x330)])return![];var _0x321b07=this['build_progression']<_0x3cc06f[_0x4f5322(0x3c9)][_0x4f5322(0x330)]?this[_0x4f5322(0x2c7)]:_0x3cc06f[_0x4f5322(0x3c9)][_0x4f5322(0x330)];return this[_0x4f5322(0x2c7)]-=_0x321b07,_0x3cc06f[_0x4f5322(0x3c9)][_0x4f5322(0x330)]-=_0x321b07,world[_0x4f5322(0x534)]['MessageSystem'][_0x4f5322(0x26e)]({'type':_0x4f5322(0x378),'txt':_0x3cc06f[_0x4f5322(0x3c9)]['name']+_0x4f5322(0x1e4)+this[_0x4f5322(0x16c)]+'\x27\x20(+'+_0x321b07+')'}),this['build_progression']<0x1&&(this[_0x4f5322(0x2c7)]=undefined,world['village'][_0x4f5322(0x183)][_0x4f5322(0x26e)]({'type':_0x4f5322(0x378),'txt':_0x4f5322(0x44c)+this[_0x4f5322(0x16c)]+_0x4f5322(0x2aa)})),world[_0x4f5322(0x4e6)][_0x4f5322(0x4b4)](_0x4f5322(0x2c6)),!![];},this['getNextUpgrade']=()=>{var _0x1d4a0c=_0x46e28a;if(!this[_0x1d4a0c(0x390)]||!this[_0x1d4a0c(0x390)][_0x1d4a0c(0x39e)])return undefined;return this['upgrades'][0x0];},this[_0x46e28a(0x224)]=()=>{var _0x14b253=_0x46e28a;if(!this[_0x14b253(0x390)]||!this[_0x14b253(0x390)]['length'])return![];var _0x522126=this[_0x14b253(0x2d8)]();if(_0x522126[_0x14b253(0x2d7)]){if(!world[_0x14b253(0x534)][_0x14b253(0x535)](_0x522126))return;}return world[_0x14b253(0x4e6)][_0x14b253(0x4b4)](_0x14b253(0x2c6)),!![];},this[_0x46e28a(0x14b)]=()=>{var _0x136a42=_0x46e28a,_0x140b1b=this['getNextUpgrade']();if(this[_0x136a42(0x224)]()){world['village']['MessageSystem'][_0x136a42(0x26e)]({'type':_0x136a42(0x378),'txt':this[_0x136a42(0x16c)]+_0x136a42(0x371)+(this[_0x136a42(0x3de)]+0x1)}),world[_0x136a42(0x534)][_0x136a42(0x38c)](_0x140b1b);if(this[_0x136a42(0x313)])window[this[_0x136a42(0x313)]]({'bat':this});this[_0x136a42(0x390)][_0x136a42(0x44b)](),this[_0x136a42(0x3de)]++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':_0x30a6b3(0x4cc),'type':_0x30a6b3(0x215),'bat':_0x30a6b3(0x201),'resources':{'wood':0xa},'APcost':0xa,'description':_0x30a6b3(0x526)},{'name':_0x30a6b3(0x537),'type':_0x30a6b3(0x240),'bat':'workshop','resources':{'wood':0x19},'APcost':0xa,'description':_0x30a6b3(0x3cf)},{'name':_0x30a6b3(0x20f),'type':_0x30a6b3(0x215),'bat':_0x30a6b3(0x201),'resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':_0x30a6b3(0x34b)},{'name':_0x30a6b3(0x409),'type':_0x30a6b3(0x215),'bat':'workshop','resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x30a6b3(0x261)},{'name':'Stone\x20Spear','type':_0x30a6b3(0x215),'bat':_0x30a6b3(0x201),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x30a6b3(0x214)},{'name':_0x30a6b3(0x467),'type':_0x30a6b3(0x240),'bat':_0x30a6b3(0x201),'resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':'light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling'},{'name':_0x30a6b3(0x2fd),'type':_0x30a6b3(0x215),'bat':'fletching\x20station','resources':{'wood':0x64},'APcost':0xa,'description':'hit\x20them\x20from\x20behind'},{'name':_0x30a6b3(0x181),'type':_0x30a6b3(0x215),'bat':'Forge','resources':{'wood':0x37,'metalCopper':0xa},'APcost':0xa,'description':_0x30a6b3(0x530)},{'name':'Copper\x20Cleaver','type':_0x30a6b3(0x215),'bat':_0x30a6b3(0x150),'resources':{'wood':0xf,'metalCopper':0x5},'APcost':0xa,'description':_0x30a6b3(0x18a)}],Village=function(_0x5478de){var _0x1e246a=_0x30a6b3;this['populationMax']=_0x5478de['nb_houses']?_0x5478de[_0x1e246a(0x179)]:0x1,this['resources']=_0x5478de[_0x1e246a(0x2d7)]?_0x5478de['resources']:{'food':0x0,'wood':0x0},this[_0x1e246a(0x4e4)]=_0x5478de['players']?_0x5478de[_0x1e246a(0x4e4)]:[],this[_0x1e246a(0x449)]=_0x5478de[_0x1e246a(0x449)]?_0x5478de[_0x1e246a(0x449)]:[],this['batsToBuild']=[],this[_0x1e246a(0x254)]=_0x5478de['week']?_0x5478de[_0x1e246a(0x254)]:0x0,this[_0x1e246a(0x183)]=new MessageSystem();var _0x1e679b=0x0;PHASE_NEWTURN=_0x1e679b++,PHASE_PLACEPLAYER=_0x1e679b++,PHASE_ACTIONPLAYER=_0x1e679b++,PHASE_COMBAT=_0x1e679b++,PHASE_END_TURN=_0x1e679b++,this[_0x1e246a(0x322)]=PHASE_NEWTURN,this[_0x1e246a(0x255)]=[],this['playerColor']=_0x5478de[_0x1e246a(0x490)]?_0x5478de[_0x1e246a(0x490)]:HUMAN_DEFAULT_COLOR[Math[_0x1e246a(0x25a)](Math[_0x1e246a(0x3bf)]()*HUMAN_DEFAULT_COLOR[_0x1e246a(0x39e)])],this[_0x1e246a(0x27f)]=()=>{var _0x1753ba=_0x1e246a,_0x4fc5dc=Math['floor'](this['week']/(0xc*0x4)),_0x2d0763=Math[_0x1753ba(0x25a)](this['week']/0x4)%0xc,_0x52fb78=this[_0x1753ba(0x254)]%0x4+0x1,_0x192018=_0x1753ba(0x360)+this[_0x1753ba(0x254)];_0x192018+=_0x1753ba(0x30e);if(_0x4fc5dc)_0x192018+=_0x1753ba(0x265)+_0x4fc5dc;if(_0x2d0763)_0x192018+=_0x1753ba(0x198)+_0x2d0763;return _0x192018+=_0x1753ba(0x307)+_0x52fb78,_0x192018;},this[_0x1e246a(0x3c8)]=()=>{var _0x726acb=_0x1e246a,_0x474dcb=[];for(var _0x1b76e1 in CRAFT_LIST){var _0x465082=CRAFT_LIST[_0x1b76e1],_0x1610ca=this[_0x726acb(0x449)][_0x726acb(0x2f9)](_0x26be5d=>_0x26be5d['name']==_0x465082[_0x726acb(0x235)]);if(!_0x1610ca||_0x1610ca['build_progression'])continue;_0x474dcb['push'](_0x465082);}return _0x474dcb;},this[_0x1e246a(0x36c)]=_0x3468b5=>{var _0x67cabd=_0x1e246a;if(!_0x3468b5||!_0x3468b5[_0x67cabd(0x512)])return[];var _0x30cf7d=[],_0x35ae09=_0x3468b5[_0x67cabd(0x512)];for(var _0xd8175c in this[_0x67cabd(0x4e4)]){var _0x4e2664=this[_0x67cabd(0x4e4)][_0xd8175c],_0x431cd0=this[_0x67cabd(0x395)](_0x4e2664);if(!_0x431cd0||_0x431cd0['name']!=_0x35ae09['bat'])continue;if(_0x4e2664['villageActionPoint']<_0x35ae09['APcost'])continue;for(var _0x119455 in _0x35ae09[_0x67cabd(0x318)]){var _0x5c5dc0=_0x119455,_0x4a9f01=_0x35ae09[_0x67cabd(0x318)][_0x119455];if(!this[_0x67cabd(0x2d7)]['res']||this['resources']['res']<_0x4a9f01)continue;}_0x30cf7d[_0x67cabd(0x4a8)](_0x4e2664);}return _0x30cf7d;},this['TryCraftItem']=_0x3aa08c=>{var _0xf6da0a=_0x1e246a;if(!_0x3aa08c||!_0x3aa08c[_0xf6da0a(0x512)]||!_0x3aa08c[_0xf6da0a(0x3c9)])return console['log']('bad\x20input');var _0xefe2bf=this[_0xf6da0a(0x3c8)](),_0x4d0b62=_0x3aa08c['player'];if(!_0xefe2bf||_0xefe2bf['length']<0x1)return console[_0xf6da0a(0x2e0)]('no\x20crafts\x20list');_0xefe2bf=_0xefe2bf[_0xf6da0a(0x2f9)](_0x17ecf2=>_0x17ecf2==_0x3aa08c[_0xf6da0a(0x512)]);if(!_0xefe2bf)return console[_0xf6da0a(0x2e0)](_0xf6da0a(0x2a9));if(!this[_0xf6da0a(0x36c)]({'craft':_0xefe2bf})[_0xf6da0a(0x2f9)](_0x946ffe=>_0x946ffe==_0x4d0b62))return console[_0xf6da0a(0x2e0)](_0xf6da0a(0x455));for(var _0x23426b in _0xefe2bf['resources']){var _0x34e036=_0x23426b,_0x40be3c=_0xefe2bf['resources'][_0x23426b];if(this[_0xf6da0a(0x2d7)][_0x23426b]<_0x40be3c)return this[_0xf6da0a(0x183)]['addMessage']({'txt':_0xf6da0a(0x374)}),![];}if(_0x4d0b62[_0xf6da0a(0x330)]<_0xefe2bf[_0xf6da0a(0x35f)])return this[_0xf6da0a(0x183)][_0xf6da0a(0x26e)]({'txt':_0x4d0b62[_0xf6da0a(0x16c)]+_0xf6da0a(0x508)}),![];_0x4d0b62[_0xf6da0a(0x330)]-=_0xefe2bf['APcost'];switch(_0xefe2bf[_0xf6da0a(0x287)]){case'weapon':this[_0xf6da0a(0x311)]({'weapon':new Weapon()['createNewWeapon']({'name':_0xefe2bf['name']})});break;case'armor':this[_0xf6da0a(0x471)]({'armor':new Armor()[_0xf6da0a(0x269)]({'name':_0xefe2bf[_0xf6da0a(0x16c)]})});}switch(_0xefe2bf[_0xf6da0a(0x235)]){case _0xf6da0a(0x201):world[_0xf6da0a(0x4e6)][_0xf6da0a(0x4b4)](_0xf6da0a(0x2e6));break;case _0xf6da0a(0x2cc):world['Music'][_0xf6da0a(0x4b4)](_0xf6da0a(0x2e6));break;}this['MessageSystem'][_0xf6da0a(0x26e)]({'type':'job','txt':_0x4d0b62[_0xf6da0a(0x16c)]+'\x20crafted\x20a\x20'+_0xefe2bf[_0xf6da0a(0x16c)]}),this[_0xf6da0a(0x38c)](_0xefe2bf);},this[_0x1e246a(0x1b9)]=_0x3a561d=>{var _0x249af2=_0x1e246a;this['Items']=[];for(var _0x5b4db7 in _0x3a561d){var _0x291e28=_0x3a561d[_0x5b4db7];switch(_0x291e28[_0x249af2(0x211)]){case _0x249af2(0x215):this[_0x249af2(0x311)]({'weapon':new Weapon()[_0x249af2(0x3c2)](_0x291e28)});break;case _0x249af2(0x240):this['addArmorToVillageInventory']({'armor':new Armor()[_0x249af2(0x3aa)](_0x291e28)});}}},this[_0x1e246a(0x4b0)]=_0x2a2b3f=>{var _0x59de9e=_0x1e246a;if(!_0x2a2b3f)return undefined;var _0x37630f=new PlayerVillage({});for(var _0x44e192 in _0x2a2b3f){if(_0x2a2b3f[_0x44e192]==undefined)continue;if(_0x44e192==_0x59de9e(0x168)||_0x44e192==_0x59de9e(0x4e5))continue;else{if(_0x44e192=='weapon')_0x37630f[_0x59de9e(0x215)]=new Weapon()['createWeaponFromInput'](_0x2a2b3f[_0x44e192]);else{if(_0x44e192==_0x59de9e(0x240))_0x37630f[_0x59de9e(0x240)]=new Armor()[_0x59de9e(0x3aa)](_0x2a2b3f[_0x44e192]);else _0x37630f[_0x44e192]=_0x2a2b3f[_0x44e192];}}}return this[_0x59de9e(0x4e4)][_0x59de9e(0x4a8)](_0x37630f),_0x37630f[_0x59de9e(0x4f2)](),_0x37630f;},this[_0x1e246a(0x272)]=_0x9ce8a2=>{var _0xc393c8=_0x1e246a;if(this[_0xc393c8(0x4e4)][_0xc393c8(0x39e)]>=this[_0xc393c8(0x4a6)])return undefined;var _0x268d45={'r':this['playerColor']['r']-0x5+Math[_0xc393c8(0x25a)](Math[_0xc393c8(0x3bf)]()*0xb),'g':this[_0xc393c8(0x490)]['g']-0x5+Math[_0xc393c8(0x25a)](Math['random']()*0xb),'b':this[_0xc393c8(0x490)]['b']-0x5+Math[_0xc393c8(0x25a)](Math[_0xc393c8(0x3bf)]()*0xb)},_0x2e5bc1=new PlayerVillage({'color':_0x268d45,'speed':0x64-0x5+Math[_0xc393c8(0x25a)](Math[_0xc393c8(0x3bf)]()*0xb),'stats':{'Strength':0xa-0x5+Math[_0xc393c8(0x25a)](Math[_0xc393c8(0x3bf)]()*0xb),'Dexterity':0xa-0x5+Math[_0xc393c8(0x25a)](Math[_0xc393c8(0x3bf)]()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math[_0xc393c8(0x25a)](Math[_0xc393c8(0x3bf)]()*0x5),'lifeMax':0x64-0x14+Math[_0xc393c8(0x25a)](Math[_0xc393c8(0x3bf)]()*0x29),'weapon':_0x9ce8a2[_0xc393c8(0x215)]?new Weapon()['createNewWeapon']({'name':_0x9ce8a2['weapon']}):undefined,'armor':_0x9ce8a2[_0xc393c8(0x240)]?new Armor()['createNewArmor']({'name':_0x9ce8a2[_0xc393c8(0x240)]}):undefined,'size':0x1});return this[_0xc393c8(0x4e4)][_0xc393c8(0x4a8)](_0x2e5bc1),_0x2e5bc1;},this[_0x1e246a(0x395)]=_0x544945=>{var _0x285451=_0x1e246a;if(!_0x544945)return undefined;for(var _0x44ca31 in this[_0x285451(0x449)]){var _0x3ef776=this['bats'][_0x44ca31]['players_inside']['find'](_0x3ab6b0=>_0x3ab6b0==_0x544945);if(_0x3ef776)return this[_0x285451(0x449)][_0x44ca31];}return undefined;},this['generateBasicVillage']=()=>{var _0x595fb9=_0x1e246a;this[_0x595fb9(0x4a6)]=0x5,this[_0x595fb9(0x2d7)]={'food':0xc8,'wood':0xc8,'stone':0xc8};for(var _0x10cb37=0x0;_0x10cb37<0x5;_0x10cb37++){if(_0x10cb37==0x0)this[_0x595fb9(0x272)]({'weapon':_0x595fb9(0x170),'armor':_0x595fb9(0x467)});else this['generateBasicPlayer']({});}this[_0x595fb9(0x485)](),this['addForest'](),this[_0x595fb9(0x226)](),this[_0x595fb9(0x504)]();},this[_0x1e246a(0x48f)]=_0x4df0d7=>{var _0x585a56=_0x1e246a;if(!_0x4df0d7||!_0x4df0d7[_0x585a56(0x3c9)])return![];var _0x3d3b68=_0x4df0d7[_0x585a56(0x3c9)];for(var _0x2ab657 in this[_0x585a56(0x449)]){var _0x4b4dc3=this[_0x585a56(0x449)][_0x2ab657];for(var _0x68fde5 in _0x4b4dc3['players_inside'])if(_0x4b4dc3[_0x585a56(0x376)][_0x68fde5]==_0x3d3b68)_0x4b4dc3[_0x585a56(0x376)][_0x585a56(0x270)](_0x68fde5,0x1);}},this[_0x1e246a(0x282)]=_0x572a43=>{var _0x3dec07=_0x1e246a;if(!_0x572a43||!_0x572a43[_0x3dec07(0x3c9)]||!_0x572a43[_0x3dec07(0x235)])return![];if(_0x572a43[_0x3dec07(0x235)]['players_inside']['length']>=_0x572a43[_0x3dec07(0x235)][_0x3dec07(0x379)])return![];var _0x1b4717=_0x572a43[_0x3dec07(0x3c9)];for(var _0x475124 in this['bats']){var _0x33bb31=this[_0x3dec07(0x449)][_0x475124];for(var _0x39d5e2 in _0x33bb31['players_inside'])if(_0x33bb31[_0x3dec07(0x376)][_0x39d5e2]==_0x1b4717)_0x33bb31[_0x3dec07(0x376)]['splice'](_0x39d5e2,0x1);}_0x572a43[_0x3dec07(0x235)][_0x3dec07(0x376)]['push'](_0x1b4717);},this[_0x1e246a(0x38c)]=_0x205acc=>{var _0x1f80f5=_0x1e246a;if(!_0x205acc||!_0x205acc[_0x1f80f5(0x2d7)])return console[_0x1f80f5(0x2e0)](_0x1f80f5(0x422));var _0xa339d6=![],_0x50f960=_0x1f80f5(0x323);for(var _0x2c3e1a in _0x205acc[_0x1f80f5(0x2d7)]){var _0x525696=_0x2c3e1a,_0x3be2d5=_0x205acc[_0x1f80f5(0x2d7)][_0x2c3e1a];if(!(_0x3be2d5>0x0))continue;_0xa339d6=!![];var _0x138a0c=this[_0x1f80f5(0x2d7)];if(!_0x138a0c[_0x525696]||_0x138a0c[_0x525696]<_0x3be2d5)return console[_0x1f80f5(0x2e0)]('not\x20enoguht\x20resources');_0x138a0c[_0x525696]-=_0x3be2d5,_0x50f960+='\x20x'+_0x3be2d5+'\x20'+_0x525696;}if(_0xa339d6)this[_0x1f80f5(0x183)]['addMessage']({'type':_0x1f80f5(0x318),'txt':{..._0x205acc[_0x1f80f5(0x2d7)]}});},this['addResource']=_0x207d22=>{var _0x5486a2=_0x1e246a;if(!_0x207d22||!_0x207d22[_0x5486a2(0x2d7)])return![];var _0x243f0c=![];for(var _0xcc0b12 in _0x207d22['resources']){var _0x2abc2c=_0xcc0b12,_0x1781ee=_0x207d22[_0x5486a2(0x2d7)][_0xcc0b12];if(!(_0x1781ee>0x0))continue;_0x243f0c=!![];var _0x382d42=this[_0x5486a2(0x2d7)];if(!_0x382d42[_0x2abc2c])_0x382d42[_0x2abc2c]=0x0;_0x382d42[_0x2abc2c]+=_0x1781ee;}if(_0x243f0c)this['MessageSystem'][_0x5486a2(0x26e)]({'type':_0x5486a2(0x318),'txt':{..._0x207d22[_0x5486a2(0x2d7)]}});},this[_0x1e246a(0x274)]=_0x206f94=>{var _0x1eb7d3=_0x1e246a;this['bats']=[];for(var _0x4f0cc5 in _0x206f94){var _0xd30419=_0x206f94[_0x4f0cc5],_0x5a254f=new Batiment(_0x206f94[_0x4f0cc5]);for(var _0x145672 in _0xd30419){_0x5a254f[_0x145672]=_0xd30419[_0x145672];}_0x5a254f[_0x1eb7d3(0x376)]=[],this[_0x1eb7d3(0x449)][_0x1eb7d3(0x4a8)](_0x5a254f);}},this['addHouse']=_0x3bebd1=>{var _0x1477e9=_0x1e246a,_0xce1359=new Batiment({'name':_0x1477e9(0x16b),'player_size':0x0,'callback_actionPlayer':[],'description':_0x5a0c1f=>{var _0x285738=_0x1477e9;return'House\x20lvl'+_0x5a0c1f[_0x285738(0x3de)]+_0x285738(0x493)+world[_0x285738(0x534)][_0x285738(0x4a6)];},'blocking_end_turn':!![],'imgIcon':_0x1477e9(0x16b),'lvl':0x1,'upgrades_callback':_0x1477e9(0x41f),'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'woodplank':0xa,'stone':0x32}}]});_0xce1359[_0x1477e9(0x200)]=0x5,this['bats'][_0x1477e9(0x4a8)](_0xce1359);},this[_0x1e246a(0x4bb)]=_0x5e3a12=>{var _0x3863db=_0x1e246a,_0x3625c0=new Batiment({'name':_0x5e3a12[_0x3863db(0x16c)],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x3863db(0x1d8),'buto_txt':'go\x20to\x20craft\x20tab','description':'craft\x20basic\x20stuff','cost':0x0}],'description':_0x3863db(0x1f4),'blocking_end_turn':!![],'imgIcon':'bow_workshop_icon','build_progression':_0x5e3a12[_0x3863db(0x516)]});this[_0x3863db(0x449)][_0x3863db(0x4a8)](_0x3625c0);},this[_0x1e246a(0x159)]=_0x14787b=>{var _0x4def83=_0x1e246a,_0xf703e4=new Batiment({'name':_0x14787b[_0x4def83(0x16c)],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x4def83(0x1d8),'buto_txt':'go\x20to\x20craft\x20tab','description':'craft\x20basic\x20stuff','cost':0x0}],'description':_0x4def83(0x394),'blocking_end_turn':!![],'imgIcon':_0x4def83(0x536),'build_progression':_0x14787b['costAP']});this['bats'][_0x4def83(0x4a8)](_0xf703e4);},this[_0x1e246a(0x348)]=_0x48c4b1=>{var _0x53bf8b=_0x1e246a,_0x26ba57=new Batiment({'name':_0x48c4b1[_0x53bf8b(0x16c)],'player_size':0x3,'callback_actionPlayer':[{'callback':_0x53bf8b(0x40f),'buto_txt':_0x53bf8b(0x233),'description':_0x53bf8b(0x44f),'cost':0x4}],'description':_0x53bf8b(0x4ab),'blocking_end_turn':!![],'imgIcon':_0x53bf8b(0x412),'build_progression':_0x48c4b1[_0x53bf8b(0x516)]});this[_0x53bf8b(0x449)][_0x53bf8b(0x4a8)](_0x26ba57);},this[_0x1e246a(0x336)]=_0x5ae217=>{var _0x316462=_0x1e246a,_0x3d3252=new Batiment({'name':_0x316462(0x218),'player_size':0x2,'callback_actionPlayer':[{'callback':'craftPlankInSawmill','buto_txt':_0x316462(0x2ca),'description':_0x316462(0x3d7),'cost':0x5}],'description':_0x316462(0x1bb),'blocking_end_turn':!![],'imgIcon':_0x316462(0x3e2),'build_progression':_0x5ae217[_0x316462(0x516)]});this[_0x316462(0x449)][_0x316462(0x4a8)](_0x3d3252);},this[_0x1e246a(0x413)]=_0x33a1e9=>{var _0x3fc8e8=_0x1e246a,_0xfe71cb=new Batiment({'name':_0x3fc8e8(0x3c3),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x3fc8e8(0x53c),'buto_txt':_0x3fc8e8(0x305),'description':_0x3fc8e8(0x509),'cost':0x3}],'description':_0x3fc8e8(0x475),'blocking_end_turn':!![],'imgIcon':_0x3fc8e8(0x3f4),'build_progression':_0x33a1e9[_0x3fc8e8(0x516)]});this[_0x3fc8e8(0x449)][_0x3fc8e8(0x4a8)](_0xfe71cb);},this[_0x1e246a(0x237)]=_0x4560a1=>{var _0x25db38=_0x1e246a,_0x38a7db=new Batiment({'name':_0x25db38(0x150),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x25db38(0x1d8),'buto_txt':_0x25db38(0x21a),'description':_0x25db38(0x42d),'cost':0x0},{'callback':_0x25db38(0x3cd),'buto_txt':'go\x20to\x20forge\x20tab','description':'upgrade\x20weapons','cost':0x0}],'description':_0x25db38(0x1da),'blocking_end_turn':!![],'imgIcon':'forge','build_progression':_0x4560a1[_0x25db38(0x516)]});this[_0x25db38(0x449)]['push'](_0x38a7db);},this['addForest']=()=>{var _0x37a2fa=_0x1e246a,_0x19ec52=new Batiment({'name':_0x37a2fa(0x383),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x37a2fa(0x290),'buto_txt':_0x37a2fa(0x1ad),'description':_0x37a2fa(0x49e),'cost':0x5}],'description':_0x37a2fa(0x47d),'blocking_end_turn':!![],'imgIcon':_0x37a2fa(0x3e6)});this[_0x37a2fa(0x449)][_0x37a2fa(0x4a8)](_0x19ec52);},this[_0x1e246a(0x485)]=()=>{var _0xbfe914=_0x1e246a,_0x1efd94=new Batiment({'name':'Defend\x20Village','player_size':0x5,'callback_actionPlayer':[],'description':'Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village','blocking_end_turn':![],'imgIcon':_0xbfe914(0x375)});this['bats'][_0xbfe914(0x4a8)](_0x1efd94);},this['createBatToBuildList']=()=>{var _0x3fecac=_0x1e246a;this['batsToBuild']=[{'name':_0x3fecac(0x201),'img':'workshop_icon','resources':{'wood':0xa,'stone':0x1},'callback':_0x3fecac(0x159),'input':{'name':_0x3fecac(0x201),'costAP':0x1e}},{'name':_0x3fecac(0x13f),'img':_0x3fecac(0x420),'resources':{'wood':0x64,'stone':0x1e},'callback':_0x3fecac(0x4bb),'input':{'name':_0x3fecac(0x13f),'costAP':0x14}},{'name':_0x3fecac(0x412),'img':'Mine','resources':{'wood':0x14,'stone':0x5},'callback':_0x3fecac(0x348),'input':{'name':_0x3fecac(0x412),'costAP':0xa}},{'name':'Sawmill','img':'sawmill','resources':{'wood':0x14,'stone':0x5},'callback':_0x3fecac(0x336),'input':{'name':_0x3fecac(0x218),'costAP':0xa}},{'name':_0x3fecac(0x3c3),'img':_0x3fecac(0x3f4),'resources':{'wood':0x14,'stone':0x5},'callback':_0x3fecac(0x413),'input':{'name':'Smelter','costAP':0xa}},{'name':_0x3fecac(0x150),'img':'forge','resources':{'wood':0x14,'stone':0x5},'callback':_0x3fecac(0x237),'input':{'name':_0x3fecac(0x150),'costAP':0xa}}];},this[_0x1e246a(0x535)]=_0xa7dbcd=>{var _0x9ad802=_0x1e246a;if(!_0xa7dbcd||!_0xa7dbcd[_0x9ad802(0x2d7)])return![];var _0x1c864b=_0xa7dbcd['resources'];for(var _0x150aac in _0xa7dbcd['resources']){var _0x314486=_0x150aac,_0x296ccd=_0x1c864b[_0x150aac];if(!this[_0x9ad802(0x2d7)][_0x314486]||this[_0x9ad802(0x2d7)][_0x314486]<_0x296ccd)return![];}return!![];},this[_0x1e246a(0x3ce)]=_0x3fc1c9=>{var _0x5abfac=_0x1e246a;if(!_0x3fc1c9||!_0x3fc1c9[_0x5abfac(0x235)])return![];if(!this['checkHaveResources'](_0x3fc1c9[_0x5abfac(0x235)]))return this['MessageSystem']['addMessage']({'txt':_0x5abfac(0x374)});var _0x2f1775=_0x3fc1c9[_0x5abfac(0x235)];this['MessageSystem'][_0x5abfac(0x26e)]({'type':_0x5abfac(0x378),'txt':_0x5abfac(0x44c)+_0x2f1775[_0x5abfac(0x16c)]+_0x5abfac(0x1a8)}),this[_0x5abfac(0x38c)](_0x3fc1c9['bat']),this[_0x2f1775['callback']](_0x2f1775['input']);for(var _0x4add82 in this[_0x5abfac(0x3e5)])if(this[_0x5abfac(0x3e5)][_0x4add82]==_0x2f1775)this['batsToBuild']['splice'](_0x4add82,0x1);},this[_0x1e246a(0x471)]=_0x4d183d=>{var _0x43b646=_0x1e246a;if(!_0x4d183d||!_0x4d183d[_0x43b646(0x240)])return;this[_0x43b646(0x255)][_0x43b646(0x4a8)](_0x4d183d[_0x43b646(0x240)]);},this[_0x1e246a(0x311)]=_0x255f74=>{var _0x1d32c1=_0x1e246a;if(!_0x255f74||!_0x255f74['weapon'])return console[_0x1d32c1(0x2e0)](_0x1d32c1(0x415));this[_0x1d32c1(0x255)][_0x1d32c1(0x4a8)](_0x255f74[_0x1d32c1(0x215)]);},this['End_Turn']=_0x408c08=>{var _0x40ad48=_0x1e246a;if(!_0x408c08)return![];world[_0x40ad48(0x460)][_0x40ad48(0x37a)]=[];switch(this[_0x40ad48(0x322)]){case PHASE_NEWTURN:world[_0x40ad48(0x2f5)](),this[_0x40ad48(0x322)]=PHASE_PLACEPLAYER,this[_0x40ad48(0x183)][_0x40ad48(0x26e)]({'txt':_0x40ad48(0x46e)});for(var _0x48b9f6 in this[_0x40ad48(0x4e4)])this['players'][_0x48b9f6][_0x40ad48(0x330)]=this[_0x40ad48(0x4e4)][_0x48b9f6][_0x40ad48(0x2b6)];if(this[_0x40ad48(0x254)]==0x0)world['Music'][_0x40ad48(0x4b4)](_0x40ad48(0x49a),!![],!![]);break;case PHASE_PLACEPLAYER:if(_0x408c08[_0x40ad48(0x364)]){var _0x51856b=[];for(var _0x48b9f6 in this['players']){_0x492302=this[_0x40ad48(0x4e4)][_0x48b9f6];if(!this['getBatFromPlayer'](_0x492302))_0x51856b[_0x40ad48(0x4a8)]({'txt':_0x40ad48(0x18c)+_0x492302['name']+_0x40ad48(0x4a9),'player':_0x492302,'tab':_0x40ad48(0x378)});}defBat=this[_0x40ad48(0x449)][_0x40ad48(0x2f9)](_0x21b1eb=>_0x21b1eb[_0x40ad48(0x16c)]==_0x40ad48(0x424));if(defBat[_0x40ad48(0x376)][_0x40ad48(0x39e)]<0x1)_0x51856b[_0x40ad48(0x4a8)]({'txt':_0x40ad48(0x477),'bat':defBat,'tab':_0x40ad48(0x378)});if(_0x51856b[_0x40ad48(0x39e)]>0x0){world[_0x40ad48(0x460)][_0x40ad48(0x37a)]=_0x51856b;return;}}this[_0x40ad48(0x322)]=PHASE_ACTIONPLAYER,this[_0x40ad48(0x183)]['addMessage']({'txt':_0x40ad48(0x48b)});break;case PHASE_ACTIONPLAYER:var _0x51856b=[];if(_0x408c08[_0x40ad48(0x364)])for(var _0x48b9f6 in this[_0x40ad48(0x449)]){var _0x4a4f38=this[_0x40ad48(0x449)][_0x48b9f6];if(!_0x4a4f38['blocking_end_turn'])continue;for(var _0x56aa1a in _0x4a4f38[_0x40ad48(0x376)]){var _0x492302=_0x4a4f38[_0x40ad48(0x376)][_0x56aa1a],_0x372f22=_0x492302[_0x40ad48(0x401)]();if(_0x372f22&&_0x372f22['length']>0x0)_0x51856b[_0x40ad48(0x4a8)]({'txt':_0x40ad48(0x18c)+_0x492302[_0x40ad48(0x16c)]+_0x40ad48(0x3b8)+_0x492302[_0x40ad48(0x330)]+_0x40ad48(0x1b1),'player':_0x492302,'tab':'building'});}}if(_0x51856b[_0x40ad48(0x39e)]>0x0){world[_0x40ad48(0x460)][_0x40ad48(0x37a)]=_0x51856b;return;}this['phase']=PHASE_COMBAT;(this[_0x40ad48(0x254)]==0x0||Math[_0x40ad48(0x25a)](Math[_0x40ad48(0x3bf)]()*0x64)<0x21)&&(this['battle']=!![],this['MessageSystem'][_0x40ad48(0x26e)]({'txt':_0x40ad48(0x47a)}));break;case PHASE_COMBAT:if(this['battle'])this[_0x40ad48(0x4c2)]();else{this[_0x40ad48(0x322)]=PHASE_NEWTURN,this[_0x40ad48(0x254)]++;var _0x1a6560=this[_0x40ad48(0x4e4)][_0x40ad48(0x39e)]*0x2;this['MessageSystem'][_0x40ad48(0x26e)]({'txt':'New\x20Turn\x20started\x20:\x20'+this['week']}),this[_0x40ad48(0x183)]['addMessage']({'type':_0x40ad48(0x3c9),'txt':'Your\x20population\x20eat\x20food,\x20Miam'}),this[_0x40ad48(0x38c)]({'resources':{'food':_0x1a6560}}),this[_0x40ad48(0x443)]=_0x1a6560;for(var _0x48b9f6 in this['players']){this[_0x40ad48(0x4e4)][_0x48b9f6][_0x40ad48(0x15e)](),this['players'][_0x48b9f6]['age']++;}if(this['players'][_0x40ad48(0x39e)]<this[_0x40ad48(0x4a6)]){var _0x50eb99=Math['floor'](Math['random']()*0x64);if(_0x50eb99<0x32){var _0x492302=this[_0x40ad48(0x272)]({});this['MessageSystem'][_0x40ad48(0x26e)]({'type':_0x40ad48(0x3c9),'txt':'New\x20PLayer\x20'+_0x492302[_0x40ad48(0x16c)]+_0x40ad48(0x398)});}}}break;}},this[_0x1e246a(0x4c2)]=()=>{var _0x245f8f=_0x1e246a,_0x1c6d1e=[];for(var _0x303b88 in this[_0x245f8f(0x4e4)]){var _0x403714=this['players'][_0x303b88];bat=this[_0x245f8f(0x395)](_0x403714);if(bat[_0x245f8f(0x16c)]==_0x245f8f(0x424))_0x1c6d1e[_0x245f8f(0x4a8)](_0x403714);}world[_0x245f8f(0x460)]=undefined,console[_0x245f8f(0x2e0)](_0x1c6d1e[_0x245f8f(0x39e)]+_0x245f8f(0x2e2)),world['CreateBattleMapFromVillagePlayer_test'](_0x1c6d1e,this[_0x245f8f(0x254)]),world[_0x245f8f(0x4e6)][_0x245f8f(0x495)]('the-britons',!![]),world[_0x245f8f(0x4e6)][_0x245f8f(0x4b4)](_0x245f8f(0x279),!![]),world[_0x245f8f(0x3ac)]=new GameUI(world[_0x245f8f(0x258)][_0x245f8f(0x3c6)][_0x245f8f(0x3ac)]);},this[_0x1e246a(0x531)]=_0x216a17=>{var _0x10a3a8=_0x1e246a;for(var _0x7528c3 in this['players']){this[_0x10a3a8(0x4e4)][_0x7528c3]['id']==_0x216a17['id']&&(this['players'][_0x10a3a8(0x270)](_0x7528c3,0x1),this['MessageSystem'][_0x10a3a8(0x26e)]({'txt':_0x216a17['name']+'is\x20dead\x20R.I.P'}));}for(var _0x7528c3 in this['bats']){var _0x33373f=this[_0x10a3a8(0x449)][_0x7528c3];for(var _0x117566 in _0x33373f['players_inside'])if(_0x33373f[_0x10a3a8(0x376)][_0x117566]['id']==_0x216a17['id'])_0x33373f[_0x10a3a8(0x376)][_0x10a3a8(0x270)](_0x117566,0x1);}};};function UpgradingHouses(_0x5b6c9c){var _0x2ba92c=_0x30a6b3;if(!_0x5b6c9c||!_0x5b6c9c[_0x2ba92c(0x235)])return;var _0x3e4ad5=_0x5b6c9c[_0x2ba92c(0x235)],_0x23fbfc=world['village'];_0x3e4ad5[_0x2ba92c(0x3de)]==0x1&&(_0x23fbfc[_0x2ba92c(0x4a6)]+=0x5,_0x23fbfc[_0x2ba92c(0x183)]['addMessage']({'type':_0x2ba92c(0x3c9),'txt':'Population\x20max\x20+\x205\x20('+_0x23fbfc[_0x2ba92c(0x4a6)]+')'})),_0x3e4ad5[_0x2ba92c(0x3de)]==0x2&&(_0x23fbfc[_0x2ba92c(0x4a6)]+=0xa,_0x23fbfc[_0x2ba92c(0x183)][_0x2ba92c(0x26e)]({'type':'player','txt':'Population\x20max\x20+\x2010\x20('+_0x23fbfc['populationMax']+')'}));}function GoToCraftTab(){var _0x5e8b22=_0x30a6b3;if(world[_0x5e8b22(0x460)])world[_0x5e8b22(0x460)][_0x5e8b22(0x352)]({'tab':_0x5e8b22(0x512)});}function GoToForgeTab(){var _0xb4a2b5=_0x30a6b3;if(world[_0xb4a2b5(0x460)])world[_0xb4a2b5(0x460)][_0xb4a2b5(0x352)]({'tab':'Items'});}function recolteMine(_0x4adbdb){var _0x457bcc=_0x30a6b3;if(!_0x4adbdb||!_0x4adbdb[_0x457bcc(0x3c9)]||_0x4adbdb[_0x457bcc(0x518)]==undefined||_0x4adbdb[_0x457bcc(0x518)]>_0x4adbdb[_0x457bcc(0x3c9)][_0x457bcc(0x330)])return;var _0x3a88a0=_0x4adbdb[_0x457bcc(0x3c9)][_0x457bcc(0x16c)]+_0x457bcc(0x209)+_0x4adbdb[_0x457bcc(0x518)]+_0x457bcc(0x17d);world[_0x457bcc(0x534)][_0x457bcc(0x183)][_0x457bcc(0x26e)]({'type':'job','txt':_0x3a88a0}),_0x4adbdb[_0x457bcc(0x3c9)][_0x457bcc(0x330)]-=_0x4adbdb[_0x457bcc(0x518)];var _0x26de89=_0x4adbdb['player']['weapon']&&_0x4adbdb['player']['weapon']['bonus'][_0x457bcc(0x2f9)](_0x211845=>_0x211845==BONUS_PICKAXE_MINE)?!![]:![],_0x346936=0x2+Math[_0x457bcc(0x25a)](Math[_0x457bcc(0x3bf)]()*0x5),_0x1088b7=Math[_0x457bcc(0x25a)](Math[_0x457bcc(0x3bf)]()*0x64)>0x5?0x0:Math['floor'](Math['random']()*0xa),_0x157f81=Math['floor'](Math[_0x457bcc(0x3bf)]()*0x64)>0x5?0x0:Math['floor'](Math[_0x457bcc(0x3bf)]()*0x3);_0x26de89&&(_0x1088b7+=0x5,_0x346936+=0x14,_0x157f81+=0x2);var _0x3a99b6={'stone':_0x346936};if(_0x1088b7||_0x26de89&&_0x1088b7)_0x3a99b6[_0x457bcc(0x1bd)]=_0x1088b7;if(_0x157f81||_0x26de89&&_0x157f81)_0x3a99b6['rawCopper']=_0x157f81;world['village'][_0x457bcc(0x289)]({'resources':_0x3a99b6}),world[_0x457bcc(0x4e6)][_0x457bcc(0x4b4)](_0x457bcc(0x233));}function craftPlankInSawmill(_0x16ad7c){var _0x1932ec=_0x30a6b3;if(!_0x16ad7c||!_0x16ad7c[_0x1932ec(0x3c9)]||_0x16ad7c[_0x1932ec(0x518)]==undefined||_0x16ad7c[_0x1932ec(0x518)]>_0x16ad7c[_0x1932ec(0x3c9)][_0x1932ec(0x330)])return;if(!world[_0x1932ec(0x534)][_0x1932ec(0x535)]({'resources':{'wood':0xa}})){world[_0x1932ec(0x534)]['MessageSystem']['addMessage']({'type':_0x1932ec(0x52d),'txt':'you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank'});return;}world[_0x1932ec(0x4e6)][_0x1932ec(0x4b4)](_0x1932ec(0x31c));var _0x449d66=_0x16ad7c['player'][_0x1932ec(0x16c)]+_0x1932ec(0x49b)+_0x16ad7c['cost']+_0x1932ec(0x17d);world[_0x1932ec(0x534)][_0x1932ec(0x183)][_0x1932ec(0x26e)]({'type':_0x1932ec(0x52d),'txt':_0x449d66}),_0x16ad7c[_0x1932ec(0x3c9)]['villageActionPoint']-=_0x16ad7c['cost'],world['village'][_0x1932ec(0x38c)]({'resources':{'wood':0xa}}),world[_0x1932ec(0x534)][_0x1932ec(0x289)]({'resources':{'woodplank':0x1}});}function recoltForestResouce(_0x522871){var _0x2a3016=_0x30a6b3;if(!_0x522871||!_0x522871[_0x2a3016(0x3c9)]||_0x522871['cost']==undefined||_0x522871['cost']>_0x522871[_0x2a3016(0x3c9)][_0x2a3016(0x330)])return;world[_0x2a3016(0x4e6)][_0x2a3016(0x4b4)](_0x2a3016(0x3d8));var _0x2dedfb=0xa-0x2+Math[_0x2a3016(0x25a)](Math[_0x2a3016(0x3bf)]()*0x5),_0x555fef=0x5-0x4+Math[_0x2a3016(0x25a)](Math[_0x2a3016(0x3bf)]()*0x9);_0x522871[_0x2a3016(0x3c9)]['weapon']&&_0x522871[_0x2a3016(0x3c9)]['weapon']['bonus'][_0x2a3016(0x2f9)](_0x5d18f9=>_0x5d18f9==BONUS_AXE_FOREST_WOOD)&&(_0x555fef*=0x2,console['log'](_0x2a3016(0x156)));var _0x563bc1=0x1+Math[_0x2a3016(0x25a)](Math['random']()*0x2),_0x2eb9de=_0x522871['player']['name']+_0x2a3016(0x236)+_0x522871[_0x2a3016(0x518)]+_0x2a3016(0x17d);world[_0x2a3016(0x534)][_0x2a3016(0x183)][_0x2a3016(0x26e)]({'type':_0x2a3016(0x52d),'txt':_0x2eb9de}),_0x522871['player'][_0x2a3016(0x330)]-=_0x522871['cost'],world[_0x2a3016(0x534)][_0x2a3016(0x289)]({'resources':{'food':_0x2dedfb,'wood':_0x555fef,'stone':_0x563bc1}});}function SmeltCopper(_0x120da0){var _0x15ef89=_0x30a6b3,_0x3c93da=world[_0x15ef89(0x534)][_0x15ef89(0x535)]({'resources':{'coal':0x5,'rawCopper':0x2}});if(!_0x3c93da)return world[_0x15ef89(0x534)][_0x15ef89(0x183)][_0x15ef89(0x26e)]({'type':_0x15ef89(0x52d),'txt':_0x15ef89(0x207)});var _0x5aebfd=_0x120da0[_0x15ef89(0x3c9)][_0x15ef89(0x16c)]+_0x15ef89(0x283)+_0x120da0[_0x15ef89(0x518)]+_0x15ef89(0x17d);world['village'][_0x15ef89(0x183)][_0x15ef89(0x26e)]({'type':_0x15ef89(0x52d),'txt':_0x5aebfd}),_0x120da0[_0x15ef89(0x3c9)][_0x15ef89(0x330)]-=_0x120da0['cost'],world[_0x15ef89(0x4e6)][_0x15ef89(0x4b4)](_0x15ef89(0x3f4)),world[_0x15ef89(0x534)]['removeResource']({'resources':{'coal':0x5,'rawCopper':0x2}}),world[_0x15ef89(0x534)]['addResource']({'resources':{'metalCopper':0x1}});}VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT=_0x30a6b3(0x4ed),VILLAGE_UI_FONT_BUTTON='\x27Cooper\x20Black\x27',VILLAGE_UI_FONT_BUTTON_2=_0x30a6b3(0x231),VILLAGE_UI_FONT_TITLE=_0x30a6b3(0x32f),VILLAGE_UI_FONT_PLAYERNAME=_0x30a6b3(0x484),VILLAGE_UI_FONT_BUILDINGNAME=_0x30a6b3(0x2f6),VILLAGE_UI_FONT_PHASE=_0x30a6b3(0x331),VILLAGE_UI_TABS_FONT=_0x30a6b3(0x32f),VILLAGE_UI_TABS_TXTCOLOR=_0x30a6b3(0x3fd),VILLAGE_UI_TABS_FILLCOLOR='#556b2f88',VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE='#ffff66',VILLAGE_UI_BAT_ELM_FILLCOLOR=_0x30a6b3(0x2d5),VILLAGE_UI_PLAYER_ELM_FILLCOLOR='#6495ed88',VILLAGE_UI_ITEM_ELM_FILLCOLOR=_0x30a6b3(0x349),VILLAGE_UI_BUTTON_FILLCOLOR=_0x30a6b3(0x2a4),VillageUI=function(_0x1ac4f3){var _0x5230d1=_0x30a6b3;world['Music']['playSound'](_0x5230d1(0x49a),!![]),this[_0x5230d1(0x38e)]=_0x1ac4f3,this[_0x5230d1(0x39c)]=!![],this[_0x5230d1(0x190)]=0x5,this[_0x5230d1(0x1f6)]=VILLAGE_UI_FILLSTYLE,this[_0x5230d1(0x4ae)]=_0x5230d1(0x357),this[_0x5230d1(0x4c4)]=0x1,this[_0x5230d1(0x492)]=!![],this[_0x5230d1(0x501)]=['Next\x20Turn','building',_0x5230d1(0x512),_0x5230d1(0x318),_0x5230d1(0x255),_0x5230d1(0x23f)],this[_0x5230d1(0x476)]=0x0,this[_0x5230d1(0x457)]=undefined,this['playerInfoMenu']=undefined,this[_0x5230d1(0x1e8)]={'value':0x0},this[_0x5230d1(0x4eb)]=undefined,this['batBuildMenu']=undefined,this[_0x5230d1(0x273)]={'value':0x0},this['batSortModeList']=[_0x5230d1(0x24c),_0x5230d1(0x3c9),'size'],this['batSortModeId']={'value':0x0},this[_0x5230d1(0x1a7)]=undefined,this['itemSelected']=undefined,this['itemsPageOffset']={'value':0x0},this[_0x5230d1(0x32a)]=undefined,this[_0x5230d1(0x2a7)]={'value':0x0},this['UI']=undefined,this[_0x5230d1(0x4f5)]=!![],this[_0x5230d1(0x3b1)]=undefined,this[_0x5230d1(0x462)]=!![],this['UIsystem']=undefined,this[_0x5230d1(0x191)]=!![],this[_0x5230d1(0x185)]=0x0,this[_0x5230d1(0x37a)]=[];const _0x331abe=document[_0x5230d1(0x402)](_0x5230d1(0x38e)),_0x644a1d=_0x331abe[_0x5230d1(0x221)]('2d'),_0x3687c5=new Image();_0x3687c5[_0x5230d1(0x4fa)]=_0x5230d1(0x315),_0x3687c5['onload']=()=>{var _0xd38a3e=_0x5230d1;const _0x39fe47=_0x644a1d[_0xd38a3e(0x4b6)](_0x3687c5,_0xd38a3e(0x284));this[_0xd38a3e(0x1f6)]=_0x39fe47,this[_0xd38a3e(0x39c)]=!![];},this[_0x5230d1(0x4a3)]=()=>{var _0x5c663f=_0x5230d1;window[_0x5c663f(0x210)]('mousemove',_0x4ac1b4=>{var _0x4c4986=_0x5c663f,_0x523fb0=![];this[_0x4c4986(0x3b1)]&&this[_0x4c4986(0x3b1)]['mouse_move_check'](_0x4ac1b4['clientX'],_0x4ac1b4[_0x4c4986(0x1e7)])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0x4c4986(0x39c)]=!![],this[_0x4c4986(0x492)]=!![],_0x523fb0=!![]);this['UI']&&this['UI']['mouse_move_check'](_0x4ac1b4[_0x4c4986(0x488)],_0x4ac1b4[_0x4c4986(0x1e7)])&&!this[_0x4c4986(0x492)]&&(this[_0x4c4986(0x39c)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x523fb0=!![]);this[_0x4c4986(0x152)]&&this['UIsystem'][_0x4c4986(0x234)](_0x4ac1b4[_0x4c4986(0x488)],_0x4ac1b4[_0x4c4986(0x1e7)])&&!this[_0x4c4986(0x492)]&&(this[_0x4c4986(0x39c)]=!![],this[_0x4c4986(0x492)]=!![],_0x523fb0=!![]);!_0x523fb0&&this[_0x4c4986(0x492)]&&(this['mouseWasOnMouseLightLastDraw']=![],this[_0x4c4986(0x39c)]=!![]);if(this==world[_0x4c4986(0x460)])this[_0x4c4986(0x4a3)]();},{'once':!![]});},this[_0x5230d1(0x4a3)](),this[_0x5230d1(0x3f8)]=_0x1ee47f=>{var _0x419a7b=_0x5230d1;if(this['UI']&&this['UI'][_0x419a7b(0x177)](_0x1ee47f))return!![];if(this[_0x419a7b(0x3b1)]&&this['UIplayers'][_0x419a7b(0x177)](_0x1ee47f))return!![];if(this[_0x419a7b(0x152)]&&this[_0x419a7b(0x152)][_0x419a7b(0x177)](_0x1ee47f))return!![];if(_0x1ee47f==_0x419a7b(0x4a0)&&this['cancel_menu']())return!![];return![];},this[_0x5230d1(0x513)]=()=>{var _0x2ff721=_0x5230d1;if(this[_0x2ff721(0x473)])return this[_0x2ff721(0x473)]=undefined,!![];if(this['tabs'][this[_0x2ff721(0x476)]]==_0x2ff721(0x378)){if(this[_0x2ff721(0x1fd)])return this[_0x2ff721(0x1fd)]=undefined,!![];if(this[_0x2ff721(0x4eb)])return this[_0x2ff721(0x4eb)]=undefined,!![];}return![];},this[_0x5230d1(0x2b3)]=_0x5c246=>{var _0x31f736=_0x5230d1;if(!_0x5c246||_0x5c246['x']===undefined)return![];var _0x3ad40e=_0x5c246['x'],_0x16e362=_0x5c246['y'];if(_0x5c246[_0x31f736(0x1c7)]==0x2){var _0xaf918f=this[_0x31f736(0x513)]();if(_0xaf918f)return!![];}else{if(this['UI']['click_buton_check'](_0x3ad40e,_0x16e362))return!![];else{if(this[_0x31f736(0x3b1)]['click_buton_check'](_0x3ad40e,_0x16e362))return!![];else{if(this['UIsystem'][_0x31f736(0x167)](_0x3ad40e,_0x16e362))return!![];}}}return![];},this[_0x5230d1(0x3eb)]=_0x5008dc=>{var _0xe9a11e=_0x5230d1;if(this['UI']&&this['UI'][_0xe9a11e(0x3eb)](_0x5008dc))this[_0xe9a11e(0x39c)]=!![];if(this[_0xe9a11e(0x3b1)]&&this['UIplayers']['CheckInfoWindow'](_0x5008dc))this[_0xe9a11e(0x39c)]=!![];if(this[_0xe9a11e(0x152)]&&this['UIsystem'][_0xe9a11e(0x3eb)](_0x5008dc))this['needRedraw']=!![];},this[_0x5230d1(0x352)]=_0x45ffc5=>{var _0x408768=_0x5230d1;if(!_0x45ffc5)return;if(_0x45ffc5[_0x408768(0x38d)])for(var _0x4bbc24 in this[_0x408768(0x501)]){if(this['tabs'][_0x4bbc24]==_0x45ffc5[_0x408768(0x38d)])this['activeTabId']=_0x4bbc24;}if(_0x45ffc5[_0x408768(0x3c9)])this[_0x408768(0x457)]=_0x45ffc5['player'];if(_0x45ffc5[_0x408768(0x235)])this[_0x408768(0x4eb)]=_0x45ffc5['bat'];},this[_0x5230d1(0x1cb)]=_0x3da712=>{var _0x4cc4c6=_0x5230d1;if(!_0x3da712[_0x4cc4c6(0x28e)])return;var _0x3fdc81=[{'type':_0x4cc4c6(0x1c7),'callback':()=>{var _0x5dd045=_0x4cc4c6;_0x3da712[_0x5dd045(0x28e)][_0x5dd045(0x397)]=_0x3da712[_0x5dd045(0x28e)][_0x5dd045(0x397)]>0x0?_0x3da712[_0x5dd045(0x28e)][_0x5dd045(0x397)]-0x1:0x0;},'txt':'âˆ§','txt_color':_0x4cc4c6(0x3fd),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':_0x4cc4c6(0x325),'windowInfo':[{'callback':()=>{var _0x4f858b=_0x4cc4c6;return _0x4f858b(0x35c);}}]},{'type':_0x4cc4c6(0x1c7),'callback':()=>{var _0x432413=_0x4cc4c6;_0x3da712[_0x432413(0x28e)][_0x432413(0x397)]++;},'txt':'âˆ¨','txt_color':_0x4cc4c6(0x3fd),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':'#000000','windowInfo':[{'callback':()=>{return'page\x20down';}}]},{'type':'txt','txt':'['+_0x3da712[_0x4cc4c6(0x28e)][_0x4cc4c6(0x397)]+':'+(_0x3da712['selector'][_0x4cc4c6(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x4cc4c6(0x325),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x3da712['sortButo'])_0x3fdc81[_0x4cc4c6(0x4a8)]({'type':_0x4cc4c6(0x1c7),'callback':_0x244b0e=>{var _0x16931f=_0x4cc4c6;_0x244b0e['id'][_0x16931f(0x397)]=(_0x244b0e['id'][_0x16931f(0x397)]+0x1)%_0x244b0e[_0x16931f(0x3ed)][_0x16931f(0x39e)],console[_0x16931f(0x2e0)](_0x16931f(0x1c8)+[_0x244b0e['id']['value'],_0x244b0e[_0x16931f(0x3ed)][_0x16931f(0x39e)]]);},'callback_data':_0x3da712[_0x4cc4c6(0x213)],'txt':this[_0x4cc4c6(0x2a3)][this['batSortModeId']['value']],'txt_color':_0x4cc4c6(0x325),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x4cc4c6(0x3dd),'strokeColor':_0x4cc4c6(0x325),'windowInfo':[{'callback':()=>{var _0x317da4=_0x4cc4c6;return'sort\x20buildings\x20by\x20'+this[_0x317da4(0x2a3)][this['batSortModeId']['value']];}}]});return _0x3fdc81;},this[_0x5230d1(0x4fc)]=()=>{var _0x1e9b11=_0x5230d1,_0x135523=world[_0x1e9b11(0x534)];this['UI']['addHorizontalElem'](this[_0x1e9b11(0x1cb)]({'sortButo':{'list':this[_0x1e9b11(0x2a3)],'id':this[_0x1e9b11(0x2ce)]},'selector':this[_0x1e9b11(0x273)]}));switch(this['batSortModeList'][this[_0x1e9b11(0x2ce)][_0x1e9b11(0x397)]]){case _0x1e9b11(0x24c):_0x135523[_0x1e9b11(0x449)][_0x1e9b11(0x3c7)]((_0x297622,_0x5d00ff)=>{var _0x456829=_0x1e9b11;if(_0x297622[_0x456829(0x16c)]>_0x5d00ff['name'])return 0x1;return-0x1;});break;case _0x1e9b11(0x3c9):_0x135523['bats']['sort']((_0x15d94f,_0x106400)=>{var _0x533771=_0x1e9b11;if(_0x15d94f['players_inside'][_0x533771(0x39e)]<=_0x106400[_0x533771(0x376)][_0x533771(0x39e)])return 0x1;return-0x1;});break;case _0x1e9b11(0x15b):_0x135523['bats'][_0x1e9b11(0x3c7)]((_0x43ae8c,_0x5831de)=>{var _0x565509=_0x1e9b11;if(_0x43ae8c['player_size']<=_0x5831de[_0x565509(0x379)])return 0x1;return-0x1;});break;}if(_0x135523[_0x1e9b11(0x322)]==PHASE_PLACEPLAYER){this['UI'][_0x1e9b11(0x51e)](this[_0x1e9b11(0x3e3)]());var _0x245bfc=0x0;if(this[_0x1e9b11(0x1fd)])for(var _0x39a6eb in _0x135523[_0x1e9b11(0x3e5)]){var _0x51f76c=_0x135523[_0x1e9b11(0x3e5)][_0x39a6eb],_0xd09a49=[];_0xd09a49[_0x1e9b11(0x4a8)]({'type':_0x1e9b11(0x1c7),'callback':_0x251d26=>{var _0x3a5968=_0x1e9b11;if(this['constructionSelected']==_0x251d26)this[_0x3a5968(0x1a7)]=undefined;else this[_0x3a5968(0x1a7)]=_0x251d26;},'callback_data':_0x51f76c,'txt':_0x51f76c['name'],'mouseLight':'88','txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x1e9b11(0x288),'strokeColor':this[_0x1e9b11(0x1a7)]==_0x51f76c?'#000000':_0x1e9b11(0x288),'windowInfo':[{'callback':()=>{var _0x2e18c6=_0x1e9b11;return _0x2e18c6(0x19d);}}]}),_0xd09a49[_0x1e9b11(0x4a8)]({'type':_0x1e9b11(0x435),'img':world[_0x1e9b11(0x4d1)][_0x51f76c[_0x1e9b11(0x435)]][_0x1e9b11(0x435)],'len_x':0x1e,'len_y':0x1e});if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this['batPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0xd09a49);_0x245bfc++;if(this[_0x1e9b11(0x1a7)]==_0x51f76c){var _0xd09a49=[];_0xd09a49['push']({'type':_0x1e9b11(0x1c7),'mouseLight':'88','callback':world['village'][_0x1e9b11(0x3ce)],'callback_data':{'bat':_0x51f76c},'txt':_0x1e9b11(0x244),'txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x1e9b11(0x288),'windowInfo':[{'callback':()=>{var _0x4c4954=_0x1e9b11;return _0x4c4954(0x19d);}}]});if(_0x245bfc>=this[_0x1e9b11(0x273)]['value']&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0xd09a49);_0x245bfc++;if(_0x51f76c[_0x1e9b11(0x1b8)]&&_0x51f76c[_0x1e9b11(0x1b8)][_0x1e9b11(0x516)]){if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)]([{'type':_0x1e9b11(0x391),'txt':'\x20-Action\x20Point\x20'+_0x51f76c['input']['costAP'],'txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':_0x1e9b11(0x435),'img':world[_0x1e9b11(0x4d1)][_0x1e9b11(0x253)][_0x1e9b11(0x435)],'len_x':0x14,'len_y':0x14}]);_0x245bfc++;}for(var _0x2f085a in _0x51f76c['resources']){var _0x24a364=[];_0x24a364[_0x1e9b11(0x4a8)]({'type':'txt','txt':'\x20-'+_0x2f085a+'\x20'+_0x51f76c[_0x1e9b11(0x2d7)][_0x2f085a],'txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x24a364['push']({'type':'img','img':world[_0x1e9b11(0x4d1)][_0x2f085a+_0x1e9b11(0x515)][_0x1e9b11(0x435)],'len_x':0x14,'len_y':0x14});}if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](this[_0x1e9b11(0x2f3)](_0x51f76c['resources'],0x14));_0x245bfc++;}}else{if(!this['batBuildMenu'])for(var _0x39a6eb in _0x135523[_0x1e9b11(0x449)]){var _0x51f76c=_0x135523[_0x1e9b11(0x449)][_0x39a6eb],_0x461990=this[_0x1e9b11(0x3d6)](_0x51f76c,0x28);if(_0x51f76c[_0x1e9b11(0x2c7)])_0x461990['push']({'type':_0x1e9b11(0x435),'img':world[_0x1e9b11(0x4d1)]['under_construction_icon']['img'],'len_x':0x28,'len_y':0x28});if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0x461990);_0x245bfc++;if(_0x51f76c[_0x1e9b11(0x2c7)]){if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x502)](''+_0x51f76c['build_progression']+_0x1e9b11(0x37d),0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0x245bfc++;}var _0xd09a49=[],_0xc1915c=_0x51f76c['getNextUpgrade']();if(this[_0x1e9b11(0x4eb)]==_0x51f76c&&_0x51f76c[_0x1e9b11(0x3de)]){if(_0x245bfc>=this[_0x1e9b11(0x273)]['value']&&_0x245bfc<this[_0x1e9b11(0x273)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x502)](_0x1e9b11(0x1fe)+_0x51f76c[_0x1e9b11(0x3de)],0xf,0x270f,_0x1e9b11(0x325),VILLAGE_UI_FONT);_0x245bfc++;}if(this['batSelected']==_0x51f76c&&_0xc1915c){var _0x5d0f67=this[_0x1e9b11(0x2f3)](_0xc1915c[_0x1e9b11(0x2d7)],0x14);_0x5d0f67[_0x1e9b11(0x392)]({'type':'button','mouseLight':'88','callback':_0x51f76c[_0x1e9b11(0x14b)],'callback_data':{},'txt':_0x1e9b11(0x34d),'txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x245bfc>=this[_0x1e9b11(0x273)]['value']&&_0x245bfc<this[_0x1e9b11(0x273)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0x5d0f67);_0x245bfc++;}if(_0x51f76c==this['batSelected']&&_0x51f76c[_0x1e9b11(0x379)]){if(_0x51f76c[_0x1e9b11(0x379)]&&_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x502)](''+_0x51f76c[_0x1e9b11(0x376)][_0x1e9b11(0x39e)]+_0x1e9b11(0x4dc)+_0x51f76c[_0x1e9b11(0x379)]+'\x20place',0x14,0x270f,_0x1e9b11(0x325),VILLAGE_UI_FONT);_0x245bfc++;}if(this['playerSelected']&&_0x51f76c==this[_0x1e9b11(0x4eb)]&&!_0x51f76c[_0x1e9b11(0x376)][_0x1e9b11(0x2f9)](_0x292b53=>_0x292b53==this[_0x1e9b11(0x457)])&&_0x51f76c[_0x1e9b11(0x376)][_0x1e9b11(0x39e)]<_0x51f76c[_0x1e9b11(0x379)])_0xd09a49['push']({'type':'button','mouseLight':'88','callback':world['village']['affectPlayerToBat'],'callback_data':{'player':this[_0x1e9b11(0x457)],'bat':_0x51f76c},'txt':_0x1e9b11(0x2b9),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0xd09a49[_0x1e9b11(0x39e)]){if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0xd09a49);_0x245bfc++;}if(this[_0x1e9b11(0x4eb)]==_0x51f76c)for(var _0x2f085a in _0x51f76c['players_inside']){var _0x16060c=_0x51f76c['players_inside'][_0x2f085a],_0x50b404=this[_0x1e9b11(0x338)](_0x16060c);_0x50b404[_0x1e9b11(0x4a8)]({'type':_0x1e9b11(0x1c7),'mouseLight':'88','callback':world[_0x1e9b11(0x534)][_0x1e9b11(0x48f)],'callback_data':{'player':_0x16060c},'txt':_0x1e9b11(0x487),'txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0x50b404);_0x245bfc++;}}}}else{if(_0x135523['phase']==PHASE_ACTIONPLAYER){var _0x245bfc=0x0;for(var _0x39a6eb in _0x135523[_0x1e9b11(0x449)]){var _0x51f76c=_0x135523['bats'][_0x39a6eb],_0x461990=this['GetDrawBuildingElement'](_0x51f76c,0x28);if(_0x51f76c[_0x1e9b11(0x2c7)])_0x461990['push']({'type':'img','img':world[_0x1e9b11(0x4d1)]['under_construction_icon'][_0x1e9b11(0x435)],'len_x':0x28,'len_y':0x28});if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0x461990);_0x245bfc++;if(_0x51f76c['build_progression']){if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x502)](''+_0x51f76c[_0x1e9b11(0x2c7)]+_0x1e9b11(0x37d),0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0x245bfc++;}var _0xd09a49=[];if(_0xd09a49[_0x1e9b11(0x39e)]){if(_0x245bfc>=this[_0x1e9b11(0x273)]['value']&&_0x245bfc<this['batPageOffset'][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0xd09a49);_0x245bfc++;}for(var _0x2f085a in _0x51f76c[_0x1e9b11(0x376)]){var _0x16060c=_0x51f76c['players_inside'][_0x2f085a],_0x3b5fe1=_0x16060c[_0x1e9b11(0x401)]();if(this[_0x1e9b11(0x4eb)]==_0x51f76c||_0x3b5fe1['length']&&_0x51f76c[_0x1e9b11(0x16c)]!=_0x1e9b11(0x424)){var _0x50b404=this[_0x1e9b11(0x338)](_0x16060c);if(_0x51f76c['callback_actionPlayer'][_0x1e9b11(0x39e)])_0x50b404[_0x1e9b11(0x4a8)]({'type':_0x1e9b11(0x435),'img':world[_0x1e9b11(0x4d1)][_0x1e9b11(0x253)]['img'],'len_x':0x14,'len_y':0x14},{'type':_0x1e9b11(0x391),'txt':''+_0x16060c['villageActionPoint']+'\x20Action\x20Point\x20left','txt_color':_0x16060c[_0x1e9b11(0x330)]?_0x1e9b11(0x325):_0x1e9b11(0x2ba),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0x245bfc>=this[_0x1e9b11(0x273)]['value']&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0x50b404);_0x245bfc++;if(_0x51f76c[_0x1e9b11(0x2c7)]){var _0x2b9f75=[];_0x16060c['villageActionPoint']>0x0&&(_0x2b9f75[_0x1e9b11(0x4a8)]({'type':_0x1e9b11(0x1c7),'mouseLight':'88','callback':_0x51f76c[_0x1e9b11(0x384)],'callback_data':{'player':_0x16060c},'txt':'build','txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x5abb4a=>{return _0x5abb4a;},'input':'use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building'}]}),_0x2b9f75[_0x1e9b11(0x4a8)]({'type':_0x1e9b11(0x391),'txt':_0x1e9b11(0x251)+_0x51f76c[_0x1e9b11(0x2c7)]+_0x1e9b11(0x3d2),'txt_color':_0x16060c['villageActionPoint']?'#000000':'#000000aa','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0x245bfc>=this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]&&_0x245bfc<this['batPageOffset'][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x1e9b11(0x51e)](_0x2b9f75);_0x245bfc++;}else for(var _0x12c537 in _0x51f76c[_0x1e9b11(0x2d9)]){var _0x5a7b66=_0x51f76c[_0x1e9b11(0x2d9)][_0x12c537];if(_0x5a7b66[_0x1e9b11(0x518)]&&_0x5a7b66[_0x1e9b11(0x518)]>_0x16060c['villageActionPoint']||_0x16060c['villageActionPoint']==0x0)continue;var _0x3b9bf1={'type':_0x1e9b11(0x1c7),'mouseLight':'88','callback':window[_0x5a7b66[_0x1e9b11(0x165)]],'callback_data':{'player':_0x16060c,'cost':_0x5a7b66[_0x1e9b11(0x518)]},'txt':_0x5a7b66[_0x1e9b11(0x310)],'txt_color':_0x1e9b11(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x2403b0=>{return _0x2403b0;},'input':_0x5a7b66[_0x1e9b11(0x33e)]}]};if(_0x245bfc>=this[_0x1e9b11(0x273)]['value']&&_0x245bfc<this[_0x1e9b11(0x273)][_0x1e9b11(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([_0x3b9bf1]);_0x245bfc++;}}}}}}},this[_0x5230d1(0x3e3)]=()=>{var _0xe3af1b=_0x5230d1,_0x2ad63a=[];return this[_0xe3af1b(0x1fd)]?_0x2ad63a[_0xe3af1b(0x4a8)]({'type':'button','mouseLight':'88','callback':()=>{var _0x43bd36=_0xe3af1b;this['batBuildMenu']=![],this[_0x43bd36(0x273)][_0x43bd36(0x397)]=0x0;},'txt':'back','mouseLight':'88','txt_color':_0xe3af1b(0x425),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0xe3af1b(0x1d3),'strokeColor':_0xe3af1b(0x325),'windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}):_0x2ad63a[_0xe3af1b(0x4a8)]({'type':_0xe3af1b(0x1c7),'mouseLight':'88','callback':()=>{var _0x2d01d4=_0xe3af1b;this[_0x2d01d4(0x1fd)]=!![],this[_0x2d01d4(0x273)][_0x2d01d4(0x397)]=0x0;},'txt':_0xe3af1b(0x205),'mouseLight':'88','txt_color':'#17bdbc','max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0xe3af1b(0x425),'strokeColor':_0xe3af1b(0x325),'windowInfo':[{'callback':()=>{var _0x4058d5=_0xe3af1b;return _0x4058d5(0x264);}}]}),_0x2ad63a;},this[_0x5230d1(0x2f3)]=(_0x44fef1,_0x5b02fa)=>{var _0x371fb8=_0x5230d1,_0x297554=[];for(var _0x5f571e in _0x44fef1){_0x297554[_0x371fb8(0x4a8)]({'type':_0x371fb8(0x435),'img':world[_0x371fb8(0x4d1)][_0x5f571e+'_icon']['img'],'len_x':_0x5b02fa,'len_y':_0x5b02fa}),_0x297554['push']({'type':_0x371fb8(0x391),'txt':'\x20x'+_0x44fef1[_0x5f571e],'txt_color':_0x371fb8(0x325),'max_letters':0x270f,'letter_size':_0x5b02fa,'txt_font':VILLAGE_UI_FONT});}return _0x297554;},this['getItemIcone']=(_0x1ae2a1,_0x5bdeb6,_0x517436)=>{var _0x940f04=_0x5230d1,_0x3b47f0=()=>this[_0x940f04(0x21e)]=this[_0x940f04(0x21e)]==_0x1ae2a1?undefined:_0x1ae2a1;if(_0x517436)_0x3b47f0=()=>{};var _0x599848=[{'type':_0x940f04(0x435),'img':world[_0x940f04(0x4d1)][_0x1ae2a1[_0x940f04(0x16c)]+_0x940f04(0x515)][_0x940f04(0x435)],'len_x':_0x5bdeb6,'len_y':_0x5bdeb6},{'type':_0x940f04(0x1c7),'mouseLight':'ff','callback':_0x3b47f0,'txt':_0x1ae2a1[_0x940f04(0x16c)],'txt_color':_0x940f04(0x325),'max_letters':0x270f,'letter_size':_0x5bdeb6,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this[_0x940f04(0x21e)]==_0x1ae2a1?_0x940f04(0x194):_0x940f04(0x288),'windowInfo':[{'callback':_0x1ae2a1[_0x940f04(0x211)]==_0x940f04(0x215)?_0x1ae2a1[_0x940f04(0x31a)]:_0x1ae2a1[_0x940f04(0x37c)]}]}];return _0x599848;},this[_0x5230d1(0x46f)]=()=>{var _0x309bbe=_0x5230d1,_0x4090c9=world[_0x309bbe(0x534)];this['UI'][_0x309bbe(0x51e)](this[_0x309bbe(0x1cb)]({'selector':this[_0x309bbe(0x2a7)]}));var _0x11dd2c=0x0,_0x11576e=_0x4090c9[_0x309bbe(0x3c8)]();if(_0x4090c9['phase']!=PHASE_ACTIONPLAYER)this['UI'][_0x309bbe(0x502)]('you\x20can\x20only\x20craft\x20during\x20Phase\x202',0x14,0x270f,_0x309bbe(0x1a5),VILLAGE_UI_FONT);if(!_0x11576e||_0x11576e[_0x309bbe(0x39e)]<0x1)this['UI'][_0x309bbe(0x502)]('no\x20craft\x20available',0x14,0x270f,_0x309bbe(0x325),VILLAGE_UI_FONT);for(var _0x21b992 in _0x11576e){var _0x37cb39=[],_0x1800df=_0x11576e[_0x21b992];_0x37cb39[_0x309bbe(0x4a8)]({'type':'button','mouseLight':'ff','callback':_0x57109c=>this[_0x309bbe(0x32a)]=this['craftSelected']==_0x57109c?undefined:_0x57109c,'callback_data':_0x1800df,'txt':_0x1800df[_0x309bbe(0x16c)]+'\x20('+_0x1800df[_0x309bbe(0x287)]+')','txt_color':this['craftSelected']==_0x1800df?_0x309bbe(0x2d3):_0x309bbe(0x325),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x309bbe(0x2a1),'strokeColor':this[_0x309bbe(0x32a)]==_0x1800df?_0x309bbe(0x280):_0x309bbe(0x288),'windowInfo':[{'callback':()=>{var _0x27b14f=_0x309bbe;return _0x1800df[_0x27b14f(0x33e)];},'input':undefined}]});if(_0x11dd2c>=this['craftPageOffset'][_0x309bbe(0x397)]&&_0x11dd2c<this[_0x309bbe(0x2a7)][_0x309bbe(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x309bbe(0x51e)](_0x37cb39);_0x11dd2c++;if(this[_0x309bbe(0x32a)]==_0x1800df){var _0x56cdec=_0x4090c9[_0x309bbe(0x36c)]({'craft':_0x1800df});if(_0x11dd2c>=this['craftPageOffset']['value']&&_0x11dd2c<this[_0x309bbe(0x2a7)][_0x309bbe(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x309bbe(0x51e)](this[_0x309bbe(0x2f3)](_0x1800df[_0x309bbe(0x2d7)],0x14));_0x11dd2c++;if(!_0x56cdec||_0x56cdec[_0x309bbe(0x39e)]<0x1){if(_0x11dd2c>=this['craftPageOffset'][_0x309bbe(0x397)]&&_0x11dd2c<this[_0x309bbe(0x2a7)][_0x309bbe(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x309bbe(0x502)]('no\x20one\x20can\x20craft\x20it',0x14,0x270f,_0x309bbe(0x1a5),VILLAGE_UI_FONT);_0x11dd2c++;}for(var _0xc1d9df in _0x56cdec){var _0x5c1867=_0x56cdec[_0xc1d9df],_0x37cb39=this[_0x309bbe(0x338)](_0x5c1867,0x19);_0x4090c9['phase']==PHASE_ACTIONPLAYER&&_0x37cb39[_0x309bbe(0x4a8)]({'type':_0x309bbe(0x1c7),'mouseLight':'88','callback':_0x4090c9[_0x309bbe(0x262)],'callback_data':{'craft':_0x1800df,'player':_0x5c1867},'txt':'craft','txt_color':'#000000','max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x309bbe(0x464),'strokeColor':this[_0x309bbe(0x32a)]==_0x1800df?_0x309bbe(0x280):_0x309bbe(0x288),'windowInfo':[{'callback':()=>{return _0x1800df['description'];},'input':undefined}]});if(_0x11dd2c>=this[_0x309bbe(0x2a7)][_0x309bbe(0x397)]&&_0x11dd2c<this[_0x309bbe(0x2a7)][_0x309bbe(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x309bbe(0x51e)](_0x37cb39);_0x11dd2c++;}}}},this[_0x5230d1(0x3d6)]=(_0x4b9f6c,_0x290427)=>{var _0x275086=_0x5230d1,_0x40fe2a=[{'type':'img','img':world[_0x275086(0x4d1)][_0x4b9f6c[_0x275086(0x38b)]]['img'],'len_x':_0x290427,'len_y':_0x290427},{'type':_0x275086(0x1c7),'mouseLight':'ff','callback':_0x1009dc=>{var _0x448492=_0x275086;this[_0x448492(0x4eb)]=this[_0x448492(0x4eb)]==_0x1009dc?undefined:_0x1009dc;},'callback_data':_0x4b9f6c,'txt':_0x4b9f6c[_0x275086(0x16c)],'txt_color':this[_0x275086(0x4eb)]==_0x4b9f6c?_0x275086(0x45a):_0x275086(0x325),'max_letters':0x270f,'letter_size':_0x290427,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this['batSelected']==_0x4b9f6c?'#000000ff':_0x275086(0x288),'windowInfo':[{'callback':_0x3fbbc0=>{var _0x457fab=_0x275086;if(typeof _0x3fbbc0[_0x457fab(0x33e)]=='function')return _0x3fbbc0['description'](_0x3fbbc0);if(typeof _0x3fbbc0[_0x457fab(0x33e)]==_0x457fab(0x45d))return _0x3fbbc0['description'];},'input':_0x4b9f6c}]}];return _0x40fe2a;},this[_0x5230d1(0x482)]=(_0x2ec2ee,_0x4cdce3,_0x1681f4)=>{var _0x4b4e4f=_0x5230d1,_0x39f2ae={'type':_0x4b4e4f(0x1c7),'mouseLight':'88','callback':world[_0x4b4e4f(0x534)][_0x4b4e4f(0x388)],'callback_data':{'warning':_0x2ec2ee?!![]:![]},'txt':_0x1681f4,'txt_color':_0x4b4e4f(0x325),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x4cdce3?_0x4b4e4f(0x25d):_0x4b4e4f(0x464),'strokeColor':_0x4b4e4f(0x325)};return _0x39f2ae;},this['getPlayerIcone']=(_0x417371,_0x4cb11b)=>{var _0x5d43f6=_0x5230d1;if(!_0x417371)return undefined;var _0x4cb11b=_0x4cb11b?_0x4cb11b:0x28,_0x38c2c2=[{'type':_0x5d43f6(0x1c7),'mouseLight':'ff','txt':_0x417371[_0x5d43f6(0x16c)],'callback':_0xb149ff=>{var _0x1b9b23=_0x5d43f6;this[_0x1b9b23(0x457)]=this[_0x1b9b23(0x457)]==_0xb149ff?undefined:_0xb149ff;},'callback_data':_0x417371,'txt_color':_0x417371[_0x5d43f6(0x2b5)]?_0x5d43f6(0x3d5):this[_0x5d43f6(0x457)]==_0x417371?_0x5d43f6(0x3fd):'#000000','max_letters':0x270f,'letter_size':_0x4cb11b,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this['playerSelected']==_0x417371?'#000000ff':_0x5d43f6(0x288),'windowInfo':[{'callback':_0x417371[_0x5d43f6(0x2e8)]}]}];if(!_0x417371[_0x5d43f6(0x4e5)])_0x417371[_0x5d43f6(0x4f2)]();return _0x38c2c2[_0x5d43f6(0x4a8)]({'type':_0x5d43f6(0x435),'img':_0x417371[_0x5d43f6(0x168)],'len_x':_0x4cb11b,'len_y':_0x4cb11b}),_0x417371[_0x5d43f6(0x215)]&&_0x38c2c2[_0x5d43f6(0x4a8)]({'type':_0x5d43f6(0x435),'img':world[_0x5d43f6(0x259)][_0x417371[_0x5d43f6(0x215)][_0x5d43f6(0x16c)]+_0x5d43f6(0x515)][_0x5d43f6(0x435)],'len_x':_0x4cb11b,'len_y':_0x4cb11b}),_0x38c2c2;},this[_0x5230d1(0x3e9)]=()=>{var _0x42e45d=_0x5230d1,_0x14401f=world[_0x42e45d(0x534)];this[_0x42e45d(0x3b1)]=new MyUI(this['canvas'],0x0,0x0,0xa,this[_0x42e45d(0x4c4)],this[_0x42e45d(0x1f6)],this[_0x42e45d(0x4ae)],this['marge']),this[_0x42e45d(0x3b1)][_0x42e45d(0x225)](_0x42e45d(0x15f),0x28,'#000000',_0x42e45d(0x288),_0x42e45d(0x288),()=>{var _0x5d0f84=_0x42e45d;this[_0x5d0f84(0x462)]=!this[_0x5d0f84(0x462)];},undefined,VILLAGE_UI_FONT_PHASE);var _0x68ae50=this[_0x42e45d(0x1cb)]({'selector':this['playersPageOffset']});if(this['playerSelected']&&this[_0x42e45d(0x501)][this[_0x42e45d(0x476)]]!='Player'&&(_0x14401f[_0x42e45d(0x322)]==PHASE_PLACEPLAYER||_0x14401f[_0x42e45d(0x322)]==PHASE_ACTIONPLAYER))_0x68ae50[_0x42e45d(0x4a8)]({'type':'button','mouseLight':'88','callback':this[_0x42e45d(0x352)],'callback_data':{'tab':_0x42e45d(0x23f)},'txt':_0x42e45d(0x48e),'txt_color':_0x42e45d(0x325),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x42e45d(0x3fd)});this[_0x42e45d(0x3b1)]['addHorizontalElem'](_0x68ae50);var _0x480054=0x0;if(this[_0x42e45d(0x462)]){if(!this['playerInfoMenu'])for(var _0x2f0068 in _0x14401f[_0x42e45d(0x4e4)]){var _0x5a4bed=_0x14401f[_0x42e45d(0x4e4)][_0x2f0068];if(_0x480054>=this['playersPageOffset'][_0x42e45d(0x397)]&&_0x480054<this[_0x42e45d(0x1e8)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x42e45d(0x3b1)]['addHorizontalElem'](this[_0x42e45d(0x338)](_0x5a4bed));_0x480054++;if(_0x5a4bed[_0x42e45d(0x2b5)]&&_0x14401f[_0x42e45d(0x322)]!=PHASE_NEWTURN){if(_0x480054>=this[_0x42e45d(0x1e8)]['value']&&_0x480054<this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers']['addButton'](_0x42e45d(0x228),0xa,_0x42e45d(0x3fd),_0x42e45d(0x193),_0x42e45d(0x325),this[_0x42e45d(0x352)],{'tab':_0x42e45d(0x23f),'player':_0x5a4bed},VILLAGE_UI_FONT_BUTTON,undefined,()=>{var _0x145a3a=_0x42e45d;return _0x145a3a(0x285);},'ff');_0x480054++;}var _0x11e9b9=world[_0x42e45d(0x534)][_0x42e45d(0x395)](_0x5a4bed);if(_0x11e9b9){var _0x3c53e3=[{'type':_0x42e45d(0x391),'txt':_0x11e9b9['name'],'txt_color':this[_0x42e45d(0x4eb)]==_0x11e9b9?_0x42e45d(0x49f):_0x42e45d(0x325),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x42e45d(0x435),'img':world[_0x42e45d(0x4d1)][_0x11e9b9[_0x42e45d(0x38b)]][_0x42e45d(0x435)],'len_x':0x14,'len_y':0x14}];if(_0x14401f[_0x42e45d(0x322)]==PHASE_PLACEPLAYER)_0x3c53e3[_0x42e45d(0x4a8)]({'type':_0x42e45d(0x1c7),'mouseLight':'88','callback':world['village'][_0x42e45d(0x48f)],'callback_data':{'player':_0x5a4bed},'txt':_0x42e45d(0x337),'txt_color':'#000000','max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x42e45d(0x1a5)});if(_0x480054>=this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]&&_0x480054<this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x42e45d(0x51e)](_0x3c53e3);_0x480054++;}var _0x3bf36e=[];if(_0x14401f[_0x42e45d(0x322)]==PHASE_PLACEPLAYER&&this[_0x42e45d(0x4eb)]&&this[_0x42e45d(0x501)][this['activeTabId']]==_0x42e45d(0x378)&&this[_0x42e45d(0x4eb)][_0x42e45d(0x379)]&&!this['batSelected'][_0x42e45d(0x376)][_0x42e45d(0x2f9)](_0x25c1ad=>_0x25c1ad==_0x5a4bed)&&!_0x11e9b9&&!this[_0x42e45d(0x1fd)]&&this[_0x42e45d(0x4eb)][_0x42e45d(0x376)][_0x42e45d(0x39e)]<this[_0x42e45d(0x4eb)]['player_size'])_0x3bf36e[_0x42e45d(0x4a8)]({'type':_0x42e45d(0x1c7),'mouseLight':'88','callback':world['village'][_0x42e45d(0x282)],'callback_data':{'player':_0x5a4bed,'bat':this[_0x42e45d(0x4eb)]},'txt':_0x42e45d(0x438),'txt_color':_0x42e45d(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x3bf36e['length']){if(_0x480054>=this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]&&_0x480054<this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x42e45d(0x3b1)][_0x42e45d(0x51e)](_0x3bf36e);_0x480054++;}if(this[_0x42e45d(0x501)][this[_0x42e45d(0x476)]]==_0x42e45d(0x255)){if(this[_0x42e45d(0x457)]==_0x5a4bed){if(_0x14401f['phase']==PHASE_PLACEPLAYER&&_0x5a4bed['weapon']){if(_0x480054>=this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]&&_0x480054<this['playersPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x42e45d(0x3b1)][_0x42e45d(0x225)](_0x42e45d(0x4f4),0x14,_0x42e45d(0x325),VILLAGE_UI_BUTTON_FILLCOLOR,_0x42e45d(0x325),_0x5a4bed['unequipWeapon'],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x480054++;}if(_0x14401f[_0x42e45d(0x322)]==PHASE_PLACEPLAYER&&_0x5a4bed[_0x42e45d(0x240)]){if(_0x480054>=this['playersPageOffset']['value']&&_0x480054<this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x42e45d(0x3b1)][_0x42e45d(0x225)](_0x42e45d(0x51a),0x14,_0x42e45d(0x325),VILLAGE_UI_BUTTON_FILLCOLOR,_0x42e45d(0x325),_0x5a4bed[_0x42e45d(0x1b6)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x480054++;}if(_0x14401f[_0x42e45d(0x322)]==PHASE_PLACEPLAYER&&this[_0x42e45d(0x21e)]&&this[_0x42e45d(0x21e)][_0x42e45d(0x211)]==_0x42e45d(0x215)){if(_0x480054>=this['playersPageOffset'][_0x42e45d(0x397)]&&_0x480054<this['playersPageOffset'][_0x42e45d(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x42e45d(0x3b1)][_0x42e45d(0x225)](_0x42e45d(0x3cb),0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0x42e45d(0x325),_0x5a4bed[_0x42e45d(0x4aa)],{'weapon':this[_0x42e45d(0x21e)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x480054++;}if(_0x14401f['phase']==PHASE_PLACEPLAYER&&this[_0x42e45d(0x21e)]&&this['itemSelected']['itemType']==_0x42e45d(0x240)){if(_0x480054>=this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]&&_0x480054<this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x42e45d(0x225)](_0x42e45d(0x1e5),0x14,_0x42e45d(0x325),VILLAGE_UI_BUTTON_FILLCOLOR,_0x42e45d(0x325),_0x5a4bed[_0x42e45d(0x3e8)],{'armor':this[_0x42e45d(0x21e)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x480054++;}}}}if(this[_0x42e45d(0x473)]){if(_0x480054>=this[_0x42e45d(0x1e8)][_0x42e45d(0x397)]&&_0x480054<this['playersPageOffset'][_0x42e45d(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x42e45d(0x502)](this['playerInfoMenu'][_0x42e45d(0x2e8)](),0x28,0x270f,_0x42e45d(0x325),VILLAGE_UI_FONT);_0x480054++;}}this[_0x42e45d(0x3b1)][_0x42e45d(0x23c)]();},this[_0x5230d1(0x363)]=()=>{var _0x323b46=_0x5230d1,_0x449f9f=world['village'],_0x402774=_0x323b46(0x14a);_0x402774+=world['village']['getDateText']();if(_0x449f9f[_0x323b46(0x443)])_0x402774+=_0x323b46(0x3ec)+_0x449f9f[_0x323b46(0x443)]+'\x20food\x20last\x20week';for(var _0x57d425 in _0x449f9f[_0x323b46(0x4e4)]){var _0x568534=_0x449f9f['players'];if(_0x568534[_0x323b46(0x2b5)])_0x402774+='\x0a'+_0x568534[_0x323b46(0x16c)]+_0x323b46(0x1ee);}this['UI'][_0x323b46(0x502)](_0x402774,0x1e,0x270f,_0x323b46(0x325),VILLAGE_UI_FONT),this['UI']['addHorizontalElem']([this[_0x323b46(0x482)](![],![],'Start\x20Turn')]);},this[_0x5230d1(0x418)]=()=>{var _0x2c3c8c=_0x5230d1,_0x2ff105=world[_0x2c3c8c(0x534)];if(_0x2ff105['battle'])this['UI'][_0x2c3c8c(0x502)](_0x2c3c8c(0x286),0x28,0x270f,_0x2c3c8c(0x325),VILLAGE_UI_FONT);else this['UI'][_0x2c3c8c(0x502)](_0x2c3c8c(0x271),0x28,0x270f,_0x2c3c8c(0x325),VILLAGE_UI_FONT);this['UI'][_0x2c3c8c(0x51e)]([this['GetNextTurnButton'](![],![],_0x2ff105[_0x2c3c8c(0x358)]?_0x2c3c8c(0x1eb):_0x2c3c8c(0x48d))]);},this[_0x5230d1(0x154)]=()=>{var _0x562535=_0x5230d1,_0x22138e=world[_0x562535(0x534)];this['UI'][_0x562535(0x51e)](this[_0x562535(0x1cb)]({'selector':this[_0x562535(0x421)]}));var _0x52d205=0x0;if(_0x22138e[_0x562535(0x322)]!=PHASE_PLACEPLAYER)this['UI'][_0x562535(0x502)]('you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201',0x14,0x270f,_0x562535(0x1a5),VILLAGE_UI_FONT);if(!_0x22138e[_0x562535(0x255)][_0x562535(0x39e)])this['UI'][_0x562535(0x502)](_0x562535(0x47b),0x14,0x270f,_0x562535(0x325),VILLAGE_UI_FONT);var _0x21b4b9=_0x22138e[_0x562535(0x449)][_0x562535(0x2f9)](_0x5ae118=>_0x5ae118[_0x562535(0x16c)]==_0x562535(0x150));for(var _0x534a23 in _0x22138e[_0x562535(0x255)]){var _0x1be453=_0x22138e[_0x562535(0x255)][_0x534a23],_0x22a0ae=this['getItemIcone'](_0x1be453,0x14);if(_0x1be453[_0x562535(0x44d)]>0x1)_0x22a0ae[_0x562535(0x4a8)]({'type':_0x562535(0x391),'txt':_0x562535(0x1fe)+_0x1be453[_0x562535(0x44d)],'txt_color':_0x562535(0x1e3),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT});_0x21b4b9&&!_0x21b4b9[_0x562535(0x2c7)]&&_0x1be453[_0x562535(0x211)]=='weapon'&&_0x1be453[_0x562535(0x2df)]&&_0x22138e['phase']==PHASE_ACTIONPLAYER&&_0x22a0ae[_0x562535(0x4a8)]({'type':_0x562535(0x391),'txt':_0x562535(0x343),'txt_color':_0x562535(0x1a5),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT});if(_0x52d205>=this[_0x562535(0x421)][_0x562535(0x397)]&&_0x52d205<this['itemsPageOffset'][_0x562535(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x22a0ae);_0x52d205++;if(_0x21b4b9&&!_0x21b4b9[_0x562535(0x2c7)]&&_0x1be453[_0x562535(0x211)]=='weapon'&&_0x1be453[_0x562535(0x2df)]&&_0x22138e[_0x562535(0x322)]==PHASE_ACTIONPLAYER)for(var _0x2c5477 in _0x21b4b9[_0x562535(0x376)]){var _0x414bbb=_0x21b4b9[_0x562535(0x376)][_0x2c5477],_0x17741e=[];if(this['itemSelected']==_0x1be453&&_0x414bbb['villageActionPoint']){_0x17741e[_0x562535(0x4a8)]({'type':'button','callback':_0x1be453[_0x562535(0x2df)],'callback_data':{'player':_0x414bbb},'txt':_0x562535(0x34d),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x562535(0x325),'windowInfo':[{'callback':_0x48dd4d=>{var _0x339e6a=_0x562535;return'succes\x20chance\x20'+_0x48dd4d[_0x339e6a(0x1e1)]()+'%';},'input':_0x1be453}]});if(_0x52d205>=this['itemsPageOffset'][_0x562535(0x397)]&&_0x52d205<this[_0x562535(0x421)][_0x562535(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x562535(0x51e)](_0x17741e);_0x52d205++;}else{if(_0x52d205>=this[_0x562535(0x421)][_0x562535(0x397)]&&_0x52d205<this[_0x562535(0x421)][_0x562535(0x397)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x562535(0x51e)]([{'type':_0x562535(0x391),'txt':'no\x20one\x20can\x20uppgrade\x20it','txt_color':_0x562535(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}]);_0x52d205++;}}}},this[_0x5230d1(0x3b2)]=()=>{var _0x223315=_0x5230d1,_0x7f9bce=world[_0x223315(0x534)];switch(_0x7f9bce['phase']){case PHASE_PLACEPLAYER:this['UI'][_0x223315(0x502)](world[_0x223315(0x534)][_0x223315(0x27f)](),0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x3bdd43=_0x223315(0x1ec);_0x3bdd43+='\x0a-equip\x20items',_0x3bdd43+=_0x223315(0x1ea),_0x3bdd43+='\x0a-start\x20the\x20construction\x20of\x20new\x20building',_0x3bdd43+=_0x223315(0x3fa),this['UI'][_0x223315(0x502)](_0x3bdd43,0x14,0x270f,_0x223315(0x325),VILLAGE_UI_FONT);var _0x2a8198=[this[_0x223315(0x482)](!![],this[_0x223315(0x37a)][_0x223315(0x39e)],_0x223315(0x17a))];this['UI'][_0x223315(0x51e)](_0x2a8198);if(this[_0x223315(0x37a)]['length'])for(var _0x5cfe32 in this[_0x223315(0x37a)]){var _0x306fd3=[];_0x306fd3[_0x223315(0x4a8)]({'type':_0x223315(0x391),'txt':this['warningEndTurnMessage'][_0x5cfe32][_0x223315(0x391)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x223315(0x37a)][_0x5cfe32]['player']||this[_0x223315(0x37a)][_0x5cfe32]['bat']||this[_0x223315(0x37a)][_0x5cfe32]['tab'])&&_0x306fd3[_0x223315(0x4a8)]({'type':_0x223315(0x1c7),'callback':this[_0x223315(0x352)],'callback_data':this[_0x223315(0x37a)][_0x5cfe32],'txt':_0x223315(0x446),'txt_color':_0x223315(0x325),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x821dc4=_0x223315;return _0x821dc4(0x35c);}}]}),this['UI'][_0x223315(0x51e)](_0x306fd3);}break;case PHASE_ACTIONPLAYER:this['UI'][_0x223315(0x502)](world['village'][_0x223315(0x27f)](),0x14,0x270f,_0x223315(0x325),VILLAGE_UI_FONT);var _0x3bdd43='\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building';_0x3bdd43+=_0x223315(0x4ea),_0x3bdd43+=_0x223315(0x26b),_0x3bdd43+='\x0a-craft\x20weapons\x20and\x20armors',_0x3bdd43+=_0x223315(0x1c6),this['UI'][_0x223315(0x502)](_0x3bdd43,0x14,0x270f,_0x223315(0x325),VILLAGE_UI_FONT);var _0x2a8198=[this[_0x223315(0x482)](!![],this[_0x223315(0x37a)][_0x223315(0x39e)],'End\x20Turn')];if(this[_0x223315(0x37a)]['length'])_0x2a8198[_0x223315(0x4a8)](this[_0x223315(0x482)](![],this[_0x223315(0x37a)][_0x223315(0x39e)],'Force\x20End\x20Turn'));this['UI'][_0x223315(0x51e)](_0x2a8198);if(this['warningEndTurnMessage'][_0x223315(0x39e)])for(var _0x5cfe32 in this[_0x223315(0x37a)]){var _0x306fd3=[];_0x306fd3[_0x223315(0x4a8)]({'type':_0x223315(0x391),'txt':this[_0x223315(0x37a)][_0x5cfe32]['txt'],'txt_color':_0x223315(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x223315(0x37a)][_0x5cfe32][_0x223315(0x3c9)]||this[_0x223315(0x37a)][_0x5cfe32]['bat']||this[_0x223315(0x37a)][_0x5cfe32]['tab'])&&_0x306fd3['push']({'type':_0x223315(0x1c7),'callback':this['GoToTabName'],'callback_data':this['warningEndTurnMessage'][_0x5cfe32],'txt':_0x223315(0x446),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':'#000000','windowInfo':[{'callback':()=>{return'page\x20up';}}]}),this['UI'][_0x223315(0x51e)](_0x306fd3);}break;}},this[_0x5230d1(0x4be)]=()=>{var _0x5e5588=_0x5230d1,_0x530370=world[_0x5e5588(0x534)];if(!this[_0x5e5588(0x457)])return this['UI'][_0x5e5588(0x502)](_0x5e5588(0x437),VILLAGE_UI_LETTER_SIZE,0x270f,'#000000',VILLAGE_UI_FONT);var _0x1d803b=this[_0x5e5588(0x457)],_0x58d735=this[_0x5e5588(0x338)](_0x1d803b,0x50);this['UI']['addHorizontalElem'](_0x58d735);var _0x1f90c8=world[_0x5e5588(0x534)][_0x5e5588(0x395)](_0x1d803b);if(_0x1f90c8){var _0xbb8452=[{'type':_0x5e5588(0x391),'txt':_0x1f90c8['name'],'txt_color':this['batSelected']==_0x1f90c8?_0x5e5588(0x49f):_0x5e5588(0x325),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x5e5588(0x435),'img':world[_0x5e5588(0x4d1)][_0x1f90c8['imgIcon']][_0x5e5588(0x435)],'len_x':0x19,'len_y':0x19}];if(_0x530370['phase']==PHASE_PLACEPLAYER)_0xbb8452[_0x5e5588(0x4a8)]({'type':_0x5e5588(0x1c7),'mouseLight':'88','callback':world[_0x5e5588(0x534)]['removePlayerFromBat'],'callback_data':{'player':_0x1d803b},'txt':'\x20leave\x20','txt_color':_0x5e5588(0x325),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x5e5588(0x1a5)});this['UI'][_0x5e5588(0x51e)](_0xbb8452);}if(!_0x1d803b[_0x5e5588(0x215)])this['UI'][_0x5e5588(0x502)]('no\x20weapon\x20equiped',0x14,0x270e,'#555555',VILLAGE_UI_FONT);else{var _0x4d0d66=this[_0x5e5588(0x345)](_0x1d803b[_0x5e5588(0x215)],0x1e,!![]);if(_0x530370['phase']==PHASE_PLACEPLAYER)_0x4d0d66[_0x5e5588(0x4a8)]({'type':_0x5e5588(0x1c7),'callback':_0x1d803b[_0x5e5588(0x195)],'callback_data':undefined,'txt':_0x5e5588(0x487),'txt_color':_0x5e5588(0x325),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x5e5588(0x1a5),'strokeColor':_0x5e5588(0x325),'windowInfo':[{'callback':()=>{var _0xd6f76e=_0x5e5588;return _0xd6f76e(0x4f4);}}]});this['UI'][_0x5e5588(0x51e)](_0x4d0d66);}if(!_0x1d803b[_0x5e5588(0x240)])this['UI'][_0x5e5588(0x502)]('no\x20armor\x20equiped',0x14,0x270e,_0x5e5588(0x510),VILLAGE_UI_FONT);else{var _0x4d0d66=this[_0x5e5588(0x345)](_0x1d803b[_0x5e5588(0x240)],0x1e,!![]);if(_0x530370[_0x5e5588(0x322)]==PHASE_PLACEPLAYER)_0x4d0d66[_0x5e5588(0x4a8)]({'type':'button','callback':_0x1d803b[_0x5e5588(0x1b6)],'callback_data':undefined,'txt':_0x5e5588(0x487),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x5e5588(0x1a5),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x2bd59b=_0x5e5588;return _0x2bd59b(0x51a);}}]});this['UI'][_0x5e5588(0x51e)](_0x4d0d66);}if(_0x1d803b[_0x5e5588(0x2b5)]&&_0x1d803b[_0x5e5588(0x4d9)]&&_0x1d803b['lvlupList'][_0x5e5588(0x39e)]>0x0)for(var _0x808081 in _0x1d803b[_0x5e5588(0x4d9)]){var _0x58d735=_0x1d803b[_0x5e5588(0x4d9)][_0x808081];this['UI'][_0x5e5588(0x225)](_0x58d735[_0x5e5588(0x1d0)]+'\x20'+_0x58d735[_0x5e5588(0x397)],0x28,'#000000',_0x5e5588(0x3d5),_0x5e5588(0x325),_0x1d803b['ApplyListPerkUp'],_0x58d735,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0x1d803b[_0x5e5588(0x2b5)]&&this['UI'][_0x5e5588(0x225)](_0x5e5588(0x14c),0x3c,_0x5e5588(0x325),'#ffff00','#000000',_0x1d803b[_0x5e5588(0x3a9)],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0x58d735=[];var _0xa06102=_0x5e5588(0x19f)+_0x1d803b[_0x5e5588(0x419)];_0xa06102+=_0x5e5588(0x2b0)+_0x1d803b[_0x5e5588(0x465)],_0xa06102+='\x0aSpeed\x20:\x20'+_0x1d803b[_0x5e5588(0x3d0)],_0xa06102+='\x0aMove\x20AP\x20cost\x20'+_0x1d803b[_0x5e5588(0x1ae)];for(var _0x808081 in _0x1d803b['stats'])_0xa06102+='\x0a'+_0x808081+'\x20'+_0x1d803b[_0x5e5588(0x217)][_0x808081];_0x58d735[_0x5e5588(0x4a8)]({'type':_0x5e5588(0x391),'txt':_0xa06102,'txt_color':_0x5e5588(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x5a3039='\x20Action\x20Point\x20(Village)\x20'+_0x1d803b[_0x5e5588(0x330)]+'/'+_0x1d803b[_0x5e5588(0x2b6)];_0x5a3039+=_0x5e5588(0x365)+_0x1d803b[_0x5e5588(0x3de)],_0x5a3039+=_0x5e5588(0x151)+_0x1d803b[_0x5e5588(0x31f)]+_0x5e5588(0x18b),_0x58d735[_0x5e5588(0x4a8)]({'type':_0x5e5588(0x391),'txt':_0x5a3039,'txt_color':_0x5e5588(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x5e5588(0x51e)](_0x58d735);},this[_0x5230d1(0x4c0)]=()=>{var _0x4a0735=_0x5230d1,_0x24a341=world[_0x4a0735(0x534)];for(var _0x2644c1 in _0x24a341[_0x4a0735(0x2d7)]){var _0x529445=[],_0x4176ad=_0x24a341[_0x4a0735(0x2d7)][_0x2644c1];if(_0x4176ad==undefined)continue;_0x529445[_0x4a0735(0x4a8)]({'type':_0x4a0735(0x391),'txt':_0x2644c1,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x529445[_0x4a0735(0x4a8)]({'type':_0x4a0735(0x435),'img':world[_0x4a0735(0x4d1)][_0x2644c1+_0x4a0735(0x515)][_0x4a0735(0x435)],'len_x':0x14,'len_y':0x14}),_0x529445['push']({'type':_0x4a0735(0x391),'txt':'\x20'+_0x4176ad,'txt_color':_0x4a0735(0x325),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x4a0735(0x51e)](_0x529445);}},this[_0x5230d1(0x303)]=()=>{var _0x5ef989=_0x5230d1,_0x1b61b6=[];_0x1b61b6[_0x5ef989(0x4a8)]({'type':_0x5ef989(0x1c7),'mouseLight':'88','callback':()=>{var _0x3e81ae=_0x5ef989;this[_0x3e81ae(0x476)]=this[_0x3e81ae(0x476)]-0x1>=0x0?this['activeTabId']-0x1:this[_0x3e81ae(0x501)][_0x3e81ae(0x39e)]-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x1b61b6[_0x5ef989(0x4a8)]({'type':_0x5ef989(0x1c7),'mouseLight':'88','callback':()=>{var _0x18da90=_0x5ef989;this[_0x18da90(0x476)]=this[_0x18da90(0x476)]+0x1<this[_0x18da90(0x501)][_0x18da90(0x39e)]?this[_0x18da90(0x476)]+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x1b61b6['push']({'type':_0x5ef989(0x1c7),'mouseLight':'ff','callback':()=>{var _0x582ba8=_0x5ef989;this[_0x582ba8(0x476)]=undefined;},'callback_data':undefined,'txt':this[_0x5ef989(0x501)][this[_0x5ef989(0x476)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI']['addHorizontalElem'](_0x1b61b6);},this[_0x5230d1(0x19e)]=()=>{var _0x50ffbe=_0x5230d1,_0x5d3a36=world[_0x50ffbe(0x534)];this[_0x50ffbe(0x152)]=new MyUI(this['canvas'],this[_0x50ffbe(0x3b1)][_0x50ffbe(0x4f1)]+this['UI']['lenx'],0x0,0xa,this[_0x50ffbe(0x4c4)],this[_0x50ffbe(0x1f6)],this[_0x50ffbe(0x4ae)],this[_0x50ffbe(0x190)]),this[_0x50ffbe(0x152)]['addTextZone']('Events',0x28,0x270f,_0x50ffbe(0x325),VILLAGE_UI_FONT_PHASE),this[_0x50ffbe(0x152)]['addHorizontalElem']([{'type':_0x50ffbe(0x1c7),'mouseLight':'88','callback':()=>{var _0x2bfa29=_0x50ffbe;this[_0x2bfa29(0x185)]=this[_0x2bfa29(0x185)]>0x0?this[_0x2bfa29(0x185)]-0x1:this[_0x2bfa29(0x185)];},'txt':'âˆ§','txt_color':_0x50ffbe(0x1a5),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x50ffbe(0x25c)},{'type':'button','mouseLight':'88','callback':()=>{var _0x2c0add=_0x50ffbe;this['eventPage']=this[_0x2c0add(0x185)]<_0x5d3a36[_0x2c0add(0x183)][_0x2c0add(0x370)][_0x2c0add(0x39e)]-0x1?this[_0x2c0add(0x185)]+0x1:this[_0x2c0add(0x185)];},'txt':'âˆ¨','txt_color':'#ff0000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x50ffbe(0x25c)}]);var _0x4cb309=_0x5d3a36['MessageSystem'][_0x50ffbe(0x400)]({'page':this[_0x50ffbe(0x185)]});for(var _0x3b53e7 in _0x4cb309){var _0x7c3b33=_0x4cb309[_0x50ffbe(0x39e)]-_0x3b53e7-0x1,_0x7e05e8=_0x50ffbe(0x325);switch(_0x4cb309[_0x7c3b33][_0x50ffbe(0x287)]){case _0x50ffbe(0x52d):_0x7e05e8=_0x50ffbe(0x2e4);break;case'building':_0x7e05e8=_0x50ffbe(0x1f1);break;case _0x50ffbe(0x3c9):_0x7e05e8=_0x50ffbe(0x1e3);break;default:_0x7e05e8=_0x50ffbe(0x325);break;}if(_0x4cb309[_0x7c3b33][_0x50ffbe(0x287)]==_0x50ffbe(0x318))this[_0x50ffbe(0x152)]['addHorizontalElem'](this[_0x50ffbe(0x2f3)](_0x4cb309[_0x7c3b33][_0x50ffbe(0x391)],0x14));else this[_0x50ffbe(0x152)][_0x50ffbe(0x502)](_0x4cb309[_0x7c3b33][_0x50ffbe(0x391)],0x14,0x270f,_0x7e05e8,VILLAGE_UI_FONT);}this[_0x50ffbe(0x152)][_0x50ffbe(0x23c)]();},this[_0x5230d1(0x347)]=()=>{var _0x54fe16=_0x5230d1;if(!world['village'])return;var _0x205e31=world[_0x54fe16(0x534)];this[_0x54fe16(0x39c)]=![],this['canvas'][_0x54fe16(0x3f5)](),this[_0x54fe16(0x38e)][_0x54fe16(0x1b5)](),this[_0x54fe16(0x3e9)](),this['UI']=new MyUI(this['canvas'],this[_0x54fe16(0x3b1)][_0x54fe16(0x4f1)],0x0,0xa,this[_0x54fe16(0x4c4)],this[_0x54fe16(0x1f6)],this[_0x54fe16(0x4ae)],this['marge']);if(!this['showUI'])this['UI'][_0x54fe16(0x225)]('Menu',0x28,'#000000',_0x54fe16(0x288),_0x54fe16(0x288),()=>{var _0x24504a=_0x54fe16;this[_0x24504a(0x4f5)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this['showUI']){switch(_0x205e31['phase']){case PHASE_PLACEPLAYER:this['UI'][_0x54fe16(0x225)](_0x54fe16(0x37e),0x28,_0x54fe16(0x325),_0x54fe16(0x288),_0x54fe16(0x288),()=>{this['showUI']=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI'][_0x54fe16(0x225)](_0x54fe16(0x22f),0x28,_0x54fe16(0x325),_0x54fe16(0x288),_0x54fe16(0x288),()=>{var _0x5576de=_0x54fe16;this[_0x5576de(0x4f5)]=!this[_0x5576de(0x4f5)];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this[_0x54fe16(0x476)]===undefined)for(var _0x109aab in this[_0x54fe16(0x501)]){var _0x1b581f=[];_0x1b581f['push']({'type':_0x54fe16(0x1c7),'mouseLight':'ff','callback':_0x2a6a35=>{var _0xa87921=_0x54fe16;this[_0xa87921(0x476)]=parseInt(_0x2a6a35);},'callback_data':_0x109aab,'txt':this[_0x54fe16(0x501)][_0x109aab],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x54fe16(0x51e)](_0x1b581f);}else{if(_0x205e31[_0x54fe16(0x322)]==PHASE_NEWTURN)this[_0x54fe16(0x363)]();else{if(_0x205e31[_0x54fe16(0x322)]==PHASE_COMBAT)this[_0x54fe16(0x418)]();else{this[_0x54fe16(0x303)]();switch(this[_0x54fe16(0x501)][this[_0x54fe16(0x476)]]){case _0x54fe16(0x48d):this[_0x54fe16(0x3b2)]();break;case _0x54fe16(0x378):this[_0x54fe16(0x4fc)]();break;case _0x54fe16(0x512):this['draw_craft_menu']();break;case'resource':this['draw_resource_tab']();break;case _0x54fe16(0x255):this[_0x54fe16(0x154)]();break;case _0x54fe16(0x23f):this[_0x54fe16(0x4be)]();break;}}}}}}this['UI']['drawUI'](),this[_0x54fe16(0x19e)](),this['CheckInfoWindow'](![]);};},MENU_UI_TITLE_FONT=_0x30a6b3(0x331),MENU_UI_BUTTON_FONT='\x27Comic\x20Sans\x20MS\x27',MenuUI=function(_0x6cf263){var _0x50ec34=_0x30a6b3;this['canvas']=_0x6cf263,this[_0x50ec34(0x4ae)]=_0x50ec34(0x325),this[_0x50ec34(0x1f6)]='#00ffff',this['scale']=0x1,this[_0x50ec34(0x39c)]=!![],this[_0x50ec34(0x492)]=!![],this['UI']=undefined;const _0x2d03d9=document[_0x50ec34(0x402)](_0x50ec34(0x38e)),_0x1d5389=_0x2d03d9[_0x50ec34(0x221)]('2d'),_0xf56c1d=new Image();_0xf56c1d[_0x50ec34(0x4fa)]=_0x50ec34(0x315),_0xf56c1d[_0x50ec34(0x222)]=()=>{var _0x2f2baf=_0x50ec34;const _0x39373a=_0x1d5389[_0x2f2baf(0x4b6)](_0xf56c1d,'repeat');this[_0x2f2baf(0x1f6)]=_0x39373a,this['needRedraw']=!![];},this['init_check_mouse_move']=()=>{var _0x2bc318=_0x50ec34;window[_0x2bc318(0x210)](_0x2bc318(0x3a6),_0x138467=>{var _0x4c220c=_0x2bc318,_0xf01439=![];this['UI']&&this['UI'][_0x4c220c(0x234)](_0x138467[_0x4c220c(0x488)],_0x138467[_0x4c220c(0x1e7)])&&!this[_0x4c220c(0x492)]&&(this[_0x4c220c(0x39c)]=!![],this[_0x4c220c(0x492)]=!![],_0xf01439=!![]);!_0xf01439&&this[_0x4c220c(0x492)]&&(this['mouseWasOnMouseLightLastDraw']=![],this[_0x4c220c(0x39c)]=!![]);if(this==world[_0x4c220c(0x2cd)])this[_0x4c220c(0x4a3)]();},{'once':!![]});},this[_0x50ec34(0x4a3)](),this[_0x50ec34(0x3f8)]=_0x1c8dc4=>{var _0x4a2e6d=_0x50ec34;if(this['UI']&&this['UI'][_0x4a2e6d(0x177)](_0x1c8dc4))return!![];if(_0x1c8dc4=='ControlLeft'&&this['cancel_menu']())return!![];return![];},this['cancel_menu']=()=>{return![];},this['getMouseInput']=_0x2ab5da=>{var _0x564d3b=_0x50ec34;if(!_0x2ab5da||_0x2ab5da['x']===undefined)return![];var _0x2fe7e7=_0x2ab5da['x'],_0x315e88=_0x2ab5da['y'];if(_0x2ab5da[_0x564d3b(0x1c7)]==0x2){var _0x33909b=this['cancel_menu']();if(_0x33909b)return!![];}else{if(this['UI'][_0x564d3b(0x167)](_0x2fe7e7,_0x315e88))return!![];}return![];},this[_0x50ec34(0x3eb)]=_0x3a71f7=>{var _0x1d797d=_0x50ec34;if(this['UI']&&this['UI'][_0x1d797d(0x3eb)](_0x3a71f7))this[_0x1d797d(0x39c)]=!![];},this[_0x50ec34(0x406)]=()=>{var _0x9a5e0f=_0x50ec34;this[_0x9a5e0f(0x38e)][_0x9a5e0f(0x3f5)](),this['canvas'][_0x9a5e0f(0x1b5)](),this['UI']=new MyUI(this[_0x9a5e0f(0x38e)],0x0,0x0,0xa,this[_0x9a5e0f(0x4c4)],this[_0x9a5e0f(0x1f6)],this[_0x9a5e0f(0x4ae)],this[_0x9a5e0f(0x190)]);var _0x7bf91d=[];_0x7bf91d[_0x9a5e0f(0x4a8)]({'type':_0x9a5e0f(0x391),'txt':'No\x20WAter\x20in\x0athis\x20village','txt_color':'#000000','max_letters':0x270f,'letter_size':0x2d,'txt_font':MENU_UI_TITLE_FONT}),_0x7bf91d['push']({'type':_0x9a5e0f(0x391),'txt':_0x9a5e0f(0x34f)+GAME_VERSION,'txt_color':'#000000','max_letters':0x270f,'letter_size':0xa,'txt_font':MENU_UI_TITLE_FONT}),this['UI'][_0x9a5e0f(0x51e)](_0x7bf91d),this['UI']['addHorizontalElem']([{'type':_0x9a5e0f(0x1c7),'callback':world[_0x9a5e0f(0x450)],'callback_data':!![],'txt':_0x9a5e0f(0x1d2),'txt_color':_0x9a5e0f(0x325),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x9a5e0f(0x3dd),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x3c5de4=_0x9a5e0f;return _0x3c5de4(0x405);}}]}]),localStorage[_0x9a5e0f(0x40a)]&&this['UI'][_0x9a5e0f(0x51e)]([{'type':_0x9a5e0f(0x1c7),'callback':world[_0x9a5e0f(0x450)],'callback_data':![],'txt':_0x9a5e0f(0x22b),'txt_color':_0x9a5e0f(0x325),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#55ff00','strokeColor':_0x9a5e0f(0x325),'windowInfo':[{'callback':()=>{var _0x2635f6=_0x9a5e0f;return _0x2635f6(0x404);}}]}]),this['UI'][_0x9a5e0f(0x51e)]([{'type':_0x9a5e0f(0x1c7),'callback':()=>{var _0xeff460=_0x9a5e0f;window[_0xeff460(0x17e)](_0xeff460(0x3dc),'_blank');},'callback_data':undefined,'txt':_0x9a5e0f(0x40b),'txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#0000ff','strokeColor':_0x9a5e0f(0x325),'windowInfo':[{'callback':()=>{return'https://discord.gg/bSKtAqwAhc';}}]}]),this['UI'][_0x9a5e0f(0x23c)](),this['CheckInfoWindow'](![]);};};var IMG_TO_LOAD=[[_0x30a6b3(0x4bc),_0x30a6b3(0x517)],[_0x30a6b3(0x4bc),_0x30a6b3(0x3b4)],[_0x30a6b3(0x4bc),_0x30a6b3(0x2db)],[_0x30a6b3(0x4bc),_0x30a6b3(0x3e0)],[_0x30a6b3(0x4bc),_0x30a6b3(0x4ad)],['player_test3/village/resource','rawCopper_icon'],[_0x30a6b3(0x4bc),'metalCopper_icon'],['player_test3/village/building',_0x30a6b3(0x3e6)],[_0x30a6b3(0x411),'defend_village_icon'],[_0x30a6b3(0x411),_0x30a6b3(0x536)],[_0x30a6b3(0x411),_0x30a6b3(0x16b)],[_0x30a6b3(0x411),_0x30a6b3(0x412)],['player_test3/village/building',_0x30a6b3(0x420)],['player_test3/village/building',_0x30a6b3(0x3e2)],['player_test3/village/building','smelter'],[_0x30a6b3(0x411),_0x30a6b3(0x14f)],[_0x30a6b3(0x4bc),_0x30a6b3(0x253)],[_0x30a6b3(0x4bc),_0x30a6b3(0x355)]],id=0x0;World=function(_0x587c56){var _0x758041=_0x30a6b3;this[_0x758041(0x258)]=_0x587c56,this[_0x758041(0x4e6)]=new SoundManager(),this[_0x758041(0x4d1)]=[],this[_0x758041(0x450)]=_0x451040=>{var _0x5ac25f=_0x758041;this[_0x5ac25f(0x520)]=undefined,this['village']=new Village({});if(!localStorage[_0x5ac25f(0x40a)]||_0x451040)localStorage[_0x5ac25f(0x248)](_0x5ac25f(0x40a)),this['village'][_0x5ac25f(0x299)]();else{var _0x23498c=JSON[_0x5ac25f(0x309)](localStorage[_0x5ac25f(0x40a)]);for(var _0x7a6870 in _0x23498c){if(_0x23498c[_0x7a6870]==undefined)continue;console['log'](_0x5ac25f(0x300)+_0x7a6870+_0x5ac25f(0x263));if(_0x7a6870==_0x5ac25f(0x4e4)){var _0x425c09=_0x23498c[_0x5ac25f(0x4e4)];this[_0x5ac25f(0x534)][_0x5ac25f(0x4e4)]=[];for(var _0x584742 in _0x425c09){console[_0x5ac25f(0x2e0)](_0x425c09[_0x584742]),this[_0x5ac25f(0x534)][_0x5ac25f(0x4b0)](_0x425c09[_0x584742]);}}else{if(_0x7a6870=='bats')this['village'][_0x5ac25f(0x274)](_0x23498c[_0x5ac25f(0x449)]);else{if(_0x7a6870==_0x5ac25f(0x183))continue;else{if(_0x7a6870=='Items')this[_0x5ac25f(0x534)]['loadItemsFromInput'](_0x23498c[_0x5ac25f(0x255)]);else this[_0x5ac25f(0x534)][_0x7a6870]=_0x23498c[_0x7a6870];}}}}}this[_0x5ac25f(0x460)]=new VillageUI(this[_0x5ac25f(0x258)][_0x5ac25f(0x3c6)][_0x5ac25f(0x3ac)]);},this[_0x758041(0x25b)]=()=>{var _0x44e2fc=_0x758041;for(var _0x3191d2 in IMG_TO_LOAD){var _0x369e85=IMG_TO_LOAD[_0x3191d2][0x1],_0xc08654=IMG_TO_LOAD[_0x3191d2][0x0];this[_0x44e2fc(0x4d1)][_0x369e85]=new myImage(_0x369e85,_0x44e2fc(0x4c1)+_0xc08654+'/'+_0x369e85+_0x44e2fc(0x463));}},this[_0x758041(0x524)]=()=>{var _0x95aa47=_0x758041;this[_0x95aa47(0x294)]=new ControlManager(),new PlayersManager()[_0x95aa47(0x29c)](),this[_0x95aa47(0x4d1)]={...world[_0x95aa47(0x259)]},this[_0x95aa47(0x25b)](),this[_0x95aa47(0x520)]=new MenuUI(this[_0x95aa47(0x258)][_0x95aa47(0x3c6)][_0x95aa47(0x3ac)]);},this[_0x758041(0x2f5)]=()=>{var _0x4e6f6c=_0x758041,_0x25ac4c=JSON['stringify'](world[_0x4e6f6c(0x534)]);localStorage[_0x4e6f6c(0x40a)]=_0x25ac4c;},this[_0x758041(0x474)]=_0x362c60=>{var _0x11c525=_0x758041;if(!this[_0x11c525(0x4e7)])return undefined;var _0x13a1c8=0x64;while(_0x13a1c8-->0x1){var _0xfe48c3=0x1+Math['floor'](this['map'][_0x11c525(0x1fa)]*(0.5+0.5*Math[_0x11c525(0x3bf)]())),_0x4deaa=0x1+Math['floor'](this[_0x11c525(0x4e7)][_0x11c525(0x24a)]*Math['random']()),_0x4fff44=this[_0x11c525(0x4e4)][_0x11c525(0x4d7)]({'x':_0xfe48c3,'y':_0x4deaa,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x4fff44&&(console[_0x11c525(0x2e0)](_0x11c525(0x4d4)+[_0xfe48c3,_0x4deaa]),_0x13a1c8=0x0);}if(!_0x4fff44)return undefined;_0x4fff44[_0x11c525(0x465)]=0x14+_0x362c60*0x4,_0x4fff44[_0x11c525(0x350)]=_0x4fff44['lifeMax'],_0x4fff44['stats'][_0x11c525(0x46c)]=0x5+_0x362c60,_0x4fff44['stats']['Dexterity']=0x5+_0x362c60,_0x4fff44[_0x11c525(0x3d0)]=0x50+_0x362c60*0x1+Math[_0x11c525(0x25a)](Math['random']()*0x50),_0x4fff44[_0x11c525(0x419)]=0x32+Math[_0x11c525(0x25a)](Math[_0x11c525(0x3bf)]()*0x64)+_0x362c60,_0x4fff44['ActionPoint']=_0x4fff44['ActionPointMax'],_0x4fff44[_0x11c525(0x1ae)]=0x14-0xf+Math[_0x11c525(0x25a)](Math[_0x11c525(0x3bf)]()*0x1f)-_0x362c60;if(_0x4fff44['movePCost']<0x5)_0x4fff44[_0x11c525(0x1ae)]=0x5;var _0xd555a=undefined,_0x2d368e=Math[_0x11c525(0x25a)](Math[_0x11c525(0x3bf)]()*0x64);if(_0x362c60<0x5)_0xd555a=undefined;else{if(_0x2d368e+_0x362c60*0x2>0x50)_0xd555a=new Weapon()[_0x11c525(0x247)]();}_0x4fff44[_0x11c525(0x215)]=_0xd555a;var _0x826a06=undefined,_0x2d368e=Math['floor'](Math[_0x11c525(0x3bf)]()*0x64);if(_0x362c60<0x5)_0x826a06=undefined;else{if(_0x2d368e+_0x362c60*0x2>0x50)_0x826a06=new Armor()[_0x11c525(0x1a2)]();}return _0x4fff44[_0x11c525(0x240)]=_0x826a06,_0x4fff44[_0x11c525(0x42f)](),console[_0x11c525(0x2e0)](_0x11c525(0x145)),_0x4fff44;},this['CreateBattleMapFromVillagePlayer_test']=(_0x19daf0,_0x3e8a21,_0x260f94)=>{var _0x4022ce=_0x758041;this[_0x4022ce(0x4e7)]=new BattleMap(0x19,0x6+0x2*_0x19daf0[_0x4022ce(0x39e)]),this[_0x4022ce(0x4e7)]['initImgs'](),this[_0x4022ce(0x4e7)]['generateMap'](),this[_0x4022ce(0x4e4)]=new PlayersManager(),this['players'][_0x4022ce(0x29c)](),this[_0x4022ce(0x4e4)]=this[_0x4022ce(0x4e4)],this[_0x4022ce(0x4e4)][_0x4022ce(0x3ad)]=this[_0x4022ce(0x258)][_0x4022ce(0x3c6)]['mapUI'],this[_0x4022ce(0x4e4)][_0x4022ce(0x1c5)]=this[_0x4022ce(0x258)][_0x4022ce(0x3c6)][_0x4022ce(0x4e4)],TEAM_AI_COLOR={'r':0x78,'g':0x78,'b':0x78};var _0x32153d=0x3;for(var _0x517f3a in _0x19daf0){var _0x59076e=_0x19daf0[_0x517f3a];this[_0x4022ce(0x4e4)]['createPlayerFromVillage']({'x':0x3,'y':_0x32153d,'player':_0x59076e}),_0x32153d+=0x2;}for(var _0x3b5c5f=0x0;_0x3b5c5f<0x64;_0x3b5c5f++){if(_0x260f94){this[_0x4022ce(0x474)](_0x3e8a21*0x3);break;}if(_0x3b5c5f==0x0||_0x3b5c5f==0x1){this[_0x4022ce(0x474)](_0x3e8a21);continue;}else{if(_0x3e8a21>0x5&&_0x3b5c5f>0x5a&&Math[_0x4022ce(0x25a)](Math[_0x4022ce(0x3bf)]()*(0x64+_0x3e8a21))<_0x3e8a21)this[_0x4022ce(0x474)](_0x3e8a21);else{if(_0x3e8a21>0x14&&_0x3b5c5f>0x50&&Math['floor'](Math[_0x4022ce(0x3bf)]()*(0xc8+_0x3e8a21))<_0x3e8a21)this['create_random_enemy_on_map'](_0x3e8a21);else{if(_0x3e8a21>0x32&&_0x3b5c5f>0x46&&Math[_0x4022ce(0x25a)](Math[_0x4022ce(0x3bf)]()*(0x190+_0x3e8a21))<_0x3e8a21)this[_0x4022ce(0x474)](_0x3e8a21);else{if(_0x3e8a21>0x64&&_0x3b5c5f>0x32&&Math['floor'](Math[_0x4022ce(0x3bf)]()*(0x320+_0x3e8a21))<_0x3e8a21)this[_0x4022ce(0x474)](_0x3e8a21);}}}}}this[_0x4022ce(0x4e7)]['generateRandomElement']();},this[_0x758041(0x39c)]=()=>{var _0x1f53f0=_0x758041;if(this[_0x1f53f0(0x4e7)])this[_0x1f53f0(0x4e7)][_0x1f53f0(0x39c)]=!![];if(this[_0x1f53f0(0x3ac)])this[_0x1f53f0(0x3ac)][_0x1f53f0(0x39c)]=!![];if(this[_0x1f53f0(0x460)])this['villageUI'][_0x1f53f0(0x39c)]=!![];if(this[_0x1f53f0(0x520)])this[_0x1f53f0(0x520)][_0x1f53f0(0x39c)]=!![];};},PLAYER_ID=0x3e8,document[_0x30a6b3(0x15c)]=rightClick;function rightClick(_0x58ba67){var _0x4d782f=_0x30a6b3;_0x58ba67[_0x4d782f(0x327)]();}GAME_VERSION=_0x30a6b3(0x1d9);(localStorage[_0x30a6b3(0x39e)]==0x0||localStorage[_0x30a6b3(0x441)]!=GAME_VERSION)&&(localStorage['clear'](),localStorage[_0x30a6b3(0x441)]=GAME_VERSION);window[_0x30a6b3(0x222)]=function(){var _0x4f891=_0x30a6b3;const _0xbabc39=new CanvasManager();_0xbabc39['addCanvas'](_0x4f891(0x268),0x0),_0xbabc39[_0x4f891(0x527)](_0x4f891(0x4e4),0x1),_0xbabc39[_0x4f891(0x527)]('mapTopElem',0x2),_0xbabc39['addCanvas'](_0x4f891(0x187),0x3),_0xbabc39['addCanvas'](_0x4f891(0x3ac),0x4),world=new World(_0xbabc39),world[_0x4f891(0x524)]();var _0x4e5dd0=new Date()[_0x4f891(0x22d)]();setInterval(()=>{var _0x29c156=_0x4f891;if(!world||!world['Controler'])return;var _0x437fa8=new Date()[_0x29c156(0x22d)]();if(world['GameUI'])world[_0x29c156(0x3ac)][_0x29c156(0x29b)]=Math['floor'](0x3e8/(_0x437fa8-_0x4e5dd0));_0x4e5dd0=_0x437fa8;if(world[_0x29c156(0x4e4)]&&world[_0x29c156(0x4e4)][_0x29c156(0x1c0)]&&world[_0x29c156(0x4e4)][_0x29c156(0x1c0)][_0x29c156(0x49c)]==TEAM_AI&&!world[_0x29c156(0x4e4)][_0x29c156(0x1c0)]['AI'][_0x29c156(0x50d)]){var _0x877604=world[_0x29c156(0x4e4)][_0x29c156(0x332)][_0x29c156(0x2f9)](_0x190c79=>_0x190c79[_0x29c156(0x13e)][_0x29c156(0x39e)]>0x0);if(!_0x877604){_0x877604=world['players']['Playerturn']['playAIturn'](),console[_0x29c156(0x2e0)](_0x29c156(0x483)+_0x877604);if(_0x877604)world[_0x29c156(0x4e4)][_0x29c156(0x1c0)]['AI'][_0x29c156(0x50d)]=!![];}}world['Controler'][_0x29c156(0x32c)](),world['map']&&world[_0x29c156(0x4e7)][_0x29c156(0x39c)]&&(_0xbabc39[_0x29c156(0x3c6)][_0x29c156(0x268)][_0x29c156(0x3f5)](),_0xbabc39[_0x29c156(0x3c6)][_0x29c156(0x268)][_0x29c156(0x1b5)](),_0xbabc39[_0x29c156(0x3c6)][_0x29c156(0x199)][_0x29c156(0x3f5)](),_0xbabc39[_0x29c156(0x3c6)][_0x29c156(0x199)][_0x29c156(0x1b5)](),world[_0x29c156(0x4e7)][_0x29c156(0x3b9)](_0xbabc39['canList'][_0x29c156(0x268)][_0x29c156(0x38e)]),world[_0x29c156(0x4e7)][_0x29c156(0x4bf)](_0xbabc39[_0x29c156(0x3c6)][_0x29c156(0x268)],_0xbabc39['canList'][_0x29c156(0x199)],_0xbabc39[_0x29c156(0x3c6)]['mapUI'])),world['players']&&(_0xbabc39[_0x29c156(0x3c6)][_0x29c156(0x4e4)][_0x29c156(0x3f5)](),_0xbabc39[_0x29c156(0x3c6)][_0x29c156(0x4e4)][_0x29c156(0x1b5)](),world[_0x29c156(0x4e4)][_0x29c156(0x42e)](),scale_changed=![]),world[_0x29c156(0x3ac)]&&(world[_0x29c156(0x3ac)][_0x29c156(0x3eb)](![]),world[_0x29c156(0x3ac)][_0x29c156(0x39c)]&&world['GameUI'][_0x29c156(0x3b6)]()),world['villageUI']&&(world[_0x29c156(0x460)][_0x29c156(0x3eb)](![]),world['villageUI'][_0x29c156(0x39c)]&&world['villageUI']['drawVillageUI']()),world[_0x29c156(0x520)]&&(world['MenuUI'][_0x29c156(0x3eb)](![]),world[_0x29c156(0x520)][_0x29c156(0x39c)]&&world[_0x29c156(0x520)][_0x29c156(0x406)]());},0x14);};