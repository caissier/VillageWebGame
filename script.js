var _0x4f97f4=_0x4ea9;(function(_0x2be805,_0x1744ef){var _0x44779f=_0x4ea9,_0x537734=_0x2be805();while(!![]){try{var _0x35f38d=-parseInt(_0x44779f(0x59e))/0x1*(-parseInt(_0x44779f(0x25a))/0x2)+parseInt(_0x44779f(0x3ef))/0x3+parseInt(_0x44779f(0x3d3))/0x4+parseInt(_0x44779f(0x587))/0x5*(parseInt(_0x44779f(0x32e))/0x6)+-parseInt(_0x44779f(0x390))/0x7*(-parseInt(_0x44779f(0x28c))/0x8)+-parseInt(_0x44779f(0x4b5))/0x9+-parseInt(_0x44779f(0x377))/0xa;if(_0x35f38d===_0x1744ef)break;else _0x537734['push'](_0x537734['shift']());}catch(_0x4d12b8){_0x537734['push'](_0x537734['shift']());}}}(_0x5a2d,0x56bb1),SoundManager=function(){var _0x3f2367=_0x4ea9;this[_0x3f2367(0x411)]=[],this[_0x3f2367(0x472)]=_0x3f2367(0x29d),this['LoadSound']=_0x3b1dd9=>{var _0x4e4d48=_0x3f2367;if(this[_0x4e4d48(0x411)][_0x3b1dd9]&&this['sounds'][_0x3b1dd9][_0x4e4d48(0x317)])return;var _0x36b874=new Audio(this[_0x4e4d48(0x472)]+_0x3b1dd9+_0x4e4d48(0x1d3));this[_0x4e4d48(0x411)][_0x3b1dd9]=_0x36b874;},this[_0x3f2367(0x41c)]=(_0x4f31a0,_0x3d50c3,_0x4c4e1a)=>{var _0x1d1551=_0x3f2367;if(!this[_0x1d1551(0x411)][_0x4f31a0])this['LoadSound'](_0x4f31a0);if(!_0x4c4e1a&&!this[_0x1d1551(0x411)][_0x4f31a0][_0x1d1551(0x56f)])this['sounds'][_0x4f31a0][_0x1d1551(0x467)]=0x0;if(_0x3d50c3)this[_0x1d1551(0x411)][_0x4f31a0][_0x1d1551(0x500)]=!![];this[_0x1d1551(0x411)][_0x4f31a0][_0x1d1551(0x529)]();},this['stopSound']=_0x3ce802=>{var _0x18d903=_0x3f2367;this[_0x18d903(0x411)][_0x3ce802]&&(this[_0x18d903(0x411)][_0x3ce802][_0x18d903(0x252)](),this[_0x18d903(0x411)][_0x3ce802][_0x18d903(0x467)]=0x0);};});function isInRect(_0x4c3b8b,_0x1a1b8a,_0x3dd994){if(_0x4c3b8b===undefined||_0x1a1b8a===undefined||_0x3dd994['ax']===undefined||_0x3dd994['ay']===undefined||_0x3dd994['bx']===undefined||_0x3dd994['by']===undefined)return![];if(_0x3dd994['ax']>_0x3dd994['bx']){var _0x4c2a44=_0x3dd994['ax'];_0x3dd994['ax']=_0x3dd994['bx'],_0x3dd994['bx']=_0x4c2a44;}if(_0x3dd994['ay']>_0x3dd994['by']){var _0x4c2a44=_0x3dd994['ay'];_0x3dd994['ay']=_0x3dd994['by'],_0x3dd994['by']=_0x4c2a44;}if(_0x4c3b8b>_0x3dd994['ax']&&_0x4c3b8b<_0x3dd994['bx']&&_0x1a1b8a>_0x3dd994['ay']&&_0x1a1b8a<_0x3dd994['by'])return!![];return![];}function _0x5a2d(){var _0x50271c=['rock','\x20to\x20the\x20village','lifeMax','Argoo','webkitfullscreenchange','ReturnBlockTargeted','sort','delete_player','under\x20construction\x20:\x20','item','right','hello\x20world','eventPageOffset','Strength','addBowWorkshop','Wilson\x20Gill','batSelected','serif','Okalm','Keegan\x20Doyle','Next\x20Turn','Treasure\x20Quintana','\x27\x20is\x20finished','appendChild','stone_icon','Jadiel\x20McDonald','attack_bigaxe','TryMoveTo','getDistToABlock','Movement\x20cost\x20:\x20','Emmalyn\x20Spence','rotate','failed\x20createImgData\x20image\x20Colored','damageBase','pUI_need_redraw','createArmorFromInput','setTransform','addMessage','fillStyle','key','constructionSelected','\x27Snap\x20ITC\x27','actionCost','food_icon','ff0000','#00af0022','image\x20incomplet','code','projectilName','\x0aTarget\x20between\x20[','can\x27t\x20load\x20','mousePos','drawImageRotate','Attack','Nathan\x20Beltran','addImage','job','width','createNewPlayer','\x0aSurvived\x20','\x20if\x20%','player_test3/village/resource','paused','toFixed','measureText','playerstats','parse','Playerturn','UIevent','unshift','go\x20to\x20forge\x20tab','handImg','Saige\x20McBride','get_next_turn','villageUI','fletching\x20station','Emerie\x20Hickman','getNextUpgrade','getBlocksAtRange','extand\x20the\x20event\x20window','\x20img\x20loaded','concat','drawPlayers','#00ff00','click_buton_check','craftPageOffset','155renvPM','textAlign','page','invalid\x20craft','sword','endFight','./img/mapBotElement/','TryBuildBat','mapFloor','decode','Discord','itemType','equipWeapon','\x20left','Scarlett\x20Mays','no\x20block','no\x20crafts\x20list','Aufait','\x0a-start\x20the\x20construction\x20of\x20new\x20building','anonymous','sound','ago','face_1','1533jzougt','createRandomArmor','displayMessageEvent','Mouse_Input','more\x20chance\x20to\x20uppgrade\x20a\x20weapon\x20in\x20forge','playerList','getImageData','getItemIcone','check\x20next\x20block','callback_data','Alaina\x20Bradford','strokeRect','#0000ff','left','Matthew\x20Beil','equipArmor','Gruu','addEventListener','go\x20to\x20player\x20tab\x20for\x20lvl\x20up','center','movePCost','px\x20','David\x20Grant','bow_workshop_icon','Mckenna\x20Leblanc','Zelda\x20Stevens','Azyla','Houses','centerOnBlock','GoToTabName','drawMessageSystemEvents','#000000','CreateBattleMapFromVillagePlayer_test','add\x20player','moving','UpgradingHouses','body/','\x27Comic\x20Sans\x20MS\x27','addGauge','House\x20lvl','check\x20protect\x20','version','mouseup','generateBasicPlayer','big_tree_0','len_x','removeResource','KeyW','back','Murphy\x20Nava','top','Mira\x20Acevedo','preventDefault','closeFullscreen','capacityList','Carson\x20Hunter','add\x20to\x20building','upgrades','is\x20dead\x20R.I.P','test\x20zone\x20','.mp3','inputclick','MenuUI','New\x20Turn\x20started\x20:\x20','playerColor','drawImageMirrorRotateCenter','resize','loadBatsFromInput','Jade\x20Butler','initMapBotElement','where-the-brave-may-live-forever','craft','imgIcon','removePlayerFromBat','ArrowRight','upgradeLvl','lineMax','\x20life\x20point','getChanceUppgrade','GetCanvasPos','webkitExitFullscreen','Phase\x201\x20started','page\x20down','fillText','Start\x20Battle','batPageOffset','#6495ed88','splice','foodconsumedLastTurn','I\x20will\x20play\x20in\x20','Boden\x20Archer','getWeaponAttackDescription','colorText','drawImage','unequip\x20weapon','canvasPlayer','affecting\x20','leny','body_2','fullScreen','stroke','sea','repeat','Sergio\x20Welch','weapon','showUIplayers','canList','Krew\x20Pruitt','strokeStyle','uppgrade\x20!','posA','max_letter','topleft_block','addResource','Dexterity\x20Slashing\x20weapon,\x20can\x20be\x20uppgraded','SelectingBlockAction','msg','blocking_end_turn','posBlocky','Belek','Screen','createBatToBuildList','\x27Ravie\x27','map','type','generateRandomElement','get_block_by_pixel','selector\x20:\x20','pixel_width','mouse_move_check','addHorizontalElem','\x20players\x20to\x20the\x20battle','start\x20message\x20system','Giana\x20Hudson','player\x20body\x20img\x20loaded\x20and\x20ready','position','Jordan\x20Barker','weaponAnim','\x0a-recolt\x20resource\x20in\x20the\x20forest','lineTo','0px','#00000000','forest_icon','addDefendVillage','the\x20place\x20for\x20craft\x20bow\x20and\x20arrow','Kadence\x20Castaneda','Show','\x27Bauhaus\x2093\x27','UIsystem','weed','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','\x20crafted\x20a\x20','get_pixel_by_block','Arial','\x20by\x20','recoltForestResouce','calculatDamageFromAttack','filter','getZoneAdjacentToPlayer','#0000fb','horizontal','Meilani\x20Olson','stat','zone_target_area','center_on_selected_player','addArmorToVillageInventory','tabs','unequip\x20armor','face_3','test','mine','keydown','Life\x20Max\x20:\x20','highlight','\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings','pixel_starty','Success\x20\x27','GetPageSelector','#663300','villageActionPoint','smash','tryLvLup','ready','fullscreenElement','chance\x20to\x20hit\x20:\x20%','creating\x20an\x20enemy\x20in\x20','UIturnExpanded','pause','Capri\x20Glenn','\x20is\x20building\x20\x27','end\x20of\x20the\x20combat','Callahan\x20Schmitt','direction\x20:\x20','alt','face/','148qvsZBB','No\x20WAter\x20in\x0athis\x20village','playersSelected','\x20\x20\x20\x20\x20Info\x20:','\x20is\x20loaded','innerWidth','Small\x20Woodbow','sort\x20buildings\x20by\x20','Players','Archer\x20Baxter','getMoveCost','you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201','description','draw_ItemsTab','resized','colorFill','loadItemsFromInput','duration','eventPage','defend_village_icon','changed\x20','Enter','River\x20Hunter','Kelvin\x20Fischer','#f8f8ff88','smashing','KeyD','find','canvasPUI','getChanceOfHit','pos_y','rect','get_direction_from_pos','Start\x20Phase\x202','\x27Chiller\x27','onload','age','failed\x20createImgData\x20image','fillColor','Rotate','action\x20point\x20:\x20','needRedraw','loadImg','GetMovePrice','no\x20armor\x20equiped','key_event','End\x20Turn','length','#666666','\x20missed\x20attack\x20(','3987096gNeZVT','stone_pickaxe','team','#ff000055','get_valid_player_for_craft','Lvl\x20up\x20+1','damage\x20after\x20armor\x20reduction\x20:\x20','TryCraftItem','mapUI','initMapTopElement','selector','face_2','Stone\x20Pickaxe','Action\x20Point\x20:\x20','dir','mapImgsBot','#ef0bc322','./music/','workshop','Wood\x20Armor','playAIturn','armor','addCanvas','small_woodBow','build_progression','tab','Img','#a52a2a','resources','bad\x20input\x20remove\x20resource','week','key_buton_check','you\x20don\x27t\x20have\x20enought\x20resource','page\x20up','the\x20construction\x20of\x20\x27','rawCopper_icon','drawLine','initImgs','addWorkShop','Events','sqrt','./img/mapTopElement/','drawTextTopLeft','mouseWasOnMouseLightLastDraw','CheckMoveTo\x20:\x20invalid\x20cost','input','list','getBlockBehindTarget','0.0.3','addWeaponToVillageInventory','ArrowLeft','hit\x20them\x20from\x20behind','createPlayer','error,\x20no\x20block','this\x20will\x20delete\x20your\x20current\x20save','Annalise\x20Carson','Marvin\x20Herrera','sand','topElem','getVillageUItext','animation','End_Turn','tree_root','player\x20','moveTo','go\x20to\x20craft\x20tab','village','letter_size','create_random_enemy_on_map','attack\x20animation\x20on\x20the\x20selected\x20block','Forest\x20Exploitation','UIplayers','Bow\x20workshop','Items','PlayerInfodisplay','face_type','batsToBuild','removeItem','Direction\x20:\x20','APcost','botright_block','#00ffff','nextTurn','woodplank_icon','mapBlock','#00dd00','\x20\x20Info\x20\x20','res','\x20damage\x20increase\x20of\x20','catch','InfoWindowPos','no\x20players','changeMapView','\x20is\x20attacking\x20with\x20','\x20x\x20','getBlockAdjacent','txt_font','#ff66ff','addTextZone','GetMoveDir','size','can\x27t\x20display\x20weapon\x20:\x20','Kade\x20House','#888888','background','#5500ff','warningEndTurnMessage','\x0aLvl\x20:\x20','Dexterity','projectil','\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building','bonus','screenAy','getTime','player_test3/village/building','bat','mousemove','drawRect','Malachi\x20Garza','lvl\x20','Phase\x202\x20started','unequipWeapon','#17bdbc','highlightBlock','UIturn','windowInfo','.png','batSortModeId','getArmorDescription','bats','shift','test\x20turn\x20finished\x20:\x20','\x20have\x20','pop','_icon','beginPath','\x20Action\x20Point\x20(Village)\x20','rangeMax','Alisson\x20Roberson','readyState','drawVillageUI','toDataURL','\x20action\x20points','draw_menu','imgs\x20:\x20','createUI','keyDown','Wren\x20Costa','block','light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling','\x20is\x20dead','UI_list','get_pixel_by_pos','getEquipedWeaponDescription','draw_UI_EventMessage','body_0','exitFullscreen','Zachary\x20Holloway','gaugeSpeed','LoadPlayerVillageImage','innerHeight','reducing\x20','104496iWkLLa','push','Controler','draw_battlePhase','Ruth\x20Stout','letter_per_line','stone_axe','bow\x20attack','wrong\x20direction','turnFinished','clientY','Elsie\x20Reynolds','Stone\x20Axe','img\x20','getBlockUnderPlayer','clientX','selecting_block','affectPlayerToBat','Dennis\x20Parrish','Load\x20saved\x20game','getBlocksAtRangeFromPlayer','Askip','craftPlankInSawmill','itemsPageOffset','dodge','Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village','startsWith','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','Phase\x201\x20:\x20Place\x20Players','getResourcesTextAndImg','\x20%\x20of\x20','./img/player_test3/','NumpadSubtract','get_valid_action_in_affected_building','generateCapacity','#0000ff88','drawPlayer','draw_playerTab','openFullscreen','Player','random','Mine','pixel_endy','villageAP_icon','\x20-Action\x20Point\x20','crushing','generateMap','ChangePosition','bush','msExitFullscreen','battle','no\x20description','#55ff00','button','succes\x20chance\x20','deltaY','\x0a--\x20x','body_3','Exploit\x20resource\x20from\x20the\x20forest','draw_newTurnPhase','substring','End\x20of\x20the\x20battle','\x20weeks','Magnus\x20Yoder','projectilAnimation','invalid\x20player','get_valid_craft_list','DrawTabInfoPlayer','movement\x20factor\x20x','CheckMoveTo\x20:\x20player\x20here','addButton','lvl\x20up','fullscreenchange','13769080HzFUUc','life','Menu','\x20food\x20last\x20week','saw_workshop','Forge','\x20lost\x20','weapon\x20equiped\x20:\x20\x27','upgrades_callback','wood\x20Stick','piercing','bodyPartImgReady','playerDefaultImgs','loadPlayerDefaultImgs','checkHaveResources','pos_starty','#ff080888','build','./img/mapFloor/','warning','\x20/\x20','under_construction_icon','atan2','pixel_height','blocksize_x','7cPvtdH','drawProjectiles','creating\x20an\x20image\x20:\x20','damage','floor','CheckMoveTo','take_damage','\x20joined\x20your\x20village','Smelter','drawUI','\x20-\x20','pixel_endx','enemy\x20created\x20succesfully','moveCost','CostMovingPlayer','#ff0000','you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank','txts','mouseLight','sin','#11ff33','Miner\x20helmet','Copper\x20Cleaver','no\x20weapon\x20equiped','hit\x20the\x20target\x20behind','hand','ActionPointMax','nb_houses','get_next_path','\x20Action\x20Point\x20Max\x20(Battle)\x20',']\x20blocks\x20behind\x20the\x20target','zoneTarget','color','Defend\x20Village','face_4','weapon/projectil/','from','\x20Action\x20Point\x20left','villageActionPointMax','playerInfoMenu','Ximena\x20Zimmerman','cos','Anahi\x20Strickland','getPixelPosition','callback','copper_hammer','createPlayerFromInput','Imgs','copper_cleaver','getMouseInput','\x27Algerian\x27','initMapFloorImage','Tiana\x20Daniel','enemy)','smelt\x20raw\x20mineral\x20into\x20metal','Mine\x20the\x20ground\x20get\x20resources','getContext','batSortModeList','./img/player_test3/village/villageUI_patern.png','player','draw_map','speed\x20','New\x20Building','let\x20do\x20it','Shepherd\x20Park','_blank','ActionPoint','1130132qnCWhl','getBatFromPlayer','lvlupList','Osef','Start\x20a\x20new\x20game','https://discord.gg/bSKtAqwAhc','txt_size','MessageSystem','get\x20more\x20resources\x20in\x20the\x20mine','\x20is\x20mining\x20resource\x20for\x20','uppgrade','Where\x20your\x20players\x20works','addForge','blockSelected','mode','body_4','createElement','get\x20resources','Fail\x20!\x27','InfoWinfowPos','Digit','wheel','drawFillRect','Richard\x20Lee','kill_player','fps','a->Z','playerSelected','1230126tdtKbF','upgrade\x20weapons','Kai\x20Benjamin','getDateText','stone_spear','init_check_mouse_move','Turns','players_inside','putImageData','round','#ffff66','Marisol\x20Humphrey','\x20Action\x20Points\x20left','Move\x20To','isDead','Amira\x20Escobar','blocksize_y','sawmill_song','posBlockx','GetDrawBuildingElement','drawTextCenter','#00aaaa','bonusPopulation','zone_selecting_input','click','you\x20can\x20only\x20craft\x20during\x20Phase\x202','No\x20Name','data','GetColorImage','allied)','KeyA','the-britons','keyup','absolute','sounds','mouseInfoWindow','addMine','MSFullscreenChange','attack_metal_slash','Lia\x20Diaz','blocks','showUI','#55aaaa','middle','bow','playSound','Ares\x20Long','hand\x20hit','complete','Numpad','CheckControlInput','equip\x20weapon','set_drawing_map','addForest','abs','upgradeWeapon','get_block_at_DistRange','\x20leave\x20','\x27Cooper\x20Black\x27','elmList','year\x20','mapImgsTop','building','wood_arrow','#ffff00','botElem','wood_armor','\x20uppgraded\x20to\x20LvL\x20','body_type','fillRect','createNewArmor','textBaseline','callback_actionPlayer','look','createProjectilAnimation','craftSelected','wood_stick','smelter','costAP','workshop_icon','GoToCraftTab','info','\x0a-hit\x20the\x20selected\x20block','lvl','big_tree_1','get_block_at_BlockRange','batBuildMenu','imgColored','Stephanie\x20Bradley','Build\x20new\x20batiments\x20here','bodyPartImg','hammer_nails','generateBasicVillage','ammo','getMessageSystem','life\x20','Stephen\x20Bartlett','you\x20don\x27t\x20have\x20enought\x20resources','text','hammerMetal','screenBy','createPlayerFromVillage','showUIsystem','projectilSpeed','TryUpgrade','mapTopElem','no\x20one\x20can\x20craft\x20it','cleanCanvas','armor/','\x20place','Cade\x20Patton','itemSelected','scale','needUIRedraw','A\x20big\x20hole\x20in\x20the\x20ground','no\x20one\x20can\x20uppgrade\x20it','txt','text_color','startTime','lenx','currentTime','\x20for\x20','text_font','damages','stats','Skye\x20Ramirez','documentElement','needColor','\x20is\x20attacking\x20(no\x20weapon)','#0320fb','unequipArmor','src','Queen\x20Watson','ApplyListPerkUp','lvlup','Strenght\x20Smashing\x20weapon,\x20can\x20be\x20uppgraded','NumpadAdd','len_y','mapImgsFloor','#dddddd','GetNextTurnButton','angle','center\x20on\x20player','receive_attack','start\x20construction','\x0aLife\x20Max\x20:\x20','getBlocksAtDistRangeFromPlayer','Greyson\x20Walker','addSawmill','#ffffff','#000000ff','cancel_menu','can\x27t\x20create\x20this\x20weapon','clearRect','lastTime','Kingston\x20Howell','height','i\x20am\x20in\x20','\x20:\x20','stopSound','\x27Footlight\x20MT\x20Light\x27','font','weapon/','returned\x20','resource','getPlayerIcone','forge','dmgArmor','saveWorld','LoadPlayerImage','getNextTurnList','posB','getZoneAtAbsRangeToPlayer','screenAx','draw_resource_tab','Your\x20population\x20eat\x20food,\x20Miam','activeTabId','createRandomWeapon','GoToForgeTab','cost','wood_icon','#0088ff','Jakobe\x20Hardin','fullness','Denver\x20Leal','miner_helmet','draw_craft_menu','replace','\x0aMove\x20AP\x20cost\x20','createNewWeapon','draw_Image','initVillage','craft\x20woodplank','txt_color','Metal\x20Axe','UIeventExpanded','test_start_battle','rangeMin','1009287FVthcj','\x20received\x20damage\x20:\x20','drawImageRotateCenter','body_1','Your\x20Village\x20is\x20attacked\x20!!','Ryder\x20Sandoval','ControlLeft','Phase\x202\x20:\x20Action\x20Players','marge','attack','checkNextUpgrade','New\x20PLayer\x20','GameUI','DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','extand\x20the\x20Turns\x20window','factor','Sawmill','getLvlUpPerkList','keyUp','Copper\x20Hammer','stones','block\x20','cant\x20load\x20image\x20\x22','players','left\x20mouse\x20:\x0a','clear','\x20turn','createImgFromData','strokeColor','getKeyInput','\x0aSpeed\x20:\x20','highlightZone','log','Lara\x20Barnett','getPlayerByBlock','return\x20to\x20the\x20start\x20of\x20the\x20last\x20phase\x201\x20you\x20played','KeyF','draw_building_tab','speed','villageSave','img','Kashton\x20McCarty','not\x20enoguht\x20resources','metalCopper_icon','\x0aYour\x20village\x20consumed\x20','blockTargetingFunction','sawmill','getZoneAdjacentToPlayerByDir','EventcloseFullscreen','Lilianna\x20Doyle','sword_2h','spear','Braden\x20Lucero','requestFullscreen','can\x27t\x20get\x20can\x20pos','createPattern','\x20of\x20type\x20','Mae\x20Gentry','body','Jacob\x20Knapp','ArrowUp','attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','no\x20craft\x20available','Population\x20max\x20+\x2010\x20(','addHouse','#005500','then','rawCopper','zone','recolteMine','move','ctx','Aubrielle\x20Farmer','style','Music','loop','slashing','#ffffff88','Zaid\x20Terry','phase','buttonList','GetBatBuildMenuSelector','canvas','playersPageOffset','path','draw_tab_selector','createDatafromImage','name','menuUI','gauge','createWeaponFromInput','Speed\x20:\x20','#00D238','value','metal_axe','bot','#555555','populationMax','spawn\x20player','Zachariah\x20Berg','drawGameUI','#ff880022','CheckInfoWindow','pos_startx','colorStroke','sortButo','#a01454','spear_attack','Sariah\x20Cabrera','wall','Move\x20AP\x20cost\x20:\x20','#000000aa','\x20AP','\x20month\x20','metal_sword','anim','play','player_size','pos_x','\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for','add\x20some\x20blocks\x20','pixel_startx','roof_0','Ander\x20Wise'];_0x5a2d=function(){return _0x50271c;};return _0x5a2d();}function testCB(_0x36221e){var _0x6880c=_0x4ea9;if(!_0x36221e)console['log'](_0x6880c(0x2c1));console['log']('change\x20block\x20'+_0x36221e['x']+'\x20'+_0x36221e['y']),map_test[_0x6880c(0x2e0)][_0x36221e['x']][_0x36221e['y']]=(map_test[_0x6880c(0x2e0)][_0x36221e['x']][_0x36221e['y']]+0x1)%0x4,scale_changed=!![];}function getAngleFromTime(_0x5a66aa,_0xbdfc8d,_0x389730){var _0x5442c6=_0xbdfc8d-_0x5a66aa;return _0x5a66aa+_0x5442c6/0x2+_0x389730*_0x5442c6/0x2;}function distBlock(_0x1d3ec7,_0x269aa9,_0x3e43fb,_0x1827d2){var _0x39285a=_0x4ea9,_0x4ce03c=Math[_0x39285a(0x425)](_0x1d3ec7-_0x3e43fb),_0x465c2b=Math[_0x39285a(0x425)](_0x269aa9-_0x1827d2);if(_0x4ce03c>_0x465c2b)return _0x4ce03c;return _0x465c2b;}function dist(_0x4d6fbe,_0x4034d8,_0x36ff9f,_0x3565b8){var _0x214db3=_0x4ea9,_0x5b8142=Math[_0x214db3(0x2b4)]((_0x4d6fbe-_0x36ff9f)*(_0x4d6fbe-_0x36ff9f)+(_0x4034d8-_0x3565b8)*(_0x4034d8-_0x3565b8));return _0x5b8142;}var obj={'callback':_0x4f97f4(0x240)};World=function(){var _0x624111=_0x4f97f4;this[_0x624111(0x463)]=_0x624111(0x53c),this['test']=()=>{var _0x49d7bd=_0x624111;console['log'](this[_0x49d7bd(0x463)]);};};function _0x4ea9(_0x78a0b8,_0x3fef42){var _0x5a2d2a=_0x5a2d();return _0x4ea9=function(_0x4ea92e,_0x9733ce){_0x4ea92e=_0x4ea92e-0x199;var _0x3efb87=_0x5a2d2a[_0x4ea92e];return _0x3efb87;},_0x4ea9(_0x78a0b8,_0x3fef42);}var world=new World();world[obj[_0x4f97f4(0x3bc)]](),myImage=function(_0x31569e,_0x237328){var _0x31c744=_0x4f97f4;console['log'](_0x31c744(0x392)+_0x237328),this[_0x31c744(0x4dd)]=new Image(),this[_0x31c744(0x24d)]=![],this['name']=_0x31569e,this[_0x31c744(0x4dd)]['crossOrigin']=_0x31c744(0x59a),this[_0x31c744(0x4dd)][_0x31c744(0x472)]=_0x237328,this['img'][_0x31c744(0x258)]=_0x31c744(0x4cb)+_0x237328+'\x22',this[_0x31c744(0x446)]=undefined,this['colorColored']=undefined,this[_0x31c744(0x4dd)][_0x31c744(0x590)]()[_0x31c744(0x4f7)](()=>{var _0x5a60e6=_0x31c744;console[_0x5a60e6(0x4d5)](_0x5a60e6(0x33b)+_0x31569e+_0x5a60e6(0x25e)),this[_0x5a60e6(0x24d)]=!![],this['AlphaTransparencyByPixel'](0xff,0xff,0xff);if(world[_0x5a60e6(0x57b)])world[_0x5a60e6(0x57b)][_0x5a60e6(0x283)]=!![];if(world[_0x5a60e6(0x4c1)])world[_0x5a60e6(0x4c1)][_0x5a60e6(0x283)]=!![];})[_0x31c744(0x2e5)](_0x11d958=>{var _0x3331d8=_0x31c744;console[_0x3331d8(0x4d5)](_0x3331d8(0x563)+this[_0x3331d8(0x50c)]),console[_0x3331d8(0x4d5)](_0x11d958);}),this[_0x31c744(0x50b)]=()=>{var _0x1e5fd9=_0x31c744;if(!this['ready'])return undefined;const _0x23e402=document['createElement']('canvas');_0x23e402['width']=this['img'][_0x1e5fd9(0x56a)],_0x23e402[_0x1e5fd9(0x48b)]=this[_0x1e5fd9(0x4dd)][_0x1e5fd9(0x48b)];const _0x447e30=_0x23e402[_0x1e5fd9(0x3c8)]('2d');return _0x447e30[_0x1e5fd9(0x1f4)](this[_0x1e5fd9(0x4dd)],0x0,0x0),_0x447e30[_0x1e5fd9(0x19d)](0x0,0x0,this[_0x1e5fd9(0x4dd)][_0x1e5fd9(0x56a)],this[_0x1e5fd9(0x4dd)]['height']);},this[_0x31c744(0x4d0)]=_0x15a2c2=>{var _0x11a98d=_0x31c744;const _0x574be1=document[_0x11a98d(0x3e3)](_0x11a98d(0x507));_0x574be1[_0x11a98d(0x56a)]=_0x15a2c2[_0x11a98d(0x56a)],_0x574be1[_0x11a98d(0x48b)]=_0x15a2c2[_0x11a98d(0x48b)];const _0x3010fe=_0x574be1[_0x11a98d(0x3c8)]('2d');_0x3010fe['putImageData'](_0x15a2c2,0x0,0x0),this[_0x11a98d(0x4dd)]=new Image(),this[_0x11a98d(0x4dd)][_0x11a98d(0x472)]=_0x574be1[_0x11a98d(0x319)](),this[_0x11a98d(0x4dd)][_0x11a98d(0x258)]=_0x11a98d(0x27f),this[_0x11a98d(0x4dd)][_0x11a98d(0x590)]()[_0x11a98d(0x4f7)](()=>{var _0x61ca20=_0x11a98d;if(world['villageUI'])world[_0x61ca20(0x57b)][_0x61ca20(0x283)]=!![];if(world['GameUI'])world['GameUI'][_0x61ca20(0x283)]=!![];});},this['GetColorImage']=(_0xdc5436,_0x428c6c,_0x55d933,_0xd53054,_0x2c9f85,_0x7db4f7)=>{var _0x5ee925=_0x31c744,_0x17507c=this[_0x5ee925(0x50b)]();if(!_0x17507c)return console[_0x5ee925(0x4d5)]('can\x27t\x20create\x20getColorImage');for(var _0x393b5e=0x0;_0x393b5e<_0x17507c['height'];_0x393b5e++){for(var _0x17d406=0x0;_0x17d406<_0x17507c['width'];_0x17d406++){var _0x5765bb=_0x17507c[_0x5ee925(0x40a)][_0x393b5e*(_0x17507c[_0x5ee925(0x56a)]*0x4)+_0x17d406*0x4],_0xa11eb5=_0x17507c[_0x5ee925(0x40a)][_0x393b5e*(_0x17507c[_0x5ee925(0x56a)]*0x4)+_0x17d406*0x4+0x1],_0x125c7c=_0x17507c[_0x5ee925(0x40a)][_0x393b5e*(_0x17507c[_0x5ee925(0x56a)]*0x4)+_0x17d406*0x4+0x2],_0x43918b=_0x17507c[_0x5ee925(0x40a)][_0x393b5e*(_0x17507c['width']*0x4)+_0x17d406*0x4+0x3];_0x5765bb==_0xdc5436&&_0xa11eb5==_0x428c6c&&_0x125c7c==_0x55d933&&(_0x17507c[_0x5ee925(0x40a)][_0x393b5e*(_0x17507c[_0x5ee925(0x56a)]*0x4)+_0x17d406*0x4]=_0xd53054,_0x17507c['data'][_0x393b5e*(_0x17507c[_0x5ee925(0x56a)]*0x4)+_0x17d406*0x4+0x1]=_0x2c9f85,_0x17507c[_0x5ee925(0x40a)][_0x393b5e*(_0x17507c['width']*0x4)+_0x17d406*0x4+0x2]=_0x7db4f7);}}const _0x3d93d3=document[_0x5ee925(0x3e3)]('canvas');_0x3d93d3[_0x5ee925(0x56a)]=_0x17507c[_0x5ee925(0x56a)],_0x3d93d3['height']=_0x17507c[_0x5ee925(0x48b)];const _0x680a5e=_0x3d93d3[_0x5ee925(0x3c8)]('2d');_0x680a5e[_0x5ee925(0x3f7)](_0x17507c,0x0,0x0);var _0x18edf2=new Image();return _0x18edf2[_0x5ee925(0x472)]=_0x3d93d3[_0x5ee925(0x319)](),_0x18edf2[_0x5ee925(0x258)]=_0x5ee925(0x551),_0x18edf2;},this['AlphaTransparencyByPixel']=(_0x11543f,_0x542d4a,_0x134878)=>{var _0xacaab3=_0x31c744,_0x5f2587=this[_0xacaab3(0x50b)]();if(!_0x5f2587)return undefined;for(var _0x2ac08a=0x0;_0x2ac08a<_0x5f2587['height'];_0x2ac08a++){for(var _0x44fe6a=0x0;_0x44fe6a<_0x5f2587[_0xacaab3(0x56a)];_0x44fe6a++){var _0x2b5851=_0x5f2587['data'][_0x2ac08a*(_0x5f2587['width']*0x4)+_0x44fe6a*0x4],_0x2402b2=_0x5f2587[_0xacaab3(0x40a)][_0x2ac08a*(_0x5f2587[_0xacaab3(0x56a)]*0x4)+_0x44fe6a*0x4+0x1],_0x50f1c1=_0x5f2587[_0xacaab3(0x40a)][_0x2ac08a*(_0x5f2587['width']*0x4)+_0x44fe6a*0x4+0x2],_0x5822b4=_0x5f2587[_0xacaab3(0x40a)][_0x2ac08a*(_0x5f2587[_0xacaab3(0x56a)]*0x4)+_0x44fe6a*0x4+0x3];_0x2b5851==_0x11543f&&_0x2402b2==_0x542d4a&&_0x50f1c1==_0x134878&&(_0x5f2587[_0xacaab3(0x40a)][_0x2ac08a*(_0x5f2587[_0xacaab3(0x56a)]*0x4)+_0x44fe6a*0x4+0x3]=0x0);}}this['createImgFromData'](_0x5f2587);};},createImgFromData=_0x42fbcc=>{var _0x1b5151=_0x4f97f4;const _0x56c3b7=document[_0x1b5151(0x3e3)](_0x1b5151(0x507));_0x56c3b7[_0x1b5151(0x56a)]=_0x42fbcc[_0x1b5151(0x56a)],_0x56c3b7['height']=_0x42fbcc[_0x1b5151(0x48b)];const _0xe78f9a=_0x56c3b7[_0x1b5151(0x3c8)]('2d');_0xe78f9a['putImageData'](_0x42fbcc,0x0,0x0);var _0x516360=new Image();return _0x516360[_0x1b5151(0x472)]=_0x56c3b7[_0x1b5151(0x319)](),_0x516360['alt']=_0x1b5151(0x27f),_0x516360;},MyUI=function(_0x44d593,_0xa8edba,_0x40fd56,_0x2a7e98,_0x595019,_0x5ed86e,_0x4c7ba6,_0x56e09c){var _0x446eb9=_0x4f97f4;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT=_0x446eb9(0x48f),this['x']=_0xa8edba,this['y']=_0x40fd56,this[_0x446eb9(0x507)]=_0x44d593,this[_0x446eb9(0x4bd)]=_0x56e09c?_0x56e09c:0x5,this[_0x446eb9(0x466)]=_0x2a7e98+0x2*this[_0x446eb9(0x4bd)],this[_0x446eb9(0x1f8)]=this[_0x446eb9(0x4bd)],this[_0x446eb9(0x42a)]=[],this[_0x446eb9(0x45f)]=_0x595019,this[_0x446eb9(0x2f4)]=_0x5ed86e?_0x5ed86e:undefined,this[_0x446eb9(0x1fb)]=_0x4c7ba6?_0x4c7ba6:undefined,this['buttonList']=[],this[_0x446eb9(0x2e6)]=![],this[_0x446eb9(0x2ee)]=(_0x20c9b8,_0x4e55df,_0x4cdb67,_0xaff4cf,_0x1ef054)=>{var _0x480a21=_0x446eb9;this['canvas'][_0x480a21(0x4fc)][_0x480a21(0x490)]=''+_0x4e55df+'px'+_0x1ef054;var _0x587c43=[];while(_0x20c9b8[_0x480a21(0x289)]>0x0){var _0x522015=0x0;while(_0x20c9b8[_0x522015]=='\x0a')_0x522015++;while(_0x20c9b8[_0x522015]!='\x0a'&&_0x522015<_0x20c9b8[_0x480a21(0x289)]&&_0x522015<_0x4cdb67)_0x522015++;if(_0x522015==_0x4cdb67){while(_0x20c9b8[_0x522015]!='\x20'&&_0x522015>0x0)_0x522015--;}_0x522015=_0x522015>0x0?_0x522015:_0x4cdb67;var _0x211417=''+_0x20c9b8['substring'](0x0,_0x522015);while(_0x20c9b8[_0x522015+0x1]=='\x0a')_0x522015++;_0x20c9b8=_0x20c9b8[_0x480a21(0x36a)](_0x522015),_0x587c43[_0x480a21(0x32f)](_0x211417);var _0x3ce356=this[_0x480a21(0x507)][_0x480a21(0x4fc)][_0x480a21(0x571)](_0x211417);if(this[_0x480a21(0x466)]<_0x3ce356['width']+0x2*this[_0x480a21(0x4bd)])this[_0x480a21(0x466)]=_0x3ce356[_0x480a21(0x56a)]+0x2*this[_0x480a21(0x4bd)];this[_0x480a21(0x1f8)]+=_0x4e55df+this[_0x480a21(0x4bd)];}this[_0x480a21(0x42a)][_0x480a21(0x32f)]({'type':_0x480a21(0x451),'txts':_0x587c43,'letter_size':Math[_0x480a21(0x394)](_0x4e55df),'txt_color':_0xaff4cf,'text_font':_0x1ef054});},this[_0x446eb9(0x1bd)]=(_0x11e2ba,_0x4660f5,_0x98b450,_0x27e0e9,_0x2fabc4,_0x147a63,_0x385b78,_0x368af6,_0x507fd9)=>{var _0x75865a=_0x446eb9;_0x507fd9=_0x507fd9?_0x507fd9:_0x75865a(0x230),this[_0x75865a(0x507)][_0x75865a(0x4fc)][_0x75865a(0x490)]=''+_0x2fabc4+_0x75865a(0x1ac)+_0x507fd9;var _0x35ea85=this['canvas'][_0x75865a(0x4fc)][_0x75865a(0x571)](_0x11e2ba);if(_0x35ea85>_0x98b450+0x2*this[_0x75865a(0x4bd)])_0x98b450=_0x35ea85+0x2*this[_0x75865a(0x4bd)];if(this[_0x75865a(0x466)]<_0x98b450+0x2*this['marge'])this['lenx']=_0x98b450+0x2*this[_0x75865a(0x4bd)];if(_0x27e0e9<_0x2fabc4+0x2*this[_0x75865a(0x4bd)])_0x27e0e9=_0x2fabc4+0x2*this[_0x75865a(0x4bd)];this[_0x75865a(0x42a)][_0x75865a(0x32f)]({'type':_0x75865a(0x50e),'txt':_0x11e2ba,'fullness':_0x4660f5,'lenx':_0x98b450,'leny':_0x27e0e9,'letter_size':_0x2fabc4,'colorFill':_0x147a63,'colorStroke':_0x385b78,'colorText':_0x368af6,'text_font':_0x507fd9}),this[_0x75865a(0x1f8)]+=_0x27e0e9+this[_0x75865a(0x4bd)];},this['addButton']=(_0xe7fbd0,_0x432495,_0xf46720,_0x349a07,_0x12f45f,_0x5de526,_0x223341,_0xe15d2,_0x5a08e7,_0x452d83,_0x21edd1)=>{var _0x256ad9=_0x446eb9;this['canvas'][_0x256ad9(0x4fc)]['font']=''+_0x432495+'px'+_0xe15d2,_0xe7fbd0=_0x5a08e7?_0x5a08e7+_0x256ad9(0x39a)+_0xe7fbd0:_0xe7fbd0;var _0xf525a=this[_0x256ad9(0x507)]['ctx']['measureText'](_0xe7fbd0);if(_0xf525a[_0x256ad9(0x56a)]+0x4*this['marge']>this[_0x256ad9(0x466)])this[_0x256ad9(0x466)]=_0xf525a[_0x256ad9(0x56a)]+0x4*this[_0x256ad9(0x4bd)];this['elmList'][_0x256ad9(0x32f)]({'type':'button','txt_size':_0xf525a,'letter_size':_0x432495,'text_color':_0xf46720,'fillColor':_0x349a07,'strokeColor':_0x12f45f,'callback':_0x5de526,'callback_data':_0x223341,'text_font':_0xe15d2,'key_event':_0x5a08e7,'txt':_0xe7fbd0,'windowInfo':_0x452d83,'mouseLight':_0x21edd1}),this[_0x256ad9(0x1f8)]+=Math[_0x256ad9(0x394)](0x3*this[_0x256ad9(0x4bd)]+_0x432495);},this[_0x446eb9(0x219)]=_0x1c90a5=>{var _0x5d01cd=_0x446eb9,_0x4972af={'type':'horizontal','list':[]},_0x99575c=0x0,_0x2280c7=this[_0x5d01cd(0x4bd)];for(var _0x31d4a1 in _0x1c90a5){var _0x26ff47=_0x1c90a5[_0x31d4a1],_0x2af474=undefined;switch(_0x26ff47['type']){case undefined:continue;case _0x5d01cd(0x463):if(!_0x26ff47[_0x5d01cd(0x463)])continue;var _0x3768b8=_0x26ff47['txt'],_0x1c79db=[],_0x2dfe06=0x0,_0x4d77ca=0x0,_0x3554e8=_0x26ff47[_0x5d01cd(0x333)]?_0x26ff47[_0x5d01cd(0x333)]:0x270f;this[_0x5d01cd(0x507)][_0x5d01cd(0x4fc)]['font']=''+_0x26ff47['letter_size']+'px'+_0x26ff47[_0x5d01cd(0x2ec)];while(_0x3768b8[_0x5d01cd(0x289)]>0x0){var _0x3a2e2d=0x0;while(_0x3768b8[_0x3a2e2d]=='\x0a')_0x3a2e2d++;while(_0x3768b8[_0x3a2e2d]!='\x0a'&&_0x3a2e2d<_0x3768b8[_0x5d01cd(0x289)]&&_0x3a2e2d<_0x3554e8)_0x3a2e2d++;if(_0x3a2e2d==_0x3554e8){while(_0x3768b8[_0x3a2e2d]!='\x20'&&_0x3a2e2d>0x0)_0x3a2e2d--;}_0x3a2e2d=_0x3a2e2d>0x0?_0x3a2e2d:_0x3554e8;var _0x573b9e=''+_0x3768b8[_0x5d01cd(0x36a)](0x0,_0x3a2e2d);while(_0x3768b8[_0x3a2e2d+0x1]=='\x0a')_0x3a2e2d++;_0x3768b8=_0x3768b8[_0x5d01cd(0x36a)](_0x3a2e2d),_0x1c79db[_0x5d01cd(0x32f)](_0x573b9e);var _0x2fd34e=this[_0x5d01cd(0x507)][_0x5d01cd(0x4fc)][_0x5d01cd(0x571)](_0x573b9e);if(_0x4d77ca<_0x2fd34e[_0x5d01cd(0x56a)]+0x2*this['marge'])_0x4d77ca=_0x2fd34e['width']+0x2*this[_0x5d01cd(0x4bd)];_0x2dfe06+=_0x26ff47[_0x5d01cd(0x2cf)]+this['marge'];}_0x99575c=_0x2dfe06>_0x99575c?_0x2dfe06:_0x99575c,_0x2af474={'type':_0x5d01cd(0x463),'txts':_0x1c79db,'txt_color':_0x26ff47[_0x5d01cd(0x4b0)]?_0x26ff47[_0x5d01cd(0x4b0)]:_0x5d01cd(0x1b6),'max_letters':_0x26ff47[_0x5d01cd(0x206)]?_0x26ff47[_0x5d01cd(0x206)]:0x270f,'letter_size':_0x26ff47[_0x5d01cd(0x2cf)]?_0x26ff47[_0x5d01cd(0x2cf)]:0x14,'txt_font':_0x26ff47[_0x5d01cd(0x2ec)]?_0x26ff47[_0x5d01cd(0x2ec)]:_0x5d01cd(0x230),'txt_size':_0x4d77ca},_0x2280c7+=_0x4d77ca;break;case _0x5d01cd(0x4dd):if(!_0x26ff47['img'])continue;_0x2af474={'type':_0x5d01cd(0x4dd),'img':_0x26ff47['img'],'len_x':_0x26ff47['len_x']?_0x26ff47[_0x5d01cd(0x1c4)]:0x32,'len_y':_0x26ff47[_0x5d01cd(0x478)]?_0x26ff47[_0x5d01cd(0x478)]:0x32},_0x99575c=_0x2af474[_0x5d01cd(0x478)]>_0x99575c?_0x2af474['len_y']:_0x99575c,_0x2280c7+=_0x2af474[_0x5d01cd(0x1c4)]+this[_0x5d01cd(0x4bd)];break;case _0x5d01cd(0x363):if(!_0x26ff47[_0x5d01cd(0x3bc)]||!_0x26ff47['txt'])continue;var _0x37cc7c=_0x26ff47[_0x5d01cd(0x2cf)]?_0x26ff47['letter_size']:0x14,_0x480b61=_0x26ff47['txt_font']?_0x26ff47[_0x5d01cd(0x2ec)]:'Arial';this['canvas'][_0x5d01cd(0x4fc)][_0x5d01cd(0x490)]=''+_0x37cc7c+'px'+_0x480b61;var _0x3768b8=_0x26ff47['key_event']?_0x26ff47[_0x5d01cd(0x287)]+_0x5d01cd(0x39a)+_0x26ff47['txt']:_0x26ff47[_0x5d01cd(0x463)],_0x2fd34e=this[_0x5d01cd(0x507)][_0x5d01cd(0x4fc)]['measureText'](_0x3768b8);_0x2af474={'type':'button','txt_size':_0x2fd34e[_0x5d01cd(0x56a)],'letter_size':_0x37cc7c,'txt_color':_0x26ff47['txt_color']?_0x26ff47[_0x5d01cd(0x4b0)]:'#000000','fillColor':_0x26ff47['fillColor']?_0x26ff47['fillColor']:'#ffffff','strokeColor':_0x26ff47[_0x5d01cd(0x4d1)]?_0x26ff47['strokeColor']:'#000000','callback':_0x26ff47[_0x5d01cd(0x3bc)],'callback_data':_0x26ff47[_0x5d01cd(0x1a0)],'txt_font':_0x480b61,'key_event':_0x26ff47[_0x5d01cd(0x287)],'txt':_0x3768b8,'windowInfo':_0x26ff47[_0x5d01cd(0x309)],'mouseLight':_0x26ff47[_0x5d01cd(0x3a2)]},_0x99575c=_0x2af474[_0x5d01cd(0x2cf)]+0x2*this[_0x5d01cd(0x4bd)]>_0x99575c?_0x2af474[_0x5d01cd(0x2cf)]+0x2*this[_0x5d01cd(0x4bd)]:_0x99575c,_0x2280c7+=_0x2fd34e[_0x5d01cd(0x56a)]+this[_0x5d01cd(0x4bd)]*0x3;break;}_0x4972af[_0x5d01cd(0x2ba)]['push'](_0x2af474);}if(this[_0x5d01cd(0x466)]<_0x2280c7)this['lenx']=_0x2280c7;_0x4972af['len_y']=_0x99575c,this[_0x5d01cd(0x42a)]['push'](_0x4972af),this[_0x5d01cd(0x1f8)]+=Math['floor'](this[_0x5d01cd(0x4bd)]+_0x99575c);},this[_0x446eb9(0x568)]=(_0x15aa91,_0x391eec,_0x513d2f)=>{var _0x23383a=_0x446eb9;this[_0x23383a(0x42a)]['push']({'type':_0x23383a(0x4dd),'img':_0x15aa91,'lenx':_0x391eec,'leny':_0x513d2f});if(this['lenx']<_0x391eec+0x2*this[_0x23383a(0x4bd)])this[_0x23383a(0x466)]=_0x391eec+0x2*this['marge'];this[_0x23383a(0x1f8)]+=Math['floor'](this[_0x23383a(0x4bd)]+_0x391eec);},this['drawUI']=()=>{var _0xdfae98=_0x446eb9;this[_0xdfae98(0x2f4)]&&(this['canvas']['ctx'][_0xdfae98(0x557)]=this[_0xdfae98(0x2f4)],this['canvas'][_0xdfae98(0x3e9)](this['x'],this['y'],this['x']+this[_0xdfae98(0x466)],this['y']+this[_0xdfae98(0x1f8)]));this['stroke']&&(this[_0xdfae98(0x507)]['ctx'][_0xdfae98(0x203)]=this[_0xdfae98(0x1fb)],this['canvas'][_0xdfae98(0x301)](this['x'],this['y'],this['x']+this[_0xdfae98(0x466)],this['y']+this[_0xdfae98(0x1f8)]));var _0x1bf961=this['y']+this[_0xdfae98(0x4bd)];for(var _0x532995 in this[_0xdfae98(0x42a)]){var _0x5a0331=this[_0xdfae98(0x42a)][_0x532995];switch(_0x5a0331[_0xdfae98(0x213)]){case _0xdfae98(0x451):for(var _0x379038 in _0x5a0331[_0xdfae98(0x3a1)]){this[_0xdfae98(0x507)][_0xdfae98(0x2b6)](_0x5a0331[_0xdfae98(0x3a1)][_0x379038],this['x']+this[_0xdfae98(0x4bd)],_0x1bf961,this['lenx'],_0x5a0331['letter_size'],_0x5a0331[_0xdfae98(0x4b0)],_0x5a0331[_0xdfae98(0x469)]),_0x1bf961+=_0x5a0331[_0xdfae98(0x2cf)]+this[_0xdfae98(0x4bd)];}break;case _0xdfae98(0x363):this[_0xdfae98(0x507)][_0xdfae98(0x4fc)][_0xdfae98(0x490)]=''+_0x5a0331[_0xdfae98(0x2cf)]+'px'+_0x5a0331[_0xdfae98(0x469)];var _0x2483b5=Math[_0xdfae98(0x394)](this['x']+_0x5a0331[_0xdfae98(0x3d9)][_0xdfae98(0x56a)]/0x2+0x2*this[_0xdfae98(0x4bd)]),_0x579c77=Math[_0xdfae98(0x394)](_0x1bf961+_0x5a0331[_0xdfae98(0x2cf)]/0x2+0x1*this[_0xdfae98(0x4bd)]),_0x3676b2={'ax':Math[_0xdfae98(0x394)](_0x2483b5-_0x5a0331[_0xdfae98(0x3d9)][_0xdfae98(0x56a)]/0x2-this[_0xdfae98(0x4bd)]),'ay':Math[_0xdfae98(0x394)](_0x579c77-_0x5a0331[_0xdfae98(0x2cf)]/0x2-this[_0xdfae98(0x4bd)]),'bx':Math[_0xdfae98(0x394)](_0x2483b5+_0x5a0331['txt_size'][_0xdfae98(0x56a)]/0x2+this[_0xdfae98(0x4bd)]),'by':Math[_0xdfae98(0x394)](_0x579c77+_0x5a0331[_0xdfae98(0x2cf)]/0x2+this[_0xdfae98(0x4bd)])};this['canvas'][_0xdfae98(0x4fc)][_0xdfae98(0x557)]=_0x5a0331[_0xdfae98(0x280)];if(_0x5a0331[_0xdfae98(0x3a2)]&&world['Controler'][_0xdfae98(0x564)]&&world['Controler']['mousePos']['x']!==undefined&&isInRect(world[_0xdfae98(0x330)][_0xdfae98(0x564)]['x'],world[_0xdfae98(0x330)][_0xdfae98(0x564)]['y'],_0x3676b2))this[_0xdfae98(0x507)]['ctx']['fillStyle']=_0x5a0331[_0xdfae98(0x280)][_0xdfae98(0x36a)](0x0,0x7)+_0x5a0331[_0xdfae98(0x3a2)];this[_0xdfae98(0x507)]['drawFillRect'](_0x3676b2['ax'],_0x3676b2['ay'],_0x3676b2['bx'],_0x3676b2['by']),this['canvas']['ctx'][_0xdfae98(0x203)]=_0x5a0331[_0xdfae98(0x4d1)],this[_0xdfae98(0x507)][_0xdfae98(0x301)](_0x3676b2['ax'],_0x3676b2['ay'],_0x3676b2['bx'],_0x3676b2['by']),this[_0xdfae98(0x507)]['drawTextCenter'](_0x5a0331[_0xdfae98(0x463)],_0x2483b5,_0x579c77,0x270f,_0x5a0331[_0xdfae98(0x2cf)],_0x5a0331[_0xdfae98(0x464)],_0x5a0331['text_font']),this[_0xdfae98(0x505)]['push']({'rect':_0x3676b2,'callback':_0x5a0331[_0xdfae98(0x3bc)],'callback_data':_0x5a0331['callback_data'],'key_event':_0x5a0331[_0xdfae98(0x287)],'windowInfo':_0x5a0331['windowInfo']}),_0x1bf961+=_0x5a0331[_0xdfae98(0x2cf)]+this[_0xdfae98(0x4bd)]*0x3;break;case _0xdfae98(0x4dd):this[_0xdfae98(0x507)][_0xdfae98(0x4ad)](_0x5a0331[_0xdfae98(0x4dd)],this['x']+this[_0xdfae98(0x4bd)],_0x1bf961+this[_0xdfae98(0x4bd)],_0x5a0331['lenx'],_0x5a0331[_0xdfae98(0x1f8)]),_0x1bf961+=_0x5a0331[_0xdfae98(0x1f8)]+this[_0xdfae98(0x4bd)];break;case'gauge':this[_0xdfae98(0x507)][_0xdfae98(0x4fc)][_0xdfae98(0x557)]=_0x5a0331[_0xdfae98(0x269)],this[_0xdfae98(0x507)][_0xdfae98(0x3e9)](this['x']+this['marge'],_0x1bf961+this[_0xdfae98(0x4bd)],this['x']+_0x5a0331['lenx'],_0x1bf961+_0x5a0331[_0xdfae98(0x1f8)]),this[_0xdfae98(0x507)][_0xdfae98(0x4fc)][_0xdfae98(0x557)]=_0x5a0331[_0xdfae98(0x51d)];if(_0x5a0331[_0xdfae98(0x4a6)]>0x0)this[_0xdfae98(0x507)][_0xdfae98(0x3e9)](this['x']+this[_0xdfae98(0x4bd)]*0x2,_0x1bf961+this[_0xdfae98(0x4bd)]*0x2,Math[_0xdfae98(0x394)](this['x']+_0x5a0331[_0xdfae98(0x466)]*_0x5a0331[_0xdfae98(0x4a6)]-this[_0xdfae98(0x4bd)]),_0x1bf961+_0x5a0331['leny']-this[_0xdfae98(0x4bd)]);this[_0xdfae98(0x507)][_0xdfae98(0x403)](_0x5a0331[_0xdfae98(0x463)],this['x']+this[_0xdfae98(0x4bd)]+_0x5a0331[_0xdfae98(0x466)]/0x2,_0x1bf961+this[_0xdfae98(0x4bd)]+_0x5a0331[_0xdfae98(0x1f8)]/0x2,_0x5a0331[_0xdfae98(0x466)],_0x5a0331['letter_size'],_0x5a0331[_0xdfae98(0x1f3)],_0x5a0331[_0xdfae98(0x469)]),_0x1bf961+=_0x5a0331['leny'];break;case _0xdfae98(0x237):var _0x36ca2b=this[_0xdfae98(0x4bd)];for(var _0x264217 in _0x5a0331[_0xdfae98(0x2ba)]){var _0x185e63=_0x5a0331[_0xdfae98(0x2ba)][_0x264217];switch(_0x185e63[_0xdfae98(0x213)]){case _0xdfae98(0x463):var _0x3ad9da=_0x1bf961;for(var _0x532995 in _0x185e63[_0xdfae98(0x3a1)]){this[_0xdfae98(0x507)]['drawTextTopLeft'](_0x185e63['txts'][_0x532995],this['x']+_0x36ca2b,_0x3ad9da,_0x185e63['txt_size'],_0x185e63[_0xdfae98(0x2cf)],_0x185e63[_0xdfae98(0x4b0)],_0x185e63['txt_font']),_0x3ad9da+=_0x185e63['letter_size']+this[_0xdfae98(0x4bd)];}_0x36ca2b+=this[_0xdfae98(0x4bd)]+_0x185e63[_0xdfae98(0x3d9)];break;case _0xdfae98(0x363):this[_0xdfae98(0x507)]['ctx']['font']=''+_0x185e63[_0xdfae98(0x2cf)]+'px'+_0x185e63['txt_font'];var _0x2483b5=Math[_0xdfae98(0x394)](this['x']+_0x36ca2b+_0x185e63['txt_size']/0x2+this['marge']/0x2),_0x579c77=Math[_0xdfae98(0x394)](_0x1bf961+_0x185e63[_0xdfae98(0x2cf)]/0x2+this[_0xdfae98(0x4bd)]/0x2),_0x3676b2={'ax':Math[_0xdfae98(0x394)](_0x2483b5-_0x185e63['txt_size']/0x2-this[_0xdfae98(0x4bd)]),'ay':Math[_0xdfae98(0x394)](_0x579c77-_0x185e63[_0xdfae98(0x2cf)]/0x2-this[_0xdfae98(0x4bd)]),'bx':Math[_0xdfae98(0x394)](_0x2483b5+_0x185e63['txt_size']/0x2+this[_0xdfae98(0x4bd)]),'by':Math['floor'](_0x579c77+_0x185e63['letter_size']/0x2+this[_0xdfae98(0x4bd)])};this['canvas'][_0xdfae98(0x4fc)]['fillStyle']=_0x185e63['fillColor'];if(_0x185e63[_0xdfae98(0x3a2)]&&world[_0xdfae98(0x330)][_0xdfae98(0x564)]&&world[_0xdfae98(0x330)][_0xdfae98(0x564)]['x']!==undefined&&isInRect(world['Controler']['mousePos']['x'],world[_0xdfae98(0x330)][_0xdfae98(0x564)]['y'],_0x3676b2))this[_0xdfae98(0x507)][_0xdfae98(0x4fc)][_0xdfae98(0x557)]=_0x185e63['fillColor'][_0xdfae98(0x36a)](0x0,0x7)+_0x185e63[_0xdfae98(0x3a2)];this['canvas'][_0xdfae98(0x3e9)](_0x3676b2['ax'],_0x3676b2['ay'],_0x3676b2['bx'],_0x3676b2['by']),this[_0xdfae98(0x507)][_0xdfae98(0x4fc)][_0xdfae98(0x203)]=_0x185e63[_0xdfae98(0x4d1)],this[_0xdfae98(0x507)][_0xdfae98(0x301)](_0x3676b2['ax'],_0x3676b2['ay'],_0x3676b2['bx'],_0x3676b2['by']),this[_0xdfae98(0x507)][_0xdfae98(0x403)](_0x185e63[_0xdfae98(0x463)],_0x2483b5,_0x579c77,0x270f,_0x185e63[_0xdfae98(0x2cf)],_0x185e63[_0xdfae98(0x4b0)],_0x185e63[_0xdfae98(0x2ec)]),this[_0xdfae98(0x505)][_0xdfae98(0x32f)]({'rect':_0x3676b2,'callback':_0x185e63['callback'],'callback_data':_0x185e63[_0xdfae98(0x1a0)],'key_event':_0x185e63[_0xdfae98(0x287)],'windowInfo':_0x185e63[_0xdfae98(0x309)],'mouseLight':!![]}),_0x36ca2b+=this['marge']*0x3+_0x185e63[_0xdfae98(0x3d9)];break;case _0xdfae98(0x4dd):this[_0xdfae98(0x507)]['draw_Image'](_0x185e63[_0xdfae98(0x4dd)],this['x']+_0x36ca2b,_0x1bf961,_0x185e63[_0xdfae98(0x1c4)],_0x185e63['len_y']),_0x36ca2b+=_0x185e63[_0xdfae98(0x478)]+this[_0xdfae98(0x4bd)];break;}}_0x1bf961+=_0x5a0331[_0xdfae98(0x478)]+this[_0xdfae98(0x4bd)];break;}}this[_0xdfae98(0x51b)]();},this['click_buton_check']=(_0x2bf426,_0x37f727)=>{var _0x2c400f=_0x446eb9;for(var _0x469c4e in this[_0x2c400f(0x505)]){var _0x342c6f=this[_0x2c400f(0x505)][_0x469c4e];if(isInRect(_0x2bf426,_0x37f727,_0x342c6f[_0x2c400f(0x279)]))return _0x342c6f['callback'](_0x342c6f[_0x2c400f(0x1a0)]),!![];}return![];},this['mouse_move_check']=(_0x4364d4,_0x46f1aa)=>{var _0x3db6a3=_0x446eb9;for(var _0x5ce339 in this['buttonList']){var _0x5862ae=this[_0x3db6a3(0x505)][_0x5ce339];if(_0x5862ae['mouseLight']&&isInRect(_0x4364d4,_0x46f1aa,_0x5862ae[_0x3db6a3(0x279)]))return this[_0x3db6a3(0x283)]=!![],!![];}return![];},this[_0x446eb9(0x2ab)]=_0x303302=>{var _0x15e18d=_0x446eb9;for(var _0x2e989f in this[_0x15e18d(0x505)]){var _0xce39b1=this[_0x15e18d(0x505)][_0x2e989f];if(_0xce39b1[_0x15e18d(0x287)]&&_0xce39b1[_0x15e18d(0x287)]==_0x303302)return _0xce39b1['callback'](_0xce39b1[_0x15e18d(0x1a0)]),!![];}return![];},this[_0x446eb9(0x51b)]=_0x3dc84a=>{var _0x327091=_0x446eb9;if(!world[_0x327091(0x330)])return![];var _0x1ab577=world[_0x327091(0x330)]['mousePos'];if(!_0x1ab577)return;if(new Date()[_0x327091(0x2fd)]()-_0x1ab577[_0x327091(0x489)]<MYUI_WINDOWINFO_MOUSETIME)return this[_0x327091(0x2e6)]&&(this[_0x327091(0x2e6)]=![],this['needRedraw']=!![]),![];if(!this[_0x327091(0x2e6)])this[_0x327091(0x2e6)]={'x':_0x1ab577['x'],'y':_0x1ab577['y']};else{if(!_0x3dc84a&&_0x1ab577['x']==this[_0x327091(0x2e6)]['x']&&_0x1ab577['y']==this[_0x327091(0x2e6)]['y'])return![];}for(var _0x3dfa12 in this['buttonList']){var _0x4ef42b=this['buttonList'][_0x3dfa12];if(_0x4ef42b[_0x327091(0x309)]&&isInRect(_0x1ab577['x'],_0x1ab577['y'],_0x4ef42b[_0x327091(0x279)])){var _0x25d508=new MyUI(this[_0x327091(0x507)],_0x1ab577['x'],_0x1ab577['y'],0x32,0x1,this[_0x327091(0x2f4)],this[_0x327091(0x1fb)],0x1);_0x25d508[_0x327091(0x2ee)](_0x327091(0x2e2),MYUI_LETTER_SIZE,0x270f,'#000000',MYUI_FONT);for(var _0x40a245 in _0x4ef42b[_0x327091(0x309)]){var _0x160f1f=_0x4ef42b['windowInfo'][_0x40a245];if(_0x160f1f['callback'])_0x25d508[_0x327091(0x2ee)](_0x160f1f[_0x327091(0x3bc)](_0x160f1f[_0x327091(0x2b9)]),MYUI_LETTER_SIZE,0x270f,'#000000',MYUI_FONT);}return _0x25d508[_0x327091(0x399)](),!![];}}return![];};},UIManager=function(){var _0x4e8140=_0x4f97f4;this[_0x4e8140(0x323)]=[],this[_0x4e8140(0x31d)]=(_0x3ed7ee,_0x3343cd,_0x356ee8,_0x103ce1,_0x13b612,_0x232c75,_0x3e4091,_0x1edca7)=>{var _0x3addc9=_0x4e8140,_0x543363=new MyUI(_0x3ed7ee,_0x3343cd,_0x356ee8,_0x103ce1,_0x13b612,_0x232c75,_0x3e4091,_0x1edca7);return this['UI_list'][_0x3addc9(0x32f)](_0x543363),_0x543363;},this['Key_Input']=_0x521e27=>{var _0x1b819e=_0x4e8140;for(var _0x449050 in this[_0x1b819e(0x323)]){var _0x10ca70=this[_0x1b819e(0x323)][_0x449050],_0x317d67=_0x10ca70[_0x1b819e(0x2ab)](_0x521e27);if(_0x317d67)return!![];}return![];},this[_0x4e8140(0x19a)]=(_0xb6bb46,_0x5b220a)=>{for(var _0x26230c in this['UI_list']){var _0x1ef318=this['UI_list'][_0x26230c],_0x5d7382=_0x1ef318['click_buton_check'](_0xb6bb46,_0x5b220a);if(_0x5d7382)return!![];}return![];};},MyCanvas=function(_0x336810,_0x2984f8,_0x13db62){var _0x22d948=_0x4f97f4;this['width']=window[_0x22d948(0x25f)],this[_0x22d948(0x48b)]=window['innerHeight'],_0x13db62&&(_0x13db62['x']&&_0x13db62['y']&&(this['width']=_0x13db62['x'],this[_0x22d948(0x48b)]=_0x13db62['y'])),this[_0x22d948(0x507)]=document[_0x22d948(0x3e3)](_0x22d948(0x507)),this[_0x22d948(0x507)][_0x22d948(0x56a)]=this[_0x22d948(0x56a)],this[_0x22d948(0x507)][_0x22d948(0x48b)]=this['height'],this['id']=_0x336810,this['canvas']['id']=_0x336810,this[_0x22d948(0x507)][_0x22d948(0x4fe)]['zIndex']=_0x2984f8,this[_0x22d948(0x507)][_0x22d948(0x4fe)][_0x22d948(0x21e)]=_0x22d948(0x410),this['canvas'][_0x22d948(0x4fe)][_0x22d948(0x1c9)]='0px',this['canvas']['style'][_0x22d948(0x1a4)]=_0x22d948(0x223),this['ctx']=this[_0x22d948(0x507)][_0x22d948(0x3c8)]('2d'),this[_0x22d948(0x1fa)]=![],document[_0x22d948(0x4ef)][_0x22d948(0x548)](this['canvas']),this[_0x22d948(0x1e6)]=()=>{var _0x3b2006=_0x22d948,_0x382499=this[_0x3b2006(0x507)]['getBoundingClientRect']();if(_0x382499)this[_0x3b2006(0x49c)]=Math[_0x3b2006(0x394)](_0x382499['x']),this['screenAy']=Math[_0x3b2006(0x394)](_0x382499['y']),this['screenBx']=Math['floor'](_0x382499[_0x3b2006(0x53b)]-_0x382499['x']),this[_0x3b2006(0x453)]=Math[_0x3b2006(0x394)](_0x382499['bottom']-_0x382499['y']);else console['log'](_0x3b2006(0x4eb));},this[_0x22d948(0x1e6)](),this[_0x22d948(0x3bb)]=(_0x5ecc41,_0x39e2e2)=>{var _0x4d22d9=_0x22d948;this[_0x4d22d9(0x1e6)]();if(_0x5ecc41<this['screenAx']||_0x39e2e2<this[_0x4d22d9(0x2fc)]||_0x5ecc41>this['screenBx']||_0x39e2e2>this['screenBy'])return undefined;var _0x4021bc={'x':Math[_0x4d22d9(0x394)](_0x5ecc41-this['screenAx']),'y':Math[_0x4d22d9(0x394)](_0x39e2e2-this['screenAy'])};return _0x4021bc;},this[_0x22d948(0x45a)]=()=>{var _0x5dd6f8=_0x22d948;this[_0x5dd6f8(0x4fc)][_0x5dd6f8(0x488)](0x0,0x0,this[_0x5dd6f8(0x507)][_0x5dd6f8(0x56a)],this[_0x5dd6f8(0x507)]['height']);},this['drawFillRect']=(_0x552e3c,_0x46ccfe,_0x4231e9,_0x4b389a)=>{var _0x4b1b14=_0x22d948;this['ctx'][_0x4b1b14(0x434)](_0x552e3c,_0x46ccfe,_0x4231e9-_0x552e3c,_0x4b389a-_0x46ccfe);},this['drawRect']=(_0x21ca2e,_0x122ef9,_0x57ce4e,_0x1c2dda)=>{var _0x2845f3=_0x22d948;this[_0x2845f3(0x4fc)][_0x2845f3(0x1a2)](_0x21ca2e,_0x122ef9,_0x57ce4e-_0x21ca2e,_0x1c2dda-_0x122ef9);},this[_0x22d948(0x2b0)]=(_0x2f674a,_0x599338,_0x2b2aff,_0x38cb3a)=>{var _0x48e818=_0x22d948;this[_0x48e818(0x4fc)][_0x48e818(0x313)](),this[_0x48e818(0x4fc)][_0x48e818(0x2cc)](_0x2f674a,_0x599338),this[_0x48e818(0x4fc)][_0x48e818(0x222)](_0x2b2aff,_0x38cb3a),this[_0x48e818(0x4fc)][_0x48e818(0x1fb)]();},this['draw_Image']=(_0x15a54c,_0x1900f5,_0x1eed24,_0x5cb2b4,_0x808e24)=>{var _0x11675d=_0x22d948;_0x1900f5=Math[_0x11675d(0x3f8)](_0x1900f5),_0x1eed24=Math[_0x11675d(0x3f8)](_0x1eed24),_0x5cb2b4=Math[_0x11675d(0x3f8)](_0x5cb2b4),_0x808e24=Math[_0x11675d(0x3f8)](_0x808e24),ctx=this['ctx'],ctx[_0x11675d(0x1f4)](_0x15a54c,_0x1900f5,_0x1eed24,_0x5cb2b4,_0x808e24);},this['drawImageMirrorRotateCenter']=(_0x9d32dc,_0x1c01d8,_0x747efb,_0x3cb558,_0x30c2b,_0x386dd9,_0x4057a1)=>{var _0x5a6507=_0x22d948;_0x1c01d8=Math[_0x5a6507(0x3f8)](_0x1c01d8),_0x747efb=Math[_0x5a6507(0x3f8)](_0x747efb),ctx=this['ctx'],ctx[_0x5a6507(0x555)](-_0x386dd9,0x0,0x0,_0x386dd9,_0x1c01d8,_0x747efb),ctx['rotate'](_0x4057a1),ctx[_0x5a6507(0x1f4)](_0x9d32dc,-_0x3cb558,-_0x30c2b),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x22d948(0x4b7)]=(_0x228457,_0x3de753,_0x46c09f,_0x286389,_0x234eac,_0x51442b,_0x3e6b4d)=>{var _0x1e265e=_0x22d948;_0x3de753=Math[_0x1e265e(0x3f8)](_0x3de753),_0x46c09f=Math[_0x1e265e(0x3f8)](_0x46c09f),ctx=this['ctx'],ctx['setTransform'](_0x51442b,0x0,0x0,_0x51442b,_0x3de753,_0x46c09f),ctx[_0x1e265e(0x550)](_0x3e6b4d),ctx['drawImage'](_0x228457,-_0x286389,-_0x234eac),ctx[_0x1e265e(0x555)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x22d948(0x565)]=(_0x16841f,_0x1eda38,_0x4361ca,_0x15d585,_0x3479fd)=>{var _0x150d36=_0x22d948;_0x1eda38=Math[_0x150d36(0x3f8)](_0x1eda38),_0x4361ca=Math[_0x150d36(0x3f8)](_0x4361ca),ctx=this[_0x150d36(0x4fc)],ctx[_0x150d36(0x555)](_0x15d585,0x0,0x0,_0x15d585,_0x1eda38,_0x4361ca),ctx[_0x150d36(0x550)](_0x3479fd),ctx['drawImage'](_0x16841f,-_0x16841f[_0x150d36(0x56a)]/0x2,-_0x16841f[_0x150d36(0x48b)]/0x2),ctx[_0x150d36(0x555)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x22d948(0x2b6)]=(_0x13a2ad,_0x11facb,_0x4d189d,_0x7653ed,_0x43c146,_0x5d9ea5,_0x5f3f83)=>{var _0x5c012f=_0x22d948;this['ctx'][_0x5c012f(0x588)]=_0x5c012f(0x1a4),this[_0x5c012f(0x4fc)][_0x5c012f(0x436)]=_0x5c012f(0x1c9),this[_0x5c012f(0x4fc)][_0x5c012f(0x557)]=_0x5d9ea5;var _0x386c69=''+_0x43c146+'px';if(!_0x5f3f83)_0x5f3f83=_0x5c012f(0x542);_0x386c69=_0x386c69+'\x20'+_0x5f3f83,this['ctx'][_0x5c012f(0x490)]=_0x386c69,this[_0x5c012f(0x4fc)][_0x5c012f(0x1ea)](_0x13a2ad,_0x11facb,_0x4d189d,_0x7653ed);},this[_0x22d948(0x403)]=(_0x20201b,_0x135cb0,_0x2a53f9,_0x3446d2,_0x4d1276,_0x184725,_0x581b92)=>{var _0x530d48=_0x22d948;this[_0x530d48(0x4fc)]['textAlign']='center',this[_0x530d48(0x4fc)]['textBaseline']=_0x530d48(0x41a),this[_0x530d48(0x4fc)][_0x530d48(0x557)]=_0x184725;var _0x4110a8=''+_0x4d1276+'px';if(!_0x581b92)_0x581b92=_0x530d48(0x542);_0x4110a8=_0x4110a8+'\x20'+_0x581b92,this['ctx'][_0x530d48(0x490)]=_0x4110a8,this[_0x530d48(0x4fc)]['fillText'](_0x20201b,_0x135cb0,_0x2a53f9,_0x3446d2);};},CanvasManager=function(){var _0x1dbdd3=_0x4f97f4;this[_0x1dbdd3(0x201)]=[],this['layerLen']=0x0,window['addEventListener'](_0x1dbdd3(0x1d9),()=>{var _0x498530=_0x1dbdd3;for(var _0x496289 in this[_0x498530(0x201)]){var _0x23a819=this[_0x498530(0x201)][_0x496289]['canvas'];_0x23a819['width']=window['innerWidth'],_0x23a819[_0x498530(0x48b)]=window[_0x498530(0x32c)];}console[_0x498530(0x4d5)](_0x498530(0x268)),world[_0x498530(0x283)]();}),document[_0x1dbdd3(0x1a8)](_0x1dbdd3(0x376),this['EventcloseFullscreen'],![]),document[_0x1dbdd3(0x1a8)]('mozfullscreenchange',this['EventcloseFullscreen'],![]),document[_0x1dbdd3(0x1a8)](_0x1dbdd3(0x414),this[_0x1dbdd3(0x4e5)],![]),document[_0x1dbdd3(0x1a8)](_0x1dbdd3(0x535),this[_0x1dbdd3(0x4e5)],![]),this[_0x1dbdd3(0x4e5)]=()=>{var _0x4fa4fa=_0x1dbdd3;this[_0x4fa4fa(0x1fa)]=![],this[_0x4fa4fa(0x1cc)]();},this[_0x1dbdd3(0x2a2)]=(_0x7ab922,_0x2e6bd5,_0x141707)=>{var _0x4d6695=_0x1dbdd3;for(var _0x539eee in this[_0x4d6695(0x201)])if(this['canList'][_0x539eee]['id']==_0x7ab922)return console[_0x4d6695(0x4d5)]('ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST');var _0x563d54=new MyCanvas(_0x7ab922,_0x2e6bd5,_0x141707);this[_0x4d6695(0x201)][_0x7ab922]=_0x563d54;},this[_0x1dbdd3(0x354)]=()=>{var _0x28b771=_0x1dbdd3;this[_0x28b771(0x1fa)]=!![],document[_0x28b771(0x46d)][_0x28b771(0x4ea)]();},this[_0x1dbdd3(0x1cc)]=()=>{var _0x3a1cb7=_0x1dbdd3;if(this['fullScreen']&&document[_0x3a1cb7(0x24e)]){if(document[_0x3a1cb7(0x328)])document[_0x3a1cb7(0x328)]();else{if(document[_0x3a1cb7(0x1e7)])document['webkitExitFullscreen']();else document[_0x3a1cb7(0x35f)]&&document[_0x3a1cb7(0x35f)]();}}this[_0x3a1cb7(0x1fa)]=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=[_0x4f97f4(0x531),_0x4f97f4(0x2c5),_0x4f97f4(0x1fc),'weed'],MAP_BOT_ELEMENT=[{'name':_0x4f97f4(0x35e),'moveCost':1.5},{'name':_0x4f97f4(0x4c9),'moveCost':0x2},{'name':_0x4f97f4(0x2ca),'moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':_0x4f97f4(0x1c3),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x4f97f4(0x443),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x4f97f4(0x52f),'sizex':0x1,'sizey':0x1},{'name':_0x4f97f4(0x522),'sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x360410,_0x25c375){var _0x261885=_0x4f97f4;this['x']=_0x360410,this['y']=_0x25c375,this[_0x261885(0x430)]=undefined,this[_0x261885(0x2c6)]=undefined,this[_0x261885(0x3cb)]=undefined,this[_0x261885(0x264)]=()=>{var _0x4f0edb=_0x261885,_0xa9381a=0x1;if(this[_0x4f0edb(0x430)]){for(var _0x20bbb7 in MAP_BOT_ELEMENT)var _0xee060e=MAP_BOT_ELEMENT[_0x4f0edb(0x275)](_0x5183f0=>_0x5183f0[_0x4f0edb(0x50c)]==this[_0x4f0edb(0x430)][_0x4f0edb(0x50c)]);if(_0xee060e[_0x4f0edb(0x39d)]==![])return![];if(_0xee060e[_0x4f0edb(0x39d)])_0xa9381a*=_0xee060e['moveCost'];}if(this[_0x4f0edb(0x2c6)]){var _0xee060e=MAP_TOP_ELEMENT[_0x4f0edb(0x275)](_0x942978=>_0x942978['name']==this[_0x4f0edb(0x2c6)][_0x4f0edb(0x50c)]);if(_0xee060e[_0x4f0edb(0x39d)]==![])return![];if(_0xee060e[_0x4f0edb(0x39d)])_0xa9381a*=_0xee060e[_0x4f0edb(0x39d)];}return _0xa9381a;};},BattleMap=function(_0x1ab337,_0x2048e1){var _0x25b6dd=_0x4f97f4;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this[_0x25b6dd(0x56a)]=_0x1ab337,this[_0x25b6dd(0x48b)]=_0x2048e1,this['posBlockx']=_0x1ab337/0x2,this[_0x25b6dd(0x20d)]=_0x2048e1/0x2,this['scale']=0x1,this[_0x25b6dd(0x479)]=[],this[_0x25b6dd(0x2e0)]=[],this[_0x25b6dd(0x29b)]=[],this[_0x25b6dd(0x42c)]=[],this['needRedraw']=!![],this[_0x25b6dd(0x1b3)]=_0x5b3411=>{var _0x43ebf2=_0x25b6dd,_0x75cd6c=0x1;if(_0x5b3411['size'])_0x75cd6c=_0x5b3411['size'];this[_0x43ebf2(0x401)]=_0x5b3411['x']+_0x75cd6c/0x2,this[_0x43ebf2(0x20d)]=_0x5b3411['y']+_0x75cd6c/0x2,this[_0x43ebf2(0x283)]=!![];},this[_0x25b6dd(0x49b)]=_0x25b86c=>{var _0x4b2ea6=_0x25b6dd;if(!_0x25b86c||!_0x25b86c['rangeMin']||!_0x25b86c['rangeMax']||!_0x25b86c[_0x4b2ea6(0x3cb)])return[];var _0x446403=[],_0x4e863e=_0x25b86c[_0x4b2ea6(0x3cb)],_0x3e9ae6=_0x25b86c[_0x4b2ea6(0x4b4)],_0x345734=_0x25b86c[_0x4b2ea6(0x315)];for(var _0x32947f=_0x4e863e['x']-_0x345734;_0x32947f<_0x4e863e['x']+_0x4e863e[_0x4b2ea6(0x2f0)]+_0x345734;_0x32947f++)for(var _0x224c35=_0x4e863e['y']-_0x345734;_0x224c35<_0x4e863e['y']+_0x4e863e['size']+_0x345734;_0x224c35++)if(_0x32947f<=_0x4e863e['x']-_0x3e9ae6||_0x32947f>=_0x4e863e['x']+_0x4e863e['size']+_0x3e9ae6-0x1||_0x224c35<=_0x4e863e['y']-_0x3e9ae6||_0x224c35>=_0x4e863e['y']+_0x4e863e[_0x4b2ea6(0x2f0)]+_0x3e9ae6-0x1){if(this[_0x4b2ea6(0x2e0)][_0x32947f]&&this[_0x4b2ea6(0x2e0)][_0x32947f][_0x224c35])_0x446403[_0x4b2ea6(0x32f)](this['mapBlock'][_0x32947f][_0x224c35]);}return _0x446403;},this['getZoneAdjacentToPlayerByDir']=_0x38b5ac=>{var _0x3d43ec=_0x25b6dd;if(!_0x38b5ac||!_0x38b5ac['dir']||!_0x38b5ac[_0x3d43ec(0x3cb)])return[];var _0x87acb=[],_0x24abf0=_0x38b5ac[_0x3d43ec(0x3cb)];if(_0x38b5ac[_0x3d43ec(0x29a)]=='left'||_0x38b5ac[_0x3d43ec(0x29a)]['x']==-0x1&&_0x38b5ac[_0x3d43ec(0x29a)]['y']==0x0){var _0x58e7c0=_0x24abf0['x']-0x1;for(var _0x238c82=_0x24abf0['y'];_0x238c82<_0x24abf0['y']+_0x24abf0[_0x3d43ec(0x2f0)];_0x238c82++)if(this[_0x3d43ec(0x2e0)][_0x58e7c0]&&this['mapBlock'][_0x58e7c0][_0x238c82])_0x87acb[_0x3d43ec(0x32f)](this['mapBlock'][_0x58e7c0][_0x238c82]);}else{if(_0x38b5ac[_0x3d43ec(0x29a)]==_0x3d43ec(0x1c9)||_0x38b5ac['dir']['y']==-0x1&&_0x38b5ac[_0x3d43ec(0x29a)]['x']==0x0){var _0x238c82=_0x24abf0['y']-0x1;for(var _0x58e7c0=_0x24abf0['x'];_0x58e7c0<_0x24abf0['x']+_0x24abf0['size'];_0x58e7c0++)if(this[_0x3d43ec(0x2e0)][_0x58e7c0]&&this['mapBlock'][_0x58e7c0][_0x238c82])_0x87acb[_0x3d43ec(0x32f)](this[_0x3d43ec(0x2e0)][_0x58e7c0][_0x238c82]);}else{if(_0x38b5ac[_0x3d43ec(0x29a)]==_0x3d43ec(0x53b)||_0x38b5ac['dir']['x']==0x1&&_0x38b5ac[_0x3d43ec(0x29a)]['y']==0x0){var _0x58e7c0=_0x24abf0['x']+_0x24abf0['size'];for(var _0x238c82=_0x24abf0['y'];_0x238c82<_0x24abf0['y']+_0x24abf0[_0x3d43ec(0x2f0)];_0x238c82++)if(this[_0x3d43ec(0x2e0)][_0x58e7c0]&&this['mapBlock'][_0x58e7c0][_0x238c82])_0x87acb[_0x3d43ec(0x32f)](this[_0x3d43ec(0x2e0)][_0x58e7c0][_0x238c82]);}else{if(_0x38b5ac[_0x3d43ec(0x29a)]==_0x3d43ec(0x514)||_0x38b5ac[_0x3d43ec(0x29a)]['y']==0x1&&_0x38b5ac[_0x3d43ec(0x29a)]['x']==0x0){var _0x238c82=_0x24abf0['y']+_0x24abf0[_0x3d43ec(0x2f0)];for(var _0x58e7c0=_0x24abf0['x'];_0x58e7c0<_0x24abf0['x']+_0x24abf0[_0x3d43ec(0x2f0)];_0x58e7c0++)if(this[_0x3d43ec(0x2e0)][_0x58e7c0]&&this['mapBlock'][_0x58e7c0][_0x238c82])_0x87acb[_0x3d43ec(0x32f)](this[_0x3d43ec(0x2e0)][_0x58e7c0][_0x238c82]);}}}}return _0x87acb;},this[_0x25b6dd(0x235)]=_0x21b1ad=>{var _0x5c7394=_0x25b6dd;if(!_0x21b1ad||!_0x21b1ad[_0x5c7394(0x3cb)])return undefined;var _0x7eb0d7=[];return _0x21b1ad[_0x5c7394(0x29a)]=_0x5c7394(0x1a4),_0x7eb0d7=_0x7eb0d7[_0x5c7394(0x582)](this[_0x5c7394(0x4e4)](_0x21b1ad)),_0x21b1ad[_0x5c7394(0x29a)]=_0x5c7394(0x1c9),_0x7eb0d7=_0x7eb0d7[_0x5c7394(0x582)](this['getZoneAdjacentToPlayerByDir'](_0x21b1ad)),_0x21b1ad[_0x5c7394(0x29a)]='right',_0x7eb0d7=_0x7eb0d7[_0x5c7394(0x582)](this[_0x5c7394(0x4e4)](_0x21b1ad)),_0x21b1ad[_0x5c7394(0x29a)]=_0x5c7394(0x514),_0x7eb0d7=_0x7eb0d7['concat'](this[_0x5c7394(0x4e4)](_0x21b1ad)),_0x7eb0d7;},this[_0x25b6dd(0x39e)]=_0x10e338=>{var _0x3de818=_0x25b6dd;if(!_0x10e338||!_0x10e338[_0x3de818(0x3cb)]||!_0x10e338[_0x3de818(0x29a)])return![];var _0x1fc2eb=this['getZoneAdjacentToPlayerByDir']({'dir':_0x10e338[_0x3de818(0x29a)],'player':_0x10e338[_0x3de818(0x3cb)]});if(!_0x1fc2eb||_0x1fc2eb[_0x3de818(0x289)]==0x0)return![];var _0x16f34=0x0;for(var _0x3ec9d8 in _0x1fc2eb){var _0x515edf=_0x1fc2eb[_0x3ec9d8]['getMoveCost']();if(_0x515edf===![]||_0x515edf===0x0)return![];_0x16f34+=_0x515edf;}return _0x16f34/_0x1fc2eb[_0x3de818(0x289)];},this[_0x25b6dd(0x35c)]=()=>{var _0x21fcf0=_0x25b6dd;this[_0x21fcf0(0x2e0)]=[];for(var _0x5d8140=0x0;_0x5d8140<this[_0x21fcf0(0x56a)];_0x5d8140++){this['mapBlock'][_0x5d8140]=[];for(var _0xaf5875=0x0;_0xaf5875<this[_0x21fcf0(0x48b)];_0xaf5875++){var _0x4617ca=new Block(_0x5d8140,_0xaf5875);this['mapBlock'][_0x5d8140][_0xaf5875]=_0x4617ca;if(_0x5d8140==0x0||_0xaf5875==0x0||_0x5d8140==this[_0x21fcf0(0x56a)]-0x1||_0xaf5875==this[_0x21fcf0(0x48b)]-0x1){_0x4617ca['topElem']={'name':_0x21fcf0(0x522),'angle':Math['random']()*Math['PI']*0x2};continue;}}}},this[_0x25b6dd(0x214)]=()=>{var _0x2652cc=_0x25b6dd;for(var _0x576b20=0x0;_0x576b20<this[_0x2652cc(0x56a)];_0x576b20++){for(var _0x3ae5b5=0x0;_0x3ae5b5<this[_0x2652cc(0x48b)];_0x3ae5b5++){var _0x2db699=this['mapBlock'][_0x576b20][_0x3ae5b5];if(_0x2db699[_0x2652cc(0x3cb)])continue;var _0x565f9e=Math[_0x2652cc(0x394)](Math[_0x2652cc(0x356)]()*0x64);if(_0x565f9e<0xa){var _0x20cc1a=Math[_0x2652cc(0x394)](Math[_0x2652cc(0x356)]()*MAP_BOT_ELEMENT[_0x2652cc(0x289)]);_0x2db699[_0x2652cc(0x430)]={'name':MAP_BOT_ELEMENT[_0x20cc1a][_0x2652cc(0x50c)],'angle':Math[_0x2652cc(0x356)]()*Math['PI']*0x2};}var _0x565f9e=Math['floor'](Math[_0x2652cc(0x356)]()*0x64);if(_0x565f9e<0xa){var _0x20cc1a=Math[_0x2652cc(0x394)](Math[_0x2652cc(0x356)]()*MAP_TOP_ELEMENT[_0x2652cc(0x289)]);_0x2db699[_0x2652cc(0x2c6)]={'name':MAP_TOP_ELEMENT[_0x20cc1a][_0x2652cc(0x50c)],'angle':Math[_0x2652cc(0x356)]()*Math['PI']*0x2};}}}},this[_0x25b6dd(0x3c3)]=()=>{var _0x1b848b=_0x25b6dd,_0x46c152=_0x1b848b(0x389),_0x1ffdf4=MAP_FLOORS;for(var _0xa50bb6 in _0x1ffdf4)this[_0x1b848b(0x479)][_0x1ffdf4[_0xa50bb6]]=new myImage(_0x1ffdf4[_0xa50bb6],_0x46c152+_0x1ffdf4[_0xa50bb6]+'.png');},this['initMapBotElement']=()=>{var _0x2086fd=_0x25b6dd,_0xd100ae=_0x2086fd(0x58d),_0x59c14f=MAP_BOT_ELEMENT;for(var _0x446825 in _0x59c14f)this['mapImgsBot'][_0x59c14f[_0x446825][_0x2086fd(0x50c)]]=new myImage(_0x59c14f[_0x446825][_0x2086fd(0x50c)],_0xd100ae+_0x59c14f[_0x446825][_0x2086fd(0x50c)]+'.png');},this[_0x25b6dd(0x295)]=()=>{var _0x5cbb74=_0x25b6dd,_0x252901=_0x5cbb74(0x2b5),_0x5e6627=MAP_TOP_ELEMENT;for(var _0x2ba832 in _0x5e6627)this[_0x5cbb74(0x42c)][_0x5e6627[_0x2ba832]['name']]=new myImage(_0x5e6627[_0x2ba832][_0x5cbb74(0x50c)],_0x252901+_0x5e6627[_0x2ba832]['name']+'.png');},this[_0x25b6dd(0x2b1)]=()=>{var _0x431126=_0x25b6dd;this['initMapTopElement'](),this['initMapFloorImage'](),this[_0x431126(0x1dc)]();},this[_0x25b6dd(0x2e8)]=(_0x4d8264,_0x181b24,_0x77bc74)=>{var _0x4613c8=_0x25b6dd;this[_0x4613c8(0x401)]+=_0x4d8264,this['posBlocky']+=_0x181b24,this[_0x4613c8(0x45f)]*=_0x77bc74;if(this[_0x4613c8(0x45f)]<0.1)this[_0x4613c8(0x45f)]=0.1;if(this[_0x4613c8(0x45f)]>0x1)this[_0x4613c8(0x45f)]=0x1;this[_0x4613c8(0x283)]=!![];},this[_0x25b6dd(0x423)]=_0x4c77b7=>{var _0x3c6cc7=_0x25b6dd;this[_0x3c6cc7(0x217)]=Math['floor'](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x3c6cc7(0x45f)]*this[_0x3c6cc7(0x56a)]),this[_0x3c6cc7(0x38e)]=Math[_0x3c6cc7(0x394)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x3c6cc7(0x45f)]*this[_0x3c6cc7(0x48b)]),this['blocksize_x']=Math[_0x3c6cc7(0x394)](this['pixel_width']/this[_0x3c6cc7(0x56a)]),this[_0x3c6cc7(0x3ff)]=Math[_0x3c6cc7(0x394)](this[_0x3c6cc7(0x38e)]/this[_0x3c6cc7(0x48b)]),this[_0x3c6cc7(0x52b)]=this[_0x3c6cc7(0x401)]*this['blocksize_x'],this[_0x3c6cc7(0x278)]=this[_0x3c6cc7(0x20d)]*this[_0x3c6cc7(0x3ff)],this[_0x3c6cc7(0x51c)]=_0x4c77b7[_0x3c6cc7(0x56a)]/0x2-this[_0x3c6cc7(0x52b)],this['pos_starty']=_0x4c77b7[_0x3c6cc7(0x48b)]/0x2-this[_0x3c6cc7(0x278)],this['pixel_startx']=this[_0x3c6cc7(0x51c)]<0x0?0x0:this[_0x3c6cc7(0x51c)],this[_0x3c6cc7(0x246)]=this[_0x3c6cc7(0x386)]<0x0?0x0:this['pos_starty'],this['pixel_endx']=this[_0x3c6cc7(0x51c)]+this[_0x3c6cc7(0x217)]>=_0x4c77b7[_0x3c6cc7(0x56a)]?_0x4c77b7[_0x3c6cc7(0x56a)]-0x1:this[_0x3c6cc7(0x51c)]+this[_0x3c6cc7(0x217)],this[_0x3c6cc7(0x358)]=this[_0x3c6cc7(0x386)]+this['pixel_height']>=_0x4c77b7['height']?_0x4c77b7[_0x3c6cc7(0x48b)]-0x1:this['pos_starty']+this[_0x3c6cc7(0x38e)],this[_0x3c6cc7(0x207)]=this[_0x3c6cc7(0x215)]({'x':this[_0x3c6cc7(0x52e)],'y':this['pixel_starty']}),this[_0x3c6cc7(0x2dc)]=this[_0x3c6cc7(0x215)]({'x':this[_0x3c6cc7(0x39b)],'y':this['pixel_endy']});if(this['botright_block']){if(this[_0x3c6cc7(0x2dc)]['x']>=this[_0x3c6cc7(0x56a)])this['botright_block']['x']=this[_0x3c6cc7(0x56a)]-0x1;if(this[_0x3c6cc7(0x2dc)]['y']>=this[_0x3c6cc7(0x48b)])this[_0x3c6cc7(0x2dc)]['y']=this[_0x3c6cc7(0x48b)]-0x1;}},this[_0x25b6dd(0x307)]=(_0x594370,_0x5a89b5,_0x48458a,_0x50ce20,_0x5f39f5)=>{var _0x1df137=_0x25b6dd;if(_0x5f39f5==_0x1df137(0x4fb)){var _0x1164d7=Math[_0x1df137(0x394)](_0x48458a+0.05*this[_0x1df137(0x38f)]),_0x2faa45=Math[_0x1df137(0x394)](_0x50ce20+0.05*this[_0x1df137(0x3ff)]),_0x36613d=Math['floor'](_0x48458a+0.95*this[_0x1df137(0x38f)]),_0x4beea4=Math[_0x1df137(0x394)](_0x50ce20+0.95*this[_0x1df137(0x3ff)]);if(_0x5a89b5[_0x1df137(0x264)]()>0x1)_0x594370[_0x1df137(0x4fc)][_0x1df137(0x557)]=_0x1df137(0x51a);else{if(!_0x5a89b5[_0x1df137(0x264)]()||_0x5a89b5['player'])_0x594370[_0x1df137(0x4fc)][_0x1df137(0x557)]=_0x1df137(0x28f);else _0x594370[_0x1df137(0x4fc)]['fillStyle']=_0x1df137(0x55e);}_0x594370[_0x1df137(0x3e9)](_0x1164d7,_0x2faa45,_0x36613d,_0x4beea4);var _0x52a6c6=new MyUI(_0x594370,_0x1164d7,_0x2faa45,0x64,this['scale'],undefined,undefined,0x1);_0x52a6c6[_0x1df137(0x2ee)](_0x1df137(0x372)+_0x5a89b5['getMoveCost'](),0x14*this[_0x1df137(0x45f)],0x64,_0x1df137(0x4f6)),_0x52a6c6[_0x1df137(0x399)]();}if(_0x5f39f5=='rotate'){var _0x1164d7=Math[_0x1df137(0x394)](_0x48458a+0.05*this[_0x1df137(0x38f)]),_0x2faa45=Math['floor'](_0x50ce20+0.05*this['blocksize_y']),_0x36613d=Math[_0x1df137(0x394)](_0x48458a+0.95*this[_0x1df137(0x38f)]),_0x4beea4=Math[_0x1df137(0x394)](_0x50ce20+0.95*this['blocksize_y']);_0x594370[_0x1df137(0x4fc)][_0x1df137(0x557)]=_0x1df137(0x29c),_0x594370[_0x1df137(0x3e9)](_0x1164d7,_0x2faa45,_0x36613d,_0x4beea4);}},this[_0x25b6dd(0x3cc)]=(_0x5f4fd3,_0x44adf9)=>{var _0x933ef8=_0x25b6dd;this[_0x933ef8(0x283)]=![],world[_0x933ef8(0x4cc)][_0x933ef8(0x553)]=!![];if(this['topleft_block']&&this[_0x933ef8(0x2dc)])for(var _0x28d001=this['topleft_block']['x'];_0x28d001<=this['botright_block']['x'];_0x28d001++){for(var _0x365d83=this[_0x933ef8(0x207)]['y'];_0x365d83<=this['botright_block']['y'];_0x365d83++){var _0x1b7b41=this['get_pixel_by_block'](_0x28d001,_0x365d83),_0x2def20=this['mapBlock'][_0x28d001][_0x365d83],_0x34b638=undefined;if(!_0x2def20[_0x933ef8(0x394)])_0x34b638=this[_0x933ef8(0x479)][_0x933ef8(0x22c)];else _0x34b638=this[_0x933ef8(0x479)][_0x2def20[_0x933ef8(0x394)]];if(_0x34b638&&_0x34b638[_0x933ef8(0x24d)]&&_0x1b7b41)_0x5f4fd3['draw_Image'](_0x34b638[_0x933ef8(0x4dd)],_0x1b7b41['x'],_0x1b7b41['y'],this[_0x933ef8(0x38f)]+0x1,this[_0x933ef8(0x3ff)]+0x1);else this[_0x933ef8(0x283)]=!![];if(_0x2def20[_0x933ef8(0x430)]){_0x34b638=this[_0x933ef8(0x29b)][_0x2def20[_0x933ef8(0x430)][_0x933ef8(0x50c)]];var _0x546467=_0x1b7b41['x']+this[_0x933ef8(0x38f)]/0x2,_0x14b08a=_0x1b7b41['y']+this['blocksize_y']/0x2;if(_0x34b638)_0x5f4fd3[_0x933ef8(0x565)](_0x34b638[_0x933ef8(0x4dd)],_0x546467,_0x14b08a,this['scale']*0x2,_0x2def20['botElem'][_0x933ef8(0x47c)]);}if(_0x2def20[_0x933ef8(0x2c6)]){_0x34b638=this[_0x933ef8(0x42c)][_0x2def20['topElem']['name']];var _0x546467=_0x1b7b41['x']+this[_0x933ef8(0x38f)]/0x2,_0x14b08a=_0x1b7b41['y']+this[_0x933ef8(0x3ff)]/0x2;if(_0x34b638)_0x44adf9[_0x933ef8(0x565)](_0x34b638[_0x933ef8(0x4dd)],_0x546467,_0x14b08a,this[_0x933ef8(0x45f)]*0x2,_0x2def20['topElem'][_0x933ef8(0x47c)]);}if(world[_0x933ef8(0x4c1)][_0x933ef8(0x4d4)]&&world[_0x933ef8(0x4c1)][_0x933ef8(0x4d4)][_0x933ef8(0x4f9)]&&world[_0x933ef8(0x4c1)][_0x933ef8(0x4d4)]['zone'][_0x933ef8(0x275)](_0x5b87b8=>_0x5b87b8==_0x2def20))this['highlightBlock'](_0x5f4fd3,_0x2def20,_0x1b7b41['x'],_0x1b7b41['y'],world[_0x933ef8(0x4c1)][_0x933ef8(0x4d4)][_0x933ef8(0x213)]);}}},this[_0x25b6dd(0x215)]=_0x4beec9=>{var _0x433d48=_0x25b6dd;if(_0x4beec9['x']<this[_0x433d48(0x52e)]||_0x4beec9['y']<this[_0x433d48(0x246)]||_0x4beec9['x']>this[_0x433d48(0x39b)]||_0x4beec9['y']>this['pixel_endy']||this['blocksize_x']==0x0||this['blocksize_y']==0x0)return undefined;var _0x31ae12={'x':Math[_0x433d48(0x394)]((_0x4beec9['x']-this[_0x433d48(0x51c)])/this[_0x433d48(0x38f)]),'y':Math[_0x433d48(0x394)]((_0x4beec9['y']-this[_0x433d48(0x386)])/this['blocksize_y'])};if(_0x31ae12['x']>=this[_0x433d48(0x56a)]&&_0x31ae12['x']>0x0)_0x31ae12['x']=this['width']-0x1;if(_0x31ae12['y']>=this[_0x433d48(0x48b)]&&_0x31ae12['y']>0x0)_0x31ae12['y']=this[_0x433d48(0x48b)]-0x1;return this[_0x433d48(0x2e0)][_0x31ae12['x']][_0x31ae12['y']];},this[_0x25b6dd(0x22f)]=(_0x392ddd,_0x2e8ee8)=>{var _0x4042b8=_0x25b6dd;if(_0x392ddd<0x0||_0x2e8ee8<0x0||_0x392ddd>=this[_0x4042b8(0x56a)]||_0x2e8ee8>=this[_0x4042b8(0x48b)])return undefined;return{'x':Math['floor'](this[_0x4042b8(0x51c)]+this[_0x4042b8(0x38f)]*_0x392ddd),'y':Math[_0x4042b8(0x394)](this[_0x4042b8(0x386)]+this['blocksize_y']*_0x2e8ee8)};},this[_0x25b6dd(0x324)]=(_0xb216d7,_0x178f2c)=>{var _0x5cd687=_0x25b6dd;return{'x':this[_0x5cd687(0x51c)]+this['blocksize_x']*_0xb216d7,'y':this[_0x5cd687(0x386)]+this[_0x5cd687(0x3ff)]*_0x178f2c};},this[_0x25b6dd(0x444)]=(_0x57d0cb,_0x41e8ec,_0x551ed7,_0x8206aa)=>{var _0x394ad7=_0x25b6dd,_0x106bc5=[];for(var _0x1feb33=_0x57d0cb-_0x8206aa;_0x1feb33<=_0x57d0cb+_0x8206aa;r++){for(var _0x4e0bbd=_0x41e8ec-_0x8206aa;_0x4e0bbd<=_0x41e8ec+_0x8206aa;r++){var _0x43a7c1=this['mapBlock'][_0x1feb33][_0x4e0bbd];if(_0x43a7c1&&distBlock(_0x57d0cb,_0x41e8ec,_0x43a7c1['x'],_0x43a7c1['y'])>=_0x551ed7&&distBlock(_0x57d0cb,_0x41e8ec,_0x43a7c1['x'],_0x43a7c1['y'])<=_0x8206aa)_0x106bc5[_0x394ad7(0x32f)](_0x43a7c1);}}return _0x106bc5;},this[_0x25b6dd(0x427)]=(_0x415d48,_0x5aee91,_0x3dd6fb,_0x42bc2e)=>{var _0x521d04=_0x25b6dd,_0x5d1dd7=[];for(var _0x486eea=Math[_0x521d04(0x394)](_0x415d48-_0x42bc2e);_0x486eea<=Math[_0x521d04(0x3f8)](_0x415d48+_0x42bc2e);r++){for(var _0x5e180b=Math['floor'](_0x5aee91-_0x42bc2e);_0x5e180b<=Math[_0x521d04(0x3f8)](_0x5aee91+_0x42bc2e);r++){var _0x954105=this['mapBlock'][_0x486eea][_0x5e180b];if(_0x954105&&dist(_0x415d48,_0x5aee91,_0x954105['x'],_0x954105['y'])>=_0x3dd6fb&&Block(_0x415d48,_0x5aee91,_0x954105['x'],_0x954105['y'])<=_0x42bc2e)_0x5d1dd7[_0x521d04(0x32f)](_0x954105);}}return _0x5d1dd7;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT='Algerian',BONUS_DESCRIPTION=[];var id=0x1;BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]='get\x20x2\x20more\x20wood\x20in\x20forest',BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x4f97f4(0x3db),BONUS_FORGE_UPPGRADE=id++,BONUS_DESCRIPTION[BONUS_FORGE_UPPGRADE]=_0x4f97f4(0x19b),Player=function(_0x195500,_0x104875,_0x309a67,_0x425a13,_0x131a37){var _0x31f558=_0x4f97f4;this['x']=_0x195500,this['y']=_0x104875,this[_0x31f558(0x2f0)]=_0x309a67,this['team']=_0x131a37,this['AI']=_0x131a37==TEAM_HUMAN?undefined:{},this[_0x31f558(0x3b0)]=_0x425a13,this[_0x31f558(0x29a)]=[0x1,0x0],this[_0x31f558(0x449)]=undefined,this[_0x31f558(0x382)]=![],this[_0x31f558(0x578)]=undefined,this[_0x31f558(0x2c8)]=[],this[_0x31f558(0x1ab)]=PLAYER_DEFAUTL_MOVECOST,this[_0x31f558(0x50c)]=_0x31f558(0x409),this[_0x31f558(0x4db)]=0x64,this[_0x31f558(0x32a)]=0x0,this[_0x31f558(0x3d2)]=0x0,this[_0x31f558(0x3aa)]=0x64,this['lifeMax']=0x64,this['life']=this['lifeMax'],this[_0x31f558(0x3fd)]=![],(this['stats']={'Strength':0xa,'Dexterity':0xa},this[_0x31f558(0x396)]=_0x5fb681=>{var _0x126610=_0x31f558;if(_0x5fb681==undefined||_0x5fb681<0x0)return![];this[_0x126610(0x378)]-=_0x5fb681,world['players'][_0x126610(0x3da)][_0x126610(0x556)]({'type':this[_0x126610(0x28e)],'txt':this[_0x126610(0x50c)]+_0x126610(0x37d)+_0x5fb681+_0x126610(0x1e4)});if(this['life']<=0x0){world[_0x126610(0x4cc)]['MessageSystem']['addMessage']({'type':this[_0x126610(0x28e)],'txt':this[_0x126610(0x50c)]+_0x126610(0x322)}),world['players']['delete_player'](this);if(this==world[_0x126610(0x4c1)][_0x126610(0x25c)])world[_0x126610(0x4c1)][_0x126610(0x25c)]=undefined;if(this==world[_0x126610(0x4cc)]['Playerturn'])world[_0x126610(0x4cc)]['Playerturn']=undefined;}return!![];}),this[_0x31f558(0x47e)]=_0x3c7a07=>{var _0x2e081f=_0x31f558;if(!_0x3c7a07||_0x3c7a07[_0x2e081f(0x289)]<0x1)return![];var _0x579cc2=0x0;for(var _0x5f21ea in _0x3c7a07){world[_0x2e081f(0x4cc)][_0x2e081f(0x3da)][_0x2e081f(0x556)]({'type':this['team'],'txt':this[_0x2e081f(0x50c)]+_0x2e081f(0x4b6)+_0x3c7a07[_0x5f21ea][_0x2e081f(0x512)]+_0x2e081f(0x4ed)+_0x3c7a07[_0x5f21ea][_0x2e081f(0x213)]}),_0x579cc2+=_0x3c7a07[_0x5f21ea][_0x2e081f(0x512)];}var _0x4a65bf=this[_0x2e081f(0x2a1)]?this[_0x2e081f(0x2a1)][_0x2e081f(0x233)]({'damages':_0x3c7a07}):_0x579cc2;return this[_0x2e081f(0x396)](_0x4a65bf);},this[_0x31f558(0x350)]=()=>{var _0x205af4=_0x31f558;this[_0x205af4(0x1cd)]=[{'name':_0x205af4(0x3fc),'type':_0x205af4(0x4fb),'description':'Move\x20your\x20player\x20up/right/down/left','callback':this[_0x205af4(0x54c)],'zone_target_area':world['map']['getZoneAdjacentToPlayer'],'zone_selecting_input':{'player':this,'type':_0x205af4(0x4fb)},'windowInfo':[{'txt':_0x205af4(0x54e),'callback':this['GetMovePrice']},{'txt':_0x205af4(0x2da),'callback':this['GetMoveDir']}]},{'name':_0x205af4(0x281),'type':'move','description':'rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','callback':this[_0x205af4(0x550)],'zone_target_area':world[_0x205af4(0x212)]['getZoneAtAbsRangeToPlayer'],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':_0x205af4(0x550)},'windowInfo':[{'txt':_0x205af4(0x257),'callback':this[_0x205af4(0x27a)]}]}];if(this['weapon']){var _0x44623d={'name':'Attack','type':_0x205af4(0x4be),'description':_0x205af4(0x2d1),'callback':this['attack'],'zone_target_area':this[this['weapon'][_0x205af4(0x4e2)][_0x205af4(0x3bc)]],'zone_selecting_input':{...this[_0x205af4(0x1ff)][_0x205af4(0x4e2)][_0x205af4(0x2b9)]},'windowInfo':[{'txt':_0x205af4(0x24f),'callback':this['getChanceOfHit']},{'txt':'attack\x20with\x20:\x20','callback':this[_0x205af4(0x325)]}]};_0x44623d[_0x205af4(0x406)]['player']=this,_0x44623d[_0x205af4(0x406)]['type']='rotate',this[_0x205af4(0x1cd)][_0x205af4(0x32f)](_0x44623d);}else{var _0x44623d={'name':_0x205af4(0x566),'type':_0x205af4(0x4be),'description':_0x205af4(0x2d1),'callback':this[_0x205af4(0x4be)],'zone_target_area':this[_0x205af4(0x2eb)],'zone_selecting_input':{},'windowInfo':[{'txt':_0x205af4(0x24f),'callback':this['getChanceOfHit']},{'txt':_0x205af4(0x4f2),'callback':()=>{}}]};_0x44623d[_0x205af4(0x406)][_0x205af4(0x3cb)]=this,_0x44623d['zone_selecting_input'][_0x205af4(0x213)]=_0x205af4(0x550),this[_0x205af4(0x1cd)]['push'](_0x44623d);}},this[_0x31f558(0x325)]=()=>{var _0x33e04a=_0x31f558;if(this[_0x33e04a(0x1ff)])return this[_0x33e04a(0x1ff)]['getWeaponAttackDescription']();},this[_0x31f558(0x536)]=_0x1dea8c=>{var _0x221ab9=_0x31f558;if(!_0x1dea8c||!_0x1dea8c[_0x221ab9(0x320)])return undefined;return[_0x1dea8c['block']];},this[_0x31f558(0x2eb)]=()=>{var _0x5c8d1f=_0x31f558;console['log']('get\x20block\x20adjacent');var _0x55ae6a=[];for(var _0x2ec942=this['x']-0x1;_0x2ec942<=this['x']+this[_0x5c8d1f(0x2f0)];_0x2ec942++)for(var _0x367631=this['y']-0x1;_0x367631<=this['y']+this[_0x5c8d1f(0x2f0)];_0x367631++)if(!((_0x2ec942==this['x']-0x1||_0x2ec942==this['x']+this['size'])&&(_0x367631==this['y']-0x1||_0x367631==this['y']+this[_0x5c8d1f(0x2f0)]))&&!(_0x2ec942<=this['x']+this[_0x5c8d1f(0x2f0)]-0x1&&_0x2ec942>=this['x']&&_0x367631<=this['y']+this[_0x5c8d1f(0x2f0)]-0x1&&_0x367631>=this['y'])){if(world[_0x5c8d1f(0x212)][_0x5c8d1f(0x2e0)][_0x2ec942]&&world['map']['mapBlock'][_0x2ec942][_0x367631])_0x55ae6a[_0x5c8d1f(0x32f)](world[_0x5c8d1f(0x212)][_0x5c8d1f(0x2e0)][_0x2ec942][_0x367631]);}return console[_0x5c8d1f(0x4d5)](_0x5c8d1f(0x492)+_0x55ae6a[_0x5c8d1f(0x289)]+'\x20blocks'),_0x55ae6a;},this[_0x31f558(0x33c)]=()=>{var _0x223d34=_0x31f558,_0x166bb7=[];for(var _0x46fc39=this['x'];_0x46fc39<this['x']+this['size'];_0x46fc39++)for(var _0x58af12=this['y'];_0x58af12<this['y']+this[_0x223d34(0x2f0)];_0x58af12++)_0x166bb7['push'](world[_0x223d34(0x212)]['mapBlock'][_0x46fc39][_0x58af12]);},this[_0x31f558(0x2bb)]=_0x2105c3=>{var _0x172106=_0x31f558;if(!_0x2105c3||!_0x2105c3['block'])return undefined;var _0x5a4253=0x1,_0x477a78=0x1;_0x2105c3[_0x172106(0x40a)]&&(_0x5a4253=_0x2105c3[_0x172106(0x40a)][_0x172106(0x4b4)]?_0x2105c3[_0x172106(0x40a)]['rangeMin']:0x1,_0x477a78=_0x2105c3[_0x172106(0x40a)][_0x172106(0x315)]?_0x2105c3['data'][_0x172106(0x315)]:0x1);if(_0x5a4253>_0x477a78){var _0x302761=_0x5a4253;_0x5a4253=_0x477a78,_0x477a78=_0x302761;}var _0x149297=[],_0x36ad16=_0x2105c3[_0x172106(0x320)],_0xa5cd22=this[_0x172106(0x27a)](_0x36ad16),_0x20949f=-0x1,_0x48bb25=_0x36ad16['x'],_0x495186=_0x36ad16['y'],_0xd7d4a1=world[_0x172106(0x212)]['mapBlock'];while(++_0x20949f<=_0x477a78){if(_0x20949f>=_0x5a4253){if(_0xd7d4a1[_0x48bb25]&&_0xd7d4a1[_0x48bb25][_0x495186])_0x149297['push'](_0xd7d4a1[_0x48bb25][_0x495186]);}_0x48bb25+=_0xa5cd22[0x0],_0x495186+=_0xa5cd22[0x1];}return _0x149297;},this[_0x31f558(0x57f)]=_0x2e695=>{var _0x478b96=_0x31f558;if(!_0x2e695||!_0x2e695[_0x478b96(0x320)])return undefined;var _0x2a8b63=0x1,_0x262db5=0x1;_0x2e695[_0x478b96(0x40a)]&&(_0x2a8b63=_0x2e695[_0x478b96(0x40a)][_0x478b96(0x4b4)]?_0x2e695['data'][_0x478b96(0x4b4)]:0x1,_0x262db5=_0x2e695[_0x478b96(0x40a)][_0x478b96(0x315)]?_0x2e695['data'][_0x478b96(0x315)]:0x1);if(_0x2a8b63>_0x262db5){var _0x7cfdf1=_0x2a8b63;_0x2a8b63=_0x262db5,_0x262db5=_0x7cfdf1;}var _0x26ad48=[],_0x2024e3=_0x2e695[_0x478b96(0x320)],_0xe45035=world[_0x478b96(0x212)][_0x478b96(0x2e0)];for(var _0xf9d40a=_0x2024e3['x']-_0x262db5;_0xf9d40a<=_0x2024e3['x']+_0x262db5;_0xf9d40a++){for(var _0x4f2102=_0x2024e3['y']-_0x262db5;_0x4f2102<=_0x2024e3['y']+_0x262db5;_0x4f2102++){var _0x118a0c=dist(_0x2024e3['x'],_0x2024e3['y'],_0xf9d40a,_0x4f2102);if(_0x118a0c<_0x2a8b63||_0x118a0c>_0x262db5)continue;if(_0xe45035[_0xf9d40a]&&_0xe45035[_0xf9d40a][_0x4f2102])_0x26ad48[_0x478b96(0x32f)](_0xe45035[_0xf9d40a][_0x4f2102]);}}return _0x26ad48;},this['getBlocksAtRangeFromPlayer']=_0x259b52=>{var _0x12e61a=_0x31f558;if(!_0x259b52||!_0x259b52[_0x12e61a(0x4b4)]||!_0x259b52[_0x12e61a(0x315)])return[];var _0x2ac1c2=[],_0x52dcfa=this,_0x5e37f1=_0x259b52['rangeMin'],_0xc9bd3b=_0x259b52[_0x12e61a(0x315)];for(var _0x527e40=_0x52dcfa['x']-_0xc9bd3b;_0x527e40<_0x52dcfa['x']+_0x52dcfa['size']+_0xc9bd3b;_0x527e40++)for(var _0x17c725=_0x52dcfa['y']-_0xc9bd3b;_0x17c725<_0x52dcfa['y']+_0x52dcfa[_0x12e61a(0x2f0)]+_0xc9bd3b;_0x17c725++)if(_0x527e40<=_0x52dcfa['x']-_0x5e37f1||_0x527e40>=_0x52dcfa['x']+_0x52dcfa[_0x12e61a(0x2f0)]+_0x5e37f1-0x1||_0x17c725<=_0x52dcfa['y']-_0x5e37f1||_0x17c725>=_0x52dcfa['y']+_0x52dcfa[_0x12e61a(0x2f0)]+_0x5e37f1-0x1){if(world[_0x12e61a(0x212)][_0x12e61a(0x2e0)][_0x527e40]&&world[_0x12e61a(0x212)]['mapBlock'][_0x527e40][_0x17c725])_0x2ac1c2['push'](world[_0x12e61a(0x212)]['mapBlock'][_0x527e40][_0x17c725]);}return _0x2ac1c2;},this[_0x31f558(0x54d)]=_0x55d30f=>{var _0x5f57b4=_0x31f558;if(!_0x55d30f||!_0x55d30f[_0x5f57b4(0x320)])return undefined;var _0x4fae71=_0x55d30f[_0x5f57b4(0x320)];if(_0x4fae71['player']==this)return 0x0;var _0x33cc39;if(this['x']>=_0x4fae71['x']&&this['x']+this[_0x5f57b4(0x2f0)]<=_0x4fae71['x'])_0x33cc39=0x0;else{if(this['x']<_0x4fae71['x'])_0x33cc39=this['x']-_0x4fae71['x'];else _0x33cc39=this['x']+this[_0x5f57b4(0x2f0)]-_0x4fae71['x']-0x1;}var _0x25ec3b;if(this['y']>=_0x4fae71['y']&&this['y']+this[_0x5f57b4(0x2f0)]<=_0x4fae71['y'])_0x25ec3b=0x0;else{if(this['x']<_0x4fae71['x'])_0x25ec3b=this['y']-_0x4fae71['y'];else _0x25ec3b=this['y']+this[_0x5f57b4(0x2f0)]-_0x4fae71['y']-0x1;}return console[_0x5f57b4(0x4d5)](_0x5f57b4(0x4ca)+[_0x4fae71['x'],_0x4fae71['y']]+'\x20dist\x20'+Math[_0x5f57b4(0x2b4)](_0x33cc39*_0x33cc39+_0x25ec3b*_0x25ec3b)),Math['sqrt'](_0x33cc39*_0x33cc39+_0x25ec3b*_0x25ec3b);},this[_0x31f558(0x481)]=_0x43c50b=>{var _0x119b6e=_0x31f558;if(!_0x43c50b||!_0x43c50b[_0x119b6e(0x4b4)]||!_0x43c50b[_0x119b6e(0x315)])return[];var _0x574f12=[],_0x233c0f=this,_0x5311ee=_0x233c0f['x']+_0x233c0f[_0x119b6e(0x2f0)]/0x2-0.5,_0x140465=_0x233c0f['y']+_0x233c0f[_0x119b6e(0x2f0)]/0x2-0.5,_0x590b47=_0x43c50b['rangeMin']+_0x233c0f[_0x119b6e(0x2f0)]/0x2-0.5,_0x4889a3=_0x43c50b[_0x119b6e(0x315)]+_0x233c0f[_0x119b6e(0x2f0)]/0x2-0.5;for(var _0x621df0=Math[_0x119b6e(0x3f8)](_0x233c0f['x']-_0x4889a3);_0x621df0<Math[_0x119b6e(0x3f8)](_0x233c0f['x']+_0x233c0f['size']+_0x4889a3);_0x621df0++)for(var _0x4726f4=Math[_0x119b6e(0x3f8)](_0x233c0f['y']-_0x4889a3);_0x4726f4<Math[_0x119b6e(0x3f8)](_0x233c0f['y']+_0x233c0f['size']+_0x4889a3);_0x4726f4++)if(world[_0x119b6e(0x212)][_0x119b6e(0x2e0)][_0x621df0]&&world['map']['mapBlock'][_0x621df0][_0x4726f4]&&this['getDistToABlock']({'block':world[_0x119b6e(0x212)][_0x119b6e(0x2e0)][_0x621df0][_0x4726f4]})<=Math[_0x119b6e(0x3f8)](_0x4889a3)&&this[_0x119b6e(0x54d)]({'block':world[_0x119b6e(0x212)][_0x119b6e(0x2e0)][_0x621df0][_0x4726f4]})>=Math[_0x119b6e(0x394)](_0x590b47))_0x574f12['push'](world[_0x119b6e(0x212)][_0x119b6e(0x2e0)][_0x621df0][_0x4726f4]);return _0x574f12;},this[_0x31f558(0x498)]=_0x3bc30e=>{var _0x117c9e=_0x31f558;if(!this['face_type'])this['face_type']=PLAYER_FACE_IMG[Math[_0x117c9e(0x394)](Math[_0x117c9e(0x356)]()*PLAYER_FACE_IMG[_0x117c9e(0x289)])];if(!this['body_type'])this['body_type']=PLAYER_BODY_IMG[Math[_0x117c9e(0x394)](Math[_0x117c9e(0x356)]()*PLAYER_BODY_IMG[_0x117c9e(0x289)])];var _0x33623f=[];_0x33623f[_0x117c9e(0x32f)]({'name':this[_0x117c9e(0x433)],'needColor':!![]}),_0x33623f[_0x117c9e(0x32f)]({'name':this[_0x117c9e(0x2d7)],'needColor':![]});if(this[_0x117c9e(0x2a1)])_0x33623f[_0x117c9e(0x32f)]({'name':this[_0x117c9e(0x2a1)]['name'],'needColor':![]});for(var _0x28abbb in _0x33623f)if(!_0x3bc30e[_0x33623f[_0x28abbb][_0x117c9e(0x50c)]]||!_0x3bc30e[_0x33623f[_0x28abbb][_0x117c9e(0x50c)]][_0x117c9e(0x24d)])return console[_0x117c9e(0x4d5)]('can\x27t\x20with\x20'+_0x33623f[_0x28abbb][_0x117c9e(0x50c)]);var _0x3670cc=document[_0x117c9e(0x3e3)](_0x117c9e(0x507));_0x3670cc[_0x117c9e(0x56a)]=PLAYER_DEFAULT_SIZEX,_0x3670cc['height']=PLAYER_DEFAULT_SIZEY;var _0x5916a5=_0x3670cc[_0x117c9e(0x3c8)]('2d');for(var _0x28abbb in _0x33623f){var _0x3f05c8=_0x33623f[_0x28abbb][_0x117c9e(0x50c)];if(!_0x3bc30e[_0x3f05c8])return;var _0x5c4d28=undefined;if(_0x33623f[_0x28abbb]['needColor'])_0x5c4d28=_0x3bc30e[_0x3f05c8][_0x117c9e(0x40b)](0x0,0xff,0x0,this[_0x117c9e(0x3b0)]['r'],this[_0x117c9e(0x3b0)]['g'],this[_0x117c9e(0x3b0)]['b']);else _0x5c4d28=_0x3bc30e[_0x3f05c8][_0x117c9e(0x4dd)];if(!_0x5c4d28||!_0x5c4d28[_0x117c9e(0x41f)])return![];_0x5916a5[_0x117c9e(0x1f4)](_0x5c4d28,0x0,0x0);}var _0x5c4d28=new Image();_0x5c4d28[_0x117c9e(0x472)]=_0x3670cc['toDataURL'](),_0x5c4d28[_0x117c9e(0x590)]()[_0x117c9e(0x4f7)](()=>{var _0x3067c7=_0x117c9e;console[_0x3067c7(0x4d5)](_0x3067c7(0x21d)),this[_0x3067c7(0x382)]=!![];if(world[_0x3067c7(0x57b)])world['villageUI'][_0x3067c7(0x283)]=!![];if(world[_0x3067c7(0x4c1)])world[_0x3067c7(0x4c1)]['needRedraw']=!![];}),this[_0x117c9e(0x449)]=_0x5c4d28;if(!_0x3bc30e[_0x117c9e(0x3a9)]||!_0x3bc30e['hand'][_0x117c9e(0x4dd)][_0x117c9e(0x41f)])return![];var _0x5c4d28=_0x3bc30e[_0x117c9e(0x3a9)]['GetColorImage'](0x0,0xff,0x0,this[_0x117c9e(0x3b0)]['r'],this['color']['g'],this[_0x117c9e(0x3b0)]['b']);if(!_0x5c4d28)return![];return this[_0x117c9e(0x578)]=_0x5c4d28,!![];},this[_0x31f558(0x27a)]=_0x15411f=>{var _0x1103c5=_0x31f558;if(_0x15411f[_0x1103c5(0x320)])_0x15411f=_0x15411f[_0x1103c5(0x320)];var _0x28a351=Math[_0x1103c5(0x38d)](-(_0x15411f['y']-this['y']-this['size']/0x2+0.5),_0x15411f['x']-this['x']-this[_0x1103c5(0x2f0)]/0x2+0.5);if(_0x28a351>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0x28a351>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0x28a351>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0x28a351>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0x28a351>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0x28a351>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0x28a351>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0x28a351>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0x28a351>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x31f558(0x550)]=_0x1e6aea=>{var _0x132fcd=_0x31f558,_0x5d3dc1=_0x1e6aea[_0x132fcd(0x320)];if(!_0x5d3dc1||_0x5d3dc1['x']==undefined||_0x5d3dc1['y']==undefined)return![];var _0x34b964=this[_0x132fcd(0x27a)](_0x5d3dc1);if(_0x34b964)this[_0x132fcd(0x29a)]=_0x34b964;else return![];return!![];},this[_0x31f558(0x35d)]=(_0x368896,_0x2f42a3)=>{var _0x5b89dc=_0x31f558;for(var _0xb8873e=this['x'];_0xb8873e<this['x']+this[_0x5b89dc(0x2f0)];_0xb8873e++)for(var _0x4d30d8=this['y'];_0x4d30d8<this['y']+this['size'];_0x4d30d8++)_0x2f42a3['mapBlock'][_0xb8873e][_0x4d30d8][_0x5b89dc(0x3cb)]=undefined;for(var _0xb8873e=_0x368896['x'];_0xb8873e<_0x368896['x']+this['size'];_0xb8873e++){for(var _0x4d30d8=_0x368896['y'];_0x4d30d8<_0x368896['y']+this[_0x5b89dc(0x2f0)];_0x4d30d8++){_0x2f42a3[_0x5b89dc(0x2e0)][_0xb8873e][_0x4d30d8][_0x5b89dc(0x3cb)]=this;}}this['x']=_0x368896['x'],this['y']=_0x368896['y'];},this[_0x31f558(0x395)]=_0x5ac76a=>{var _0x32939c=_0x31f558;if(!_0x5ac76a||!_0x5ac76a['block']||_0x5ac76a[_0x32939c(0x320)]['x']==undefined||_0x5ac76a[_0x32939c(0x320)]['y']==undefined)return console[_0x32939c(0x4d5)]('CheckMoveTo\x20:\x20invalid\x20Input'),![];var _0x4dc744={'x':_0x5ac76a[_0x32939c(0x320)]['x'],'y':_0x5ac76a[_0x32939c(0x320)]['y']},_0x50a454=world['map'];if(_0x4dc744['x']+this[_0x32939c(0x2f0)]-0x1>=_0x50a454[_0x32939c(0x56a)]||_0x4dc744['x']<0x0||_0x4dc744['y']<0x0||_0x4dc744['y']+this[_0x32939c(0x2f0)]-0x1>=_0x50a454[_0x32939c(0x48b)])return console[_0x32939c(0x4d5)]('CheckMoveTo\x20:\x20invalid\x20block'),![];var _0x276f2c;if(_0x4dc744['x']==this['x']-0x1&&_0x4dc744['y']>=this['y']&&this['y']+this[_0x32939c(0x2f0)]>_0x4dc744['y'])_0x4dc744['y']=this['y'],_0x276f2c=_0x32939c(0x1a4);else{if(_0x4dc744['y']==this['y']-0x1&&_0x4dc744['x']>=this['x']&&this['x']+this[_0x32939c(0x2f0)]>_0x4dc744['x'])_0x4dc744['x']=this['x'],_0x276f2c=_0x32939c(0x1c9);else{if(_0x4dc744['x']==this['x']+this['size']&&_0x4dc744['y']>=this['y']&&this['y']+this['size']>_0x4dc744['y'])_0x4dc744['y']=this['y'],_0x4dc744['x']=this['x']+0x1,_0x276f2c=_0x32939c(0x53b);else{if(_0x4dc744['y']==this['y']+this[_0x32939c(0x2f0)]&&_0x4dc744['x']>=this['x']&&this['x']+this[_0x32939c(0x2f0)]>_0x4dc744['x'])_0x4dc744['x']=this['x'],_0x4dc744['y']=this['y']+0x1,_0x276f2c=_0x32939c(0x514);else return console[_0x32939c(0x4d5)](_0x32939c(0x336)),![];}}}for(var _0x43eb84=_0x4dc744['x'];_0x43eb84<_0x4dc744['x']+this[_0x32939c(0x2f0)];_0x43eb84++){for(var _0x46f476=_0x4dc744['y'];_0x46f476<_0x4dc744['y']+this[_0x32939c(0x2f0)];_0x46f476++){if(_0x50a454[_0x32939c(0x2e0)][_0x43eb84][_0x46f476]['player']&&_0x50a454[_0x32939c(0x2e0)][_0x43eb84][_0x46f476]['player']!=this)return console[_0x32939c(0x4d5)](_0x32939c(0x373)),![];}}var _0xddfeb8=world[_0x32939c(0x212)][_0x32939c(0x39e)]({'player':this,'dir':_0x276f2c});if(_0xddfeb8===![])return console[_0x32939c(0x4d5)](_0x32939c(0x2b8)),![];return{'dir':_0x276f2c,'cost':Math[_0x32939c(0x394)](_0xddfeb8*this[_0x32939c(0x1ab)])};},this[_0x31f558(0x285)]=_0xc58ea9=>{var _0x52b54a=_0x31f558,_0x52d0eb=this[_0x52b54a(0x395)](_0xc58ea9);if(_0x52d0eb)return _0x52d0eb[_0x52b54a(0x4a2)];return![];},this[_0x31f558(0x2ef)]=_0xafeadf=>{var _0x144707=_0x31f558,_0x453c81=this[_0x144707(0x395)](_0xafeadf);if(_0x453c81)return _0x453c81[_0x144707(0x29a)];return![];},this[_0x31f558(0x54c)]=_0x2a5244=>{var _0x40174e=_0x31f558;if(!_0x2a5244||!_0x2a5244[_0x40174e(0x320)]||_0x2a5244[_0x40174e(0x320)]['x']==undefined||_0x2a5244[_0x40174e(0x320)]['y']==undefined)return![];var _0xe3d582=this['CheckMoveTo'](_0x2a5244);if(_0xe3d582===![]||_0xe3d582[_0x40174e(0x4a2)]>this['ActionPoint'])return![];var _0x1a0fcf=undefined;switch(_0xe3d582['dir']){case _0x40174e(0x53b):_0x1a0fcf=[0x1,0x0];break;case _0x40174e(0x1a4):_0x1a0fcf=[-0x1,0x0];break;case _0x40174e(0x1c9):_0x1a0fcf=[0x0,-0x1];break;case _0x40174e(0x514):_0x1a0fcf=[0x0,0x1];break;default:console['log'](_0x40174e(0x336));return![];}this[_0x40174e(0x3d2)]-=_0xe3d582['cost'];var _0x4c0002={'type':_0x40174e(0x1b9),'mode':PLAYER_ANIMATION_MOVING,'dir':_0x1a0fcf,'from':[this['x'],this['y']],'duration':0x1f4};this[_0x40174e(0x2c8)]['push'](_0x4c0002),this[_0x40174e(0x29a)]=_0x1a0fcf;var _0x16208b={'x':this['x']+_0x1a0fcf[0x0],'y':this['y']+_0x1a0fcf[0x1]};return this[_0x40174e(0x35d)](_0x16208b,world[_0x40174e(0x212)]),!![];},this[_0x31f558(0x277)]=_0x332189=>{var _0x4e61b6=_0x31f558;if(!_0x332189||!_0x332189['block'])return _0x4e61b6(0x596);var _0x161754=_0x332189[_0x4e61b6(0x320)];if(!_0x161754['player']||_0x161754[_0x4e61b6(0x3cb)]==this)return _0x4e61b6(0x2e7);var _0x31cbc6=_0x161754[_0x4e61b6(0x3cb)],_0x4a6c81=Math[_0x4e61b6(0x38d)](_0x31cbc6['dir'][0x1],_0x31cbc6[_0x4e61b6(0x29a)][0x0]),_0xca64a0=Math[_0x4e61b6(0x38d)](this['y']-_0x31cbc6['y'],this['x']-_0x31cbc6['x']),_0x496908=_0x4a6c81-_0xca64a0;while(_0x496908>Math['PI'])_0x496908-=0x2*Math['PI'];while(_0x496908<-Math['PI'])_0x496908+=0x2*Math['PI'];_0x496908=Math[_0x4e61b6(0x425)](_0x496908);var _0x5d901f=0x28+(0x50-0x28)*(_0x496908/Math['PI']);return Math[_0x4e61b6(0x394)](_0x5d901f*0x64)/0x64;},this[_0x31f558(0x4be)]=_0x2acc8a=>{var _0x6658ff=_0x31f558;if(!_0x2acc8a||!_0x2acc8a['block'])return![];var _0x1293f9=undefined,_0x51b855=[];if(this[_0x6658ff(0x1ff)]){if(this['ActionPoint']<this[_0x6658ff(0x1ff)][_0x6658ff(0x55b)])return![];world[_0x6658ff(0x4cc)][_0x6658ff(0x3da)][_0x6658ff(0x556)]({'type':this[_0x6658ff(0x28e)],'txt':this[_0x6658ff(0x50c)]+_0x6658ff(0x2e9)+this[_0x6658ff(0x1ff)][_0x6658ff(0x50c)]});for(var _0x337cce in this[_0x6658ff(0x1ff)][_0x6658ff(0x3af)]){var _0x137539=this[_0x6658ff(0x1ff)][_0x6658ff(0x3af)][_0x337cce],_0x1fe420={..._0x2acc8a};_0x1fe420[_0x6658ff(0x40a)]=_0x137539[_0x6658ff(0x1a0)];var _0x5196c9=this[_0x137539[_0x6658ff(0x3bc)]](_0x1fe420);console[_0x6658ff(0x4d5)](_0x6658ff(0x1d2)+_0x337cce),console[_0x6658ff(0x4d5)](_0x6658ff(0x216)+_0x137539[_0x6658ff(0x3bc)]);if(!_0x5196c9||_0x5196c9['length']<0x1)continue;console['log'](_0x6658ff(0x52d)+_0x5196c9[_0x6658ff(0x289)]),_0x51b855[_0x6658ff(0x32f)]({'blocks':_0x5196c9,'damage':_0x137539[_0x6658ff(0x552)]});}}else{if(this[_0x6658ff(0x3d2)]<AP_COST_NOWEAPON)return![];world[_0x6658ff(0x4cc)][_0x6658ff(0x3da)][_0x6658ff(0x556)]({'type':this[_0x6658ff(0x28e)],'txt':this[_0x6658ff(0x50c)]+_0x6658ff(0x46f)}),_0x51b855=[{'blocks':[_0x2acc8a[_0x6658ff(0x320)]],'damage':[{'stats':_0x6658ff(0x53e),'type':_0x6658ff(0x35b),'value':0x1}]}];}for(var _0x337cce in _0x51b855){var _0x1699b8=_0x51b855[_0x337cce],_0x2592a6=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x1699b8[_0x6658ff(0x393)]}),_0x33538c=!![];if(!_0x2592a6||_0x2592a6[_0x6658ff(0x289)]<0x1)continue;for(var _0x5d8b91 in _0x1699b8[_0x6658ff(0x417)]){var _0x5ac96b=_0x1699b8[_0x6658ff(0x417)][_0x5d8b91];if(!_0x5ac96b||!_0x5ac96b['player'])continue;var _0x644e25=this[_0x6658ff(0x277)]({'block':_0x5ac96b}),_0x4475c0=!![];if(Math[_0x6658ff(0x394)](Math['random']()*0x64)>_0x644e25)_0x4475c0=![];if(_0x4475c0)_0x33538c=![],_0x5ac96b['player'][_0x6658ff(0x47e)](_0x2592a6);else{world[_0x6658ff(0x4cc)][_0x6658ff(0x3da)][_0x6658ff(0x556)]({'txt':this[_0x6658ff(0x50c)]+_0x6658ff(0x28b)+_0x644e25+'%)'});var _0xbd71ab={'type':_0x6658ff(0x346),'mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x6658ff(0x356)]()*0x2*Math['PI']};_0x5ac96b[_0x6658ff(0x3cb)][_0x6658ff(0x2c8)][_0x6658ff(0x32f)](_0xbd71ab);}}}var _0x36e01a={'type':_0x6658ff(0x4be),'mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0x2acc8a[_0x6658ff(0x320)]['x'],_0x2acc8a[_0x6658ff(0x320)]['y']],'from':[this['x'],this['y']],'duration':0x1f4};this[_0x6658ff(0x1ff)]&&this['weapon'][_0x6658ff(0x2f9)]&&(_0x36e01a[_0x6658ff(0x2f9)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0x2acc8a[_0x6658ff(0x320)]['x']+0.5,'y':_0x2acc8a['block']['y']+0.5},'projectilName':this[_0x6658ff(0x1ff)]['projectil']['ammo']?this['weapon'][_0x6658ff(0x2f9)][_0x6658ff(0x44c)]:undefined,'projectilSpeed':this[_0x6658ff(0x1ff)]['projectil'][_0x6658ff(0x456)]?this[_0x6658ff(0x1ff)][_0x6658ff(0x2f9)][_0x6658ff(0x456)]:0x32,'sound':this[_0x6658ff(0x1ff)][_0x6658ff(0x2f9)]['sound']&&!_0x33538c?this[_0x6658ff(0x1ff)][_0x6658ff(0x2f9)][_0x6658ff(0x59b)]:undefined});this[_0x6658ff(0x2c8)][_0x6658ff(0x32f)](_0x36e01a);if(this[_0x6658ff(0x1ff)]){var _0x2dfb98=PLAYER_WEAPON_IMG['find'](_0x4bb60c=>_0x4bb60c[_0x6658ff(0x50c)]==this[_0x6658ff(0x1ff)]['img']);world[_0x6658ff(0x4ff)][_0x6658ff(0x41c)](_0x2dfb98[_0x6658ff(0x59b)]),this[_0x6658ff(0x3d2)]-=this[_0x6658ff(0x1ff)]['actionCost'];}else world['Music'][_0x6658ff(0x41c)](_0x6658ff(0x41e)),this['ActionPoint']-=AP_COST_NOWEAPON;return this['dir']=this[_0x6658ff(0x27a)](_0x2acc8a['block']),!![];},this[_0x31f558(0x352)]=(_0xeeca94,_0x5be93d,_0x5573eb,_0x58e3de)=>{var _0x2775b9=_0x31f558,_0x3a00e6=new Date()[_0x2775b9(0x2fd)]();while(this['animation']&&this[_0x2775b9(0x2c8)][0x0]){!this['animation'][0x0][_0x2775b9(0x465)]&&(this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x465)]=new Date()['getTime']());if(_0x3a00e6>this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x465)]+this['animation'][0x0][_0x2775b9(0x26b)]){if(this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x2f9)])world[_0x2775b9(0x4cc)][_0x2775b9(0x439)](this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x2f9)]);this[_0x2775b9(0x2c8)][_0x2775b9(0x30e)](),this['needUIRedraw']=!![];}else break;}if(!this[_0x2775b9(0x382)]||!this['bodyPartImg'])return![];if(this[_0x2775b9(0x1ff)]){var _0xd60604=world[_0x2775b9(0x383)][this['weapon'][_0x2775b9(0x50c)]],_0x4c18d4=PLAYER_WEAPON_IMG[_0x2775b9(0x275)](_0x29abce=>_0x29abce['name']==this['weapon']['img']);if(!_0xd60604||!_0x4c18d4)return console[_0x2775b9(0x4d5)](_0x2775b9(0x2f1)+this[_0x2775b9(0x1ff)][_0x2775b9(0x50c)]);_0x4c18d4=_0x4c18d4[_0x2775b9(0x1aa)];}if(!this[_0x2775b9(0x2c8)]||!this[_0x2775b9(0x2c8)][0x0]){var _0x3f93fd=Math[_0x2775b9(0x394)](_0x5be93d+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x38f)]/0x2),_0x158d6a=Math[_0x2775b9(0x394)](_0x5573eb+this['size']*_0x58e3de['blocksize_y']/0x2),_0x16b66c=Math['atan2'](this[_0x2775b9(0x29a)][0x0],-this['dir'][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x1f4));_0xeeca94['drawImageRotate'](this[_0x2775b9(0x449)],_0x3f93fd,_0x158d6a,_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)],_0x16b66c);var _0x954b65=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x12c)),_0x425e51=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3b9)](_0x954b65+_0x16b66c-Math['PI']/0x2)),_0x4829d1=Math['floor'](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x954b65+_0x16b66c-Math['PI']/0x2)),_0x5725cc=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this['size']*Math['cos'](-_0x954b65+_0x16b66c+Math['PI']/0x2)),_0x1ff0a3=Math['floor'](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](-_0x954b65+_0x16b66c+Math['PI']/0x2));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a+_0x4829d1,_0x58e3de[_0x2775b9(0x45f)],_0x954b65+_0x16b66c);if(this[_0x2775b9(0x1ff)])_0xeeca94[_0x2775b9(0x4b7)](_0xd60604[_0x2775b9(0x4dd)],_0x3f93fd+_0x5725cc,_0x158d6a+_0x1ff0a3,_0x4c18d4['x'],_0x4c18d4['y'],_0x58e3de[_0x2775b9(0x45f)],-_0x954b65+_0x16b66c);_0xeeca94[_0x2775b9(0x1d8)](this[_0x2775b9(0x578)],_0x3f93fd+_0x5725cc,_0x158d6a+_0x1ff0a3,0x14,0x14,-_0x58e3de[_0x2775b9(0x45f)],+_0x954b65-_0x16b66c);}else{if(this['animation']&&this[_0x2775b9(0x2c8)][0x0]&&this[_0x2775b9(0x2c8)][0x0]['mode']==PLAYER_ANIMATION_MOVING){var _0xe49d92=this['animation'][0x0];pos=_0x58e3de[_0x2775b9(0x22f)](_0xe49d92[_0x2775b9(0x3b4)][0x0]+_0xe49d92[_0x2775b9(0x29a)][0x0],_0xe49d92['from'][0x1]+_0xe49d92[_0x2775b9(0x29a)][0x1]);var _0x3f93fd=Math[_0x2775b9(0x394)](pos['x']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x38f)]/0x2),_0x158d6a=Math['floor'](pos['y']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x3ff)]/0x2);world['Music'][_0x2775b9(0x41c)](_0x2775b9(0x4fb));var _0x52d77=[this[_0x2775b9(0x2c8)][0x0]['dir'][0x0],this[_0x2775b9(0x2c8)][0x0]['dir'][0x1]],_0x5e0a44=0x1-(_0x3a00e6-this['animation'][0x0][_0x2775b9(0x465)])/this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x26b)];_0x3f93fd-=_0x52d77[0x0]*_0x58e3de[_0x2775b9(0x38f)]*_0x5e0a44,_0x158d6a-=_0x52d77[0x1]*_0x58e3de[_0x2775b9(0x3ff)]*_0x5e0a44;var _0x16b66c=Math[_0x2775b9(0x38d)](_0x52d77[0x0],-_0x52d77[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math['cos'](_0x3a00e6/0x64));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x449)],_0x3f93fd,_0x158d6a,_0x58e3de['scale']*this[_0x2775b9(0x2f0)],_0x16b66c);var _0x4f10f8=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x64))+_0x16b66c,_0x3001ba=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x2775b9(0x3a3)](_0x3a00e6/0x64))-_0x16b66c,_0x425e51=Math['floor'](0x64*_0x58e3de[_0x2775b9(0x45f)]*this['size']*Math['cos'](_0x4f10f8-Math['PI']/0x2)),_0x4829d1=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x4f10f8-Math['PI']/0x2)),_0x3f70e8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3b9)](_0x3001ba-Math['PI']/0x2)),_0x15e1a8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x3001ba-Math['PI']/0x2));_0xeeca94['drawImageRotate'](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a+_0x4829d1,_0x58e3de[_0x2775b9(0x45f)],_0x4f10f8);if(this[_0x2775b9(0x1ff)])_0xeeca94[_0x2775b9(0x4b7)](_0xd60604[_0x2775b9(0x4dd)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,_0x4c18d4['x'],_0x4c18d4['y'],_0x58e3de[_0x2775b9(0x45f)],-_0x3001ba);_0xeeca94['drawImageMirrorRotateCenter'](this[_0x2775b9(0x578)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,0x14,0x14,_0x58e3de[_0x2775b9(0x45f)],_0x3001ba+Math['PI']);}else{if(this[_0x2775b9(0x2c8)]&&this[_0x2775b9(0x2c8)][0x0]&&this[_0x2775b9(0x2c8)][0x0]['mode']==PLAYER_ANIMATION_DODGE){var _0xe49d92=this[_0x2775b9(0x2c8)][0x0],_0x5e0a44=0x1-(_0x3a00e6-_0xe49d92['startTime'])/_0xe49d92[_0x2775b9(0x26b)];_0x5e0a44=_0x5e0a44<0.5?0x0:_0x5e0a44>0.75?0x1-(_0x5e0a44-0.5)*0x2:(_0x5e0a44-0.5)*0x2;var _0x5ae5e8=_0x5e0a44*Math['cos'](_0xe49d92[_0x2775b9(0x47c)])*0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)],_0x25dea1=_0x5e0a44*Math['sin'](_0xe49d92['angle'])*0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)],_0x3f93fd=_0x5ae5e8+Math['floor'](_0x5be93d+this['size']*_0x58e3de['blocksize_x']/0x2),_0x158d6a=_0x25dea1+Math[_0x2775b9(0x394)](_0x5573eb+this['size']*_0x58e3de[_0x2775b9(0x3ff)]/0x2),_0x16b66c=Math['atan2'](this[_0x2775b9(0x29a)][0x0],-this[_0x2775b9(0x29a)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x1f4));_0xeeca94[_0x2775b9(0x565)](this['bodyPartImg'],_0x3f93fd,_0x158d6a,_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)],_0x16b66c);var _0x954b65=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x12c)),_0x425e51=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3b9)](_0x954b65+_0x16b66c-Math['PI']/0x2)),_0x4829d1=Math[_0x2775b9(0x394)](0x64*_0x58e3de['scale']*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x954b65+_0x16b66c-Math['PI']/0x2)),_0x5725cc=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this['size']*Math[_0x2775b9(0x3b9)](-_0x954b65+_0x16b66c+Math['PI']/0x2)),_0x1ff0a3=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](-_0x954b65+_0x16b66c+Math['PI']/0x2));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a+_0x4829d1,_0x58e3de['scale'],_0x954b65+_0x16b66c);if(this[_0x2775b9(0x1ff)])_0xeeca94['drawImageRotateCenter'](_0xd60604[_0x2775b9(0x4dd)],_0x3f93fd+_0x5725cc,_0x158d6a+_0x1ff0a3,_0x4c18d4['x'],_0x4c18d4['y'],_0x58e3de[_0x2775b9(0x45f)],-_0x954b65+_0x16b66c);_0xeeca94[_0x2775b9(0x1d8)](this['handImg'],_0x3f93fd+_0x5725cc,_0x158d6a+_0x1ff0a3,0x14,0x14,-_0x58e3de[_0x2775b9(0x45f)],+_0x954b65-_0x16b66c);}else{if(this[_0x2775b9(0x2c8)]&&this[_0x2775b9(0x2c8)][0x0]&&this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x3e1)]==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this[_0x2775b9(0x1ff)]){pos=_0x58e3de[_0x2775b9(0x22f)](this['animation'][0x0][_0x2775b9(0x3b4)][0x0],this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x3b4)][0x1]);var _0x3f93fd=Math[_0x2775b9(0x394)](pos['x']+this['size']*_0x58e3de['blocksize_x']/0x2),_0x158d6a=Math[_0x2775b9(0x394)](pos['y']+this['size']*_0x58e3de['blocksize_y']/0x2),_0x52d77=[this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x0]-(this['x']+this[_0x2775b9(0x2f0)]/0x2)+0.5,this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x1]-(this['y']+this[_0x2775b9(0x2f0)]/0x2)+0.5],_0x5e0a44=0x1-(_0x3a00e6-this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x465)])/this[_0x2775b9(0x2c8)][0x0]['duration'];if(_0x5e0a44>0.5)_0x5e0a44=0x1-_0x5e0a44;_0x3f93fd+=_0x52d77[0x0]*_0x58e3de['blocksize_x']*_0x5e0a44,_0x158d6a+=_0x52d77[0x1]*_0x58e3de[_0x2775b9(0x3ff)]*_0x5e0a44;var _0x16b66c=Math[_0x2775b9(0x38d)](_0x52d77[0x0],-_0x52d77[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x64));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x449)],_0x3f93fd,_0x158d6a,_0x58e3de['scale']*this['size'],_0x16b66c);var _0x4f10f8=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x64))+_0x16b66c,_0x3001ba=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x2775b9(0x3a3)](_0x3a00e6/0x64))-_0x16b66c,_0x425e51=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3b9)](_0x4f10f8-Math['PI']/0x2)),_0x4829d1=Math[_0x2775b9(0x394)](0x64*_0x58e3de['scale']*this['size']*Math['sin'](_0x4f10f8-Math['PI']/0x2)),_0x3f70e8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this['size']*Math[_0x2775b9(0x3b9)](_0x3001ba-Math['PI']/0x2)),_0x15e1a8=Math['floor'](0x64*_0x58e3de['scale']*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x3001ba-Math['PI']/0x2));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a+_0x4829d1,_0x58e3de[_0x2775b9(0x45f)],_0x4f10f8),_0xeeca94[_0x2775b9(0x1d8)](this['handImg'],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,0x14,0x14,_0x58e3de[_0x2775b9(0x45f)],_0x3001ba+Math['PI']);}else{if(this[_0x2775b9(0x1ff)][_0x2775b9(0x528)]=='sword'){pos=_0x58e3de[_0x2775b9(0x22f)](this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x3b4)][0x0],this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x3b4)][0x1]);var _0x3f93fd=Math[_0x2775b9(0x394)](pos['x']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x38f)]/0x2),_0x158d6a=Math[_0x2775b9(0x394)](pos['y']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x3ff)]/0x2),_0x52d77=[this['animation'][0x0][_0x2775b9(0x29a)][0x0]-(this['x']+this[_0x2775b9(0x2f0)]/0x2)+0.5,this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x1]-(this['y']+this[_0x2775b9(0x2f0)]/0x2)+0.5],_0x5e0a44=0x1-(_0x3a00e6-this[_0x2775b9(0x2c8)][0x0]['startTime'])/this['animation'][0x0][_0x2775b9(0x26b)];if(_0x5e0a44>0.5)_0x5e0a44=0x1-_0x5e0a44;_0x3f93fd+=_0x52d77[0x0]*_0x58e3de['blocksize_x']*_0x5e0a44,_0x158d6a+=_0x52d77[0x1]*_0x58e3de[_0x2775b9(0x3ff)]*_0x5e0a44;var _0x16b66c=Math[_0x2775b9(0x38d)](_0x52d77[0x0],-_0x52d77[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x64));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x449)],_0x3f93fd,_0x158d6a,_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)],_0x16b66c);var _0x4f10f8=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x64))+_0x16b66c,_0x3001ba=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math['sin'](_0x3a00e6/0x64))-_0x16b66c,_0x425e51=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this['size']*Math[_0x2775b9(0x3b9)](_0x4f10f8-Math['PI']/0x2)),_0x4829d1=Math['floor'](0x64*_0x58e3de[_0x2775b9(0x45f)]*this['size']*Math[_0x2775b9(0x3a3)](_0x4f10f8-Math['PI']/0x2)),_0x3f70e8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3b9)](_0x3001ba-Math['PI']/0x2)),_0x15e1a8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x3001ba-Math['PI']/0x2));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a+_0x4829d1,_0x58e3de[_0x2775b9(0x45f)],_0x4f10f8);if(this['weapon'])_0xeeca94[_0x2775b9(0x4b7)](_0xd60604[_0x2775b9(0x4dd)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,_0x4c18d4['x'],_0x4c18d4['y'],_0x58e3de[_0x2775b9(0x45f)],-_0x3001ba);_0xeeca94[_0x2775b9(0x1d8)](this[_0x2775b9(0x578)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,0x14,0x14,_0x58e3de[_0x2775b9(0x45f)],_0x3001ba+Math['PI']);}else{if(this[_0x2775b9(0x1ff)][_0x2775b9(0x528)]==_0x2775b9(0x41b)){pos=_0x58e3de['get_pixel_by_block'](this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x3b4)][0x0],this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x3b4)][0x1]);var _0x3f93fd=Math[_0x2775b9(0x394)](pos['x']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x38f)]/0x2),_0x158d6a=Math[_0x2775b9(0x394)](pos['y']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x3ff)]/0x2),_0x52d77=[this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x1]-(this['y']+this[_0x2775b9(0x2f0)]/0x2)+0.5],_0x5e0a44=0x1-(_0x3a00e6-this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x465)])/this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x26b)];if(_0x5e0a44>0.5)_0x5e0a44=0x1-_0x5e0a44;var _0x16b66c=Math[_0x2775b9(0x38d)](_0x52d77[0x0],-_0x52d77[0x1])-Math['PI']/0x2;_0xeeca94[_0x2775b9(0x565)](this['bodyPartImg'],_0x3f93fd,_0x158d6a,_0x58e3de['scale']*this[_0x2775b9(0x2f0)],_0x16b66c);var _0x4f10f8=Math['PI']*0x7/0x10+_0x16b66c,_0x3001ba=Math['PI']*0x7/0x10-_0x16b66c,_0x425e51=Math['floor'](0x64*(0x1-_0x5e0a44)*_0x58e3de['scale']*this['size']*Math[_0x2775b9(0x3b9)](_0x4f10f8-Math['PI']/0x2)),_0x4829d1=Math['floor'](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x4f10f8-Math['PI']/0x2)),_0x3f70e8=Math['floor'](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math['cos'](_0x3001ba-Math['PI']/0x2)),_0x15e1a8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x3001ba-Math['PI']/0x2));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a+_0x4829d1,_0x58e3de[_0x2775b9(0x45f)],_0x4f10f8);if(this[_0x2775b9(0x1ff)])_0xeeca94[_0x2775b9(0x4b7)](_0xd60604[_0x2775b9(0x4dd)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,_0x4c18d4['x'],_0x4c18d4['y'],_0x58e3de[_0x2775b9(0x45f)],-_0x3001ba);_0xeeca94['drawImageMirrorRotateCenter'](this[_0x2775b9(0x578)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,0x14,0x14,_0x58e3de[_0x2775b9(0x45f)],_0x3001ba+Math['PI']);}else{if(this[_0x2775b9(0x1ff)]['anim']==_0x2775b9(0x4e8)){pos=_0x58e3de[_0x2775b9(0x22f)](this['animation'][0x0][_0x2775b9(0x3b4)][0x0],this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x3b4)][0x1]);var _0x3f93fd=Math['floor'](pos['x']+this['size']*_0x58e3de[_0x2775b9(0x38f)]/0x2),_0x158d6a=Math[_0x2775b9(0x394)](pos['y']+this['size']*_0x58e3de['blocksize_y']/0x2),_0x52d77=[this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x2775b9(0x2c8)][0x0]['dir'][0x1]-(this['y']+this['size']/0x2)+0.5],_0x5e0a44=0x1-(_0x3a00e6-this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x465)])/this[_0x2775b9(0x2c8)][0x0]['duration'];if(_0x5e0a44>0.5)_0x5e0a44=0x1-_0x5e0a44;_0x5e0a44=_0x5e0a44/0x3,_0x3f93fd+=_0x52d77[0x0]*_0x58e3de[_0x2775b9(0x38f)]*_0x5e0a44,_0x158d6a+=_0x52d77[0x1]*_0x58e3de[_0x2775b9(0x3ff)]*_0x5e0a44;var _0x16b66c=Math[_0x2775b9(0x38d)](_0x52d77[0x0],-_0x52d77[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x64));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x449)],_0x3f93fd,_0x158d6a,_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)],_0x16b66c);var _0x4f10f8=getAngleFromTime(0x0,Math['PI']/0x40,Math[_0x2775b9(0x3b9)](_0x3a00e6/0x64))+_0x16b66c,_0x3001ba=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math[_0x2775b9(0x3a3)]((_0x3a00e6-this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x465)])/this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x26b)]*1.1*Math['PI']))-_0x16b66c,_0x425e51=Math[_0x2775b9(0x394)](0x64*_0x58e3de['scale']*this['size']*Math[_0x2775b9(0x3b9)](_0x4f10f8-Math['PI']/0x2)),_0x4829d1=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math['sin'](_0x4f10f8-Math['PI']/0x2)),_0x3f70e8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this['size']*Math[_0x2775b9(0x3b9)](_0x3001ba-Math['PI']/0x2)),_0x15e1a8=Math[_0x2775b9(0x394)](0x64*_0x58e3de['scale']*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x3001ba-Math['PI']/0x2));_0xeeca94['drawImageRotate'](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a+_0x4829d1,_0x58e3de[_0x2775b9(0x45f)],_0x4f10f8);if(this['weapon'])_0xeeca94[_0x2775b9(0x4b7)](_0xd60604[_0x2775b9(0x4dd)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,_0x4c18d4['x'],_0x4c18d4['y'],_0x58e3de[_0x2775b9(0x45f)],_0x16b66c-Math['PI']/0x6);_0xeeca94['drawImageMirrorRotateCenter'](this[_0x2775b9(0x578)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,0x14,0x14,_0x58e3de['scale'],_0x3001ba+Math['PI']);}else{if(this[_0x2775b9(0x1ff)][_0x2775b9(0x528)]==_0x2775b9(0x4e7)){pos=_0x58e3de[_0x2775b9(0x22f)](this['animation'][0x0][_0x2775b9(0x3b4)][0x0],this[_0x2775b9(0x2c8)][0x0]['from'][0x1]);var _0x3f93fd=Math['floor'](pos['x']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x38f)]/0x2),_0x158d6a=Math[_0x2775b9(0x394)](pos['y']+this[_0x2775b9(0x2f0)]*_0x58e3de[_0x2775b9(0x3ff)]/0x2),_0x52d77=[this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x0]-(this['x']+this[_0x2775b9(0x2f0)]/0x2)+0.5,this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x29a)][0x1]-(this['y']+this[_0x2775b9(0x2f0)]/0x2)+0.5],_0x5e0a44=0x1-(_0x3a00e6-this['animation'][0x0]['startTime'])/this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x26b)];if(_0x5e0a44>0.5)_0x5e0a44=0x1-_0x5e0a44;_0x5e0a44=_0x5e0a44/0x3,_0x3f93fd+=_0x52d77[0x0]*_0x58e3de[_0x2775b9(0x38f)]*_0x5e0a44,_0x158d6a+=_0x52d77[0x1]*_0x58e3de[_0x2775b9(0x3ff)]*_0x5e0a44;var _0x16b66c=Math[_0x2775b9(0x38d)](_0x52d77[0x0],-_0x52d77[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math['cos']((_0x3a00e6-this['animation'][0x0][_0x2775b9(0x465)])/this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x26b)]*0x1*Math['PI']));_0xeeca94[_0x2775b9(0x565)](this[_0x2775b9(0x449)],_0x3f93fd,_0x158d6a,_0x58e3de[_0x2775b9(0x45f)]*this['size'],_0x16b66c);var _0x3001ba=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math[_0x2775b9(0x3b9)]((_0x3a00e6-this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x465)])/this[_0x2775b9(0x2c8)][0x0][_0x2775b9(0x26b)]*0x1*Math['PI']))-_0x16b66c,_0x4f10f8=_0x3001ba-Math['PI']/0x20,_0x425e51=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3b9)](_0x4f10f8-Math['PI']/0x2)),_0x4829d1=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x4f10f8-Math['PI']/0x2)),_0x3f70e8=Math[_0x2775b9(0x394)](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3b9)](_0x3001ba-Math['PI']/0x2)),_0x15e1a8=Math['floor'](0x64*_0x58e3de[_0x2775b9(0x45f)]*this[_0x2775b9(0x2f0)]*Math[_0x2775b9(0x3a3)](_0x3001ba-Math['PI']/0x2));_0xeeca94[_0x2775b9(0x1d8)](this[_0x2775b9(0x578)],_0x3f93fd+_0x425e51,_0x158d6a-_0x4829d1,0x14,0x14,_0x58e3de['scale'],_0x4f10f8+Math['PI']);if(this[_0x2775b9(0x1ff)])_0xeeca94[_0x2775b9(0x4b7)](_0xd60604[_0x2775b9(0x4dd)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,_0x4c18d4['x'],_0x4c18d4['y'],_0x58e3de['scale'],-_0x3001ba);_0xeeca94[_0x2775b9(0x1d8)](this[_0x2775b9(0x578)],_0x3f93fd+_0x3f70e8,_0x158d6a-_0x15e1a8,0x14,0x14,_0x58e3de[_0x2775b9(0x45f)],_0x3001ba+Math['PI']);}}}}}}}}}},this['get_next_path']=(_0x53aff4,_0x3c2ab9)=>{var _0x3dff7e=_0x31f558;if(!_0x53aff4||!_0x3c2ab9||_0x53aff4[_0x3dff7e(0x289)]>0xc8)return undefined;var _0x2e7397=_0x53aff4[_0x53aff4[_0x3dff7e(0x289)]-0x1];console[_0x3dff7e(0x4d5)](_0x3dff7e(0x48c)+[_0x2e7397['x'],_0x2e7397['y']]);if(_0x2e7397['x']==_0x3c2ab9['x']&&_0x2e7397['y']==_0x3c2ab9['y'])return _0x53aff4;var _0x368c2e=[{'x':_0x2e7397['x']+0x1,'y':_0x2e7397['y']},{'x':_0x2e7397['x']-0x1,'y':_0x2e7397['y']},{'x':_0x2e7397['x'],'y':_0x2e7397['y']-0x1},{'x':_0x2e7397['x'],'y':_0x2e7397['y']+0x1}];_0x368c2e=_0x368c2e[_0x3dff7e(0x537)]((_0x1c8496,_0x1b4114)=>{return dist(_0x1c8496['x'],_0x1c8496['y'],_0x3c2ab9['x'],_0x3c2ab9['y'])-dist(_0x1b4114['x'],_0x1b4114['y'],_0x3c2ab9['x'],_0x3c2ab9['y']);});for(var _0x53cc9f in _0x368c2e){var _0x45f750=_0x368c2e[_0x53cc9f]['x'],_0x478730=_0x368c2e[_0x53cc9f]['y'];console['log'](_0x3dff7e(0x19f)+[_0x45f750,_0x478730]+'?');var _0x2227b7=![];for(var _0x23eb0a in _0x53aff4)if(_0x53aff4[_0x23eb0a]['x']==_0x45f750&&_0x53aff4[_0x23eb0a]['y']==_0x478730)_0x2227b7=!![];if(_0x2227b7)continue;if(!world[_0x3dff7e(0x212)][_0x3dff7e(0x2e0)][_0x45f750]||!world[_0x3dff7e(0x212)]['mapBlock'][_0x45f750][_0x478730])continue;var _0x21120d=world[_0x3dff7e(0x212)][_0x3dff7e(0x2e0)][_0x45f750][_0x478730];if(_0x21120d[_0x3dff7e(0x3cb)]&&!(_0x3c2ab9['x']==_0x21120d['x']&&_0x3c2ab9['y']==_0x21120d['y'])||!_0x21120d['getMoveCost']())continue;console['log'](_0x3dff7e(0x3cf));var _0x490286=this[_0x3dff7e(0x3ac)](_0x53aff4[_0x3dff7e(0x582)]([_0x368c2e[_0x53cc9f]]),_0x3c2ab9);if(_0x490286)return _0x490286;}return console[_0x3dff7e(0x4d5)]('nope,\x20not\x20this\x20way'),undefined;},this['playAIturn']=()=>{var _0x1cde55=_0x31f558;console[_0x1cde55(0x4d5)](this[_0x1cde55(0x50c)]+'\x20AI\x20is\x20playing');var _0x2fa225=this[_0x1cde55(0x1cd)]['find'](_0x3735ef=>_0x3735ef[_0x1cde55(0x50c)]==_0x1cde55(0x566)),_0x3f7dcd=_0x2fa225['zone_target_area'](_0x2fa225[_0x1cde55(0x406)]);_0x3f7dcd=_0x3f7dcd[_0x1cde55(0x275)](_0x1e4035=>_0x1e4035[_0x1cde55(0x3cb)]&&_0x1e4035[_0x1cde55(0x3cb)][_0x1cde55(0x28e)]!=this[_0x1cde55(0x28e)]);if(this[_0x1cde55(0x4be)]({'block':_0x3f7dcd}))return![];var _0x34e61e=world[_0x1cde55(0x4cc)]['playerList'][_0x1cde55(0x234)](_0x58566a=>_0x58566a['team']!=this[_0x1cde55(0x28e)]);if(!_0x34e61e||_0x34e61e['length']<0x1)return!![];var _0x268d59=_0x34e61e['sort']((_0x3b044c,_0x38aaa1)=>{return dist(this['x'],this['y'],_0x3b044c['x'],_0x3b044c['y'])-dist(this['x'],this['y'],_0x38aaa1['x'],_0x38aaa1['y']);})[0x0];if(!this['AI'][_0x1cde55(0x509)]||this['AI']['path']['length']<0xa||dist(this['x'],this['y'],_0x268d59['x'],_0x268d59['y'])<0x5)this['AI']['path']=this['get_next_path']([{'x':this['x'],'y':this['y']}],_0x268d59);var _0x6234e5=this['AI'][_0x1cde55(0x509)];if(_0x6234e5&&_0x6234e5['length']>0x1)_0x6234e5=_0x6234e5[0x1];if(this[_0x1cde55(0x54c)]({'block':world['map']['mapBlock'][_0x6234e5['x']][_0x6234e5['y']]}))return this['AI'][_0x1cde55(0x509)][_0x1cde55(0x30e)](),![];return!![];};},PLAYER_FACE_IMG=['face_0',_0x4f97f4(0x59d),_0x4f97f4(0x297),_0x4f97f4(0x23f),_0x4f97f4(0x3b2)],PLAYER_BODY_IMG=[_0x4f97f4(0x327),_0x4f97f4(0x4b8),_0x4f97f4(0x1f9),_0x4f97f4(0x367),_0x4f97f4(0x3e2)],PROJECTIL_IMG=['wood_arrow'],PlayersManager=function(_0x2449c4){var _0x2c28db=_0x4f97f4;this['playerList']=[],this['playerDefaultImgs']=undefined,this['DefaultImgsReady']=![],this[_0x2c28db(0x574)]=undefined,this['canvasPUI']=world[_0x2c28db(0x20f)]['canList'][_0x2c28db(0x4cc)],this[_0x2c28db(0x1f6)]=world[_0x2c28db(0x20f)][_0x2c28db(0x201)]['players'],this['pUI_need_redraw']=!![],this[_0x2c28db(0x3da)]=new MessageSystem(),this['projectilAnimation']=[],this['createProjectilAnimation']=_0x5235ec=>{var _0x29102d=_0x2c28db;if(!_0x5235ec||!_0x5235ec[_0x29102d(0x205)]||!_0x5235ec['posB']||!_0x5235ec[_0x29102d(0x561)]||!_0x5235ec[_0x29102d(0x456)])return;var _0x5cbc13=_0x5235ec[_0x29102d(0x205)],_0x25213b=_0x5235ec[_0x29102d(0x49a)];this[_0x29102d(0x36e)][_0x29102d(0x32f)]({'posA':_0x5cbc13,'posB':_0x25213b,'angle':Math[_0x29102d(0x38d)](_0x25213b['y']-_0x5cbc13['y'],_0x25213b['x']-_0x5cbc13['x']),'name':_0x5235ec[_0x29102d(0x561)],'duration':_0x5235ec[_0x29102d(0x456)]?_0x5235ec['projectilSpeed']*dist(_0x5cbc13['x'],_0x5cbc13['y'],_0x25213b['x'],_0x25213b['y']):0x64});if(_0x5235ec[_0x29102d(0x59b)])world[_0x29102d(0x4ff)][_0x29102d(0x41c)](_0x5235ec[_0x29102d(0x59b)]);},this[_0x2c28db(0x391)]=()=>{var _0xad7033=_0x2c28db,_0x536457=new Date()[_0xad7033(0x2fd)]();for(var _0x635439 in this[_0xad7033(0x36e)]){if(this[_0xad7033(0x36e)][_0x635439][_0xad7033(0x465)]&&_0x536457-this[_0xad7033(0x36e)][_0x635439]['startTime']>this[_0xad7033(0x36e)][_0x635439][_0xad7033(0x26b)])this[_0xad7033(0x36e)][_0xad7033(0x1ee)](_0x635439,0x1);else{if(!this[_0xad7033(0x36e)][_0x635439][_0xad7033(0x465)])this['projectilAnimation'][_0x635439][_0xad7033(0x465)]=_0x536457;}}var _0x1739b9=world['map'],_0x313676=this[_0xad7033(0x1f6)];for(var _0x635439 in this[_0xad7033(0x36e)]){var _0x169735=this['projectilAnimation'][_0x635439],_0x407ae7=(_0x536457-_0x169735[_0xad7033(0x465)])/_0x169735[_0xad7033(0x26b)],_0x7063ac=_0x407ae7>0.5?0x1-_0x407ae7:_0x407ae7,_0x78e48b=_0x169735[_0xad7033(0x205)]['x']+_0x407ae7*(_0x169735[_0xad7033(0x49a)]['x']-_0x169735[_0xad7033(0x205)]['x']),_0x998019=_0x169735[_0xad7033(0x205)]['y']+_0x407ae7*(_0x169735['posB']['y']-_0x169735[_0xad7033(0x205)]['y']),_0x542534=_0x1739b9['get_pixel_by_pos'](_0x78e48b,_0x998019);if(_0x542534['x']<0x0||_0x542534['y']<0x0||_0x542534['x']>_0x313676['width']||_0x542534['y']>_0x313676[_0xad7033(0x48b)])continue;_0x313676[_0xad7033(0x565)](world['playerDefaultImgs'][_0x169735['name']]['img'],_0x542534['x'],_0x542534['y'],_0x1739b9['scale']*(0.5+_0x7063ac*0x3),_0x169735['angle']);}},this[_0x2c28db(0x538)]=_0x5aba53=>{var _0x1de30b=_0x2c28db;if(!_0x5aba53)return console['log']('can\x27t\x20delete\x20this\x20player');_0x5aba53[_0x1de30b(0x3fd)]=!![],world[_0x1de30b(0x2ce)][_0x1de30b(0x3eb)](_0x5aba53);if(_0x5aba53&&_0x5aba53['x']!=undefined&&_0x5aba53['y']!=undefined){for(var _0xdd4a5=_0x5aba53['x'];_0xdd4a5<_0x5aba53['x']+_0x5aba53['size'];_0xdd4a5++)for(var _0x648a96=_0x5aba53['y'];_0x648a96<_0x5aba53['y']+_0x5aba53[_0x1de30b(0x2f0)];_0x648a96++)if(world[_0x1de30b(0x212)][_0x1de30b(0x2e0)][_0xdd4a5]&&world[_0x1de30b(0x212)][_0x1de30b(0x2e0)][_0xdd4a5][_0x648a96]&&world[_0x1de30b(0x212)][_0x1de30b(0x2e0)][_0xdd4a5][_0x648a96][_0x1de30b(0x3cb)]==_0x5aba53)world[_0x1de30b(0x212)][_0x1de30b(0x2e0)][_0xdd4a5][_0x648a96][_0x1de30b(0x3cb)]=undefined;}var _0xc32eea=0x0;while(this[_0x1de30b(0x19c)][_0xc32eea]){if(this['playerList'][_0xc32eea]==_0x5aba53){this[_0x1de30b(0x19c)][_0x1de30b(0x1ee)](_0xc32eea,0x1);break;}_0xc32eea++;}},this['loadPlayerDefaultImgs']=()=>{var _0x40a574=_0x2c28db,_0x3e57de=_0x40a574(0x34d);this[_0x40a574(0x383)]=[];var _0xa3b31e=[[_0x40a574(0x3a9),_0x3e57de+'hand/hand_0.png']];for(var _0x1ba5a3 in WEAPON_TYPE){var _0x373dbf=WEAPON_TYPE[_0x1ba5a3][_0x40a574(0x50c)],_0x168b3c=WEAPON_TYPE[_0x1ba5a3][_0x40a574(0x2a6)];_0xa3b31e['push']([_0x373dbf,_0x3e57de+_0x40a574(0x491)+_0x168b3c+_0x40a574(0x30a)]),_0xa3b31e[_0x40a574(0x32f)]([_0x373dbf+_0x40a574(0x312),_0x3e57de+_0x40a574(0x491)+_0x168b3c+_0x40a574(0x312)+_0x40a574(0x30a)]);}for(var _0x1ba5a3 in PLAYER_BODY_IMG){var _0x373dbf=PLAYER_BODY_IMG[_0x1ba5a3];_0xa3b31e[_0x40a574(0x32f)]([_0x373dbf,_0x3e57de+_0x40a574(0x1bb)+_0x373dbf+'.png']);}for(var _0x1ba5a3 in PLAYER_FACE_IMG){var _0x373dbf=PLAYER_FACE_IMG[_0x1ba5a3];_0xa3b31e[_0x40a574(0x32f)]([_0x373dbf,_0x3e57de+_0x40a574(0x259)+_0x373dbf+_0x40a574(0x30a)]);}for(var _0x1ba5a3 in PLAYER_ARMOR){var _0x373dbf=PLAYER_ARMOR[_0x1ba5a3][_0x40a574(0x50c)],_0x168b3c=PLAYER_ARMOR[_0x1ba5a3][_0x40a574(0x4dd)];_0xa3b31e[_0x40a574(0x32f)]([_0x373dbf,_0x3e57de+_0x40a574(0x45b)+_0x168b3c+_0x40a574(0x30a)]),_0xa3b31e['push']([_0x373dbf+'_icon',_0x3e57de+_0x40a574(0x45b)+_0x168b3c+_0x40a574(0x312)+_0x40a574(0x30a)]);}for(var _0x1ba5a3 in PROJECTIL_IMG){var _0x373dbf=PROJECTIL_IMG[_0x1ba5a3];_0xa3b31e[_0x40a574(0x32f)]([_0x373dbf,_0x3e57de+_0x40a574(0x3b3)+_0x373dbf+_0x40a574(0x30a)]);}for(var _0x1ba5a3 in _0xa3b31e){console[_0x40a574(0x4d5)](_0x40a574(0x31c)+_0xa3b31e[_0x1ba5a3]),this['playerDefaultImgs'][_0xa3b31e[_0x1ba5a3][0x0]]=new myImage(_0xa3b31e[_0x1ba5a3][0x0],_0xa3b31e[_0x1ba5a3][0x1]);}world[_0x40a574(0x383)]=this['playerDefaultImgs'];},this[_0x2c28db(0x56b)]=(_0x5b5902,_0x1fdd67,_0x2173be,_0x476d02,_0x37255f)=>{var _0x42396d=_0x2c28db,_0x26c529=new Player(_0x5b5902,_0x1fdd67,_0x2173be,_0x476d02,_0x37255f);return _0x26c529[_0x42396d(0x35d)](_0x26c529,world[_0x42396d(0x212)]),_0x26c529['generateCapacity'](),_0x26c529[_0x42396d(0x32a)]=0x0,_0x26c529;},this[_0x2c28db(0x454)]=_0x2f54e7=>{var _0x3b8597=_0x2c28db;if(!_0x2f54e7||!_0x2f54e7['player']||_0x2f54e7['x']==undefined||_0x2f54e7['y']==undefined)return console[_0x3b8597(0x4d5)]('error\x20input\x20create\x20player');console[_0x3b8597(0x4d5)]('create\x20player\x20in\x20'+[_0x2f54e7['x'],_0x2f54e7['y'],_0x2f54e7[_0x3b8597(0x3cb)][_0x3b8597(0x2f0)]]);var _0x4e603d=_0x2f54e7[_0x3b8597(0x3cb)],_0x577af9=_0x2f54e7['x'],_0x139de1=_0x2f54e7['y'],_0x40b4b1=_0x2f54e7[_0x3b8597(0x28e)]?_0x2f54e7['team']:TEAM_HUMAN,_0x5f46ec=world['map'];if(_0x577af9<0x0||_0x577af9+_0x4e603d[_0x3b8597(0x2f0)]-0x1>=_0x5f46ec[_0x3b8597(0x56a)]||_0x139de1<0x0||_0x139de1+_0x4e603d[_0x3b8597(0x2f0)]-0x1>=_0x5f46ec[_0x3b8597(0x48b)])return![];for(var _0x597898=_0x577af9;_0x597898<_0x577af9+_0x4e603d[_0x3b8597(0x2f0)];_0x597898++){for(var _0x3c87c9=_0x139de1;_0x3c87c9<_0x139de1+_0x4e603d[_0x3b8597(0x2f0)];_0x3c87c9++){if(_0x5f46ec[_0x3b8597(0x2e0)][_0x597898][_0x3c87c9][_0x3b8597(0x3cb)])return![];if(!_0x5f46ec[_0x3b8597(0x2e0)][_0x597898][_0x3c87c9][_0x3b8597(0x264)]())return![];}}var _0x2a22c9=this[_0x3b8597(0x56b)](_0x577af9,_0x139de1,_0x4e603d[_0x3b8597(0x2f0)],_0x4e603d[_0x3b8597(0x3b0)],_0x40b4b1);if(!_0x2a22c9)return![];_0x2a22c9[_0x3b8597(0x50c)]=_0x4e603d[_0x3b8597(0x50c)],_0x2a22c9[_0x3b8597(0x2d7)]=_0x4e603d['face_type'],_0x2a22c9['body_type']=_0x4e603d[_0x3b8597(0x433)],_0x2a22c9[_0x3b8597(0x2a1)]=_0x4e603d[_0x3b8597(0x2a1)],_0x2a22c9[_0x3b8597(0x1ff)]=_0x4e603d[_0x3b8597(0x1ff)],_0x2a22c9[_0x3b8597(0x4db)]=_0x4e603d[_0x3b8597(0x4db)],_0x2a22c9[_0x3b8597(0x3aa)]=_0x4e603d[_0x3b8597(0x3aa)],_0x2a22c9[_0x3b8597(0x533)]=_0x4e603d[_0x3b8597(0x533)],_0x2a22c9['life']=_0x4e603d[_0x3b8597(0x533)],_0x2a22c9[_0x3b8597(0x1ab)]=_0x4e603d[_0x3b8597(0x1ab)],_0x2a22c9[_0x3b8597(0x46b)]=_0x4e603d[_0x3b8597(0x46b)],_0x2a22c9[_0x3b8597(0x2f0)]=_0x4e603d[_0x3b8597(0x2f0)],_0x2a22c9['id']=_0x4e603d['id'];if(_0x40b4b1==TEAM_AI)_0x2a22c9[_0x3b8597(0x29a)]=[-0x1,0x0];for(var _0x597898=_0x577af9;_0x597898<_0x577af9+_0x4e603d[_0x3b8597(0x2f0)];_0x597898++){for(var _0x3c87c9=_0x139de1;_0x3c87c9<_0x139de1+_0x4e603d[_0x3b8597(0x2f0)];_0x3c87c9++){_0x5f46ec[_0x3b8597(0x2e0)][_0x597898][_0x3c87c9][_0x3b8597(0x3cb)]=_0x2a22c9;}}return _0x2a22c9[_0x3b8597(0x350)](),this[_0x3b8597(0x19c)][_0x3b8597(0x32f)](_0x2a22c9),!![];},this[_0x2c28db(0x2c0)]=_0x2b6dc3=>{var _0x5aba2e=_0x2c28db;if(!_0x2b6dc3||_0x2b6dc3['x']===undefined||_0x2b6dc3['y']===undefined)return![];var _0x12fa4b=_0x2b6dc3['x'],_0x1a3efc=_0x2b6dc3['y'],_0x1363f3=_0x2b6dc3[_0x5aba2e(0x3b0)]?_0x2b6dc3[_0x5aba2e(0x3b0)]:{'r':Math[_0x5aba2e(0x394)](Math['random']()*0x100),'g':Math[_0x5aba2e(0x394)](Math[_0x5aba2e(0x356)]()*0x100),'b':Math[_0x5aba2e(0x394)](Math[_0x5aba2e(0x356)]()*0x100)},_0x4b13c0=_0x2b6dc3[_0x5aba2e(0x2f0)]||_0x2b6dc3[_0x5aba2e(0x2f0)]<0x1?_0x2b6dc3[_0x5aba2e(0x2f0)]:0x1,_0x5f2821=_0x2b6dc3[_0x5aba2e(0x28e)]?_0x2b6dc3[_0x5aba2e(0x28e)]:TEAM_HUMAN,_0x4f5268=world['map'];if(_0x12fa4b<0x0||_0x12fa4b+_0x4b13c0-0x1>=_0x4f5268[_0x5aba2e(0x56a)]||_0x1a3efc<0x0||_0x1a3efc+_0x4b13c0-0x1>=_0x4f5268[_0x5aba2e(0x48b)])return![];for(var _0x48b43b=_0x12fa4b;_0x48b43b<_0x12fa4b+_0x4b13c0;_0x48b43b++){for(var _0x9547f5=_0x1a3efc;_0x9547f5<_0x1a3efc+_0x4b13c0;_0x9547f5++){if(_0x4f5268[_0x5aba2e(0x2e0)][_0x48b43b][_0x9547f5][_0x5aba2e(0x3cb)])return![];if(!_0x4f5268['mapBlock'][_0x48b43b][_0x9547f5][_0x5aba2e(0x264)]())return![];}}var _0x49c987=this[_0x5aba2e(0x56b)](_0x12fa4b,_0x1a3efc,_0x4b13c0,_0x1363f3,_0x5f2821);_0x49c987['id']=PLAYER_ID++,nameList=[_0x5aba2e(0x1a7),_0x5aba2e(0x534),_0x5aba2e(0x20e),'Setple',_0x5aba2e(0x1b1),'Fepachie',_0x5aba2e(0x3d6),_0x5aba2e(0x543),_0x5aba2e(0x598),_0x5aba2e(0x343)],_0x49c987['name']=nameList[Math[_0x5aba2e(0x394)](Math[_0x5aba2e(0x356)]()*nameList[_0x5aba2e(0x289)])]+'\x20#'+Math['floor'](Math[_0x5aba2e(0x356)]()*0x64),_0x49c987[_0x5aba2e(0x1ff)]=new Weapon()['createRandomWeapon'](),_0x49c987[_0x5aba2e(0x2a1)]=new Armor()['createRandomArmor']();if(_0x5f2821==TEAM_AI)_0x49c987[_0x5aba2e(0x29a)]=[-0x1,0x0];for(var _0x48b43b=_0x12fa4b;_0x48b43b<_0x12fa4b+_0x4b13c0;_0x48b43b++){for(var _0x9547f5=_0x1a3efc;_0x9547f5<_0x1a3efc+_0x4b13c0;_0x9547f5++){_0x4f5268[_0x5aba2e(0x2e0)][_0x48b43b][_0x9547f5]['player']=_0x49c987;}}return _0x49c987[_0x5aba2e(0x4db)]=_0x2b6dc3[_0x5aba2e(0x4db)]?_0x2b6dc3[_0x5aba2e(0x4db)]:Math[_0x5aba2e(0x3f8)](_0x49c987[_0x5aba2e(0x4db)]*(0.8+Math[_0x5aba2e(0x356)]()*0.4)),_0x49c987[_0x5aba2e(0x350)](),this[_0x5aba2e(0x19c)][_0x5aba2e(0x32f)](_0x49c987),_0x49c987;},this['drawPlayers']=()=>{var _0x4d4a73=_0x2c28db,_0x3d0f24=world['map'];if(!_0x3d0f24||!_0x3d0f24[_0x4d4a73(0x207)]||!_0x3d0f24['botright_block'])return;var _0x4d0974=_0x3d0f24['topleft_block']['x'],_0x1d4ec3=_0x3d0f24['topleft_block']['y'],_0x50d141=_0x3d0f24[_0x4d4a73(0x2dc)]['x'],_0x2daa37=_0x3d0f24[_0x4d4a73(0x2dc)]['y'],_0x56f10c=[],_0x1c7e86=[];for(var _0x484bc0=_0x4d0974;_0x484bc0<=_0x50d141;_0x484bc0++){for(var _0x1270ba=_0x1d4ec3;_0x1270ba<=_0x2daa37;_0x1270ba++){var _0x57ede5=_0x3d0f24['mapBlock'][_0x484bc0][_0x1270ba][_0x4d4a73(0x3cb)];if(!_0x57ede5||_0x1c7e86[_0x4d4a73(0x275)](_0x4b26d4=>_0x4b26d4==_0x57ede5))continue;if(_0x57ede5==this[_0x4d4a73(0x574)])_0x1c7e86[_0x4d4a73(0x32f)](_0x57ede5);else _0x1c7e86[_0x4d4a73(0x576)](_0x57ede5);}}for(var _0x485622 in _0x1c7e86){var _0x57ede5=_0x1c7e86[_0x485622];if(!_0x57ede5[_0x4d4a73(0x449)]||!_0x57ede5[_0x4d4a73(0x382)])_0x57ede5[_0x4d4a73(0x498)](this[_0x4d4a73(0x383)]);var _0x183349=_0x3d0f24['get_pixel_by_block'](_0x57ede5['x'],_0x57ede5['y']);if(_0x183349)_0x57ede5[_0x4d4a73(0x352)](this[_0x4d4a73(0x1f6)],_0x183349['x'],_0x183349['y'],_0x3d0f24);else continue;_0x57ede5['needUIRedraw']&&(this[_0x4d4a73(0x553)]=!![],_0x57ede5[_0x4d4a73(0x460)]=![]);var _0x3c4d2c=new MyUI(this[_0x4d4a73(0x276)],_0x183349['x']-_0x3d0f24[_0x4d4a73(0x38f)]/0x4,_0x183349['y']-_0x3d0f24[_0x4d4a73(0x3ff)]/0x4,0x64*world[_0x4d4a73(0x212)]['scale'],world[_0x4d4a73(0x212)]['scale'],undefined,undefined,0x1),_0x47c1a7=_0x57ede5[_0x4d4a73(0x28e)]==TEAM_HUMAN?'#1e90ff':'#da1d81';_0x3c4d2c[_0x4d4a73(0x2ee)](_0x57ede5['name'],Math[_0x4d4a73(0x394)](0x28*world[_0x4d4a73(0x212)][_0x4d4a73(0x45f)]),0x10,_0x47c1a7,PLAYER_NAME_FONT);var _0x398307=Math[_0x4d4a73(0x394)](0x14*world[_0x4d4a73(0x212)][_0x4d4a73(0x45f)]);if(_0x57ede5==this[_0x4d4a73(0x574)])_0x3c4d2c['addGauge'](_0x4d4a73(0x282)+Math['floor'](0x64*_0x57ede5[_0x4d4a73(0x3d2)]/_0x57ede5[_0x4d4a73(0x3aa)]),_0x57ede5[_0x4d4a73(0x3d2)]/_0x57ede5['ActionPointMax'],Math[_0x4d4a73(0x394)](0x64*world['map'][_0x4d4a73(0x45f)]),_0x398307+0x1,_0x398307,_0x4d4a73(0x484),'#00aaaa','#000000');else _0x3c4d2c[_0x4d4a73(0x1bd)](_0x4d4a73(0x3cd)+Math['floor'](0x64*_0x57ede5['gaugeSpeed'])+'\x20%',_0x57ede5['gaugeSpeed'],Math['floor'](0x64*world['map'][_0x4d4a73(0x45f)]),_0x398307+0x1,_0x398307,_0x4d4a73(0x484),_0x4d4a73(0x404),_0x4d4a73(0x1b6));_0x3c4d2c[_0x4d4a73(0x1bd)](_0x4d4a73(0x44e)+Math[_0x4d4a73(0x394)](_0x57ede5[_0x4d4a73(0x378)])+'/'+Math['floor'](_0x57ede5[_0x4d4a73(0x533)]),_0x57ede5[_0x4d4a73(0x378)]/_0x57ede5[_0x4d4a73(0x533)],Math[_0x4d4a73(0x394)](0x64*world[_0x4d4a73(0x212)]['scale']),_0x398307+0x1,_0x398307,_0x4d4a73(0x484),_0x4d4a73(0x39f),_0x4d4a73(0x1b6)),_0x56f10c[_0x4d4a73(0x32f)](_0x3c4d2c);}if(this[_0x4d4a73(0x553)]){this[_0x4d4a73(0x276)][_0x4d4a73(0x45a)]();for(var _0x485622 in _0x56f10c){_0x56f10c[_0x485622]['drawUI']();}this[_0x4d4a73(0x553)]=![];}this[_0x4d4a73(0x391)]();},this[_0x2c28db(0x4d7)]=_0x328083=>{var _0xacc6b=_0x2c28db;if(!_0x328083||_0x328083['x']==undefined||_0x328083['y']==undefined)return undefined;return this[_0xacc6b(0x19c)]['find'](_0x225d2f=>_0x225d2f['x']==_0x328083['x']&&_0x225d2f['y']==_0x328083['y']);},this[_0x2c28db(0x57a)]=()=>{var _0x48a146=_0x2c28db,_0x287902=undefined,_0x2143e7=0x0,_0x3aabe6=0x0;for(var _0x1598dd in this[_0x48a146(0x19c)]){var _0x33b78a=this[_0x48a146(0x19c)][_0x1598dd];if((0x1-_0x33b78a[_0x48a146(0x32a)])/_0x33b78a[_0x48a146(0x4db)]<=(0x1-_0x2143e7)/_0x3aabe6){if(_0x287902&&(0x1-_0x33b78a[_0x48a146(0x32a)])*_0x33b78a[_0x48a146(0x4db)]==(0x1-_0x2143e7)*_0x3aabe6){if(_0x287902[_0x48a146(0x4db)]>_0x33b78a[_0x48a146(0x4db)])continue;}_0x287902=_0x33b78a,_0x2143e7=_0x33b78a[_0x48a146(0x32a)],_0x3aabe6=_0x33b78a['speed'];}}if(!_0x287902)return undefined;for(var _0x1598dd in this[_0x48a146(0x19c)]){var _0x33b78a=this[_0x48a146(0x19c)][_0x1598dd];_0x33b78a[_0x48a146(0x32a)]+=(0x1-_0x2143e7)*(_0x33b78a['speed']/_0x3aabe6);}return _0x287902;},this[_0x2c28db(0x499)]=_0x1a5283=>{var _0x4a9fe9=_0x2c28db,_0x35f643=[],_0x401efc=[];for(var _0x2737ee in this['playerList']){var _0x46c041=this['playerList'][_0x2737ee];_0x401efc[_0x2737ee]={'player':_0x46c041,'gaugeSpeed':_0x46c041['gaugeSpeed'],'speed':_0x46c041[_0x4a9fe9(0x4db)]};}if(_0x1a5283<0x0||_0x401efc[_0x4a9fe9(0x289)]<0x1)return[];for(var _0x22a439=0x0;_0x22a439<_0x1a5283;_0x22a439++){var _0x27077c=undefined,_0xa3806f=0x0,_0x4e36ba=0x0;for(var _0x2737ee in _0x401efc){var _0x46c041=_0x401efc[_0x2737ee];if((0x1-_0x46c041[_0x4a9fe9(0x32a)])/_0x46c041[_0x4a9fe9(0x4db)]<=(0x1-_0xa3806f)/_0x4e36ba){if(_0x27077c&&(0x1-_0x46c041[_0x4a9fe9(0x32a)])*_0x46c041[_0x4a9fe9(0x4db)]==(0x1-_0xa3806f)*_0x4e36ba){if(_0x27077c[_0x4a9fe9(0x4db)]>_0x46c041[_0x4a9fe9(0x4db)])continue;}_0x27077c=_0x46c041,_0xa3806f=_0x46c041[_0x4a9fe9(0x32a)],_0x4e36ba=_0x46c041['speed'];}}if(!_0x27077c)continue;for(var _0x2737ee in _0x401efc){var _0x46c041=_0x401efc[_0x2737ee];_0x46c041[_0x4a9fe9(0x32a)]+=(0x1-_0xa3806f)*(_0x46c041[_0x4a9fe9(0x4db)]/_0x4e36ba);}_0x27077c[_0x4a9fe9(0x32a)]=0x0,_0x35f643[_0x4a9fe9(0x32f)](_0x27077c['player']);}return _0x35f643;},this[_0x2c28db(0x2de)]=_0xaace12=>{var _0x2bbb7b=_0x2c28db,_0x40f51=this[_0x2bbb7b(0x19c)][_0x2bbb7b(0x275)](_0x389144=>_0x389144[_0x2bbb7b(0x28e)]==TEAM_AI),_0x5e26ce=this[_0x2bbb7b(0x19c)][_0x2bbb7b(0x275)](_0x4b5349=>_0x4b5349[_0x2bbb7b(0x28e)]==TEAM_HUMAN);if(!_0x40f51||!_0x5e26ce){console[_0x2bbb7b(0x4d5)](_0x2bbb7b(0x255)),this[_0x2bbb7b(0x58c)]();return;}world[_0x2bbb7b(0x4c1)]&&(world[_0x2bbb7b(0x4c1)][_0x2bbb7b(0x25c)]=undefined,world['GameUI'][_0x2bbb7b(0x3e0)]=undefined,world['GameUI'][_0x2bbb7b(0x33e)]=undefined,world['GameUI'][_0x2bbb7b(0x4d4)]=undefined);if(world[_0x2bbb7b(0x4cc)][_0x2bbb7b(0x574)]&&world[_0x2bbb7b(0x4cc)][_0x2bbb7b(0x574)]['AI']&&!world[_0x2bbb7b(0x4cc)]['Playerturn']['AI'][_0x2bbb7b(0x337)])return;if(this[_0x2bbb7b(0x574)])this[_0x2bbb7b(0x574)][_0x2bbb7b(0x32a)]=0x0;this[_0x2bbb7b(0x574)]=this[_0x2bbb7b(0x57a)]();if(!this[_0x2bbb7b(0x574)])return;this[_0x2bbb7b(0x3da)][_0x2bbb7b(0x556)]({'type':this[_0x2bbb7b(0x574)][_0x2bbb7b(0x28e)],'txt':this[_0x2bbb7b(0x574)]['name']+'\x20turn\x20have\x20started'});if(_0xaace12[_0x2bbb7b(0x212)])_0xaace12[_0x2bbb7b(0x212)][_0x2bbb7b(0x1b3)](this['Playerturn']);if(_0xaace12['GameUI'])_0xaace12['GameUI'][_0x2bbb7b(0x25c)]=this[_0x2bbb7b(0x574)];this['Playerturn']['ActionPoint']=this[_0x2bbb7b(0x574)][_0x2bbb7b(0x3aa)];if(this['Playerturn']['AI'])this[_0x2bbb7b(0x574)]['AI'][_0x2bbb7b(0x337)]=![];},this['endFight']=()=>{var _0x434929=_0x2c28db;world['GameUI']=undefined,world[_0x434929(0x212)]=undefined,world['villageUI']=new VillageUI(world[_0x434929(0x20f)][_0x434929(0x201)]['GameUI']),world['Screen'][_0x434929(0x201)][_0x434929(0x58f)]['GetCanvasPos'](),world[_0x434929(0x20f)][_0x434929(0x201)][_0x434929(0x58f)][_0x434929(0x45a)](),world[_0x434929(0x20f)][_0x434929(0x201)]['mapTopElem']['GetCanvasPos'](),world[_0x434929(0x20f)][_0x434929(0x201)]['mapTopElem'][_0x434929(0x45a)](),world[_0x434929(0x20f)][_0x434929(0x201)][_0x434929(0x4cc)][_0x434929(0x1e6)](),world[_0x434929(0x20f)]['canList']['players'][_0x434929(0x45a)](),world['Screen'][_0x434929(0x201)][_0x434929(0x294)][_0x434929(0x1e6)](),world[_0x434929(0x20f)][_0x434929(0x201)]['mapUI'][_0x434929(0x45a)](),world[_0x434929(0x4ff)][_0x434929(0x48e)](_0x434929(0x1dd)),world[_0x434929(0x2ce)][_0x434929(0x360)]=![],world[_0x434929(0x2ce)][_0x434929(0x3da)][_0x434929(0x556)]({'txt':_0x434929(0x36b)});};},GameUI=function(_0x5379a1){var _0xda229a=_0x4f97f4;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT=_0xda229a(0x48f),GAME_UI_FONT_BUTTON=_0xda229a(0x22a),GAME_UI_WINDOWINFO_MOUSETIME=0x190,this['canvas']=_0x5379a1,this['lenx']=GAME_UI_DEFAULTSIZE_X,this['scale']=0x1,this[_0xda229a(0x2f4)]=_0xda229a(0x3f9),this[_0xda229a(0x1fb)]=_0xda229a(0x249),this[_0xda229a(0x4bd)]=GAME_UI_DEFAULTMARGE,this['needRedraw']=!![],this['fps']=undefined,this['UI']=undefined,this[_0xda229a(0x2d6)]=![],this[_0xda229a(0x308)]=undefined,this[_0xda229a(0x251)]=![],this[_0xda229a(0x575)]=undefined,this[_0xda229a(0x4b2)]=![],this[_0xda229a(0x53d)]={'value':0x0},this[_0xda229a(0x25c)]=undefined,this[_0xda229a(0x3e0)]=undefined,this[_0xda229a(0x33e)]=undefined,this['highlightZone']=undefined,this['mouseInfoWindow']=undefined,this[_0xda229a(0x3e6)]=undefined,this['newGameInput']={'x':0xa,'y':0xa},this['mouseWasOnMouseLightLastDraw']=!![],this[_0xda229a(0x3f4)]=()=>{var _0x4f7a1b=_0xda229a;window[_0x4f7a1b(0x1a8)](_0x4f7a1b(0x300),_0x533d85=>{var _0x32feb7=_0x4f7a1b,_0x26b6d7=![];this[_0x32feb7(0x308)]&&this[_0x32feb7(0x308)][_0x32feb7(0x218)](_0x533d85[_0x32feb7(0x33d)],_0x533d85[_0x32feb7(0x338)])&&!this[_0x32feb7(0x2b7)]&&(this['needRedraw']=!![],this[_0x32feb7(0x2b7)]=!![],_0x26b6d7=!![]);this['UI']&&this['UI']['mouse_move_check'](_0x533d85['clientX'],_0x533d85[_0x32feb7(0x338)])&&!this[_0x32feb7(0x2b7)]&&(this[_0x32feb7(0x283)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x26b6d7=!![]);this[_0x32feb7(0x575)]&&this[_0x32feb7(0x575)][_0x32feb7(0x218)](_0x533d85[_0x32feb7(0x33d)],_0x533d85['clientY'])&&!this[_0x32feb7(0x2b7)]&&(this[_0x32feb7(0x283)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x26b6d7=!![]);!_0x26b6d7&&this[_0x32feb7(0x2b7)]&&(this[_0x32feb7(0x2b7)]=![],this[_0x32feb7(0x283)]=!![]);if(this==world[_0x32feb7(0x4c1)])this[_0x32feb7(0x3f4)]();},{'once':!![]});},this[_0xda229a(0x3f4)](),this[_0xda229a(0x51b)]=_0x1b9df1=>{var _0x329f49=_0xda229a;if(!world[_0x329f49(0x330)])return![];var _0x59dacd=world[_0x329f49(0x330)][_0x329f49(0x564)];if(!_0x59dacd)return![];if(new Date()['getTime']()-_0x59dacd[_0x329f49(0x489)]<GAME_UI_WINDOWINFO_MOUSETIME)return this[_0x329f49(0x3e6)]&&(this[_0x329f49(0x3e6)]=![],this[_0x329f49(0x283)]=!![]),![];if(this['UI']&&this['UI'][_0x329f49(0x51b)](_0x1b9df1))return!![];if(this[_0x329f49(0x308)]&&this['UIturn'][_0x329f49(0x51b)](_0x1b9df1))return!![];if(this['UIevent']&&this[_0x329f49(0x575)][_0x329f49(0x51b)](_0x1b9df1))return!![];if(!this[_0x329f49(0x412)])return![];if(!this[_0x329f49(0x3e6)])this[_0x329f49(0x3e6)]={'x':_0x59dacd['x'],'y':_0x59dacd['y']};else{if(!_0x1b9df1&&_0x59dacd['x']==this[_0x329f49(0x3e6)]['x']&&_0x59dacd['y']==this[_0x329f49(0x3e6)]['y'])return![];}var _0x5a2f04=new MyUI(this['canvas'],_0x59dacd['x'],_0x59dacd['y'],0x32,0x1,this[_0x329f49(0x2f4)],this[_0x329f49(0x1fb)],0x1);_0x5a2f04[_0x329f49(0x2ee)](_0x329f49(0x25d),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x329f49(0x1b6),GAME_UI_FONT);var _0x3da2b6=world['map']['get_block_by_pixel'](_0x59dacd);for(var _0xb4d1d0 in this[_0x329f49(0x412)]){var _0x1a10bc=this[_0x329f49(0x412)][_0xb4d1d0];_0x5a2f04['addTextZone'](_0x1a10bc[_0x329f49(0x463)]+_0x1a10bc[_0x329f49(0x3bc)]({'block':_0x3da2b6}),GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);}_0x5a2f04['drawUI']();},this[_0xda229a(0x4d2)]=_0x3ff11f=>{var _0x302998=_0xda229a;if(this['UI']&&this['UI']['key_buton_check'](_0x3ff11f))return!![];if(this['UIturn']&&this[_0x302998(0x308)][_0x302998(0x2ab)](_0x3ff11f))return!![];if(this[_0x302998(0x575)]&&this[_0x302998(0x575)][_0x302998(0x2ab)](_0x3ff11f)){if(_0x3ff11f=='ControlLeft'&&this['cancel_menu']())return!![];}return![];},this[_0xda229a(0x486)]=()=>{var _0x533263=_0xda229a,_0xea16ae=![];if(this[_0x533263(0x2d6)])return this['PlayerInfodisplay']=![],!![];this[_0x533263(0x33e)]&&(this[_0x533263(0x33e)]=undefined,_0xea16ae=!![]);this[_0x533263(0x4d4)]&&(this[_0x533263(0x4d4)]=undefined,this[_0x533263(0x412)]=undefined,this[_0x533263(0x3e6)]=undefined,world['map'][_0x533263(0x283)]=!![],_0xea16ae=!![]);if(_0xea16ae)return _0xea16ae;_0xea16ae=![];this['playersSelected']&&(this[_0x533263(0x25c)]=undefined,_0xea16ae=!![]);this[_0x533263(0x3e0)]&&(this['blockSelected']=undefined,_0xea16ae=!![]);if(_0xea16ae)return!![];return![];},this[_0xda229a(0x3c1)]=_0x58d17c=>{var _0x1c450a=_0xda229a,_0x32b56c=_0x58d17c['x'],_0x1da24a=_0x58d17c['y'];if(_0x58d17c['button']==0x2){var _0x418f32=this['cancel_menu']();if(_0x418f32)return!![];}else{if(this['UI']&&this['UI'][_0x1c450a(0x585)](_0x32b56c,_0x1da24a))return!![];if(this['UIturn']&&this[_0x1c450a(0x308)][_0x1c450a(0x585)](_0x32b56c,_0x1da24a))return!![];if(this[_0x1c450a(0x575)]&&this[_0x1c450a(0x575)][_0x1c450a(0x585)](_0x32b56c,_0x1da24a))return!![];if(world['map'])var _0x1cae99=world[_0x1c450a(0x212)]['get_block_by_pixel']({'x':_0x32b56c,'y':_0x1da24a});if(!_0x1cae99)return![];if(this['selecting_block']&&this[_0x1c450a(0x4d4)]&&this[_0x1c450a(0x4d4)][_0x1c450a(0x4f9)]&&!this[_0x1c450a(0x4d4)][_0x1c450a(0x4f9)][_0x1c450a(0x275)](_0x363659=>_0x363659==_0x1cae99))return![];if(this[_0x1c450a(0x33e)])return this['selecting_block'][_0x1c450a(0x3bc)]({'block':_0x1cae99,'input':this[_0x1c450a(0x33e)][_0x1c450a(0x2b9)]}),this[_0x1c450a(0x4d4)]=undefined,this[_0x1c450a(0x412)]=undefined,this[_0x1c450a(0x3e0)]=undefined,this[_0x1c450a(0x33e)]=undefined,world[_0x1c450a(0x212)][_0x1c450a(0x283)]=!![],!![];else this[_0x1c450a(0x3e0)]=_0x1cae99;return this[_0x1c450a(0x25c)]=_0x1cae99[_0x1c450a(0x3cb)],!![];}return![];},this[_0xda229a(0x20a)]=_0x17fc1d=>{var _0x37cd15=_0xda229a;if(!_0x17fc1d||!_0x17fc1d[_0x37cd15(0x3bc)])return;this['selecting_block']={'callback':_0x17fc1d[_0x37cd15(0x3bc)],'input':_0x17fc1d[_0x37cd15(0x2b9)],'info':_0x17fc1d['info']},this['needRedraw']=!![],_0x17fc1d[_0x37cd15(0x244)]&&(this[_0x37cd15(0x4d4)]={'zone':_0x17fc1d[_0x37cd15(0x244)][_0x37cd15(0x3bc)](_0x17fc1d[_0x37cd15(0x244)][_0x37cd15(0x2b9)]),'type':_0x17fc1d[_0x37cd15(0x244)][_0x37cd15(0x2b9)][_0x37cd15(0x213)]},world['map']['needRedraw']=!![]),_0x17fc1d['windowInfo']&&(this[_0x37cd15(0x412)]=_0x17fc1d[_0x37cd15(0x309)]);},this[_0xda229a(0x23b)]=()=>{var _0x407516=_0xda229a;if(!world[_0x407516(0x4cc)][_0x407516(0x574)])return![];world['map']['centerOnBlock'](world['players']['Playerturn']),this[_0x407516(0x25c)]=world[_0x407516(0x4cc)][_0x407516(0x574)];},this['DrawTabInfoPlayer']=()=>{var _0x4c063a=_0xda229a;0x0;var _0x5bcb99=[];_0x5bcb99['push']({'type':_0x4c063a(0x4dd),'img':this[_0x4c063a(0x25c)][_0x4c063a(0x449)],'lenx':0xc8,'leny':0xc8}),this['UI'][_0x4c063a(0x219)](_0x5bcb99);var _0x11180a=this[_0x4c063a(0x25c)],_0x260c96=''+_0x11180a['name']+'\x20(',_0x5e3b79=_0x11180a[_0x4c063a(0x28e)]==TEAM_AI?_0x4c063a(0x3c5):_0x4c063a(0x40c);_0x260c96+=_0x5e3b79,_0x260c96+='\x0a'+_0x11180a[_0x4c063a(0x378)]+'/'+_0x11180a['lifeMax']+_0x4c063a(0x1e4),_0x260c96+='\x0a'+_0x11180a['ActionPoint']+'/'+_0x11180a['ActionPointMax']+_0x4c063a(0x525),_0x260c96+='\x0a'+_0x4c063a(0x510)+_0x11180a[_0x4c063a(0x4db)],_0x260c96+='\x0a'+_0x4c063a(0x523)+_0x11180a[_0x4c063a(0x1ab)];for(var _0xc0e92f in _0x11180a[_0x4c063a(0x46b)])_0x260c96+='\x0a'+_0xc0e92f+_0x4c063a(0x48d)+_0x11180a['stats'][_0xc0e92f];this['UI']['addTextZone'](_0x260c96,GAME_UI_LETTER_SIZE/0x2,0x270f,_0x4c063a(0x1b6),GAME_UI_FONT);if(_0x11180a[_0x4c063a(0x1ff)])this['UI'][_0x4c063a(0x2ee)](_0x4c063a(0x37e)+_0x11180a['weapon'][_0x4c063a(0x50c)]+'\x27\x0a'+_0x11180a['weapon']['getWeaponAttackDescription'](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x4c063a(0x1b6),GAME_UI_FONT);if(_0x11180a[_0x4c063a(0x2a1)])this['UI']['addTextZone']('armor\x20equiped\x20:\x20'+_0x11180a[_0x4c063a(0x2a1)][_0x4c063a(0x30c)](),GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);},this['drawMessageSystemEvents']=()=>{var _0x59f658=_0xda229a;this[_0x59f658(0x575)]=new MyUI(this[_0x59f658(0x507)],this[_0x59f658(0x308)][_0x59f658(0x466)]+this['UI'][_0x59f658(0x466)],0x0,0x5,this[_0x59f658(0x45f)],this[_0x59f658(0x2f4)],this[_0x59f658(0x1fb)],this[_0x59f658(0x4bd)]);var _0x12504b=[];_0x12504b[_0x59f658(0x32f)]({'type':_0x59f658(0x363),'mouseLight':'ff','callback':()=>{this['UIeventExpanded']=!this['UIeventExpanded'];},'callback_data':GAME_UI_FONT,'txt':_0x59f658(0x2b3),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x59f658(0x502),'strokeColor':this[_0x59f658(0x4b2)]?_0x59f658(0x224):_0x59f658(0x55d),'windowInfo':[{'callback':()=>{var _0x132f1a=_0x59f658;return _0x132f1a(0x580);},'input':_0x25848d}]});if(this[_0x59f658(0x4b2)]){var _0x4c6b8c=this[_0x59f658(0x248)](this[_0x59f658(0x53d)]);for(var _0x25848d in _0x4c6b8c)_0x12504b['push'](_0x4c6b8c[_0x25848d]);}this[_0x59f658(0x575)]['addHorizontalElem'](_0x12504b);if(this[_0x59f658(0x4b2)]&&world[_0x59f658(0x4cc)]){var _0x323b65=-0x1;for(var _0x25848d=this[_0x59f658(0x53d)][_0x59f658(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x25848d>=this[_0x59f658(0x53d)][_0x59f658(0x512)];_0x25848d--){_0x323b65++;var _0x410172=world['players']['MessageSystem'][_0x59f658(0x20b)][_0x25848d];if(_0x25848d>=world[_0x59f658(0x4cc)][_0x59f658(0x3da)]['msg']['length'])continue;if(!_0x410172)break;this[_0x59f658(0x199)](_0x410172);}}console[_0x59f658(0x4d5)](this['eventPageOffset'][_0x59f658(0x512)]),this[_0x59f658(0x575)]['drawUI']();},this[_0xda229a(0x519)]=()=>{var _0x2b88e6=_0xda229a;if(!world[_0x2b88e6(0x212)]||!world[_0x2b88e6(0x4cc)])return;this[_0x2b88e6(0x283)]=![],this['canvas'][_0x2b88e6(0x1e6)](),this['canvas']['cleanCanvas'](),this['UIturn']=new MyUI(this[_0x2b88e6(0x507)],0x0,0x0,0x32,this['scale'],this[_0x2b88e6(0x2f4)],this[_0x2b88e6(0x1fb)],0x1),this[_0x2b88e6(0x308)]['addHorizontalElem']([{'type':'button','mouseLight':'ff','callback':()=>{var _0x3a1ea8=_0x2b88e6;this[_0x3a1ea8(0x251)]=!this['UIturnExpanded'];},'callback_data':GAME_UI_FONT,'txt':_0x2b88e6(0x3f5),'txt_color':_0x2b88e6(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x2b88e6(0x502),'strokeColor':this[_0x2b88e6(0x4b2)]?_0x2b88e6(0x224):_0x2b88e6(0x55d),'windowInfo':[{'callback':()=>{var _0x498a2c=_0x2b88e6;return _0x498a2c(0x4c3);},'input':_0x25df40}]}]);var _0x417448=world[_0x2b88e6(0x4cc)][_0x2b88e6(0x499)](0xf);for(var _0x25df40 in _0x417448){var _0x2ffc00=_0x417448[_0x25df40],_0xc3a17c=[];_0xc3a17c[_0x2b88e6(0x32f)]({'type':_0x2b88e6(0x4dd),'img':_0x2ffc00[_0x2b88e6(0x449)],'lenx':0x1e,'leny':0x1e});if(this[_0x2b88e6(0x251)])_0xc3a17c['push']({'type':'button','mouseLight':'ff','callback':_0x5b051f=>{var _0x3f25f1=_0x2b88e6;this['playersSelected']=_0x5b051f;if(world[_0x3f25f1(0x212)])world['map'][_0x3f25f1(0x1b3)](_0x5b051f);},'callback_data':_0x2ffc00,'txt':_0x2ffc00[_0x2b88e6(0x50c)],'txt_color':_0x2ffc00[_0x2b88e6(0x28e)]==TEAM_HUMAN?_0x2b88e6(0x4a4):'#ff0000','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':'#ffffff88','strokeColor':this['playersSelected']==_0x2ffc00?_0x2b88e6(0x485):_0x2b88e6(0x224),'windowInfo':[{'callback':_0x297065=>{var _0x4fc170=_0x2b88e6;return _0x4fc170(0x1f0)+_0x297065+_0x4fc170(0x4cf);},'input':_0x25df40}]});this[_0x2b88e6(0x308)][_0x2b88e6(0x219)](_0xc3a17c);}this[_0x2b88e6(0x308)][_0x2b88e6(0x399)](),this['UI']=new MyUI(this[_0x2b88e6(0x507)],this[_0x2b88e6(0x308)]['lenx'],0x0,this[_0x2b88e6(0x466)],this['scale'],this[_0x2b88e6(0x2f4)],this[_0x2b88e6(0x1fb)],this[_0x2b88e6(0x4bd)]);if(this[_0x2b88e6(0x2d6)]&&this[_0x2b88e6(0x25c)])this[_0x2b88e6(0x371)](),this['UI'][_0x2b88e6(0x374)](this[_0x2b88e6(0x2d6)]&&this[_0x2b88e6(0x25c)]?'return':'info',GAME_UI_LETTER_SIZE,_0x2b88e6(0x1b6),_0x2b88e6(0x484),this[_0x2b88e6(0x1fb)],()=>{var _0xa2e2da=_0x2b88e6;this[_0xa2e2da(0x2d6)]=!this[_0xa2e2da(0x2d6)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world[_0x2b88e6(0x4cc)][_0x2b88e6(0x574)])this['UI']['addButton'](_0x2b88e6(0x288),GAME_UI_LETTER_SIZE,_0x2b88e6(0x42f),_0x2b88e6(0x470),this[_0x2b88e6(0x1fb)],world[_0x2b88e6(0x4cc)][_0x2b88e6(0x2de)],{'map':world[_0x2b88e6(0x212)],'GameUI':world[_0x2b88e6(0x4c1)]},GAME_UI_FONT,'Enter'),this['UI']['addButton'](_0x2b88e6(0x47d),GAME_UI_LETTER_SIZE,_0x2b88e6(0x1b6),_0x2b88e6(0x3a4),this[_0x2b88e6(0x1fb)],this['center_on_selected_player'],undefined,GAME_UI_FONT,'Space');else this['UI'][_0x2b88e6(0x374)]('Next\x20Turn',GAME_UI_LETTER_SIZE,_0x2b88e6(0x42f),_0x2b88e6(0x236),this[_0x2b88e6(0x1fb)],world[_0x2b88e6(0x4cc)][_0x2b88e6(0x2de)],{'map':world['map'],'GameUI':world[_0x2b88e6(0x4c1)]},GAME_UI_FONT,_0x2b88e6(0x26f));if(this[_0x2b88e6(0x3e0)]&&!this[_0x2b88e6(0x25c)]){var _0x5af2c2=this[_0x2b88e6(0x3e0)]['x'],_0x4ff5ac=this['blockSelected']['y'],_0x31b665={'r':Math[_0x2b88e6(0x394)](Math[_0x2b88e6(0x356)]()*0x100),'g':Math[_0x2b88e6(0x394)](Math[_0x2b88e6(0x356)]()*0x100),'b':Math[_0x2b88e6(0x394)](Math[_0x2b88e6(0x356)]()*0x100)};this['UI'][_0x2b88e6(0x374)](_0x2b88e6(0x517),GAME_UI_LETTER_SIZE,_0x2b88e6(0x1b6),_0x2b88e6(0x2ed),this[_0x2b88e6(0x1fb)],world['players'][_0x2b88e6(0x2c0)],{'x':_0x5af2c2,'y':_0x4ff5ac,'color':_0x31b665},GAME_UI_FONT);}if(this['playersSelected']){var _0x2ffc00=this[_0x2b88e6(0x25c)];this['UI'][_0x2b88e6(0x374)](_0x2ffc00['name'],GAME_UI_LETTER_SIZE,'#000000',_0x2b88e6(0x484),this[_0x2b88e6(0x1fb)],()=>{var _0x3d0bcc=_0x2b88e6;this[_0x3d0bcc(0x2d6)]=!this['PlayerInfodisplay'];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this['playersSelected']==world[_0x2b88e6(0x4cc)][_0x2b88e6(0x574)]&&this[_0x2b88e6(0x25c)][_0x2b88e6(0x28e)]==TEAM_HUMAN){if(_0x2ffc00['bodyPartImg']&&_0x2ffc00[_0x2b88e6(0x382)]&&_0x2ffc00['bodyPartImg'][_0x2b88e6(0x41f)])this['UI'][_0x2b88e6(0x568)](_0x2ffc00[_0x2b88e6(0x449)],0x64,0x64);else this[_0x2b88e6(0x283)]=!![];if(this[_0x2b88e6(0x33e)])this['UI'][_0x2b88e6(0x2ee)](_0x2b88e6(0x4cd)+this[_0x2b88e6(0x33e)][_0x2b88e6(0x440)],GAME_UI_LETTER_SIZE*0.8,0x14,_0x2b88e6(0x1b6),GAME_UI_FONT);else for(var _0x25df40 in _0x2ffc00[_0x2b88e6(0x1cd)]){var _0xfb7496=_0x2ffc00[_0x2b88e6(0x1cd)][_0x25df40];this['UI'][_0x2b88e6(0x374)](_0xfb7496[_0x2b88e6(0x50c)],GAME_UI_LETTER_SIZE,_0x2b88e6(0x1b6),_0x2b88e6(0x2ed),this[_0x2b88e6(0x1fb)],this[_0x2b88e6(0x20a)],{'callback':_0xfb7496[_0x2b88e6(0x3bc)],'info':_0xfb7496[_0x2b88e6(0x266)],'highlight':{'callback':_0xfb7496[_0x2b88e6(0x23a)],'input':_0xfb7496[_0x2b88e6(0x406)]},'windowInfo':_0xfb7496[_0x2b88e6(0x309)]},GAME_UI_FONT,parseInt(_0x25df40)+0x1);}}}}this[_0x2b88e6(0x1b5)](),this['UI'][_0x2b88e6(0x399)](),this[_0x2b88e6(0x51b)](!![]);},this[_0xda229a(0x248)]=_0x1396e3=>{var _0x2ec343=_0xda229a,_0x129502=[{'type':'button','callback':()=>{var _0x3e7abb=_0x4ea9;_0x1396e3[_0x3e7abb(0x512)]=_0x1396e3['value']>0x0?_0x1396e3['value']-0x1:0x0;},'txt':'∧','txt_color':_0x2ec343(0x484),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x2ec343(0x2f5),'strokeColor':_0x2ec343(0x1b6),'windowInfo':[{'callback':()=>{var _0x4cba84=_0x2ec343;return _0x4cba84(0x2ad);}}]},{'type':'button','callback':()=>{var _0x1edfe1=_0x2ec343;_0x1396e3[_0x1edfe1(0x512)]++;},'txt':'∨','txt_color':_0x2ec343(0x484),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x2ec343(0x2f5),'strokeColor':_0x2ec343(0x1b6),'windowInfo':[{'callback':()=>{var _0x11c75b=_0x2ec343;return _0x11c75b(0x1e9);}}]},{'type':_0x2ec343(0x463),'txt':'['+_0x1396e3['value']+':'+(_0x1396e3[_0x2ec343(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x2ec343(0x1b6),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0x129502;},this[_0xda229a(0x199)]=_0x40a18d=>{var _0x4e5fbb=_0xda229a;if(!_0x40a18d)return;var _0x4fdad2='#000000';switch(_0x40a18d['type']){case TEAM_HUMAN:_0x4fdad2=_0x4e5fbb(0x1a3);break;case TEAM_AI:_0x4fdad2=_0x4e5fbb(0x39f);break;}this['UIevent']['addTextZone'](_0x40a18d[_0x4e5fbb(0x463)],GAME_UI_LETTER_SIZE/0x2,0x270f,_0x4fdad2,GAME_UI_FONT);};},ControlManager=function(){var _0x5376d9=_0x4f97f4;this['keyDown']=[],this['keyUp']=[],this[_0x5376d9(0x564)]={'x':0x0,'y':0x0,'lastTime':new Date()[_0x5376d9(0x2fd)]()},window[_0x5376d9(0x1a8)](_0x5376d9(0x242),_0x3a0d89=>{var _0x3d6aa9=_0x5376d9;if(_0x3a0d89[_0x3d6aa9(0x1fd)])return;var _0x4030df=_0x3a0d89[_0x3d6aa9(0x558)],_0x1c27d2=_0x3a0d89[_0x3d6aa9(0x560)];this[_0x3d6aa9(0x31e)][_0x1c27d2]=!![];}),window[_0x5376d9(0x1a8)](_0x5376d9(0x40f),_0x8c0c8a=>{var _0x499d12=_0x5376d9,_0x3f05e3=_0x8c0c8a[_0x499d12(0x558)],_0x1e9c88=_0x8c0c8a['code'];this[_0x499d12(0x31e)][_0x1e9c88]=![],this[_0x499d12(0x4c7)][_0x1e9c88]=!![];}),window[_0x5376d9(0x1a8)](_0x5376d9(0x3e8),_0xf6e56c=>{var _0x139932=_0x5376d9,_0x314742=_0xf6e56c[_0x139932(0x365)];if(world[_0x139932(0x212)]){if(_0x314742>0x0)world[_0x139932(0x212)][_0x139932(0x2e8)](0x0,0x0,0.95);else{if(_0x314742<0x0)world[_0x139932(0x212)][_0x139932(0x2e8)](0x0,0x0,1.05);}}}),window[_0x5376d9(0x1a8)](_0x5376d9(0x1c1),_0x381ade=>{var _0x57c8ae=_0x5376d9,_0x380634=world[_0x57c8ae(0x20f)][_0x57c8ae(0x201)][_0x57c8ae(0x58f)];pos=_0x380634['getPixelPosition'](_0x381ade[_0x57c8ae(0x33d)],_0x381ade[_0x57c8ae(0x338)]),pos&&(this[_0x57c8ae(0x1d4)]={'x':pos['x'],'y':pos['y'],'button':_0x381ade[_0x57c8ae(0x363)]});}),window[_0x5376d9(0x1a8)](_0x5376d9(0x300),_0x16b1bd=>{var _0x1d5560=_0x5376d9,_0x1a5f44=world[_0x1d5560(0x20f)]['canList'][_0x1d5560(0x58f)];this[_0x1d5560(0x564)]=_0x1a5f44[_0x1d5560(0x3bb)](_0x16b1bd[_0x1d5560(0x33d)],_0x16b1bd[_0x1d5560(0x338)]);if(this[_0x1d5560(0x564)])this[_0x1d5560(0x564)][_0x1d5560(0x489)]=new Date()[_0x1d5560(0x2fd)]();}),this['CheckControlInput']=()=>{var _0x41dcaf=_0x5376d9,_0x30bcd5=![];if(world[_0x41dcaf(0x212)]){if(this[_0x41dcaf(0x31e)][_0x41dcaf(0x1c6)])world[_0x41dcaf(0x212)][_0x41dcaf(0x2e8)](0x0,-0.1/world[_0x41dcaf(0x212)]['scale'],0x1);if(this['keyDown']['KeyS'])world[_0x41dcaf(0x212)][_0x41dcaf(0x2e8)](0x0,0.1/world[_0x41dcaf(0x212)][_0x41dcaf(0x45f)],0x1);if(this[_0x41dcaf(0x31e)][_0x41dcaf(0x40d)])world[_0x41dcaf(0x212)][_0x41dcaf(0x2e8)](-0.1/world[_0x41dcaf(0x212)][_0x41dcaf(0x45f)],0x0,0x1);if(this[_0x41dcaf(0x31e)][_0x41dcaf(0x274)])world[_0x41dcaf(0x212)]['changeMapView'](0.1/world[_0x41dcaf(0x212)][_0x41dcaf(0x45f)],0x0,0x1);if(this['keyDown'][_0x41dcaf(0x4f1)])world[_0x41dcaf(0x212)][_0x41dcaf(0x2e8)](0x0,-0.1/world[_0x41dcaf(0x212)]['scale'],0x1);if(this[_0x41dcaf(0x31e)]['ArrowDown'])world[_0x41dcaf(0x212)][_0x41dcaf(0x2e8)](0x0,0.1/world['map'][_0x41dcaf(0x45f)],0x1);if(this['keyDown'][_0x41dcaf(0x2be)])world['map'][_0x41dcaf(0x2e8)](-0.1/world[_0x41dcaf(0x212)][_0x41dcaf(0x45f)],0x0,0x1);if(this[_0x41dcaf(0x31e)][_0x41dcaf(0x1e1)])world[_0x41dcaf(0x212)][_0x41dcaf(0x2e8)](0.1/world[_0x41dcaf(0x212)][_0x41dcaf(0x45f)],0x0,0x1);if(this[_0x41dcaf(0x31e)][_0x41dcaf(0x34e)])world[_0x41dcaf(0x212)][_0x41dcaf(0x2e8)](0x0,0x0,0.95);if(this[_0x41dcaf(0x31e)][_0x41dcaf(0x477)])world[_0x41dcaf(0x212)]['changeMapView'](0x0,0x0,1.05);}if(this[_0x41dcaf(0x4c7)][_0x41dcaf(0x4d9)]){if(!world['Screen']['fullScreen'])world[_0x41dcaf(0x20f)]['openFullscreen']();else world[_0x41dcaf(0x20f)][_0x41dcaf(0x1cc)](document);world[_0x41dcaf(0x4ff)][_0x41dcaf(0x41c)](_0x41dcaf(0x407),undefined,!![]);}for(var _0x500b71 in this['keyUp']){if(!_0x30bcd5&&_0x500b71['startsWith'](_0x41dcaf(0x3e7))||_0x500b71[_0x41dcaf(0x348)]('Numpad'))_0x500b71=_0x500b71[_0x41dcaf(0x4aa)]('Digit','')['replace'](_0x41dcaf(0x420),'');if(world['GameUI']&&!_0x30bcd5&&world['GameUI']['getKeyInput'](_0x500b71)){world[_0x41dcaf(0x4ff)][_0x41dcaf(0x41c)]('click',undefined,!![]),_0x30bcd5=!![];if(world['GameUI'])world['GameUI'][_0x41dcaf(0x283)]=!![];break;}if(world['villageUI']&&world[_0x41dcaf(0x57b)]['getKeyInput'](_0x500b71)){world['Music']['playSound'](_0x41dcaf(0x407),undefined,!![]),_0x30bcd5=!![];if(world[_0x41dcaf(0x57b)])world[_0x41dcaf(0x57b)]['needRedraw']=!![];break;}if(world['MenuUI']&&world[_0x41dcaf(0x1d5)][_0x41dcaf(0x4d2)](_0x500b71)){world[_0x41dcaf(0x4ff)][_0x41dcaf(0x41c)]('click',undefined,!![]),_0x30bcd5=!![];if(world[_0x41dcaf(0x1d5)])world[_0x41dcaf(0x1d5)][_0x41dcaf(0x283)]=!![];break;}}this[_0x41dcaf(0x4c7)]=[];if(this[_0x41dcaf(0x1d4)]){if(!_0x30bcd5&&world['GameUI']&&world[_0x41dcaf(0x4c1)][_0x41dcaf(0x3c1)](this[_0x41dcaf(0x1d4)])){world[_0x41dcaf(0x4ff)][_0x41dcaf(0x41c)](_0x41dcaf(0x407),undefined,!![]),_0x30bcd5=!![];if(world[_0x41dcaf(0x4c1)])world[_0x41dcaf(0x4c1)][_0x41dcaf(0x283)]=!![];}if(!_0x30bcd5&&world[_0x41dcaf(0x57b)]&&world['villageUI'][_0x41dcaf(0x3c1)](this['inputclick'])){world[_0x41dcaf(0x4ff)][_0x41dcaf(0x41c)](_0x41dcaf(0x407),undefined,!![]),_0x30bcd5=!![];if(world[_0x41dcaf(0x57b)])world[_0x41dcaf(0x57b)][_0x41dcaf(0x283)]=!![];}if(!_0x30bcd5&&world[_0x41dcaf(0x1d5)]&&world[_0x41dcaf(0x1d5)]['getMouseInput'](this[_0x41dcaf(0x1d4)])){world['Music'][_0x41dcaf(0x41c)]('click',undefined,!![]),_0x30bcd5=!![];if(world[_0x41dcaf(0x1d5)])world[_0x41dcaf(0x1d5)][_0x41dcaf(0x283)]=!![];}}this[_0x41dcaf(0x1d4)]=undefined;};},PLAYER_WEAPON_IMG=[{'name':_0x4f97f4(0x3f3),'center':{'x':0xa1,'y':0xd},'sound':_0x4f97f4(0x520)},{'name':_0x4f97f4(0x527),'center':{'x':0x28,'y':0x11},'sound':_0x4f97f4(0x415)},{'name':_0x4f97f4(0x513),'center':{'x':0x3c,'y':0x40},'sound':_0x4f97f4(0x54b)},{'name':_0x4f97f4(0x43b),'center':{'x':0x16,'y':0x11},'sound':_0x4f97f4(0x24b)},{'name':'stone_axe','center':{'x':0x32,'y':0x37},'sound':'smash'},{'name':_0x4f97f4(0x2a3),'center':{'x':0x39,'y':0x25},'sound':_0x4f97f4(0x335)},{'name':_0x4f97f4(0x28d),'center':{'x':0x41,'y':0x46},'sound':_0x4f97f4(0x241)},{'name':_0x4f97f4(0x3c0),'center':{'x':0xa,'y':0x1a},'sound':_0x4f97f4(0x415)},{'name':_0x4f97f4(0x3bd),'center':{'x':0x1f,'y':0x29},'sound':_0x4f97f4(0x452)}],WEAPON_TYPE=[{'name':'Wood\x20Stick','Img':_0x4f97f4(0x43b),'weaponAnim':_0x4f97f4(0x58b),'bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':_0x4f97f4(0x2eb),'input':{}},'zoneTarget':[{'callback':_0x4f97f4(0x536),'damageBase':[{'stats':_0x4f97f4(0x53e),'type':'crushing','value':0x1}]}]},{'name':'Stone\x20Spear','Img':_0x4f97f4(0x3f3),'weaponAnim':_0x4f97f4(0x4e8),'bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':_0x4f97f4(0x342),'input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x4f97f4(0x536),'damageBase':[{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x381),'value':1.5}]},{'callback':_0x4f97f4(0x2bb),'damageBase':[{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x381),'value':0.5}]}]},{'name':_0x4f97f4(0x33a),'Img':_0x4f97f4(0x334),'weaponAnim':_0x4f97f4(0x58b),'bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':_0x4f97f4(0x342),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x35b),'value':0x1},{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x501),'value':0x1}]}]},{'name':'Metal\x20Sword','Img':_0x4f97f4(0x527),'weaponAnim':_0x4f97f4(0x58b),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x381),'value':1.5},{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x501),'value':1.5}]}]},{'name':_0x4f97f4(0x4b1),'Img':_0x4f97f4(0x513),'weaponAnim':_0x4f97f4(0x4e7),'actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x35b),'value':0x2},{'stats':_0x4f97f4(0x53e),'type':'slashing','value':0x2}]},{'callback':'getBlocksAtRange','callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':'Strength','type':_0x4f97f4(0x35b),'value':0.2},{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x501),'value':0.2}]}]},{'name':_0x4f97f4(0x260),'Img':_0x4f97f4(0x2a3),'weaponAnim':_0x4f97f4(0x41b),'bonus':[],'projectil':{'ammo':_0x4f97f4(0x42e),'projectilSpeed':0x64,'sound':'arrow_projectil'},'actionCost':0x32,'blockTargetingFunction':{'callback':_0x4f97f4(0x481),'input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x4f97f4(0x2f8),'type':_0x4f97f4(0x381),'value':0x1}]}]},{'name':_0x4f97f4(0x298),'Img':'stone_pickaxe','weaponAnim':_0x4f97f4(0x58b),'actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':_0x4f97f4(0x2eb),'input':{}},'zoneTarget':[{'callback':_0x4f97f4(0x536),'damageBase':[{'stats':'Strength','type':_0x4f97f4(0x381),'value':0x2}]}]},{'name':_0x4f97f4(0x3a6),'Img':_0x4f97f4(0x3c0),'weaponAnim':_0x4f97f4(0x58b),'actionCost':0x1e,'bonus':[],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x4f97f4(0x2eb),'input':{}},'zoneTarget':[{'callback':_0x4f97f4(0x536),'damageBase':[{'stats':_0x4f97f4(0x2f8),'type':_0x4f97f4(0x501),'value':1.7}]}]},{'name':_0x4f97f4(0x4c8),'Img':_0x4f97f4(0x3c0),'weaponAnim':_0x4f97f4(0x58b),'actionCost':0x36,'bonus':[BONUS_FORGE_UPPGRADE],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x4f97f4(0x2eb),'input':{}},'zoneTarget':[{'callback':_0x4f97f4(0x536),'damageBase':[{'stats':_0x4f97f4(0x53e),'type':_0x4f97f4(0x273),'value':2.3}]}]}],Weapon=function(){var _0x7d06e9=_0x4f97f4;this['itemType']=_0x7d06e9(0x1ff),this[_0x7d06e9(0x50c)],this[_0x7d06e9(0x220)],this[_0x7d06e9(0x4dd)],this[_0x7d06e9(0x528)],this[_0x7d06e9(0x3af)],this['actionCost'],this[_0x7d06e9(0x4e2)],this[_0x7d06e9(0x2fb)],this[_0x7d06e9(0x1e2)],this[_0x7d06e9(0x4ac)]=_0xfb7ea8=>{var _0x11abe5=_0x7d06e9;if(!_0xfb7ea8||!_0xfb7ea8[_0x11abe5(0x50c)])return console['log']('can\x27t\x20create\x20this\x20weapon');var _0x341bc5=WEAPON_TYPE['find'](_0x4e385f=>_0x4e385f[_0x11abe5(0x50c)]==_0xfb7ea8['name']);if(!_0x341bc5)return console[_0x11abe5(0x4d5)](_0x11abe5(0x487));var _0x58cc44=PLAYER_WEAPON_IMG[_0x11abe5(0x275)](_0x3ecb02=>_0x3ecb02[_0x11abe5(0x50c)]==_0x341bc5[_0x11abe5(0x2a6)]);if(!_0x58cc44)return console['log'](_0x11abe5(0x487));return this[_0x11abe5(0x4dd)]=_0x58cc44['name'],this[_0x11abe5(0x50c)]=_0xfb7ea8['name'],this[_0x11abe5(0x528)]=_0x341bc5[_0x11abe5(0x220)],this[_0x11abe5(0x3af)]=_0x341bc5[_0x11abe5(0x3af)],this[_0x11abe5(0x55b)]=_0x341bc5[_0x11abe5(0x55b)],this['blockTargetingFunction']=_0x341bc5['blockTargetingFunction'],this[_0x11abe5(0x2f9)]=_0x341bc5['projectil'],this[_0x11abe5(0x2fb)]=_0x341bc5['bonus'],this[_0x11abe5(0x1e2)]=_0x341bc5[_0x11abe5(0x1e2)],this;},this[_0x7d06e9(0x50f)]=_0x40783b=>{for(var _0x11a3c9 in _0x40783b){this[_0x11a3c9]=_0x40783b[_0x11a3c9];}return this;},this[_0x7d06e9(0x4a0)]=()=>{var _0x54bbad=_0x7d06e9,_0x31f7af=WEAPON_TYPE[Math[_0x54bbad(0x394)](Math[_0x54bbad(0x356)]()*WEAPON_TYPE['length'])];return this[_0x54bbad(0x4ac)]({'name':_0x31f7af[_0x54bbad(0x50c)]});},this[_0x7d06e9(0x1f2)]=()=>{var _0x474384=_0x7d06e9,_0x1ab9f1='Attack\x20with\x20'+this[_0x474384(0x50c)]+_0x474384(0x468)+this['actionCost']+_0x474384(0x31a);switch(this[_0x474384(0x4e2)][_0x474384(0x3bc)]){case _0x474384(0x2eb):_0x1ab9f1+='\x0aTarget\x20adjacents\x20blocks';break;case'getBlocksAtRangeFromPlayer':_0x1ab9f1+=_0x474384(0x562)+this[_0x474384(0x4e2)]['input']['rangeMin']+','+this[_0x474384(0x4e2)]['input'][_0x474384(0x315)]+']';break;}for(var _0x5c912b in this['zoneTarget']){var _0x2a8ed2=this[_0x474384(0x3af)][_0x5c912b];switch(_0x2a8ed2['callback']){case _0x474384(0x536):_0x1ab9f1+=_0x474384(0x441);break;case'getBlockBehindTarget':var _0x1d273f=_0x2a8ed2['callback_data']?_0x2a8ed2[_0x474384(0x1a0)][_0x474384(0x4b4)]:0x1,_0x2316e1=_0x2a8ed2[_0x474384(0x1a0)]?_0x2a8ed2[_0x474384(0x1a0)][_0x474384(0x315)]:0x1;_0x1ab9f1+='\x0a-hit\x20between\x20['+[_0x1d273f,_0x2316e1]+_0x474384(0x3ae);break;case _0x474384(0x57f):var _0x1d273f=_0x2a8ed2[_0x474384(0x1a0)]?_0x2a8ed2['callback_data'][_0x474384(0x4b4)]:0x1,_0x2316e1=_0x2a8ed2[_0x474384(0x1a0)]?_0x2a8ed2[_0x474384(0x1a0)][_0x474384(0x315)]:0x1;_0x1ab9f1+='\x0a-hit\x20['+[_0x1d273f,_0x2316e1]+']\x20distance\x20around\x20the\x20target';break;}for(var _0x6e6dfb in _0x2a8ed2['damageBase']){var _0x53cf69=_0x2a8ed2[_0x474384(0x552)][_0x6e6dfb];_0x1ab9f1+=_0x474384(0x366)+_0x53cf69[_0x474384(0x512)]+'\x20'+_0x53cf69[_0x474384(0x46b)]+'\x20'+_0x53cf69['type']+'\x20damage';}}for(var _0x5c912b in this[_0x474384(0x2fb)])if(BONUS_DESCRIPTION[this[_0x474384(0x2fb)]])_0x1ab9f1+='\x0a'+BONUS_DESCRIPTION[this['bonus']];return _0x1ab9f1;},this[_0x7d06e9(0x1e5)]=()=>{var _0x1a7b0b=_0x7d06e9;if(!this['upgradeLvl'])return![];return Math[_0x1a7b0b(0x3f8)](0x64*(0x1/(0x2+this[_0x1a7b0b(0x1e2)])));},this[_0x7d06e9(0x426)]=_0x34e729=>{var _0x37269a=_0x7d06e9;if(!this[_0x37269a(0x1e2)]||!_0x34e729||!_0x34e729['player']||!_0x34e729['player'][_0x37269a(0x24a)])return![];var _0x1ec042=Math[_0x37269a(0x394)](Math[_0x37269a(0x356)]()*0x64),_0x198518=_0x34e729[_0x37269a(0x3cb)],_0x21f7ed=0x1;_0x198518[_0x37269a(0x24a)]=0x0;if(_0x198518['weapon']&&_0x198518['weapon'][_0x37269a(0x2fb)][_0x37269a(0x275)](_0x4846ee=>_0x4846ee==BONUS_FORGE_UPPGRADE))_0x21f7ed++;if(_0x1ec042/_0x21f7ed-_0x198518[_0x37269a(0x24a)]/0x2<this['getChanceUppgrade']()){var _0x3c8053=Math['floor'](Math['random']()*this[_0x37269a(0x3af)][_0x37269a(0x289)]),_0x5e0989=this[_0x37269a(0x3af)][_0x3c8053],_0x5b045d=Math[_0x37269a(0x394)](Math[_0x37269a(0x356)]()*_0x5e0989[_0x37269a(0x552)][_0x37269a(0x289)]),_0x1f86d4=_0x5e0989[_0x37269a(0x552)][_0x5b045d][_0x37269a(0x512)]*0.1,_0x57fccd=_0x1f86d4[_0x37269a(0x570)](0x1);_0x1f86d4=parseFloat((_0x5e0989[_0x37269a(0x552)][_0x5b045d][_0x37269a(0x512)]+_0x1f86d4)[_0x37269a(0x570)](0x1));if(_0x1f86d4<0.1)_0x1f86d4=0.1;return _0x5e0989[_0x37269a(0x552)][_0x5b045d][_0x37269a(0x512)]=_0x1f86d4,this['upgradeLvl']++,world[_0x37269a(0x2ce)][_0x37269a(0x3da)]['addMessage']({'type':_0x37269a(0x569),'txt':_0x37269a(0x247)+this[_0x37269a(0x50c)]+'\x27\x20'+_0x5e0989[_0x37269a(0x552)][_0x5b045d]['stats']+'\x20'+_0x5e0989[_0x37269a(0x552)][_0x5b045d][_0x37269a(0x213)]+_0x37269a(0x2e4)+_0x57fccd}),!![];}return world[_0x37269a(0x2ce)]['MessageSystem']['addMessage']({'type':_0x37269a(0x569),'txt':_0x37269a(0x3e5)+this[_0x37269a(0x50c)]+'\x27\x20uppgrading'}),![];};};function CalculeDamageWeaponFromPlayerStats(_0x111e19){var _0x2e6475=_0x4f97f4;if(!_0x111e19||!_0x111e19[_0x2e6475(0x3cb)]||!_0x111e19[_0x2e6475(0x393)])return undefined;var _0x18a09a=_0x111e19[_0x2e6475(0x393)],_0x2234a7=_0x111e19[_0x2e6475(0x3cb)],_0x344375=[];for(var _0x3b2263 in _0x18a09a)_0x344375[_0x2e6475(0x32f)]({'type':_0x18a09a[_0x3b2263][_0x2e6475(0x213)],'value':_0x2234a7[_0x2e6475(0x46b)][_0x18a09a[_0x3b2263]['stats']]*_0x18a09a[_0x3b2263][_0x2e6475(0x512)]});return _0x344375;}PLAYER_ARMOR=[{'name':_0x4f97f4(0x29f),'img':_0x4f97f4(0x431),'dmgArmor':[{'damage':'crushing','type':_0x4f97f4(0x4c4),'value':0x14},{'damage':'piercing','value':0x2}]}],PLAYER_ARMOR=[{'name':_0x4f97f4(0x3a5),'img':_0x4f97f4(0x4a8),'dmgArmor':[{'damage':'crushing','type':_0x4f97f4(0x4c4),'value':0x19},{'damage':'crushing','value':0x5}]}],Armor=function(){var _0x20487f=_0x4f97f4;this[_0x20487f(0x592)]=_0x20487f(0x2a1),this['name'],this[_0x20487f(0x4dd)],this[_0x20487f(0x496)],this['createNewArmor']=_0x23efed=>{var _0x1a489d=_0x20487f;if(!_0x23efed||!_0x23efed[_0x1a489d(0x50c)])return undefined;this[_0x1a489d(0x50c)]=_0x23efed[_0x1a489d(0x50c)];var _0xf49112=PLAYER_ARMOR['find'](_0x3a1d8a=>_0x3a1d8a[_0x1a489d(0x50c)]==_0x23efed[_0x1a489d(0x50c)]);if(!_0xf49112)return undefined;return this['img']=_0xf49112['img']?_0xf49112[_0x1a489d(0x4dd)]:this[_0x1a489d(0x50c)],this[_0x1a489d(0x496)]=_0xf49112['dmgArmor'],this;},this[_0x20487f(0x554)]=_0x765a59=>{for(var _0x5ba931 in _0x765a59)this[_0x5ba931]=_0x765a59[_0x5ba931];return this;},this[_0x20487f(0x59f)]=()=>{var _0x3c126b=_0x20487f;return this[_0x3c126b(0x435)]({'name':PLAYER_ARMOR[Math[_0x3c126b(0x394)](Math['random']()*PLAYER_ARMOR[_0x3c126b(0x289)])][_0x3c126b(0x50c)]});},this[_0x20487f(0x233)]=_0x3099ae=>{var _0x41816b=_0x20487f;if(!_0x3099ae||!_0x3099ae[_0x41816b(0x46a)]||_0x3099ae[_0x41816b(0x46a)][_0x41816b(0x289)]<0x1)return 0x0;var _0x44718e=0x0;for(var _0x17057c in _0x3099ae[_0x41816b(0x46a)]){var _0x5f237f=_0x3099ae['damages'][_0x17057c],_0x3c4d96=_0x5f237f[_0x41816b(0x512)];console[_0x41816b(0x4d5)]('check\x20dmg\x20:\x20'+_0x5f237f+'\x20'+_0x3c4d96);for(var _0x429095 in this[_0x41816b(0x496)]){var _0x53cd9a=this[_0x41816b(0x496)][_0x429095];console[_0x41816b(0x4d5)](_0x41816b(0x1bf)+[_0x53cd9a[_0x41816b(0x393)],_0x53cd9a['type'],_0x5f237f[_0x41816b(0x213)]]);if(_0x53cd9a[_0x41816b(0x393)]==_0x5f237f[_0x41816b(0x213)]){console[_0x41816b(0x4d5)](_0x41816b(0x32d)+_0x5f237f[_0x41816b(0x213)]+_0x41816b(0x231)+_0x53cd9a[_0x41816b(0x512)]+_0x41816b(0x56d)+_0x53cd9a[_0x41816b(0x213)]);if(_0x53cd9a[_0x41816b(0x213)])_0x3c4d96=_0x3c4d96*(0x1-_0x53cd9a[_0x41816b(0x512)]/0x64);else _0x3c4d96=_0x3c4d96-_0x53cd9a[_0x41816b(0x512)];}}if(_0x3c4d96>0x0)_0x44718e+=_0x3c4d96;}console[_0x41816b(0x4d5)](_0x41816b(0x292)+_0x44718e+'\x20('+Math[_0x41816b(0x394)](_0x44718e)+')');if(_0x44718e>0x0)return parseInt(_0x44718e);return 0x0;},this[_0x20487f(0x30c)]=()=>{var _0x50beee=_0x20487f,_0x2532d1='\x27'+this[_0x50beee(0x50c)]+'\x27';for(var _0x111299 in this[_0x50beee(0x496)]){_0x2532d1+='\x0a-reduce\x20';if(this[_0x50beee(0x496)][_0x111299]['type'])_0x2532d1+=this[_0x50beee(0x496)][_0x111299][_0x50beee(0x512)]+_0x50beee(0x34c);else _0x2532d1+=this[_0x50beee(0x496)][_0x111299]['value']+'\x20';_0x2532d1+=this[_0x50beee(0x496)][_0x111299][_0x50beee(0x393)]+'\x20incoming\x20damage';}return _0x2532d1;};},HUMAN_NAME_LIST=[_0x4f97f4(0x4e6),_0x4f97f4(0x4de),'Halo\x20Knapp',_0x4f97f4(0x1f1),_0x4f97f4(0x228),'Collin\x20Snow','Alexia\x20Anderson',_0x4f97f4(0x4f0),'Linda\x20Castillo',_0x4f97f4(0x3f1),'Jianna\x20Wood',_0x4f97f4(0x1ce),'Khloe\x20Horn',_0x4f97f4(0x540),_0x4f97f4(0x21f),_0x4f97f4(0x2f2),_0x4f97f4(0x521),_0x4f97f4(0x45d),'Lorelei\x20Alexander',_0x4f97f4(0x48a),_0x4f97f4(0x1af),_0x4f97f4(0x4e9),'Ila\x20Ellis','Cole\x20Clayton',_0x4f97f4(0x579),_0x4f97f4(0x4a7),_0x4f97f4(0x1c8),'Stefan\x20Christian',_0x4f97f4(0x3ba),_0x4f97f4(0x544),_0x4f97f4(0x2c3),_0x4f97f4(0x41d),_0x4f97f4(0x1db),_0x4f97f4(0x4ba),_0x4f97f4(0x339),'Vincent\x20Dougherty',_0x4f97f4(0x316),_0x4f97f4(0x3d0),_0x4f97f4(0x416),_0x4f97f4(0x567),'Kaydence\x20Xiong','Azrael\x20Ali',_0x4f97f4(0x1b0),_0x4f97f4(0x329),_0x4f97f4(0x4ee),_0x4f97f4(0x36d),_0x4f97f4(0x57d),_0x4f97f4(0x4a5),'Vada\x20Conley',_0x4f97f4(0x2c4),_0x4f97f4(0x3b8),_0x4f97f4(0x1fe),_0x4f97f4(0x3fe),_0x4f97f4(0x518),_0x4f97f4(0x54f),'Cillian\x20Ray',_0x4f97f4(0x332),_0x4f97f4(0x256),_0x4f97f4(0x473),_0x4f97f4(0x482),'Hazel\x20Crawford','Kevin\x20Wiggins',_0x4f97f4(0x253),_0x4f97f4(0x503),_0x4f97f4(0x31f),'Kenji\x20McLaughlin',_0x4f97f4(0x447),_0x4f97f4(0x3ea),_0x4f97f4(0x595),_0x4f97f4(0x54a),'Daisy\x20Robinson',_0x4f97f4(0x1a5),'Itzel\x20Allison',_0x4f97f4(0x340),_0x4f97f4(0x3c4),'Grady\x20O’Neal',_0x4f97f4(0x546),_0x4f97f4(0x271),'Maci\x20Alvarado','Andres\x20Sampson',_0x4f97f4(0x238),_0x4f97f4(0x302),_0x4f97f4(0x270),_0x4f97f4(0x263),_0x4f97f4(0x4d6),_0x4f97f4(0x44f),_0x4f97f4(0x4fd),'Jamison\x20Pace',_0x4f97f4(0x21c),'Peter\x20Tate',_0x4f97f4(0x46c),_0x4f97f4(0x1ad),_0x4f97f4(0x1a1),_0x4f97f4(0x530),_0x4f97f4(0x1ca),'Dakari\x20Poole','Bonnie\x20Bishop','Paxton\x20Pollard',_0x4f97f4(0x3fa),_0x4f97f4(0x202)],MessageSystem=function(){var _0x128642=_0x4f97f4;world[_0x128642(0x3da)]=this,this[_0x128642(0x20b)]=[],COLOR_SYSTEM_DEFAULT='#000000',MAX_MESSAGE=0xc8,this['addMessage']=_0x2f40db=>{var _0x8529c9=_0x128642;if(!_0x2f40db||!_0x2f40db['txt'])return;this['msg'][_0x8529c9(0x576)]({'type':_0x2f40db[_0x8529c9(0x213)],'txt':_0x2f40db[_0x8529c9(0x463)]});while(this[_0x8529c9(0x20b)][_0x8529c9(0x289)]>MAX_MESSAGE)this[_0x8529c9(0x20b)][_0x8529c9(0x311)]();},this['addMessage']({'txt':_0x128642(0x21b)}),this[_0x128642(0x44d)]=_0xdbaf1=>{var _0x5cb650=_0x128642;if(!_0xdbaf1||!this[_0x5cb650(0x20b)]||this[_0x5cb650(0x20b)][_0x5cb650(0x289)]<0x1)return[];var _0x4342e2=_0xdbaf1[_0x5cb650(0x589)]&&_0xdbaf1[_0x5cb650(0x589)]<this[_0x5cb650(0x20b)][_0x5cb650(0x289)]?_0xdbaf1['page']:0x0,_0x3ab760=_0xdbaf1[_0x5cb650(0x1e3)]?_0xdbaf1[_0x5cb650(0x1e3)]:0xa;while(_0x4342e2+_0x3ab760>this[_0x5cb650(0x20b)]['length']&&_0x3ab760>0x0)_0x3ab760--;var _0x2e0ed6=[],_0x5dff73=0x0;while(_0x5dff73<_0x3ab760&&this[_0x5cb650(0x20b)][_0x4342e2+_0x5dff73]){_0x2e0ed6[_0x5cb650(0x32f)](this[_0x5cb650(0x20b)][_0x4342e2+_0x5dff73]),_0x5dff73++;}return _0x2e0ed6;};},PlayerVillage=function(_0x2abc37){var _0x4bc947=_0x4f97f4;this[_0x4bc947(0x50c)]=_0x2abc37[_0x4bc947(0x50c)]?_0x2abc37[_0x4bc947(0x50c)]:HUMAN_NAME_LIST[Math['floor'](Math[_0x4bc947(0x356)]()*HUMAN_NAME_LIST[_0x4bc947(0x289)])],this[_0x4bc947(0x3b0)]=_0x2abc37['color']?_0x2abc37['color']:{'r':Math[_0x4bc947(0x394)](Math[_0x4bc947(0x356)]()*0x100),'g':Math[_0x4bc947(0x394)](Math[_0x4bc947(0x356)]()*0x100),'b':Math[_0x4bc947(0x394)](Math[_0x4bc947(0x356)]()*0x100)},this[_0x4bc947(0x449)]=undefined,this[_0x4bc947(0x382)]=![],this[_0x4bc947(0x2d7)]=_0x2abc37['face_type']?_0x2abc37[_0x4bc947(0x2d7)]:PLAYER_FACE_IMG[Math[_0x4bc947(0x394)](Math[_0x4bc947(0x356)]()*PLAYER_FACE_IMG[_0x4bc947(0x289)])],this[_0x4bc947(0x433)]=_0x2abc37[_0x4bc947(0x433)]?_0x2abc37[_0x4bc947(0x433)]:PLAYER_BODY_IMG[Math[_0x4bc947(0x394)](Math[_0x4bc947(0x356)]()*PLAYER_BODY_IMG[_0x4bc947(0x289)])],this[_0x4bc947(0x2a1)]=_0x2abc37[_0x4bc947(0x2a1)]?_0x2abc37[_0x4bc947(0x2a1)]:undefined,this['weapon']=_0x2abc37[_0x4bc947(0x1ff)]?_0x2abc37[_0x4bc947(0x1ff)]:undefined,this['speed']=_0x2abc37[_0x4bc947(0x4db)]?_0x2abc37[_0x4bc947(0x4db)]:0x64,this[_0x4bc947(0x3aa)]=_0x2abc37[_0x4bc947(0x3aa)]?_0x2abc37['ActionPointMax']:0x64,this[_0x4bc947(0x533)]=_0x2abc37[_0x4bc947(0x533)]?_0x2abc37[_0x4bc947(0x533)]:0x64,this[_0x4bc947(0x46b)]=_0x2abc37[_0x4bc947(0x46b)],this['movePCost']=_0x2abc37[_0x4bc947(0x1ab)]?_0x2abc37[_0x4bc947(0x1ab)]:PLAYER_DEFAUTL_MOVECOST,this[_0x4bc947(0x2f0)]=_0x2abc37[_0x4bc947(0x2f0)]?_0x2abc37['size']:0x1,this['id']=PLAYER_ID++,this[_0x4bc947(0x3b6)]=_0x2abc37[_0x4bc947(0x3b6)]?_0x2abc37['villageActionPointMax']:0xa,this[_0x4bc947(0x24a)]=this[_0x4bc947(0x3b6)],this['age']=_0x2abc37[_0x4bc947(0x27e)]?_0x2abc37[_0x4bc947(0x59c)]:0x0,this['lvl']=_0x2abc37[_0x4bc947(0x442)]?_0x2abc37['lvl']:0x1,this[_0x4bc947(0x475)]=_0x2abc37[_0x4bc947(0x475)]?_0x2abc37[_0x4bc947(0x475)]:0x0,this[_0x4bc947(0x3d5)]=[],this[_0x4bc947(0x4c6)]=()=>{var _0x237972=_0x4bc947,_0x1d1443=[],_0x3f3954=Math['floor'](Math['random']()*0x64),_0x217603=_0x237972(0x46b),_0x5daf63=[{'type':_0x237972(0x46b),'stat':_0x237972(0x53e),'value':0x1},{'type':_0x237972(0x46b),'stat':_0x237972(0x2f8),'value':0x1},{'type':_0x237972(0x572),'stat':_0x237972(0x533),'value':0x5},{'type':_0x237972(0x572),'stat':'speed','value':0x2},{'type':'playerstats','stat':_0x237972(0x1ab),'value':-0x1},{'type':_0x237972(0x572),'stat':_0x237972(0x3aa),'value':0x4},{'type':'playerstats','stat':_0x237972(0x3b6),'value':0x5}];while(_0x1d1443[_0x237972(0x289)]<0x3){for(var _0x123e1b in _0x5daf63){if(Math[_0x237972(0x394)](Math[_0x237972(0x356)]()*0x64)<0x32)_0x1d1443[_0x237972(0x32f)](_0x5daf63[_0x123e1b]);if(_0x1d1443[_0x237972(0x289)]>0x2)break;}}return this[_0x237972(0x3d5)]=_0x1d1443,_0x1d1443;},this[_0x4bc947(0x474)]=_0x399c82=>{var _0x5e42e2=_0x4bc947;if(!_0x399c82||!_0x399c82['type']||!this[_0x5e42e2(0x475)])return;if(_0x399c82[_0x5e42e2(0x213)]==_0x5e42e2(0x572))this[_0x399c82[_0x5e42e2(0x239)]]+=_0x399c82[_0x5e42e2(0x512)];else _0x399c82[_0x5e42e2(0x213)]==_0x5e42e2(0x46b)&&(this[_0x5e42e2(0x46b)][_0x399c82['stat']]+=_0x399c82[_0x5e42e2(0x512)]);world[_0x5e42e2(0x2ce)]['MessageSystem'][_0x5e42e2(0x556)]({'type':_0x5e42e2(0x3cb),'txt':this['name']+'\x27s\x20'+_0x399c82[_0x5e42e2(0x239)]+'\x20'+_0x399c82[_0x5e42e2(0x512)]}),this[_0x5e42e2(0x3d5)]=[],this[_0x5e42e2(0x475)]--,this['lvl']++;},this['tryLvLup']=()=>{var _0x10154c=_0x4bc947,_0x363cb1=0x32*(0x1-this[_0x10154c(0x442)]/0x64),_0x4113aa=Math['floor'](Math[_0x10154c(0x356)]()*0x64);if(_0x4113aa<_0x363cb1)return this['lvlup']++,world[_0x10154c(0x2ce)][_0x10154c(0x3da)][_0x10154c(0x556)]({'type':_0x10154c(0x3cb),'txt':this[_0x10154c(0x50c)]+'\x20can\x20lvl\x20up\x20++'}),world[_0x10154c(0x4ff)][_0x10154c(0x41c)](_0x10154c(0x475)),!![];return![];},this[_0x4bc947(0x2c7)]=()=>{var _0x2f929d=_0x4bc947,_0x5c65d8=''+this['name'];_0x5c65d8+='\x0a'+_0x2f929d(0x243)+this[_0x2f929d(0x533)],_0x5c65d8+='\x0a'+_0x2f929d(0x299)+this['ActionPointMax'],_0x5c65d8+='\x0a'+_0x2f929d(0x510)+this[_0x2f929d(0x4db)];for(var _0x1e37e5 in this['stats'])_0x5c65d8+='\x0a'+_0x1e37e5+_0x2f929d(0x48d)+this[_0x2f929d(0x46b)][_0x1e37e5];return this['weapon']&&(_0x5c65d8+='\x0a'+'Equiped\x20with\x20\x27'+this['weapon'][_0x2f929d(0x50c)]+'\x27',_0x5c65d8+='\x0a'+'weapon\x20:\x20'+[this[_0x2f929d(0x1ff)]['blockTargetingFunction'][_0x2f929d(0x3bc)]]),_0x5c65d8;},this[_0x4bc947(0x34f)]=()=>{var _0x443918=_0x4bc947;if(!this['villageActionPoint'])return[];var _0x54dd82=world[_0x443918(0x2ce)][_0x443918(0x3d4)](this);if(!_0x54dd82||!_0x54dd82[_0x443918(0x437)]||!_0x54dd82[_0x443918(0x437)][_0x443918(0x289)])return[];var _0x19e466=_0x54dd82['callback_actionPlayer']['filter'](_0x970058=>_0x970058[_0x443918(0x4a2)]<=this['villageActionPoint']);return _0x19e466;},this['unequipWeapon']=()=>{var _0x4874a4=_0x4bc947;this['weapon']&&(world[_0x4874a4(0x2ce)][_0x4874a4(0x2bd)]({'weapon':this['weapon']}),this[_0x4874a4(0x1ff)]=undefined);},this[_0x4bc947(0x471)]=()=>{var _0x35d532=_0x4bc947;if(this[_0x35d532(0x2a1)])world[_0x35d532(0x2ce)][_0x35d532(0x23c)]({'armor':this['armor']});this[_0x35d532(0x2a1)]=undefined,this[_0x35d532(0x382)]=![];},this['unequipItem']=_0x530133=>{var _0x141562=_0x4bc947;if(!_0x530133||!_0x530133['item'])return;if(_0x530133[_0x141562(0x53a)][_0x141562(0x592)]==_0x141562(0x2a1))this['unequipArmor']();else{if(_0x530133[_0x141562(0x53a)][_0x141562(0x592)]==_0x141562(0x1ff))this[_0x141562(0x305)]();}},this[_0x4bc947(0x593)]=_0x58983f=>{var _0x2472c9=_0x4bc947;if(!_0x58983f||!_0x58983f[_0x2472c9(0x1ff)])return;var _0x2d5445=-0x1;for(var _0x5ef4f0 in world[_0x2472c9(0x2ce)][_0x2472c9(0x2d5)])if(world[_0x2472c9(0x2ce)][_0x2472c9(0x2d5)][_0x5ef4f0]==_0x58983f[_0x2472c9(0x1ff)])_0x2d5445=_0x5ef4f0;if(_0x2d5445==-0x1)return;if(this[_0x2472c9(0x1ff)])this['unequipWeapon']();this[_0x2472c9(0x1ff)]=_0x58983f[_0x2472c9(0x1ff)],world[_0x2472c9(0x2ce)][_0x2472c9(0x2d5)][_0x2472c9(0x1ee)](_0x2d5445,0x1);if(world[_0x2472c9(0x57b)]&&world[_0x2472c9(0x57b)][_0x2472c9(0x45e)]==_0x58983f[_0x2472c9(0x1ff)])world[_0x2472c9(0x57b)][_0x2472c9(0x45e)]=undefined;},this[_0x4bc947(0x1a6)]=_0x357063=>{var _0x46028e=_0x4bc947;if(!_0x357063||!_0x357063['armor'])return;var _0x743478=-0x1;for(var _0x24d7ba in world[_0x46028e(0x2ce)]['Items'])if(world['village'][_0x46028e(0x2d5)][_0x24d7ba]==_0x357063[_0x46028e(0x2a1)])_0x743478=_0x24d7ba;if(_0x743478==-0x1)return;if(this[_0x46028e(0x2a1)])this[_0x46028e(0x471)]();this[_0x46028e(0x2a1)]=_0x357063[_0x46028e(0x2a1)],world[_0x46028e(0x2ce)][_0x46028e(0x2d5)][_0x46028e(0x1ee)](_0x743478,0x1);if(world[_0x46028e(0x57b)]&&world['villageUI'][_0x46028e(0x45e)]==_0x357063['armor'])world['villageUI'][_0x46028e(0x45e)]=undefined;this[_0x46028e(0x382)]=![];},this['equipItem']=_0x5ddc5e=>{var _0x19dac3=_0x4bc947;if(!_0x5ddc5e||!_0x5ddc5e[_0x19dac3(0x53a)])return;if(_0x5ddc5e[_0x19dac3(0x53a)]['itemType']==_0x19dac3(0x2a1))this[_0x19dac3(0x1a6)]();else{if(_0x5ddc5e['item'][_0x19dac3(0x592)]=='weapon')this[_0x19dac3(0x593)]();}},this[_0x4bc947(0x32b)]=()=>{var _0x3ac540=_0x4bc947,_0x4decfd=world[_0x3ac540(0x383)];if(!this['face_type'])this[_0x3ac540(0x2d7)]=PLAYER_FACE_IMG[Math['floor'](Math[_0x3ac540(0x356)]()*PLAYER_FACE_IMG['length'])];if(!this[_0x3ac540(0x433)])this[_0x3ac540(0x433)]=PLAYER_BODY_IMG[Math[_0x3ac540(0x394)](Math[_0x3ac540(0x356)]()*PLAYER_BODY_IMG[_0x3ac540(0x289)])];var _0x38b8d0=[];_0x38b8d0['push']({'name':this['body_type'],'needColor':!![]}),_0x38b8d0[_0x3ac540(0x32f)]({'name':this[_0x3ac540(0x2d7)],'needColor':![]});if(this[_0x3ac540(0x2a1)])_0x38b8d0[_0x3ac540(0x32f)]({'name':this[_0x3ac540(0x2a1)][_0x3ac540(0x50c)],'needColor':![]});for(var _0x55a790 in _0x38b8d0)if(!_0x4decfd[_0x38b8d0[_0x55a790][_0x3ac540(0x50c)]]||!_0x4decfd[_0x38b8d0[_0x55a790][_0x3ac540(0x50c)]][_0x3ac540(0x24d)])return console[_0x3ac540(0x4d5)]('can\x27t\x20with\x20'+_0x38b8d0[_0x55a790]['name']);var _0x39ecd8=document[_0x3ac540(0x3e3)](_0x3ac540(0x507));_0x39ecd8['width']=PLAYER_DEFAULT_SIZEX,_0x39ecd8[_0x3ac540(0x48b)]=PLAYER_DEFAULT_SIZEY;var _0x3f30ee=_0x39ecd8['getContext']('2d');for(var _0x55a790 in _0x38b8d0){var _0x7b95bf=_0x38b8d0[_0x55a790]['name'];if(!_0x4decfd[_0x7b95bf])return console[_0x3ac540(0x4d5)]('i\x20dont\x20have\x20this\x20image\x20\x20:\x20'+_0x7b95bf);var _0x2805c9=undefined;if(_0x38b8d0[_0x55a790][_0x3ac540(0x46e)])_0x2805c9=_0x4decfd[_0x7b95bf][_0x3ac540(0x40b)](0x0,0xff,0x0,this['color']['r'],this[_0x3ac540(0x3b0)]['g'],this[_0x3ac540(0x3b0)]['b']);else _0x2805c9=_0x4decfd[_0x7b95bf]['img'];if(!_0x2805c9||!_0x2805c9[_0x3ac540(0x41f)])return console[_0x3ac540(0x4d5)](_0x3ac540(0x55f));_0x3f30ee[_0x3ac540(0x1f4)](_0x2805c9,0x0,0x0);}var _0x2805c9=new Image();return _0x2805c9[_0x3ac540(0x472)]=_0x39ecd8[_0x3ac540(0x319)](),this['bodyPartImg']=_0x2805c9,console[_0x3ac540(0x4d5)](_0x3ac540(0x2cb)+this[_0x3ac540(0x50c)]+_0x3ac540(0x581)),this['bodyPartImgReady']=!![],!![];},this[_0x4bc947(0x32b)]();},Batiment=function(_0x1a82e8){var _0x1ae9c3=_0x4f97f4;this[_0x1ae9c3(0x50c)]=_0x1a82e8[_0x1ae9c3(0x50c)],this[_0x1ae9c3(0x52a)]=_0x1a82e8[_0x1ae9c3(0x52a)]?_0x1a82e8[_0x1ae9c3(0x52a)]:0x0,this[_0x1ae9c3(0x437)]=_0x1a82e8[_0x1ae9c3(0x437)],this['players_inside']=[],this[_0x1ae9c3(0x266)]=_0x1a82e8['description']?_0x1a82e8[_0x1ae9c3(0x266)]:_0x1ae9c3(0x361),this[_0x1ae9c3(0x20c)]=_0x1a82e8[_0x1ae9c3(0x20c)]?_0x1a82e8[_0x1ae9c3(0x20c)]:![],this['imgIcon']=_0x1a82e8[_0x1ae9c3(0x1df)]?_0x1a82e8[_0x1ae9c3(0x1df)]:undefined,this[_0x1ae9c3(0x2a4)]=_0x1a82e8[_0x1ae9c3(0x2a4)]?_0x1a82e8['build_progression']:undefined,this[_0x1ae9c3(0x442)]=_0x1a82e8[_0x1ae9c3(0x442)]?_0x1a82e8[_0x1ae9c3(0x442)]:undefined,this[_0x1ae9c3(0x1d0)]=_0x1a82e8[_0x1ae9c3(0x1d0)]?_0x1a82e8['upgrades']:[],this[_0x1ae9c3(0x37f)]=_0x1a82e8[_0x1ae9c3(0x37f)]?_0x1a82e8['upgrades_callback']:undefined,this[_0x1ae9c3(0x388)]=_0x66691f=>{var _0xf4cfa0=_0x1ae9c3;if(!_0x66691f||!_0x66691f[_0xf4cfa0(0x3cb)]||!_0x66691f['player'][_0xf4cfa0(0x24a)])return![];var _0x1f06ec=this[_0xf4cfa0(0x2a4)]<_0x66691f[_0xf4cfa0(0x3cb)][_0xf4cfa0(0x24a)]?this['build_progression']:_0x66691f[_0xf4cfa0(0x3cb)][_0xf4cfa0(0x24a)];return this['build_progression']-=_0x1f06ec,_0x66691f['player'][_0xf4cfa0(0x24a)]-=_0x1f06ec,world[_0xf4cfa0(0x2ce)][_0xf4cfa0(0x3da)][_0xf4cfa0(0x556)]({'type':'building','txt':_0x66691f[_0xf4cfa0(0x3cb)][_0xf4cfa0(0x50c)]+_0xf4cfa0(0x254)+this[_0xf4cfa0(0x50c)]+'\x27\x20(+'+_0x1f06ec+')'}),this['build_progression']<0x1&&(this[_0xf4cfa0(0x2a4)]=undefined,world['village'][_0xf4cfa0(0x3da)][_0xf4cfa0(0x556)]({'type':_0xf4cfa0(0x42d),'txt':_0xf4cfa0(0x2ae)+this[_0xf4cfa0(0x50c)]+_0xf4cfa0(0x547)})),world['Music'][_0xf4cfa0(0x41c)](_0xf4cfa0(0x44a)),!![];},this['getNextUpgrade']=()=>{var _0x3d5035=_0x1ae9c3;if(!this['upgrades']||!this[_0x3d5035(0x1d0)][_0x3d5035(0x289)])return undefined;return this[_0x3d5035(0x1d0)][0x0];},this[_0x1ae9c3(0x4bf)]=()=>{var _0x2e62b6=_0x1ae9c3;if(!this[_0x2e62b6(0x1d0)]||!this[_0x2e62b6(0x1d0)][_0x2e62b6(0x289)])return![];var _0x2e39bc=this[_0x2e62b6(0x57e)]();if(_0x2e39bc[_0x2e62b6(0x2a8)]){if(!world[_0x2e62b6(0x2ce)][_0x2e62b6(0x385)](_0x2e39bc))return;}return world[_0x2e62b6(0x4ff)][_0x2e62b6(0x41c)]('hammer_nails'),!![];},this[_0x1ae9c3(0x457)]=()=>{var _0x29c90c=_0x1ae9c3,_0x3025ad=this[_0x29c90c(0x57e)]();if(this[_0x29c90c(0x4bf)]()){world[_0x29c90c(0x2ce)][_0x29c90c(0x3da)][_0x29c90c(0x556)]({'type':_0x29c90c(0x42d),'txt':this[_0x29c90c(0x50c)]+_0x29c90c(0x432)+(this['lvl']+0x1)}),world['village'][_0x29c90c(0x1c5)](_0x3025ad);if(this[_0x29c90c(0x37f)])window[this[_0x29c90c(0x37f)]]({'bat':this});this[_0x29c90c(0x1d0)][_0x29c90c(0x30e)](),this[_0x29c90c(0x442)]++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':_0x4f97f4(0x380),'type':_0x4f97f4(0x1ff),'bat':'workshop','resources':{'wood':0xa},'APcost':0xa,'description':'this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it'},{'name':_0x4f97f4(0x29f),'type':_0x4f97f4(0x2a1),'bat':_0x4f97f4(0x29e),'resources':{'wood':0x19},'APcost':0xa,'description':'better\x20than\x20nothing'},{'name':_0x4f97f4(0x33a),'type':_0x4f97f4(0x1ff),'bat':'workshop','resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':'cut\x20wood\x20faster\x20in\x20forest'},{'name':'Stone\x20Pickaxe','type':_0x4f97f4(0x1ff),'bat':_0x4f97f4(0x29e),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':'get\x20more\x20resources\x20in\x20mine'},{'name':'Stone\x20Spear','type':'weapon','bat':_0x4f97f4(0x29e),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x4f97f4(0x3a8)},{'name':_0x4f97f4(0x3a5),'type':'armor','bat':_0x4f97f4(0x29e),'resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':_0x4f97f4(0x321)},{'name':'Small\x20Woodbow','type':_0x4f97f4(0x1ff),'bat':_0x4f97f4(0x57c),'resources':{'wood':0x64},'APcost':0xa,'description':_0x4f97f4(0x2bf)},{'name':'Copper\x20Hammer','type':_0x4f97f4(0x1ff),'bat':_0x4f97f4(0x37c),'resources':{'wood':0x37,'metalCopper':0xa},'APcost':0xa,'description':_0x4f97f4(0x476)},{'name':_0x4f97f4(0x3a6),'type':_0x4f97f4(0x1ff),'bat':_0x4f97f4(0x37c),'resources':{'wood':0xf,'metalCopper':0x5},'APcost':0xa,'description':_0x4f97f4(0x209)}],Village=function(_0x48df5f){var _0x5400c6=_0x4f97f4;this['populationMax']=_0x48df5f[_0x5400c6(0x3ab)]?_0x48df5f[_0x5400c6(0x3ab)]:0x1,this[_0x5400c6(0x2a8)]=_0x48df5f[_0x5400c6(0x2a8)]?_0x48df5f[_0x5400c6(0x2a8)]:{'food':0x0,'wood':0x0},this[_0x5400c6(0x4cc)]=_0x48df5f[_0x5400c6(0x4cc)]?_0x48df5f['players']:[],this[_0x5400c6(0x30d)]=_0x48df5f[_0x5400c6(0x30d)]?_0x48df5f['bats']:[],this[_0x5400c6(0x2d8)]=[],this[_0x5400c6(0x2aa)]=_0x48df5f['week']?_0x48df5f[_0x5400c6(0x2aa)]:0x0,this[_0x5400c6(0x3da)]=new MessageSystem();var _0x3b4dee=0x0;PHASE_NEWTURN=_0x3b4dee++,PHASE_PLACEPLAYER=_0x3b4dee++,PHASE_ACTIONPLAYER=_0x3b4dee++,PHASE_COMBAT=_0x3b4dee++,PHASE_END_TURN=_0x3b4dee++,this[_0x5400c6(0x504)]=PHASE_NEWTURN,this[_0x5400c6(0x2d5)]=[],this['playerColor']=_0x48df5f['playerColor']?_0x48df5f[_0x5400c6(0x1d7)]:HUMAN_DEFAULT_COLOR[Math[_0x5400c6(0x394)](Math[_0x5400c6(0x356)]()*HUMAN_DEFAULT_COLOR[_0x5400c6(0x289)])],this['getDateText']=()=>{var _0x1cd9a1=_0x5400c6,_0x2d8fc3=Math[_0x1cd9a1(0x394)](this[_0x1cd9a1(0x2aa)]/(0xc*0x4)),_0x595270=Math[_0x1cd9a1(0x394)](this[_0x1cd9a1(0x2aa)]/0x4)%0xc,_0x1f005b=this[_0x1cd9a1(0x2aa)]%0x4+0x1,_0x4bbd4a='Turn\x20'+this['week'];_0x4bbd4a+='\x20:\x20';if(_0x2d8fc3)_0x4bbd4a+=_0x1cd9a1(0x42b)+_0x2d8fc3;if(_0x595270)_0x4bbd4a+=_0x1cd9a1(0x526)+_0x595270;return _0x4bbd4a+='\x20week\x20'+_0x1f005b,_0x4bbd4a;},this['get_valid_craft_list']=()=>{var _0x4b2a47=_0x5400c6,_0x54ef11=[];for(var _0x276aaf in CRAFT_LIST){var _0x179e9e=CRAFT_LIST[_0x276aaf],_0x38465b=this['bats'][_0x4b2a47(0x275)](_0x135eb2=>_0x135eb2[_0x4b2a47(0x50c)]==_0x179e9e[_0x4b2a47(0x2ff)]);if(!_0x38465b||_0x38465b[_0x4b2a47(0x2a4)])continue;_0x54ef11[_0x4b2a47(0x32f)](_0x179e9e);}return _0x54ef11;},this[_0x5400c6(0x290)]=_0x2a81a6=>{var _0x10620b=_0x5400c6;if(!_0x2a81a6||!_0x2a81a6[_0x10620b(0x1de)])return[];var _0xad6904=[],_0x4d4201=_0x2a81a6['craft'];for(var _0x5a3960 in this[_0x10620b(0x4cc)]){var _0x36d3c4=this[_0x10620b(0x4cc)][_0x5a3960],_0x5da4a3=this[_0x10620b(0x3d4)](_0x36d3c4);if(!_0x5da4a3||_0x5da4a3[_0x10620b(0x50c)]!=_0x4d4201['bat'])continue;if(_0x36d3c4[_0x10620b(0x24a)]<_0x4d4201[_0x10620b(0x2db)])continue;for(var _0x36d048 in _0x4d4201[_0x10620b(0x493)]){var _0x376408=_0x36d048,_0x5c808f=_0x4d4201[_0x10620b(0x493)][_0x36d048];if(!this['resources'][_0x10620b(0x2e3)]||this[_0x10620b(0x2a8)]['res']<_0x5c808f)continue;}_0xad6904[_0x10620b(0x32f)](_0x36d3c4);}return _0xad6904;},this[_0x5400c6(0x293)]=_0x38ae43=>{var _0x5cad88=_0x5400c6;if(!_0x38ae43||!_0x38ae43['craft']||!_0x38ae43[_0x5cad88(0x3cb)])return console[_0x5cad88(0x4d5)]('bad\x20input');var _0x34f0a9=this[_0x5cad88(0x370)](),_0x572bef=_0x38ae43[_0x5cad88(0x3cb)];if(!_0x34f0a9||_0x34f0a9['length']<0x1)return console[_0x5cad88(0x4d5)](_0x5cad88(0x597));_0x34f0a9=_0x34f0a9[_0x5cad88(0x275)](_0x5baf45=>_0x5baf45==_0x38ae43['craft']);if(!_0x34f0a9)return console['log'](_0x5cad88(0x58a));if(!this[_0x5cad88(0x290)]({'craft':_0x34f0a9})[_0x5cad88(0x275)](_0x794034=>_0x794034==_0x572bef))return console[_0x5cad88(0x4d5)](_0x5cad88(0x36f));for(var _0x44d7da in _0x34f0a9[_0x5cad88(0x2a8)]){var _0x2d3ac7=_0x44d7da,_0x18983f=_0x34f0a9[_0x5cad88(0x2a8)][_0x44d7da];if(this[_0x5cad88(0x2a8)][_0x44d7da]<_0x18983f)return this[_0x5cad88(0x3da)]['addMessage']({'txt':_0x5cad88(0x2ac)}),![];}if(_0x572bef[_0x5cad88(0x24a)]<_0x34f0a9[_0x5cad88(0x2db)])return this['MessageSystem'][_0x5cad88(0x556)]({'txt':_0x572bef[_0x5cad88(0x50c)]+'\x20don\x27t\x20have\x20enought\x20Action\x20Point'}),![];_0x572bef[_0x5cad88(0x24a)]-=_0x34f0a9[_0x5cad88(0x2db)];switch(_0x34f0a9[_0x5cad88(0x213)]){case _0x5cad88(0x1ff):this[_0x5cad88(0x2bd)]({'weapon':new Weapon()[_0x5cad88(0x4ac)]({'name':_0x34f0a9[_0x5cad88(0x50c)]})});break;case'armor':this[_0x5cad88(0x23c)]({'armor':new Armor()[_0x5cad88(0x435)]({'name':_0x34f0a9['name']})});}switch(_0x34f0a9[_0x5cad88(0x2ff)]){case _0x5cad88(0x29e):world[_0x5cad88(0x4ff)][_0x5cad88(0x41c)](_0x5cad88(0x37b));break;case _0x5cad88(0x2d4):world[_0x5cad88(0x4ff)][_0x5cad88(0x41c)](_0x5cad88(0x37b));break;}this['MessageSystem'][_0x5cad88(0x556)]({'type':_0x5cad88(0x569),'txt':_0x572bef['name']+_0x5cad88(0x22e)+_0x34f0a9['name']}),this[_0x5cad88(0x1c5)](_0x34f0a9);},this['loadItemsFromInput']=_0x37c125=>{var _0x3b1d35=_0x5400c6;this[_0x3b1d35(0x2d5)]=[];for(var _0xe37ae7 in _0x37c125){var _0x585e18=_0x37c125[_0xe37ae7];switch(_0x585e18['itemType']){case _0x3b1d35(0x1ff):this[_0x3b1d35(0x2bd)]({'weapon':new Weapon()[_0x3b1d35(0x50f)](_0x585e18)});break;case'armor':this[_0x3b1d35(0x23c)]({'armor':new Armor()[_0x3b1d35(0x554)](_0x585e18)});}}},this[_0x5400c6(0x3be)]=_0x318245=>{var _0x297cdd=_0x5400c6;if(!_0x318245)return undefined;var _0xba0eb6=new PlayerVillage({});for(var _0x104c79 in _0x318245){if(_0x318245[_0x104c79]==undefined)continue;if(_0x104c79=='bodyPartImg'||_0x104c79==_0x297cdd(0x382))continue;else{if(_0x104c79=='weapon')_0xba0eb6[_0x297cdd(0x1ff)]=new Weapon()[_0x297cdd(0x50f)](_0x318245[_0x104c79]);else{if(_0x104c79==_0x297cdd(0x2a1))_0xba0eb6[_0x297cdd(0x2a1)]=new Armor()[_0x297cdd(0x554)](_0x318245[_0x104c79]);else _0xba0eb6[_0x104c79]=_0x318245[_0x104c79];}}}return this[_0x297cdd(0x4cc)][_0x297cdd(0x32f)](_0xba0eb6),_0xba0eb6[_0x297cdd(0x32b)](),_0xba0eb6;},this[_0x5400c6(0x1c2)]=_0x434145=>{var _0x3d5a14=_0x5400c6;if(this['players'][_0x3d5a14(0x289)]>=this[_0x3d5a14(0x516)])return undefined;var _0x35c7dc={'r':this[_0x3d5a14(0x1d7)]['r']-0x5+Math['floor'](Math['random']()*0xb),'g':this[_0x3d5a14(0x1d7)]['g']-0x5+Math['floor'](Math[_0x3d5a14(0x356)]()*0xb),'b':this[_0x3d5a14(0x1d7)]['b']-0x5+Math['floor'](Math[_0x3d5a14(0x356)]()*0xb)},_0x6ded79=new PlayerVillage({'color':_0x35c7dc,'speed':0x64-0x5+Math[_0x3d5a14(0x394)](Math[_0x3d5a14(0x356)]()*0xb),'stats':{'Strength':0xa-0x5+Math[_0x3d5a14(0x394)](Math[_0x3d5a14(0x356)]()*0xb),'Dexterity':0xa-0x5+Math[_0x3d5a14(0x394)](Math['random']()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math[_0x3d5a14(0x394)](Math[_0x3d5a14(0x356)]()*0x5),'lifeMax':0x64-0x14+Math[_0x3d5a14(0x394)](Math[_0x3d5a14(0x356)]()*0x29),'weapon':_0x434145[_0x3d5a14(0x1ff)]?new Weapon()['createNewWeapon']({'name':_0x434145[_0x3d5a14(0x1ff)]}):undefined,'armor':_0x434145['armor']?new Armor()[_0x3d5a14(0x435)]({'name':_0x434145[_0x3d5a14(0x2a1)]}):undefined,'size':0x1});return this[_0x3d5a14(0x4cc)][_0x3d5a14(0x32f)](_0x6ded79),_0x6ded79;},this[_0x5400c6(0x3d4)]=_0x200a7c=>{var _0xd1ce03=_0x5400c6;if(!_0x200a7c)return undefined;for(var _0x3d761d in this['bats']){var _0x46c6a9=this[_0xd1ce03(0x30d)][_0x3d761d][_0xd1ce03(0x3f6)][_0xd1ce03(0x275)](_0x4c897e=>_0x4c897e==_0x200a7c);if(_0x46c6a9)return this[_0xd1ce03(0x30d)][_0x3d761d];}return undefined;},this['generateBasicVillage']=()=>{var _0xe24b5f=_0x5400c6;this[_0xe24b5f(0x516)]=0x5,this[_0xe24b5f(0x2a8)]={'food':0xc8,'wood':0xc8,'stone':0xc8};for(var _0x8853bd=0x0;_0x8853bd<0x5;_0x8853bd++){if(_0x8853bd==0x0)this[_0xe24b5f(0x1c2)]({'weapon':_0xe24b5f(0x3a6),'armor':'Miner\x20helmet'});else this[_0xe24b5f(0x1c2)]({});}this[_0xe24b5f(0x226)](),this[_0xe24b5f(0x424)](),this[_0xe24b5f(0x4f5)](),this[_0xe24b5f(0x210)]();},this[_0x5400c6(0x1e0)]=_0x273604=>{var _0x1e1acd=_0x5400c6;if(!_0x273604||!_0x273604['player'])return![];var _0x3140d0=_0x273604[_0x1e1acd(0x3cb)];for(var _0x47115a in this[_0x1e1acd(0x30d)]){var _0xd6e23e=this[_0x1e1acd(0x30d)][_0x47115a];for(var _0x7a41f5 in _0xd6e23e['players_inside'])if(_0xd6e23e[_0x1e1acd(0x3f6)][_0x7a41f5]==_0x3140d0)_0xd6e23e[_0x1e1acd(0x3f6)]['splice'](_0x7a41f5,0x1);}},this[_0x5400c6(0x33f)]=_0x5c2058=>{var _0x596a2a=_0x5400c6;if(!_0x5c2058||!_0x5c2058['player']||!_0x5c2058[_0x596a2a(0x2ff)])return![];if(_0x5c2058['bat'][_0x596a2a(0x3f6)]['length']>=_0x5c2058[_0x596a2a(0x2ff)]['player_size'])return![];var _0x25abe7=_0x5c2058[_0x596a2a(0x3cb)];for(var _0x21231b in this[_0x596a2a(0x30d)]){var _0x2ddb1a=this[_0x596a2a(0x30d)][_0x21231b];for(var _0x1c2194 in _0x2ddb1a[_0x596a2a(0x3f6)])if(_0x2ddb1a[_0x596a2a(0x3f6)][_0x1c2194]==_0x25abe7)_0x2ddb1a['players_inside'][_0x596a2a(0x1ee)](_0x1c2194,0x1);}_0x5c2058[_0x596a2a(0x2ff)]['players_inside'][_0x596a2a(0x32f)](_0x25abe7);},this['removeResource']=_0x10cb2a=>{var _0xb825a0=_0x5400c6;if(!_0x10cb2a||!_0x10cb2a['resources'])return console[_0xb825a0(0x4d5)](_0xb825a0(0x2a9));var _0x11a471=![],_0x4d8741='you\x20lost\x20:';for(var _0x2af14b in _0x10cb2a[_0xb825a0(0x2a8)]){var _0x3bc6a5=_0x2af14b,_0x246d2f=_0x10cb2a[_0xb825a0(0x2a8)][_0x2af14b];if(!(_0x246d2f>0x0))continue;_0x11a471=!![];var _0x217f81=this[_0xb825a0(0x2a8)];if(!_0x217f81[_0x3bc6a5]||_0x217f81[_0x3bc6a5]<_0x246d2f)return console[_0xb825a0(0x4d5)](_0xb825a0(0x4df));_0x217f81[_0x3bc6a5]-=_0x246d2f,_0x4d8741+='\x20x'+_0x246d2f+'\x20'+_0x3bc6a5;}if(_0x11a471)this[_0xb825a0(0x3da)][_0xb825a0(0x556)]({'type':_0xb825a0(0x493),'txt':{..._0x10cb2a['resources']}});},this['addResource']=_0x96df25=>{var _0x307fb1=_0x5400c6;if(!_0x96df25||!_0x96df25[_0x307fb1(0x2a8)])return![];var _0x598079=![];for(var _0x182986 in _0x96df25[_0x307fb1(0x2a8)]){var _0x542036=_0x182986,_0x143def=_0x96df25[_0x307fb1(0x2a8)][_0x182986];if(!(_0x143def>0x0))continue;_0x598079=!![];var _0x1f5640=this[_0x307fb1(0x2a8)];if(!_0x1f5640[_0x542036])_0x1f5640[_0x542036]=0x0;_0x1f5640[_0x542036]+=_0x143def;}if(_0x598079)this[_0x307fb1(0x3da)][_0x307fb1(0x556)]({'type':_0x307fb1(0x493),'txt':{..._0x96df25[_0x307fb1(0x2a8)]}});},this[_0x5400c6(0x1da)]=_0x20a37f=>{var _0xf80d1=_0x5400c6;this[_0xf80d1(0x30d)]=[];for(var _0x2f9bcf in _0x20a37f){var _0x15735d=_0x20a37f[_0x2f9bcf],_0x1ec45e=new Batiment(_0x20a37f[_0x2f9bcf]);for(var _0x29cedf in _0x15735d){_0x1ec45e[_0x29cedf]=_0x15735d[_0x29cedf];}_0x1ec45e[_0xf80d1(0x3f6)]=[],this[_0xf80d1(0x30d)]['push'](_0x1ec45e);}},this[_0x5400c6(0x4f5)]=_0x427615=>{var _0x323b4d=_0x5400c6,_0xc34465=new Batiment({'name':_0x323b4d(0x1b2),'player_size':0x0,'callback_actionPlayer':[],'description':_0x3d3419=>{var _0x605e35=_0x323b4d;return _0x605e35(0x1be)+_0x3d3419['lvl']+'\x0aVillage\x20max\x20population\x20=\x20'+world[_0x605e35(0x2ce)][_0x605e35(0x516)];},'blocking_end_turn':!![],'imgIcon':_0x323b4d(0x1b2),'lvl':0x1,'upgrades_callback':_0x323b4d(0x1ba),'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'woodplank':0xa,'stone':0x32}}]});_0xc34465[_0x323b4d(0x405)]=0x5,this['bats']['push'](_0xc34465);},this[_0x5400c6(0x53f)]=_0x1a0ad0=>{var _0x4d28ad=_0x5400c6,_0x27f6b9=new Batiment({'name':_0x1a0ad0[_0x4d28ad(0x50c)],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x4d28ad(0x43f),'buto_txt':_0x4d28ad(0x2cd),'description':'craft\x20basic\x20stuff','cost':0x0}],'description':_0x4d28ad(0x227),'blocking_end_turn':!![],'imgIcon':'bow_workshop_icon','build_progression':_0x1a0ad0[_0x4d28ad(0x43d)]});this['bats'][_0x4d28ad(0x32f)](_0x27f6b9);},this[_0x5400c6(0x2b2)]=_0x596d8b=>{var _0x356372=_0x5400c6,_0x4c049a=new Batiment({'name':_0x596d8b[_0x356372(0x50c)],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x356372(0x43f),'buto_txt':_0x356372(0x2cd),'description':'craft\x20basic\x20stuff','cost':0x0}],'description':'craft\x20stuff\x20here','blocking_end_turn':!![],'imgIcon':'workshop_icon','build_progression':_0x596d8b['costAP']});this[_0x356372(0x30d)][_0x356372(0x32f)](_0x4c049a);},this[_0x5400c6(0x413)]=_0x489e81=>{var _0x36c9ec=_0x5400c6,_0x12c4b1=new Batiment({'name':_0x489e81['name'],'player_size':0x3,'callback_actionPlayer':[{'callback':_0x36c9ec(0x4fa),'buto_txt':_0x36c9ec(0x241),'description':_0x36c9ec(0x3c7),'cost':0x4}],'description':_0x36c9ec(0x461),'blocking_end_turn':!![],'imgIcon':_0x36c9ec(0x357),'build_progression':_0x489e81[_0x36c9ec(0x43d)]});this[_0x36c9ec(0x30d)][_0x36c9ec(0x32f)](_0x12c4b1);},this[_0x5400c6(0x483)]=_0xcc31e8=>{var _0x5a9495=_0x5400c6,_0x241f79=new Batiment({'name':_0x5a9495(0x4c5),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x5a9495(0x344),'buto_txt':_0x5a9495(0x4af),'description':'transform\x20wood\x20into\x20woodplank','cost':0x5}],'description':_0x5a9495(0x22d),'blocking_end_turn':!![],'imgIcon':_0x5a9495(0x4e3),'build_progression':_0xcc31e8['costAP']});this[_0x5a9495(0x30d)][_0x5a9495(0x32f)](_0x241f79);},this['addSmelter']=_0x28a176=>{var _0x2604de=_0x5400c6,_0x47467a=new Batiment({'name':_0x2604de(0x398),'player_size':0x1,'callback_actionPlayer':[{'callback':'SmeltCopper','buto_txt':'smelt\x20copper','description':'burn\x20coal,\x20transform\x20\x27raw\x20copper\x27\x20into\x20\x27metal\x20copper\x27','cost':0x3}],'description':_0x2604de(0x3c6),'blocking_end_turn':!![],'imgIcon':_0x2604de(0x43c),'build_progression':_0x28a176[_0x2604de(0x43d)]});this[_0x2604de(0x30d)]['push'](_0x47467a);},this[_0x5400c6(0x3df)]=_0x405d43=>{var _0xfebdc8=_0x5400c6,_0x67cc0d=new Batiment({'name':_0xfebdc8(0x37c),'player_size':0x1,'callback_actionPlayer':[{'callback':_0xfebdc8(0x43f),'buto_txt':_0xfebdc8(0x2cd),'description':'craft\x20weapons','cost':0x0},{'callback':_0xfebdc8(0x4a1),'buto_txt':_0xfebdc8(0x577),'description':_0xfebdc8(0x3f0),'cost':0x0}],'description':'craft\x20or\x20upgrade\x20weapons\x20here','blocking_end_turn':!![],'imgIcon':_0xfebdc8(0x495),'build_progression':_0x405d43[_0xfebdc8(0x43d)]});this['bats']['push'](_0x67cc0d);},this[_0x5400c6(0x424)]=()=>{var _0x484b6b=_0x5400c6,_0x556b2e=new Batiment({'name':_0x484b6b(0x2d2),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x484b6b(0x232),'buto_txt':_0x484b6b(0x3e4),'description':_0x484b6b(0x349),'cost':0x5}],'description':_0x484b6b(0x368),'blocking_end_turn':!![],'imgIcon':_0x484b6b(0x225)});this[_0x484b6b(0x30d)][_0x484b6b(0x32f)](_0x556b2e);},this['addDefendVillage']=()=>{var _0x17552c=_0x5400c6,_0x58415e=new Batiment({'name':_0x17552c(0x3b1),'player_size':0x5,'callback_actionPlayer':[],'description':_0x17552c(0x347),'blocking_end_turn':![],'imgIcon':_0x17552c(0x26d)});this[_0x17552c(0x30d)][_0x17552c(0x32f)](_0x58415e);},this['createBatToBuildList']=()=>{var _0x2608eb=_0x5400c6;this[_0x2608eb(0x2d8)]=[{'name':_0x2608eb(0x29e),'img':_0x2608eb(0x43e),'resources':{'wood':0xa,'stone':0x1},'callback':'addWorkShop','input':{'name':'workshop','costAP':0x1e}},{'name':_0x2608eb(0x57c),'img':_0x2608eb(0x1ae),'resources':{'wood':0x64,'stone':0x1e},'callback':'addBowWorkshop','input':{'name':_0x2608eb(0x57c),'costAP':0x14}},{'name':'Mine','img':_0x2608eb(0x357),'resources':{'wood':0x14,'stone':0x5},'callback':'addMine','input':{'name':_0x2608eb(0x357),'costAP':0xa}},{'name':_0x2608eb(0x4c5),'img':_0x2608eb(0x4e3),'resources':{'wood':0x14,'stone':0x5},'callback':'addSawmill','input':{'name':_0x2608eb(0x4c5),'costAP':0xa}},{'name':_0x2608eb(0x398),'img':'smelter','resources':{'wood':0x14,'stone':0x5},'callback':'addSmelter','input':{'name':'Smelter','costAP':0xa}},{'name':_0x2608eb(0x37c),'img':_0x2608eb(0x495),'resources':{'wood':0x14,'stone':0x5},'callback':_0x2608eb(0x3df),'input':{'name':'Forge','costAP':0xa}}];},this[_0x5400c6(0x385)]=_0x40c4db=>{var _0x2dbd69=_0x5400c6;if(!_0x40c4db||!_0x40c4db[_0x2dbd69(0x2a8)])return![];var _0x10eb72=_0x40c4db['resources'];for(var _0x1acb7e in _0x40c4db[_0x2dbd69(0x2a8)]){var _0xd6777e=_0x1acb7e,_0x3db5c6=_0x10eb72[_0x1acb7e];if(!this[_0x2dbd69(0x2a8)][_0xd6777e]||this[_0x2dbd69(0x2a8)][_0xd6777e]<_0x3db5c6)return![];}return!![];},this['TryBuildBat']=_0x48de33=>{var _0x5287bb=_0x5400c6;if(!_0x48de33||!_0x48de33[_0x5287bb(0x2ff)])return![];if(!this[_0x5287bb(0x385)](_0x48de33[_0x5287bb(0x2ff)]))return this[_0x5287bb(0x3da)][_0x5287bb(0x556)]({'txt':_0x5287bb(0x2ac)});var _0x442877=_0x48de33[_0x5287bb(0x2ff)];this[_0x5287bb(0x3da)][_0x5287bb(0x556)]({'type':_0x5287bb(0x42d),'txt':_0x5287bb(0x2ae)+_0x442877[_0x5287bb(0x50c)]+'\x27\x20have\x20started'}),this[_0x5287bb(0x1c5)](_0x48de33[_0x5287bb(0x2ff)]),this[_0x442877['callback']](_0x442877[_0x5287bb(0x2b9)]);for(var _0xf7e971 in this[_0x5287bb(0x2d8)])if(this['batsToBuild'][_0xf7e971]==_0x442877)this[_0x5287bb(0x2d8)][_0x5287bb(0x1ee)](_0xf7e971,0x1);},this[_0x5400c6(0x23c)]=_0x13291b=>{var _0x2c2064=_0x5400c6;if(!_0x13291b||!_0x13291b[_0x2c2064(0x2a1)])return;this['Items'][_0x2c2064(0x32f)](_0x13291b[_0x2c2064(0x2a1)]);},this[_0x5400c6(0x2bd)]=_0x51f691=>{var _0x3ef61c=_0x5400c6;if(!_0x51f691||!_0x51f691[_0x3ef61c(0x1ff)])return console[_0x3ef61c(0x4d5)]('can\x27t\x20add\x20this\x20weapon');this['Items'][_0x3ef61c(0x32f)](_0x51f691[_0x3ef61c(0x1ff)]);},this[_0x5400c6(0x2c9)]=_0x2274bb=>{var _0x4b9a04=_0x5400c6;if(!_0x2274bb)return![];world[_0x4b9a04(0x57b)][_0x4b9a04(0x2f6)]=[];switch(this[_0x4b9a04(0x504)]){case PHASE_NEWTURN:world[_0x4b9a04(0x497)](),this[_0x4b9a04(0x504)]=PHASE_PLACEPLAYER,this[_0x4b9a04(0x3da)]['addMessage']({'txt':_0x4b9a04(0x1e8)});for(var _0xde2123 in this[_0x4b9a04(0x4cc)])this[_0x4b9a04(0x4cc)][_0xde2123]['villageActionPoint']=this[_0x4b9a04(0x4cc)][_0xde2123][_0x4b9a04(0x3b6)];if(this[_0x4b9a04(0x2aa)]==0x0)world['Music'][_0x4b9a04(0x41c)](_0x4b9a04(0x40e),!![],!![]);break;case PHASE_PLACEPLAYER:if(_0x2274bb[_0x4b9a04(0x38a)]){var _0x13390e=[];for(var _0xde2123 in this[_0x4b9a04(0x4cc)]){_0xa6ffeb=this[_0x4b9a04(0x4cc)][_0xde2123];if(!this['getBatFromPlayer'](_0xa6ffeb))_0x13390e[_0x4b9a04(0x32f)]({'txt':_0x4b9a04(0x2cb)+_0xa6ffeb[_0x4b9a04(0x50c)]+'\x20is\x20not\x20affected\x20to\x20a\x20building','player':_0xa6ffeb,'tab':'building'});}defBat=this[_0x4b9a04(0x30d)][_0x4b9a04(0x275)](_0x4f5364=>_0x4f5364[_0x4b9a04(0x50c)]==_0x4b9a04(0x3b1));if(defBat[_0x4b9a04(0x3f6)][_0x4b9a04(0x289)]<0x1)_0x13390e['push']({'txt':_0x4b9a04(0x4c2),'bat':defBat,'tab':_0x4b9a04(0x42d)});if(_0x13390e['length']>0x0){world['villageUI'][_0x4b9a04(0x2f6)]=_0x13390e;return;}}this['phase']=PHASE_ACTIONPLAYER,this['MessageSystem'][_0x4b9a04(0x556)]({'txt':_0x4b9a04(0x304)});break;case PHASE_ACTIONPLAYER:var _0x13390e=[];if(_0x2274bb[_0x4b9a04(0x38a)])for(var _0xde2123 in this['bats']){var _0x3df3d6=this[_0x4b9a04(0x30d)][_0xde2123];if(!_0x3df3d6[_0x4b9a04(0x20c)])continue;for(var _0x1b574b in _0x3df3d6['players_inside']){var _0xa6ffeb=_0x3df3d6['players_inside'][_0x1b574b],_0x9c9a7c=_0xa6ffeb[_0x4b9a04(0x34f)]();if(_0x9c9a7c&&_0x9c9a7c[_0x4b9a04(0x289)]>0x0)_0x13390e[_0x4b9a04(0x32f)]({'txt':_0x4b9a04(0x2cb)+_0xa6ffeb['name']+_0x4b9a04(0x310)+_0xa6ffeb['villageActionPoint']+_0x4b9a04(0x3fb),'player':_0xa6ffeb,'tab':_0x4b9a04(0x42d)});}}if(_0x13390e['length']>0x0){world[_0x4b9a04(0x57b)][_0x4b9a04(0x2f6)]=_0x13390e;return;}this[_0x4b9a04(0x504)]=PHASE_COMBAT;(this[_0x4b9a04(0x2aa)]==0x0||Math[_0x4b9a04(0x394)](Math[_0x4b9a04(0x356)]()*0x64)<0x21)&&(this[_0x4b9a04(0x360)]=!![],this[_0x4b9a04(0x3da)][_0x4b9a04(0x556)]({'txt':'Your\x20village\x20is\x20attacked\x20!'}));break;case PHASE_COMBAT:if(this[_0x4b9a04(0x360)])this[_0x4b9a04(0x4b3)]();else{this[_0x4b9a04(0x504)]=PHASE_NEWTURN,this[_0x4b9a04(0x2aa)]++;var _0x510aff=this[_0x4b9a04(0x4cc)][_0x4b9a04(0x289)]*0x2;this[_0x4b9a04(0x3da)][_0x4b9a04(0x556)]({'txt':_0x4b9a04(0x1d6)+this[_0x4b9a04(0x2aa)]}),this[_0x4b9a04(0x3da)][_0x4b9a04(0x556)]({'type':_0x4b9a04(0x3cb),'txt':_0x4b9a04(0x49e)}),this[_0x4b9a04(0x1c5)]({'resources':{'food':_0x510aff}}),this[_0x4b9a04(0x1ef)]=_0x510aff;for(var _0xde2123 in this['players']){this[_0x4b9a04(0x4cc)][_0xde2123][_0x4b9a04(0x24c)](),this[_0x4b9a04(0x4cc)][_0xde2123][_0x4b9a04(0x27e)]++;}if(this['players'][_0x4b9a04(0x289)]<this['populationMax']){var _0x215f58=Math[_0x4b9a04(0x394)](Math['random']()*0x64);if(_0x215f58<0x32){var _0xa6ffeb=this['generateBasicPlayer']({});this[_0x4b9a04(0x3da)][_0x4b9a04(0x556)]({'type':'player','txt':_0x4b9a04(0x4c0)+_0xa6ffeb['name']+_0x4b9a04(0x397)});}}}break;}},this[_0x5400c6(0x4b3)]=()=>{var _0x4119e2=_0x5400c6,_0x122942=[];for(var _0x297776 in this[_0x4119e2(0x4cc)]){var _0x56aec9=this[_0x4119e2(0x4cc)][_0x297776];bat=this['getBatFromPlayer'](_0x56aec9);if(bat[_0x4119e2(0x50c)]==_0x4119e2(0x3b1))_0x122942[_0x4119e2(0x32f)](_0x56aec9);}world[_0x4119e2(0x57b)]=undefined,console[_0x4119e2(0x4d5)](_0x122942[_0x4119e2(0x289)]+_0x4119e2(0x21a)),world[_0x4119e2(0x1b7)](_0x122942,this[_0x4119e2(0x2aa)]),world[_0x4119e2(0x4ff)][_0x4119e2(0x48e)](_0x4119e2(0x40e),!![]),world[_0x4119e2(0x4ff)][_0x4119e2(0x41c)](_0x4119e2(0x1dd),!![]),world[_0x4119e2(0x4c1)]=new GameUI(world['Screen']['canList'][_0x4119e2(0x4c1)]);},this[_0x5400c6(0x3eb)]=_0x4d2fa4=>{var _0x326049=_0x5400c6;for(var _0x384cb6 in this['players']){this[_0x326049(0x4cc)][_0x384cb6]['id']==_0x4d2fa4['id']&&(this[_0x326049(0x4cc)]['splice'](_0x384cb6,0x1),this[_0x326049(0x3da)]['addMessage']({'txt':_0x4d2fa4[_0x326049(0x50c)]+_0x326049(0x1d1)}));}for(var _0x384cb6 in this[_0x326049(0x30d)]){var _0xfb3dfe=this[_0x326049(0x30d)][_0x384cb6];for(var _0xd4324c in _0xfb3dfe[_0x326049(0x3f6)])if(_0xfb3dfe['players_inside'][_0xd4324c]['id']==_0x4d2fa4['id'])_0xfb3dfe['players_inside'][_0x326049(0x1ee)](_0xd4324c,0x1);}};};function UpgradingHouses(_0x280eed){var _0xd1d746=_0x4f97f4;if(!_0x280eed||!_0x280eed[_0xd1d746(0x2ff)])return;var _0x17ebf5=_0x280eed[_0xd1d746(0x2ff)],_0x3bb8dc=world[_0xd1d746(0x2ce)];_0x17ebf5[_0xd1d746(0x442)]==0x1&&(_0x3bb8dc['populationMax']+=0x5,_0x3bb8dc[_0xd1d746(0x3da)][_0xd1d746(0x556)]({'type':_0xd1d746(0x3cb),'txt':'Population\x20max\x20+\x205\x20('+_0x3bb8dc[_0xd1d746(0x516)]+')'})),_0x17ebf5[_0xd1d746(0x442)]==0x2&&(_0x3bb8dc[_0xd1d746(0x516)]+=0xa,_0x3bb8dc[_0xd1d746(0x3da)][_0xd1d746(0x556)]({'type':_0xd1d746(0x3cb),'txt':_0xd1d746(0x4f4)+_0x3bb8dc[_0xd1d746(0x516)]+')'}));}function GoToCraftTab(){var _0x243f75=_0x4f97f4;if(world[_0x243f75(0x57b)])world[_0x243f75(0x57b)][_0x243f75(0x1b4)]({'tab':_0x243f75(0x1de)});}function GoToForgeTab(){var _0x384225=_0x4f97f4;if(world['villageUI'])world[_0x384225(0x57b)]['GoToTabName']({'tab':_0x384225(0x2d5)});}function recolteMine(_0x2eb2b6){var _0x11cf9e=_0x4f97f4;if(!_0x2eb2b6||!_0x2eb2b6['player']||_0x2eb2b6[_0x11cf9e(0x4a2)]==undefined||_0x2eb2b6[_0x11cf9e(0x4a2)]>_0x2eb2b6[_0x11cf9e(0x3cb)]['villageActionPoint'])return;var _0x55ca57=_0x2eb2b6['player']['name']+_0x11cf9e(0x3dc)+_0x2eb2b6[_0x11cf9e(0x4a2)]+_0x11cf9e(0x525);world[_0x11cf9e(0x2ce)][_0x11cf9e(0x3da)][_0x11cf9e(0x556)]({'type':_0x11cf9e(0x569),'txt':_0x55ca57}),_0x2eb2b6[_0x11cf9e(0x3cb)][_0x11cf9e(0x24a)]-=_0x2eb2b6['cost'];var _0x520ca5=_0x2eb2b6[_0x11cf9e(0x3cb)][_0x11cf9e(0x1ff)]&&_0x2eb2b6['player'][_0x11cf9e(0x1ff)][_0x11cf9e(0x2fb)][_0x11cf9e(0x275)](_0xb187f=>_0xb187f==BONUS_PICKAXE_MINE)?!![]:![],_0x29e53a=0x2+Math['floor'](Math[_0x11cf9e(0x356)]()*0x5),_0x746bd9=Math[_0x11cf9e(0x394)](Math[_0x11cf9e(0x356)]()*0x64)>0x5?0x0:Math['floor'](Math[_0x11cf9e(0x356)]()*0xa),_0x22f60d=Math[_0x11cf9e(0x394)](Math[_0x11cf9e(0x356)]()*0x64)>0x5?0x0:Math[_0x11cf9e(0x394)](Math[_0x11cf9e(0x356)]()*0x3);_0x520ca5&&(_0x746bd9+=0x5,_0x29e53a+=0x14,_0x22f60d+=0x2);var _0x522c28={'stone':_0x29e53a};if(_0x746bd9||_0x520ca5&&_0x746bd9)_0x522c28['coal']=_0x746bd9;if(_0x22f60d||_0x520ca5&&_0x22f60d)_0x522c28[_0x11cf9e(0x4f8)]=_0x22f60d;world[_0x11cf9e(0x2ce)][_0x11cf9e(0x208)]({'resources':_0x522c28}),world[_0x11cf9e(0x4ff)][_0x11cf9e(0x41c)](_0x11cf9e(0x241));}function craftPlankInSawmill(_0x5f0187){var _0x35fb0e=_0x4f97f4;if(!_0x5f0187||!_0x5f0187['player']||_0x5f0187[_0x35fb0e(0x4a2)]==undefined||_0x5f0187['cost']>_0x5f0187[_0x35fb0e(0x3cb)][_0x35fb0e(0x24a)])return;if(!world[_0x35fb0e(0x2ce)][_0x35fb0e(0x385)]({'resources':{'wood':0xa}})){world[_0x35fb0e(0x2ce)]['MessageSystem'][_0x35fb0e(0x556)]({'type':_0x35fb0e(0x569),'txt':_0x35fb0e(0x3a0)});return;}world['Music'][_0x35fb0e(0x41c)](_0x35fb0e(0x400));var _0x522835=_0x5f0187[_0x35fb0e(0x3cb)][_0x35fb0e(0x50c)]+_0x35fb0e(0x52c)+_0x5f0187[_0x35fb0e(0x4a2)]+_0x35fb0e(0x525);world[_0x35fb0e(0x2ce)]['MessageSystem'][_0x35fb0e(0x556)]({'type':_0x35fb0e(0x569),'txt':_0x522835}),_0x5f0187[_0x35fb0e(0x3cb)][_0x35fb0e(0x24a)]-=_0x5f0187[_0x35fb0e(0x4a2)],world['village'][_0x35fb0e(0x1c5)]({'resources':{'wood':0xa}}),world['village']['addResource']({'resources':{'woodplank':0x1}});}function recoltForestResouce(_0x5ce80b){var _0x22fb45=_0x4f97f4;if(!_0x5ce80b||!_0x5ce80b[_0x22fb45(0x3cb)]||_0x5ce80b[_0x22fb45(0x4a2)]==undefined||_0x5ce80b[_0x22fb45(0x4a2)]>_0x5ce80b[_0x22fb45(0x3cb)]['villageActionPoint'])return;world[_0x22fb45(0x4ff)][_0x22fb45(0x41c)]('shaken_bush');var _0x1cf6ec=0xa-0x2+Math[_0x22fb45(0x394)](Math[_0x22fb45(0x356)]()*0x5),_0x42b71d=0x5-0x4+Math[_0x22fb45(0x394)](Math[_0x22fb45(0x356)]()*0x9);_0x5ce80b['player']['weapon']&&_0x5ce80b[_0x22fb45(0x3cb)]['weapon'][_0x22fb45(0x2fb)]['find'](_0x1f42e0=>_0x1f42e0==BONUS_AXE_FOREST_WOOD)&&(_0x42b71d*=0x2,console['log']('doubled\x20wood'));var _0x4b441d=0x1+Math[_0x22fb45(0x394)](Math[_0x22fb45(0x356)]()*0x2),_0x1c0382=_0x5ce80b[_0x22fb45(0x3cb)][_0x22fb45(0x50c)]+'\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20'+_0x5ce80b[_0x22fb45(0x4a2)]+_0x22fb45(0x525);world['village'][_0x22fb45(0x3da)]['addMessage']({'type':'job','txt':_0x1c0382}),_0x5ce80b[_0x22fb45(0x3cb)]['villageActionPoint']-=_0x5ce80b['cost'],world[_0x22fb45(0x2ce)][_0x22fb45(0x208)]({'resources':{'food':_0x1cf6ec,'wood':_0x42b71d,'stone':_0x4b441d}});}function SmeltCopper(_0x21955f){var _0x1ac596=_0x4f97f4,_0x5f230a=world['village']['checkHaveResources']({'resources':{'coal':0x5,'rawCopper':0x2}});if(!_0x5f230a)return world[_0x1ac596(0x2ce)][_0x1ac596(0x3da)]['addMessage']({'type':_0x1ac596(0x569),'txt':_0x1ac596(0x450)});var _0x278bac=_0x21955f['player'][_0x1ac596(0x50c)]+'\x20is\x20smelting\x20copper\x20for\x20'+_0x21955f[_0x1ac596(0x4a2)]+_0x1ac596(0x525);world[_0x1ac596(0x2ce)][_0x1ac596(0x3da)][_0x1ac596(0x556)]({'type':_0x1ac596(0x569),'txt':_0x278bac}),_0x21955f[_0x1ac596(0x3cb)][_0x1ac596(0x24a)]-=_0x21955f[_0x1ac596(0x4a2)],world[_0x1ac596(0x4ff)]['playSound'](_0x1ac596(0x43c)),world[_0x1ac596(0x2ce)][_0x1ac596(0x1c5)]({'resources':{'coal':0x5,'rawCopper':0x2}}),world['village']['addResource']({'resources':{'metalCopper':0x1}});}VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT=_0x4f97f4(0x48f),VILLAGE_UI_FONT_BUTTON=_0x4f97f4(0x429),VILLAGE_UI_FONT_BUTTON_2=_0x4f97f4(0x1bc),VILLAGE_UI_FONT_TITLE=_0x4f97f4(0x55a),VILLAGE_UI_FONT_PLAYERNAME=_0x4f97f4(0x27c),VILLAGE_UI_FONT_BUILDINGNAME=_0x4f97f4(0x211),VILLAGE_UI_FONT_PHASE=_0x4f97f4(0x3c2),VILLAGE_UI_TABS_FONT=_0x4f97f4(0x55a),VILLAGE_UI_TABS_TXTCOLOR=_0x4f97f4(0x484),VILLAGE_UI_TABS_FILLCOLOR='#556b2f88',VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE=_0x4f97f4(0x3f9),VILLAGE_UI_BAT_ELM_FILLCOLOR='#d2691e88',VILLAGE_UI_PLAYER_ELM_FILLCOLOR=_0x4f97f4(0x1ed),VILLAGE_UI_ITEM_ELM_FILLCOLOR=_0x4f97f4(0x272),VILLAGE_UI_BUTTON_FILLCOLOR=_0x4f97f4(0x2e1),VillageUI=function(_0x36a270){var _0x22df2a=_0x4f97f4;world['Music']['playSound']('the-britons',!![]),this[_0x22df2a(0x507)]=_0x36a270,this[_0x22df2a(0x283)]=!![],this[_0x22df2a(0x4bd)]=0x5,this[_0x22df2a(0x2f4)]=VILLAGE_UI_FILLSTYLE,this['stroke']=_0x22df2a(0x249),this[_0x22df2a(0x45f)]=0x1,this['mouseWasOnMouseLightLastDraw']=!![],this['tabs']=[_0x22df2a(0x545),_0x22df2a(0x42d),'craft','resource','Items',_0x22df2a(0x355)],this[_0x22df2a(0x49f)]=0x0,this[_0x22df2a(0x3ee)]=undefined,this['playerInfoMenu']=undefined,this[_0x22df2a(0x508)]={'value':0x0},this[_0x22df2a(0x541)]=undefined,this[_0x22df2a(0x445)]=undefined,this[_0x22df2a(0x1ec)]={'value':0x0},this[_0x22df2a(0x3c9)]=[_0x22df2a(0x3ed),'player','size'],this[_0x22df2a(0x30b)]={'value':0x0},this[_0x22df2a(0x559)]=undefined,this[_0x22df2a(0x45e)]=undefined,this[_0x22df2a(0x345)]={'value':0x0},this['craftSelected']=undefined,this['craftPageOffset']={'value':0x0},this['UI']=undefined,this[_0x22df2a(0x418)]=!![],this[_0x22df2a(0x2d3)]=undefined,this[_0x22df2a(0x200)]=!![],this[_0x22df2a(0x22b)]=undefined,this[_0x22df2a(0x455)]=!![],this[_0x22df2a(0x26c)]=0x0,this[_0x22df2a(0x2f6)]=[];const _0x33f537=document[_0x22df2a(0x3e3)](_0x22df2a(0x507)),_0x35fb85=_0x33f537[_0x22df2a(0x3c8)]('2d'),_0x2b9441=new Image();_0x2b9441[_0x22df2a(0x472)]=_0x22df2a(0x3ca),_0x2b9441[_0x22df2a(0x27d)]=()=>{var _0x12dfa5=_0x22df2a;const _0x410a28=_0x35fb85[_0x12dfa5(0x4ec)](_0x2b9441,_0x12dfa5(0x1fd));this[_0x12dfa5(0x2f4)]=_0x410a28,this[_0x12dfa5(0x283)]=!![];},this[_0x22df2a(0x3f4)]=()=>{var _0x53354f=_0x22df2a;window[_0x53354f(0x1a8)]('mousemove',_0x30d96f=>{var _0x419bfc=_0x53354f,_0x2dcf79=![];this[_0x419bfc(0x2d3)]&&this[_0x419bfc(0x2d3)]['mouse_move_check'](_0x30d96f[_0x419bfc(0x33d)],_0x30d96f[_0x419bfc(0x338)])&&!this[_0x419bfc(0x2b7)]&&(this['needRedraw']=!![],this[_0x419bfc(0x2b7)]=!![],_0x2dcf79=!![]);this['UI']&&this['UI'][_0x419bfc(0x218)](_0x30d96f[_0x419bfc(0x33d)],_0x30d96f[_0x419bfc(0x338)])&&!this[_0x419bfc(0x2b7)]&&(this[_0x419bfc(0x283)]=!![],this[_0x419bfc(0x2b7)]=!![],_0x2dcf79=!![]);this['UIsystem']&&this['UIsystem']['mouse_move_check'](_0x30d96f[_0x419bfc(0x33d)],_0x30d96f[_0x419bfc(0x338)])&&!this[_0x419bfc(0x2b7)]&&(this['needRedraw']=!![],this[_0x419bfc(0x2b7)]=!![],_0x2dcf79=!![]);!_0x2dcf79&&this[_0x419bfc(0x2b7)]&&(this['mouseWasOnMouseLightLastDraw']=![],this[_0x419bfc(0x283)]=!![]);if(this==world[_0x419bfc(0x57b)])this[_0x419bfc(0x3f4)]();},{'once':!![]});},this['init_check_mouse_move'](),this[_0x22df2a(0x4d2)]=_0x221e7f=>{var _0x515819=_0x22df2a;if(this['UI']&&this['UI'][_0x515819(0x2ab)](_0x221e7f))return!![];if(this[_0x515819(0x2d3)]&&this[_0x515819(0x2d3)]['key_buton_check'](_0x221e7f))return!![];if(this[_0x515819(0x22b)]&&this[_0x515819(0x22b)][_0x515819(0x2ab)](_0x221e7f))return!![];if(_0x221e7f==_0x515819(0x4bb)&&this[_0x515819(0x486)]())return!![];return![];},this[_0x22df2a(0x486)]=()=>{var _0x21699f=_0x22df2a;if(this[_0x21699f(0x3b7)])return this[_0x21699f(0x3b7)]=undefined,!![];if(this['tabs'][this[_0x21699f(0x49f)]]=='building'){if(this[_0x21699f(0x445)])return this[_0x21699f(0x445)]=undefined,!![];if(this[_0x21699f(0x541)])return this[_0x21699f(0x541)]=undefined,!![];}return![];},this[_0x22df2a(0x3c1)]=_0x2ab172=>{var _0x32abd5=_0x22df2a;if(!_0x2ab172||_0x2ab172['x']===undefined)return![];var _0x53be2d=_0x2ab172['x'],_0x1cb56b=_0x2ab172['y'];if(_0x2ab172[_0x32abd5(0x363)]==0x2){var _0xeac479=this[_0x32abd5(0x486)]();if(_0xeac479)return!![];}else{if(this['UI']['click_buton_check'](_0x53be2d,_0x1cb56b))return!![];else{if(this[_0x32abd5(0x2d3)]['click_buton_check'](_0x53be2d,_0x1cb56b))return!![];else{if(this[_0x32abd5(0x22b)]['click_buton_check'](_0x53be2d,_0x1cb56b))return!![];}}}return![];},this[_0x22df2a(0x51b)]=_0x167b92=>{var _0x554b8e=_0x22df2a;if(this['UI']&&this['UI'][_0x554b8e(0x51b)](_0x167b92))this['needRedraw']=!![];if(this['UIplayers']&&this[_0x554b8e(0x2d3)][_0x554b8e(0x51b)](_0x167b92))this[_0x554b8e(0x283)]=!![];if(this[_0x554b8e(0x22b)]&&this[_0x554b8e(0x22b)]['CheckInfoWindow'](_0x167b92))this[_0x554b8e(0x283)]=!![];},this['GoToTabName']=_0x1dc2be=>{var _0x49014b=_0x22df2a;if(!_0x1dc2be)return;if(_0x1dc2be[_0x49014b(0x2a5)])for(var _0x53f253 in this[_0x49014b(0x23d)]){if(this[_0x49014b(0x23d)][_0x53f253]==_0x1dc2be[_0x49014b(0x2a5)])this['activeTabId']=_0x53f253;}if(_0x1dc2be[_0x49014b(0x3cb)])this[_0x49014b(0x3ee)]=_0x1dc2be[_0x49014b(0x3cb)];if(_0x1dc2be[_0x49014b(0x2ff)])this['batSelected']=_0x1dc2be[_0x49014b(0x2ff)];},this['GetPageSelector']=_0x148c24=>{var _0x20179e=_0x22df2a;if(!_0x148c24['selector'])return;var _0x480117=[{'type':'button','callback':()=>{var _0x2a5645=_0x4ea9;_0x148c24[_0x2a5645(0x296)][_0x2a5645(0x512)]=_0x148c24[_0x2a5645(0x296)]['value']>0x0?_0x148c24[_0x2a5645(0x296)][_0x2a5645(0x512)]-0x1:0x0;},'txt':'∧','txt_color':_0x20179e(0x484),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x3c1685=_0x20179e;return _0x3c1685(0x2ad);}}]},{'type':'button','callback':()=>{var _0xb5eec0=_0x20179e;_0x148c24[_0xb5eec0(0x296)]['value']++;},'txt':'∨','txt_color':_0x20179e(0x484),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':_0x20179e(0x1b6),'windowInfo':[{'callback':()=>{var _0xff1efe=_0x20179e;return _0xff1efe(0x1e9);}}]},{'type':_0x20179e(0x463),'txt':'['+_0x148c24['selector'][_0x20179e(0x512)]+':'+(_0x148c24[_0x20179e(0x296)][_0x20179e(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x20179e(0x1b6),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x148c24['sortButo'])_0x480117[_0x20179e(0x32f)]({'type':'button','callback':_0x2e34b9=>{var _0x50a2ca=_0x20179e;_0x2e34b9['id']['value']=(_0x2e34b9['id']['value']+0x1)%_0x2e34b9[_0x50a2ca(0x2ba)][_0x50a2ca(0x289)],console[_0x50a2ca(0x4d5)](_0x50a2ca(0x26e)+[_0x2e34b9['id'][_0x50a2ca(0x512)],_0x2e34b9[_0x50a2ca(0x2ba)][_0x50a2ca(0x289)]]);},'callback_data':_0x148c24[_0x20179e(0x51e)],'txt':this[_0x20179e(0x3c9)][this['batSortModeId'][_0x20179e(0x512)]],'txt_color':_0x20179e(0x1b6),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x20179e(0x362),'strokeColor':_0x20179e(0x1b6),'windowInfo':[{'callback':()=>{var _0x458547=_0x20179e;return _0x458547(0x261)+this[_0x458547(0x3c9)][this[_0x458547(0x30b)][_0x458547(0x512)]];}}]});return _0x480117;},this[_0x22df2a(0x4da)]=()=>{var _0x4356b7=_0x22df2a,_0x1b9dc7=world[_0x4356b7(0x2ce)];this['UI']['addHorizontalElem'](this[_0x4356b7(0x248)]({'sortButo':{'list':this['batSortModeList'],'id':this[_0x4356b7(0x30b)]},'selector':this['batPageOffset']}));switch(this[_0x4356b7(0x3c9)][this['batSortModeId'][_0x4356b7(0x512)]]){case _0x4356b7(0x3ed):_0x1b9dc7[_0x4356b7(0x30d)][_0x4356b7(0x537)]((_0x2b69d8,_0x405184)=>{var _0x242b31=_0x4356b7;if(_0x2b69d8[_0x242b31(0x50c)]>_0x405184['name'])return 0x1;return-0x1;});break;case _0x4356b7(0x3cb):_0x1b9dc7[_0x4356b7(0x30d)]['sort']((_0x160942,_0x171e6f)=>{var _0x21ad3d=_0x4356b7;if(_0x160942[_0x21ad3d(0x3f6)][_0x21ad3d(0x289)]<=_0x171e6f[_0x21ad3d(0x3f6)][_0x21ad3d(0x289)])return 0x1;return-0x1;});break;case'size':_0x1b9dc7[_0x4356b7(0x30d)][_0x4356b7(0x537)]((_0x5bc7d1,_0x551f23)=>{if(_0x5bc7d1['player_size']<=_0x551f23['player_size'])return 0x1;return-0x1;});break;}if(_0x1b9dc7['phase']==PHASE_PLACEPLAYER){this['UI']['addHorizontalElem'](this[_0x4356b7(0x506)]());var _0x30a5a8=0x0;if(this[_0x4356b7(0x445)])for(var _0x212f9a in _0x1b9dc7[_0x4356b7(0x2d8)]){var _0x2d0a34=_0x1b9dc7[_0x4356b7(0x2d8)][_0x212f9a],_0x301775=[];_0x301775[_0x4356b7(0x32f)]({'type':'button','callback':_0x1938c1=>{var _0x22d9be=_0x4356b7;if(this[_0x22d9be(0x559)]==_0x1938c1)this[_0x22d9be(0x559)]=undefined;else this[_0x22d9be(0x559)]=_0x1938c1;},'callback_data':_0x2d0a34,'txt':_0x2d0a34['name'],'mouseLight':'88','txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x4356b7(0x224),'strokeColor':this[_0x4356b7(0x559)]==_0x2d0a34?_0x4356b7(0x1b6):_0x4356b7(0x224),'windowInfo':[{'callback':()=>{var _0x3019e6=_0x4356b7;return _0x3019e6(0x448);}}]}),_0x301775['push']({'type':_0x4356b7(0x4dd),'img':world[_0x4356b7(0x3bf)][_0x2d0a34['img']]['img'],'len_x':0x1e,'len_y':0x1e});if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)](_0x301775);_0x30a5a8++;if(this[_0x4356b7(0x559)]==_0x2d0a34){var _0x301775=[];_0x301775[_0x4356b7(0x32f)]({'type':_0x4356b7(0x363),'mouseLight':'88','callback':world['village'][_0x4356b7(0x58e)],'callback_data':{'bat':_0x2d0a34},'txt':_0x4356b7(0x47f),'txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x4356b7(0x224),'windowInfo':[{'callback':()=>{var _0x398f35=_0x4356b7;return _0x398f35(0x448);}}]});if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x301775);_0x30a5a8++;if(_0x2d0a34['input']&&_0x2d0a34['input'][_0x4356b7(0x43d)]){if(_0x30a5a8>=this['batPageOffset']['value']&&_0x30a5a8<this[_0x4356b7(0x1ec)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)]([{'type':'txt','txt':_0x4356b7(0x35a)+_0x2d0a34[_0x4356b7(0x2b9)][_0x4356b7(0x43d)],'txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':_0x4356b7(0x4dd),'img':world[_0x4356b7(0x3bf)][_0x4356b7(0x359)][_0x4356b7(0x4dd)],'len_x':0x14,'len_y':0x14}]);_0x30a5a8++;}for(var _0xbea27f in _0x2d0a34[_0x4356b7(0x2a8)]){var _0x249535=[];_0x249535[_0x4356b7(0x32f)]({'type':'txt','txt':'\x20-'+_0xbea27f+'\x20'+_0x2d0a34[_0x4356b7(0x2a8)][_0xbea27f],'txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x249535[_0x4356b7(0x32f)]({'type':'img','img':world['Imgs'][_0xbea27f+_0x4356b7(0x312)][_0x4356b7(0x4dd)],'len_x':0x14,'len_y':0x14});}if(_0x30a5a8>=this['batPageOffset'][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](this[_0x4356b7(0x34b)](_0x2d0a34[_0x4356b7(0x2a8)],0x14));_0x30a5a8++;}}else{if(!this[_0x4356b7(0x445)])for(var _0x212f9a in _0x1b9dc7[_0x4356b7(0x30d)]){var _0x2d0a34=_0x1b9dc7[_0x4356b7(0x30d)][_0x212f9a],_0xd1781b=this[_0x4356b7(0x402)](_0x2d0a34,0x28);if(_0x2d0a34[_0x4356b7(0x2a4)])_0xd1781b[_0x4356b7(0x32f)]({'type':'img','img':world['Imgs']['under_construction_icon']['img'],'len_x':0x28,'len_y':0x28});if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0xd1781b);_0x30a5a8++;if(_0x2d0a34[_0x4356b7(0x2a4)]){if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x2ee)](''+_0x2d0a34['build_progression']+'\x20PA\x20left\x20for\x20finish\x20construction',0x14,0x270f,_0x4356b7(0x1b6),VILLAGE_UI_FONT);_0x30a5a8++;}var _0x301775=[],_0x2fbf88=_0x2d0a34[_0x4356b7(0x57e)]();if(this[_0x4356b7(0x541)]==_0x2d0a34&&_0x2d0a34[_0x4356b7(0x442)]){if(_0x30a5a8>=this[_0x4356b7(0x1ec)]['value']&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x2ee)](_0x4356b7(0x303)+_0x2d0a34['lvl'],0xf,0x270f,_0x4356b7(0x1b6),VILLAGE_UI_FONT);_0x30a5a8++;}if(this[_0x4356b7(0x541)]==_0x2d0a34&&_0x2fbf88){var _0x2eb3cc=this[_0x4356b7(0x34b)](_0x2fbf88[_0x4356b7(0x2a8)],0x14);_0x2eb3cc['unshift']({'type':'button','mouseLight':'88','callback':_0x2d0a34['TryUpgrade'],'callback_data':{},'txt':_0x4356b7(0x3dd),'txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this['batPageOffset'][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x2eb3cc);_0x30a5a8++;}if(_0x2d0a34==this['batSelected']&&_0x2d0a34[_0x4356b7(0x52a)]){if(_0x2d0a34[_0x4356b7(0x52a)]&&_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this['batPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x2ee)](''+_0x2d0a34['players_inside'][_0x4356b7(0x289)]+_0x4356b7(0x38b)+_0x2d0a34[_0x4356b7(0x52a)]+_0x4356b7(0x45c),0x14,0x270f,_0x4356b7(0x1b6),VILLAGE_UI_FONT);_0x30a5a8++;}if(this[_0x4356b7(0x3ee)]&&_0x2d0a34==this['batSelected']&&!_0x2d0a34['players_inside'][_0x4356b7(0x275)](_0x56b974=>_0x56b974==this['playerSelected'])&&_0x2d0a34['players_inside'][_0x4356b7(0x289)]<_0x2d0a34[_0x4356b7(0x52a)])_0x301775[_0x4356b7(0x32f)]({'type':_0x4356b7(0x363),'mouseLight':'88','callback':world[_0x4356b7(0x2ce)][_0x4356b7(0x33f)],'callback_data':{'player':this['playerSelected'],'bat':_0x2d0a34},'txt':_0x4356b7(0x1b8),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x301775[_0x4356b7(0x289)]){if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)](_0x301775);_0x30a5a8++;}if(this[_0x4356b7(0x541)]==_0x2d0a34)for(var _0xbea27f in _0x2d0a34[_0x4356b7(0x3f6)]){var _0x12c43d=_0x2d0a34['players_inside'][_0xbea27f],_0x2bb688=this[_0x4356b7(0x494)](_0x12c43d);_0x2bb688[_0x4356b7(0x32f)]({'type':_0x4356b7(0x363),'mouseLight':'88','callback':world[_0x4356b7(0x2ce)]['removePlayerFromBat'],'callback_data':{'player':_0x12c43d},'txt':_0x4356b7(0x2ea),'txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x4356b7(0x39f)});if(_0x30a5a8>=this['batPageOffset'][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)](_0x2bb688);_0x30a5a8++;}}}}else{if(_0x1b9dc7[_0x4356b7(0x504)]==PHASE_ACTIONPLAYER){var _0x30a5a8=0x0;for(var _0x212f9a in _0x1b9dc7['bats']){var _0x2d0a34=_0x1b9dc7[_0x4356b7(0x30d)][_0x212f9a],_0xd1781b=this[_0x4356b7(0x402)](_0x2d0a34,0x28);if(_0x2d0a34[_0x4356b7(0x2a4)])_0xd1781b['push']({'type':_0x4356b7(0x4dd),'img':world[_0x4356b7(0x3bf)]['under_construction_icon']['img'],'len_x':0x28,'len_y':0x28});if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)](_0xd1781b);_0x30a5a8++;if(_0x2d0a34[_0x4356b7(0x2a4)]){if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this['batPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x2ee)](''+_0x2d0a34['build_progression']+'\x20PA\x20left\x20for\x20finish\x20construction',0x14,0x270f,_0x4356b7(0x1b6),VILLAGE_UI_FONT);_0x30a5a8++;}var _0x301775=[];if(_0x301775[_0x4356b7(0x289)]){if(_0x30a5a8>=this['batPageOffset']['value']&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x301775);_0x30a5a8++;}for(var _0xbea27f in _0x2d0a34[_0x4356b7(0x3f6)]){var _0x12c43d=_0x2d0a34[_0x4356b7(0x3f6)][_0xbea27f],_0xba7b56=_0x12c43d[_0x4356b7(0x34f)]();if(this[_0x4356b7(0x541)]==_0x2d0a34||_0xba7b56[_0x4356b7(0x289)]&&_0x2d0a34['name']!='Defend\x20Village'){var _0x2bb688=this[_0x4356b7(0x494)](_0x12c43d);if(_0x2d0a34[_0x4356b7(0x437)][_0x4356b7(0x289)])_0x2bb688[_0x4356b7(0x32f)]({'type':_0x4356b7(0x4dd),'img':world[_0x4356b7(0x3bf)]['villageAP_icon'][_0x4356b7(0x4dd)],'len_x':0x14,'len_y':0x14},{'type':_0x4356b7(0x463),'txt':''+_0x12c43d[_0x4356b7(0x24a)]+_0x4356b7(0x3b5),'txt_color':_0x12c43d[_0x4356b7(0x24a)]?_0x4356b7(0x1b6):_0x4356b7(0x524),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0x30a5a8>=this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]&&_0x30a5a8<this['batPageOffset'][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)](_0x2bb688);_0x30a5a8++;if(_0x2d0a34[_0x4356b7(0x2a4)]){var _0x4c4722=[];_0x12c43d['villageActionPoint']>0x0&&(_0x4c4722[_0x4356b7(0x32f)]({'type':_0x4356b7(0x363),'mouseLight':'88','callback':_0x2d0a34[_0x4356b7(0x388)],'callback_data':{'player':_0x12c43d},'txt':'build','txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x43154b=>{return _0x43154b;},'input':'use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building'}]}),_0x4c4722[_0x4356b7(0x32f)]({'type':_0x4356b7(0x463),'txt':_0x4356b7(0x539)+_0x2d0a34[_0x4356b7(0x2a4)]+_0x4356b7(0x594),'txt_color':_0x12c43d[_0x4356b7(0x24a)]?_0x4356b7(0x1b6):_0x4356b7(0x524),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0x30a5a8>=this['batPageOffset'][_0x4356b7(0x512)]&&_0x30a5a8<this[_0x4356b7(0x1ec)][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)](_0x4c4722);_0x30a5a8++;}else for(var _0x21c2a7 in _0x2d0a34[_0x4356b7(0x437)]){var _0x91f0a6=_0x2d0a34[_0x4356b7(0x437)][_0x21c2a7];if(_0x91f0a6[_0x4356b7(0x4a2)]&&_0x91f0a6[_0x4356b7(0x4a2)]>_0x12c43d['villageActionPoint']||_0x12c43d[_0x4356b7(0x24a)]==0x0)continue;var _0xb32ebd={'type':_0x4356b7(0x363),'mouseLight':'88','callback':window[_0x91f0a6[_0x4356b7(0x3bc)]],'callback_data':{'player':_0x12c43d,'cost':_0x91f0a6[_0x4356b7(0x4a2)]},'txt':_0x91f0a6['buto_txt'],'txt_color':_0x4356b7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x237173=>{return _0x237173;},'input':_0x91f0a6[_0x4356b7(0x266)]}]};if(_0x30a5a8>=this['batPageOffset'][_0x4356b7(0x512)]&&_0x30a5a8<this['batPageOffset'][_0x4356b7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x4356b7(0x219)]([_0xb32ebd]);_0x30a5a8++;}}}}}}},this[_0x22df2a(0x506)]=()=>{var _0x357920=_0x22df2a,_0x51203f=[];return this['batBuildMenu']?_0x51203f[_0x357920(0x32f)]({'type':_0x357920(0x363),'mouseLight':'88','callback':()=>{var _0x14cdeb=_0x357920;this[_0x14cdeb(0x445)]=![],this[_0x14cdeb(0x1ec)][_0x14cdeb(0x512)]=0x0;},'txt':_0x357920(0x1c7),'mouseLight':'88','txt_color':_0x357920(0x51f),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x357920(0x306),'strokeColor':'#000000','windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}):_0x51203f[_0x357920(0x32f)]({'type':_0x357920(0x363),'mouseLight':'88','callback':()=>{var _0x37bbeb=_0x357920;this[_0x37bbeb(0x445)]=!![],this[_0x37bbeb(0x1ec)][_0x37bbeb(0x512)]=0x0;},'txt':_0x357920(0x3ce),'mouseLight':'88','txt_color':'#17bdbc','max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':'#a01454','strokeColor':_0x357920(0x1b6),'windowInfo':[{'callback':()=>{var _0x502f76=_0x357920;return _0x502f76(0x3de);}}]}),_0x51203f;},this[_0x22df2a(0x34b)]=(_0x2f4078,_0x7cf6c9)=>{var _0x58a951=_0x22df2a,_0x2fb6b6=[];for(var _0x1214ee in _0x2f4078){_0x2fb6b6[_0x58a951(0x32f)]({'type':_0x58a951(0x4dd),'img':world[_0x58a951(0x3bf)][_0x1214ee+_0x58a951(0x312)]['img'],'len_x':_0x7cf6c9,'len_y':_0x7cf6c9}),_0x2fb6b6[_0x58a951(0x32f)]({'type':_0x58a951(0x463),'txt':'\x20x'+_0x2f4078[_0x1214ee],'txt_color':'#000000','max_letters':0x270f,'letter_size':_0x7cf6c9,'txt_font':VILLAGE_UI_FONT});}return _0x2fb6b6;},this[_0x22df2a(0x19e)]=(_0x33d89d,_0x5aff20,_0x3c6b86)=>{var _0x329d9b=_0x22df2a,_0x56e444=()=>this[_0x329d9b(0x45e)]=this[_0x329d9b(0x45e)]==_0x33d89d?undefined:_0x33d89d;if(_0x3c6b86)_0x56e444=()=>{};var _0x20d4a6=[{'type':'img','img':world['Imgs'][_0x33d89d[_0x329d9b(0x50c)]+'_icon'][_0x329d9b(0x4dd)],'len_x':_0x5aff20,'len_y':_0x5aff20},{'type':_0x329d9b(0x363),'mouseLight':'ff','callback':_0x56e444,'txt':_0x33d89d[_0x329d9b(0x50c)],'txt_color':_0x329d9b(0x1b6),'max_letters':0x270f,'letter_size':_0x5aff20,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this[_0x329d9b(0x45e)]==_0x33d89d?_0x329d9b(0x351):_0x329d9b(0x224),'windowInfo':[{'callback':_0x33d89d[_0x329d9b(0x592)]==_0x329d9b(0x1ff)?_0x33d89d[_0x329d9b(0x1f2)]:_0x33d89d['getArmorDescription']}]}];return _0x20d4a6;},this[_0x22df2a(0x4a9)]=()=>{var _0x39ac53=_0x22df2a,_0x144f8c=world[_0x39ac53(0x2ce)];this['UI'][_0x39ac53(0x219)](this[_0x39ac53(0x248)]({'selector':this[_0x39ac53(0x586)]}));var _0xb69895=0x0,_0x519a1a=_0x144f8c['get_valid_craft_list']();if(_0x144f8c[_0x39ac53(0x504)]!=PHASE_ACTIONPLAYER)this['UI'][_0x39ac53(0x2ee)](_0x39ac53(0x408),0x14,0x270f,'#ff0000',VILLAGE_UI_FONT);if(!_0x519a1a||_0x519a1a[_0x39ac53(0x289)]<0x1)this['UI']['addTextZone'](_0x39ac53(0x4f3),0x14,0x270f,_0x39ac53(0x1b6),VILLAGE_UI_FONT);for(var _0x3e9f0b in _0x519a1a){var _0x442f59=[],_0x2f9769=_0x519a1a[_0x3e9f0b];_0x442f59[_0x39ac53(0x32f)]({'type':'button','mouseLight':'ff','callback':_0x1ac99c=>this[_0x39ac53(0x43a)]=this[_0x39ac53(0x43a)]==_0x1ac99c?undefined:_0x1ac99c,'callback_data':_0x2f9769,'txt':_0x2f9769['name']+'\x20('+_0x2f9769[_0x39ac53(0x213)]+')','txt_color':this[_0x39ac53(0x43a)]==_0x2f9769?_0x39ac53(0x28a):_0x39ac53(0x1b6),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x39ac53(0x502),'strokeColor':this[_0x39ac53(0x43a)]==_0x2f9769?_0x39ac53(0x485):'#00000000','windowInfo':[{'callback':()=>{var _0x341920=_0x39ac53;return _0x2f9769[_0x341920(0x266)];},'input':undefined}]});if(_0xb69895>=this[_0x39ac53(0x586)][_0x39ac53(0x512)]&&_0xb69895<this[_0x39ac53(0x586)][_0x39ac53(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x442f59);_0xb69895++;if(this[_0x39ac53(0x43a)]==_0x2f9769){var _0x9bbcd6=_0x144f8c[_0x39ac53(0x290)]({'craft':_0x2f9769});if(_0xb69895>=this[_0x39ac53(0x586)][_0x39ac53(0x512)]&&_0xb69895<this[_0x39ac53(0x586)][_0x39ac53(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39ac53(0x219)](this[_0x39ac53(0x34b)](_0x2f9769[_0x39ac53(0x2a8)],0x14));_0xb69895++;if(!_0x9bbcd6||_0x9bbcd6['length']<0x1){if(_0xb69895>=this[_0x39ac53(0x586)][_0x39ac53(0x512)]&&_0xb69895<this[_0x39ac53(0x586)][_0x39ac53(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39ac53(0x2ee)](_0x39ac53(0x459),0x14,0x270f,'#ff0000',VILLAGE_UI_FONT);_0xb69895++;}for(var _0x2584a1 in _0x9bbcd6){var _0x2646d3=_0x9bbcd6[_0x2584a1],_0x442f59=this[_0x39ac53(0x494)](_0x2646d3,0x19);_0x144f8c['phase']==PHASE_ACTIONPLAYER&&_0x442f59[_0x39ac53(0x32f)]({'type':'button','mouseLight':'88','callback':_0x144f8c['TryCraftItem'],'callback_data':{'craft':_0x2f9769,'player':_0x2646d3},'txt':_0x39ac53(0x1de),'txt_color':_0x39ac53(0x1b6),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':'#00D238','strokeColor':this[_0x39ac53(0x43a)]==_0x2f9769?'#000000ff':_0x39ac53(0x224),'windowInfo':[{'callback':()=>{var _0x156e1f=_0x39ac53;return _0x2f9769[_0x156e1f(0x266)];},'input':undefined}]});if(_0xb69895>=this['craftPageOffset']['value']&&_0xb69895<this[_0x39ac53(0x586)][_0x39ac53(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x39ac53(0x219)](_0x442f59);_0xb69895++;}}}},this['GetDrawBuildingElement']=(_0x1d261a,_0x1d00a4)=>{var _0x252bd2=_0x22df2a,_0x5b1379=[{'type':'img','img':world[_0x252bd2(0x3bf)][_0x1d261a[_0x252bd2(0x1df)]][_0x252bd2(0x4dd)],'len_x':_0x1d00a4,'len_y':_0x1d00a4},{'type':_0x252bd2(0x363),'mouseLight':'ff','callback':_0x1438b2=>{this['batSelected']=this['batSelected']==_0x1438b2?undefined:_0x1438b2;},'callback_data':_0x1d261a,'txt':_0x1d261a[_0x252bd2(0x50c)],'txt_color':this[_0x252bd2(0x541)]==_0x1d261a?_0x252bd2(0x47a):_0x252bd2(0x1b6),'max_letters':0x270f,'letter_size':_0x1d00a4,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this['batSelected']==_0x1d261a?_0x252bd2(0x485):_0x252bd2(0x224),'windowInfo':[{'callback':_0x31528e=>{var _0x4e0979=_0x252bd2;if(typeof _0x31528e[_0x4e0979(0x266)]=='function')return _0x31528e[_0x4e0979(0x266)](_0x31528e);if(typeof _0x31528e[_0x4e0979(0x266)]=='string')return _0x31528e[_0x4e0979(0x266)];},'input':_0x1d261a}]}];return _0x5b1379;},this[_0x22df2a(0x47b)]=(_0x18e278,_0x2dfcf5,_0x399b64)=>{var _0xc95265=_0x22df2a,_0x37d339={'type':'button','mouseLight':'88','callback':world[_0xc95265(0x2ce)][_0xc95265(0x2c9)],'callback_data':{'warning':_0x18e278?!![]:![]},'txt':_0x399b64,'txt_color':_0xc95265(0x1b6),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x2dfcf5?'#FFAD1C':_0xc95265(0x511),'strokeColor':_0xc95265(0x1b6)};return _0x37d339;},this[_0x22df2a(0x494)]=(_0x3bef96,_0x304e62)=>{var _0x2535dc=_0x22df2a;if(!_0x3bef96)return undefined;var _0x304e62=_0x304e62?_0x304e62:0x28,_0x31809f=[{'type':_0x2535dc(0x363),'mouseLight':'ff','txt':_0x3bef96[_0x2535dc(0x50c)],'callback':_0xd6257e=>{var _0x54d33f=_0x2535dc;this[_0x54d33f(0x3ee)]=this[_0x54d33f(0x3ee)]==_0xd6257e?undefined:_0xd6257e;},'callback_data':_0x3bef96,'txt_color':_0x3bef96[_0x2535dc(0x475)]?_0x2535dc(0x584):this['playerSelected']==_0x3bef96?_0x2535dc(0x484):_0x2535dc(0x1b6),'max_letters':0x270f,'letter_size':_0x304e62,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this[_0x2535dc(0x3ee)]==_0x3bef96?_0x2535dc(0x485):_0x2535dc(0x224),'windowInfo':[{'callback':_0x3bef96[_0x2535dc(0x2c7)]}]}];if(!_0x3bef96[_0x2535dc(0x382)])_0x3bef96[_0x2535dc(0x32b)]();return _0x31809f[_0x2535dc(0x32f)]({'type':_0x2535dc(0x4dd),'img':_0x3bef96[_0x2535dc(0x449)],'len_x':_0x304e62,'len_y':_0x304e62}),_0x3bef96[_0x2535dc(0x1ff)]&&_0x31809f[_0x2535dc(0x32f)]({'type':_0x2535dc(0x4dd),'img':world[_0x2535dc(0x383)][_0x3bef96[_0x2535dc(0x1ff)][_0x2535dc(0x50c)]+_0x2535dc(0x312)][_0x2535dc(0x4dd)],'len_x':_0x304e62,'len_y':_0x304e62}),_0x31809f;},this['draw_villagePlayerUi']=()=>{var _0x4a8fc7=_0x22df2a,_0x272222=world[_0x4a8fc7(0x2ce)];this['UIplayers']=new MyUI(this['canvas'],0x0,0x0,0xa,this[_0x4a8fc7(0x45f)],this[_0x4a8fc7(0x2f4)],this[_0x4a8fc7(0x1fb)],this['marge']),this['UIplayers'][_0x4a8fc7(0x374)](_0x4a8fc7(0x262),0x28,'#000000',_0x4a8fc7(0x224),_0x4a8fc7(0x224),()=>{var _0x77d596=_0x4a8fc7;this[_0x77d596(0x200)]=!this[_0x77d596(0x200)];},undefined,VILLAGE_UI_FONT_PHASE);var _0x2f171c=this[_0x4a8fc7(0x248)]({'selector':this['playersPageOffset']});if(this[_0x4a8fc7(0x3ee)]&&this[_0x4a8fc7(0x23d)][this[_0x4a8fc7(0x49f)]]!='Player'&&(_0x272222[_0x4a8fc7(0x504)]==PHASE_PLACEPLAYER||_0x272222[_0x4a8fc7(0x504)]==PHASE_ACTIONPLAYER))_0x2f171c[_0x4a8fc7(0x32f)]({'type':_0x4a8fc7(0x363),'mouseLight':'88','callback':this[_0x4a8fc7(0x1b4)],'callback_data':{'tab':_0x4a8fc7(0x355)},'txt':_0x4a8fc7(0x229),'txt_color':_0x4a8fc7(0x1b6),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x4a8fc7(0x484)});this['UIplayers'][_0x4a8fc7(0x219)](_0x2f171c);var _0x3a3f63=0x0;if(this[_0x4a8fc7(0x200)]){if(!this[_0x4a8fc7(0x3b7)])for(var _0x2d0238 in _0x272222[_0x4a8fc7(0x4cc)]){var _0x46ed5f=_0x272222[_0x4a8fc7(0x4cc)][_0x2d0238];if(_0x3a3f63>=this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]&&_0x3a3f63<this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x4a8fc7(0x219)](this[_0x4a8fc7(0x494)](_0x46ed5f));_0x3a3f63++;if(_0x46ed5f[_0x4a8fc7(0x475)]&&_0x272222['phase']!=PHASE_NEWTURN){if(_0x3a3f63>=this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]&&_0x3a3f63<this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers']['addButton'](_0x4a8fc7(0x375),0xa,_0x4a8fc7(0x484),_0x4a8fc7(0x387),_0x4a8fc7(0x1b6),this[_0x4a8fc7(0x1b4)],{'tab':'Player','player':_0x46ed5f},VILLAGE_UI_FONT_BUTTON,undefined,()=>{var _0xedb17=_0x4a8fc7;return _0xedb17(0x1a9);},'ff');_0x3a3f63++;}var _0x77a3df=world[_0x4a8fc7(0x2ce)][_0x4a8fc7(0x3d4)](_0x46ed5f);if(_0x77a3df){var _0x267dd8=[{'type':'txt','txt':_0x77a3df['name'],'txt_color':this[_0x4a8fc7(0x541)]==_0x77a3df?'#888888':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x4a8fc7(0x4dd),'img':world[_0x4a8fc7(0x3bf)][_0x77a3df[_0x4a8fc7(0x1df)]][_0x4a8fc7(0x4dd)],'len_x':0x14,'len_y':0x14}];if(_0x272222['phase']==PHASE_PLACEPLAYER)_0x267dd8[_0x4a8fc7(0x32f)]({'type':_0x4a8fc7(0x363),'mouseLight':'88','callback':world[_0x4a8fc7(0x2ce)][_0x4a8fc7(0x1e0)],'callback_data':{'player':_0x46ed5f},'txt':_0x4a8fc7(0x428),'txt_color':_0x4a8fc7(0x1b6),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});if(_0x3a3f63>=this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]&&_0x3a3f63<this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4a8fc7(0x2d3)][_0x4a8fc7(0x219)](_0x267dd8);_0x3a3f63++;}var _0x447c11=[];if(_0x272222[_0x4a8fc7(0x504)]==PHASE_PLACEPLAYER&&this['batSelected']&&this['tabs'][this[_0x4a8fc7(0x49f)]]=='building'&&this[_0x4a8fc7(0x541)][_0x4a8fc7(0x52a)]&&!this[_0x4a8fc7(0x541)]['players_inside'][_0x4a8fc7(0x275)](_0xac087d=>_0xac087d==_0x46ed5f)&&!_0x77a3df&&!this[_0x4a8fc7(0x445)]&&this['batSelected'][_0x4a8fc7(0x3f6)]['length']<this[_0x4a8fc7(0x541)][_0x4a8fc7(0x52a)])_0x447c11[_0x4a8fc7(0x32f)]({'type':'button','mouseLight':'88','callback':world['village'][_0x4a8fc7(0x33f)],'callback_data':{'player':_0x46ed5f,'bat':this[_0x4a8fc7(0x541)]},'txt':_0x4a8fc7(0x1cf),'txt_color':_0x4a8fc7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x447c11['length']){if(_0x3a3f63>=this[_0x4a8fc7(0x508)]['value']&&_0x3a3f63<this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x4a8fc7(0x219)](_0x447c11);_0x3a3f63++;}if(this[_0x4a8fc7(0x23d)][this[_0x4a8fc7(0x49f)]]=='Items'){if(this[_0x4a8fc7(0x3ee)]==_0x46ed5f){if(_0x272222[_0x4a8fc7(0x504)]==PHASE_PLACEPLAYER&&_0x46ed5f['weapon']){if(_0x3a3f63>=this['playersPageOffset']['value']&&_0x3a3f63<this[_0x4a8fc7(0x508)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4a8fc7(0x2d3)][_0x4a8fc7(0x374)]('unequip\x20weapon',0x14,_0x4a8fc7(0x1b6),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x46ed5f[_0x4a8fc7(0x305)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x3a3f63++;}if(_0x272222[_0x4a8fc7(0x504)]==PHASE_PLACEPLAYER&&_0x46ed5f[_0x4a8fc7(0x2a1)]){if(_0x3a3f63>=this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]&&_0x3a3f63<this[_0x4a8fc7(0x508)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4a8fc7(0x2d3)][_0x4a8fc7(0x374)](_0x4a8fc7(0x23e),0x14,_0x4a8fc7(0x1b6),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x46ed5f[_0x4a8fc7(0x471)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x3a3f63++;}if(_0x272222[_0x4a8fc7(0x504)]==PHASE_PLACEPLAYER&&this[_0x4a8fc7(0x45e)]&&this['itemSelected']['itemType']=='weapon'){if(_0x3a3f63>=this[_0x4a8fc7(0x508)]['value']&&_0x3a3f63<this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4a8fc7(0x2d3)][_0x4a8fc7(0x374)](_0x4a8fc7(0x422),0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0x4a8fc7(0x1b6),_0x46ed5f[_0x4a8fc7(0x593)],{'weapon':this[_0x4a8fc7(0x45e)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x3a3f63++;}if(_0x272222[_0x4a8fc7(0x504)]==PHASE_PLACEPLAYER&&this['itemSelected']&&this[_0x4a8fc7(0x45e)][_0x4a8fc7(0x592)]==_0x4a8fc7(0x2a1)){if(_0x3a3f63>=this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]&&_0x3a3f63<this[_0x4a8fc7(0x508)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4a8fc7(0x2d3)][_0x4a8fc7(0x374)]('equip\x20armor',0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x46ed5f[_0x4a8fc7(0x1a6)],{'armor':this[_0x4a8fc7(0x45e)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x3a3f63++;}}}}if(this[_0x4a8fc7(0x3b7)]){if(_0x3a3f63>=this[_0x4a8fc7(0x508)][_0x4a8fc7(0x512)]&&_0x3a3f63<this[_0x4a8fc7(0x508)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4a8fc7(0x2d3)][_0x4a8fc7(0x2ee)](this[_0x4a8fc7(0x3b7)]['getVillageUItext'](),0x28,0x270f,_0x4a8fc7(0x1b6),VILLAGE_UI_FONT);_0x3a3f63++;}}this[_0x4a8fc7(0x2d3)]['drawUI']();},this[_0x22df2a(0x369)]=()=>{var _0x50fac3=_0x22df2a,_0x22792c=world['village'],_0x492243='New\x20Turn\x20!\x20';_0x492243+=world['village']['getDateText']();if(_0x22792c[_0x50fac3(0x1ef)])_0x492243+=_0x50fac3(0x4e1)+_0x22792c[_0x50fac3(0x1ef)]+_0x50fac3(0x37a);for(var _0x488339 in _0x22792c[_0x50fac3(0x4cc)]){var _0x4a0d1d=_0x22792c[_0x50fac3(0x4cc)];if(_0x4a0d1d[_0x50fac3(0x475)])_0x492243+='\x0a'+_0x4a0d1d[_0x50fac3(0x50c)]+'\x20can\x20lvl\x20up';}this['UI'][_0x50fac3(0x2ee)](_0x492243,0x1e,0x270f,_0x50fac3(0x1b6),VILLAGE_UI_FONT),this['UI']['addHorizontalElem']([this[_0x50fac3(0x47b)](![],![],'Start\x20Turn')]);},this[_0x22df2a(0x331)]=()=>{var _0x505675=_0x22df2a,_0x916fe5=world[_0x505675(0x2ce)];if(_0x916fe5[_0x505675(0x360)])this['UI'][_0x505675(0x2ee)](_0x505675(0x4b9),0x28,0x270f,_0x505675(0x1b6),VILLAGE_UI_FONT);else this['UI'][_0x505675(0x2ee)]('Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn',0x28,0x270f,_0x505675(0x1b6),VILLAGE_UI_FONT);this['UI']['addHorizontalElem']([this[_0x505675(0x47b)](![],![],_0x916fe5[_0x505675(0x360)]?_0x505675(0x1eb):_0x505675(0x545))]);},this['draw_ItemsTab']=()=>{var _0x5511e8=_0x22df2a,_0x3c6784=world[_0x5511e8(0x2ce)];this['UI']['addHorizontalElem'](this[_0x5511e8(0x248)]({'selector':this['itemsPageOffset']}));var _0x2dbf00=0x0;if(_0x3c6784[_0x5511e8(0x504)]!=PHASE_PLACEPLAYER)this['UI']['addTextZone'](_0x5511e8(0x265),0x14,0x270f,_0x5511e8(0x39f),VILLAGE_UI_FONT);if(!_0x3c6784[_0x5511e8(0x2d5)][_0x5511e8(0x289)])this['UI'][_0x5511e8(0x2ee)]('you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village',0x14,0x270f,_0x5511e8(0x1b6),VILLAGE_UI_FONT);var _0x4e2011=_0x3c6784[_0x5511e8(0x30d)][_0x5511e8(0x275)](_0x421c52=>_0x421c52['name']=='Forge');for(var _0x95daf4 in _0x3c6784[_0x5511e8(0x2d5)]){var _0xc76456=_0x3c6784[_0x5511e8(0x2d5)][_0x95daf4],_0x59aeaa=this[_0x5511e8(0x19e)](_0xc76456,0x14);if(_0xc76456[_0x5511e8(0x1e2)]>0x1)_0x59aeaa[_0x5511e8(0x32f)]({'type':_0x5511e8(0x463),'txt':_0x5511e8(0x303)+_0xc76456[_0x5511e8(0x1e2)],'txt_color':_0x5511e8(0x1a3),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT});_0x4e2011&&!_0x4e2011['build_progression']&&_0xc76456[_0x5511e8(0x592)]==_0x5511e8(0x1ff)&&_0xc76456[_0x5511e8(0x426)]&&_0x3c6784['phase']==PHASE_ACTIONPLAYER&&_0x59aeaa['push']({'type':_0x5511e8(0x463),'txt':_0x5511e8(0x204),'txt_color':_0x5511e8(0x39f),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT});if(_0x2dbf00>=this[_0x5511e8(0x345)][_0x5511e8(0x512)]&&_0x2dbf00<this[_0x5511e8(0x345)][_0x5511e8(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x5511e8(0x219)](_0x59aeaa);_0x2dbf00++;if(_0x4e2011&&!_0x4e2011[_0x5511e8(0x2a4)]&&_0xc76456['itemType']==_0x5511e8(0x1ff)&&_0xc76456[_0x5511e8(0x426)]&&_0x3c6784[_0x5511e8(0x504)]==PHASE_ACTIONPLAYER)for(var _0x10b881 in _0x4e2011[_0x5511e8(0x3f6)]){var _0x2f03c0=_0x4e2011['players_inside'][_0x10b881],_0xfb257b=[];if(this[_0x5511e8(0x45e)]==_0xc76456&&_0x2f03c0[_0x5511e8(0x24a)]){_0xfb257b['push']({'type':_0x5511e8(0x363),'callback':_0xc76456['upgradeWeapon'],'callback_data':{'player':_0x2f03c0},'txt':_0x5511e8(0x3dd),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x5511e8(0x1b6),'windowInfo':[{'callback':_0x38fc27=>{var _0x5ddc30=_0x5511e8;return _0x5ddc30(0x364)+_0x38fc27[_0x5ddc30(0x1e5)]()+'%';},'input':_0xc76456}]});if(_0x2dbf00>=this['itemsPageOffset']['value']&&_0x2dbf00<this['itemsPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x5511e8(0x219)](_0xfb257b);_0x2dbf00++;}else{if(_0x2dbf00>=this[_0x5511e8(0x345)][_0x5511e8(0x512)]&&_0x2dbf00<this['itemsPageOffset'][_0x5511e8(0x512)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x5511e8(0x219)]([{'type':_0x5511e8(0x463),'txt':_0x5511e8(0x462),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}]);_0x2dbf00++;}}}},this['draw_NextTurnTab']=()=>{var _0x3379ed=_0x22df2a,_0x3e90d5=world[_0x3379ed(0x2ce)];switch(_0x3e90d5['phase']){case PHASE_PLACEPLAYER:this['UI'][_0x3379ed(0x2ee)](world['village'][_0x3379ed(0x3f2)](),0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x370d11='\x20\x20During\x20Phase\x201,\x20you\x20can';_0x370d11+='\x0a-equip\x20items',_0x370d11+='\x0a-affect\x20players\x20to\x20a\x20building',_0x370d11+=_0x3379ed(0x599),_0x370d11+='\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27',this['UI']['addTextZone'](_0x370d11,0x14,0x270f,_0x3379ed(0x1b6),VILLAGE_UI_FONT);var _0x3b989d=[this[_0x3379ed(0x47b)](!![],this['warningEndTurnMessage'][_0x3379ed(0x289)],_0x3379ed(0x27b))];this['UI'][_0x3379ed(0x219)](_0x3b989d);if(this['warningEndTurnMessage']['length'])for(var _0x398951 in this['warningEndTurnMessage']){var _0x5c2f7d=[];_0x5c2f7d['push']({'type':'txt','txt':this['warningEndTurnMessage'][_0x398951][_0x3379ed(0x463)],'txt_color':_0x3379ed(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x3379ed(0x2f6)][_0x398951][_0x3379ed(0x3cb)]||this[_0x3379ed(0x2f6)][_0x398951][_0x3379ed(0x2ff)]||this[_0x3379ed(0x2f6)][_0x398951][_0x3379ed(0x2a5)])&&_0x5c2f7d['push']({'type':'button','callback':this[_0x3379ed(0x1b4)],'callback_data':this[_0x3379ed(0x2f6)][_0x398951],'txt':_0x3379ed(0x438),'txt_color':_0x3379ed(0x1b6),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x3379ed(0x1b6),'windowInfo':[{'callback':()=>{var _0x40349c=_0x3379ed;return _0x40349c(0x2ad);}}]}),this['UI'][_0x3379ed(0x219)](_0x5c2f7d);}break;case PHASE_ACTIONPLAYER:this['UI'][_0x3379ed(0x2ee)](world[_0x3379ed(0x2ce)][_0x3379ed(0x3f2)](),0x14,0x270f,_0x3379ed(0x1b6),VILLAGE_UI_FONT);var _0x370d11='\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building';_0x370d11+=_0x3379ed(0x221),_0x370d11+=_0x3379ed(0x245),_0x370d11+='\x0a-craft\x20weapons\x20and\x20armors',_0x370d11+=_0x3379ed(0x2fa),this['UI'][_0x3379ed(0x2ee)](_0x370d11,0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x3b989d=[this['GetNextTurnButton'](!![],this[_0x3379ed(0x2f6)]['length'],_0x3379ed(0x288))];if(this['warningEndTurnMessage']['length'])_0x3b989d[_0x3379ed(0x32f)](this[_0x3379ed(0x47b)](![],this[_0x3379ed(0x2f6)][_0x3379ed(0x289)],'Force\x20End\x20Turn'));this['UI'][_0x3379ed(0x219)](_0x3b989d);if(this[_0x3379ed(0x2f6)][_0x3379ed(0x289)])for(var _0x398951 in this[_0x3379ed(0x2f6)]){var _0x5c2f7d=[];_0x5c2f7d[_0x3379ed(0x32f)]({'type':_0x3379ed(0x463),'txt':this[_0x3379ed(0x2f6)][_0x398951][_0x3379ed(0x463)],'txt_color':_0x3379ed(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x3379ed(0x2f6)][_0x398951]['player']||this[_0x3379ed(0x2f6)][_0x398951]['bat']||this[_0x3379ed(0x2f6)][_0x398951][_0x3379ed(0x2a5)])&&_0x5c2f7d[_0x3379ed(0x32f)]({'type':_0x3379ed(0x363),'callback':this[_0x3379ed(0x1b4)],'callback_data':this[_0x3379ed(0x2f6)][_0x398951],'txt':_0x3379ed(0x438),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x3379ed(0x1b6),'windowInfo':[{'callback':()=>{var _0x346154=_0x3379ed;return _0x346154(0x2ad);}}]}),this['UI'][_0x3379ed(0x219)](_0x5c2f7d);}break;}},this[_0x22df2a(0x353)]=()=>{var _0xa9e582=_0x22df2a,_0x3c8a57=world['village'];if(!this['playerSelected'])return this['UI'][_0xa9e582(0x2ee)]('No\x20player\x20selected',VILLAGE_UI_LETTER_SIZE,0x270f,_0xa9e582(0x1b6),VILLAGE_UI_FONT);var _0x410724=this[_0xa9e582(0x3ee)],_0xb1f118=this[_0xa9e582(0x494)](_0x410724,0x50);this['UI'][_0xa9e582(0x219)](_0xb1f118);var _0x335a39=world[_0xa9e582(0x2ce)][_0xa9e582(0x3d4)](_0x410724);if(_0x335a39){var _0x2d5062=[{'type':_0xa9e582(0x463),'txt':_0x335a39[_0xa9e582(0x50c)],'txt_color':this['batSelected']==_0x335a39?_0xa9e582(0x2f3):_0xa9e582(0x1b6),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':'img','img':world[_0xa9e582(0x3bf)][_0x335a39[_0xa9e582(0x1df)]]['img'],'len_x':0x19,'len_y':0x19}];if(_0x3c8a57['phase']==PHASE_PLACEPLAYER)_0x2d5062[_0xa9e582(0x32f)]({'type':_0xa9e582(0x363),'mouseLight':'88','callback':world[_0xa9e582(0x2ce)]['removePlayerFromBat'],'callback_data':{'player':_0x410724},'txt':_0xa9e582(0x428),'txt_color':_0xa9e582(0x1b6),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0xa9e582(0x39f)});this['UI'][_0xa9e582(0x219)](_0x2d5062);}if(!_0x410724[_0xa9e582(0x1ff)])this['UI']['addTextZone'](_0xa9e582(0x3a7),0x14,0x270e,_0xa9e582(0x515),VILLAGE_UI_FONT);else{var _0x19739f=this['getItemIcone'](_0x410724[_0xa9e582(0x1ff)],0x1e,!![]);if(_0x3c8a57['phase']==PHASE_PLACEPLAYER)_0x19739f[_0xa9e582(0x32f)]({'type':_0xa9e582(0x363),'callback':_0x410724[_0xa9e582(0x305)],'callback_data':undefined,'txt':'\x20x\x20','txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0xa9e582(0x39f),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x5cb2d0=_0xa9e582;return _0x5cb2d0(0x1f5);}}]});this['UI'][_0xa9e582(0x219)](_0x19739f);}if(!_0x410724['armor'])this['UI'][_0xa9e582(0x2ee)](_0xa9e582(0x286),0x14,0x270e,_0xa9e582(0x515),VILLAGE_UI_FONT);else{var _0x19739f=this[_0xa9e582(0x19e)](_0x410724[_0xa9e582(0x2a1)],0x1e,!![]);if(_0x3c8a57['phase']==PHASE_PLACEPLAYER)_0x19739f['push']({'type':'button','callback':_0x410724[_0xa9e582(0x471)],'callback_data':undefined,'txt':_0xa9e582(0x2ea),'txt_color':_0xa9e582(0x1b6),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0xa9e582(0x39f),'strokeColor':_0xa9e582(0x1b6),'windowInfo':[{'callback':()=>{return'unequip\x20armor';}}]});this['UI']['addHorizontalElem'](_0x19739f);}if(_0x410724[_0xa9e582(0x475)]&&_0x410724[_0xa9e582(0x3d5)]&&_0x410724[_0xa9e582(0x3d5)][_0xa9e582(0x289)]>0x0)for(var _0x1567a7 in _0x410724[_0xa9e582(0x3d5)]){var _0xb1f118=_0x410724['lvlupList'][_0x1567a7];this['UI'][_0xa9e582(0x374)](_0xb1f118[_0xa9e582(0x239)]+'\x20'+_0xb1f118[_0xa9e582(0x512)],0x28,_0xa9e582(0x1b6),_0xa9e582(0x584),'#000000',_0x410724[_0xa9e582(0x474)],_0xb1f118,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0x410724[_0xa9e582(0x475)]&&this['UI'][_0xa9e582(0x374)](_0xa9e582(0x291),0x3c,_0xa9e582(0x1b6),_0xa9e582(0x42f),_0xa9e582(0x1b6),_0x410724[_0xa9e582(0x4c6)],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0xb1f118=[];var _0x3ac187=_0xa9e582(0x3ad)+_0x410724[_0xa9e582(0x3aa)];_0x3ac187+=_0xa9e582(0x480)+_0x410724[_0xa9e582(0x533)],_0x3ac187+=_0xa9e582(0x4d3)+_0x410724[_0xa9e582(0x4db)],_0x3ac187+=_0xa9e582(0x4ab)+_0x410724['movePCost'];for(var _0x1567a7 in _0x410724[_0xa9e582(0x46b)])_0x3ac187+='\x0a'+_0x1567a7+'\x20'+_0x410724[_0xa9e582(0x46b)][_0x1567a7];_0xb1f118[_0xa9e582(0x32f)]({'type':_0xa9e582(0x463),'txt':_0x3ac187,'txt_color':_0xa9e582(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x39db02=_0xa9e582(0x314)+_0x410724[_0xa9e582(0x24a)]+'/'+_0x410724[_0xa9e582(0x3b6)];_0x39db02+=_0xa9e582(0x2f7)+_0x410724[_0xa9e582(0x442)],_0x39db02+=_0xa9e582(0x56c)+_0x410724[_0xa9e582(0x27e)]+_0xa9e582(0x36c),_0xb1f118[_0xa9e582(0x32f)]({'type':_0xa9e582(0x463),'txt':_0x39db02,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI']['addHorizontalElem'](_0xb1f118);},this[_0x22df2a(0x49d)]=()=>{var _0x4db1f7=_0x22df2a,_0x5cad38=world[_0x4db1f7(0x2ce)];for(var _0x28c491 in _0x5cad38[_0x4db1f7(0x2a8)]){var _0x53fb79=[],_0x4b8454=_0x5cad38[_0x4db1f7(0x2a8)][_0x28c491];if(_0x4b8454==undefined)continue;_0x53fb79[_0x4db1f7(0x32f)]({'type':_0x4db1f7(0x463),'txt':_0x28c491,'txt_color':_0x4db1f7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x53fb79['push']({'type':_0x4db1f7(0x4dd),'img':world[_0x4db1f7(0x3bf)][_0x28c491+'_icon'][_0x4db1f7(0x4dd)],'len_x':0x14,'len_y':0x14}),_0x53fb79['push']({'type':_0x4db1f7(0x463),'txt':'\x20'+_0x4b8454,'txt_color':_0x4db1f7(0x1b6),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x4db1f7(0x219)](_0x53fb79);}},this[_0x22df2a(0x50a)]=()=>{var _0x32bc18=_0x22df2a,_0x3c0a93=[];_0x3c0a93[_0x32bc18(0x32f)]({'type':_0x32bc18(0x363),'mouseLight':'88','callback':()=>{var _0x57dc04=_0x32bc18;this[_0x57dc04(0x49f)]=this[_0x57dc04(0x49f)]-0x1>=0x0?this[_0x57dc04(0x49f)]-0x1:this['tabs'][_0x57dc04(0x289)]-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x3c0a93[_0x32bc18(0x32f)]({'type':'button','mouseLight':'88','callback':()=>{var _0x146c94=_0x32bc18;this['activeTabId']=this['activeTabId']+0x1<this[_0x146c94(0x23d)][_0x146c94(0x289)]?this[_0x146c94(0x49f)]+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x3c0a93['push']({'type':_0x32bc18(0x363),'mouseLight':'ff','callback':()=>{var _0x22949f=_0x32bc18;this[_0x22949f(0x49f)]=undefined;},'callback_data':undefined,'txt':this['tabs'][this[_0x32bc18(0x49f)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x32bc18(0x219)](_0x3c0a93);},this[_0x22df2a(0x326)]=()=>{var _0x4e78a9=_0x22df2a,_0x169340=world[_0x4e78a9(0x2ce)];this['UIsystem']=new MyUI(this[_0x4e78a9(0x507)],this['UIplayers'][_0x4e78a9(0x466)]+this['UI'][_0x4e78a9(0x466)],0x0,0xa,this['scale'],this[_0x4e78a9(0x2f4)],this[_0x4e78a9(0x1fb)],this[_0x4e78a9(0x4bd)]),this['UIsystem'][_0x4e78a9(0x2ee)](_0x4e78a9(0x2b3),0x28,0x270f,_0x4e78a9(0x1b6),VILLAGE_UI_FONT_PHASE),this[_0x4e78a9(0x22b)][_0x4e78a9(0x219)]([{'type':'button','mouseLight':'88','callback':()=>{var _0x2a405b=_0x4e78a9;this[_0x2a405b(0x26c)]=this[_0x2a405b(0x26c)]>0x0?this[_0x2a405b(0x26c)]-0x1:this[_0x2a405b(0x26c)];},'txt':'∧','txt_color':_0x4e78a9(0x39f),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x4e78a9(0x419)},{'type':_0x4e78a9(0x363),'mouseLight':'88','callback':()=>{var _0x298273=_0x4e78a9;this[_0x298273(0x26c)]=this[_0x298273(0x26c)]<_0x169340['MessageSystem']['msg'][_0x298273(0x289)]-0x1?this['eventPage']+0x1:this[_0x298273(0x26c)];},'txt':'∨','txt_color':_0x4e78a9(0x39f),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':'#55aaaa'}]);var _0x2d1416=_0x169340['MessageSystem'][_0x4e78a9(0x44d)]({'page':this['eventPage']});for(var _0x1f253b in _0x2d1416){var _0x302b95=_0x2d1416[_0x4e78a9(0x289)]-_0x1f253b-0x1,_0x782f61=_0x4e78a9(0x1b6);switch(_0x2d1416[_0x302b95][_0x4e78a9(0x213)]){case _0x4e78a9(0x569):_0x782f61='#006400';break;case _0x4e78a9(0x42d):_0x782f61=_0x4e78a9(0x2a7);break;case _0x4e78a9(0x3cb):_0x782f61=_0x4e78a9(0x1a3);break;default:_0x782f61='#000000';break;}if(_0x2d1416[_0x302b95][_0x4e78a9(0x213)]==_0x4e78a9(0x493))this[_0x4e78a9(0x22b)][_0x4e78a9(0x219)](this[_0x4e78a9(0x34b)](_0x2d1416[_0x302b95][_0x4e78a9(0x463)],0x14));else this['UIsystem'][_0x4e78a9(0x2ee)](_0x2d1416[_0x302b95][_0x4e78a9(0x463)],0x14,0x270f,_0x782f61,VILLAGE_UI_FONT);}this['UIsystem'][_0x4e78a9(0x399)]();},this[_0x22df2a(0x318)]=()=>{var _0x208c96=_0x22df2a;if(!world[_0x208c96(0x2ce)])return;var _0x3c6dfb=world['village'];this[_0x208c96(0x283)]=![],this[_0x208c96(0x507)]['GetCanvasPos'](),this[_0x208c96(0x507)][_0x208c96(0x45a)](),this['draw_villagePlayerUi'](),this['UI']=new MyUI(this[_0x208c96(0x507)],this['UIplayers'][_0x208c96(0x466)],0x0,0xa,this['scale'],this[_0x208c96(0x2f4)],this[_0x208c96(0x1fb)],this[_0x208c96(0x4bd)]);if(!this[_0x208c96(0x418)])this['UI'][_0x208c96(0x374)](_0x208c96(0x379),0x28,_0x208c96(0x1b6),_0x208c96(0x224),_0x208c96(0x224),()=>{var _0x3af323=_0x208c96;this[_0x3af323(0x418)]=!this[_0x3af323(0x418)];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this['showUI']){switch(_0x3c6dfb['phase']){case PHASE_PLACEPLAYER:this['UI'][_0x208c96(0x374)](_0x208c96(0x34a),0x28,_0x208c96(0x1b6),_0x208c96(0x224),'#00000000',()=>{var _0x3227dd=_0x208c96;this[_0x3227dd(0x418)]=!this[_0x3227dd(0x418)];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI'][_0x208c96(0x374)](_0x208c96(0x4bc),0x28,_0x208c96(0x1b6),_0x208c96(0x224),'#00000000',()=>{var _0x4a5ccc=_0x208c96;this[_0x4a5ccc(0x418)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this['activeTabId']===undefined)for(var _0x1a6cf3 in this[_0x208c96(0x23d)]){var _0x1b26bf=[];_0x1b26bf[_0x208c96(0x32f)]({'type':'button','mouseLight':'ff','callback':_0x49ee9c=>{var _0x456617=_0x208c96;this[_0x456617(0x49f)]=parseInt(_0x49ee9c);},'callback_data':_0x1a6cf3,'txt':this['tabs'][_0x1a6cf3],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x208c96(0x219)](_0x1b26bf);}else{if(_0x3c6dfb[_0x208c96(0x504)]==PHASE_NEWTURN)this[_0x208c96(0x369)]();else{if(_0x3c6dfb['phase']==PHASE_COMBAT)this[_0x208c96(0x331)]();else{this[_0x208c96(0x50a)]();switch(this[_0x208c96(0x23d)][this['activeTabId']]){case _0x208c96(0x545):this['draw_NextTurnTab']();break;case'building':this[_0x208c96(0x4da)]();break;case'craft':this['draw_craft_menu']();break;case'resource':this[_0x208c96(0x49d)]();break;case _0x208c96(0x2d5):this[_0x208c96(0x267)]();break;case'Player':this['draw_playerTab']();break;}}}}}}this['UI'][_0x208c96(0x399)](),this[_0x208c96(0x326)](),this[_0x208c96(0x51b)](![]);};},MENU_UI_TITLE_FONT=_0x4f97f4(0x3c2),MENU_UI_BUTTON_FONT=_0x4f97f4(0x1bc),MenuUI=function(_0x4e7ccc){var _0x357a10=_0x4f97f4;this[_0x357a10(0x507)]=_0x4e7ccc,this['stroke']=_0x357a10(0x1b6),this[_0x357a10(0x2f4)]=_0x357a10(0x2dd),this[_0x357a10(0x45f)]=0x1,this['needRedraw']=!![],this[_0x357a10(0x2b7)]=!![],this['UI']=undefined;const _0x2e1e70=document['createElement'](_0x357a10(0x507)),_0x1dd9d9=_0x2e1e70[_0x357a10(0x3c8)]('2d'),_0x2a0879=new Image();_0x2a0879['src']=_0x357a10(0x3ca),_0x2a0879[_0x357a10(0x27d)]=()=>{var _0x4bcf25=_0x357a10;const _0x450985=_0x1dd9d9['createPattern'](_0x2a0879,_0x4bcf25(0x1fd));this[_0x4bcf25(0x2f4)]=_0x450985,this[_0x4bcf25(0x283)]=!![];},this[_0x357a10(0x3f4)]=()=>{var _0x2e5199=_0x357a10;window[_0x2e5199(0x1a8)](_0x2e5199(0x300),_0x3d3945=>{var _0x17e748=_0x2e5199,_0x2d9e87=![];this['UI']&&this['UI'][_0x17e748(0x218)](_0x3d3945[_0x17e748(0x33d)],_0x3d3945[_0x17e748(0x338)])&&!this[_0x17e748(0x2b7)]&&(this[_0x17e748(0x283)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x2d9e87=!![]);!_0x2d9e87&&this[_0x17e748(0x2b7)]&&(this[_0x17e748(0x2b7)]=![],this[_0x17e748(0x283)]=!![]);if(this==world[_0x17e748(0x50d)])this['init_check_mouse_move']();},{'once':!![]});},this['init_check_mouse_move'](),this[_0x357a10(0x4d2)]=_0x41b32e=>{var _0xb5eb94=_0x357a10;if(this['UI']&&this['UI'][_0xb5eb94(0x2ab)](_0x41b32e))return!![];if(_0x41b32e==_0xb5eb94(0x4bb)&&this[_0xb5eb94(0x486)]())return!![];return![];},this[_0x357a10(0x486)]=()=>{return![];},this[_0x357a10(0x3c1)]=_0x27e8b8=>{var _0x385c10=_0x357a10;if(!_0x27e8b8||_0x27e8b8['x']===undefined)return![];var _0x2ebae6=_0x27e8b8['x'],_0x406af6=_0x27e8b8['y'];if(_0x27e8b8[_0x385c10(0x363)]==0x2){var _0x218f76=this['cancel_menu']();if(_0x218f76)return!![];}else{if(this['UI'][_0x385c10(0x585)](_0x2ebae6,_0x406af6))return!![];}return![];},this[_0x357a10(0x51b)]=_0x4540f7=>{var _0x33ed1e=_0x357a10;if(this['UI']&&this['UI'][_0x33ed1e(0x51b)](_0x4540f7))this[_0x33ed1e(0x283)]=!![];},this[_0x357a10(0x31b)]=()=>{var _0x3491d0=_0x357a10;this['canvas'][_0x3491d0(0x1e6)](),this[_0x3491d0(0x507)]['cleanCanvas'](),this['UI']=new MyUI(this[_0x3491d0(0x507)],0x0,0x0,0xa,this['scale'],this[_0x3491d0(0x2f4)],this['stroke'],this[_0x3491d0(0x4bd)]);var _0x3ab8f8=[];_0x3ab8f8[_0x3491d0(0x32f)]({'type':_0x3491d0(0x463),'txt':_0x3491d0(0x25b),'txt_color':_0x3491d0(0x1b6),'max_letters':0x270f,'letter_size':0x2d,'txt_font':MENU_UI_TITLE_FONT}),_0x3ab8f8['push']({'type':_0x3491d0(0x463),'txt':'version\x20'+GAME_VERSION,'txt_color':_0x3491d0(0x1b6),'max_letters':0x270f,'letter_size':0xa,'txt_font':MENU_UI_TITLE_FONT}),this['UI'][_0x3491d0(0x219)](_0x3ab8f8),this['UI'][_0x3491d0(0x219)]([{'type':_0x3491d0(0x363),'callback':world[_0x3491d0(0x4ae)],'callback_data':!![],'txt':_0x3491d0(0x3d7),'txt_color':_0x3491d0(0x1b6),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x3491d0(0x362),'strokeColor':_0x3491d0(0x1b6),'windowInfo':[{'callback':()=>{var _0x565e52=_0x3491d0;return _0x565e52(0x2c2);}}]}]),localStorage[_0x3491d0(0x4dc)]&&this['UI'][_0x3491d0(0x219)]([{'type':'button','callback':world[_0x3491d0(0x4ae)],'callback_data':![],'txt':_0x3491d0(0x341),'txt_color':_0x3491d0(0x1b6),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#55ff00','strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x373844=_0x3491d0;return _0x373844(0x4d8);}}]}]),this['UI'][_0x3491d0(0x219)]([{'type':_0x3491d0(0x363),'callback':()=>{var _0x419662=_0x3491d0;window['open']('https://discord.gg/bSKtAqwAhc',_0x419662(0x3d1));},'callback_data':undefined,'txt':_0x3491d0(0x591),'txt_color':_0x3491d0(0x484),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x3491d0(0x1a3),'strokeColor':_0x3491d0(0x1b6),'windowInfo':[{'callback':()=>{var _0x1e2110=_0x3491d0;return _0x1e2110(0x3d8);}}]}]),this['UI'][_0x3491d0(0x399)](),this[_0x3491d0(0x51b)](![]);};};var IMG_TO_LOAD=[[_0x4f97f4(0x56e),_0x4f97f4(0x55c)],[_0x4f97f4(0x56e),_0x4f97f4(0x4a3)],[_0x4f97f4(0x56e),_0x4f97f4(0x549)],[_0x4f97f4(0x56e),'coal_icon'],[_0x4f97f4(0x56e),_0x4f97f4(0x2df)],['player_test3/village/resource',_0x4f97f4(0x2af)],[_0x4f97f4(0x56e),_0x4f97f4(0x4e0)],[_0x4f97f4(0x2fe),_0x4f97f4(0x225)],[_0x4f97f4(0x2fe),'defend_village_icon'],['player_test3/village/building',_0x4f97f4(0x43e)],['player_test3/village/building',_0x4f97f4(0x1b2)],[_0x4f97f4(0x2fe),_0x4f97f4(0x357)],[_0x4f97f4(0x2fe),_0x4f97f4(0x1ae)],[_0x4f97f4(0x2fe),'sawmill'],['player_test3/village/building',_0x4f97f4(0x43c)],[_0x4f97f4(0x2fe),'forge'],[_0x4f97f4(0x56e),'villageAP_icon'],[_0x4f97f4(0x56e),_0x4f97f4(0x38c)]],id=0x0;World=function(_0x3ff95f){var _0x3fef96=_0x4f97f4;this['Screen']=_0x3ff95f,this[_0x3fef96(0x4ff)]=new SoundManager(),this[_0x3fef96(0x3bf)]=[],this[_0x3fef96(0x4ae)]=_0x330c87=>{var _0x2e0b00=_0x3fef96;this[_0x2e0b00(0x1d5)]=undefined,this[_0x2e0b00(0x2ce)]=new Village({});if(!localStorage[_0x2e0b00(0x4dc)]||_0x330c87)localStorage[_0x2e0b00(0x2d9)](_0x2e0b00(0x4dc)),this[_0x2e0b00(0x2ce)][_0x2e0b00(0x44b)]();else{var _0x7bd95a=JSON[_0x2e0b00(0x573)](localStorage[_0x2e0b00(0x4dc)]);for(var _0x3f64d2 in _0x7bd95a){if(_0x7bd95a[_0x3f64d2]==undefined)continue;console[_0x2e0b00(0x4d5)](_0x2e0b00(0x1f7)+_0x3f64d2+_0x2e0b00(0x532));if(_0x3f64d2=='players'){var _0x6d3b25=_0x7bd95a['players'];this[_0x2e0b00(0x2ce)]['players']=[];for(var _0x2273e4 in _0x6d3b25){console[_0x2e0b00(0x4d5)](_0x6d3b25[_0x2273e4]),this[_0x2e0b00(0x2ce)]['createPlayerFromInput'](_0x6d3b25[_0x2273e4]);}}else{if(_0x3f64d2=='bats')this[_0x2e0b00(0x2ce)]['loadBatsFromInput'](_0x7bd95a[_0x2e0b00(0x30d)]);else{if(_0x3f64d2==_0x2e0b00(0x3da))continue;else{if(_0x3f64d2==_0x2e0b00(0x2d5))this[_0x2e0b00(0x2ce)][_0x2e0b00(0x26a)](_0x7bd95a[_0x2e0b00(0x2d5)]);else this['village'][_0x3f64d2]=_0x7bd95a[_0x3f64d2];}}}}}this['villageUI']=new VillageUI(this['Screen']['canList'][_0x2e0b00(0x4c1)]);},this[_0x3fef96(0x284)]=()=>{var _0x5a5e60=_0x3fef96;for(var _0x452639 in IMG_TO_LOAD){var _0xc7c19c=IMG_TO_LOAD[_0x452639][0x1],_0x42f017=IMG_TO_LOAD[_0x452639][0x0];this[_0x5a5e60(0x3bf)][_0xc7c19c]=new myImage(_0xc7c19c,'./img/'+_0x42f017+'/'+_0xc7c19c+_0x5a5e60(0x30a));}},this['init']=()=>{var _0x1cec6e=_0x3fef96;this['Controler']=new ControlManager(),new PlayersManager()['loadPlayerDefaultImgs'](),this[_0x1cec6e(0x3bf)]={...world[_0x1cec6e(0x383)]},this[_0x1cec6e(0x284)](),this[_0x1cec6e(0x1d5)]=new MenuUI(this[_0x1cec6e(0x20f)][_0x1cec6e(0x201)]['GameUI']);},this[_0x3fef96(0x497)]=()=>{var _0x13c859=_0x3fef96,_0x5968ce=JSON['stringify'](world[_0x13c859(0x2ce)]);localStorage['villageSave']=_0x5968ce;},this[_0x3fef96(0x2d0)]=_0x2f2177=>{var _0x1d2773=_0x3fef96;if(!this[_0x1d2773(0x212)])return undefined;var _0x129300=0x64;while(_0x129300-->0x1){var _0x48fffc=0x1+Math[_0x1d2773(0x394)](this[_0x1d2773(0x212)][_0x1d2773(0x56a)]*(0.5+0.5*Math['random']())),_0x2ee678=0x1+Math[_0x1d2773(0x394)](this[_0x1d2773(0x212)]['height']*Math[_0x1d2773(0x356)]()),_0x418f6e=this[_0x1d2773(0x4cc)][_0x1d2773(0x2c0)]({'x':_0x48fffc,'y':_0x2ee678,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x418f6e&&(console[_0x1d2773(0x4d5)](_0x1d2773(0x250)+[_0x48fffc,_0x2ee678]),_0x129300=0x0);}if(!_0x418f6e)return undefined;_0x418f6e['lifeMax']=0x14+_0x2f2177*0x4,_0x418f6e[_0x1d2773(0x378)]=_0x418f6e['lifeMax'],_0x418f6e[_0x1d2773(0x46b)][_0x1d2773(0x53e)]=0x5+_0x2f2177,_0x418f6e[_0x1d2773(0x46b)]['Dexterity']=0x5+_0x2f2177,_0x418f6e[_0x1d2773(0x4db)]=0x50+_0x2f2177*0x1+Math[_0x1d2773(0x394)](Math[_0x1d2773(0x356)]()*0x50),_0x418f6e['ActionPointMax']=0x32+Math['floor'](Math[_0x1d2773(0x356)]()*0x64)+_0x2f2177,_0x418f6e['ActionPoint']=_0x418f6e['ActionPointMax'],_0x418f6e[_0x1d2773(0x1ab)]=0x14-0xf+Math[_0x1d2773(0x394)](Math[_0x1d2773(0x356)]()*0x1f)-_0x2f2177;if(_0x418f6e[_0x1d2773(0x1ab)]<0x5)_0x418f6e['movePCost']=0x5;var _0x1acb85=undefined,_0x38baed=Math[_0x1d2773(0x394)](Math[_0x1d2773(0x356)]()*0x64);if(_0x2f2177<0x5)_0x1acb85=undefined;else{if(_0x38baed+_0x2f2177*0x2>0x50)_0x1acb85=new Weapon()['createRandomWeapon']();}_0x418f6e[_0x1d2773(0x1ff)]=_0x1acb85;var _0x413ce3=undefined,_0x38baed=Math[_0x1d2773(0x394)](Math['random']()*0x64);if(_0x2f2177<0x5)_0x413ce3=undefined;else{if(_0x38baed+_0x2f2177*0x2>0x50)_0x413ce3=new Armor()[_0x1d2773(0x59f)]();}return _0x418f6e[_0x1d2773(0x2a1)]=_0x413ce3,_0x418f6e[_0x1d2773(0x350)](),console[_0x1d2773(0x4d5)](_0x1d2773(0x39c)),_0x418f6e;},this['CreateBattleMapFromVillagePlayer_test']=(_0x52086e,_0x161567,_0x3573d5)=>{var _0x41816e=_0x3fef96;this['map']=new BattleMap(0x19,0x6+0x2*_0x52086e[_0x41816e(0x289)]),this[_0x41816e(0x212)][_0x41816e(0x2b1)](),this[_0x41816e(0x212)][_0x41816e(0x35c)](),this[_0x41816e(0x4cc)]=new PlayersManager(),this[_0x41816e(0x4cc)][_0x41816e(0x384)](),this[_0x41816e(0x4cc)]=this[_0x41816e(0x4cc)],this[_0x41816e(0x4cc)][_0x41816e(0x276)]=this[_0x41816e(0x20f)][_0x41816e(0x201)][_0x41816e(0x294)],this[_0x41816e(0x4cc)][_0x41816e(0x1f6)]=this[_0x41816e(0x20f)][_0x41816e(0x201)]['players'],TEAM_AI_COLOR={'r':0x78,'g':0x78,'b':0x78};var _0x312728=0x3;for(var _0x36bfee in _0x52086e){var _0x48c99f=_0x52086e[_0x36bfee];this[_0x41816e(0x4cc)]['createPlayerFromVillage']({'x':0x3,'y':_0x312728,'player':_0x48c99f}),_0x312728+=0x2;}for(var _0x2ab27e=0x0;_0x2ab27e<0x64;_0x2ab27e++){if(_0x3573d5){this[_0x41816e(0x2d0)](_0x161567*0x3);break;}if(_0x2ab27e==0x0||_0x2ab27e==0x1){this[_0x41816e(0x2d0)](_0x161567);continue;}else{if(_0x161567>0x5&&_0x2ab27e>0x5a&&Math[_0x41816e(0x394)](Math[_0x41816e(0x356)]()*(0x64+_0x161567))<_0x161567)this[_0x41816e(0x2d0)](_0x161567);else{if(_0x161567>0x14&&_0x2ab27e>0x50&&Math[_0x41816e(0x394)](Math[_0x41816e(0x356)]()*(0xc8+_0x161567))<_0x161567)this[_0x41816e(0x2d0)](_0x161567);else{if(_0x161567>0x32&&_0x2ab27e>0x46&&Math[_0x41816e(0x394)](Math[_0x41816e(0x356)]()*(0x190+_0x161567))<_0x161567)this[_0x41816e(0x2d0)](_0x161567);else{if(_0x161567>0x64&&_0x2ab27e>0x32&&Math[_0x41816e(0x394)](Math['random']()*(0x320+_0x161567))<_0x161567)this[_0x41816e(0x2d0)](_0x161567);}}}}}this['map']['generateRandomElement']();},this[_0x3fef96(0x283)]=()=>{var _0xc0b43d=_0x3fef96;if(this['map'])this[_0xc0b43d(0x212)][_0xc0b43d(0x283)]=!![];if(this[_0xc0b43d(0x4c1)])this['GameUI']['needRedraw']=!![];if(this['villageUI'])this[_0xc0b43d(0x57b)]['needRedraw']=!![];if(this[_0xc0b43d(0x1d5)])this['MenuUI']['needRedraw']=!![];};},PLAYER_ID=0x3e8,document['oncontextmenu']=rightClick;function rightClick(_0x30f733){var _0x99560b=_0x4f97f4;_0x30f733[_0x99560b(0x1cb)]();}GAME_VERSION=_0x4f97f4(0x2bc);(localStorage[_0x4f97f4(0x289)]==0x0||localStorage['version']!=GAME_VERSION)&&(localStorage[_0x4f97f4(0x4ce)](),localStorage[_0x4f97f4(0x1c0)]=GAME_VERSION);window[_0x4f97f4(0x27d)]=function(){var _0xe88589=_0x4f97f4;const _0x556833=new CanvasManager();_0x556833['addCanvas'](_0xe88589(0x58f),0x0),_0x556833[_0xe88589(0x2a2)](_0xe88589(0x4cc),0x1),_0x556833[_0xe88589(0x2a2)](_0xe88589(0x458),0x2),_0x556833[_0xe88589(0x2a2)](_0xe88589(0x294),0x3),_0x556833[_0xe88589(0x2a2)](_0xe88589(0x4c1),0x4),world=new World(_0x556833),world['init']();var _0x17a6a4=new Date()[_0xe88589(0x2fd)]();setInterval(()=>{var _0x565702=_0xe88589;if(!world||!world[_0x565702(0x330)])return;var _0x337434=new Date()['getTime']();if(world[_0x565702(0x4c1)])world[_0x565702(0x4c1)][_0x565702(0x3ec)]=Math['floor'](0x3e8/(_0x337434-_0x17a6a4));_0x17a6a4=_0x337434;if(world[_0x565702(0x4cc)]&&world['players']['Playerturn']&&world[_0x565702(0x4cc)]['Playerturn'][_0x565702(0x28e)]==TEAM_AI&&!world[_0x565702(0x4cc)][_0x565702(0x574)]['AI'][_0x565702(0x337)]){var _0x571c6e=world[_0x565702(0x4cc)][_0x565702(0x19c)][_0x565702(0x275)](_0x5eae14=>_0x5eae14[_0x565702(0x2c8)][_0x565702(0x289)]>0x0);if(!_0x571c6e){_0x571c6e=world[_0x565702(0x4cc)]['Playerturn'][_0x565702(0x2a0)](),console[_0x565702(0x4d5)](_0x565702(0x30f)+_0x571c6e);if(_0x571c6e)world[_0x565702(0x4cc)][_0x565702(0x574)]['AI'][_0x565702(0x337)]=!![];}}world['Controler'][_0x565702(0x421)](),world['map']&&world[_0x565702(0x212)]['needRedraw']&&(_0x556833[_0x565702(0x201)][_0x565702(0x58f)][_0x565702(0x1e6)](),_0x556833[_0x565702(0x201)]['mapFloor'][_0x565702(0x45a)](),_0x556833['canList']['mapTopElem'][_0x565702(0x1e6)](),_0x556833[_0x565702(0x201)]['mapTopElem'][_0x565702(0x45a)](),world[_0x565702(0x212)][_0x565702(0x423)](_0x556833[_0x565702(0x201)][_0x565702(0x58f)][_0x565702(0x507)]),world[_0x565702(0x212)][_0x565702(0x3cc)](_0x556833['canList']['mapFloor'],_0x556833[_0x565702(0x201)][_0x565702(0x458)],_0x556833[_0x565702(0x201)][_0x565702(0x294)])),world[_0x565702(0x4cc)]&&(_0x556833[_0x565702(0x201)][_0x565702(0x4cc)][_0x565702(0x1e6)](),_0x556833['canList']['players']['cleanCanvas'](),world[_0x565702(0x4cc)][_0x565702(0x583)](),scale_changed=![]),world[_0x565702(0x4c1)]&&(world[_0x565702(0x4c1)][_0x565702(0x51b)](![]),world['GameUI'][_0x565702(0x283)]&&world[_0x565702(0x4c1)]['drawGameUI']()),world[_0x565702(0x57b)]&&(world['villageUI'][_0x565702(0x51b)](![]),world[_0x565702(0x57b)][_0x565702(0x283)]&&world[_0x565702(0x57b)][_0x565702(0x318)]()),world[_0x565702(0x1d5)]&&(world[_0x565702(0x1d5)]['CheckInfoWindow'](![]),world[_0x565702(0x1d5)][_0x565702(0x283)]&&world['MenuUI'][_0x565702(0x31b)]());},0x14);};