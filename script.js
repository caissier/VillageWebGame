var _0x4113ca=_0x1e35;(function(_0x3621f6,_0x5b18e4){var _0x15a7bb=_0x1e35,_0x20fdd4=_0x3621f6();while(!![]){try{var _0x216a7f=parseInt(_0x15a7bb(0x2e9))/0x1*(-parseInt(_0x15a7bb(0x404))/0x2)+-parseInt(_0x15a7bb(0x3f3))/0x3*(parseInt(_0x15a7bb(0x1ff))/0x4)+parseInt(_0x15a7bb(0x511))/0x5*(parseInt(_0x15a7bb(0x475))/0x6)+parseInt(_0x15a7bb(0x4a5))/0x7+-parseInt(_0x15a7bb(0x496))/0x8*(-parseInt(_0x15a7bb(0x25d))/0x9)+parseInt(_0x15a7bb(0x4f4))/0xa+-parseInt(_0x15a7bb(0x3ec))/0xb;if(_0x216a7f===_0x5b18e4)break;else _0x20fdd4['push'](_0x20fdd4['shift']());}catch(_0x5a6411){_0x20fdd4['push'](_0x20fdd4['shift']());}}}(_0x38fb,0x9988f),SoundManager=function(){var _0x445b19=_0x1e35;this['sounds']=[],this[_0x445b19(0x420)]='./music/',this['LoadSound']=_0x361600=>{var _0x37548a=_0x445b19;if(this['sounds'][_0x361600]&&this[_0x37548a(0x1b6)][_0x361600][_0x37548a(0x3d2)])return;var _0x5e93f3=new Audio(this[_0x37548a(0x420)]+_0x361600+_0x37548a(0x284));this[_0x37548a(0x1b6)][_0x361600]=_0x5e93f3;},this['playSound']=(_0x237885,_0x52d894,_0x1cd1b6)=>{var _0x5ace2b=_0x445b19;if(!this[_0x5ace2b(0x1b6)][_0x237885])this[_0x5ace2b(0x49c)](_0x237885);if(!_0x1cd1b6&&!this[_0x5ace2b(0x1b6)][_0x237885][_0x5ace2b(0x173)])this['sounds'][_0x237885][_0x5ace2b(0x30d)]=0x0;if(_0x52d894)this[_0x5ace2b(0x1b6)][_0x237885][_0x5ace2b(0x379)]=!![];this[_0x5ace2b(0x1b6)][_0x237885][_0x5ace2b(0x41f)]();},this[_0x445b19(0x371)]=_0xbdf7a8=>{var _0x333f80=_0x445b19;this[_0x333f80(0x1b6)][_0xbdf7a8]&&(this[_0x333f80(0x1b6)][_0xbdf7a8][_0x333f80(0x43f)](),this[_0x333f80(0x1b6)][_0xbdf7a8]['currentTime']=0x0);};});function isInRect(_0x1857ed,_0x4cd260,_0x4fd14f){if(_0x1857ed===undefined||_0x4cd260===undefined||_0x4fd14f['ax']===undefined||_0x4fd14f['ay']===undefined||_0x4fd14f['bx']===undefined||_0x4fd14f['by']===undefined)return![];if(_0x4fd14f['ax']>_0x4fd14f['bx']){var _0x1642a5=_0x4fd14f['ax'];_0x4fd14f['ax']=_0x4fd14f['bx'],_0x4fd14f['bx']=_0x1642a5;}if(_0x4fd14f['ay']>_0x4fd14f['by']){var _0x1642a5=_0x4fd14f['ay'];_0x4fd14f['ay']=_0x4fd14f['by'],_0x4fd14f['by']=_0x1642a5;}if(_0x1857ed>_0x4fd14f['ax']&&_0x1857ed<_0x4fd14f['bx']&&_0x4cd260>_0x4fd14f['ay']&&_0x4cd260<_0x4fd14f['by'])return!![];return![];}function testCB(_0x560fef){var _0x1161be=_0x1e35;if(!_0x560fef)console[_0x1161be(0x3c2)](_0x1161be(0x4c6));console[_0x1161be(0x3c2)](_0x1161be(0x337)+_0x560fef['x']+'\x20'+_0x560fef['y']),map_test[_0x1161be(0x290)][_0x560fef['x']][_0x560fef['y']]=(map_test[_0x1161be(0x290)][_0x560fef['x']][_0x560fef['y']]+0x1)%0x4,scale_changed=!![];}function getAngleFromTime(_0x4fe896,_0x9fd7d4,_0x52c6b7){var _0x5cfc51=_0x9fd7d4-_0x4fe896;return _0x4fe896+_0x5cfc51/0x2+_0x52c6b7*_0x5cfc51/0x2;}function _0x1e35(_0x5322a6,_0x2e5232){var _0x38fb5f=_0x38fb();return _0x1e35=function(_0x1e359f,_0x50d3ae){_0x1e359f=_0x1e359f-0x153;var _0x4c92d9=_0x38fb5f[_0x1e359f];return _0x4c92d9;},_0x1e35(_0x5322a6,_0x2e5232);}function distBlock(_0x118af7,_0x5c4efa,_0x5e8455,_0x24fd01){var _0x277a21=_0x1e35,_0x4a0d33=Math[_0x277a21(0x3dd)](_0x118af7-_0x5e8455),_0x47210f=Math[_0x277a21(0x3dd)](_0x5c4efa-_0x24fd01);if(_0x4a0d33>_0x47210f)return _0x4a0d33;return _0x47210f;}function _0x38fb(){var _0x502a0f=['LoadSound','#555555','./img/mapFloor/','Algerian','draw_building_tab','\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27','sand','reducing\x20','generateBasicPlayer','665980PCdDLf','screenAy','draw_Image','pUI_need_redraw','itemsPageOffset','Mira\x20Acevedo','itemSelected','GetMovePrice','Lia\x20Diaz','#006400','txt_font','#ff880022','hand','\x20Action\x20Point\x20Max\x20(Battle)\x20','rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','villageUI','getItemIcone','Mckenna\x20Leblanc','Player','Alaina\x20Bradford','projectilAnimation','Space','loadImg','block','bow\x20attack','mapImgsTop','Sawmill','take_damage','itemType','highlight','mouse_move_check','#ff080888','armor','error,\x20no\x20block','lvl\x20up','fps','getZoneAdjacentToPlayerByDir','players','text_color','metal_sword','calculatDamageFromAttack','generateCapacity','drawRect','i\x20dont\x20have\x20this\x20image\x20\x20:\x20','Saige\x20McBride','click','add\x20to\x20building','no\x20armor\x20equiped','\x20crafted\x20a\x20','center\x20on\x20player','check\x20next\x20block','go\x20to\x20player\x20tab\x20for\x20lvl\x20up','innerWidth','onload','test\x20turn\x20finished\x20:\x20','spear','Kelvin\x20Fischer','Start\x20Phase\x202','EventcloseFullscreen','CheckMoveTo\x20:\x20invalid\x20block','ctx','needRedraw','\x20of\x20type\x20','complete','cut\x20wood\x20faster\x20in\x20forest','./img/mapTopElement/','wood_stick','msg','check\x20dmg\x20:\x20','TryBuildBat','generateRandomElement','attack\x20with\x20:\x20','drawFillRect','center','this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it','getBlocksAtRangeFromPlayer','actionCost','angle','you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank','8069560gAopuN','batSelected','addWeaponToVillageInventory','Speed\x20:\x20','addMessage','font','New\x20Turn\x20started\x20:\x20','no\x20block','Digit','addHorizontalElem','better\x20than\x20nothing','UIplayers','Paxton\x20Pollard','damages','draw_NextTurnTab','addResource','#a52a2a','equip\x20armor','sort','forest_icon','Denver\x20Leal','getWeaponAttackDescription','\x27Ravie\x27','Shepherd\x20Park','\x20%\x20of\x20','keyup','workshop','#556b2f88','\x20PA\x20left\x20for\x20finish\x20construction','565tfiMjp','initMapTopElement','get\x20block\x20adjacent','decode','projectilSpeed','background','\x20food\x20last\x20week','Attack\x20with\x20','substring','unequipArmor','#ef0bc322','ready','callback_actionPlayer','draw_ItemsTab','endFight','screenBy','build','data','#da1d81','zone_selecting_input','populationMax','needColor','sin','drawUI','botright_block','canList','River\x20Hunter','Stone\x20Pickaxe','stats','Players','can\x27t\x20create\x20this\x20weapon','coal_icon','Stone\x20Spear','create\x20player\x20in\x20','Kenji\x20McLaughlin','#00000000','TryMoveTo','Strength','no\x20weapon\x20equiped','can\x27t\x20display\x20weapon\x20:\x20','getContext','wood_icon','playerDefaultImgs','zone_target_area','requestFullscreen','InfoWinfowPos','nb_houses','removePlayerFromBat','mouseup','addSawmill','px\x20','getPixelPosition','get_valid_craft_list','\x20is\x20building\x20\x27','paused','Enter','Malachi\x20Garza','Start\x20Turn','Phase\x202\x20started','Attack','length','No\x20player\x20selected','initVillage','getDistToABlock','#FFAD1C','screenAx','block\x20','Movement\x20cost\x20:\x20','img\x20','Music','stone_axe','drawImage','fullscreenchange',']\x20blocks\x20behind\x20the\x20target','Sergio\x20Welch','#55aaaa','#d2691e88','drawMessageSystemEvents','cost','left','no\x20crafts\x20list','\x0aTarget\x20between\x20[','strokeRect','addWorkShop','get_next_path','bot','\x20by\x20','#ff66ff','#1e90ff','weed','bow_workshop_icon','phase','Exploit\x20resource\x20from\x20the\x20forest','\x0a-reduce\x20','handImg','Wilson\x20Gill','posA','createImgFromData','getVillageUItext','enemy\x20created\x20succesfully','\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building','callback','toDataURL','drawTextTopLeft','receive_attack','blocksize_y','from','\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for','\x20:\x20','\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20','\x20damage','lvl\x20','addBowWorkshop','eventPage','\x20x\x20','Braden\x20Lucero','checkHaveResources','mapFloor','Wren\x20Costa','Screen','mapTopElem','sounds','click_buton_check','Next\x20Turn','attack\x20animation\x20on\x20the\x20selected\x20block','Wood\x20Armor','body_2','GoToTabName','Dexterity','draw_map','batBuildMenu','Ruth\x20Stout','Fepachie','Jordan\x20Barker','#663300','New\x20PLayer\x20','drawPlayer','draw_tab_selector','village','Aufait','Askip','newGameInput','\x0a-craft\x20weapons\x20and\x20armors','\x20left','gauge','Boden\x20Archer','\x20turn','len_x','\x0aTarget\x20adjacents\x20blocks','body_0','\x0a-hit\x20between\x20[','\x20Action\x20Points\x20left','extand\x20the\x20Turns\x20window','lifeMax','\x20month\x20','unequipWeapon','layerLen','UIevent','GetNextTurnButton','selector','getDateText','\x27Footlight\x20MT\x20Light\x27','pixel_startx','getTime','pixel_endy','path','mapImgsBot','Richard\x20Lee','KeyF','#000000ff','Kingston\x20Howell','style','job','End\x20of\x20the\x20battle','hand/hand_0.png','crushing','CreateBattleMapFromVillagePlayer_test','Lorelei\x20Alexander','end\x20of\x20the\x20combat','Lara\x20Barnett','drawTextCenter','\x20if\x20%','canvas','Jakobe\x20Hardin','center_on_selected_player','activeTabId','initImgs','\x20turn\x20have\x20started','#00D238','blocking_end_turn','bonus','Anahi\x20Strickland','\x20-Action\x20Point\x20','Sariah\x20Cabrera','20092oXurMp','upgrades','\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building','attack_bigaxe','getMoveCost','drawImageRotate','Stone\x20Axe','Playerturn','check\x20protect\x20','Zachary\x20Holloway','you\x20can\x20only\x20craft\x20during\x20Phase\x202','Grady\x20Oâ€™Neal','factor','DefaultImgsReady','rotate','affectPlayerToBat','pos_y','#00aaaa','Kade\x20House','upgrades_callback','bottom','sqrt','villageActionPointMax','Equiped\x20with\x20\x27','sortButo','pixel_width','\x20is\x20dead','\x20dist\x20','TryUpgrade','sawmill_song','list','add\x20player','life','small_woodBow','exitFullscreen','zoneTarget','craft','sea','\x0a-affect\x20players\x20to\x20a\x20building','addCanvas','\x20week\x20','LoadPlayerImage','get_block_by_pixel','movement\x20factor\x20x','playersPageOffset','getResourcesTextAndImg','screenBx','face_4','#0000fb','life\x20','\x0a-equip\x20items','changed\x20','GameUI','\x27\x20is\x20finished','get\x20more\x20resources\x20in\x20mine','slashing','back','Mae\x20Gentry','battle','#ff000055','selector\x20:\x20','UIsystem','\x20\x20Info\x20\x20','Bonnie\x20Bishop','House\x20lvl','Numpad','test','addDefendVillage','showUIsystem','createUI','ActionPointMax','you\x20don\x27t\x20have\x20enought\x20resource','craft\x20stuff\x20here','./img/','stone_icon','body_4','Imgs','Your\x20Village\x20is\x20attacked\x20!!','\x20can\x20lvl\x20up','\x20players\x20to\x20the\x20battle','getBlockUnderPlayer','chance\x20to\x20hit\x20:\x20%','\x0aYour\x20village\x20consumed\x20','bodyPartImg','ApplyListPerkUp','appendChild','./img/player_test3/','GetMoveDir','input','Nathan\x20Beltran','Mine','\x20\x20\x20\x20\x20Info\x20:','craftPageOffset','isDead','279TvbfDt','posBlocky','stone_spear','createElement','info','pos_x','unequip\x20armor','kill_player','get_valid_player_for_craft','strokeColor','ReturnBlockTargeted','getZoneAdjacentToPlayer','width','fillStyle','Peter\x20Tate','#ffffff','unequipItem','_icon','NumpadSubtract','Where\x20your\x20players\x20works','batsToBuild','\x0a--\x20x','bat','getMessageSystem','#17bdbc','batSortModeList','CheckMoveTo\x20:\x20player\x20here','canvasPlayer','CheckControlInput','#a01454','draw_battlePhase','woodplank_icon','init_check_mouse_move','\x20don\x27t\x20have\x20enought\x20Action\x20Point','Forest\x20Exploitation','text_font','playerstats','Kadence\x20Castaneda','code','.mp3','uppgrade','hello\x20world','mousePos','description','warningEndTurnMessage','lenx','createRandomArmor','then','delete_player','\x20Action\x20Point\x20(Village)\x20','generateMap','mapBlock','getPlayerIcone','transform\x20wood\x20into\x20woodplank','workshop_icon','get_valid_action_in_affected_building','fletching\x20station','Move\x20To','sawmill','mapUI','Population\x20max\x20+\x205\x20(','\x0aSpeed\x20:\x20','Jade\x20Butler','gaugeSpeed','\x20missed\x20attack\x20(','clientX','pos_startx','equipWeapon','Ximena\x20Zimmerman','can\x27t\x20get\x20can\x20pos','Cole\x20Clayton','getBoundingClientRect','./img/mapBotElement/','mouseInfoWindow','Aubrielle\x20Farmer','addImage','zIndex','absolute','\x0aLife\x20Max\x20:\x20','getImageData','turnFinished','keyUp','ff0000','speed\x20','Img','preventDefault','createPattern','Your\x20population\x20eat\x20food,\x20Miam','craft\x20basic\x20stuff','No\x20Name','Events','moving','move','stone_pickaxe','KeyW','selecting_block','Ryder\x20Sandoval','cant\x20load\x20image\x20\x22','createNewArmor','\x0a-start\x20the\x20construction\x20of\x20new\x20building','blocks','Maci\x20Alvarado','rangeMax','centerOnBlock','textBaseline','text','name','\x20leave\x20','Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn','needUIRedraw','button','textAlign','draw_playerTab','measureText','create_random_enemy_on_map','weapon\x20:\x20','Defend\x20Village','Gruu','New\x20Building','moveCost','smash','bonusPopulation','\x20incoming\x20damage','unshift','creating\x20an\x20enemy\x20in\x20','playerInfoMenu','Tiana\x20Daniel','buto_txt','GetBatBuildMenuSelector','equip\x20weapon','fullScreen','\x20can\x20lvl\x20up\x20++','item','createDatafromImage','weapon/projectil/','position','DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','createNewWeapon','Your\x20village\x20is\x20attacked\x20!','KeyD','26934aZkKjf','find','face_type','shift','go\x20to\x20craft\x20tab','Key_Input','projectil','getEquipedWeaponDescription','addForest','keyDown','imgs\x20:\x20','\x27\x20have\x20started','no\x20description','set_drawing_map','Kaydence\x20Xiong','getChanceOfHit','key_buton_check','direction\x20:\x20','ArrowRight','attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','Daisy\x20Robinson','lineMax','serif','rect','look','CheckMoveTo','Houses','invalid\x20craft','.png','bodyPartImgReady','color','pixel_endx','ActionPoint','initMapFloorImage','marge','Jianna\x20Wood','currentTime','armor/','you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201','Andres\x20Sampson','getBatFromPlayer','string','can\x27t\x20load\x20','#00af0022','changeMapView','#ffff66','#000000','rangeMin','KeyA','team','getNextTurnList','addArmorToVillageInventory','\x20place','txt_color','right','End_Turn','len_y','txt','CheckInfoWindow','Move\x20your\x20player\x20up/right/down/left','random','webkitExitFullscreen','Kevin\x20Wiggins','drawImageMirrorRotateCenter','Direction\x20:\x20','displayMessageEvent','Cillian\x20Ray','fillColor','left\x20mouse\x20:\x0a','foodconsumedLastTurn','#00ff00','wrong\x20direction','generateBasicVillage','key_event','showUI','metal_axe','initMapBotElement','Controler','change\x20block\x20','lvlup','page','GetDrawBuildingElement','value','lvlupList','fullness','Okalm','#0000ff','highlightBlock','anim','saw_workshop','#11ff33','closeFullscreen','let\x20do\x20it','push','Greyson\x20Walker','you\x20lost\x20:','speed','putImageData','Ila\x20Ellis','under_construction_icon','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','drawImageRotateCenter','week','damageBase','atan2','addButton','mapImgsFloor','error\x20input\x20create\x20player','\x20action\x20points','stroke','keydown','wood_arrow','\x20/\x20','\x20is\x20attacking\x20with\x20','inputclick','\x20is\x20mining\x20resource\x20for\x20','#ff0000','get_pixel_by_pos','UIeventExpanded','\x20-\x20','openFullscreen','get_direction_from_pos','failed\x20createImgData\x20image','botElem','InfoWindowPos','drawPlayers','createPlayerFromVillage','filter','hit\x20the\x20target\x20behind','body_type','get\x20more\x20resources\x20in\x20the\x20mine','draw_newTurnPhase','top','Archer\x20Baxter','a->Z','loadPlayerDefaultImgs','stopSound','player\x20','getKeyInput','repeat','players_inside','\x20lost\x20','addMine','Marvin\x20Herrera','loop','#0000ff88','addHouse','attack_metal_slash','face_3','weapon/','#0088ff','draw_villagePlayerUi','APcost','getNextUpgrade','I\x20will\x20play\x20in\x20','Items','building','#00dd00','Start\x20Battle','bats','checkNextUpgrade','webkitfullscreenchange','ControlLeft','fullscreenElement','#ffff00','Phase\x201\x20:\x20Place\x20Players','craftSelected','return','tree_root','Turns','clearRect','sword','mouseWasOnMouseLightLastDraw','Metal\x20Axe','batPageOffset','no\x20players','\x20received\x20damage\x20:\x20','#888888','wood_armor','Itzel\x20Allison','eventPageOffset','\x0a-hit\x20[','sword_2h','#0320fb','\x27Comic\x20Sans\x20MS\x27','canvasPUI','playersSelected','createProjectilAnimation','concat','stat','\x27Bauhaus\x2093\x27','strokeStyle','round','Small\x20Woodbow','playerList','posBlockx','innerHeight','Ares\x20Long','topElem','#ffffff88','Turn\x20','Marisol\x20Humphrey','under\x20construction\x20:\x20','bow','documentElement','key','fillRect','playAIturn','New\x20Turn\x20!\x20','letter_size','Zelda\x20Stevens','A\x20big\x20hole\x20in\x20the\x20ground','nope,\x20not\x20this\x20way','invalid\x20player','hit\x20them\x20from\x20behind','get_block_at_DistRange','rock','log','\x27Snap\x20ITC\x27','sound','buttonList','attack','posB','resources','crossOrigin','#000000aa','player','pos_starty','#005500','0px','start\x20message\x20system','callback_data','highlightZone','readyState','splice','start\x20construction','ArrowUp','cos','ArrowDown','floor','\x20for\x20','sort\x20buildings\x20by\x20','Lvl\x20up\x20+1','food_icon','abs','./img/player_test3/village/villageUI_patern.png','Alisson\x20Roberson','#f8f8ff88','bad\x20input\x20remove\x20resource','Menu','Argoo','movePCost','Kai\x20Benjamin','GetCanvasPos','get\x20x2\x20more\x20wood\x20in\x20forest','\x20is\x20loaded','villageAP_icon','Emerie\x20Hickman','playSound','10498818cFWrpV','dir','startTime','duration','leny','dont\x20have\x20resources','spawn\x20player','411PnpIKA','height','Force\x20End\x20Turn','ArrowLeft','damage','body','getZoneAtAbsRangeToPlayer','drawGameUI','page\x20down','mousemove','image\x20incomplet','map','unequip\x20weapon','\x20img\x20loaded','fillText','scale','Bow\x20workshop','16gVCdQp','#5500ff','ammo','dmgArmor','letter_per_line','#55ff00','Move\x20AP\x20cost\x20:\x20','init','build_progression','MessageSystem','elmList','costAP','getBlocksAtDistRangeFromPlayer','Azyla','arrow_projectil','GetColorImage','player_test3/village/resource','hammer_nails','animation','you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village','mode','addEventListener','player_size','Belek','creating\x20an\x20image\x20:\x20','alt','playerSelected','play','src','body/','tabs','LoadPlayerVillageImage','Elsie\x20Reynolds','getBlockBehindTarget','test\x20zone\x20','\x20AP','\x20is\x20not\x20affected\x20to\x20a\x20building','playerColor',']\x20distance\x20around\x20the\x20target','clientY','startsWith','PlayerInfodisplay','colorColored','Action\x20Point\x20:\x20','blockSelected','warning','UIturnExpanded','\x20weeks','size','CostMovingPlayer','face_2','drawLine','ago','weaponAnim','\x20joined\x20your\x20village','success\x20check\x20next\x20uppgrade','createNewPlayer','nextTurn','getArmorDescription','pause','drawVillageUI','shaken_bush','createBatToBuildList','wall','middle','showUIplayers','cleanCanvas','resource','enemy)','redraw\x20village\x20UI','body_1','AlphaTransparencyByPixel','mine','Meilani\x20Olson','Miner\x20helmet','getMouseInput','addTextZone','txts','tab','getLvlUpPerkList','hand\x20hit','Population\x20max\x20+\x2010\x20(','blockTargetingFunction','topleft_block','img','End\x20Turn','ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST','the-britons','tryLvLup','weapon','lvl','colorFill','test_start_battle','Arial','the\x20construction\x20of\x20\x27','batSortModeId','defend_village_icon','GetPageSelector','wood\x20Stick','blocksize_x','get_next_turn','wheel','get_pixel_by_block','page\x20up','cancel_menu','CheckMoveTo\x20:\x20invalid\x20Input','CheckMoveTo\x20:\x20invalid\x20cost','windowInfo','UIturn','constructionSelected','Build\x20new\x20batiments\x20here','removeResource','setTransform','24738hNNEjj','\x27\x20(+','imgIcon','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','UI_list','res','mozfullscreenchange','equipArmor','Dakari\x20Poole','Stephanie\x20Bradley','WEAPON\x20BONUS\x20/\x20','piercing','getBlocksAtRange','createRandomWeapon','draw_craft_menu','getBlockAdjacent','age','player_test3/village/building','lastTime','projectilName','add\x20some\x20blocks\x20','addGauge','pixel_height','villageActionPoint','SelectingBlockAction','pixel_starty','NumpadAdd','light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling','Khloe\x20Horn','type','mouseLight','imgColored','Skye\x20Ramirez','288760ILFQZa','can\x27t\x20with\x20','capacityList','txt_size','draw_resource_tab','drawProjectiles'];_0x38fb=function(){return _0x502a0f;};return _0x38fb();}function dist(_0x481d3a,_0x16f741,_0x2a9d28,_0x508acb){var _0x40211e=_0x1e35,_0x4bd183=Math[_0x40211e(0x214)]((_0x481d3a-_0x2a9d28)*(_0x481d3a-_0x2a9d28)+(_0x16f741-_0x508acb)*(_0x16f741-_0x508acb));return _0x4bd183;}var obj={'callback':_0x4113ca(0x241)};World=function(){var _0x2d4fee=_0x4113ca;this[_0x2d4fee(0x322)]=_0x2d4fee(0x286),this[_0x2d4fee(0x241)]=()=>{var _0x18f8b5=_0x2d4fee;console['log'](this[_0x18f8b5(0x322)]);};};var world=new World();world[obj['callback']](),myImage=function(_0x2e102f,_0x62f414){var _0x297b57=_0x4113ca;console['log'](_0x297b57(0x41c)+_0x62f414),this[_0x297b57(0x458)]=new Image(),this[_0x297b57(0x51c)]=![],this[_0x297b57(0x2c7)]=_0x2e102f,this[_0x297b57(0x458)][_0x297b57(0x3c9)]='anonymous',this[_0x297b57(0x458)][_0x297b57(0x420)]=_0x62f414,this[_0x297b57(0x458)][_0x297b57(0x41d)]=_0x297b57(0x2be)+_0x62f414+'\x22',this[_0x297b57(0x494)]=undefined,this[_0x297b57(0x42e)]=undefined,this[_0x297b57(0x458)][_0x297b57(0x514)]()[_0x297b57(0x28c)](()=>{var _0x1daba9=_0x297b57;console[_0x1daba9(0x3c2)](_0x1daba9(0x181)+_0x2e102f+_0x1daba9(0x3e8)),this['ready']=!![],this['AlphaTransparencyByPixel'](0xff,0xff,0xff);if(world['villageUI'])world[_0x1daba9(0x4b4)][_0x1daba9(0x4e2)]=!![];if(world[_0x1daba9(0x233)])world['GameUI']['needRedraw']=!![];})['catch'](_0x1ea816=>{var _0x1cc53f=_0x297b57;console['log'](_0x1cc53f(0x313)+this[_0x1cc53f(0x2c7)]),console[_0x1cc53f(0x3c2)](_0x1ea816);}),this[_0x297b57(0x2e2)]=()=>{var _0x4c3fe1=_0x297b57;if(!this['ready'])return undefined;const _0x5d9b35=document[_0x4c3fe1(0x260)]('canvas');_0x5d9b35['width']=this['img']['width'],_0x5d9b35[_0x4c3fe1(0x3f4)]=this['img']['height'];const _0x5dc1e2=_0x5d9b35[_0x4c3fe1(0x165)]('2d');return _0x5dc1e2[_0x4c3fe1(0x184)](this[_0x4c3fe1(0x458)],0x0,0x0),_0x5dc1e2[_0x4c3fe1(0x2ac)](0x0,0x0,this[_0x4c3fe1(0x458)]['width'],this[_0x4c3fe1(0x458)]['height']);},this['createImgFromData']=_0x47d295=>{var _0x4b5eba=_0x297b57;const _0x5e5763=document['createElement'](_0x4b5eba(0x1f3));_0x5e5763[_0x4b5eba(0x269)]=_0x47d295[_0x4b5eba(0x269)],_0x5e5763[_0x4b5eba(0x3f4)]=_0x47d295[_0x4b5eba(0x3f4)];const _0x21cf29=_0x5e5763['getContext']('2d');_0x21cf29[_0x4b5eba(0x34a)](_0x47d295,0x0,0x0),this['img']=new Image(),this[_0x4b5eba(0x458)][_0x4b5eba(0x420)]=_0x5e5763['toDataURL'](),this['img']['alt']=_0x4b5eba(0x363),this[_0x4b5eba(0x458)]['decode']()['then'](()=>{var _0x5e1274=_0x4b5eba;if(world[_0x5e1274(0x4b4)])world[_0x5e1274(0x4b4)]['needRedraw']=!![];if(world[_0x5e1274(0x233)])world[_0x5e1274(0x233)][_0x5e1274(0x4e2)]=!![];});},this['GetColorImage']=(_0x2d947f,_0x38c34e,_0x42a624,_0x43c91f,_0x1946d2,_0x3549a4)=>{var _0x56b5ca=_0x297b57,_0x2bf75f=this[_0x56b5ca(0x2e2)]();if(!_0x2bf75f)return console[_0x56b5ca(0x3c2)]('can\x27t\x20create\x20getColorImage');for(var _0x4ea1b1=0x0;_0x4ea1b1<_0x2bf75f[_0x56b5ca(0x3f4)];_0x4ea1b1++){for(var _0x1feb69=0x0;_0x1feb69<_0x2bf75f[_0x56b5ca(0x269)];_0x1feb69++){var _0x5b2dbe=_0x2bf75f[_0x56b5ca(0x522)][_0x4ea1b1*(_0x2bf75f[_0x56b5ca(0x269)]*0x4)+_0x1feb69*0x4],_0x2a073a=_0x2bf75f[_0x56b5ca(0x522)][_0x4ea1b1*(_0x2bf75f[_0x56b5ca(0x269)]*0x4)+_0x1feb69*0x4+0x1],_0x2b0208=_0x2bf75f[_0x56b5ca(0x522)][_0x4ea1b1*(_0x2bf75f[_0x56b5ca(0x269)]*0x4)+_0x1feb69*0x4+0x2],_0x692205=_0x2bf75f[_0x56b5ca(0x522)][_0x4ea1b1*(_0x2bf75f[_0x56b5ca(0x269)]*0x4)+_0x1feb69*0x4+0x3];_0x5b2dbe==_0x2d947f&&_0x2a073a==_0x38c34e&&_0x2b0208==_0x42a624&&(_0x2bf75f[_0x56b5ca(0x522)][_0x4ea1b1*(_0x2bf75f['width']*0x4)+_0x1feb69*0x4]=_0x43c91f,_0x2bf75f[_0x56b5ca(0x522)][_0x4ea1b1*(_0x2bf75f[_0x56b5ca(0x269)]*0x4)+_0x1feb69*0x4+0x1]=_0x1946d2,_0x2bf75f[_0x56b5ca(0x522)][_0x4ea1b1*(_0x2bf75f[_0x56b5ca(0x269)]*0x4)+_0x1feb69*0x4+0x2]=_0x3549a4);}}const _0x515b21=document['createElement'](_0x56b5ca(0x1f3));_0x515b21[_0x56b5ca(0x269)]=_0x2bf75f[_0x56b5ca(0x269)],_0x515b21[_0x56b5ca(0x3f4)]=_0x2bf75f[_0x56b5ca(0x3f4)];const _0x137e1e=_0x515b21[_0x56b5ca(0x165)]('2d');_0x137e1e[_0x56b5ca(0x34a)](_0x2bf75f,0x0,0x0);var _0x1a144f=new Image();return _0x1a144f['src']=_0x515b21[_0x56b5ca(0x1a3)](),_0x1a144f[_0x56b5ca(0x41d)]='failed\x20createImgData\x20image\x20Colored',_0x1a144f;},this[_0x297b57(0x44b)]=(_0x5d2168,_0x5bb863,_0x1df575)=>{var _0x2dbf13=_0x297b57,_0x8df325=this[_0x2dbf13(0x2e2)]();if(!_0x8df325)return undefined;for(var _0x57f6af=0x0;_0x57f6af<_0x8df325[_0x2dbf13(0x3f4)];_0x57f6af++){for(var _0x253b48=0x0;_0x253b48<_0x8df325[_0x2dbf13(0x269)];_0x253b48++){var _0x14da10=_0x8df325[_0x2dbf13(0x522)][_0x57f6af*(_0x8df325['width']*0x4)+_0x253b48*0x4],_0x4c81ca=_0x8df325['data'][_0x57f6af*(_0x8df325[_0x2dbf13(0x269)]*0x4)+_0x253b48*0x4+0x1],_0x5092d9=_0x8df325['data'][_0x57f6af*(_0x8df325['width']*0x4)+_0x253b48*0x4+0x2],_0x309425=_0x8df325[_0x2dbf13(0x522)][_0x57f6af*(_0x8df325['width']*0x4)+_0x253b48*0x4+0x3];_0x14da10==_0x5d2168&&_0x4c81ca==_0x5bb863&&_0x5092d9==_0x1df575&&(_0x8df325['data'][_0x57f6af*(_0x8df325[_0x2dbf13(0x269)]*0x4)+_0x253b48*0x4+0x3]=0x0);}}this[_0x2dbf13(0x19e)](_0x8df325);};},createImgFromData=_0x393e24=>{var _0x19f290=_0x4113ca;const _0x257e84=document[_0x19f290(0x260)](_0x19f290(0x1f3));_0x257e84[_0x19f290(0x269)]=_0x393e24[_0x19f290(0x269)],_0x257e84[_0x19f290(0x3f4)]=_0x393e24['height'];const _0x1521e5=_0x257e84[_0x19f290(0x165)]('2d');_0x1521e5[_0x19f290(0x34a)](_0x393e24,0x0,0x0);var _0x25bc6b=new Image();return _0x25bc6b['src']=_0x257e84[_0x19f290(0x1a3)](),_0x25bc6b[_0x19f290(0x41d)]=_0x19f290(0x363),_0x25bc6b;},MyUI=function(_0x2b9bb0,_0x59867c,_0x445eee,_0x2ff7a0,_0x4628a2,_0x4c8875,_0x4672a5,_0x37b4c){var _0x4f9863=_0x4113ca;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT='\x27Footlight\x20MT\x20Light\x27',this['x']=_0x59867c,this['y']=_0x445eee,this['canvas']=_0x2b9bb0,this[_0x4f9863(0x30b)]=_0x37b4c?_0x37b4c:0x5,this[_0x4f9863(0x28a)]=_0x2ff7a0+0x2*this[_0x4f9863(0x30b)],this[_0x4f9863(0x3f0)]=this[_0x4f9863(0x30b)],this[_0x4f9863(0x40e)]=[],this[_0x4f9863(0x402)]=_0x4628a2,this[_0x4f9863(0x516)]=_0x4c8875?_0x4c8875:undefined,this['stroke']=_0x4672a5?_0x4672a5:undefined,this[_0x4f9863(0x3c5)]=[],this[_0x4f9863(0x365)]=![],this['addTextZone']=(_0x52f4e8,_0x210e61,_0x13fc09,_0x4fec43,_0x8e1f49)=>{var _0x358c28=_0x4f9863;this[_0x358c28(0x1f3)][_0x358c28(0x4e1)][_0x358c28(0x4f9)]=''+_0x210e61+'px'+_0x8e1f49;var _0x4f97d7=[];while(_0x52f4e8[_0x358c28(0x179)]>0x0){var _0x5dfe14=0x0;while(_0x52f4e8[_0x5dfe14]=='\x0a')_0x5dfe14++;while(_0x52f4e8[_0x5dfe14]!='\x0a'&&_0x5dfe14<_0x52f4e8[_0x358c28(0x179)]&&_0x5dfe14<_0x13fc09)_0x5dfe14++;if(_0x5dfe14==_0x13fc09){while(_0x52f4e8[_0x5dfe14]!='\x20'&&_0x5dfe14>0x0)_0x5dfe14--;}_0x5dfe14=_0x5dfe14>0x0?_0x5dfe14:_0x13fc09;var _0x4616d3=''+_0x52f4e8[_0x358c28(0x519)](0x0,_0x5dfe14);while(_0x52f4e8[_0x5dfe14+0x1]=='\x0a')_0x5dfe14++;_0x52f4e8=_0x52f4e8[_0x358c28(0x519)](_0x5dfe14),_0x4f97d7[_0x358c28(0x346)](_0x4616d3);var _0x4b1d77=this[_0x358c28(0x1f3)][_0x358c28(0x4e1)][_0x358c28(0x2ce)](_0x4616d3);if(this[_0x358c28(0x28a)]<_0x4b1d77[_0x358c28(0x269)]+0x2*this[_0x358c28(0x30b)])this[_0x358c28(0x28a)]=_0x4b1d77[_0x358c28(0x269)]+0x2*this[_0x358c28(0x30b)];this['leny']+=_0x210e61+this[_0x358c28(0x30b)];}this[_0x358c28(0x40e)][_0x358c28(0x346)]({'type':_0x358c28(0x2c6),'txts':_0x4f97d7,'letter_size':Math[_0x358c28(0x3d8)](_0x210e61),'txt_color':_0x4fec43,'text_font':_0x8e1f49});},this[_0x4f9863(0x48a)]=(_0x5106b2,_0x429fc9,_0x197108,_0x7ad398,_0x3fd891,_0x5e0349,_0x295114,_0x38f7dc,_0xf03ae3)=>{var _0x1caa42=_0x4f9863;_0xf03ae3=_0xf03ae3?_0xf03ae3:_0x1caa42(0x461),this[_0x1caa42(0x1f3)][_0x1caa42(0x4e1)][_0x1caa42(0x4f9)]=''+_0x3fd891+_0x1caa42(0x16f)+_0xf03ae3;var _0x158639=this[_0x1caa42(0x1f3)]['ctx'][_0x1caa42(0x2ce)](_0x5106b2);if(_0x158639>_0x197108+0x2*this[_0x1caa42(0x30b)])_0x197108=_0x158639+0x2*this['marge'];if(this[_0x1caa42(0x28a)]<_0x197108+0x2*this['marge'])this['lenx']=_0x197108+0x2*this[_0x1caa42(0x30b)];if(_0x7ad398<_0x3fd891+0x2*this['marge'])_0x7ad398=_0x3fd891+0x2*this[_0x1caa42(0x30b)];this[_0x1caa42(0x40e)][_0x1caa42(0x346)]({'type':_0x1caa42(0x1cd),'txt':_0x5106b2,'fullness':_0x429fc9,'lenx':_0x197108,'leny':_0x7ad398,'letter_size':_0x3fd891,'colorFill':_0x5e0349,'colorStroke':_0x295114,'colorText':_0x38f7dc,'text_font':_0xf03ae3}),this[_0x1caa42(0x3f0)]+=_0x7ad398+this[_0x1caa42(0x30b)];},this[_0x4f9863(0x352)]=(_0x44f055,_0xc1e7c8,_0x97af1,_0xf1529e,_0x1f3d55,_0x1c7fd2,_0x1c45e8,_0x1ad20b,_0x100959,_0x320d87,_0x58e24b)=>{var _0x27a768=_0x4f9863;this['canvas'][_0x27a768(0x4e1)][_0x27a768(0x4f9)]=''+_0xc1e7c8+'px'+_0x1ad20b,_0x44f055=_0x100959?_0x100959+_0x27a768(0x360)+_0x44f055:_0x44f055;var _0x4b524b=this[_0x27a768(0x1f3)][_0x27a768(0x4e1)][_0x27a768(0x2ce)](_0x44f055);if(_0x4b524b[_0x27a768(0x269)]+0x4*this[_0x27a768(0x30b)]>this[_0x27a768(0x28a)])this[_0x27a768(0x28a)]=_0x4b524b['width']+0x4*this[_0x27a768(0x30b)];this[_0x27a768(0x40e)]['push']({'type':_0x27a768(0x2cb),'txt_size':_0x4b524b,'letter_size':_0xc1e7c8,'text_color':_0x97af1,'fillColor':_0xf1529e,'strokeColor':_0x1f3d55,'callback':_0x1c7fd2,'callback_data':_0x1c45e8,'text_font':_0x1ad20b,'key_event':_0x100959,'txt':_0x44f055,'windowInfo':_0x320d87,'mouseLight':_0x58e24b}),this[_0x27a768(0x3f0)]+=Math['floor'](0x3*this[_0x27a768(0x30b)]+_0xc1e7c8);},this[_0x4f9863(0x4fd)]=_0x29105b=>{var _0x30e6c9=_0x4f9863,_0x34a828={'type':'horizontal','list':[]},_0x1c10a3=0x0,_0x42621b=this[_0x30e6c9(0x30b)];for(var _0x188f15 in _0x29105b){var _0x5d4adf=_0x29105b[_0x188f15],_0x5e4098=undefined;switch(_0x5d4adf['type']){case undefined:continue;case'txt':if(!_0x5d4adf[_0x30e6c9(0x322)])continue;var _0x4cadcf=_0x5d4adf[_0x30e6c9(0x322)],_0x368c6c=[],_0x58006a=0x0,_0x224ca2=0x0,_0x5183bf=_0x5d4adf[_0x30e6c9(0x408)]?_0x5d4adf[_0x30e6c9(0x408)]:0x270f;this['canvas'][_0x30e6c9(0x4e1)]['font']=''+_0x5d4adf[_0x30e6c9(0x3ba)]+'px'+_0x5d4adf[_0x30e6c9(0x4af)];while(_0x4cadcf[_0x30e6c9(0x179)]>0x0){var _0x2f5290=0x0;while(_0x4cadcf[_0x2f5290]=='\x0a')_0x2f5290++;while(_0x4cadcf[_0x2f5290]!='\x0a'&&_0x2f5290<_0x4cadcf[_0x30e6c9(0x179)]&&_0x2f5290<_0x5183bf)_0x2f5290++;if(_0x2f5290==_0x5183bf){while(_0x4cadcf[_0x2f5290]!='\x20'&&_0x2f5290>0x0)_0x2f5290--;}_0x2f5290=_0x2f5290>0x0?_0x2f5290:_0x5183bf;var _0x4bf5ff=''+_0x4cadcf[_0x30e6c9(0x519)](0x0,_0x2f5290);while(_0x4cadcf[_0x2f5290+0x1]=='\x0a')_0x2f5290++;_0x4cadcf=_0x4cadcf['substring'](_0x2f5290),_0x368c6c['push'](_0x4bf5ff);var _0x59942a=this[_0x30e6c9(0x1f3)][_0x30e6c9(0x4e1)][_0x30e6c9(0x2ce)](_0x4bf5ff);if(_0x224ca2<_0x59942a[_0x30e6c9(0x269)]+0x2*this['marge'])_0x224ca2=_0x59942a[_0x30e6c9(0x269)]+0x2*this[_0x30e6c9(0x30b)];_0x58006a+=_0x5d4adf['letter_size']+this[_0x30e6c9(0x30b)];}_0x1c10a3=_0x58006a>_0x1c10a3?_0x58006a:_0x1c10a3,_0x5e4098={'type':_0x30e6c9(0x322),'txts':_0x368c6c,'txt_color':_0x5d4adf[_0x30e6c9(0x31e)]?_0x5d4adf['txt_color']:_0x30e6c9(0x317),'max_letters':_0x5d4adf['max_letter']?_0x5d4adf['max_letter']:0x270f,'letter_size':_0x5d4adf[_0x30e6c9(0x3ba)]?_0x5d4adf['letter_size']:0x14,'txt_font':_0x5d4adf['txt_font']?_0x5d4adf[_0x30e6c9(0x4af)]:_0x30e6c9(0x461),'txt_size':_0x224ca2},_0x42621b+=_0x224ca2;break;case _0x30e6c9(0x458):if(!_0x5d4adf[_0x30e6c9(0x458)])continue;_0x5e4098={'type':_0x30e6c9(0x458),'img':_0x5d4adf['img'],'len_x':_0x5d4adf[_0x30e6c9(0x1d0)]?_0x5d4adf[_0x30e6c9(0x1d0)]:0x32,'len_y':_0x5d4adf[_0x30e6c9(0x321)]?_0x5d4adf[_0x30e6c9(0x321)]:0x32},_0x1c10a3=_0x5e4098[_0x30e6c9(0x321)]>_0x1c10a3?_0x5e4098[_0x30e6c9(0x321)]:_0x1c10a3,_0x42621b+=_0x5e4098[_0x30e6c9(0x1d0)]+this['marge'];break;case'button':if(!_0x5d4adf[_0x30e6c9(0x1a2)]||!_0x5d4adf['txt'])continue;var _0x30146c=_0x5d4adf[_0x30e6c9(0x3ba)]?_0x5d4adf[_0x30e6c9(0x3ba)]:0x14,_0x136ca3=_0x5d4adf[_0x30e6c9(0x4af)]?_0x5d4adf[_0x30e6c9(0x4af)]:_0x30e6c9(0x461);this[_0x30e6c9(0x1f3)]['ctx']['font']=''+_0x30146c+'px'+_0x136ca3;var _0x4cadcf=_0x5d4adf[_0x30e6c9(0x332)]?_0x5d4adf[_0x30e6c9(0x332)]+'\x20-\x20'+_0x5d4adf[_0x30e6c9(0x322)]:_0x5d4adf[_0x30e6c9(0x322)],_0x59942a=this['canvas'][_0x30e6c9(0x4e1)][_0x30e6c9(0x2ce)](_0x4cadcf);_0x5e4098={'type':_0x30e6c9(0x2cb),'txt_size':_0x59942a[_0x30e6c9(0x269)],'letter_size':_0x30146c,'txt_color':_0x5d4adf[_0x30e6c9(0x31e)]?_0x5d4adf['txt_color']:_0x30e6c9(0x317),'fillColor':_0x5d4adf['fillColor']?_0x5d4adf[_0x30e6c9(0x32c)]:_0x30e6c9(0x26c),'strokeColor':_0x5d4adf[_0x30e6c9(0x266)]?_0x5d4adf[_0x30e6c9(0x266)]:'#000000','callback':_0x5d4adf[_0x30e6c9(0x1a2)],'callback_data':_0x5d4adf[_0x30e6c9(0x3d0)],'txt_font':_0x136ca3,'key_event':_0x5d4adf[_0x30e6c9(0x332)],'txt':_0x4cadcf,'windowInfo':_0x5d4adf['windowInfo'],'mouseLight':_0x5d4adf[_0x30e6c9(0x493)]},_0x1c10a3=_0x5e4098[_0x30e6c9(0x3ba)]+0x2*this[_0x30e6c9(0x30b)]>_0x1c10a3?_0x5e4098[_0x30e6c9(0x3ba)]+0x2*this[_0x30e6c9(0x30b)]:_0x1c10a3,_0x42621b+=_0x59942a[_0x30e6c9(0x269)]+this[_0x30e6c9(0x30b)]*0x3;break;}_0x34a828[_0x30e6c9(0x21d)][_0x30e6c9(0x346)](_0x5e4098);}if(this[_0x30e6c9(0x28a)]<_0x42621b)this[_0x30e6c9(0x28a)]=_0x42621b;_0x34a828[_0x30e6c9(0x321)]=_0x1c10a3,this[_0x30e6c9(0x40e)][_0x30e6c9(0x346)](_0x34a828),this[_0x30e6c9(0x3f0)]+=Math['floor'](this[_0x30e6c9(0x30b)]+_0x1c10a3);},this[_0x4f9863(0x2a8)]=(_0x3d6795,_0x5ebed6,_0x1a9889)=>{var _0x71405c=_0x4f9863;this[_0x71405c(0x40e)]['push']({'type':_0x71405c(0x458),'img':_0x3d6795,'lenx':_0x5ebed6,'leny':_0x1a9889});if(this[_0x71405c(0x28a)]<_0x5ebed6+0x2*this[_0x71405c(0x30b)])this['lenx']=_0x5ebed6+0x2*this[_0x71405c(0x30b)];this[_0x71405c(0x3f0)]+=Math[_0x71405c(0x3d8)](this[_0x71405c(0x30b)]+_0x5ebed6);},this[_0x4f9863(0x154)]=()=>{var _0x3d461a=_0x4f9863;this[_0x3d461a(0x516)]&&(this[_0x3d461a(0x1f3)][_0x3d461a(0x4e1)][_0x3d461a(0x26a)]=this[_0x3d461a(0x516)],this[_0x3d461a(0x1f3)][_0x3d461a(0x4ed)](this['x'],this['y'],this['x']+this[_0x3d461a(0x28a)],this['y']+this['leny']));this[_0x3d461a(0x356)]&&(this[_0x3d461a(0x1f3)][_0x3d461a(0x4e1)]['strokeStyle']=this[_0x3d461a(0x356)],this['canvas']['drawRect'](this['x'],this['y'],this['x']+this[_0x3d461a(0x28a)],this['y']+this[_0x3d461a(0x3f0)]));var _0x4d0746=this['y']+this['marge'];for(var _0x181dc5 in this['elmList']){var _0x3b0fe8=this[_0x3d461a(0x40e)][_0x181dc5];switch(_0x3b0fe8['type']){case _0x3d461a(0x2c6):for(var _0x2f34ea in _0x3b0fe8[_0x3d461a(0x451)]){this[_0x3d461a(0x1f3)][_0x3d461a(0x1a4)](_0x3b0fe8[_0x3d461a(0x451)][_0x2f34ea],this['x']+this['marge'],_0x4d0746,this[_0x3d461a(0x28a)],_0x3b0fe8[_0x3d461a(0x3ba)],_0x3b0fe8[_0x3d461a(0x31e)],_0x3b0fe8[_0x3d461a(0x280)]),_0x4d0746+=_0x3b0fe8[_0x3d461a(0x3ba)]+this['marge'];}break;case _0x3d461a(0x2cb):this['canvas'][_0x3d461a(0x4e1)]['font']=''+_0x3b0fe8['letter_size']+'px'+_0x3b0fe8[_0x3d461a(0x280)];var _0x267eca=Math['floor'](this['x']+_0x3b0fe8[_0x3d461a(0x499)]['width']/0x2+0x2*this['marge']),_0x43cfe4=Math[_0x3d461a(0x3d8)](_0x4d0746+_0x3b0fe8[_0x3d461a(0x3ba)]/0x2+0x1*this[_0x3d461a(0x30b)]),_0x1f5f71={'ax':Math[_0x3d461a(0x3d8)](_0x267eca-_0x3b0fe8[_0x3d461a(0x499)][_0x3d461a(0x269)]/0x2-this['marge']),'ay':Math[_0x3d461a(0x3d8)](_0x43cfe4-_0x3b0fe8[_0x3d461a(0x3ba)]/0x2-this[_0x3d461a(0x30b)]),'bx':Math['floor'](_0x267eca+_0x3b0fe8[_0x3d461a(0x499)][_0x3d461a(0x269)]/0x2+this[_0x3d461a(0x30b)]),'by':Math[_0x3d461a(0x3d8)](_0x43cfe4+_0x3b0fe8['letter_size']/0x2+this[_0x3d461a(0x30b)])};this['canvas'][_0x3d461a(0x4e1)][_0x3d461a(0x26a)]=_0x3b0fe8[_0x3d461a(0x32c)];if(_0x3b0fe8[_0x3d461a(0x493)]&&isInRect(world[_0x3d461a(0x336)][_0x3d461a(0x287)]['x'],world[_0x3d461a(0x336)][_0x3d461a(0x287)]['y'],_0x1f5f71))this[_0x3d461a(0x1f3)][_0x3d461a(0x4e1)]['fillStyle']=_0x3b0fe8[_0x3d461a(0x32c)][_0x3d461a(0x519)](0x0,0x7)+_0x3b0fe8[_0x3d461a(0x493)];this[_0x3d461a(0x1f3)][_0x3d461a(0x4ed)](_0x1f5f71['ax'],_0x1f5f71['ay'],_0x1f5f71['bx'],_0x1f5f71['by']),this[_0x3d461a(0x1f3)][_0x3d461a(0x4e1)][_0x3d461a(0x3a8)]=_0x3b0fe8['strokeColor'],this[_0x3d461a(0x1f3)]['drawRect'](_0x1f5f71['ax'],_0x1f5f71['ay'],_0x1f5f71['bx'],_0x1f5f71['by']),this[_0x3d461a(0x1f3)][_0x3d461a(0x1f1)](_0x3b0fe8[_0x3d461a(0x322)],_0x267eca,_0x43cfe4,0x270f,_0x3b0fe8['letter_size'],_0x3b0fe8[_0x3d461a(0x4cb)],_0x3b0fe8[_0x3d461a(0x280)]),this[_0x3d461a(0x3c5)][_0x3d461a(0x346)]({'rect':_0x1f5f71,'callback':_0x3b0fe8[_0x3d461a(0x1a2)],'callback_data':_0x3b0fe8[_0x3d461a(0x3d0)],'key_event':_0x3b0fe8['key_event'],'windowInfo':_0x3b0fe8[_0x3d461a(0x46f)]}),_0x4d0746+=_0x3b0fe8[_0x3d461a(0x3ba)]+this[_0x3d461a(0x30b)]*0x3;break;case'img':this[_0x3d461a(0x1f3)][_0x3d461a(0x4a7)](_0x3b0fe8['img'],this['x']+this[_0x3d461a(0x30b)],_0x4d0746+this[_0x3d461a(0x30b)],_0x3b0fe8['lenx'],_0x3b0fe8['leny']),_0x4d0746+=_0x3b0fe8[_0x3d461a(0x3f0)]+this[_0x3d461a(0x30b)];break;case _0x3d461a(0x1cd):this['canvas'][_0x3d461a(0x4e1)][_0x3d461a(0x26a)]=_0x3b0fe8[_0x3d461a(0x45f)],this[_0x3d461a(0x1f3)][_0x3d461a(0x4ed)](this['x']+this[_0x3d461a(0x30b)],_0x4d0746+this['marge'],this['x']+_0x3b0fe8[_0x3d461a(0x28a)],_0x4d0746+_0x3b0fe8[_0x3d461a(0x3f0)]),this['canvas'][_0x3d461a(0x4e1)][_0x3d461a(0x26a)]=_0x3b0fe8['colorStroke'];if(_0x3b0fe8[_0x3d461a(0x33d)]>0x0)this[_0x3d461a(0x1f3)][_0x3d461a(0x4ed)](this['x']+this['marge']*0x2,_0x4d0746+this['marge']*0x2,Math['floor'](this['x']+_0x3b0fe8[_0x3d461a(0x28a)]*_0x3b0fe8[_0x3d461a(0x33d)]-this[_0x3d461a(0x30b)]),_0x4d0746+_0x3b0fe8[_0x3d461a(0x3f0)]-this[_0x3d461a(0x30b)]);this['canvas']['drawTextCenter'](_0x3b0fe8[_0x3d461a(0x322)],this['x']+this[_0x3d461a(0x30b)]+_0x3b0fe8[_0x3d461a(0x28a)]/0x2,_0x4d0746+this[_0x3d461a(0x30b)]+_0x3b0fe8[_0x3d461a(0x3f0)]/0x2,_0x3b0fe8[_0x3d461a(0x28a)],_0x3b0fe8[_0x3d461a(0x3ba)],_0x3b0fe8['colorText'],_0x3b0fe8[_0x3d461a(0x280)]),_0x4d0746+=_0x3b0fe8[_0x3d461a(0x3f0)];break;case'horizontal':var _0x4ef153=this[_0x3d461a(0x30b)];for(var _0x4dc6f1 in _0x3b0fe8[_0x3d461a(0x21d)]){var _0x46ab40=_0x3b0fe8[_0x3d461a(0x21d)][_0x4dc6f1];switch(_0x46ab40['type']){case _0x3d461a(0x322):var _0x2099b6=_0x4d0746;for(var _0x181dc5 in _0x46ab40['txts']){this[_0x3d461a(0x1f3)][_0x3d461a(0x1a4)](_0x46ab40['txts'][_0x181dc5],this['x']+_0x4ef153,_0x2099b6,_0x46ab40[_0x3d461a(0x499)],_0x46ab40['letter_size'],_0x46ab40[_0x3d461a(0x31e)],_0x46ab40[_0x3d461a(0x4af)]),_0x2099b6+=_0x46ab40[_0x3d461a(0x3ba)]+this['marge'];}_0x4ef153+=this[_0x3d461a(0x30b)]+_0x46ab40[_0x3d461a(0x499)];break;case _0x3d461a(0x2cb):this['canvas'][_0x3d461a(0x4e1)][_0x3d461a(0x4f9)]=''+_0x46ab40[_0x3d461a(0x3ba)]+'px'+_0x46ab40['txt_font'];var _0x267eca=Math[_0x3d461a(0x3d8)](this['x']+_0x4ef153+_0x46ab40[_0x3d461a(0x499)]/0x2+this[_0x3d461a(0x30b)]/0x2),_0x43cfe4=Math[_0x3d461a(0x3d8)](_0x4d0746+_0x46ab40[_0x3d461a(0x3ba)]/0x2+this[_0x3d461a(0x30b)]/0x2),_0x1f5f71={'ax':Math[_0x3d461a(0x3d8)](_0x267eca-_0x46ab40[_0x3d461a(0x499)]/0x2-this['marge']),'ay':Math[_0x3d461a(0x3d8)](_0x43cfe4-_0x46ab40[_0x3d461a(0x3ba)]/0x2-this['marge']),'bx':Math[_0x3d461a(0x3d8)](_0x267eca+_0x46ab40[_0x3d461a(0x499)]/0x2+this[_0x3d461a(0x30b)]),'by':Math[_0x3d461a(0x3d8)](_0x43cfe4+_0x46ab40['letter_size']/0x2+this['marge'])};this[_0x3d461a(0x1f3)][_0x3d461a(0x4e1)]['fillStyle']=_0x46ab40['fillColor'];if(_0x46ab40[_0x3d461a(0x493)]&&isInRect(world['Controler']['mousePos']['x'],world['Controler']['mousePos']['y'],_0x1f5f71))this[_0x3d461a(0x1f3)][_0x3d461a(0x4e1)][_0x3d461a(0x26a)]=_0x46ab40[_0x3d461a(0x32c)][_0x3d461a(0x519)](0x0,0x7)+_0x46ab40[_0x3d461a(0x493)];this[_0x3d461a(0x1f3)]['drawFillRect'](_0x1f5f71['ax'],_0x1f5f71['ay'],_0x1f5f71['bx'],_0x1f5f71['by']),this[_0x3d461a(0x1f3)][_0x3d461a(0x4e1)][_0x3d461a(0x3a8)]=_0x46ab40[_0x3d461a(0x266)],this[_0x3d461a(0x1f3)][_0x3d461a(0x4cf)](_0x1f5f71['ax'],_0x1f5f71['ay'],_0x1f5f71['bx'],_0x1f5f71['by']),this[_0x3d461a(0x1f3)]['drawTextCenter'](_0x46ab40[_0x3d461a(0x322)],_0x267eca,_0x43cfe4,0x270f,_0x46ab40[_0x3d461a(0x3ba)],_0x46ab40[_0x3d461a(0x31e)],_0x46ab40['txt_font']),this[_0x3d461a(0x3c5)][_0x3d461a(0x346)]({'rect':_0x1f5f71,'callback':_0x46ab40['callback'],'callback_data':_0x46ab40['callback_data'],'key_event':_0x46ab40[_0x3d461a(0x332)],'windowInfo':_0x46ab40['windowInfo'],'mouseLight':!![]}),_0x4ef153+=this[_0x3d461a(0x30b)]*0x3+_0x46ab40[_0x3d461a(0x499)];break;case _0x3d461a(0x458):this['canvas'][_0x3d461a(0x4a7)](_0x46ab40['img'],this['x']+_0x4ef153,_0x4d0746,_0x46ab40[_0x3d461a(0x1d0)],_0x46ab40[_0x3d461a(0x321)]),_0x4ef153+=_0x46ab40['len_y']+this[_0x3d461a(0x30b)];break;}}_0x4d0746+=_0x3b0fe8[_0x3d461a(0x321)]+this[_0x3d461a(0x30b)];break;}}this[_0x3d461a(0x323)]();},this[_0x4f9863(0x1b7)]=(_0x58cbdf,_0x368926)=>{var _0x193e4d=_0x4f9863;for(var _0x5a6c04 in this[_0x193e4d(0x3c5)]){var _0x15a528=this[_0x193e4d(0x3c5)][_0x5a6c04];if(isInRect(_0x58cbdf,_0x368926,_0x15a528['rect']))return _0x15a528[_0x193e4d(0x1a2)](_0x15a528[_0x193e4d(0x3d0)]),!![];}return![];},this['mouse_move_check']=(_0x5ea180,_0x8fa18a)=>{var _0xe636ae=_0x4f9863;for(var _0x2a4893 in this[_0xe636ae(0x3c5)]){var _0x1c444c=this[_0xe636ae(0x3c5)][_0x2a4893];if(_0x1c444c[_0xe636ae(0x493)]&&isInRect(_0x5ea180,_0x8fa18a,_0x1c444c[_0xe636ae(0x300)]))return this[_0xe636ae(0x4e2)]=!![],!![];}return![];},this['key_buton_check']=_0x51c049=>{var _0x45c531=_0x4f9863;for(var _0x3009d8 in this[_0x45c531(0x3c5)]){var _0x101c58=this['buttonList'][_0x3009d8];if(_0x101c58[_0x45c531(0x332)]&&_0x101c58[_0x45c531(0x332)]==_0x51c049)return _0x101c58[_0x45c531(0x1a2)](_0x101c58['callback_data']),!![];}return![];},this['CheckInfoWindow']=_0x4efe63=>{var _0x418494=_0x4f9863;if(!world[_0x418494(0x336)])return![];var _0x24f476=world[_0x418494(0x336)][_0x418494(0x287)];if(!_0x24f476)return;if(new Date()[_0x418494(0x1e0)]()-_0x24f476['lastTime']<MYUI_WINDOWINFO_MOUSETIME)return this['InfoWindowPos']&&(this['InfoWindowPos']=![],this[_0x418494(0x4e2)]=!![]),![];if(!this[_0x418494(0x365)])this[_0x418494(0x365)]={'x':_0x24f476['x'],'y':_0x24f476['y']};else{if(!_0x4efe63&&_0x24f476['x']==this[_0x418494(0x365)]['x']&&_0x24f476['y']==this[_0x418494(0x365)]['y'])return![];}for(var _0x3abd73 in this[_0x418494(0x3c5)]){var _0x42eda3=this[_0x418494(0x3c5)][_0x3abd73];if(_0x42eda3[_0x418494(0x46f)]&&isInRect(_0x24f476['x'],_0x24f476['y'],_0x42eda3[_0x418494(0x300)])){var _0x532dd5=new MyUI(this[_0x418494(0x1f3)],_0x24f476['x'],_0x24f476['y'],0x32,0x1,this[_0x418494(0x516)],this[_0x418494(0x356)],0x1);_0x532dd5[_0x418494(0x450)](_0x418494(0x23d),MYUI_LETTER_SIZE,0x270f,'#000000',MYUI_FONT);for(var _0x418bbf in _0x42eda3[_0x418494(0x46f)]){var _0x1ab1a3=_0x42eda3[_0x418494(0x46f)][_0x418bbf];if(_0x1ab1a3[_0x418494(0x1a2)])_0x532dd5[_0x418494(0x450)](_0x1ab1a3['callback'](_0x1ab1a3[_0x418494(0x257)]),MYUI_LETTER_SIZE,0x270f,_0x418494(0x317),MYUI_FONT);}return _0x532dd5[_0x418494(0x154)](),!![];}}return![];};},UIManager=function(){var _0x15fcfc=_0x4113ca;this[_0x15fcfc(0x479)]=[],this[_0x15fcfc(0x244)]=(_0x1fba98,_0x44f245,_0x3795b8,_0x53be76,_0x4716a1,_0x53d308,_0x260adb,_0x5211fb)=>{var _0x134323=_0x15fcfc,_0x38683c=new MyUI(_0x1fba98,_0x44f245,_0x3795b8,_0x53be76,_0x4716a1,_0x53d308,_0x260adb,_0x5211fb);return this['UI_list'][_0x134323(0x346)](_0x38683c),_0x38683c;},this[_0x15fcfc(0x2ee)]=_0x9c2ce4=>{var _0x403916=_0x15fcfc;for(var _0x585dc7 in this[_0x403916(0x479)]){var _0x3ee8b7=this[_0x403916(0x479)][_0x585dc7],_0x11d962=_0x3ee8b7['key_buton_check'](_0x9c2ce4);if(_0x11d962)return!![];}return![];},this['Mouse_Input']=(_0x45593c,_0x246a59)=>{var _0x15a01c=_0x15fcfc;for(var _0x5df2a9 in this[_0x15a01c(0x479)]){var _0x574d74=this['UI_list'][_0x5df2a9],_0x6072bb=_0x574d74[_0x15a01c(0x1b7)](_0x45593c,_0x246a59);if(_0x6072bb)return!![];}return![];};},MyCanvas=function(_0x439da9,_0x402118,_0x411aab){var _0x4868ba=_0x4113ca;this[_0x4868ba(0x269)]=window[_0x4868ba(0x4d9)],this[_0x4868ba(0x3f4)]=window[_0x4868ba(0x3ad)],_0x411aab&&(_0x411aab['x']&&_0x411aab['y']&&(this['width']=_0x411aab['x'],this['height']=_0x411aab['y'])),this['canvas']=document[_0x4868ba(0x260)](_0x4868ba(0x1f3)),this[_0x4868ba(0x1f3)]['width']=this['width'],this[_0x4868ba(0x1f3)][_0x4868ba(0x3f4)]=this['height'],this['id']=_0x439da9,this['canvas']['id']=_0x439da9,this['canvas'][_0x4868ba(0x1e8)][_0x4868ba(0x2a9)]=_0x402118,this[_0x4868ba(0x1f3)]['style'][_0x4868ba(0x2e4)]=_0x4868ba(0x2aa),this[_0x4868ba(0x1f3)][_0x4868ba(0x1e8)][_0x4868ba(0x36d)]=_0x4868ba(0x3ce),this[_0x4868ba(0x1f3)][_0x4868ba(0x1e8)][_0x4868ba(0x18c)]=_0x4868ba(0x3ce),this[_0x4868ba(0x4e1)]=this[_0x4868ba(0x1f3)]['getContext']('2d'),this[_0x4868ba(0x2df)]=![],document[_0x4868ba(0x3f8)][_0x4868ba(0x254)](this[_0x4868ba(0x1f3)]),this[_0x4868ba(0x3e6)]=()=>{var _0x2540c1=_0x4868ba,_0x4b88a9=this[_0x2540c1(0x1f3)][_0x2540c1(0x2a4)]();if(_0x4b88a9)this[_0x2540c1(0x17e)]=Math[_0x2540c1(0x3d8)](_0x4b88a9['x']),this[_0x2540c1(0x4a6)]=Math['floor'](_0x4b88a9['y']),this[_0x2540c1(0x22d)]=Math[_0x2540c1(0x3d8)](_0x4b88a9[_0x2540c1(0x31f)]-_0x4b88a9['x']),this[_0x2540c1(0x520)]=Math[_0x2540c1(0x3d8)](_0x4b88a9[_0x2540c1(0x213)]-_0x4b88a9['y']);else console['log'](_0x2540c1(0x2a2));},this[_0x4868ba(0x3e6)](),this[_0x4868ba(0x170)]=(_0xf3dce1,_0x4a07bc)=>{var _0xf52638=_0x4868ba;this['GetCanvasPos']();if(_0xf3dce1<this['screenAx']||_0x4a07bc<this[_0xf52638(0x4a6)]||_0xf3dce1>this[_0xf52638(0x22d)]||_0x4a07bc>this[_0xf52638(0x520)])return undefined;var _0x3eeb9f={'x':Math[_0xf52638(0x3d8)](_0xf3dce1-this[_0xf52638(0x17e)]),'y':Math[_0xf52638(0x3d8)](_0x4a07bc-this[_0xf52638(0x4a6)])};return _0x3eeb9f;},this[_0x4868ba(0x446)]=()=>{var _0x25e3c5=_0x4868ba;this[_0x25e3c5(0x4e1)][_0x25e3c5(0x393)](0x0,0x0,this['canvas'][_0x25e3c5(0x269)],this['canvas'][_0x25e3c5(0x3f4)]);},this[_0x4868ba(0x4ed)]=(_0x53d599,_0x5edea3,_0x22ce89,_0x4d4cca)=>{var _0x2a20f5=_0x4868ba;this[_0x2a20f5(0x4e1)][_0x2a20f5(0x3b7)](_0x53d599,_0x5edea3,_0x22ce89-_0x53d599,_0x4d4cca-_0x5edea3);},this['drawRect']=(_0x231c3a,_0x579b4f,_0x79d375,_0x5d1621)=>{var _0x5c3167=_0x4868ba;this[_0x5c3167(0x4e1)][_0x5c3167(0x18f)](_0x231c3a,_0x579b4f,_0x79d375-_0x231c3a,_0x5d1621-_0x579b4f);},this[_0x4868ba(0x437)]=(_0x35f0c8,_0x4c094b,_0x251cd3,_0x51f16c)=>{var _0x5a44cd=_0x4868ba;this[_0x5a44cd(0x4e1)]['beginPath'](),this[_0x5a44cd(0x4e1)]['moveTo'](_0x35f0c8,_0x4c094b),this['ctx']['lineTo'](_0x251cd3,_0x51f16c),this[_0x5a44cd(0x4e1)][_0x5a44cd(0x356)]();},this[_0x4868ba(0x4a7)]=(_0x37def2,_0x18d51a,_0x2f4827,_0x2e82da,_0x2146f7)=>{var _0x3c83bd=_0x4868ba;_0x18d51a=Math['round'](_0x18d51a),_0x2f4827=Math['round'](_0x2f4827),_0x2e82da=Math[_0x3c83bd(0x3a9)](_0x2e82da),_0x2146f7=Math[_0x3c83bd(0x3a9)](_0x2146f7),ctx=this[_0x3c83bd(0x4e1)],ctx['drawImage'](_0x37def2,_0x18d51a,_0x2f4827,_0x2e82da,_0x2146f7);},this[_0x4868ba(0x328)]=(_0x4af2d6,_0x46e0fc,_0x28535d,_0x4e4229,_0x13f121,_0x59d654,_0x53c734)=>{var _0x1514d7=_0x4868ba;_0x46e0fc=Math[_0x1514d7(0x3a9)](_0x46e0fc),_0x28535d=Math['round'](_0x28535d),ctx=this[_0x1514d7(0x4e1)],ctx[_0x1514d7(0x474)](-_0x59d654,0x0,0x0,_0x59d654,_0x46e0fc,_0x28535d),ctx['rotate'](_0x53c734),ctx[_0x1514d7(0x184)](_0x4af2d6,-_0x4e4229,-_0x13f121),ctx[_0x1514d7(0x474)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x4868ba(0x34e)]=(_0x3e2d4e,_0xda2388,_0x4bca5d,_0xc60c9a,_0x1b5fc8,_0x4cab00,_0x31d38d)=>{var _0x20966b=_0x4868ba;_0xda2388=Math['round'](_0xda2388),_0x4bca5d=Math[_0x20966b(0x3a9)](_0x4bca5d),ctx=this['ctx'],ctx[_0x20966b(0x474)](_0x4cab00,0x0,0x0,_0x4cab00,_0xda2388,_0x4bca5d),ctx[_0x20966b(0x20d)](_0x31d38d),ctx[_0x20966b(0x184)](_0x3e2d4e,-_0xc60c9a,-_0x1b5fc8),ctx[_0x20966b(0x474)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x4868ba(0x204)]=(_0x3689b2,_0x55bc8e,_0x39a6a9,_0x49f1b9,_0x577f6f)=>{var _0x235dea=_0x4868ba;_0x55bc8e=Math[_0x235dea(0x3a9)](_0x55bc8e),_0x39a6a9=Math[_0x235dea(0x3a9)](_0x39a6a9),ctx=this[_0x235dea(0x4e1)],ctx[_0x235dea(0x474)](_0x49f1b9,0x0,0x0,_0x49f1b9,_0x55bc8e,_0x39a6a9),ctx[_0x235dea(0x20d)](_0x577f6f),ctx[_0x235dea(0x184)](_0x3689b2,-_0x3689b2[_0x235dea(0x269)]/0x2,-_0x3689b2[_0x235dea(0x3f4)]/0x2),ctx[_0x235dea(0x474)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x4868ba(0x1a4)]=(_0x234ceb,_0x1fa3ef,_0x1b0440,_0x199598,_0x117735,_0x32fa49,_0x20014b)=>{var _0x520842=_0x4868ba;this[_0x520842(0x4e1)][_0x520842(0x2cc)]=_0x520842(0x18c),this[_0x520842(0x4e1)][_0x520842(0x2c5)]=_0x520842(0x36d),this['ctx'][_0x520842(0x26a)]=_0x32fa49;var _0x2c4111=''+_0x117735+'px';if(!_0x20014b)_0x20014b='serif';_0x2c4111=_0x2c4111+'\x20'+_0x20014b,this[_0x520842(0x4e1)][_0x520842(0x4f9)]=_0x2c4111,this[_0x520842(0x4e1)][_0x520842(0x401)](_0x234ceb,_0x1fa3ef,_0x1b0440,_0x199598);},this[_0x4868ba(0x1f1)]=(_0x31090f,_0x178817,_0x34e4aa,_0x1fc210,_0x587e33,_0xd8f032,_0x17d697)=>{var _0x11cce1=_0x4868ba;this[_0x11cce1(0x4e1)][_0x11cce1(0x2cc)]=_0x11cce1(0x4ee),this['ctx']['textBaseline']=_0x11cce1(0x444),this['ctx'][_0x11cce1(0x26a)]=_0xd8f032;var _0x1b851b=''+_0x587e33+'px';if(!_0x17d697)_0x17d697=_0x11cce1(0x2ff);_0x1b851b=_0x1b851b+'\x20'+_0x17d697,this['ctx'][_0x11cce1(0x4f9)]=_0x1b851b,this['ctx'][_0x11cce1(0x401)](_0x31090f,_0x178817,_0x34e4aa,_0x1fc210);};},CanvasManager=function(){var _0x8622ed=_0x4113ca;this[_0x8622ed(0x156)]=[],this[_0x8622ed(0x1d9)]=0x0,window[_0x8622ed(0x419)]('resize',()=>{var _0x1d09ee=_0x8622ed;for(var _0x158fbb in this[_0x1d09ee(0x156)]){var _0x39c4ea=this[_0x1d09ee(0x156)][_0x158fbb][_0x1d09ee(0x1f3)];_0x39c4ea[_0x1d09ee(0x269)]=window[_0x1d09ee(0x4d9)],_0x39c4ea['height']=window[_0x1d09ee(0x3ad)];}console['log']('resized'),world[_0x1d09ee(0x4e2)]();}),document[_0x8622ed(0x419)](_0x8622ed(0x185),this[_0x8622ed(0x4df)],![]),document['addEventListener'](_0x8622ed(0x47b),this[_0x8622ed(0x4df)],![]),document[_0x8622ed(0x419)]('MSFullscreenChange',this['EventcloseFullscreen'],![]),document[_0x8622ed(0x419)](_0x8622ed(0x38a),this[_0x8622ed(0x4df)],![]),this['EventcloseFullscreen']=()=>{var _0x1ffb2e=_0x8622ed;this[_0x1ffb2e(0x2df)]=![],this['closeFullscreen']();},this[_0x8622ed(0x226)]=(_0x41e8d1,_0x2d8a9a,_0xcbb941)=>{var _0x14a84e=_0x8622ed;for(var _0xdf90f in this[_0x14a84e(0x156)])if(this[_0x14a84e(0x156)][_0xdf90f]['id']==_0x41e8d1)return console[_0x14a84e(0x3c2)](_0x14a84e(0x45a));var _0x5d7221=new MyCanvas(_0x41e8d1,_0x2d8a9a,_0xcbb941);this[_0x14a84e(0x156)][_0x41e8d1]=_0x5d7221;},this[_0x8622ed(0x361)]=()=>{var _0x548cc7=_0x8622ed;this['fullScreen']=!![],document[_0x548cc7(0x3b5)][_0x548cc7(0x169)]();},this[_0x8622ed(0x344)]=()=>{var _0x54ff7d=_0x8622ed;if(this[_0x54ff7d(0x2df)]&&document[_0x54ff7d(0x38c)]){if(document[_0x54ff7d(0x221)])document[_0x54ff7d(0x221)]();else{if(document[_0x54ff7d(0x326)])document[_0x54ff7d(0x326)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}this[_0x54ff7d(0x2df)]=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=[_0x4113ca(0x3c1),_0x4113ca(0x4a2),_0x4113ca(0x224),_0x4113ca(0x196)],MAP_BOT_ELEMENT=[{'name':'bush','moveCost':1.5},{'name':'stones','moveCost':0x2},{'name':_0x4113ca(0x391),'moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':'big_tree_0','sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':'big_tree_1','sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':'roof_0','sizex':0x1,'sizey':0x1},{'name':'wall','sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x2c9fdc,_0x7ce1e5){var _0x85efaf=_0x4113ca;this['x']=_0x2c9fdc,this['y']=_0x7ce1e5,this[_0x85efaf(0x364)]=undefined,this[_0x85efaf(0x3af)]=undefined,this['player']=undefined,this[_0x85efaf(0x203)]=()=>{var _0x3b0a7c=_0x85efaf,_0x54ca7a=0x1;if(this[_0x3b0a7c(0x364)]){for(var _0x585bf8 in MAP_BOT_ELEMENT)var _0x435b85=MAP_BOT_ELEMENT[_0x3b0a7c(0x2ea)](_0xf571d7=>_0xf571d7[_0x3b0a7c(0x2c7)]==this['botElem'][_0x3b0a7c(0x2c7)]);if(_0x435b85['moveCost']==![])return![];if(_0x435b85[_0x3b0a7c(0x2d4)])_0x54ca7a*=_0x435b85[_0x3b0a7c(0x2d4)];}if(this['topElem']){var _0x435b85=MAP_TOP_ELEMENT[_0x3b0a7c(0x2ea)](_0x48124d=>_0x48124d[_0x3b0a7c(0x2c7)]==this['topElem'][_0x3b0a7c(0x2c7)]);if(_0x435b85['moveCost']==![])return![];if(_0x435b85['moveCost'])_0x54ca7a*=_0x435b85[_0x3b0a7c(0x2d4)];}return _0x54ca7a;};},BattleMap=function(_0x483116,_0x4abf47){var _0x242698=_0x4113ca;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this[_0x242698(0x269)]=_0x483116,this[_0x242698(0x3f4)]=_0x4abf47,this[_0x242698(0x3ac)]=_0x483116/0x2,this[_0x242698(0x25e)]=_0x4abf47/0x2,this[_0x242698(0x402)]=0x1,this['mapImgsFloor']=[],this[_0x242698(0x290)]=[],this[_0x242698(0x1e3)]=[],this[_0x242698(0x4be)]=[],this[_0x242698(0x4e2)]=!![],this[_0x242698(0x2c4)]=_0x275975=>{var _0x4185b5=_0x242698,_0x4a83c9=0x1;if(_0x275975[_0x4185b5(0x434)])_0x4a83c9=_0x275975[_0x4185b5(0x434)];this['posBlockx']=_0x275975['x']+_0x4a83c9/0x2,this[_0x4185b5(0x25e)]=_0x275975['y']+_0x4a83c9/0x2,this['needRedraw']=!![];},this[_0x242698(0x3f9)]=_0x23df46=>{var _0x335426=_0x242698;if(!_0x23df46||!_0x23df46[_0x335426(0x318)]||!_0x23df46['rangeMax']||!_0x23df46[_0x335426(0x3cb)])return[];var _0x37ab41=[],_0x42ca95=_0x23df46['player'],_0x42e573=_0x23df46[_0x335426(0x318)],_0x43319d=_0x23df46[_0x335426(0x2c3)];for(var _0x354045=_0x42ca95['x']-_0x43319d;_0x354045<_0x42ca95['x']+_0x42ca95[_0x335426(0x434)]+_0x43319d;_0x354045++)for(var _0x38ad57=_0x42ca95['y']-_0x43319d;_0x38ad57<_0x42ca95['y']+_0x42ca95['size']+_0x43319d;_0x38ad57++)if(_0x354045<=_0x42ca95['x']-_0x42e573||_0x354045>=_0x42ca95['x']+_0x42ca95[_0x335426(0x434)]+_0x42e573-0x1||_0x38ad57<=_0x42ca95['y']-_0x42e573||_0x38ad57>=_0x42ca95['y']+_0x42ca95[_0x335426(0x434)]+_0x42e573-0x1){if(this['mapBlock'][_0x354045]&&this[_0x335426(0x290)][_0x354045][_0x38ad57])_0x37ab41['push'](this[_0x335426(0x290)][_0x354045][_0x38ad57]);}return _0x37ab41;},this[_0x242698(0x4c9)]=_0x551417=>{var _0x2e464a=_0x242698;if(!_0x551417||!_0x551417['dir']||!_0x551417[_0x2e464a(0x3cb)])return[];var _0x4691e7=[],_0x5dc819=_0x551417[_0x2e464a(0x3cb)];if(_0x551417[_0x2e464a(0x3ed)]==_0x2e464a(0x18c)||_0x551417[_0x2e464a(0x3ed)]['x']==-0x1&&_0x551417[_0x2e464a(0x3ed)]['y']==0x0){var _0xa4b0fe=_0x5dc819['x']-0x1;for(var _0x340314=_0x5dc819['y'];_0x340314<_0x5dc819['y']+_0x5dc819[_0x2e464a(0x434)];_0x340314++)if(this[_0x2e464a(0x290)][_0xa4b0fe]&&this[_0x2e464a(0x290)][_0xa4b0fe][_0x340314])_0x4691e7[_0x2e464a(0x346)](this[_0x2e464a(0x290)][_0xa4b0fe][_0x340314]);}else{if(_0x551417[_0x2e464a(0x3ed)]==_0x2e464a(0x36d)||_0x551417[_0x2e464a(0x3ed)]['y']==-0x1&&_0x551417[_0x2e464a(0x3ed)]['x']==0x0){var _0x340314=_0x5dc819['y']-0x1;for(var _0xa4b0fe=_0x5dc819['x'];_0xa4b0fe<_0x5dc819['x']+_0x5dc819['size'];_0xa4b0fe++)if(this[_0x2e464a(0x290)][_0xa4b0fe]&&this[_0x2e464a(0x290)][_0xa4b0fe][_0x340314])_0x4691e7['push'](this[_0x2e464a(0x290)][_0xa4b0fe][_0x340314]);}else{if(_0x551417[_0x2e464a(0x3ed)]=='right'||_0x551417['dir']['x']==0x1&&_0x551417[_0x2e464a(0x3ed)]['y']==0x0){var _0xa4b0fe=_0x5dc819['x']+_0x5dc819[_0x2e464a(0x434)];for(var _0x340314=_0x5dc819['y'];_0x340314<_0x5dc819['y']+_0x5dc819[_0x2e464a(0x434)];_0x340314++)if(this[_0x2e464a(0x290)][_0xa4b0fe]&&this[_0x2e464a(0x290)][_0xa4b0fe][_0x340314])_0x4691e7['push'](this[_0x2e464a(0x290)][_0xa4b0fe][_0x340314]);}else{if(_0x551417['dir']=='bot'||_0x551417[_0x2e464a(0x3ed)]['y']==0x1&&_0x551417[_0x2e464a(0x3ed)]['x']==0x0){var _0x340314=_0x5dc819['y']+_0x5dc819[_0x2e464a(0x434)];for(var _0xa4b0fe=_0x5dc819['x'];_0xa4b0fe<_0x5dc819['x']+_0x5dc819[_0x2e464a(0x434)];_0xa4b0fe++)if(this[_0x2e464a(0x290)][_0xa4b0fe]&&this['mapBlock'][_0xa4b0fe][_0x340314])_0x4691e7[_0x2e464a(0x346)](this[_0x2e464a(0x290)][_0xa4b0fe][_0x340314]);}}}}return _0x4691e7;},this[_0x242698(0x268)]=_0x972544=>{var _0x281fa4=_0x242698;if(!_0x972544||!_0x972544['player'])return undefined;var _0x27d27a=[];return _0x972544[_0x281fa4(0x3ed)]=_0x281fa4(0x18c),_0x27d27a=_0x27d27a[_0x281fa4(0x3a5)](this[_0x281fa4(0x4c9)](_0x972544)),_0x972544[_0x281fa4(0x3ed)]=_0x281fa4(0x36d),_0x27d27a=_0x27d27a[_0x281fa4(0x3a5)](this[_0x281fa4(0x4c9)](_0x972544)),_0x972544[_0x281fa4(0x3ed)]=_0x281fa4(0x31f),_0x27d27a=_0x27d27a[_0x281fa4(0x3a5)](this[_0x281fa4(0x4c9)](_0x972544)),_0x972544[_0x281fa4(0x3ed)]=_0x281fa4(0x192),_0x27d27a=_0x27d27a[_0x281fa4(0x3a5)](this[_0x281fa4(0x4c9)](_0x972544)),_0x27d27a;},this['CostMovingPlayer']=_0x13142d=>{var _0x3589a2=_0x242698;if(!_0x13142d||!_0x13142d[_0x3589a2(0x3cb)]||!_0x13142d[_0x3589a2(0x3ed)])return![];var _0xb7cf3c=this[_0x3589a2(0x4c9)]({'dir':_0x13142d[_0x3589a2(0x3ed)],'player':_0x13142d['player']});if(!_0xb7cf3c||_0xb7cf3c['length']==0x0)return![];var _0x1d67e7=0x0;for(var _0x4a3694 in _0xb7cf3c){var _0x5d6704=_0xb7cf3c[_0x4a3694]['getMoveCost']();if(_0x5d6704===![]||_0x5d6704===0x0)return![];_0x1d67e7+=_0x5d6704;}return _0x1d67e7/_0xb7cf3c[_0x3589a2(0x179)];},this[_0x242698(0x28f)]=()=>{var _0x16c7c0=_0x242698;this[_0x16c7c0(0x290)]=[];for(var _0xd5042f=0x0;_0xd5042f<this[_0x16c7c0(0x269)];_0xd5042f++){this[_0x16c7c0(0x290)][_0xd5042f]=[];for(var _0x1fcc94=0x0;_0x1fcc94<this['height'];_0x1fcc94++){var _0x5c486e=new Block(_0xd5042f,_0x1fcc94);this[_0x16c7c0(0x290)][_0xd5042f][_0x1fcc94]=_0x5c486e;if(_0xd5042f==0x0||_0x1fcc94==0x0||_0xd5042f==this[_0x16c7c0(0x269)]-0x1||_0x1fcc94==this[_0x16c7c0(0x3f4)]-0x1){_0x5c486e[_0x16c7c0(0x3af)]={'name':_0x16c7c0(0x443),'angle':Math[_0x16c7c0(0x325)]()*Math['PI']*0x2};continue;}}}},this[_0x242698(0x4eb)]=()=>{var _0x1bc214=_0x242698;for(var _0x489b04=0x0;_0x489b04<this[_0x1bc214(0x269)];_0x489b04++){for(var _0x4471d6=0x0;_0x4471d6<this['height'];_0x4471d6++){var _0x4c55a8=this[_0x1bc214(0x290)][_0x489b04][_0x4471d6];if(_0x4c55a8[_0x1bc214(0x3cb)])continue;var _0x1e6caf=Math['floor'](Math['random']()*0x64);if(_0x1e6caf<0xa){var _0x203b8c=Math[_0x1bc214(0x3d8)](Math[_0x1bc214(0x325)]()*MAP_BOT_ELEMENT['length']);_0x4c55a8[_0x1bc214(0x364)]={'name':MAP_BOT_ELEMENT[_0x203b8c]['name'],'angle':Math['random']()*Math['PI']*0x2};}var _0x1e6caf=Math['floor'](Math[_0x1bc214(0x325)]()*0x64);if(_0x1e6caf<0xa){var _0x203b8c=Math[_0x1bc214(0x3d8)](Math[_0x1bc214(0x325)]()*MAP_TOP_ELEMENT[_0x1bc214(0x179)]);_0x4c55a8[_0x1bc214(0x3af)]={'name':MAP_TOP_ELEMENT[_0x203b8c][_0x1bc214(0x2c7)],'angle':Math[_0x1bc214(0x325)]()*Math['PI']*0x2};}}}},this[_0x242698(0x30a)]=()=>{var _0x3210f2=_0x242698,_0x44b284=_0x3210f2(0x49e),_0x5a82aa=MAP_FLOORS;for(var _0x3a1d1f in _0x5a82aa)this['mapImgsFloor'][_0x5a82aa[_0x3a1d1f]]=new myImage(_0x5a82aa[_0x3a1d1f],_0x44b284+_0x5a82aa[_0x3a1d1f]+_0x3210f2(0x305));},this[_0x242698(0x335)]=()=>{var _0x4f776e=_0x242698,_0x441f8d=_0x4f776e(0x2a5),_0x29d9ac=MAP_BOT_ELEMENT;for(var _0x508485 in _0x29d9ac)this[_0x4f776e(0x1e3)][_0x29d9ac[_0x508485][_0x4f776e(0x2c7)]]=new myImage(_0x29d9ac[_0x508485][_0x4f776e(0x2c7)],_0x441f8d+_0x29d9ac[_0x508485][_0x4f776e(0x2c7)]+_0x4f776e(0x305));},this[_0x242698(0x512)]=()=>{var _0x16f859=_0x242698,_0x377a1d=_0x16f859(0x4e6),_0x196988=MAP_TOP_ELEMENT;for(var _0x222d82 in _0x196988)this['mapImgsTop'][_0x196988[_0x222d82][_0x16f859(0x2c7)]]=new myImage(_0x196988[_0x222d82][_0x16f859(0x2c7)],_0x377a1d+_0x196988[_0x222d82][_0x16f859(0x2c7)]+_0x16f859(0x305));},this[_0x242698(0x1f7)]=()=>{var _0x5a045b=_0x242698;this[_0x5a045b(0x512)](),this[_0x5a045b(0x30a)](),this[_0x5a045b(0x335)]();},this[_0x242698(0x315)]=(_0x1fab16,_0x1e11d6,_0x27fc90)=>{var _0x17e37c=_0x242698;this[_0x17e37c(0x3ac)]+=_0x1fab16,this['posBlocky']+=_0x1e11d6,this[_0x17e37c(0x402)]*=_0x27fc90;if(this[_0x17e37c(0x402)]<0.1)this[_0x17e37c(0x402)]=0.1;if(this[_0x17e37c(0x402)]>0x1)this[_0x17e37c(0x402)]=0x1;this[_0x17e37c(0x4e2)]=!![];},this[_0x242698(0x2f6)]=_0x3fedd0=>{var _0x53aeaa=_0x242698;this[_0x53aeaa(0x218)]=Math[_0x53aeaa(0x3d8)](MAP_BLOCK_PIXELSIZE_DEFAULT*this['scale']*this[_0x53aeaa(0x269)]),this['pixel_height']=Math[_0x53aeaa(0x3d8)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x53aeaa(0x402)]*this['height']),this[_0x53aeaa(0x467)]=Math[_0x53aeaa(0x3d8)](this['pixel_width']/this[_0x53aeaa(0x269)]),this[_0x53aeaa(0x1a6)]=Math[_0x53aeaa(0x3d8)](this[_0x53aeaa(0x48b)]/this[_0x53aeaa(0x3f4)]),this[_0x53aeaa(0x262)]=this[_0x53aeaa(0x3ac)]*this[_0x53aeaa(0x467)],this['pos_y']=this[_0x53aeaa(0x25e)]*this['blocksize_y'],this[_0x53aeaa(0x29f)]=_0x3fedd0[_0x53aeaa(0x269)]/0x2-this[_0x53aeaa(0x262)],this['pos_starty']=_0x3fedd0[_0x53aeaa(0x3f4)]/0x2-this[_0x53aeaa(0x20f)],this[_0x53aeaa(0x1df)]=this[_0x53aeaa(0x29f)]<0x0?0x0:this[_0x53aeaa(0x29f)],this[_0x53aeaa(0x48e)]=this[_0x53aeaa(0x3cc)]<0x0?0x0:this[_0x53aeaa(0x3cc)],this[_0x53aeaa(0x308)]=this[_0x53aeaa(0x29f)]+this[_0x53aeaa(0x218)]>=_0x3fedd0[_0x53aeaa(0x269)]?_0x3fedd0['width']-0x1:this[_0x53aeaa(0x29f)]+this['pixel_width'],this[_0x53aeaa(0x1e1)]=this[_0x53aeaa(0x3cc)]+this['pixel_height']>=_0x3fedd0[_0x53aeaa(0x3f4)]?_0x3fedd0[_0x53aeaa(0x3f4)]-0x1:this[_0x53aeaa(0x3cc)]+this[_0x53aeaa(0x48b)],this[_0x53aeaa(0x457)]=this[_0x53aeaa(0x229)]({'x':this[_0x53aeaa(0x1df)],'y':this[_0x53aeaa(0x48e)]}),this[_0x53aeaa(0x155)]=this[_0x53aeaa(0x229)]({'x':this[_0x53aeaa(0x308)],'y':this[_0x53aeaa(0x1e1)]});if(this[_0x53aeaa(0x155)]){if(this[_0x53aeaa(0x155)]['x']>=this['width'])this[_0x53aeaa(0x155)]['x']=this[_0x53aeaa(0x269)]-0x1;if(this[_0x53aeaa(0x155)]['y']>=this[_0x53aeaa(0x3f4)])this[_0x53aeaa(0x155)]['y']=this['height']-0x1;}},this[_0x242698(0x340)]=(_0x158eee,_0x1e87bd,_0x2aafb4,_0x21d25c,_0x2d9ed5)=>{var _0x1194fe=_0x242698;if(_0x2d9ed5==_0x1194fe(0x2b9)){var _0x56e1b4=Math[_0x1194fe(0x3d8)](_0x2aafb4+0.05*this[_0x1194fe(0x467)]),_0x3191aa=Math[_0x1194fe(0x3d8)](_0x21d25c+0.05*this[_0x1194fe(0x1a6)]),_0x46c44e=Math[_0x1194fe(0x3d8)](_0x2aafb4+0.95*this[_0x1194fe(0x467)]),_0x3998eb=Math[_0x1194fe(0x3d8)](_0x21d25c+0.95*this[_0x1194fe(0x1a6)]);if(_0x1e87bd['getMoveCost']()>0x1)_0x158eee[_0x1194fe(0x4e1)][_0x1194fe(0x26a)]=_0x1194fe(0x4b0);else{if(!_0x1e87bd[_0x1194fe(0x203)]()||_0x1e87bd[_0x1194fe(0x3cb)])_0x158eee[_0x1194fe(0x4e1)][_0x1194fe(0x26a)]=_0x1194fe(0x23a);else _0x158eee['ctx'][_0x1194fe(0x26a)]=_0x1194fe(0x314);}_0x158eee['drawFillRect'](_0x56e1b4,_0x3191aa,_0x46c44e,_0x3998eb);var _0x18cb01=new MyUI(_0x158eee,_0x56e1b4,_0x3191aa,0x64,this[_0x1194fe(0x402)],undefined,undefined,0x1);_0x18cb01[_0x1194fe(0x450)](_0x1194fe(0x22a)+_0x1e87bd['getMoveCost'](),0x14*this[_0x1194fe(0x402)],0x64,_0x1194fe(0x3cd)),_0x18cb01[_0x1194fe(0x154)]();}if(_0x2d9ed5=='rotate'){var _0x56e1b4=Math[_0x1194fe(0x3d8)](_0x2aafb4+0.05*this[_0x1194fe(0x467)]),_0x3191aa=Math['floor'](_0x21d25c+0.05*this[_0x1194fe(0x1a6)]),_0x46c44e=Math[_0x1194fe(0x3d8)](_0x2aafb4+0.95*this[_0x1194fe(0x467)]),_0x3998eb=Math[_0x1194fe(0x3d8)](_0x21d25c+0.95*this[_0x1194fe(0x1a6)]);_0x158eee[_0x1194fe(0x4e1)][_0x1194fe(0x26a)]=_0x1194fe(0x51b),_0x158eee[_0x1194fe(0x4ed)](_0x56e1b4,_0x3191aa,_0x46c44e,_0x3998eb);}},this['draw_map']=(_0x100362,_0x57705b)=>{var _0x1ef1e6=_0x242698;this[_0x1ef1e6(0x4e2)]=![],world['players'][_0x1ef1e6(0x4a8)]=!![];if(this[_0x1ef1e6(0x457)]&&this[_0x1ef1e6(0x155)])for(var _0x33a362=this[_0x1ef1e6(0x457)]['x'];_0x33a362<=this[_0x1ef1e6(0x155)]['x'];_0x33a362++){for(var _0x45ee16=this[_0x1ef1e6(0x457)]['y'];_0x45ee16<=this[_0x1ef1e6(0x155)]['y'];_0x45ee16++){var _0x4f8f49=this[_0x1ef1e6(0x46a)](_0x33a362,_0x45ee16),_0x4d661b=this['mapBlock'][_0x33a362][_0x45ee16],_0x22818e=undefined;if(!_0x4d661b[_0x1ef1e6(0x3d8)])_0x22818e=this[_0x1ef1e6(0x353)][_0x1ef1e6(0x196)];else _0x22818e=this['mapImgsFloor'][_0x4d661b['floor']];if(_0x22818e&&_0x22818e[_0x1ef1e6(0x51c)]&&_0x4f8f49)_0x100362['draw_Image'](_0x22818e[_0x1ef1e6(0x458)],_0x4f8f49['x'],_0x4f8f49['y'],this['blocksize_x']+0x1,this[_0x1ef1e6(0x1a6)]+0x1);else this[_0x1ef1e6(0x4e2)]=!![];if(_0x4d661b[_0x1ef1e6(0x364)]){_0x22818e=this['mapImgsBot'][_0x4d661b[_0x1ef1e6(0x364)]['name']];var _0x338571=_0x4f8f49['x']+this[_0x1ef1e6(0x467)]/0x2,_0x29d377=_0x4f8f49['y']+this[_0x1ef1e6(0x1a6)]/0x2;if(_0x22818e)_0x100362['drawImageRotate'](_0x22818e[_0x1ef1e6(0x458)],_0x338571,_0x29d377,this['scale']*0x2,_0x4d661b[_0x1ef1e6(0x364)][_0x1ef1e6(0x4f2)]);}if(_0x4d661b[_0x1ef1e6(0x3af)]){_0x22818e=this['mapImgsTop'][_0x4d661b[_0x1ef1e6(0x3af)][_0x1ef1e6(0x2c7)]];var _0x338571=_0x4f8f49['x']+this[_0x1ef1e6(0x467)]/0x2,_0x29d377=_0x4f8f49['y']+this['blocksize_y']/0x2;if(_0x22818e)_0x57705b[_0x1ef1e6(0x204)](_0x22818e[_0x1ef1e6(0x458)],_0x338571,_0x29d377,this['scale']*0x2,_0x4d661b['topElem'][_0x1ef1e6(0x4f2)]);}if(world[_0x1ef1e6(0x233)][_0x1ef1e6(0x3d1)]&&world[_0x1ef1e6(0x233)][_0x1ef1e6(0x3d1)]['zone']&&world['GameUI'][_0x1ef1e6(0x3d1)]['zone'][_0x1ef1e6(0x2ea)](_0xa4650a=>_0xa4650a==_0x4d661b))this[_0x1ef1e6(0x340)](_0x100362,_0x4d661b,_0x4f8f49['x'],_0x4f8f49['y'],world['GameUI'][_0x1ef1e6(0x3d1)][_0x1ef1e6(0x492)]);}}},this[_0x242698(0x229)]=_0x5baeeb=>{var _0x41f206=_0x242698;if(_0x5baeeb['x']<this[_0x41f206(0x1df)]||_0x5baeeb['y']<this[_0x41f206(0x48e)]||_0x5baeeb['x']>this['pixel_endx']||_0x5baeeb['y']>this[_0x41f206(0x1e1)]||this['blocksize_x']==0x0||this[_0x41f206(0x1a6)]==0x0)return undefined;var _0x446b58={'x':Math['floor']((_0x5baeeb['x']-this[_0x41f206(0x29f)])/this[_0x41f206(0x467)]),'y':Math[_0x41f206(0x3d8)]((_0x5baeeb['y']-this[_0x41f206(0x3cc)])/this['blocksize_y'])};if(_0x446b58['x']>=this[_0x41f206(0x269)]&&_0x446b58['x']>0x0)_0x446b58['x']=this[_0x41f206(0x269)]-0x1;if(_0x446b58['y']>=this[_0x41f206(0x3f4)]&&_0x446b58['y']>0x0)_0x446b58['y']=this[_0x41f206(0x3f4)]-0x1;return this[_0x41f206(0x290)][_0x446b58['x']][_0x446b58['y']];},this[_0x242698(0x46a)]=(_0x37834b,_0x6c45c5)=>{var _0x11143a=_0x242698;if(_0x37834b<0x0||_0x6c45c5<0x0||_0x37834b>=this[_0x11143a(0x269)]||_0x6c45c5>=this[_0x11143a(0x3f4)])return undefined;return{'x':Math['floor'](this['pos_startx']+this[_0x11143a(0x467)]*_0x37834b),'y':Math[_0x11143a(0x3d8)](this[_0x11143a(0x3cc)]+this[_0x11143a(0x1a6)]*_0x6c45c5)};},this[_0x242698(0x35e)]=(_0x46a11c,_0x11da69)=>{var _0x826715=_0x242698;return{'x':this[_0x826715(0x29f)]+this[_0x826715(0x467)]*_0x46a11c,'y':this[_0x826715(0x3cc)]+this[_0x826715(0x1a6)]*_0x11da69};},this['get_block_at_BlockRange']=(_0x482243,_0x295128,_0x391e28,_0x44ade9)=>{var _0xd08ec3=_0x242698,_0x4fe678=[];for(var _0x547db6=_0x482243-_0x44ade9;_0x547db6<=_0x482243+_0x44ade9;r++){for(var _0x3edd17=_0x295128-_0x44ade9;_0x3edd17<=_0x295128+_0x44ade9;r++){var _0x4396c9=this[_0xd08ec3(0x290)][_0x547db6][_0x3edd17];if(_0x4396c9&&distBlock(_0x482243,_0x295128,_0x4396c9['x'],_0x4396c9['y'])>=_0x391e28&&distBlock(_0x482243,_0x295128,_0x4396c9['x'],_0x4396c9['y'])<=_0x44ade9)_0x4fe678[_0xd08ec3(0x346)](_0x4396c9);}}return _0x4fe678;},this[_0x242698(0x3c0)]=(_0x2faae6,_0x4c8493,_0x152655,_0x35b5d2)=>{var _0xfb0e8=_0x242698,_0x492ce0=[];for(var _0x199c0e=Math['floor'](_0x2faae6-_0x35b5d2);_0x199c0e<=Math[_0xfb0e8(0x3a9)](_0x2faae6+_0x35b5d2);r++){for(var _0x3752ba=Math[_0xfb0e8(0x3d8)](_0x4c8493-_0x35b5d2);_0x3752ba<=Math['round'](_0x4c8493+_0x35b5d2);r++){var _0x452f06=this[_0xfb0e8(0x290)][_0x199c0e][_0x3752ba];if(_0x452f06&&dist(_0x2faae6,_0x4c8493,_0x452f06['x'],_0x452f06['y'])>=_0x152655&&Block(_0x2faae6,_0x4c8493,_0x452f06['x'],_0x452f06['y'])<=_0x35b5d2)_0x492ce0[_0xfb0e8(0x346)](_0x452f06);}}return _0x492ce0;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT=_0x4113ca(0x49f),BONUS_DESCRIPTION=[];var id=0x1;BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]=_0x4113ca(0x3e7),BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x4113ca(0x36b),Player=function(_0x385759,_0xc06b6d,_0x4c85fc,_0x1ce650,_0x4e2e22){var _0x41170b=_0x4113ca;this['x']=_0x385759,this['y']=_0xc06b6d,this['size']=_0x4c85fc,this[_0x41170b(0x31a)]=_0x4e2e22,this['AI']=_0x4e2e22==TEAM_HUMAN?undefined:{},this[_0x41170b(0x307)]=_0x1ce650,this[_0x41170b(0x3ed)]=[0x1,0x0],this['bodyPartImg']=undefined,this['bodyPartImgReady']=![],this[_0x41170b(0x19b)]=undefined,this[_0x41170b(0x416)]=[],this[_0x41170b(0x3e4)]=PLAYER_DEFAUTL_MOVECOST,this['name']=_0x41170b(0x2b6),this[_0x41170b(0x349)]=0x64,this[_0x41170b(0x29c)]=0x0,this[_0x41170b(0x309)]=0x0,this[_0x41170b(0x245)]=0x64,this[_0x41170b(0x1d6)]=0x64,this[_0x41170b(0x21f)]=this['lifeMax'],this[_0x41170b(0x25c)]=![],(this['stats']={'Strength':0xa,'Dexterity':0xa},this[_0x41170b(0x4c0)]=_0x4261a1=>{var _0x1cc3fc=_0x41170b;if(_0x4261a1==undefined||_0x4261a1<0x0)return![];this[_0x1cc3fc(0x21f)]-=_0x4261a1,world['players']['MessageSystem'][_0x1cc3fc(0x4f8)]({'type':this[_0x1cc3fc(0x31a)],'txt':this[_0x1cc3fc(0x2c7)]+_0x1cc3fc(0x376)+_0x4261a1+'\x20life\x20point'});if(this[_0x1cc3fc(0x21f)]<=0x0){world[_0x1cc3fc(0x4ca)][_0x1cc3fc(0x40d)]['addMessage']({'type':this[_0x1cc3fc(0x31a)],'txt':this[_0x1cc3fc(0x2c7)]+_0x1cc3fc(0x219)}),world[_0x1cc3fc(0x4ca)][_0x1cc3fc(0x28d)](this);if(this==world['GameUI'][_0x1cc3fc(0x3a3)])world['GameUI'][_0x1cc3fc(0x3a3)]=undefined;if(this==world[_0x1cc3fc(0x4ca)]['Playerturn'])world['players']['Playerturn']=undefined;}return!![];}),this[_0x41170b(0x1a5)]=_0x3ba031=>{var _0x590e67=_0x41170b;if(!_0x3ba031||_0x3ba031[_0x590e67(0x179)]<0x1)return![];var _0x2f1e14=0x0;for(var _0x1a993d in _0x3ba031){world[_0x590e67(0x4ca)][_0x590e67(0x40d)]['addMessage']({'type':this[_0x590e67(0x31a)],'txt':this[_0x590e67(0x2c7)]+_0x590e67(0x399)+_0x3ba031[_0x1a993d][_0x590e67(0x33b)]+_0x590e67(0x4e3)+_0x3ba031[_0x1a993d][_0x590e67(0x492)]}),_0x2f1e14+=_0x3ba031[_0x1a993d][_0x590e67(0x33b)];}var _0x45ac97=this['armor']?this['armor'][_0x590e67(0x4cd)]({'damages':_0x3ba031}):_0x2f1e14;return this[_0x590e67(0x4c0)](_0x45ac97);},this[_0x41170b(0x4ce)]=()=>{var _0x47db31=_0x41170b;this['capacityList']=[{'name':_0x47db31(0x296),'type':_0x47db31(0x2b9),'description':_0x47db31(0x324),'callback':this[_0x47db31(0x161)],'zone_target_area':world[_0x47db31(0x3fe)]['getZoneAdjacentToPlayer'],'zone_selecting_input':{'player':this,'type':_0x47db31(0x2b9)},'windowInfo':[{'txt':_0x47db31(0x180),'callback':this[_0x47db31(0x4ac)]},{'txt':_0x47db31(0x329),'callback':this['GetMoveDir']}]},{'name':'Rotate','type':_0x47db31(0x2b9),'description':_0x47db31(0x4b3),'callback':this[_0x47db31(0x20d)],'zone_target_area':world[_0x47db31(0x3fe)][_0x47db31(0x3f9)],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':'rotate'},'windowInfo':[{'txt':_0x47db31(0x2fa),'callback':this['get_direction_from_pos']}]}];if(this['weapon']){var _0x4352b={'name':_0x47db31(0x178),'type':'attack','description':_0x47db31(0x1b9),'callback':this['attack'],'zone_target_area':this[this['weapon'][_0x47db31(0x456)][_0x47db31(0x1a2)]],'zone_selecting_input':this[_0x47db31(0x45d)]['blockTargetingFunction'][_0x47db31(0x257)],'windowInfo':[{'txt':_0x47db31(0x250),'callback':this[_0x47db31(0x2f8)]},{'txt':_0x47db31(0x4ec),'callback':this[_0x47db31(0x2f0)]}]};_0x4352b[_0x47db31(0x524)]['player']=this,_0x4352b[_0x47db31(0x524)]['type']=_0x47db31(0x20d),this[_0x47db31(0x498)]['push'](_0x4352b);}else{var _0x4352b={'name':_0x47db31(0x178),'type':'attack','description':'attack\x20animation\x20on\x20the\x20selected\x20block','callback':this[_0x47db31(0x3c6)],'zone_target_area':this[_0x47db31(0x484)],'zone_selecting_input':{},'windowInfo':[{'txt':_0x47db31(0x250),'callback':this[_0x47db31(0x2f8)]},{'txt':_0x47db31(0x2fc),'callback':()=>{}}]};_0x4352b[_0x47db31(0x524)][_0x47db31(0x3cb)]=this,_0x4352b[_0x47db31(0x524)][_0x47db31(0x492)]=_0x47db31(0x20d),this['capacityList'][_0x47db31(0x346)](_0x4352b);}},this['getEquipedWeaponDescription']=()=>{var _0x29f23f=_0x41170b;if(this[_0x29f23f(0x45d)])return this[_0x29f23f(0x45d)][_0x29f23f(0x509)]();},this[_0x41170b(0x267)]=_0x26880d=>{var _0x23d6d8=_0x41170b;if(!_0x26880d||!_0x26880d[_0x23d6d8(0x4bc)])return undefined;return[_0x26880d['block']];},this['getBlockAdjacent']=()=>{var _0x4e435b=_0x41170b;console[_0x4e435b(0x3c2)](_0x4e435b(0x513));var _0x4face9=[];for(var _0x182027=this['x']-0x1;_0x182027<=this['x']+this['size'];_0x182027++)for(var _0x370675=this['y']-0x1;_0x370675<=this['y']+this[_0x4e435b(0x434)];_0x370675++)if(!((_0x182027==this['x']-0x1||_0x182027==this['x']+this['size'])&&(_0x370675==this['y']-0x1||_0x370675==this['y']+this[_0x4e435b(0x434)]))&&!(_0x182027<=this['x']+this['size']-0x1&&_0x182027>=this['x']&&_0x370675<=this['y']+this[_0x4e435b(0x434)]-0x1&&_0x370675>=this['y'])){if(world[_0x4e435b(0x3fe)][_0x4e435b(0x290)][_0x182027]&&world[_0x4e435b(0x3fe)][_0x4e435b(0x290)][_0x182027][_0x370675])_0x4face9[_0x4e435b(0x346)](world[_0x4e435b(0x3fe)][_0x4e435b(0x290)][_0x182027][_0x370675]);}return console[_0x4e435b(0x3c2)]('returned\x20'+_0x4face9[_0x4e435b(0x179)]+'\x20blocks'),_0x4face9;},this[_0x41170b(0x24f)]=()=>{var _0x139b6c=_0x41170b,_0x540240=[];for(var _0x54e315=this['x'];_0x54e315<this['x']+this[_0x139b6c(0x434)];_0x54e315++)for(var _0x6387ad=this['y'];_0x6387ad<this['y']+this[_0x139b6c(0x434)];_0x6387ad++)_0x540240[_0x139b6c(0x346)](world['map'][_0x139b6c(0x290)][_0x54e315][_0x6387ad]);},this[_0x41170b(0x425)]=_0x1aa5e2=>{var _0x3c1be8=_0x41170b;if(!_0x1aa5e2||!_0x1aa5e2[_0x3c1be8(0x4bc)])return undefined;var _0x378b15=0x1,_0x5aca7a=0x1;_0x1aa5e2['data']&&(_0x378b15=_0x1aa5e2[_0x3c1be8(0x522)][_0x3c1be8(0x318)]?_0x1aa5e2[_0x3c1be8(0x522)][_0x3c1be8(0x318)]:0x1,_0x5aca7a=_0x1aa5e2[_0x3c1be8(0x522)][_0x3c1be8(0x2c3)]?_0x1aa5e2[_0x3c1be8(0x522)][_0x3c1be8(0x2c3)]:0x1);if(_0x378b15>_0x5aca7a){var _0x56026a=_0x378b15;_0x378b15=_0x5aca7a,_0x5aca7a=_0x56026a;}var _0x4ab384=[],_0x43dfcb=_0x1aa5e2[_0x3c1be8(0x4bc)],_0x43767e=this['get_direction_from_pos'](_0x43dfcb),_0x4d3a90=-0x1,_0x258c0a=_0x43dfcb['x'],_0x1315f2=_0x43dfcb['y'],_0x4c0c47=world[_0x3c1be8(0x3fe)][_0x3c1be8(0x290)];while(++_0x4d3a90<=_0x5aca7a){if(_0x4d3a90>=_0x378b15){if(_0x4c0c47[_0x258c0a]&&_0x4c0c47[_0x258c0a][_0x1315f2])_0x4ab384[_0x3c1be8(0x346)](_0x4c0c47[_0x258c0a][_0x1315f2]);}_0x258c0a+=_0x43767e[0x0],_0x1315f2+=_0x43767e[0x1];}return _0x4ab384;},this[_0x41170b(0x481)]=_0x517303=>{var _0xa40b0f=_0x41170b;if(!_0x517303||!_0x517303[_0xa40b0f(0x4bc)])return undefined;var _0x595a56=0x1,_0xe52529=0x1;_0x517303['data']&&(_0x595a56=_0x517303[_0xa40b0f(0x522)]['rangeMin']?_0x517303[_0xa40b0f(0x522)][_0xa40b0f(0x318)]:0x1,_0xe52529=_0x517303[_0xa40b0f(0x522)][_0xa40b0f(0x2c3)]?_0x517303[_0xa40b0f(0x522)][_0xa40b0f(0x2c3)]:0x1);if(_0x595a56>_0xe52529){var _0x48eb39=_0x595a56;_0x595a56=_0xe52529,_0xe52529=_0x48eb39;}var _0xd36a4d=[],_0x466968=_0x517303[_0xa40b0f(0x4bc)],_0x22ff68=world[_0xa40b0f(0x3fe)][_0xa40b0f(0x290)];for(var _0x841c44=_0x466968['x']-_0xe52529;_0x841c44<=_0x466968['x']+_0xe52529;_0x841c44++){for(var _0x1f69d6=_0x466968['y']-_0xe52529;_0x1f69d6<=_0x466968['y']+_0xe52529;_0x1f69d6++){var _0x13c734=dist(_0x466968['x'],_0x466968['y'],_0x841c44,_0x1f69d6);if(_0x13c734<_0x595a56||_0x13c734>_0xe52529)continue;if(_0x22ff68[_0x841c44]&&_0x22ff68[_0x841c44][_0x1f69d6])_0xd36a4d[_0xa40b0f(0x346)](_0x22ff68[_0x841c44][_0x1f69d6]);}}return _0xd36a4d;},this[_0x41170b(0x4f0)]=_0x42078b=>{var _0x1b522f=_0x41170b;if(!_0x42078b||!_0x42078b['rangeMin']||!_0x42078b[_0x1b522f(0x2c3)])return[];var _0x1f9456=[],_0x1df4a1=this,_0x2e7e73=_0x42078b[_0x1b522f(0x318)],_0x3461bf=_0x42078b['rangeMax'];for(var _0x5da878=_0x1df4a1['x']-_0x3461bf;_0x5da878<_0x1df4a1['x']+_0x1df4a1['size']+_0x3461bf;_0x5da878++)for(var _0x51239d=_0x1df4a1['y']-_0x3461bf;_0x51239d<_0x1df4a1['y']+_0x1df4a1[_0x1b522f(0x434)]+_0x3461bf;_0x51239d++)if(_0x5da878<=_0x1df4a1['x']-_0x2e7e73||_0x5da878>=_0x1df4a1['x']+_0x1df4a1[_0x1b522f(0x434)]+_0x2e7e73-0x1||_0x51239d<=_0x1df4a1['y']-_0x2e7e73||_0x51239d>=_0x1df4a1['y']+_0x1df4a1[_0x1b522f(0x434)]+_0x2e7e73-0x1){if(world['map'][_0x1b522f(0x290)][_0x5da878]&&world[_0x1b522f(0x3fe)][_0x1b522f(0x290)][_0x5da878][_0x51239d])_0x1f9456[_0x1b522f(0x346)](world[_0x1b522f(0x3fe)][_0x1b522f(0x290)][_0x5da878][_0x51239d]);}return _0x1f9456;},this[_0x41170b(0x17c)]=_0x3d64bc=>{var _0x59d48a=_0x41170b;if(!_0x3d64bc||!_0x3d64bc[_0x59d48a(0x4bc)])return undefined;var _0x3780f1=_0x3d64bc['block'];if(_0x3780f1['player']==this)return 0x0;var _0x3bd8b8;if(this['x']>=_0x3780f1['x']&&this['x']+this[_0x59d48a(0x434)]<=_0x3780f1['x'])_0x3bd8b8=0x0;else{if(this['x']<_0x3780f1['x'])_0x3bd8b8=this['x']-_0x3780f1['x'];else _0x3bd8b8=this['x']+this[_0x59d48a(0x434)]-_0x3780f1['x']-0x1;}var _0x58a2ed;if(this['y']>=_0x3780f1['y']&&this['y']+this[_0x59d48a(0x434)]<=_0x3780f1['y'])_0x58a2ed=0x0;else{if(this['x']<_0x3780f1['x'])_0x58a2ed=this['y']-_0x3780f1['y'];else _0x58a2ed=this['y']+this[_0x59d48a(0x434)]-_0x3780f1['y']-0x1;}return console['log'](_0x59d48a(0x17f)+[_0x3780f1['x'],_0x3780f1['y']]+_0x59d48a(0x21a)+Math['sqrt'](_0x3bd8b8*_0x3bd8b8+_0x58a2ed*_0x58a2ed)),Math['sqrt'](_0x3bd8b8*_0x3bd8b8+_0x58a2ed*_0x58a2ed);},this[_0x41170b(0x410)]=_0x1a0ee9=>{var _0x12feb1=_0x41170b;if(!_0x1a0ee9||!_0x1a0ee9[_0x12feb1(0x318)]||!_0x1a0ee9['rangeMax'])return[];var _0x1fd7ba=[],_0x5b66c7=this,_0x4b24d0=_0x5b66c7['x']+_0x5b66c7['size']/0x2-0.5,_0x586851=_0x5b66c7['y']+_0x5b66c7[_0x12feb1(0x434)]/0x2-0.5,_0x2b542a=_0x1a0ee9[_0x12feb1(0x318)]+_0x5b66c7[_0x12feb1(0x434)]/0x2-0.5,_0xef636b=_0x1a0ee9[_0x12feb1(0x2c3)]+_0x5b66c7['size']/0x2-0.5;for(var _0xf38377=Math[_0x12feb1(0x3a9)](_0x5b66c7['x']-_0xef636b);_0xf38377<Math[_0x12feb1(0x3a9)](_0x5b66c7['x']+_0x5b66c7['size']+_0xef636b);_0xf38377++)for(var _0x1deb99=Math[_0x12feb1(0x3a9)](_0x5b66c7['y']-_0xef636b);_0x1deb99<Math[_0x12feb1(0x3a9)](_0x5b66c7['y']+_0x5b66c7[_0x12feb1(0x434)]+_0xef636b);_0x1deb99++)if(world['map']['mapBlock'][_0xf38377]&&world[_0x12feb1(0x3fe)][_0x12feb1(0x290)][_0xf38377][_0x1deb99]&&this[_0x12feb1(0x17c)]({'block':world[_0x12feb1(0x3fe)]['mapBlock'][_0xf38377][_0x1deb99]})<=Math['round'](_0xef636b)&&this[_0x12feb1(0x17c)]({'block':world[_0x12feb1(0x3fe)][_0x12feb1(0x290)][_0xf38377][_0x1deb99]})>=Math[_0x12feb1(0x3d8)](_0x2b542a))_0x1fd7ba['push'](world[_0x12feb1(0x3fe)]['mapBlock'][_0xf38377][_0x1deb99]);return _0x1fd7ba;},this['LoadPlayerImage']=_0xfd266=>{var _0x5e57d9=_0x41170b;if(!this[_0x5e57d9(0x2eb)])this[_0x5e57d9(0x2eb)]=PLAYER_FACE_IMG[Math[_0x5e57d9(0x3d8)](Math[_0x5e57d9(0x325)]()*PLAYER_FACE_IMG[_0x5e57d9(0x179)])];if(!this[_0x5e57d9(0x36a)])this[_0x5e57d9(0x36a)]=PLAYER_BODY_IMG[Math[_0x5e57d9(0x3d8)](Math[_0x5e57d9(0x325)]()*PLAYER_BODY_IMG[_0x5e57d9(0x179)])];var _0xa45d47=[];_0xa45d47[_0x5e57d9(0x346)]({'name':this['body_type'],'needColor':!![]}),_0xa45d47[_0x5e57d9(0x346)]({'name':this['face_type'],'needColor':![]});if(this[_0x5e57d9(0x4c5)])_0xa45d47['push']({'name':this[_0x5e57d9(0x4c5)][_0x5e57d9(0x2c7)],'needColor':![]});for(var _0x17f238 in _0xa45d47)if(!_0xfd266[_0xa45d47[_0x17f238][_0x5e57d9(0x2c7)]]||!_0xfd266[_0xa45d47[_0x17f238]['name']][_0x5e57d9(0x51c)])return console[_0x5e57d9(0x3c2)]('can\x27t\x20with\x20'+_0xa45d47[_0x17f238][_0x5e57d9(0x2c7)]);var _0x130edb=document['createElement']('canvas');_0x130edb[_0x5e57d9(0x269)]=PLAYER_DEFAULT_SIZEX,_0x130edb['height']=PLAYER_DEFAULT_SIZEY;var _0x4f1075=_0x130edb['getContext']('2d');for(var _0x17f238 in _0xa45d47){var _0x2456f5=_0xa45d47[_0x17f238][_0x5e57d9(0x2c7)];if(!_0xfd266[_0x2456f5])return;var _0x396dff=undefined;if(_0xa45d47[_0x17f238]['needColor'])_0x396dff=_0xfd266[_0x2456f5][_0x5e57d9(0x413)](0x0,0xff,0x0,this[_0x5e57d9(0x307)]['r'],this['color']['g'],this[_0x5e57d9(0x307)]['b']);else _0x396dff=_0xfd266[_0x2456f5]['img'];if(!_0x396dff||!_0x396dff['complete'])return![];_0x4f1075[_0x5e57d9(0x184)](_0x396dff,0x0,0x0);}var _0x396dff=new Image();_0x396dff[_0x5e57d9(0x420)]=_0x130edb[_0x5e57d9(0x1a3)](),_0x396dff['decode']()[_0x5e57d9(0x28c)](()=>{var _0x151ba0=_0x5e57d9;console[_0x151ba0(0x3c2)]('player\x20body\x20img\x20loaded\x20and\x20ready'),this['bodyPartImgReady']=!![];if(world[_0x151ba0(0x4b4)])world[_0x151ba0(0x4b4)][_0x151ba0(0x4e2)]=!![];if(world[_0x151ba0(0x233)])world['GameUI'][_0x151ba0(0x4e2)]=!![];}),this['bodyPartImg']=_0x396dff;if(!_0xfd266[_0x5e57d9(0x4b1)]||!_0xfd266[_0x5e57d9(0x4b1)][_0x5e57d9(0x458)][_0x5e57d9(0x4e4)])return![];var _0x396dff=_0xfd266[_0x5e57d9(0x4b1)][_0x5e57d9(0x413)](0x0,0xff,0x0,this[_0x5e57d9(0x307)]['r'],this['color']['g'],this[_0x5e57d9(0x307)]['b']);if(!_0x396dff)return![];return this[_0x5e57d9(0x19b)]=_0x396dff,!![];},this[_0x41170b(0x362)]=_0x5881e7=>{var _0x17117d=_0x41170b;if(_0x5881e7[_0x17117d(0x4bc)])_0x5881e7=_0x5881e7[_0x17117d(0x4bc)];var _0x584b84=Math[_0x17117d(0x351)](-(_0x5881e7['y']-this['y']-this[_0x17117d(0x434)]/0x2+0.5),_0x5881e7['x']-this['x']-this['size']/0x2+0.5);if(_0x584b84>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0x584b84>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0x584b84>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0x584b84>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0x584b84>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0x584b84>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0x584b84>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0x584b84>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0x584b84>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x41170b(0x20d)]=_0x1b5575=>{var _0x55c83f=_0x41170b,_0x10f4f6=_0x1b5575['block'];if(!_0x10f4f6||_0x10f4f6['x']==undefined||_0x10f4f6['y']==undefined)return![];var _0x3466e7=this[_0x55c83f(0x362)](_0x10f4f6);if(_0x3466e7)this['dir']=_0x3466e7;else return![];return!![];},this['ChangePosition']=(_0x2f621a,_0x663e68)=>{var _0xed7f59=_0x41170b;for(var _0x4f76db=this['x'];_0x4f76db<this['x']+this[_0xed7f59(0x434)];_0x4f76db++)for(var _0x53ce92=this['y'];_0x53ce92<this['y']+this[_0xed7f59(0x434)];_0x53ce92++)_0x663e68[_0xed7f59(0x290)][_0x4f76db][_0x53ce92][_0xed7f59(0x3cb)]=undefined;for(var _0x4f76db=_0x2f621a['x'];_0x4f76db<_0x2f621a['x']+this[_0xed7f59(0x434)];_0x4f76db++){for(var _0x53ce92=_0x2f621a['y'];_0x53ce92<_0x2f621a['y']+this['size'];_0x53ce92++){_0x663e68[_0xed7f59(0x290)][_0x4f76db][_0x53ce92][_0xed7f59(0x3cb)]=this;}}this['x']=_0x2f621a['x'],this['y']=_0x2f621a['y'];},this[_0x41170b(0x302)]=_0x3ebb30=>{var _0x248b1c=_0x41170b;if(!_0x3ebb30||!_0x3ebb30[_0x248b1c(0x4bc)]||_0x3ebb30['block']['x']==undefined||_0x3ebb30[_0x248b1c(0x4bc)]['y']==undefined)return console[_0x248b1c(0x3c2)](_0x248b1c(0x46d)),![];var _0x47fbd4={'x':_0x3ebb30['block']['x'],'y':_0x3ebb30[_0x248b1c(0x4bc)]['y']},_0x5aac8a=world[_0x248b1c(0x3fe)];if(_0x47fbd4['x']+this[_0x248b1c(0x434)]-0x1>=_0x5aac8a[_0x248b1c(0x269)]||_0x47fbd4['x']<0x0||_0x47fbd4['y']<0x0||_0x47fbd4['y']+this[_0x248b1c(0x434)]-0x1>=_0x5aac8a[_0x248b1c(0x3f4)])return console[_0x248b1c(0x3c2)](_0x248b1c(0x4e0)),![];var _0x277e15;if(_0x47fbd4['x']==this['x']-0x1&&_0x47fbd4['y']>=this['y']&&this['y']+this[_0x248b1c(0x434)]>_0x47fbd4['y'])_0x47fbd4['y']=this['y'],_0x277e15='left';else{if(_0x47fbd4['y']==this['y']-0x1&&_0x47fbd4['x']>=this['x']&&this['x']+this[_0x248b1c(0x434)]>_0x47fbd4['x'])_0x47fbd4['x']=this['x'],_0x277e15='top';else{if(_0x47fbd4['x']==this['x']+this['size']&&_0x47fbd4['y']>=this['y']&&this['y']+this[_0x248b1c(0x434)]>_0x47fbd4['y'])_0x47fbd4['y']=this['y'],_0x47fbd4['x']=this['x']+0x1,_0x277e15=_0x248b1c(0x31f);else{if(_0x47fbd4['y']==this['y']+this[_0x248b1c(0x434)]&&_0x47fbd4['x']>=this['x']&&this['x']+this['size']>_0x47fbd4['x'])_0x47fbd4['x']=this['x'],_0x47fbd4['y']=this['y']+0x1,_0x277e15=_0x248b1c(0x192);else return console['log'](_0x248b1c(0x330)),![];}}}for(var _0x2eb590=_0x47fbd4['x'];_0x2eb590<_0x47fbd4['x']+this['size'];_0x2eb590++){for(var _0x445ca8=_0x47fbd4['y'];_0x445ca8<_0x47fbd4['y']+this['size'];_0x445ca8++){if(_0x5aac8a[_0x248b1c(0x290)][_0x2eb590][_0x445ca8][_0x248b1c(0x3cb)]&&_0x5aac8a[_0x248b1c(0x290)][_0x2eb590][_0x445ca8][_0x248b1c(0x3cb)]!=this)return console[_0x248b1c(0x3c2)](_0x248b1c(0x277)),![];}}var _0xafc194=world[_0x248b1c(0x3fe)][_0x248b1c(0x435)]({'player':this,'dir':_0x277e15});if(_0xafc194===![])return console[_0x248b1c(0x3c2)](_0x248b1c(0x46e)),![];return{'dir':_0x277e15,'cost':Math[_0x248b1c(0x3d8)](_0xafc194*this[_0x248b1c(0x3e4)])};},this['GetMovePrice']=_0x24f1a6=>{var _0x5e773e=_0x41170b,_0x36405b=this[_0x5e773e(0x302)](_0x24f1a6);if(_0x36405b)return _0x36405b[_0x5e773e(0x18b)];return![];},this[_0x41170b(0x256)]=_0x379804=>{var _0x260e0b=_0x41170b,_0x52bd95=this[_0x260e0b(0x302)](_0x379804);if(_0x52bd95)return _0x52bd95[_0x260e0b(0x3ed)];return![];},this['TryMoveTo']=_0xba6dc4=>{var _0x3875e9=_0x41170b;if(!_0xba6dc4||!_0xba6dc4[_0x3875e9(0x4bc)]||_0xba6dc4[_0x3875e9(0x4bc)]['x']==undefined||_0xba6dc4['block']['y']==undefined)return![];var _0x51ce39=this[_0x3875e9(0x302)](_0xba6dc4);if(_0x51ce39===![]||_0x51ce39[_0x3875e9(0x18b)]>this[_0x3875e9(0x309)])return![];var _0x32ea19=undefined;switch(_0x51ce39[_0x3875e9(0x3ed)]){case'right':_0x32ea19=[0x1,0x0];break;case'left':_0x32ea19=[-0x1,0x0];break;case _0x3875e9(0x36d):_0x32ea19=[0x0,-0x1];break;case _0x3875e9(0x192):_0x32ea19=[0x0,0x1];break;default:console[_0x3875e9(0x3c2)](_0x3875e9(0x330));return![];}this[_0x3875e9(0x309)]-=_0x51ce39[_0x3875e9(0x18b)];var _0x2d223a={'type':_0x3875e9(0x2b8),'mode':PLAYER_ANIMATION_MOVING,'dir':_0x32ea19,'from':[this['x'],this['y']],'duration':0x1f4};this[_0x3875e9(0x416)][_0x3875e9(0x346)](_0x2d223a),this[_0x3875e9(0x3ed)]=_0x32ea19;var _0x1a2dab={'x':this['x']+_0x32ea19[0x0],'y':this['y']+_0x32ea19[0x1]};return this['ChangePosition'](_0x1a2dab,world[_0x3875e9(0x3fe)]),!![];},this[_0x41170b(0x2f8)]=_0x3bbaee=>{var _0x2068c8=_0x41170b;if(!_0x3bbaee||!_0x3bbaee[_0x2068c8(0x4bc)])return _0x2068c8(0x4fb);var _0x49dda6=_0x3bbaee[_0x2068c8(0x4bc)];if(!_0x49dda6[_0x2068c8(0x3cb)]||_0x49dda6[_0x2068c8(0x3cb)]==this)return _0x2068c8(0x398);var _0x532e92=_0x49dda6[_0x2068c8(0x3cb)],_0x472100=Math[_0x2068c8(0x351)](_0x532e92['dir'][0x1],_0x532e92[_0x2068c8(0x3ed)][0x0]),_0x14a55d=Math[_0x2068c8(0x351)](this['y']-_0x532e92['y'],this['x']-_0x532e92['x']),_0x249c5b=_0x472100-_0x14a55d;while(_0x249c5b>Math['PI'])_0x249c5b-=0x2*Math['PI'];while(_0x249c5b<-Math['PI'])_0x249c5b+=0x2*Math['PI'];_0x249c5b=Math[_0x2068c8(0x3dd)](_0x249c5b);var _0x19f0f1=0x28+(0x50-0x28)*(_0x249c5b/Math['PI']);return Math[_0x2068c8(0x3d8)](_0x19f0f1*0x64)/0x64;},this['attack']=_0x67b385=>{var _0x5d111e=_0x41170b;if(!_0x67b385||!_0x67b385[_0x5d111e(0x4bc)])return![];var _0x3309cc=undefined,_0x576285=[];if(this['weapon']){if(this[_0x5d111e(0x309)]<this[_0x5d111e(0x45d)][_0x5d111e(0x4f1)])return![];world['players'][_0x5d111e(0x40d)][_0x5d111e(0x4f8)]({'type':this[_0x5d111e(0x31a)],'txt':this[_0x5d111e(0x2c7)]+_0x5d111e(0x35a)+this['weapon'][_0x5d111e(0x2c7)]});for(var _0x195108 in this[_0x5d111e(0x45d)][_0x5d111e(0x222)]){var _0x3e4bbd=this[_0x5d111e(0x45d)][_0x5d111e(0x222)][_0x195108],_0x3dea0a={..._0x67b385};_0x3dea0a[_0x5d111e(0x522)]=_0x3e4bbd['callback_data'];var _0x33172b=this[_0x3e4bbd['callback']](_0x3dea0a);console[_0x5d111e(0x3c2)](_0x5d111e(0x426)+_0x195108),console[_0x5d111e(0x3c2)](_0x5d111e(0x23b)+_0x3e4bbd['callback']);if(!_0x33172b||_0x33172b['length']<0x1)continue;console[_0x5d111e(0x3c2)](_0x5d111e(0x489)+_0x33172b[_0x5d111e(0x179)]),_0x576285[_0x5d111e(0x346)]({'blocks':_0x33172b,'damage':_0x3e4bbd[_0x5d111e(0x350)]});}}else{if(this['ActionPoint']<AP_COST_NOWEAPON)return![];world[_0x5d111e(0x4ca)]['MessageSystem']['addMessage']({'type':this[_0x5d111e(0x31a)],'txt':this[_0x5d111e(0x2c7)]+'\x20is\x20attacking\x20(no\x20weapon)'}),_0x576285=[{'blocks':[_0x67b385[_0x5d111e(0x4bc)]],'damage':[{'stats':_0x5d111e(0x162),'type':'crushing','value':0x1}]}];}for(var _0x195108 in _0x576285){var _0x32ddc2=_0x576285[_0x195108],_0x38547f=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x32ddc2[_0x5d111e(0x3f7)]}),_0x5df86f=!![];if(!_0x38547f||_0x38547f[_0x5d111e(0x179)]<0x1)continue;for(var _0x26b531 in _0x32ddc2[_0x5d111e(0x2c1)]){var _0x1c8405=_0x32ddc2[_0x5d111e(0x2c1)][_0x26b531];if(!_0x1c8405||!_0x1c8405[_0x5d111e(0x3cb)])continue;var _0x450bdf=this[_0x5d111e(0x2f8)]({'block':_0x1c8405}),_0x2d1bc4=!![];if(Math['floor'](Math[_0x5d111e(0x325)]()*0x64)>_0x450bdf)_0x2d1bc4=![];if(_0x2d1bc4)_0x5df86f=![],_0x1c8405[_0x5d111e(0x3cb)][_0x5d111e(0x1a5)](_0x38547f);else{world[_0x5d111e(0x4ca)][_0x5d111e(0x40d)]['addMessage']({'txt':this['name']+_0x5d111e(0x29d)+_0x450bdf+'%)'});var _0x4df0e0={'type':'dodge','mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x5d111e(0x325)]()*0x2*Math['PI']};_0x1c8405[_0x5d111e(0x3cb)][_0x5d111e(0x416)][_0x5d111e(0x346)](_0x4df0e0);}}}var _0x5792c2={'type':_0x5d111e(0x3c6),'mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0x67b385[_0x5d111e(0x4bc)]['x'],_0x67b385['block']['y']],'from':[this['x'],this['y']],'duration':0x1f4};this['weapon']&&this[_0x5d111e(0x45d)][_0x5d111e(0x2ef)]&&(_0x5792c2[_0x5d111e(0x2ef)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0x67b385[_0x5d111e(0x4bc)]['x']+0.5,'y':_0x67b385[_0x5d111e(0x4bc)]['y']+0.5},'projectilName':this[_0x5d111e(0x45d)]['projectil'][_0x5d111e(0x406)]?this[_0x5d111e(0x45d)]['projectil']['ammo']:undefined,'projectilSpeed':this[_0x5d111e(0x45d)]['projectil'][_0x5d111e(0x515)]?this[_0x5d111e(0x45d)][_0x5d111e(0x2ef)][_0x5d111e(0x515)]:0x32,'sound':this[_0x5d111e(0x45d)]['projectil'][_0x5d111e(0x3c4)]&&!_0x5df86f?this[_0x5d111e(0x45d)][_0x5d111e(0x2ef)][_0x5d111e(0x3c4)]:undefined});this[_0x5d111e(0x416)][_0x5d111e(0x346)](_0x5792c2);if(this[_0x5d111e(0x45d)]){var _0x30fe82=PLAYER_WEAPON_IMG['find'](_0x3e701a=>_0x3e701a[_0x5d111e(0x2c7)]==this[_0x5d111e(0x45d)][_0x5d111e(0x458)]);world[_0x5d111e(0x182)][_0x5d111e(0x3eb)](_0x30fe82[_0x5d111e(0x3c4)]),this[_0x5d111e(0x309)]-=this[_0x5d111e(0x45d)][_0x5d111e(0x4f1)];}else world['Music'][_0x5d111e(0x3eb)](_0x5d111e(0x454)),this[_0x5d111e(0x309)]-=AP_COST_NOWEAPON;return this['dir']=this[_0x5d111e(0x362)](_0x67b385['block']),!![];},this['drawPlayer']=(_0x252270,_0x1744bf,_0x214c05,_0x24c07f)=>{var _0x702049=_0x41170b,_0x94f07b=new Date()[_0x702049(0x1e0)]();while(this['animation']&&this['animation'][0x0]){!this[_0x702049(0x416)][0x0][_0x702049(0x3ee)]&&(this['animation'][0x0][_0x702049(0x3ee)]=new Date()[_0x702049(0x1e0)]());if(_0x94f07b>this[_0x702049(0x416)][0x0][_0x702049(0x3ee)]+this['animation'][0x0][_0x702049(0x3ef)]){if(this['animation'][0x0][_0x702049(0x2ef)])world[_0x702049(0x4ca)][_0x702049(0x3a4)](this['animation'][0x0][_0x702049(0x2ef)]);this[_0x702049(0x416)][_0x702049(0x2ec)](),this[_0x702049(0x2ca)]=!![];}else break;}if(!this['bodyPartImgReady']||!this[_0x702049(0x252)])return![];if(this[_0x702049(0x45d)]){var _0x4c71bf=world[_0x702049(0x167)][this[_0x702049(0x45d)][_0x702049(0x2c7)]],_0x59311f=PLAYER_WEAPON_IMG[_0x702049(0x2ea)](_0x5bc4bb=>_0x5bc4bb[_0x702049(0x2c7)]==this['weapon'][_0x702049(0x458)]);if(!_0x4c71bf||!_0x59311f)return console['log'](_0x702049(0x164)+this[_0x702049(0x45d)][_0x702049(0x2c7)]);_0x59311f=_0x59311f[_0x702049(0x4ee)];}if(!this[_0x702049(0x416)]||!this['animation'][0x0]){var _0x5acaf9=Math[_0x702049(0x3d8)](_0x1744bf+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x467)]/0x2),_0x485397=Math[_0x702049(0x3d8)](_0x214c05+this['size']*_0x24c07f[_0x702049(0x1a6)]/0x2),_0x470a52=Math[_0x702049(0x351)](this[_0x702049(0x3ed)][0x0],-this[_0x702049(0x3ed)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math['cos'](_0x94f07b/0x1f4));_0x252270[_0x702049(0x204)](this['bodyPartImg'],_0x5acaf9,_0x485397,_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x470a52);var _0xb17f63=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x702049(0x3d6)](_0x94f07b/0x12c)),_0x1d2672=Math['floor'](0x64*_0x24c07f[_0x702049(0x402)]*this['size']*Math['cos'](_0xb17f63+_0x470a52-Math['PI']/0x2)),_0x3ee8e8=Math['floor'](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math['sin'](_0xb17f63+_0x470a52-Math['PI']/0x2)),_0x57058e=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](-_0xb17f63+_0x470a52+Math['PI']/0x2)),_0x161d56=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x153)](-_0xb17f63+_0x470a52+Math['PI']/0x2));_0x252270[_0x702049(0x204)](this[_0x702049(0x19b)],_0x5acaf9+_0x1d2672,_0x485397+_0x3ee8e8,_0x24c07f[_0x702049(0x402)],_0xb17f63+_0x470a52);if(this[_0x702049(0x45d)])_0x252270['drawImageRotateCenter'](_0x4c71bf['img'],_0x5acaf9+_0x57058e,_0x485397+_0x161d56,_0x59311f['x'],_0x59311f['y'],_0x24c07f[_0x702049(0x402)],-_0xb17f63+_0x470a52);_0x252270[_0x702049(0x328)](this[_0x702049(0x19b)],_0x5acaf9+_0x57058e,_0x485397+_0x161d56,0x14,0x14,-_0x24c07f['scale'],+_0xb17f63-_0x470a52);}else{if(this[_0x702049(0x416)]&&this['animation'][0x0]&&this[_0x702049(0x416)][0x0][_0x702049(0x418)]==PLAYER_ANIMATION_MOVING){var _0x146ab9=this['animation'][0x0];pos=_0x24c07f[_0x702049(0x46a)](_0x146ab9[_0x702049(0x1a7)][0x0]+_0x146ab9[_0x702049(0x3ed)][0x0],_0x146ab9[_0x702049(0x1a7)][0x1]+_0x146ab9[_0x702049(0x3ed)][0x1]);var _0x5acaf9=Math[_0x702049(0x3d8)](pos['x']+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x467)]/0x2),_0x485397=Math[_0x702049(0x3d8)](pos['y']+this[_0x702049(0x434)]*_0x24c07f['blocksize_y']/0x2);world[_0x702049(0x182)]['playSound']('move');var _0x3ce319=[this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x0],this[_0x702049(0x416)][0x0]['dir'][0x1]],_0x53255f=0x1-(_0x94f07b-this[_0x702049(0x416)][0x0]['startTime'])/this[_0x702049(0x416)][0x0]['duration'];_0x5acaf9-=_0x3ce319[0x0]*_0x24c07f[_0x702049(0x467)]*_0x53255f,_0x485397-=_0x3ce319[0x1]*_0x24c07f['blocksize_y']*_0x53255f;var _0x470a52=Math['atan2'](_0x3ce319[0x0],-_0x3ce319[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math[_0x702049(0x3d6)](_0x94f07b/0x64));_0x252270['drawImageRotate'](this[_0x702049(0x252)],_0x5acaf9,_0x485397,_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x470a52);var _0x3ad877=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x702049(0x3d6)](_0x94f07b/0x64))+_0x470a52,_0x34ec81=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x702049(0x153)](_0x94f07b/0x64))-_0x470a52,_0x1d2672=Math['floor'](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0x3ad877-Math['PI']/0x2)),_0x3ee8e8=Math['floor'](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x3ad877-Math['PI']/0x2)),_0x5b4065=Math['floor'](0x64*_0x24c07f['scale']*this['size']*Math[_0x702049(0x3d6)](_0x34ec81-Math['PI']/0x2)),_0x360b6a=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x34ec81-Math['PI']/0x2));_0x252270[_0x702049(0x204)](this['handImg'],_0x5acaf9+_0x1d2672,_0x485397+_0x3ee8e8,_0x24c07f[_0x702049(0x402)],_0x3ad877);if(this[_0x702049(0x45d)])_0x252270['drawImageRotateCenter'](_0x4c71bf[_0x702049(0x458)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,_0x59311f['x'],_0x59311f['y'],_0x24c07f['scale'],-_0x34ec81);_0x252270[_0x702049(0x328)](this[_0x702049(0x19b)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,0x14,0x14,_0x24c07f[_0x702049(0x402)],_0x34ec81+Math['PI']);}else{if(this[_0x702049(0x416)]&&this[_0x702049(0x416)][0x0]&&this[_0x702049(0x416)][0x0][_0x702049(0x418)]==PLAYER_ANIMATION_DODGE){var _0x146ab9=this[_0x702049(0x416)][0x0],_0x53255f=0x1-(_0x94f07b-_0x146ab9['startTime'])/_0x146ab9[_0x702049(0x3ef)];_0x53255f=_0x53255f<0.5?0x0:_0x53255f>0.75?0x1-(_0x53255f-0.5)*0x2:(_0x53255f-0.5)*0x2;var _0x102810=_0x53255f*Math[_0x702049(0x3d6)](_0x146ab9[_0x702049(0x4f2)])*0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x2e4c43=_0x53255f*Math[_0x702049(0x153)](_0x146ab9[_0x702049(0x4f2)])*0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x5acaf9=_0x102810+Math[_0x702049(0x3d8)](_0x1744bf+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x467)]/0x2),_0x485397=_0x2e4c43+Math[_0x702049(0x3d8)](_0x214c05+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x1a6)]/0x2),_0x470a52=Math[_0x702049(0x351)](this[_0x702049(0x3ed)][0x0],-this['dir'][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x702049(0x3d6)](_0x94f07b/0x1f4));_0x252270[_0x702049(0x204)](this[_0x702049(0x252)],_0x5acaf9,_0x485397,_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x470a52);var _0xb17f63=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x702049(0x3d6)](_0x94f07b/0x12c)),_0x1d2672=Math['floor'](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0xb17f63+_0x470a52-Math['PI']/0x2)),_0x3ee8e8=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this['size']*Math[_0x702049(0x153)](_0xb17f63+_0x470a52-Math['PI']/0x2)),_0x57058e=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](-_0xb17f63+_0x470a52+Math['PI']/0x2)),_0x161d56=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x153)](-_0xb17f63+_0x470a52+Math['PI']/0x2));_0x252270[_0x702049(0x204)](this[_0x702049(0x19b)],_0x5acaf9+_0x1d2672,_0x485397+_0x3ee8e8,_0x24c07f['scale'],_0xb17f63+_0x470a52);if(this[_0x702049(0x45d)])_0x252270[_0x702049(0x34e)](_0x4c71bf[_0x702049(0x458)],_0x5acaf9+_0x57058e,_0x485397+_0x161d56,_0x59311f['x'],_0x59311f['y'],_0x24c07f[_0x702049(0x402)],-_0xb17f63+_0x470a52);_0x252270['drawImageMirrorRotateCenter'](this['handImg'],_0x5acaf9+_0x57058e,_0x485397+_0x161d56,0x14,0x14,-_0x24c07f[_0x702049(0x402)],+_0xb17f63-_0x470a52);}else{if(this['animation']&&this['animation'][0x0]&&this[_0x702049(0x416)][0x0][_0x702049(0x418)]==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this['weapon']){pos=_0x24c07f[_0x702049(0x46a)](this[_0x702049(0x416)][0x0][_0x702049(0x1a7)][0x0],this[_0x702049(0x416)][0x0][_0x702049(0x1a7)][0x1]);var _0x5acaf9=Math[_0x702049(0x3d8)](pos['x']+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x467)]/0x2),_0x485397=Math['floor'](pos['y']+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x1a6)]/0x2),_0x3ce319=[this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x53255f=0x1-(_0x94f07b-this[_0x702049(0x416)][0x0][_0x702049(0x3ee)])/this[_0x702049(0x416)][0x0][_0x702049(0x3ef)];if(_0x53255f>0.5)_0x53255f=0x1-_0x53255f;_0x5acaf9+=_0x3ce319[0x0]*_0x24c07f[_0x702049(0x467)]*_0x53255f,_0x485397+=_0x3ce319[0x1]*_0x24c07f['blocksize_y']*_0x53255f;var _0x470a52=Math[_0x702049(0x351)](_0x3ce319[0x0],-_0x3ce319[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x702049(0x3d6)](_0x94f07b/0x64));_0x252270[_0x702049(0x204)](this[_0x702049(0x252)],_0x5acaf9,_0x485397,_0x24c07f['scale']*this['size'],_0x470a52);var _0x3ad877=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x702049(0x3d6)](_0x94f07b/0x64))+_0x470a52,_0x34ec81=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math['sin'](_0x94f07b/0x64))-_0x470a52,_0x1d2672=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this['size']*Math[_0x702049(0x3d6)](_0x3ad877-Math['PI']/0x2)),_0x3ee8e8=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x3ad877-Math['PI']/0x2)),_0x5b4065=Math['floor'](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math['cos'](_0x34ec81-Math['PI']/0x2)),_0x360b6a=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x34ec81-Math['PI']/0x2));_0x252270[_0x702049(0x204)](this[_0x702049(0x19b)],_0x5acaf9+_0x1d2672,_0x485397+_0x3ee8e8,_0x24c07f[_0x702049(0x402)],_0x3ad877),_0x252270['drawImageMirrorRotateCenter'](this[_0x702049(0x19b)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,0x14,0x14,_0x24c07f[_0x702049(0x402)],_0x34ec81+Math['PI']);}else{if(this[_0x702049(0x45d)][_0x702049(0x341)]=='sword'){pos=_0x24c07f['get_pixel_by_block'](this['animation'][0x0][_0x702049(0x1a7)][0x0],this[_0x702049(0x416)][0x0]['from'][0x1]);var _0x5acaf9=Math[_0x702049(0x3d8)](pos['x']+this['size']*_0x24c07f['blocksize_x']/0x2),_0x485397=Math['floor'](pos['y']+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x1a6)]/0x2),_0x3ce319=[this['animation'][0x0]['dir'][0x0]-(this['x']+this[_0x702049(0x434)]/0x2)+0.5,this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x53255f=0x1-(_0x94f07b-this['animation'][0x0]['startTime'])/this[_0x702049(0x416)][0x0][_0x702049(0x3ef)];if(_0x53255f>0.5)_0x53255f=0x1-_0x53255f;_0x5acaf9+=_0x3ce319[0x0]*_0x24c07f[_0x702049(0x467)]*_0x53255f,_0x485397+=_0x3ce319[0x1]*_0x24c07f[_0x702049(0x1a6)]*_0x53255f;var _0x470a52=Math['atan2'](_0x3ce319[0x0],-_0x3ce319[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x702049(0x3d6)](_0x94f07b/0x64));_0x252270['drawImageRotate'](this[_0x702049(0x252)],_0x5acaf9,_0x485397,_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x470a52);var _0x3ad877=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x702049(0x3d6)](_0x94f07b/0x64))+_0x470a52,_0x34ec81=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x702049(0x153)](_0x94f07b/0x64))-_0x470a52,_0x1d2672=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this['size']*Math[_0x702049(0x3d6)](_0x3ad877-Math['PI']/0x2)),_0x3ee8e8=Math['floor'](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math['sin'](_0x3ad877-Math['PI']/0x2)),_0x5b4065=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0x34ec81-Math['PI']/0x2)),_0x360b6a=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this['size']*Math[_0x702049(0x153)](_0x34ec81-Math['PI']/0x2));_0x252270[_0x702049(0x204)](this[_0x702049(0x19b)],_0x5acaf9+_0x1d2672,_0x485397+_0x3ee8e8,_0x24c07f['scale'],_0x3ad877);if(this[_0x702049(0x45d)])_0x252270[_0x702049(0x34e)](_0x4c71bf[_0x702049(0x458)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,_0x59311f['x'],_0x59311f['y'],_0x24c07f[_0x702049(0x402)],-_0x34ec81);_0x252270['drawImageMirrorRotateCenter'](this[_0x702049(0x19b)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,0x14,0x14,_0x24c07f[_0x702049(0x402)],_0x34ec81+Math['PI']);}else{if(this[_0x702049(0x45d)][_0x702049(0x341)]==_0x702049(0x3b4)){pos=_0x24c07f[_0x702049(0x46a)](this[_0x702049(0x416)][0x0]['from'][0x0],this['animation'][0x0]['from'][0x1]);var _0x5acaf9=Math['floor'](pos['x']+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x467)]/0x2),_0x485397=Math[_0x702049(0x3d8)](pos['y']+this[_0x702049(0x434)]*_0x24c07f['blocksize_y']/0x2),_0x3ce319=[this[_0x702049(0x416)][0x0]['dir'][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x1]-(this['y']+this[_0x702049(0x434)]/0x2)+0.5],_0x53255f=0x1-(_0x94f07b-this['animation'][0x0]['startTime'])/this[_0x702049(0x416)][0x0][_0x702049(0x3ef)];if(_0x53255f>0.5)_0x53255f=0x1-_0x53255f;var _0x470a52=Math[_0x702049(0x351)](_0x3ce319[0x0],-_0x3ce319[0x1])-Math['PI']/0x2;_0x252270['drawImageRotate'](this[_0x702049(0x252)],_0x5acaf9,_0x485397,_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x470a52);var _0x3ad877=Math['PI']*0x7/0x10+_0x470a52,_0x34ec81=Math['PI']*0x7/0x10-_0x470a52,_0x1d2672=Math[_0x702049(0x3d8)](0x64*(0x1-_0x53255f)*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0x3ad877-Math['PI']/0x2)),_0x3ee8e8=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x3ad877-Math['PI']/0x2)),_0x5b4065=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0x34ec81-Math['PI']/0x2)),_0x360b6a=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x34ec81-Math['PI']/0x2));_0x252270[_0x702049(0x204)](this[_0x702049(0x19b)],_0x5acaf9+_0x1d2672,_0x485397+_0x3ee8e8,_0x24c07f[_0x702049(0x402)],_0x3ad877);if(this[_0x702049(0x45d)])_0x252270[_0x702049(0x34e)](_0x4c71bf[_0x702049(0x458)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,_0x59311f['x'],_0x59311f['y'],_0x24c07f[_0x702049(0x402)],-_0x34ec81);_0x252270['drawImageMirrorRotateCenter'](this[_0x702049(0x19b)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,0x14,0x14,_0x24c07f[_0x702049(0x402)],_0x34ec81+Math['PI']);}else{if(this[_0x702049(0x45d)][_0x702049(0x341)]==_0x702049(0x4dc)){pos=_0x24c07f[_0x702049(0x46a)](this[_0x702049(0x416)][0x0][_0x702049(0x1a7)][0x0],this[_0x702049(0x416)][0x0][_0x702049(0x1a7)][0x1]);var _0x5acaf9=Math[_0x702049(0x3d8)](pos['x']+this[_0x702049(0x434)]*_0x24c07f['blocksize_x']/0x2),_0x485397=Math[_0x702049(0x3d8)](pos['y']+this[_0x702049(0x434)]*_0x24c07f['blocksize_y']/0x2),_0x3ce319=[this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x0]-(this['x']+this[_0x702049(0x434)]/0x2)+0.5,this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x1]-(this['y']+this[_0x702049(0x434)]/0x2)+0.5],_0x53255f=0x1-(_0x94f07b-this['animation'][0x0][_0x702049(0x3ee)])/this[_0x702049(0x416)][0x0]['duration'];if(_0x53255f>0.5)_0x53255f=0x1-_0x53255f;_0x53255f=_0x53255f/0x3,_0x5acaf9+=_0x3ce319[0x0]*_0x24c07f['blocksize_x']*_0x53255f,_0x485397+=_0x3ce319[0x1]*_0x24c07f[_0x702049(0x1a6)]*_0x53255f;var _0x470a52=Math[_0x702049(0x351)](_0x3ce319[0x0],-_0x3ce319[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x702049(0x3d6)](_0x94f07b/0x64));_0x252270['drawImageRotate'](this['bodyPartImg'],_0x5acaf9,_0x485397,_0x24c07f[_0x702049(0x402)]*this['size'],_0x470a52);var _0x3ad877=getAngleFromTime(0x0,Math['PI']/0x40,Math['cos'](_0x94f07b/0x64))+_0x470a52,_0x34ec81=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math[_0x702049(0x153)]((_0x94f07b-this[_0x702049(0x416)][0x0][_0x702049(0x3ee)])/this[_0x702049(0x416)][0x0][_0x702049(0x3ef)]*1.1*Math['PI']))-_0x470a52,_0x1d2672=Math['floor'](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0x3ad877-Math['PI']/0x2)),_0x3ee8e8=Math[_0x702049(0x3d8)](0x64*_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x3ad877-Math['PI']/0x2)),_0x5b4065=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0x34ec81-Math['PI']/0x2)),_0x360b6a=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x34ec81-Math['PI']/0x2));_0x252270[_0x702049(0x204)](this[_0x702049(0x19b)],_0x5acaf9+_0x1d2672,_0x485397+_0x3ee8e8,_0x24c07f[_0x702049(0x402)],_0x3ad877);if(this[_0x702049(0x45d)])_0x252270['drawImageRotateCenter'](_0x4c71bf[_0x702049(0x458)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,_0x59311f['x'],_0x59311f['y'],_0x24c07f[_0x702049(0x402)],_0x470a52-Math['PI']/0x6);_0x252270[_0x702049(0x328)](this[_0x702049(0x19b)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,0x14,0x14,_0x24c07f[_0x702049(0x402)],_0x34ec81+Math['PI']);}else{if(this[_0x702049(0x45d)][_0x702049(0x341)]=='sword_2h'){pos=_0x24c07f[_0x702049(0x46a)](this[_0x702049(0x416)][0x0][_0x702049(0x1a7)][0x0],this['animation'][0x0]['from'][0x1]);var _0x5acaf9=Math[_0x702049(0x3d8)](pos['x']+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x467)]/0x2),_0x485397=Math[_0x702049(0x3d8)](pos['y']+this[_0x702049(0x434)]*_0x24c07f[_0x702049(0x1a6)]/0x2),_0x3ce319=[this[_0x702049(0x416)][0x0]['dir'][0x0]-(this['x']+this[_0x702049(0x434)]/0x2)+0.5,this[_0x702049(0x416)][0x0][_0x702049(0x3ed)][0x1]-(this['y']+this[_0x702049(0x434)]/0x2)+0.5],_0x53255f=0x1-(_0x94f07b-this['animation'][0x0][_0x702049(0x3ee)])/this[_0x702049(0x416)][0x0][_0x702049(0x3ef)];if(_0x53255f>0.5)_0x53255f=0x1-_0x53255f;_0x53255f=_0x53255f/0x3,_0x5acaf9+=_0x3ce319[0x0]*_0x24c07f[_0x702049(0x467)]*_0x53255f,_0x485397+=_0x3ce319[0x1]*_0x24c07f[_0x702049(0x1a6)]*_0x53255f;var _0x470a52=Math['atan2'](_0x3ce319[0x0],-_0x3ce319[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math[_0x702049(0x3d6)]((_0x94f07b-this[_0x702049(0x416)][0x0][_0x702049(0x3ee)])/this[_0x702049(0x416)][0x0][_0x702049(0x3ef)]*0x1*Math['PI']));_0x252270[_0x702049(0x204)](this[_0x702049(0x252)],_0x5acaf9,_0x485397,_0x24c07f[_0x702049(0x402)]*this[_0x702049(0x434)],_0x470a52);var _0x34ec81=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math[_0x702049(0x3d6)]((_0x94f07b-this[_0x702049(0x416)][0x0][_0x702049(0x3ee)])/this[_0x702049(0x416)][0x0][_0x702049(0x3ef)]*0x1*Math['PI']))-_0x470a52,_0x3ad877=_0x34ec81-Math['PI']/0x20,_0x1d2672=Math['floor'](0x64*_0x24c07f[_0x702049(0x402)]*this['size']*Math['cos'](_0x3ad877-Math['PI']/0x2)),_0x3ee8e8=Math['floor'](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x153)](_0x3ad877-Math['PI']/0x2)),_0x5b4065=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this[_0x702049(0x434)]*Math[_0x702049(0x3d6)](_0x34ec81-Math['PI']/0x2)),_0x360b6a=Math[_0x702049(0x3d8)](0x64*_0x24c07f['scale']*this['size']*Math['sin'](_0x34ec81-Math['PI']/0x2));_0x252270[_0x702049(0x328)](this[_0x702049(0x19b)],_0x5acaf9+_0x1d2672,_0x485397-_0x3ee8e8,0x14,0x14,_0x24c07f[_0x702049(0x402)],_0x3ad877+Math['PI']);if(this['weapon'])_0x252270['drawImageRotateCenter'](_0x4c71bf[_0x702049(0x458)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,_0x59311f['x'],_0x59311f['y'],_0x24c07f['scale'],-_0x34ec81);_0x252270[_0x702049(0x328)](this[_0x702049(0x19b)],_0x5acaf9+_0x5b4065,_0x485397-_0x360b6a,0x14,0x14,_0x24c07f[_0x702049(0x402)],_0x34ec81+Math['PI']);}}}}}}}}}},this['get_next_path']=(_0x4cc1d6,_0x490d93)=>{var _0x34684a=_0x41170b;if(!_0x4cc1d6||!_0x490d93||_0x4cc1d6[_0x34684a(0x179)]>0xc8)return undefined;var _0xf7fc85=_0x4cc1d6[_0x4cc1d6[_0x34684a(0x179)]-0x1];console['log']('i\x20am\x20in\x20'+[_0xf7fc85['x'],_0xf7fc85['y']]);if(_0xf7fc85['x']==_0x490d93['x']&&_0xf7fc85['y']==_0x490d93['y'])return _0x4cc1d6;var _0x517181=[{'x':_0xf7fc85['x']+0x1,'y':_0xf7fc85['y']},{'x':_0xf7fc85['x']-0x1,'y':_0xf7fc85['y']},{'x':_0xf7fc85['x'],'y':_0xf7fc85['y']-0x1},{'x':_0xf7fc85['x'],'y':_0xf7fc85['y']+0x1}];_0x517181=_0x517181['sort']((_0x4ab771,_0x580491)=>{return dist(_0x4ab771['x'],_0x4ab771['y'],_0x490d93['x'],_0x490d93['y'])-dist(_0x580491['x'],_0x580491['y'],_0x490d93['x'],_0x490d93['y']);});for(var _0x1e5ae2 in _0x517181){var _0xc855a7=_0x517181[_0x1e5ae2]['x'],_0x2a1b79=_0x517181[_0x1e5ae2]['y'];console[_0x34684a(0x3c2)](_0x34684a(0x4d7)+[_0xc855a7,_0x2a1b79]+'?');var _0x47789b=![];for(var _0x274fa1 in _0x4cc1d6)if(_0x4cc1d6[_0x274fa1]['x']==_0xc855a7&&_0x4cc1d6[_0x274fa1]['y']==_0x2a1b79)_0x47789b=!![];if(_0x47789b)continue;if(!world[_0x34684a(0x3fe)][_0x34684a(0x290)][_0xc855a7]||!world['map'][_0x34684a(0x290)][_0xc855a7][_0x2a1b79])continue;var _0x2ad034=world[_0x34684a(0x3fe)][_0x34684a(0x290)][_0xc855a7][_0x2a1b79];if(_0x2ad034['player']&&!(_0x490d93['x']==_0x2ad034['x']&&_0x490d93['y']==_0x2ad034['y'])||!_0x2ad034[_0x34684a(0x203)]())continue;console[_0x34684a(0x3c2)](_0x34684a(0x345));var _0x49227d=this[_0x34684a(0x191)](_0x4cc1d6[_0x34684a(0x3a5)]([_0x517181[_0x1e5ae2]]),_0x490d93);if(_0x49227d)return _0x49227d;}return console[_0x34684a(0x3c2)](_0x34684a(0x3bd)),undefined;},this['playAIturn']=()=>{var _0x134d9e=_0x41170b;console[_0x134d9e(0x3c2)](this[_0x134d9e(0x2c7)]+'\x20AI\x20is\x20playing');var _0x2f3b4f=this['capacityList'][_0x134d9e(0x2ea)](_0x4261d2=>_0x4261d2[_0x134d9e(0x2c7)]==_0x134d9e(0x178)),_0x26c11a=_0x2f3b4f[_0x134d9e(0x168)](_0x2f3b4f['zone_selecting_input']);_0x26c11a=_0x26c11a[_0x134d9e(0x2ea)](_0x453547=>_0x453547[_0x134d9e(0x3cb)]&&_0x453547[_0x134d9e(0x3cb)][_0x134d9e(0x31a)]!=this[_0x134d9e(0x31a)]);if(this[_0x134d9e(0x3c6)]({'block':_0x26c11a}))return![];var _0xa200f=world[_0x134d9e(0x4ca)][_0x134d9e(0x3ab)][_0x134d9e(0x368)](_0x10ded3=>_0x10ded3[_0x134d9e(0x31a)]!=this[_0x134d9e(0x31a)]);if(!_0xa200f||_0xa200f[_0x134d9e(0x179)]<0x1)return!![];var _0x33a464=_0xa200f[_0x134d9e(0x506)]((_0x2c87c4,_0x1801d8)=>{return dist(this['x'],this['y'],_0x2c87c4['x'],_0x2c87c4['y'])-dist(this['x'],this['y'],_0x1801d8['x'],_0x1801d8['y']);})[0x0];if(!this['AI'][_0x134d9e(0x1e2)]||this['AI'][_0x134d9e(0x1e2)][_0x134d9e(0x179)]<0xa||dist(this['x'],this['y'],_0x33a464['x'],_0x33a464['y'])<0x5)this['AI']['path']=this['get_next_path']([{'x':this['x'],'y':this['y']}],_0x33a464);var _0x304948=this['AI'][_0x134d9e(0x1e2)];if(_0x304948&&_0x304948[_0x134d9e(0x179)]>0x1)_0x304948=_0x304948[0x1];if(this['TryMoveTo']({'block':world[_0x134d9e(0x3fe)][_0x134d9e(0x290)][_0x304948['x']][_0x304948['y']]}))return this['AI'][_0x134d9e(0x1e2)]['shift'](),![];return!![];};},PLAYER_FACE_IMG=['face_0','face_1',_0x4113ca(0x436),_0x4113ca(0x37d),_0x4113ca(0x22e)],PLAYER_BODY_IMG=[_0x4113ca(0x1d2),_0x4113ca(0x44a),_0x4113ca(0x1bb),'body_3',_0x4113ca(0x24a)],PROJECTIL_IMG=[_0x4113ca(0x358)],PlayersManager=function(_0x24b1e3){var _0x1d5eb3=_0x4113ca;this[_0x1d5eb3(0x3ab)]=[],this[_0x1d5eb3(0x167)]=undefined,this[_0x1d5eb3(0x20c)]=![],this['Playerturn']=undefined,this[_0x1d5eb3(0x3a2)]=world[_0x1d5eb3(0x1b4)][_0x1d5eb3(0x156)][_0x1d5eb3(0x4ca)],this['canvasPlayer']=world[_0x1d5eb3(0x1b4)][_0x1d5eb3(0x156)][_0x1d5eb3(0x4ca)],this[_0x1d5eb3(0x4a8)]=!![],this[_0x1d5eb3(0x40d)]=new MessageSystem(),this['projectilAnimation']=[],this[_0x1d5eb3(0x3a4)]=_0x57e16e=>{var _0x3d7c8a=_0x1d5eb3;if(!_0x57e16e||!_0x57e16e[_0x3d7c8a(0x19d)]||!_0x57e16e['posB']||!_0x57e16e[_0x3d7c8a(0x488)]||!_0x57e16e[_0x3d7c8a(0x515)])return;var _0x43d83f=_0x57e16e[_0x3d7c8a(0x19d)],_0x5f40f5=_0x57e16e['posB'];this['projectilAnimation'][_0x3d7c8a(0x346)]({'posA':_0x43d83f,'posB':_0x5f40f5,'angle':Math[_0x3d7c8a(0x351)](_0x5f40f5['y']-_0x43d83f['y'],_0x5f40f5['x']-_0x43d83f['x']),'name':_0x57e16e[_0x3d7c8a(0x488)],'duration':_0x57e16e[_0x3d7c8a(0x515)]?_0x57e16e[_0x3d7c8a(0x515)]*dist(_0x43d83f['x'],_0x43d83f['y'],_0x5f40f5['x'],_0x5f40f5['y']):0x64});if(_0x57e16e[_0x3d7c8a(0x3c4)])world[_0x3d7c8a(0x182)][_0x3d7c8a(0x3eb)](_0x57e16e['sound']);},this[_0x1d5eb3(0x49b)]=()=>{var _0x1a4e12=_0x1d5eb3,_0x20ce1=new Date()[_0x1a4e12(0x1e0)]();for(var _0xf77de4 in this[_0x1a4e12(0x4b9)]){if(this[_0x1a4e12(0x4b9)][_0xf77de4][_0x1a4e12(0x3ee)]&&_0x20ce1-this[_0x1a4e12(0x4b9)][_0xf77de4][_0x1a4e12(0x3ee)]>this[_0x1a4e12(0x4b9)][_0xf77de4][_0x1a4e12(0x3ef)])this[_0x1a4e12(0x4b9)][_0x1a4e12(0x3d3)](_0xf77de4,0x1);else{if(!this[_0x1a4e12(0x4b9)][_0xf77de4][_0x1a4e12(0x3ee)])this[_0x1a4e12(0x4b9)][_0xf77de4][_0x1a4e12(0x3ee)]=_0x20ce1;}}var _0x1520d0=world['map'],_0x5d39a5=this['canvasPlayer'];for(var _0xf77de4 in this[_0x1a4e12(0x4b9)]){var _0x48a06a=this[_0x1a4e12(0x4b9)][_0xf77de4],_0x16c7df=(_0x20ce1-_0x48a06a[_0x1a4e12(0x3ee)])/_0x48a06a[_0x1a4e12(0x3ef)],_0x3f50a7=_0x16c7df>0.5?0x1-_0x16c7df:_0x16c7df,_0x232cf5=_0x48a06a[_0x1a4e12(0x19d)]['x']+_0x16c7df*(_0x48a06a['posB']['x']-_0x48a06a[_0x1a4e12(0x19d)]['x']),_0x4e9c55=_0x48a06a['posA']['y']+_0x16c7df*(_0x48a06a[_0x1a4e12(0x3c7)]['y']-_0x48a06a[_0x1a4e12(0x19d)]['y']),_0x5f3e0e=_0x1520d0[_0x1a4e12(0x35e)](_0x232cf5,_0x4e9c55);if(_0x5f3e0e['x']<0x0||_0x5f3e0e['y']<0x0||_0x5f3e0e['x']>_0x5d39a5[_0x1a4e12(0x269)]||_0x5f3e0e['y']>_0x5d39a5[_0x1a4e12(0x3f4)])continue;_0x5d39a5[_0x1a4e12(0x204)](world[_0x1a4e12(0x167)][_0x48a06a[_0x1a4e12(0x2c7)]][_0x1a4e12(0x458)],_0x5f3e0e['x'],_0x5f3e0e['y'],_0x1520d0['scale']*(0.5+_0x3f50a7*0x3),_0x48a06a['angle']);}},this[_0x1d5eb3(0x28d)]=_0x22805b=>{var _0x2497e3=_0x1d5eb3;if(!_0x22805b)return console[_0x2497e3(0x3c2)]('can\x27t\x20delete\x20this\x20player');_0x22805b['isDead']=!![],world[_0x2497e3(0x1c7)][_0x2497e3(0x264)](_0x22805b);if(_0x22805b&&_0x22805b['x']!=undefined&&_0x22805b['y']!=undefined){for(var _0xb9e539=_0x22805b['x'];_0xb9e539<_0x22805b['x']+_0x22805b[_0x2497e3(0x434)];_0xb9e539++)for(var _0x304c8a=_0x22805b['y'];_0x304c8a<_0x22805b['y']+_0x22805b[_0x2497e3(0x434)];_0x304c8a++)if(world[_0x2497e3(0x3fe)][_0x2497e3(0x290)][_0xb9e539]&&world[_0x2497e3(0x3fe)][_0x2497e3(0x290)][_0xb9e539][_0x304c8a]&&world[_0x2497e3(0x3fe)][_0x2497e3(0x290)][_0xb9e539][_0x304c8a][_0x2497e3(0x3cb)]==_0x22805b)world[_0x2497e3(0x3fe)][_0x2497e3(0x290)][_0xb9e539][_0x304c8a]['player']=undefined;}var _0x15cbbc=0x0;while(this[_0x2497e3(0x3ab)][_0x15cbbc]){if(this[_0x2497e3(0x3ab)][_0x15cbbc]==_0x22805b){this[_0x2497e3(0x3ab)][_0x2497e3(0x3d3)](_0x15cbbc,0x1);break;}_0x15cbbc++;}},this[_0x1d5eb3(0x370)]=()=>{var _0x16f371=_0x1d5eb3,_0x45e33f=_0x16f371(0x255);this[_0x16f371(0x167)]=[];var _0x435b3b=[['hand',_0x45e33f+_0x16f371(0x1eb)]];for(var _0x1aab03 in WEAPON_TYPE){var _0x3e17b0=WEAPON_TYPE[_0x1aab03][_0x16f371(0x2c7)],_0x2d8028=WEAPON_TYPE[_0x1aab03][_0x16f371(0x2b1)];_0x435b3b[_0x16f371(0x346)]([_0x3e17b0,_0x45e33f+_0x16f371(0x37e)+_0x2d8028+'.png']),_0x435b3b[_0x16f371(0x346)]([_0x3e17b0+_0x16f371(0x26e),_0x45e33f+_0x16f371(0x37e)+_0x2d8028+_0x16f371(0x26e)+'.png']);}for(var _0x1aab03 in PLAYER_BODY_IMG){var _0x3e17b0=PLAYER_BODY_IMG[_0x1aab03];_0x435b3b['push']([_0x3e17b0,_0x45e33f+_0x16f371(0x421)+_0x3e17b0+'.png']);}for(var _0x1aab03 in PLAYER_FACE_IMG){var _0x3e17b0=PLAYER_FACE_IMG[_0x1aab03];_0x435b3b[_0x16f371(0x346)]([_0x3e17b0,_0x45e33f+'face/'+_0x3e17b0+'.png']);}for(var _0x1aab03 in PLAYER_ARMOR){var _0x3e17b0=PLAYER_ARMOR[_0x1aab03]['name'],_0x2d8028=PLAYER_ARMOR[_0x1aab03][_0x16f371(0x458)];_0x435b3b[_0x16f371(0x346)]([_0x3e17b0,_0x45e33f+_0x16f371(0x30e)+_0x2d8028+_0x16f371(0x305)]),_0x435b3b[_0x16f371(0x346)]([_0x3e17b0+_0x16f371(0x26e),_0x45e33f+_0x16f371(0x30e)+_0x2d8028+'_icon'+_0x16f371(0x305)]);}for(var _0x1aab03 in PROJECTIL_IMG){var _0x3e17b0=PROJECTIL_IMG[_0x1aab03];_0x435b3b[_0x16f371(0x346)]([_0x3e17b0,_0x45e33f+_0x16f371(0x2e3)+_0x3e17b0+_0x16f371(0x305)]);}for(var _0x1aab03 in _0x435b3b){console['log'](_0x16f371(0x2f3)+_0x435b3b[_0x1aab03]),this['playerDefaultImgs'][_0x435b3b[_0x1aab03][0x0]]=new myImage(_0x435b3b[_0x1aab03][0x0],_0x435b3b[_0x1aab03][0x1]);}world[_0x16f371(0x167)]=this[_0x16f371(0x167)];},this[_0x1d5eb3(0x43c)]=(_0x5c0834,_0x94e291,_0x508eaa,_0x5f0612,_0xd4e8da)=>{var _0x21e045=_0x1d5eb3,_0x5f07c9=new Player(_0x5c0834,_0x94e291,_0x508eaa,_0x5f0612,_0xd4e8da);return _0x5f07c9['ChangePosition'](_0x5f07c9,world[_0x21e045(0x3fe)]),_0x5f07c9[_0x21e045(0x4ce)](),_0x5f07c9[_0x21e045(0x29c)]=0x0,_0x5f07c9;},this[_0x1d5eb3(0x367)]=_0x384393=>{var _0x2364a0=_0x1d5eb3;if(!_0x384393||!_0x384393[_0x2364a0(0x3cb)]||_0x384393['x']==undefined||_0x384393['y']==undefined)return console[_0x2364a0(0x3c2)](_0x2364a0(0x354));console[_0x2364a0(0x3c2)](_0x2364a0(0x15e)+[_0x384393['x'],_0x384393['y'],_0x384393[_0x2364a0(0x3cb)][_0x2364a0(0x434)]]);var _0x13fdd1=_0x384393[_0x2364a0(0x3cb)],_0x2da947=_0x384393['x'],_0x4b4b82=_0x384393['y'],_0x2675e5=_0x384393[_0x2364a0(0x31a)]?_0x384393[_0x2364a0(0x31a)]:TEAM_HUMAN,_0x55fad6=world[_0x2364a0(0x3fe)];if(_0x2da947<0x0||_0x2da947+_0x13fdd1['size']-0x1>=_0x55fad6[_0x2364a0(0x269)]||_0x4b4b82<0x0||_0x4b4b82+_0x13fdd1['size']-0x1>=_0x55fad6['height'])return![];for(var _0x36eb7e=_0x2da947;_0x36eb7e<_0x2da947+_0x13fdd1[_0x2364a0(0x434)];_0x36eb7e++){for(var _0x570dde=_0x4b4b82;_0x570dde<_0x4b4b82+_0x13fdd1[_0x2364a0(0x434)];_0x570dde++){if(_0x55fad6[_0x2364a0(0x290)][_0x36eb7e][_0x570dde][_0x2364a0(0x3cb)])return![];if(!_0x55fad6['mapBlock'][_0x36eb7e][_0x570dde][_0x2364a0(0x203)]())return![];}}var _0x5c1a2c=this[_0x2364a0(0x43c)](_0x2da947,_0x4b4b82,_0x13fdd1['size'],_0x13fdd1[_0x2364a0(0x307)],_0x2675e5);if(!_0x5c1a2c)return![];_0x5c1a2c[_0x2364a0(0x2c7)]=_0x13fdd1[_0x2364a0(0x2c7)],_0x5c1a2c[_0x2364a0(0x2eb)]=_0x13fdd1[_0x2364a0(0x2eb)],_0x5c1a2c[_0x2364a0(0x36a)]=_0x13fdd1[_0x2364a0(0x36a)],_0x5c1a2c[_0x2364a0(0x4c5)]=_0x13fdd1[_0x2364a0(0x4c5)],_0x5c1a2c[_0x2364a0(0x45d)]=_0x13fdd1[_0x2364a0(0x45d)],_0x5c1a2c['speed']=_0x13fdd1['speed'],_0x5c1a2c[_0x2364a0(0x245)]=_0x13fdd1[_0x2364a0(0x245)],_0x5c1a2c[_0x2364a0(0x1d6)]=_0x13fdd1[_0x2364a0(0x1d6)],_0x5c1a2c['life']=_0x13fdd1[_0x2364a0(0x1d6)],_0x5c1a2c[_0x2364a0(0x3e4)]=_0x13fdd1[_0x2364a0(0x3e4)],_0x5c1a2c[_0x2364a0(0x159)]=_0x13fdd1['stats'],_0x5c1a2c[_0x2364a0(0x434)]=_0x13fdd1[_0x2364a0(0x434)],_0x5c1a2c['id']=_0x13fdd1['id'];if(_0x2675e5==TEAM_AI)_0x5c1a2c[_0x2364a0(0x3ed)]=[-0x1,0x0];for(var _0x36eb7e=_0x2da947;_0x36eb7e<_0x2da947+_0x13fdd1[_0x2364a0(0x434)];_0x36eb7e++){for(var _0x570dde=_0x4b4b82;_0x570dde<_0x4b4b82+_0x13fdd1[_0x2364a0(0x434)];_0x570dde++){_0x55fad6['mapBlock'][_0x36eb7e][_0x570dde][_0x2364a0(0x3cb)]=_0x5c1a2c;}}return _0x5c1a2c[_0x2364a0(0x4ce)](),this[_0x2364a0(0x3ab)][_0x2364a0(0x346)](_0x5c1a2c),!![];},this['createPlayer']=_0x4cf1db=>{var _0xe9b927=_0x1d5eb3;if(!_0x4cf1db||_0x4cf1db['x']===undefined||_0x4cf1db['y']===undefined)return![];var _0x58a7f6=_0x4cf1db['x'],_0x3eba8d=_0x4cf1db['y'],_0x22fb50=_0x4cf1db['color']?_0x4cf1db[_0xe9b927(0x307)]:{'r':Math[_0xe9b927(0x3d8)](Math['random']()*0x100),'g':Math[_0xe9b927(0x3d8)](Math['random']()*0x100),'b':Math[_0xe9b927(0x3d8)](Math[_0xe9b927(0x325)]()*0x100)},_0x4a0419=_0x4cf1db['size']||_0x4cf1db[_0xe9b927(0x434)]<0x1?_0x4cf1db[_0xe9b927(0x434)]:0x1,_0x20bbac=_0x4cf1db[_0xe9b927(0x31a)]?_0x4cf1db[_0xe9b927(0x31a)]:TEAM_HUMAN,_0x5ad72f=world[_0xe9b927(0x3fe)];if(_0x58a7f6<0x0||_0x58a7f6+_0x4a0419-0x1>=_0x5ad72f[_0xe9b927(0x269)]||_0x3eba8d<0x0||_0x3eba8d+_0x4a0419-0x1>=_0x5ad72f[_0xe9b927(0x3f4)])return![];for(var _0x462d2d=_0x58a7f6;_0x462d2d<_0x58a7f6+_0x4a0419;_0x462d2d++){for(var _0x32fbc4=_0x3eba8d;_0x32fbc4<_0x3eba8d+_0x4a0419;_0x32fbc4++){if(_0x5ad72f[_0xe9b927(0x290)][_0x462d2d][_0x32fbc4][_0xe9b927(0x3cb)])return![];if(!_0x5ad72f[_0xe9b927(0x290)][_0x462d2d][_0x32fbc4]['getMoveCost']())return![];}}var _0x3458a7=this[_0xe9b927(0x43c)](_0x58a7f6,_0x3eba8d,_0x4a0419,_0x22fb50,_0x20bbac);_0x3458a7['id']=PLAYER_ID++,nameList=[_0xe9b927(0x2d2),_0xe9b927(0x3e3),_0xe9b927(0x41b),'Setple',_0xe9b927(0x411),_0xe9b927(0x1c1),'Osef',_0xe9b927(0x33e),_0xe9b927(0x1c8),_0xe9b927(0x1c9)],_0x3458a7[_0xe9b927(0x2c7)]=nameList[Math['floor'](Math[_0xe9b927(0x325)]()*nameList['length'])]+'\x20#'+Math[_0xe9b927(0x3d8)](Math[_0xe9b927(0x325)]()*0x64),_0x3458a7[_0xe9b927(0x45d)]=new Weapon()['createRandomWeapon'](),_0x3458a7[_0xe9b927(0x4c5)]=new Armor()[_0xe9b927(0x28b)]();if(_0x20bbac==TEAM_AI)_0x3458a7[_0xe9b927(0x3ed)]=[-0x1,0x0];for(var _0x462d2d=_0x58a7f6;_0x462d2d<_0x58a7f6+_0x4a0419;_0x462d2d++){for(var _0x32fbc4=_0x3eba8d;_0x32fbc4<_0x3eba8d+_0x4a0419;_0x32fbc4++){_0x5ad72f[_0xe9b927(0x290)][_0x462d2d][_0x32fbc4][_0xe9b927(0x3cb)]=_0x3458a7;}}return _0x3458a7[_0xe9b927(0x349)]=_0x4cf1db[_0xe9b927(0x349)]?_0x4cf1db['speed']:Math['round'](_0x3458a7[_0xe9b927(0x349)]*(0.8+Math[_0xe9b927(0x325)]()*0.4)),_0x3458a7[_0xe9b927(0x4ce)](),this[_0xe9b927(0x3ab)]['push'](_0x3458a7),_0x3458a7;},this['drawPlayers']=()=>{var _0x5a2a7f=_0x1d5eb3,_0x5c0401=world['map'];if(!_0x5c0401||!_0x5c0401[_0x5a2a7f(0x457)]||!_0x5c0401[_0x5a2a7f(0x155)])return;var _0x19a008=_0x5c0401['topleft_block']['x'],_0x9abcba=_0x5c0401[_0x5a2a7f(0x457)]['y'],_0x4c69d8=_0x5c0401['botright_block']['x'],_0x2506b4=_0x5c0401[_0x5a2a7f(0x155)]['y'],_0x46410c=[],_0x515fd5=[];for(var _0x184254=_0x19a008;_0x184254<=_0x4c69d8;_0x184254++){for(var _0x49d457=_0x9abcba;_0x49d457<=_0x2506b4;_0x49d457++){var _0x27d8ea=_0x5c0401[_0x5a2a7f(0x290)][_0x184254][_0x49d457]['player'];if(!_0x27d8ea||_0x515fd5['find'](_0x2de863=>_0x2de863==_0x27d8ea))continue;if(_0x27d8ea==this[_0x5a2a7f(0x206)])_0x515fd5['push'](_0x27d8ea);else _0x515fd5[_0x5a2a7f(0x2d8)](_0x27d8ea);}}for(var _0x2ccf9f in _0x515fd5){var _0x27d8ea=_0x515fd5[_0x2ccf9f];if(!_0x27d8ea[_0x5a2a7f(0x252)]||!_0x27d8ea[_0x5a2a7f(0x306)])_0x27d8ea[_0x5a2a7f(0x228)](this['playerDefaultImgs']);var _0x2447eb=_0x5c0401[_0x5a2a7f(0x46a)](_0x27d8ea['x'],_0x27d8ea['y']);if(_0x2447eb)_0x27d8ea[_0x5a2a7f(0x1c5)](this[_0x5a2a7f(0x278)],_0x2447eb['x'],_0x2447eb['y'],_0x5c0401);else continue;_0x27d8ea['needUIRedraw']&&(this[_0x5a2a7f(0x4a8)]=!![],_0x27d8ea[_0x5a2a7f(0x2ca)]=![]);var _0x72a4ca=new MyUI(this[_0x5a2a7f(0x3a2)],_0x2447eb['x']-_0x5c0401[_0x5a2a7f(0x467)]/0x4,_0x2447eb['y']-_0x5c0401['blocksize_y']/0x4,0x64*world[_0x5a2a7f(0x3fe)][_0x5a2a7f(0x402)],world['map'][_0x5a2a7f(0x402)],undefined,undefined,0x1),_0x402655=_0x27d8ea[_0x5a2a7f(0x31a)]==TEAM_HUMAN?_0x5a2a7f(0x195):_0x5a2a7f(0x523);_0x72a4ca[_0x5a2a7f(0x450)](_0x27d8ea[_0x5a2a7f(0x2c7)],Math[_0x5a2a7f(0x3d8)](0x28*world[_0x5a2a7f(0x3fe)][_0x5a2a7f(0x402)]),0x10,_0x402655,PLAYER_NAME_FONT);var _0x121c56=Math[_0x5a2a7f(0x3d8)](0x14*world[_0x5a2a7f(0x3fe)][_0x5a2a7f(0x402)]);if(_0x27d8ea==this['Playerturn'])_0x72a4ca['addGauge']('action\x20point\x20:\x20'+Math['floor'](0x64*_0x27d8ea[_0x5a2a7f(0x309)]/_0x27d8ea[_0x5a2a7f(0x245)]),_0x27d8ea[_0x5a2a7f(0x309)]/_0x27d8ea[_0x5a2a7f(0x245)],Math['floor'](0x64*world[_0x5a2a7f(0x3fe)][_0x5a2a7f(0x402)]),_0x121c56+0x1,_0x121c56,_0x5a2a7f(0x26c),_0x5a2a7f(0x210),'#000000');else _0x72a4ca['addGauge'](_0x5a2a7f(0x2b0)+Math[_0x5a2a7f(0x3d8)](0x64*_0x27d8ea['gaugeSpeed'])+'\x20%',_0x27d8ea[_0x5a2a7f(0x29c)],Math[_0x5a2a7f(0x3d8)](0x64*world[_0x5a2a7f(0x3fe)][_0x5a2a7f(0x402)]),_0x121c56+0x1,_0x121c56,_0x5a2a7f(0x26c),'#00aaaa',_0x5a2a7f(0x317));_0x72a4ca[_0x5a2a7f(0x48a)](_0x5a2a7f(0x230)+Math[_0x5a2a7f(0x3d8)](_0x27d8ea['life'])+'/'+Math[_0x5a2a7f(0x3d8)](_0x27d8ea[_0x5a2a7f(0x1d6)]),_0x27d8ea[_0x5a2a7f(0x21f)]/_0x27d8ea[_0x5a2a7f(0x1d6)],Math[_0x5a2a7f(0x3d8)](0x64*world[_0x5a2a7f(0x3fe)][_0x5a2a7f(0x402)]),_0x121c56+0x1,_0x121c56,_0x5a2a7f(0x26c),_0x5a2a7f(0x35d),_0x5a2a7f(0x317)),_0x46410c[_0x5a2a7f(0x346)](_0x72a4ca);}if(this[_0x5a2a7f(0x4a8)]){this[_0x5a2a7f(0x3a2)]['cleanCanvas']();for(var _0x2ccf9f in _0x46410c){_0x46410c[_0x2ccf9f][_0x5a2a7f(0x154)]();}this['pUI_need_redraw']=![];}this[_0x5a2a7f(0x49b)]();},this['getPlayerByBlock']=_0x563c4f=>{var _0x58d7a1=_0x1d5eb3;if(!_0x563c4f||_0x563c4f['x']==undefined||_0x563c4f['y']==undefined)return undefined;return this[_0x58d7a1(0x3ab)][_0x58d7a1(0x2ea)](_0x1e2aa7=>_0x1e2aa7['x']==_0x563c4f['x']&&_0x1e2aa7['y']==_0x563c4f['y']);},this['get_next_turn']=()=>{var _0x32776c=_0x1d5eb3,_0x2e2374=undefined,_0x2be6eb=0x0,_0x4677bd=0x0;for(var _0x35e245 in this[_0x32776c(0x3ab)]){var _0x491ec1=this[_0x32776c(0x3ab)][_0x35e245];if((0x1-_0x491ec1[_0x32776c(0x29c)])/_0x491ec1[_0x32776c(0x349)]<=(0x1-_0x2be6eb)/_0x4677bd){if(_0x2e2374&&(0x1-_0x491ec1[_0x32776c(0x29c)])*_0x491ec1[_0x32776c(0x349)]==(0x1-_0x2be6eb)*_0x4677bd){if(_0x2e2374['speed']>_0x491ec1[_0x32776c(0x349)])continue;}_0x2e2374=_0x491ec1,_0x2be6eb=_0x491ec1[_0x32776c(0x29c)],_0x4677bd=_0x491ec1[_0x32776c(0x349)];}}if(!_0x2e2374)return undefined;for(var _0x35e245 in this[_0x32776c(0x3ab)]){var _0x491ec1=this[_0x32776c(0x3ab)][_0x35e245];_0x491ec1[_0x32776c(0x29c)]+=(0x1-_0x2be6eb)*(_0x491ec1[_0x32776c(0x349)]/_0x4677bd);}return _0x2e2374;},this[_0x1d5eb3(0x31b)]=_0x4cfb43=>{var _0x18680b=_0x1d5eb3,_0x377cf3=[],_0x1e6a43=[];for(var _0xa6dc5b in this[_0x18680b(0x3ab)]){var _0x421903=this['playerList'][_0xa6dc5b];_0x1e6a43[_0xa6dc5b]={'player':_0x421903,'gaugeSpeed':_0x421903[_0x18680b(0x29c)],'speed':_0x421903[_0x18680b(0x349)]};}if(_0x4cfb43<0x0||_0x1e6a43[_0x18680b(0x179)]<0x1)return[];for(var _0x881806=0x0;_0x881806<_0x4cfb43;_0x881806++){var _0x91302b=undefined,_0x45f20f=0x0,_0x1cbb38=0x0;for(var _0xa6dc5b in _0x1e6a43){var _0x421903=_0x1e6a43[_0xa6dc5b];if((0x1-_0x421903[_0x18680b(0x29c)])/_0x421903[_0x18680b(0x349)]<=(0x1-_0x45f20f)/_0x1cbb38){if(_0x91302b&&(0x1-_0x421903[_0x18680b(0x29c)])*_0x421903[_0x18680b(0x349)]==(0x1-_0x45f20f)*_0x1cbb38){if(_0x91302b[_0x18680b(0x349)]>_0x421903['speed'])continue;}_0x91302b=_0x421903,_0x45f20f=_0x421903[_0x18680b(0x29c)],_0x1cbb38=_0x421903[_0x18680b(0x349)];}}if(!_0x91302b)continue;for(var _0xa6dc5b in _0x1e6a43){var _0x421903=_0x1e6a43[_0xa6dc5b];_0x421903[_0x18680b(0x29c)]+=(0x1-_0x45f20f)*(_0x421903[_0x18680b(0x349)]/_0x1cbb38);}_0x91302b[_0x18680b(0x29c)]=0x0,_0x377cf3[_0x18680b(0x346)](_0x91302b[_0x18680b(0x3cb)]);}return _0x377cf3;},this[_0x1d5eb3(0x43d)]=_0xb0359d=>{var _0x446494=_0x1d5eb3,_0x158d60=this['playerList']['find'](_0x2a6b31=>_0x2a6b31[_0x446494(0x31a)]==TEAM_AI),_0xefc6f5=this[_0x446494(0x3ab)][_0x446494(0x2ea)](_0x119a72=>_0x119a72[_0x446494(0x31a)]==TEAM_HUMAN);if(!_0x158d60||!_0xefc6f5){console[_0x446494(0x3c2)](_0x446494(0x1ef)),this[_0x446494(0x51f)]();return;}world[_0x446494(0x233)]&&(world[_0x446494(0x233)]['playersSelected']=undefined,world['GameUI'][_0x446494(0x430)]=undefined,world[_0x446494(0x233)]['selecting_block']=undefined,world['GameUI'][_0x446494(0x3d1)]=undefined);if(world[_0x446494(0x4ca)][_0x446494(0x206)]&&world[_0x446494(0x4ca)][_0x446494(0x206)]['AI']&&!world['players'][_0x446494(0x206)]['AI'][_0x446494(0x2ad)])return;if(this[_0x446494(0x206)])this['Playerturn'][_0x446494(0x29c)]=0x0;this['Playerturn']=this[_0x446494(0x468)]();if(!this[_0x446494(0x206)])return;this[_0x446494(0x40d)]['addMessage']({'type':this['Playerturn'][_0x446494(0x31a)],'txt':this[_0x446494(0x206)]['name']+_0x446494(0x1f8)});if(_0xb0359d[_0x446494(0x3fe)])_0xb0359d[_0x446494(0x3fe)][_0x446494(0x2c4)](this[_0x446494(0x206)]);if(_0xb0359d[_0x446494(0x233)])_0xb0359d[_0x446494(0x233)]['playersSelected']=this[_0x446494(0x206)];this[_0x446494(0x206)][_0x446494(0x309)]=this[_0x446494(0x206)][_0x446494(0x245)];if(this[_0x446494(0x206)]['AI'])this[_0x446494(0x206)]['AI']['turnFinished']=![];},this['endFight']=()=>{var _0x2a00e7=_0x1d5eb3;world[_0x2a00e7(0x233)]=undefined,world['map']=undefined,world[_0x2a00e7(0x4b4)]=new VillageUI(world[_0x2a00e7(0x1b4)][_0x2a00e7(0x156)][_0x2a00e7(0x233)]),world['Screen'][_0x2a00e7(0x156)][_0x2a00e7(0x1b2)][_0x2a00e7(0x3e6)](),world[_0x2a00e7(0x1b4)][_0x2a00e7(0x156)]['mapFloor'][_0x2a00e7(0x446)](),world[_0x2a00e7(0x1b4)][_0x2a00e7(0x156)][_0x2a00e7(0x1b5)][_0x2a00e7(0x3e6)](),world[_0x2a00e7(0x1b4)]['canList'][_0x2a00e7(0x1b5)][_0x2a00e7(0x446)](),world[_0x2a00e7(0x1b4)][_0x2a00e7(0x156)]['players']['GetCanvasPos'](),world[_0x2a00e7(0x1b4)]['canList'][_0x2a00e7(0x4ca)]['cleanCanvas'](),world[_0x2a00e7(0x1b4)][_0x2a00e7(0x156)]['mapUI'][_0x2a00e7(0x3e6)](),world['Screen'][_0x2a00e7(0x156)][_0x2a00e7(0x298)][_0x2a00e7(0x446)](),world[_0x2a00e7(0x182)][_0x2a00e7(0x371)]('where-the-brave-may-live-forever'),world['village']['battle']=![],world[_0x2a00e7(0x1c7)][_0x2a00e7(0x40d)][_0x2a00e7(0x4f8)]({'txt':_0x2a00e7(0x1ea)});};},GameUI=function(_0x5e3e99){var _0x3dca54=_0x4113ca;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT=_0x3dca54(0x1de),GAME_UI_FONT_BUTTON=_0x3dca54(0x3a7),GAME_UI_WINDOWINFO_MOUSETIME=0x190,this[_0x3dca54(0x1f3)]=_0x5e3e99,this[_0x3dca54(0x28a)]=GAME_UI_DEFAULTSIZE_X,this[_0x3dca54(0x402)]=0x1,this[_0x3dca54(0x516)]=_0x3dca54(0x316),this['stroke']=_0x3dca54(0x1c3),this['marge']=GAME_UI_DEFAULTMARGE,this[_0x3dca54(0x4e2)]=!![],this[_0x3dca54(0x4c8)]=undefined,this['UI']=undefined,this['PlayerInfodisplay']=![],this[_0x3dca54(0x470)]=undefined,this[_0x3dca54(0x432)]=![],this[_0x3dca54(0x1da)]=undefined,this[_0x3dca54(0x35f)]=![],this['eventPageOffset']={'value':0x0},this['playersSelected']=undefined,this[_0x3dca54(0x430)]=undefined,this[_0x3dca54(0x2bc)]=undefined,this[_0x3dca54(0x3d1)]=undefined,this[_0x3dca54(0x2a6)]=undefined,this[_0x3dca54(0x16a)]=undefined,this[_0x3dca54(0x1ca)]={'x':0xa,'y':0xa},this['mouseWasOnMouseLightLastDraw']=!![],this[_0x3dca54(0x27d)]=()=>{var _0x70aae3=_0x3dca54;window['addEventListener'](_0x70aae3(0x3fc),_0x53a9f4=>{var _0x5212ff=_0x70aae3,_0x1385c8=![];this['UIturn']&&this['UIturn']['mouse_move_check'](_0x53a9f4[_0x5212ff(0x29e)],_0x53a9f4[_0x5212ff(0x42b)])&&!this[_0x5212ff(0x395)]&&(this['needRedraw']=!![],this[_0x5212ff(0x395)]=!![],_0x1385c8=!![]);this['UI']&&this['UI'][_0x5212ff(0x4c3)](_0x53a9f4[_0x5212ff(0x29e)],_0x53a9f4[_0x5212ff(0x42b)])&&!this[_0x5212ff(0x395)]&&(this[_0x5212ff(0x4e2)]=!![],this[_0x5212ff(0x395)]=!![],_0x1385c8=!![]);this['UIevent']&&this[_0x5212ff(0x1da)][_0x5212ff(0x4c3)](_0x53a9f4['clientX'],_0x53a9f4[_0x5212ff(0x42b)])&&!this[_0x5212ff(0x395)]&&(this[_0x5212ff(0x4e2)]=!![],this[_0x5212ff(0x395)]=!![],_0x1385c8=!![]);!_0x1385c8&&this['mouseWasOnMouseLightLastDraw']&&(this[_0x5212ff(0x395)]=![],this[_0x5212ff(0x4e2)]=!![]);if(this==world[_0x5212ff(0x233)])this[_0x5212ff(0x27d)]();},{'once':!![]});},this[_0x3dca54(0x27d)](),this[_0x3dca54(0x323)]=_0x1c0508=>{var _0x48241b=_0x3dca54;if(!world[_0x48241b(0x336)])return![];var _0x5d4986=world[_0x48241b(0x336)][_0x48241b(0x287)];if(!_0x5d4986)return![];if(new Date()['getTime']()-_0x5d4986[_0x48241b(0x487)]<GAME_UI_WINDOWINFO_MOUSETIME)return this[_0x48241b(0x16a)]&&(this['InfoWinfowPos']=![],this['needRedraw']=!![]),![];if(this['UI']&&this['UI']['CheckInfoWindow'](_0x1c0508))return!![];if(this[_0x48241b(0x470)]&&this[_0x48241b(0x470)][_0x48241b(0x323)](_0x1c0508))return!![];if(this[_0x48241b(0x1da)]&&this[_0x48241b(0x1da)][_0x48241b(0x323)](_0x1c0508))return!![];if(!this[_0x48241b(0x2a6)])return![];if(!this[_0x48241b(0x16a)])this[_0x48241b(0x16a)]={'x':_0x5d4986['x'],'y':_0x5d4986['y']};else{if(!_0x1c0508&&_0x5d4986['x']==this[_0x48241b(0x16a)]['x']&&_0x5d4986['y']==this['InfoWinfowPos']['y'])return![];}var _0x4d35fd=new MyUI(this[_0x48241b(0x1f3)],_0x5d4986['x'],_0x5d4986['y'],0x32,0x1,this[_0x48241b(0x516)],this['stroke'],0x1);_0x4d35fd[_0x48241b(0x450)](_0x48241b(0x25a),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x48241b(0x317),GAME_UI_FONT);var _0x301df3=world[_0x48241b(0x3fe)][_0x48241b(0x229)](_0x5d4986);for(var _0x49c9a0 in this[_0x48241b(0x2a6)]){var _0x18e971=this[_0x48241b(0x2a6)][_0x49c9a0];_0x4d35fd[_0x48241b(0x450)](_0x18e971['txt']+_0x18e971[_0x48241b(0x1a2)]({'block':_0x301df3}),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x48241b(0x317),GAME_UI_FONT);}_0x4d35fd[_0x48241b(0x154)]();},this['getKeyInput']=_0x498e3f=>{var _0x53d9a7=_0x3dca54;if(this['UI']&&this['UI'][_0x53d9a7(0x2f9)](_0x498e3f))return!![];if(this['UIturn']&&this['UIturn']['key_buton_check'](_0x498e3f))return!![];if(this[_0x53d9a7(0x1da)]&&this['UIevent'][_0x53d9a7(0x2f9)](_0x498e3f)){if(_0x498e3f=='ControlLeft'&&this['cancel_menu']())return!![];}return![];},this[_0x3dca54(0x46c)]=()=>{var _0x491d09=_0x3dca54,_0x1c30be=![];if(this[_0x491d09(0x42d)])return this[_0x491d09(0x42d)]=![],!![];this[_0x491d09(0x2bc)]&&(this['selecting_block']=undefined,_0x1c30be=!![]);this[_0x491d09(0x3d1)]&&(this[_0x491d09(0x3d1)]=undefined,this[_0x491d09(0x2a6)]=undefined,this[_0x491d09(0x16a)]=undefined,world[_0x491d09(0x3fe)][_0x491d09(0x4e2)]=!![],_0x1c30be=!![]);if(_0x1c30be)return _0x1c30be;_0x1c30be=![];this['playersSelected']&&(this[_0x491d09(0x3a3)]=undefined,_0x1c30be=!![]);this['blockSelected']&&(this[_0x491d09(0x430)]=undefined,_0x1c30be=!![]);if(_0x1c30be)return!![];return![];},this[_0x3dca54(0x44f)]=_0x1011aa=>{var _0x117f3d=_0x3dca54,_0x22cb16=_0x1011aa['x'],_0x140605=_0x1011aa['y'];if(_0x1011aa[_0x117f3d(0x2cb)]==0x2){var _0x1cf2eb=this[_0x117f3d(0x46c)]();if(_0x1cf2eb)return!![];}else{if(this['UI']&&this['UI'][_0x117f3d(0x1b7)](_0x22cb16,_0x140605))return!![];if(this['UIturn']&&this[_0x117f3d(0x470)][_0x117f3d(0x1b7)](_0x22cb16,_0x140605))return!![];if(this['UIevent']&&this[_0x117f3d(0x1da)]['click_buton_check'](_0x22cb16,_0x140605))return!![];if(world['map'])var _0x23671c=world[_0x117f3d(0x3fe)][_0x117f3d(0x229)]({'x':_0x22cb16,'y':_0x140605});if(!_0x23671c)return![];if(this[_0x117f3d(0x2bc)]&&this['highlightZone']&&this['highlightZone']['zone']&&!this[_0x117f3d(0x3d1)]['zone'][_0x117f3d(0x2ea)](_0x66cf0e=>_0x66cf0e==_0x23671c))return![];if(this[_0x117f3d(0x2bc)])return this[_0x117f3d(0x2bc)][_0x117f3d(0x1a2)]({'block':_0x23671c,'input':this[_0x117f3d(0x2bc)][_0x117f3d(0x257)]}),this[_0x117f3d(0x3d1)]=undefined,this[_0x117f3d(0x2a6)]=undefined,this[_0x117f3d(0x430)]=undefined,this[_0x117f3d(0x2bc)]=undefined,world[_0x117f3d(0x3fe)][_0x117f3d(0x4e2)]=!![],!![];else this[_0x117f3d(0x430)]=_0x23671c;return this[_0x117f3d(0x3a3)]=_0x23671c[_0x117f3d(0x3cb)],!![];}return![];},this[_0x3dca54(0x48d)]=_0xcfbc45=>{var _0xc693a1=_0x3dca54;if(!_0xcfbc45||!_0xcfbc45[_0xc693a1(0x1a2)])return;this[_0xc693a1(0x2bc)]={'callback':_0xcfbc45[_0xc693a1(0x1a2)],'input':_0xcfbc45[_0xc693a1(0x257)],'info':_0xcfbc45[_0xc693a1(0x261)]},this[_0xc693a1(0x4e2)]=!![],_0xcfbc45[_0xc693a1(0x4c2)]&&(this['highlightZone']={'zone':_0xcfbc45[_0xc693a1(0x4c2)][_0xc693a1(0x1a2)](_0xcfbc45[_0xc693a1(0x4c2)][_0xc693a1(0x257)]),'type':_0xcfbc45[_0xc693a1(0x4c2)][_0xc693a1(0x257)][_0xc693a1(0x492)]},world['map']['needRedraw']=!![]),_0xcfbc45['windowInfo']&&(this[_0xc693a1(0x2a6)]=_0xcfbc45[_0xc693a1(0x46f)]);},this[_0x3dca54(0x1f5)]=()=>{var _0x27da78=_0x3dca54;if(!world['players'][_0x27da78(0x206)])return![];world[_0x27da78(0x3fe)]['centerOnBlock'](world[_0x27da78(0x4ca)][_0x27da78(0x206)]),this[_0x27da78(0x3a3)]=world[_0x27da78(0x4ca)][_0x27da78(0x206)];},this['DrawTabInfoPlayer']=()=>{var _0x27ee11=_0x3dca54;0x0;var _0x4df154=[];_0x4df154[_0x27ee11(0x346)]({'type':_0x27ee11(0x458),'img':this[_0x27ee11(0x3a3)][_0x27ee11(0x252)],'lenx':0xc8,'leny':0xc8}),this['UI'][_0x27ee11(0x4fd)](_0x4df154);var _0x3622fa=this[_0x27ee11(0x3a3)],_0x2fd920=''+_0x3622fa[_0x27ee11(0x2c7)]+'\x20(',_0x27d6c7=_0x3622fa[_0x27ee11(0x31a)]==TEAM_AI?_0x27ee11(0x448):'allied)';_0x2fd920+=_0x27d6c7,_0x2fd920+='\x0a'+_0x3622fa[_0x27ee11(0x21f)]+'/'+_0x3622fa[_0x27ee11(0x1d6)]+'\x20life\x20point',_0x2fd920+='\x0a'+_0x3622fa[_0x27ee11(0x309)]+'/'+_0x3622fa[_0x27ee11(0x245)]+_0x27ee11(0x427),_0x2fd920+='\x0a'+_0x27ee11(0x4f7)+_0x3622fa['speed'],_0x2fd920+='\x0a'+_0x27ee11(0x40a)+_0x3622fa['movePCost'];for(var _0x24331a in _0x3622fa[_0x27ee11(0x159)])_0x2fd920+='\x0a'+_0x24331a+_0x27ee11(0x1a9)+_0x3622fa['stats'][_0x24331a];this['UI']['addTextZone'](_0x2fd920,GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);if(_0x3622fa[_0x27ee11(0x45d)])this['UI'][_0x27ee11(0x450)]('weapon\x20equiped\x20:\x20\x27'+_0x3622fa['weapon']['name']+'\x27\x0a'+_0x3622fa[_0x27ee11(0x45d)][_0x27ee11(0x509)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x27ee11(0x317),GAME_UI_FONT);if(_0x3622fa[_0x27ee11(0x4c5)])this['UI'][_0x27ee11(0x450)]('armor\x20equiped\x20:\x20'+_0x3622fa[_0x27ee11(0x4c5)][_0x27ee11(0x43e)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x27ee11(0x317),GAME_UI_FONT);},this['drawMessageSystemEvents']=()=>{var _0x303af5=_0x3dca54;this[_0x303af5(0x1da)]=new MyUI(this[_0x303af5(0x1f3)],this['UIturn'][_0x303af5(0x28a)]+this['UI'][_0x303af5(0x28a)],0x0,0x5,this[_0x303af5(0x402)],this[_0x303af5(0x516)],this['stroke'],this['marge']);var _0x2bb8dd=[];_0x2bb8dd[_0x303af5(0x346)]({'type':_0x303af5(0x2cb),'mouseLight':'ff','callback':()=>{var _0x285a33=_0x303af5;this[_0x285a33(0x35f)]=!this['UIeventExpanded'];},'callback_data':GAME_UI_FONT,'txt':_0x303af5(0x2b7),'txt_color':_0x303af5(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x303af5(0x3b0),'strokeColor':this[_0x303af5(0x35f)]?_0x303af5(0x160):_0x303af5(0x2af),'windowInfo':[{'callback':()=>{return'extand\x20the\x20event\x20window';},'input':_0x2d4f35}]});if(this[_0x303af5(0x35f)]){var _0x7a8b7d=this[_0x303af5(0x465)](this[_0x303af5(0x39d)]);for(var _0x2d4f35 in _0x7a8b7d)_0x2bb8dd[_0x303af5(0x346)](_0x7a8b7d[_0x2d4f35]);}this['UIevent'][_0x303af5(0x4fd)](_0x2bb8dd);if(this[_0x303af5(0x35f)]&&world[_0x303af5(0x4ca)]){var _0x12fc64=-0x1;for(var _0x2d4f35=this['eventPageOffset'][_0x303af5(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x2d4f35>=this['eventPageOffset'][_0x303af5(0x33b)];_0x2d4f35--){_0x12fc64++;var _0x1848a5=world[_0x303af5(0x4ca)][_0x303af5(0x40d)]['msg'][_0x2d4f35];if(_0x2d4f35>=world['players'][_0x303af5(0x40d)][_0x303af5(0x4e8)][_0x303af5(0x179)])continue;if(!_0x1848a5)break;this[_0x303af5(0x32a)](_0x1848a5);}}console[_0x303af5(0x3c2)](this[_0x303af5(0x39d)][_0x303af5(0x33b)]),this['UIevent'][_0x303af5(0x154)]();},this[_0x3dca54(0x3fa)]=()=>{var _0x4101ba=_0x3dca54;if(!world[_0x4101ba(0x3fe)]||!world[_0x4101ba(0x4ca)])return;this[_0x4101ba(0x4e2)]=![],this['canvas']['GetCanvasPos'](),this[_0x4101ba(0x1f3)][_0x4101ba(0x446)](),this['UIturn']=new MyUI(this['canvas'],0x0,0x0,0x32,this[_0x4101ba(0x402)],this[_0x4101ba(0x516)],this['stroke'],0x1),this[_0x4101ba(0x470)]['addHorizontalElem']([{'type':_0x4101ba(0x2cb),'mouseLight':'ff','callback':()=>{var _0x4682ae=_0x4101ba;this['UIturnExpanded']=!this[_0x4682ae(0x432)];},'callback_data':GAME_UI_FONT,'txt':_0x4101ba(0x392),'txt_color':_0x4101ba(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x4101ba(0x3b0),'strokeColor':this[_0x4101ba(0x35f)]?'#00000000':_0x4101ba(0x2af),'windowInfo':[{'callback':()=>{var _0x4ef5fa=_0x4101ba;return _0x4ef5fa(0x1d5);},'input':_0x37c557}]}]);var _0x4ebf3c=world[_0x4101ba(0x4ca)]['getNextTurnList'](0xf);for(var _0x37c557 in _0x4ebf3c){var _0x2ff9bf=_0x4ebf3c[_0x37c557],_0x41b5f3=[];_0x41b5f3['push']({'type':_0x4101ba(0x458),'img':_0x2ff9bf['bodyPartImg'],'lenx':0x1e,'leny':0x1e});if(this[_0x4101ba(0x432)])_0x41b5f3[_0x4101ba(0x346)]({'type':_0x4101ba(0x2cb),'mouseLight':'ff','callback':_0x57d984=>{var _0x1d59fd=_0x4101ba;this[_0x1d59fd(0x3a3)]=_0x57d984;if(world[_0x1d59fd(0x3fe)])world[_0x1d59fd(0x3fe)][_0x1d59fd(0x2c4)](_0x57d984);},'callback_data':_0x2ff9bf,'txt':_0x2ff9bf['name'],'txt_color':_0x2ff9bf[_0x4101ba(0x31a)]==TEAM_HUMAN?_0x4101ba(0x37f):_0x4101ba(0x35d),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':'#ffffff88','strokeColor':this[_0x4101ba(0x3a3)]==_0x2ff9bf?_0x4101ba(0x1e6):_0x4101ba(0x160),'windowInfo':[{'callback':_0x452b0d=>{var _0x2cf6c8=_0x4101ba;return _0x2cf6c8(0x383)+_0x452b0d+_0x2cf6c8(0x1cf);},'input':_0x37c557}]});this[_0x4101ba(0x470)][_0x4101ba(0x4fd)](_0x41b5f3);}this[_0x4101ba(0x470)][_0x4101ba(0x154)](),this['UI']=new MyUI(this[_0x4101ba(0x1f3)],this[_0x4101ba(0x470)][_0x4101ba(0x28a)],0x0,this['lenx'],this['scale'],this[_0x4101ba(0x516)],this['stroke'],this[_0x4101ba(0x30b)]);if(this[_0x4101ba(0x42d)]&&this[_0x4101ba(0x3a3)])this['DrawTabInfoPlayer'](),this['UI'][_0x4101ba(0x352)](this[_0x4101ba(0x42d)]&&this[_0x4101ba(0x3a3)]?_0x4101ba(0x390):'info',GAME_UI_LETTER_SIZE,_0x4101ba(0x317),'#ffffff',this[_0x4101ba(0x356)],()=>{var _0x5b74e0=_0x4101ba;this[_0x5b74e0(0x42d)]=!this[_0x5b74e0(0x42d)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world[_0x4101ba(0x4ca)]['Playerturn'])this['UI'][_0x4101ba(0x352)]('End\x20Turn',GAME_UI_LETTER_SIZE,_0x4101ba(0x38d),_0x4101ba(0x3a0),this['stroke'],world[_0x4101ba(0x4ca)][_0x4101ba(0x43d)],{'map':world[_0x4101ba(0x3fe)],'GameUI':world[_0x4101ba(0x233)]},GAME_UI_FONT,_0x4101ba(0x174)),this['UI'][_0x4101ba(0x352)](_0x4101ba(0x4d6),GAME_UI_LETTER_SIZE,_0x4101ba(0x317),_0x4101ba(0x343),this[_0x4101ba(0x356)],this[_0x4101ba(0x1f5)],undefined,GAME_UI_FONT,_0x4101ba(0x4ba));else this['UI'][_0x4101ba(0x352)](_0x4101ba(0x1b8),GAME_UI_LETTER_SIZE,_0x4101ba(0x38d),_0x4101ba(0x22f),this[_0x4101ba(0x356)],world[_0x4101ba(0x4ca)][_0x4101ba(0x43d)],{'map':world[_0x4101ba(0x3fe)],'GameUI':world[_0x4101ba(0x233)]},GAME_UI_FONT,'Enter');if(this[_0x4101ba(0x430)]&&!this[_0x4101ba(0x3a3)]){var _0xc0f4c2=this['blockSelected']['x'],_0x3bf947=this[_0x4101ba(0x430)]['y'],_0x378c67={'r':Math['floor'](Math['random']()*0x100),'g':Math[_0x4101ba(0x3d8)](Math[_0x4101ba(0x325)]()*0x100),'b':Math[_0x4101ba(0x3d8)](Math[_0x4101ba(0x325)]()*0x100)};this['UI'][_0x4101ba(0x352)](_0x4101ba(0x3f2),GAME_UI_LETTER_SIZE,_0x4101ba(0x317),_0x4101ba(0x194),this[_0x4101ba(0x356)],world[_0x4101ba(0x4ca)]['createPlayer'],{'x':_0xc0f4c2,'y':_0x3bf947,'color':_0x378c67},GAME_UI_FONT);}if(this[_0x4101ba(0x3a3)]){var _0x2ff9bf=this['playersSelected'];this['UI'][_0x4101ba(0x352)](_0x2ff9bf['name'],GAME_UI_LETTER_SIZE,'#000000',_0x4101ba(0x26c),this[_0x4101ba(0x356)],()=>{var _0xb7805a=_0x4101ba;this['PlayerInfodisplay']=!this[_0xb7805a(0x42d)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this['playersSelected']==world[_0x4101ba(0x4ca)]['Playerturn']&&this['playersSelected'][_0x4101ba(0x31a)]==TEAM_HUMAN){if(_0x2ff9bf[_0x4101ba(0x252)]&&_0x2ff9bf[_0x4101ba(0x306)]&&_0x2ff9bf[_0x4101ba(0x252)][_0x4101ba(0x4e4)])this['UI']['addImage'](_0x2ff9bf[_0x4101ba(0x252)],0x64,0x64);else this[_0x4101ba(0x4e2)]=!![];if(this[_0x4101ba(0x2bc)])this['UI'][_0x4101ba(0x450)](_0x4101ba(0x32d)+this[_0x4101ba(0x2bc)][_0x4101ba(0x261)],GAME_UI_LETTER_SIZE*0.8,0x14,_0x4101ba(0x317),GAME_UI_FONT);else for(var _0x37c557 in _0x2ff9bf[_0x4101ba(0x498)]){var _0x5c54b8=_0x2ff9bf[_0x4101ba(0x498)][_0x37c557];this['UI'][_0x4101ba(0x352)](_0x5c54b8['name'],GAME_UI_LETTER_SIZE,'#000000',_0x4101ba(0x194),this[_0x4101ba(0x356)],this[_0x4101ba(0x48d)],{'callback':_0x5c54b8[_0x4101ba(0x1a2)],'info':_0x5c54b8[_0x4101ba(0x288)],'highlight':{'callback':_0x5c54b8[_0x4101ba(0x168)],'input':_0x5c54b8[_0x4101ba(0x524)]},'windowInfo':_0x5c54b8['windowInfo']},GAME_UI_FONT,parseInt(_0x37c557)+0x1);}}}}this[_0x4101ba(0x18a)](),this['UI'][_0x4101ba(0x154)](),this[_0x4101ba(0x323)](!![]);},this[_0x3dca54(0x465)]=_0x4e7826=>{var _0x5b538d=_0x3dca54,_0x5598e3=[{'type':_0x5b538d(0x2cb),'callback':()=>{var _0x2e69d2=_0x5b538d;_0x4e7826['value']=_0x4e7826[_0x2e69d2(0x33b)]>0x0?_0x4e7826[_0x2e69d2(0x33b)]-0x1:0x0;},'txt':'âˆ§','txt_color':_0x5b538d(0x26c),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x5b538d(0x405),'strokeColor':_0x5b538d(0x317),'windowInfo':[{'callback':()=>{var _0x330471=_0x5b538d;return _0x330471(0x46b);}}]},{'type':_0x5b538d(0x2cb),'callback':()=>{var _0xabf806=_0x5b538d;_0x4e7826[_0xabf806(0x33b)]++;},'txt':'âˆ¨','txt_color':_0x5b538d(0x26c),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x5b538d(0x405),'strokeColor':_0x5b538d(0x317),'windowInfo':[{'callback':()=>{var _0x186e66=_0x5b538d;return _0x186e66(0x3fb);}}]},{'type':_0x5b538d(0x322),'txt':'['+_0x4e7826[_0x5b538d(0x33b)]+':'+(_0x4e7826['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x5b538d(0x317),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0x5598e3;},this['displayMessageEvent']=_0x4d4ac9=>{var _0x3c66b1=_0x3dca54;if(!_0x4d4ac9)return;var _0xe185cd=_0x3c66b1(0x317);switch(_0x4d4ac9[_0x3c66b1(0x492)]){case TEAM_HUMAN:_0xe185cd='#0000ff';break;case TEAM_AI:_0xe185cd=_0x3c66b1(0x35d);break;}this[_0x3c66b1(0x1da)]['addTextZone'](_0x4d4ac9[_0x3c66b1(0x322)],GAME_UI_LETTER_SIZE/0x2,0x270f,_0xe185cd,GAME_UI_FONT);};},ControlManager=function(){var _0x29a383=_0x4113ca;this[_0x29a383(0x2f2)]=[],this[_0x29a383(0x2ae)]=[],this['mousePos']={'x':0x0,'y':0x0,'lastTime':new Date()[_0x29a383(0x1e0)]()},window[_0x29a383(0x419)](_0x29a383(0x357),_0x7f9ed3=>{var _0x31a9d5=_0x29a383;if(_0x7f9ed3[_0x31a9d5(0x374)])return;var _0x178c31=_0x7f9ed3[_0x31a9d5(0x3b6)],_0x47944d=_0x7f9ed3[_0x31a9d5(0x283)];this['keyDown'][_0x47944d]=!![];}),window[_0x29a383(0x419)](_0x29a383(0x50d),_0x399eeb=>{var _0x3fcaad=_0x29a383,_0x12e0f6=_0x399eeb[_0x3fcaad(0x3b6)],_0x31f0de=_0x399eeb[_0x3fcaad(0x283)];this[_0x3fcaad(0x2f2)][_0x31f0de]=![],this['keyUp'][_0x31f0de]=!![];}),window[_0x29a383(0x419)](_0x29a383(0x469),_0x544cd9=>{var _0x1d6e3d=_0x29a383,_0x557581=_0x544cd9['deltaY'];if(world[_0x1d6e3d(0x3fe)]){if(_0x557581>0x0)world[_0x1d6e3d(0x3fe)][_0x1d6e3d(0x315)](0x0,0x0,0.95);else{if(_0x557581<0x0)world[_0x1d6e3d(0x3fe)][_0x1d6e3d(0x315)](0x0,0x0,1.05);}}}),window['addEventListener'](_0x29a383(0x16d),_0x1e47be=>{var _0x218676=_0x29a383,_0x66e3ba=world[_0x218676(0x1b4)][_0x218676(0x156)]['mapFloor'];pos=_0x66e3ba[_0x218676(0x170)](_0x1e47be['clientX'],_0x1e47be[_0x218676(0x42b)]),pos&&(this[_0x218676(0x35b)]={'x':pos['x'],'y':pos['y'],'button':_0x1e47be[_0x218676(0x2cb)]});}),window['addEventListener'](_0x29a383(0x3fc),_0x31da53=>{var _0x3b3697=_0x29a383,_0x27ee7a=world[_0x3b3697(0x1b4)][_0x3b3697(0x156)]['mapFloor'];this[_0x3b3697(0x287)]=_0x27ee7a['getPixelPosition'](_0x31da53[_0x3b3697(0x29e)],_0x31da53[_0x3b3697(0x42b)]);if(this[_0x3b3697(0x287)])this[_0x3b3697(0x287)][_0x3b3697(0x487)]=new Date()[_0x3b3697(0x1e0)]();}),this[_0x29a383(0x279)]=()=>{var _0x2f9773=_0x29a383,_0x509d9a=![];if(world['map']){if(this[_0x2f9773(0x2f2)][_0x2f9773(0x2bb)])world[_0x2f9773(0x3fe)][_0x2f9773(0x315)](0x0,-0.1/world[_0x2f9773(0x3fe)][_0x2f9773(0x402)],0x1);if(this[_0x2f9773(0x2f2)]['KeyS'])world['map'][_0x2f9773(0x315)](0x0,0.1/world['map'][_0x2f9773(0x402)],0x1);if(this[_0x2f9773(0x2f2)][_0x2f9773(0x319)])world[_0x2f9773(0x3fe)]['changeMapView'](-0.1/world[_0x2f9773(0x3fe)][_0x2f9773(0x402)],0x0,0x1);if(this[_0x2f9773(0x2f2)][_0x2f9773(0x2e8)])world['map'][_0x2f9773(0x315)](0.1/world[_0x2f9773(0x3fe)][_0x2f9773(0x402)],0x0,0x1);if(this[_0x2f9773(0x2f2)][_0x2f9773(0x3d5)])world[_0x2f9773(0x3fe)]['changeMapView'](0x0,-0.1/world[_0x2f9773(0x3fe)][_0x2f9773(0x402)],0x1);if(this[_0x2f9773(0x2f2)][_0x2f9773(0x3d7)])world[_0x2f9773(0x3fe)]['changeMapView'](0x0,0.1/world[_0x2f9773(0x3fe)]['scale'],0x1);if(this['keyDown'][_0x2f9773(0x3f6)])world['map'][_0x2f9773(0x315)](-0.1/world[_0x2f9773(0x3fe)][_0x2f9773(0x402)],0x0,0x1);if(this[_0x2f9773(0x2f2)][_0x2f9773(0x2fb)])world[_0x2f9773(0x3fe)]['changeMapView'](0.1/world[_0x2f9773(0x3fe)][_0x2f9773(0x402)],0x0,0x1);if(this[_0x2f9773(0x2f2)][_0x2f9773(0x26f)])world[_0x2f9773(0x3fe)]['changeMapView'](0x0,0x0,0.95);if(this['keyDown'][_0x2f9773(0x48f)])world[_0x2f9773(0x3fe)][_0x2f9773(0x315)](0x0,0x0,1.05);}if(this[_0x2f9773(0x2ae)][_0x2f9773(0x1e5)]){if(!world[_0x2f9773(0x1b4)][_0x2f9773(0x2df)])world[_0x2f9773(0x1b4)][_0x2f9773(0x361)]();else world[_0x2f9773(0x1b4)][_0x2f9773(0x344)](document);world[_0x2f9773(0x182)]['playSound'](_0x2f9773(0x4d2),undefined,!![]);}for(var _0x16edf7 in this[_0x2f9773(0x2ae)]){if(!_0x509d9a&&_0x16edf7[_0x2f9773(0x42c)](_0x2f9773(0x4fc))||_0x16edf7[_0x2f9773(0x42c)](_0x2f9773(0x240)))_0x16edf7=_0x16edf7['replace']('Digit','')['replace'](_0x2f9773(0x240),'');if(world[_0x2f9773(0x233)]&&!_0x509d9a&&world[_0x2f9773(0x233)][_0x2f9773(0x373)](_0x16edf7)){world[_0x2f9773(0x182)]['playSound'](_0x2f9773(0x4d2),undefined,!![]),_0x509d9a=!![];if(world['GameUI'])world['GameUI'][_0x2f9773(0x4e2)]=!![];break;}if(world['villageUI']&&world[_0x2f9773(0x4b4)]['getKeyInput'](_0x16edf7)){world[_0x2f9773(0x182)]['playSound'](_0x2f9773(0x4d2),undefined,!![]),_0x509d9a=!![];if(world[_0x2f9773(0x4b4)])world['villageUI'][_0x2f9773(0x4e2)]=!![];break;}}this['keyUp']=[];if(this[_0x2f9773(0x35b)]){if(!_0x509d9a&&world['GameUI']&&world[_0x2f9773(0x233)][_0x2f9773(0x44f)](this['inputclick'])){world['Music'][_0x2f9773(0x3eb)]('click',undefined,!![]),_0x509d9a=!![];if(world['GameUI'])world[_0x2f9773(0x233)][_0x2f9773(0x4e2)]=!![];}if(!_0x509d9a&&world[_0x2f9773(0x4b4)]&&world['villageUI'][_0x2f9773(0x44f)](this[_0x2f9773(0x35b)])){world[_0x2f9773(0x182)]['playSound']('click',undefined,!![]),_0x509d9a=!![];if(world[_0x2f9773(0x4b4)])world['villageUI'][_0x2f9773(0x4e2)]=!![];}}this[_0x2f9773(0x35b)]=undefined;};},PLAYER_WEAPON_IMG=[{'name':_0x4113ca(0x25f),'center':{'x':0xa1,'y':0xd},'sound':'spear_attack'},{'name':_0x4113ca(0x4cc),'center':{'x':0x28,'y':0x11},'sound':_0x4113ca(0x37c)},{'name':'metal_axe','center':{'x':0x3c,'y':0x40},'sound':_0x4113ca(0x202)},{'name':_0x4113ca(0x4e7),'center':{'x':0x16,'y':0x11},'sound':_0x4113ca(0x2d5)},{'name':_0x4113ca(0x183),'center':{'x':0x32,'y':0x37},'sound':_0x4113ca(0x2d5)},{'name':_0x4113ca(0x220),'center':{'x':0x39,'y':0x25},'sound':_0x4113ca(0x4bd)},{'name':_0x4113ca(0x2ba),'center':{'x':0x41,'y':0x46},'sound':_0x4113ca(0x44c)}],WEAPON_TYPE=[{'name':'Wood\x20Stick','Img':'wood_stick','weaponAnim':'sword','bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':_0x4113ca(0x484),'input':{}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x4113ca(0x162),'type':'crushing','value':0x1}]}]},{'name':'Stone\x20Spear','Img':_0x4113ca(0x25f),'weaponAnim':_0x4113ca(0x4dc),'bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x4113ca(0x267),'damageBase':[{'stats':_0x4113ca(0x162),'type':'piercing','value':1.5}]},{'callback':_0x4113ca(0x425),'damageBase':[{'stats':_0x4113ca(0x162),'type':_0x4113ca(0x480),'value':0.5}]}]},{'name':'Stone\x20Axe','Img':'stone_axe','weaponAnim':_0x4113ca(0x394),'bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':_0x4113ca(0x4f0),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x4113ca(0x267),'damageBase':[{'stats':_0x4113ca(0x162),'type':_0x4113ca(0x1ec),'value':0x1},{'stats':_0x4113ca(0x162),'type':_0x4113ca(0x236),'value':0x1}]}]},{'name':'Metal\x20Sword','Img':'metal_sword','weaponAnim':_0x4113ca(0x394),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x4113ca(0x267),'damageBase':[{'stats':_0x4113ca(0x162),'type':_0x4113ca(0x480),'value':1.5},{'stats':_0x4113ca(0x162),'type':_0x4113ca(0x236),'value':1.5}]}]},{'name':_0x4113ca(0x396),'Img':_0x4113ca(0x334),'weaponAnim':_0x4113ca(0x39f),'actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':_0x4113ca(0x4f0),'input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x4113ca(0x162),'type':_0x4113ca(0x1ec),'value':0x2},{'stats':'Strength','type':_0x4113ca(0x236),'value':0x2}]},{'callback':_0x4113ca(0x481),'callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':'Strength','type':_0x4113ca(0x1ec),'value':0.2},{'stats':_0x4113ca(0x162),'type':_0x4113ca(0x236),'value':0.2}]}]},{'name':'Small\x20Woodbow','Img':_0x4113ca(0x220),'weaponAnim':'bow','bonus':[],'projectil':{'ammo':'wood_arrow','projectilSpeed':0x64,'sound':_0x4113ca(0x412)},'actionCost':0x32,'blockTargetingFunction':{'callback':_0x4113ca(0x410),'input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':_0x4113ca(0x267),'damageBase':[{'stats':'Dexterity','type':_0x4113ca(0x480),'value':0x1}]}]},{'name':_0x4113ca(0x158),'Img':'stone_pickaxe','weaponAnim':_0x4113ca(0x394),'actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':'getBlockAdjacent','input':{}},'zoneTarget':[{'callback':_0x4113ca(0x267),'damageBase':[{'stats':_0x4113ca(0x162),'type':'piercing','value':0x2}]}]}],Weapon=function(){var _0x6b4ad1=_0x4113ca;this[_0x6b4ad1(0x4c1)]=_0x6b4ad1(0x45d),this[_0x6b4ad1(0x2c7)],this['weaponAnim'],this[_0x6b4ad1(0x222)],this[_0x6b4ad1(0x458)],this[_0x6b4ad1(0x341)],this[_0x6b4ad1(0x222)],this[_0x6b4ad1(0x4f1)],this['blockTargetingFunction'],this[_0x6b4ad1(0x1fb)],this[_0x6b4ad1(0x2e6)]=_0x9b983=>{var _0x56af5f=_0x6b4ad1;if(!_0x9b983||!_0x9b983['name'])return console['log'](_0x56af5f(0x15b));var _0x1fddc6=WEAPON_TYPE[_0x56af5f(0x2ea)](_0x493b09=>_0x493b09[_0x56af5f(0x2c7)]==_0x9b983['name']);if(!_0x1fddc6)return console['log'](_0x56af5f(0x15b));var _0x3b7d66=PLAYER_WEAPON_IMG[_0x56af5f(0x2ea)](_0x18d19b=>_0x18d19b[_0x56af5f(0x2c7)]==_0x1fddc6[_0x56af5f(0x2b1)]);if(!_0x3b7d66)return console[_0x56af5f(0x3c2)](_0x56af5f(0x15b));return this[_0x56af5f(0x458)]=_0x3b7d66[_0x56af5f(0x2c7)],this['name']=_0x9b983[_0x56af5f(0x2c7)],this['anim']=_0x1fddc6[_0x56af5f(0x439)],this[_0x56af5f(0x222)]=_0x1fddc6[_0x56af5f(0x222)],this[_0x56af5f(0x4f1)]=_0x1fddc6['actionCost'],this[_0x56af5f(0x456)]=_0x1fddc6[_0x56af5f(0x456)],this[_0x56af5f(0x2ef)]=_0x1fddc6[_0x56af5f(0x2ef)],this[_0x56af5f(0x1fb)]=_0x1fddc6[_0x56af5f(0x1fb)],console[_0x56af5f(0x3c2)](_0x56af5f(0x47f)+this[_0x56af5f(0x1fb)][_0x56af5f(0x179)]),this;},this[_0x6b4ad1(0x482)]=()=>{var _0x55038e=_0x6b4ad1,_0x553317=WEAPON_TYPE[Math[_0x55038e(0x3d8)](Math[_0x55038e(0x325)]()*WEAPON_TYPE[_0x55038e(0x179)])];return this['createNewWeapon']({'name':_0x553317[_0x55038e(0x2c7)]});},this[_0x6b4ad1(0x509)]=()=>{var _0x56884f=_0x6b4ad1,_0x57ced5=_0x56884f(0x518)+this[_0x56884f(0x2c7)]+_0x56884f(0x3d9)+this[_0x56884f(0x4f1)]+_0x56884f(0x355);switch(this[_0x56884f(0x456)]['callback']){case'getBlockAdjacent':_0x57ced5+=_0x56884f(0x1d1);break;case _0x56884f(0x4f0):_0x57ced5+=_0x56884f(0x18e)+this[_0x56884f(0x456)][_0x56884f(0x257)][_0x56884f(0x318)]+','+this[_0x56884f(0x456)][_0x56884f(0x257)]['rangeMax']+']';break;}for(var _0x732d30 in this[_0x56884f(0x222)]){var _0x82a1b5=this[_0x56884f(0x222)][_0x732d30];switch(_0x82a1b5[_0x56884f(0x1a2)]){case'ReturnBlockTargeted':_0x57ced5+='\x0a-hit\x20the\x20selected\x20block';break;case _0x56884f(0x425):var _0x55ba9f=_0x82a1b5[_0x56884f(0x3d0)]?_0x82a1b5[_0x56884f(0x3d0)]['rangeMin']:0x1,_0x1edad7=_0x82a1b5[_0x56884f(0x3d0)]?_0x82a1b5[_0x56884f(0x3d0)]['rangeMax']:0x1;_0x57ced5+=_0x56884f(0x1d3)+[_0x55ba9f,_0x1edad7]+_0x56884f(0x186);break;case _0x56884f(0x481):var _0x55ba9f=_0x82a1b5[_0x56884f(0x3d0)]?_0x82a1b5['callback_data'][_0x56884f(0x318)]:0x1,_0x1edad7=_0x82a1b5['callback_data']?_0x82a1b5[_0x56884f(0x3d0)][_0x56884f(0x2c3)]:0x1;_0x57ced5+=_0x56884f(0x39e)+[_0x55ba9f,_0x1edad7]+_0x56884f(0x42a);break;}for(var _0xfeec18 in _0x82a1b5[_0x56884f(0x350)]){var _0x298f03=_0x82a1b5[_0x56884f(0x350)][_0xfeec18];_0x57ced5+=_0x56884f(0x272)+_0x298f03[_0x56884f(0x33b)]+'\x20'+_0x298f03[_0x56884f(0x159)]+'\x20'+_0x298f03['type']+_0x56884f(0x1ab);}}for(var _0x732d30 in this['bonus'])if(BONUS_DESCRIPTION[this[_0x56884f(0x1fb)]])_0x57ced5+='\x0a'+BONUS_DESCRIPTION[this['bonus']];return _0x57ced5;};};function CalculeDamageWeaponFromPlayerStats(_0xb5dc6d){var _0x5508e3=_0x4113ca;if(!_0xb5dc6d||!_0xb5dc6d[_0x5508e3(0x3cb)]||!_0xb5dc6d[_0x5508e3(0x3f7)])return undefined;var _0x446131=_0xb5dc6d['damage'],_0xafb858=_0xb5dc6d['player'],_0x2cd92f=[];for(var _0x537f28 in _0x446131)_0x2cd92f[_0x5508e3(0x346)]({'type':_0x446131[_0x537f28][_0x5508e3(0x492)],'value':_0xafb858[_0x5508e3(0x159)][_0x446131[_0x537f28]['stats']]*_0x446131[_0x537f28][_0x5508e3(0x33b)]});return _0x2cd92f;}PLAYER_ARMOR=[{'name':_0x4113ca(0x1ba),'img':_0x4113ca(0x39b),'dmgArmor':[{'damage':_0x4113ca(0x1ec),'type':_0x4113ca(0x20b),'value':0x14},{'damage':_0x4113ca(0x480),'value':0x2}]}],PLAYER_ARMOR=[{'name':_0x4113ca(0x44e),'img':'miner_helmet','dmgArmor':[{'damage':_0x4113ca(0x1ec),'type':_0x4113ca(0x20b),'value':0x19},{'damage':_0x4113ca(0x1ec),'value':0x5}]}],Armor=function(){var _0x289ad6=_0x4113ca;this[_0x289ad6(0x4c1)]='armor',this[_0x289ad6(0x2c7)],this['img'],this[_0x289ad6(0x407)],this[_0x289ad6(0x2bf)]=_0xc05de0=>{var _0x535596=_0x289ad6;if(!_0xc05de0||!_0xc05de0[_0x535596(0x2c7)])return undefined;this[_0x535596(0x2c7)]=_0xc05de0['name'];var _0x4025aa=PLAYER_ARMOR[_0x535596(0x2ea)](_0x5a656c=>_0x5a656c[_0x535596(0x2c7)]==_0xc05de0[_0x535596(0x2c7)]);if(!_0x4025aa)return undefined;return this[_0x535596(0x458)]=_0x4025aa[_0x535596(0x458)]?_0x4025aa[_0x535596(0x458)]:this['name'],this[_0x535596(0x407)]=_0x4025aa[_0x535596(0x407)],this;},this['createRandomArmor']=()=>{var _0x24df88=_0x289ad6;return this['createNewArmor']({'name':PLAYER_ARMOR[Math[_0x24df88(0x3d8)](Math[_0x24df88(0x325)]()*PLAYER_ARMOR[_0x24df88(0x179)])][_0x24df88(0x2c7)]});},this[_0x289ad6(0x4cd)]=_0x27b54c=>{var _0xe7c83f=_0x289ad6;if(!_0x27b54c||!_0x27b54c[_0xe7c83f(0x501)]||_0x27b54c[_0xe7c83f(0x501)][_0xe7c83f(0x179)]<0x1)return 0x0;var _0x28326c=0x0;for(var _0x22b428 in _0x27b54c[_0xe7c83f(0x501)]){var _0x274fb0=_0x27b54c['damages'][_0x22b428],_0x5692a9=_0x274fb0[_0xe7c83f(0x33b)];console[_0xe7c83f(0x3c2)](_0xe7c83f(0x4e9)+_0x274fb0+'\x20'+_0x5692a9);for(var _0x3ac9d7 in this[_0xe7c83f(0x407)]){var _0x3c215a=this['dmgArmor'][_0x3ac9d7];console[_0xe7c83f(0x3c2)](_0xe7c83f(0x207)+[_0x3c215a[_0xe7c83f(0x3f7)],_0x3c215a[_0xe7c83f(0x492)],_0x274fb0['type']]);if(_0x3c215a['damage']==_0x274fb0[_0xe7c83f(0x492)]){console[_0xe7c83f(0x3c2)](_0xe7c83f(0x4a3)+_0x274fb0[_0xe7c83f(0x492)]+_0xe7c83f(0x193)+_0x3c215a['value']+_0xe7c83f(0x1f2)+_0x3c215a['type']);if(_0x3c215a['type'])_0x5692a9=_0x5692a9*(0x1-_0x3c215a['value']/0x64);else _0x5692a9=_0x5692a9-_0x3c215a[_0xe7c83f(0x33b)];}}if(_0x5692a9>0x0)_0x28326c+=_0x5692a9;}console[_0xe7c83f(0x3c2)]('damage\x20after\x20armor\x20reduction\x20:\x20'+_0x28326c+'\x20('+Math[_0xe7c83f(0x3d8)](_0x28326c)+')');if(_0x28326c>0x0)return Math[_0xe7c83f(0x3d8)](_0x28326c);return 0x0;},this[_0x289ad6(0x43e)]=()=>{var _0x2744aa=_0x289ad6,_0x222f0c='\x27'+this[_0x2744aa(0x2c7)]+'\x27';for(var _0x17c284 in this[_0x2744aa(0x407)]){_0x222f0c+=_0x2744aa(0x19a);if(this[_0x2744aa(0x407)][_0x17c284][_0x2744aa(0x492)])_0x222f0c+=this['dmgArmor'][_0x17c284][_0x2744aa(0x33b)]+_0x2744aa(0x50c);else _0x222f0c+=this[_0x2744aa(0x407)][_0x17c284][_0x2744aa(0x33b)]+'\x20';_0x222f0c+=this[_0x2744aa(0x407)][_0x17c284][_0x2744aa(0x3f7)]+_0x2744aa(0x2d7);}return _0x222f0c;};},HUMAN_NAME_LIST=['Lilianna\x20Doyle','Kashton\x20McCarty','Halo\x20Knapp',_0x4113ca(0x1ce),_0x4113ca(0x282),'Collin\x20Snow','Alexia\x20Anderson','Jacob\x20Knapp','Linda\x20Castillo',_0x4113ca(0x3e5),_0x4113ca(0x30c),'Carson\x20Hunter',_0x4113ca(0x491),_0x4113ca(0x19c),_0x4113ca(0x1c2),_0x4113ca(0x211),_0x4113ca(0x1fe),'Cade\x20Patton',_0x4113ca(0x1ee),_0x4113ca(0x1e7),_0x4113ca(0x4b6),_0x4113ca(0x1b0),_0x4113ca(0x34b),_0x4113ca(0x2a3),_0x4113ca(0x4d1),_0x4113ca(0x508),'Murphy\x20Nava','Stefan\x20Christian',_0x4113ca(0x1fc),'Keegan\x20Doyle','Annalise\x20Carson',_0x4113ca(0x3ae),_0x4113ca(0x29b),_0x4113ca(0x2bd),_0x4113ca(0x424),'Vincent\x20Dougherty',_0x4113ca(0x3df),_0x4113ca(0x50b),_0x4113ca(0x4ad),_0x4113ca(0x258),_0x4113ca(0x2f7),'Azrael\x20Ali',_0x4113ca(0x3bb),_0x4113ca(0x208),_0x4113ca(0x238),'Magnus\x20Yoder',_0x4113ca(0x3ea),_0x4113ca(0x1f4),'Vada\x20Conley',_0x4113ca(0x378),_0x4113ca(0x2a1),_0x4113ca(0x187),'Amira\x20Escobar','Zachariah\x20Berg','Emmalyn\x20Spence',_0x4113ca(0x32b),_0x4113ca(0x1c0),'Callahan\x20Schmitt','Queen\x20Watson',_0x4113ca(0x347),'Hazel\x20Crawford',_0x4113ca(0x327),'Capri\x20Glenn','Zaid\x20Terry',_0x4113ca(0x1b3),_0x4113ca(0x15f),_0x4113ca(0x47e),_0x4113ca(0x1e4),'Scarlett\x20Mays','Jadiel\x20McDonald',_0x4113ca(0x2fd),'Matthew\x20Beil',_0x4113ca(0x39c),'Dennis\x20Parrish',_0x4113ca(0x2db),_0x4113ca(0x20a),'Treasure\x20Quintana',_0x4113ca(0x4dd),_0x4113ca(0x2c2),_0x4113ca(0x310),_0x4113ca(0x44d),_0x4113ca(0x175),_0x4113ca(0x157),_0x4113ca(0x36e),_0x4113ca(0x1f0),'Stephen\x20Bartlett',_0x4113ca(0x2a7),'Jamison\x20Pace','Giana\x20Hudson',_0x4113ca(0x26b),_0x4113ca(0x495),'David\x20Grant',_0x4113ca(0x4b8),'Ander\x20Wise',_0x4113ca(0x4aa),_0x4113ca(0x47d),_0x4113ca(0x23e),_0x4113ca(0x500),_0x4113ca(0x3b2),'Krew\x20Pruitt'],MessageSystem=function(){var _0x1e2125=_0x4113ca;world[_0x1e2125(0x40d)]=this,this[_0x1e2125(0x4e8)]=[],COLOR_SYSTEM_DEFAULT=_0x1e2125(0x317),MAX_MESSAGE=0xc8,this[_0x1e2125(0x4f8)]=_0x24fea1=>{var _0x1f1279=_0x1e2125;if(!_0x24fea1||!_0x24fea1['txt'])return;this[_0x1f1279(0x4e8)][_0x1f1279(0x2d8)]({'type':_0x24fea1[_0x1f1279(0x492)],'txt':_0x24fea1[_0x1f1279(0x322)]});while(this[_0x1f1279(0x4e8)][_0x1f1279(0x179)]>MAX_MESSAGE)this[_0x1f1279(0x4e8)]['pop']();},this[_0x1e2125(0x4f8)]({'txt':_0x1e2125(0x3cf)}),this[_0x1e2125(0x274)]=_0x2cec19=>{var _0x25c677=_0x1e2125;if(!_0x2cec19||!this['msg']||this['msg'][_0x25c677(0x179)]<0x1)return[];var _0x5d94cc=_0x2cec19['page']&&_0x2cec19[_0x25c677(0x339)]<this[_0x25c677(0x4e8)][_0x25c677(0x179)]?_0x2cec19['page']:0x0,_0xf17b03=_0x2cec19[_0x25c677(0x2fe)]?_0x2cec19[_0x25c677(0x2fe)]:0xa;while(_0x5d94cc+_0xf17b03>this[_0x25c677(0x4e8)][_0x25c677(0x179)]&&_0xf17b03>0x0)_0xf17b03--;var _0x17abd6=[],_0x44214d=0x0;while(_0x44214d<_0xf17b03&&this['msg'][_0x5d94cc+_0x44214d]){_0x17abd6[_0x25c677(0x346)](this[_0x25c677(0x4e8)][_0x5d94cc+_0x44214d]),_0x44214d++;}return _0x17abd6;};},PlayerVillage=function(_0x31d513){var _0x5e01b3=_0x4113ca;this[_0x5e01b3(0x2c7)]=_0x31d513[_0x5e01b3(0x2c7)]?_0x31d513[_0x5e01b3(0x2c7)]:HUMAN_NAME_LIST[Math['floor'](Math[_0x5e01b3(0x325)]()*HUMAN_NAME_LIST[_0x5e01b3(0x179)])],this[_0x5e01b3(0x307)]=_0x31d513['color']?_0x31d513[_0x5e01b3(0x307)]:{'r':Math[_0x5e01b3(0x3d8)](Math[_0x5e01b3(0x325)]()*0x100),'g':Math[_0x5e01b3(0x3d8)](Math[_0x5e01b3(0x325)]()*0x100),'b':Math[_0x5e01b3(0x3d8)](Math['random']()*0x100)},this['bodyPartImg']=undefined,this[_0x5e01b3(0x306)]=![],this[_0x5e01b3(0x2eb)]=_0x31d513[_0x5e01b3(0x2eb)]?_0x31d513[_0x5e01b3(0x2eb)]:PLAYER_FACE_IMG[Math[_0x5e01b3(0x3d8)](Math[_0x5e01b3(0x325)]()*PLAYER_FACE_IMG['length'])],this[_0x5e01b3(0x36a)]=_0x31d513[_0x5e01b3(0x36a)]?_0x31d513[_0x5e01b3(0x36a)]:PLAYER_BODY_IMG[Math[_0x5e01b3(0x3d8)](Math[_0x5e01b3(0x325)]()*PLAYER_BODY_IMG[_0x5e01b3(0x179)])],this[_0x5e01b3(0x4c5)]=_0x31d513[_0x5e01b3(0x4c5)]?_0x31d513[_0x5e01b3(0x4c5)]:undefined,this[_0x5e01b3(0x45d)]=_0x31d513['weapon']?_0x31d513[_0x5e01b3(0x45d)]:undefined,this['speed']=_0x31d513['speed']?_0x31d513[_0x5e01b3(0x349)]:0x64,this[_0x5e01b3(0x245)]=_0x31d513[_0x5e01b3(0x245)]?_0x31d513[_0x5e01b3(0x245)]:0x64,this['lifeMax']=_0x31d513[_0x5e01b3(0x1d6)]?_0x31d513[_0x5e01b3(0x1d6)]:0x64,this['stats']=_0x31d513[_0x5e01b3(0x159)],this[_0x5e01b3(0x3e4)]=_0x31d513[_0x5e01b3(0x3e4)]?_0x31d513['movePCost']:PLAYER_DEFAUTL_MOVECOST,this[_0x5e01b3(0x434)]=_0x31d513['size']?_0x31d513[_0x5e01b3(0x434)]:0x1,this['id']=PLAYER_ID++,this[_0x5e01b3(0x215)]=_0x31d513[_0x5e01b3(0x215)]?_0x31d513[_0x5e01b3(0x215)]:0xa,this[_0x5e01b3(0x48c)]=this[_0x5e01b3(0x215)],this[_0x5e01b3(0x485)]=_0x31d513['age']?_0x31d513[_0x5e01b3(0x438)]:0x0,this[_0x5e01b3(0x45e)]=_0x31d513['lvl']?_0x31d513[_0x5e01b3(0x45e)]:0x1,this[_0x5e01b3(0x338)]=_0x31d513[_0x5e01b3(0x338)]?_0x31d513[_0x5e01b3(0x338)]:0x0,this[_0x5e01b3(0x33c)]=[],this[_0x5e01b3(0x453)]=()=>{var _0x41fddf=_0x5e01b3,_0x164354=[],_0x300998=Math[_0x41fddf(0x3d8)](Math[_0x41fddf(0x325)]()*0x64),_0x3aa516=_0x41fddf(0x159),_0x513eae=[{'type':_0x41fddf(0x159),'stat':_0x41fddf(0x162),'value':0x1},{'type':_0x41fddf(0x159),'stat':_0x41fddf(0x1bd),'value':0x1},{'type':_0x41fddf(0x281),'stat':_0x41fddf(0x1d6),'value':0x5},{'type':_0x41fddf(0x281),'stat':_0x41fddf(0x349),'value':0x2},{'type':'playerstats','stat':_0x41fddf(0x3e4),'value':-0x1},{'type':'playerstats','stat':'ActionPointMax','value':0x4},{'type':_0x41fddf(0x281),'stat':'villageActionPointMax','value':0x5}];while(_0x164354[_0x41fddf(0x179)]<0x3){for(var _0x2fc411 in _0x513eae){if(Math['floor'](Math[_0x41fddf(0x325)]()*0x64)<0x32)_0x164354[_0x41fddf(0x346)](_0x513eae[_0x2fc411]);if(_0x164354[_0x41fddf(0x179)]>0x2)break;}}return this['lvlupList']=_0x164354,_0x164354;},this['ApplyListPerkUp']=_0x281a7f=>{var _0x506367=_0x5e01b3;if(!_0x281a7f||!_0x281a7f[_0x506367(0x492)]||!this['lvlup'])return;if(_0x281a7f[_0x506367(0x492)]==_0x506367(0x281))this[_0x281a7f[_0x506367(0x3a6)]]+=_0x281a7f[_0x506367(0x33b)];else _0x281a7f[_0x506367(0x492)]==_0x506367(0x159)&&(this[_0x506367(0x159)][_0x281a7f['stat']]+=_0x281a7f['value']);world['village'][_0x506367(0x40d)][_0x506367(0x4f8)]({'type':_0x506367(0x3cb),'txt':this['name']+'\x27s\x20'+_0x281a7f[_0x506367(0x3a6)]+'\x20'+_0x281a7f[_0x506367(0x33b)]}),this[_0x506367(0x33c)]=[],this['lvlup']--,this[_0x506367(0x45e)]++;},this[_0x5e01b3(0x45c)]=()=>{var _0x47a1a9=_0x5e01b3,_0x534070=0x32*(0x1-this[_0x47a1a9(0x45e)]/0x64),_0xb92099=Math[_0x47a1a9(0x3d8)](Math[_0x47a1a9(0x325)]()*0x64);if(_0xb92099<_0x534070)return this[_0x47a1a9(0x338)]++,world[_0x47a1a9(0x1c7)][_0x47a1a9(0x40d)]['addMessage']({'type':_0x47a1a9(0x3cb),'txt':this[_0x47a1a9(0x2c7)]+_0x47a1a9(0x2e0)}),world[_0x47a1a9(0x182)][_0x47a1a9(0x3eb)](_0x47a1a9(0x338)),!![];return![];},this[_0x5e01b3(0x19f)]=()=>{var _0x4750d5=_0x5e01b3,_0x2b23ed=''+this[_0x4750d5(0x2c7)];_0x2b23ed+='\x0a'+'Life\x20Max\x20:\x20'+this['lifeMax'],_0x2b23ed+='\x0a'+_0x4750d5(0x42f)+this['ActionPointMax'],_0x2b23ed+='\x0a'+_0x4750d5(0x4f7)+this[_0x4750d5(0x349)];for(var _0x3339d3 in this[_0x4750d5(0x159)])_0x2b23ed+='\x0a'+_0x3339d3+'\x20:\x20'+this[_0x4750d5(0x159)][_0x3339d3];return this[_0x4750d5(0x45d)]&&(_0x2b23ed+='\x0a'+_0x4750d5(0x216)+this[_0x4750d5(0x45d)]['name']+'\x27',_0x2b23ed+='\x0a'+_0x4750d5(0x2d0)+[this[_0x4750d5(0x45d)][_0x4750d5(0x456)][_0x4750d5(0x1a2)]]),_0x2b23ed;},this[_0x5e01b3(0x294)]=()=>{var _0x10c92e=_0x5e01b3;if(!this[_0x10c92e(0x48c)])return[];var _0x577864=world[_0x10c92e(0x1c7)][_0x10c92e(0x311)](this);if(!_0x577864||!_0x577864[_0x10c92e(0x51d)]||!_0x577864[_0x10c92e(0x51d)][_0x10c92e(0x179)])return[];var _0x451393=_0x577864[_0x10c92e(0x51d)][_0x10c92e(0x368)](_0x22dc5c=>_0x22dc5c['cost']<=this[_0x10c92e(0x48c)]);return _0x451393;},this[_0x5e01b3(0x1d8)]=()=>{var _0x36047d=_0x5e01b3;this[_0x36047d(0x45d)]&&(world[_0x36047d(0x1c7)][_0x36047d(0x4f6)]({'weapon':this['weapon']}),this[_0x36047d(0x45d)]=undefined);},this[_0x5e01b3(0x51a)]=()=>{var _0x30c622=_0x5e01b3;if(this[_0x30c622(0x4c5)])world[_0x30c622(0x1c7)][_0x30c622(0x31c)]({'armor':this[_0x30c622(0x4c5)]});this[_0x30c622(0x4c5)]=undefined,this[_0x30c622(0x306)]=![];},this[_0x5e01b3(0x26d)]=_0x166f85=>{var _0x4b8569=_0x5e01b3;if(!_0x166f85||!_0x166f85[_0x4b8569(0x2e1)])return;if(_0x166f85[_0x4b8569(0x2e1)][_0x4b8569(0x4c1)]==_0x4b8569(0x4c5))this[_0x4b8569(0x51a)]();else{if(_0x166f85[_0x4b8569(0x2e1)][_0x4b8569(0x4c1)]=='weapon')this[_0x4b8569(0x1d8)]();}},this[_0x5e01b3(0x2a0)]=_0x245443=>{var _0xeaf98f=_0x5e01b3;if(!_0x245443||!_0x245443[_0xeaf98f(0x45d)])return;var _0x30d234=-0x1;for(var _0xa7dfdc in world['village'][_0xeaf98f(0x384)])if(world[_0xeaf98f(0x1c7)][_0xeaf98f(0x384)][_0xa7dfdc]==_0x245443[_0xeaf98f(0x45d)])_0x30d234=_0xa7dfdc;if(_0x30d234==-0x1)return;if(this[_0xeaf98f(0x45d)])this[_0xeaf98f(0x1d8)]();this['weapon']=_0x245443[_0xeaf98f(0x45d)],world['village'][_0xeaf98f(0x384)][_0xeaf98f(0x3d3)](_0x30d234,0x1);if(world[_0xeaf98f(0x4b4)]&&world[_0xeaf98f(0x4b4)][_0xeaf98f(0x4ab)]==_0x245443[_0xeaf98f(0x45d)])world[_0xeaf98f(0x4b4)][_0xeaf98f(0x4ab)]=undefined;},this[_0x5e01b3(0x47c)]=_0x2d3870=>{var _0x5dfb6b=_0x5e01b3;if(!_0x2d3870||!_0x2d3870[_0x5dfb6b(0x4c5)])return;var _0x44aaaf=-0x1;for(var _0x5ce874 in world[_0x5dfb6b(0x1c7)][_0x5dfb6b(0x384)])if(world[_0x5dfb6b(0x1c7)]['Items'][_0x5ce874]==_0x2d3870[_0x5dfb6b(0x4c5)])_0x44aaaf=_0x5ce874;if(_0x44aaaf==-0x1)return;if(this[_0x5dfb6b(0x4c5)])this[_0x5dfb6b(0x51a)]();this[_0x5dfb6b(0x4c5)]=_0x2d3870[_0x5dfb6b(0x4c5)],world[_0x5dfb6b(0x1c7)]['Items'][_0x5dfb6b(0x3d3)](_0x44aaaf,0x1);if(world[_0x5dfb6b(0x4b4)]&&world['villageUI'][_0x5dfb6b(0x4ab)]==_0x2d3870[_0x5dfb6b(0x4c5)])world[_0x5dfb6b(0x4b4)]['itemSelected']=undefined;this[_0x5dfb6b(0x306)]=![];},this['equipItem']=_0x1639fa=>{var _0x17dbd1=_0x5e01b3;if(!_0x1639fa||!_0x1639fa[_0x17dbd1(0x2e1)])return;if(_0x1639fa[_0x17dbd1(0x2e1)]['itemType']==_0x17dbd1(0x4c5))this[_0x17dbd1(0x47c)]();else{if(_0x1639fa[_0x17dbd1(0x2e1)][_0x17dbd1(0x4c1)]==_0x17dbd1(0x45d))this[_0x17dbd1(0x2a0)]();}},this['LoadPlayerVillageImage']=()=>{var _0xb79437=_0x5e01b3,_0x5163f5=world[_0xb79437(0x167)];if(!this[_0xb79437(0x2eb)])this[_0xb79437(0x2eb)]=PLAYER_FACE_IMG[Math[_0xb79437(0x3d8)](Math[_0xb79437(0x325)]()*PLAYER_FACE_IMG[_0xb79437(0x179)])];if(!this[_0xb79437(0x36a)])this['body_type']=PLAYER_BODY_IMG[Math[_0xb79437(0x3d8)](Math['random']()*PLAYER_BODY_IMG[_0xb79437(0x179)])];var _0x36707c=[];_0x36707c[_0xb79437(0x346)]({'name':this['body_type'],'needColor':!![]}),_0x36707c[_0xb79437(0x346)]({'name':this[_0xb79437(0x2eb)],'needColor':![]});if(this[_0xb79437(0x4c5)])_0x36707c[_0xb79437(0x346)]({'name':this[_0xb79437(0x4c5)][_0xb79437(0x2c7)],'needColor':![]});for(var _0x2c326a in _0x36707c)if(!_0x5163f5[_0x36707c[_0x2c326a][_0xb79437(0x2c7)]]||!_0x5163f5[_0x36707c[_0x2c326a][_0xb79437(0x2c7)]][_0xb79437(0x51c)])return console[_0xb79437(0x3c2)](_0xb79437(0x497)+_0x36707c[_0x2c326a]['name']);var _0x265404=document[_0xb79437(0x260)](_0xb79437(0x1f3));_0x265404['width']=PLAYER_DEFAULT_SIZEX,_0x265404[_0xb79437(0x3f4)]=PLAYER_DEFAULT_SIZEY;var _0x19f7a0=_0x265404['getContext']('2d');for(var _0x2c326a in _0x36707c){var _0xd90875=_0x36707c[_0x2c326a][_0xb79437(0x2c7)];if(!_0x5163f5[_0xd90875])return console[_0xb79437(0x3c2)](_0xb79437(0x4d0)+_0xd90875);var _0x3707e2=undefined;if(_0x36707c[_0x2c326a][_0xb79437(0x526)])_0x3707e2=_0x5163f5[_0xd90875][_0xb79437(0x413)](0x0,0xff,0x0,this[_0xb79437(0x307)]['r'],this[_0xb79437(0x307)]['g'],this['color']['b']);else _0x3707e2=_0x5163f5[_0xd90875][_0xb79437(0x458)];if(!_0x3707e2||!_0x3707e2[_0xb79437(0x4e4)])return console[_0xb79437(0x3c2)](_0xb79437(0x3fd));_0x19f7a0[_0xb79437(0x184)](_0x3707e2,0x0,0x0);}var _0x3707e2=new Image();return _0x3707e2[_0xb79437(0x420)]=_0x265404['toDataURL'](),this[_0xb79437(0x252)]=_0x3707e2,console[_0xb79437(0x3c2)](_0xb79437(0x372)+this[_0xb79437(0x2c7)]+_0xb79437(0x400)),this[_0xb79437(0x306)]=!![],!![];},this[_0x5e01b3(0x423)]();},Batiment=function(_0x3ea1db){var _0xedabfb=_0x4113ca;this['name']=_0x3ea1db[_0xedabfb(0x2c7)],this[_0xedabfb(0x41a)]=_0x3ea1db[_0xedabfb(0x41a)]?_0x3ea1db[_0xedabfb(0x41a)]:0x0,this[_0xedabfb(0x51d)]=_0x3ea1db[_0xedabfb(0x51d)],this[_0xedabfb(0x375)]=[],this[_0xedabfb(0x288)]=_0x3ea1db[_0xedabfb(0x288)]?_0x3ea1db[_0xedabfb(0x288)]:_0xedabfb(0x2f5),this['blocking_end_turn']=_0x3ea1db[_0xedabfb(0x1fa)]?_0x3ea1db[_0xedabfb(0x1fa)]:![],this[_0xedabfb(0x477)]=_0x3ea1db[_0xedabfb(0x477)]?_0x3ea1db[_0xedabfb(0x477)]:undefined,this[_0xedabfb(0x40c)]=_0x3ea1db['build_progression']?_0x3ea1db[_0xedabfb(0x40c)]:undefined,this[_0xedabfb(0x45e)]=_0x3ea1db[_0xedabfb(0x45e)]?_0x3ea1db[_0xedabfb(0x45e)]:undefined,this['upgrades']=_0x3ea1db['upgrades']?_0x3ea1db[_0xedabfb(0x200)]:[],this[_0xedabfb(0x212)]=_0x3ea1db['upgrades_callback']?_0x3ea1db[_0xedabfb(0x212)]:undefined,this[_0xedabfb(0x521)]=_0x5f27da=>{var _0xacb31=_0xedabfb;if(!_0x5f27da||!_0x5f27da[_0xacb31(0x3cb)]||!_0x5f27da[_0xacb31(0x3cb)][_0xacb31(0x48c)])return![];var _0x5196b9=this[_0xacb31(0x40c)]<_0x5f27da[_0xacb31(0x3cb)][_0xacb31(0x48c)]?this['build_progression']:_0x5f27da[_0xacb31(0x3cb)][_0xacb31(0x48c)];return this[_0xacb31(0x40c)]-=_0x5196b9,_0x5f27da[_0xacb31(0x3cb)][_0xacb31(0x48c)]-=_0x5196b9,world['village'][_0xacb31(0x40d)][_0xacb31(0x4f8)]({'type':'building','txt':_0x5f27da[_0xacb31(0x3cb)][_0xacb31(0x2c7)]+_0xacb31(0x172)+this['name']+_0xacb31(0x476)+_0x5196b9+')'}),this[_0xacb31(0x40c)]<0x1&&(this['build_progression']=undefined,world[_0xacb31(0x1c7)][_0xacb31(0x40d)]['addMessage']({'type':_0xacb31(0x385),'txt':_0xacb31(0x462)+this[_0xacb31(0x2c7)]+_0xacb31(0x234)})),world[_0xacb31(0x182)][_0xacb31(0x3eb)]('hammer_nails'),!![];},this[_0xedabfb(0x382)]=()=>{var _0x30296e=_0xedabfb;if(!this[_0x30296e(0x200)]||!this[_0x30296e(0x200)][_0x30296e(0x179)])return undefined;return this['upgrades'][0x0];},this[_0xedabfb(0x389)]=()=>{var _0x39b104=_0xedabfb;if(!this['upgrades']||!this['upgrades'][_0x39b104(0x179)])return![];var _0x1f66b1=this[_0x39b104(0x382)]();if(_0x1f66b1[_0x39b104(0x3c8)]){if(!world[_0x39b104(0x1c7)][_0x39b104(0x1b1)](_0x1f66b1))return console[_0x39b104(0x3c2)](_0x39b104(0x3f1));}return console[_0x39b104(0x3c2)](_0x39b104(0x43b)),world[_0x39b104(0x182)]['playSound'](_0x39b104(0x415)),!![];},this['TryUpgrade']=()=>{var _0x2747f1=_0xedabfb,_0x3005f8=this['getNextUpgrade']();if(this[_0x2747f1(0x389)]()){world['village'][_0x2747f1(0x40d)][_0x2747f1(0x4f8)]({'type':_0x2747f1(0x385),'txt':this[_0x2747f1(0x2c7)]+'\x20uppgraded\x20to\x20LvL\x20'+(this[_0x2747f1(0x45e)]+0x1)}),world[_0x2747f1(0x1c7)]['removeResource'](_0x3005f8);if(this[_0x2747f1(0x212)])this['upgrades_callback']({'bat':this});this[_0x2747f1(0x200)][_0x2747f1(0x2ec)](),this[_0x2747f1(0x45e)]++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':_0x4113ca(0x466),'type':'weapon','bat':_0x4113ca(0x50e),'resources':{'wood':0xa},'APcost':0xa,'description':_0x4113ca(0x4ef)},{'name':'Wood\x20Armor','type':'armor','bat':'workshop','resources':{'wood':0x19},'APcost':0xa,'description':_0x4113ca(0x4fe)},{'name':_0x4113ca(0x205),'type':_0x4113ca(0x45d),'bat':_0x4113ca(0x50e),'resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':_0x4113ca(0x4e5)},{'name':_0x4113ca(0x158),'type':'weapon','bat':_0x4113ca(0x50e),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x4113ca(0x235)},{'name':_0x4113ca(0x15d),'type':_0x4113ca(0x45d),'bat':_0x4113ca(0x50e),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x4113ca(0x369)},{'name':_0x4113ca(0x44e),'type':_0x4113ca(0x4c5),'bat':_0x4113ca(0x50e),'resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':_0x4113ca(0x490)},{'name':_0x4113ca(0x3aa),'type':_0x4113ca(0x45d),'bat':_0x4113ca(0x295),'resources':{'wood':0x64},'APcost':0xa,'description':_0x4113ca(0x3bf)}],Village=function(_0x5b6e65){var _0x457dec=_0x4113ca;this[_0x457dec(0x525)]=_0x5b6e65[_0x457dec(0x16b)]?_0x5b6e65[_0x457dec(0x16b)]:0x1,this[_0x457dec(0x3c8)]=_0x5b6e65['resources']?_0x5b6e65['resources']:{'food':0x0,'wood':0x0},this[_0x457dec(0x4ca)]=_0x5b6e65[_0x457dec(0x4ca)]?_0x5b6e65[_0x457dec(0x4ca)]:[],this[_0x457dec(0x388)]=_0x5b6e65[_0x457dec(0x388)]?_0x5b6e65[_0x457dec(0x388)]:[],this[_0x457dec(0x271)]=[],this[_0x457dec(0x34f)]=_0x5b6e65['week']?_0x5b6e65[_0x457dec(0x34f)]:0x0,this[_0x457dec(0x40d)]=new MessageSystem();var _0x970b0e=0x0;PHASE_NEWTURN=_0x970b0e++,PHASE_PLACEPLAYER=_0x970b0e++,PHASE_ACTIONPLAYER=_0x970b0e++,PHASE_COMBAT=_0x970b0e++,PHASE_END_TURN=_0x970b0e++,this['phase']=PHASE_NEWTURN,this[_0x457dec(0x384)]=[],this[_0x457dec(0x429)]=_0x5b6e65[_0x457dec(0x429)]?_0x5b6e65[_0x457dec(0x429)]:HUMAN_DEFAULT_COLOR[Math[_0x457dec(0x3d8)](Math['random']()*HUMAN_DEFAULT_COLOR[_0x457dec(0x179)])],this['getDateText']=()=>{var _0x3fa114=_0x457dec,_0x3ec7c6=Math['floor'](this[_0x3fa114(0x34f)]/(0xc*0x4)),_0x544ab2=Math[_0x3fa114(0x3d8)](this['week']/0x4)%0xc,_0x21497f=this[_0x3fa114(0x34f)]%0x4+0x1,_0x357ded=_0x3fa114(0x3b1)+this[_0x3fa114(0x34f)];_0x357ded+='\x20:\x20';if(_0x3ec7c6)_0x357ded+='year\x20'+_0x3ec7c6;if(_0x544ab2)_0x357ded+=_0x3fa114(0x1d7)+_0x544ab2;return _0x357ded+=_0x3fa114(0x227)+_0x21497f,_0x357ded;},this['get_valid_craft_list']=()=>{var _0xd1bdb1=_0x457dec,_0xf753ba=[];for(var _0x1a97c8 in CRAFT_LIST){var _0x7c1d9f=CRAFT_LIST[_0x1a97c8],_0x29525f=this['bats'][_0xd1bdb1(0x2ea)](_0x472dab=>_0x472dab[_0xd1bdb1(0x2c7)]==_0x7c1d9f[_0xd1bdb1(0x273)]);if(!_0x29525f||_0x29525f['build_progression'])continue;_0xf753ba[_0xd1bdb1(0x346)](_0x7c1d9f);}return _0xf753ba;},this[_0x457dec(0x265)]=_0x217b45=>{var _0x14dffc=_0x457dec;if(!_0x217b45||!_0x217b45[_0x14dffc(0x223)])return[];var _0x17df90=[],_0x17374c=_0x217b45[_0x14dffc(0x223)];for(var _0x5aca in this[_0x14dffc(0x4ca)]){var _0x1f5558=this[_0x14dffc(0x4ca)][_0x5aca],_0x427762=this['getBatFromPlayer'](_0x1f5558);if(!_0x427762||_0x427762[_0x14dffc(0x2c7)]!=_0x17374c[_0x14dffc(0x273)])continue;if(_0x1f5558[_0x14dffc(0x48c)]<_0x17374c[_0x14dffc(0x381)])continue;for(var _0xa49719 in _0x17374c['resource']){var _0x857d44=_0xa49719,_0x16d77a=_0x17374c[_0x14dffc(0x447)][_0xa49719];if(!this[_0x14dffc(0x3c8)][_0x14dffc(0x47a)]||this['resources']['res']<_0x16d77a)continue;}_0x17df90[_0x14dffc(0x346)](_0x1f5558);}return _0x17df90;},this['TryCraftItem']=_0x704bca=>{var _0x1e2884=_0x457dec;console[_0x1e2884(0x3c2)]('craft\x20item');if(!_0x704bca||!_0x704bca[_0x1e2884(0x223)]||!_0x704bca[_0x1e2884(0x3cb)])return console['log']('bad\x20input');var _0x370364=this['get_valid_craft_list'](),_0x21217f=_0x704bca[_0x1e2884(0x3cb)];if(!_0x370364||_0x370364[_0x1e2884(0x179)]<0x1)return console[_0x1e2884(0x3c2)](_0x1e2884(0x18d));_0x370364=_0x370364[_0x1e2884(0x2ea)](_0x20caa5=>_0x20caa5==_0x704bca[_0x1e2884(0x223)]);if(!_0x370364)return console[_0x1e2884(0x3c2)](_0x1e2884(0x304));if(!this[_0x1e2884(0x265)]({'craft':_0x370364})[_0x1e2884(0x2ea)](_0x164040=>_0x164040==_0x21217f))return console[_0x1e2884(0x3c2)](_0x1e2884(0x3be));for(var _0x7c27ae in _0x370364[_0x1e2884(0x3c8)]){var _0x536d6b=_0x7c27ae,_0x46fc9d=_0x370364['resources'][_0x7c27ae];if(this['resources'][_0x7c27ae]<_0x46fc9d)return this['MessageSystem']['addMessage']({'txt':_0x1e2884(0x246)}),![];}if(_0x21217f['villageActionPoint']<_0x370364[_0x1e2884(0x381)])return this[_0x1e2884(0x40d)][_0x1e2884(0x4f8)]({'txt':_0x21217f[_0x1e2884(0x2c7)]+_0x1e2884(0x27e)}),![];_0x21217f[_0x1e2884(0x48c)]-=_0x370364[_0x1e2884(0x381)];switch(_0x370364[_0x1e2884(0x492)]){case _0x1e2884(0x45d):this[_0x1e2884(0x4f6)]({'weapon':new Weapon()[_0x1e2884(0x2e6)]({'name':_0x370364[_0x1e2884(0x2c7)]})});break;case'armor':this['addArmorToVillageInventory']({'armor':new Armor()[_0x1e2884(0x2bf)]({'name':_0x370364[_0x1e2884(0x2c7)]})});}switch(_0x370364['bat']){case _0x1e2884(0x50e):world['Music'][_0x1e2884(0x3eb)](_0x1e2884(0x342));break;case _0x1e2884(0x403):world[_0x1e2884(0x182)][_0x1e2884(0x3eb)](_0x1e2884(0x342));break;}this['MessageSystem'][_0x1e2884(0x4f8)]({'type':_0x1e2884(0x1e9),'txt':_0x21217f['name']+_0x1e2884(0x4d5)+_0x370364[_0x1e2884(0x2c7)]}),this[_0x1e2884(0x473)](_0x370364);},this[_0x457dec(0x4a4)]=_0x1fd599=>{var _0x4fc1ae=_0x457dec;if(this[_0x4fc1ae(0x4ca)][_0x4fc1ae(0x179)]>=this['populationMax'])return undefined;var _0x3d90a4={'r':this[_0x4fc1ae(0x429)]['r']-0x5+Math['floor'](Math[_0x4fc1ae(0x325)]()*0xb),'g':this[_0x4fc1ae(0x429)]['g']-0x5+Math['floor'](Math['random']()*0xb),'b':this[_0x4fc1ae(0x429)]['b']-0x5+Math['floor'](Math[_0x4fc1ae(0x325)]()*0xb)},_0x464c77=new PlayerVillage({'color':_0x3d90a4,'speed':0x64-0x5+Math[_0x4fc1ae(0x3d8)](Math[_0x4fc1ae(0x325)]()*0xb),'stats':{'Strength':0xa-0x5+Math['floor'](Math[_0x4fc1ae(0x325)]()*0xb),'Dexterity':0xa-0x5+Math[_0x4fc1ae(0x3d8)](Math[_0x4fc1ae(0x325)]()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math['floor'](Math[_0x4fc1ae(0x325)]()*0x5),'lifeMax':0x64-0x14+Math[_0x4fc1ae(0x3d8)](Math[_0x4fc1ae(0x325)]()*0x29),'weapon':_0x1fd599['weapon']?new Weapon()[_0x4fc1ae(0x2e6)]({'name':_0x1fd599[_0x4fc1ae(0x45d)]}):undefined,'armor':_0x1fd599['armor']?new Armor()[_0x4fc1ae(0x2bf)]({'name':_0x1fd599['armor']}):undefined,'size':0x1});return this[_0x4fc1ae(0x4ca)][_0x4fc1ae(0x346)](_0x464c77),_0x464c77;},this['getBatFromPlayer']=_0x266cde=>{var _0x31475c=_0x457dec;if(!_0x266cde)return undefined;for(var _0x4c9c6c in this[_0x31475c(0x388)]){var _0x230a70=this[_0x31475c(0x388)][_0x4c9c6c][_0x31475c(0x375)][_0x31475c(0x2ea)](_0x42f171=>_0x42f171==_0x266cde);if(_0x230a70)return this[_0x31475c(0x388)][_0x4c9c6c];}return undefined;},this[_0x457dec(0x331)]=()=>{var _0xed48aa=_0x457dec;this['populationMax']=0x5,this['resources']={'food':0xc8,'wood':0xc8,'stone':0xc8};for(var _0x250cae=0x0;_0x250cae<0x5;_0x250cae++){if(_0x250cae==0x0)this[_0xed48aa(0x4a4)]({'weapon':_0xed48aa(0x158),'armor':'Miner\x20helmet'});else this['generateBasicPlayer']({});}this[_0xed48aa(0x242)](),this[_0xed48aa(0x2f1)](),this[_0xed48aa(0x37b)](),this[_0xed48aa(0x442)]();},this[_0x457dec(0x16c)]=_0x56dc89=>{var _0x5428ec=_0x457dec;if(!_0x56dc89||!_0x56dc89['player'])return![];var _0x1d6992=_0x56dc89[_0x5428ec(0x3cb)];for(var _0x597f3a in this[_0x5428ec(0x388)]){var _0xd3459f=this['bats'][_0x597f3a];for(var _0x3a2aa2 in _0xd3459f[_0x5428ec(0x375)])if(_0xd3459f[_0x5428ec(0x375)][_0x3a2aa2]==_0x1d6992)_0xd3459f['players_inside']['splice'](_0x3a2aa2,0x1);}},this[_0x457dec(0x20e)]=_0x352b98=>{var _0x59dca6=_0x457dec;if(!_0x352b98||!_0x352b98[_0x59dca6(0x3cb)]||!_0x352b98['bat'])return![];if(_0x352b98[_0x59dca6(0x273)]['players_inside'][_0x59dca6(0x179)]>=_0x352b98[_0x59dca6(0x273)][_0x59dca6(0x41a)])return![];var _0x10e1fb=_0x352b98[_0x59dca6(0x3cb)];for(var _0x254b8c in this[_0x59dca6(0x388)]){var _0x4033f9=this['bats'][_0x254b8c];for(var _0x23d133 in _0x4033f9['players_inside'])if(_0x4033f9[_0x59dca6(0x375)][_0x23d133]==_0x10e1fb)_0x4033f9[_0x59dca6(0x375)][_0x59dca6(0x3d3)](_0x23d133,0x1);}_0x352b98[_0x59dca6(0x273)][_0x59dca6(0x375)][_0x59dca6(0x346)](_0x10e1fb);},this[_0x457dec(0x473)]=_0x51e4dd=>{var _0x33af06=_0x457dec;if(!_0x51e4dd||!_0x51e4dd[_0x33af06(0x3c8)])return console['log'](_0x33af06(0x3e1));var _0x488043=![],_0x304811=_0x33af06(0x348);for(var _0x43ddac in _0x51e4dd[_0x33af06(0x3c8)]){var _0x38a58f=_0x43ddac,_0x52d865=_0x51e4dd[_0x33af06(0x3c8)][_0x43ddac];if(!(_0x52d865>0x0))continue;_0x488043=!![];var _0x3e791=this['resources'];if(!_0x3e791[_0x38a58f]||_0x3e791[_0x38a58f]<_0x52d865)return console['log']('not\x20enoguht\x20resources');_0x3e791[_0x38a58f]-=_0x52d865,_0x304811+='\x20x'+_0x52d865+'\x20'+_0x38a58f;}if(_0x488043)this[_0x33af06(0x40d)][_0x33af06(0x4f8)]({'type':_0x33af06(0x447),'txt':{..._0x51e4dd[_0x33af06(0x3c8)]}});},this[_0x457dec(0x503)]=_0x476569=>{var _0x5ee659=_0x457dec;if(!_0x476569||!_0x476569[_0x5ee659(0x3c8)])return![];var _0x59e804=![];for(var _0x556030 in _0x476569[_0x5ee659(0x3c8)]){var _0x2b8503=_0x556030,_0x54d45a=_0x476569['resources'][_0x556030];if(!(_0x54d45a>0x0))continue;_0x59e804=!![];var _0x42a43a=this[_0x5ee659(0x3c8)];if(!_0x42a43a[_0x2b8503])_0x42a43a[_0x2b8503]=0x0;_0x42a43a[_0x2b8503]+=_0x54d45a;}if(_0x59e804)this[_0x5ee659(0x40d)][_0x5ee659(0x4f8)]({'type':'resource','txt':{..._0x476569['resources']}});},this[_0x457dec(0x37b)]=_0x2ac06b=>{var _0x2e0c94=_0x457dec;function _0x17ed88(_0x2db916){var _0x29ea6b=_0x1e35;if(!_0x2db916||!_0x2db916[_0x29ea6b(0x273)])return;var _0x3d7782=_0x2db916[_0x29ea6b(0x273)],_0x464495=world['village'];_0x3d7782[_0x29ea6b(0x45e)]==0x1&&(_0x464495[_0x29ea6b(0x525)]+=0x5,_0x464495['MessageSystem']['addMessage']({'type':_0x29ea6b(0x3cb),'txt':_0x29ea6b(0x299)+_0x464495[_0x29ea6b(0x525)]+')'})),_0x3d7782[_0x29ea6b(0x45e)]==0x2&&(_0x464495['populationMax']+=0xa,_0x464495[_0x29ea6b(0x40d)][_0x29ea6b(0x4f8)]({'type':_0x29ea6b(0x3cb),'txt':_0x29ea6b(0x455)+_0x464495[_0x29ea6b(0x525)]+')'}));}var _0x10a7f4=new Batiment({'name':_0x2e0c94(0x303),'player_size':0x0,'callback_actionPlayer':[],'description':_0x570f0c=>{var _0x44d588=_0x2e0c94;return _0x44d588(0x23f)+_0x570f0c['lvl']+'\x0aVillage\x20max\x20population\x20=\x20'+world['village'][_0x44d588(0x525)];},'blocking_end_turn':!![],'imgIcon':_0x2e0c94(0x303),'lvl':0x1,'upgrades_callback':_0x17ed88,'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'wood':0x64,'stone':0x14}}]});_0x10a7f4[_0x2e0c94(0x2d6)]=0x5,this[_0x2e0c94(0x388)][_0x2e0c94(0x346)](_0x10a7f4);},this[_0x457dec(0x1ad)]=_0x24d5ec=>{var _0x1e062f=_0x457dec,_0x16286d=new Batiment({'name':_0x24d5ec[_0x1e062f(0x2c7)],'player_size':0x2,'callback_actionPlayer':[{'callback':()=>{var _0x348724=_0x1e062f;world[_0x348724(0x4b4)]&&world[_0x348724(0x4b4)][_0x348724(0x1bc)]({'tab':_0x348724(0x223)});},'buto_txt':_0x1e062f(0x2ed),'description':_0x1e062f(0x2b5),'cost':0x0}],'description':'the\x20place\x20for\x20craft\x20bow\x20and\x20arrow','blocking_end_turn':!![],'imgIcon':'bow_workshop_icon','build_progression':_0x24d5ec[_0x1e062f(0x40f)]});this[_0x1e062f(0x388)][_0x1e062f(0x346)](_0x16286d);},this['addWorkShop']=_0x357e82=>{var _0x3343fa=_0x457dec,_0xbbb33f=new Batiment({'name':_0x357e82[_0x3343fa(0x2c7)],'player_size':0x2,'callback_actionPlayer':[{'callback':()=>{var _0x31e4ba=_0x3343fa;world[_0x31e4ba(0x4b4)]&&world[_0x31e4ba(0x4b4)]['GoToTabName']({'tab':_0x31e4ba(0x223)});},'buto_txt':_0x3343fa(0x2ed),'description':_0x3343fa(0x2b5),'cost':0x0}],'description':_0x3343fa(0x247),'blocking_end_turn':!![],'imgIcon':'workshop_icon','build_progression':_0x357e82[_0x3343fa(0x40f)]});this[_0x3343fa(0x388)][_0x3343fa(0x346)](_0xbbb33f);},this[_0x457dec(0x377)]=_0x56a899=>{var _0x34c0f6=_0x457dec;recolteMine=function(_0x1cb04f){var _0x795c99=_0x1e35;if(!_0x1cb04f||!_0x1cb04f[_0x795c99(0x3cb)]||_0x1cb04f[_0x795c99(0x18b)]==undefined||_0x1cb04f['cost']>_0x1cb04f[_0x795c99(0x3cb)]['villageActionPoint'])return;var _0x457cdc=_0x1cb04f[_0x795c99(0x3cb)]['name']+_0x795c99(0x35c)+_0x1cb04f['cost']+'\x20AP';world['village'][_0x795c99(0x40d)][_0x795c99(0x4f8)]({'type':'job','txt':_0x457cdc}),_0x1cb04f[_0x795c99(0x3cb)]['villageActionPoint']-=_0x1cb04f['cost'];var _0x5b7909=_0x1cb04f[_0x795c99(0x3cb)][_0x795c99(0x45d)]&&_0x1cb04f[_0x795c99(0x3cb)][_0x795c99(0x45d)][_0x795c99(0x1fb)][_0x795c99(0x2ea)](_0x2a796f=>_0x2a796f==BONUS_PICKAXE_MINE)?!![]:![],_0x895e5b=0x2+Math[_0x795c99(0x3d8)](Math[_0x795c99(0x325)]()*0x5);if(_0x5b7909)_0x895e5b+=0x14;var _0xf674be=Math['floor'](Math[_0x795c99(0x325)]()*0x64)>0x5?0x0:Math[_0x795c99(0x3d8)](Math[_0x795c99(0x325)]()*0xa),_0x24ef0d={'stone':_0x895e5b};if(_0xf674be||_0x5b7909)_0x24ef0d['coal']=_0xf674be;world[_0x795c99(0x1c7)]['addResource']({'resources':_0x24ef0d}),world[_0x795c99(0x182)]['playSound'](_0x795c99(0x44c));};var _0x28c668=new Batiment({'name':_0x56a899[_0x34c0f6(0x2c7)],'player_size':0x3,'callback_actionPlayer':[{'callback':recolteMine,'buto_txt':_0x34c0f6(0x44c),'description':'Mine\x20the\x20ground\x20get\x20resources','cost':0x4}],'description':_0x34c0f6(0x3bc),'blocking_end_turn':!![],'imgIcon':'Mine','build_progression':_0x56a899[_0x34c0f6(0x40f)]});this['bats'][_0x34c0f6(0x346)](_0x28c668);},this[_0x457dec(0x16e)]=()=>{var _0x25b02a=_0x457dec;function _0x8144cc(_0x99b992){var _0x443cd0=_0x1e35;if(!_0x99b992||!_0x99b992['player']||_0x99b992[_0x443cd0(0x18b)]==undefined||_0x99b992[_0x443cd0(0x18b)]>_0x99b992[_0x443cd0(0x3cb)][_0x443cd0(0x48c)])return;if(!world['village'][_0x443cd0(0x1b1)]({'resources':{'wood':0xa}})){world[_0x443cd0(0x1c7)]['MessageSystem'][_0x443cd0(0x4f8)]({'type':'job','txt':_0x443cd0(0x4f3)});return;}world[_0x443cd0(0x182)][_0x443cd0(0x3eb)](_0x443cd0(0x21c));var _0x20c0a9=_0x99b992['player'][_0x443cd0(0x2c7)]+_0x443cd0(0x1a8)+_0x99b992[_0x443cd0(0x18b)]+_0x443cd0(0x427);world['village'][_0x443cd0(0x40d)][_0x443cd0(0x4f8)]({'type':_0x443cd0(0x1e9),'txt':_0x20c0a9}),_0x99b992[_0x443cd0(0x3cb)][_0x443cd0(0x48c)]-=_0x99b992[_0x443cd0(0x18b)],world[_0x443cd0(0x1c7)][_0x443cd0(0x473)]({'resources':{'wood':0xa}}),world[_0x443cd0(0x1c7)][_0x443cd0(0x503)]({'resources':{'woodplank':0x1}});}var _0x45d351=new Batiment({'name':'Sawmill','player_size':0x2,'callback_actionPlayer':[{'callback':_0x8144cc,'buto_txt':'craft\x20woodplank','description':_0x25b02a(0x292),'cost':0x5}],'description':_0x25b02a(0x34d),'blocking_end_turn':!![],'imgIcon':_0x25b02a(0x297)});this[_0x25b02a(0x388)]['push'](_0x45d351);},this[_0x457dec(0x2f1)]=()=>{var _0x28f422=_0x457dec;function _0x1e5edd(_0x105a78){var _0x1bc5fc=_0x1e35;if(!_0x105a78||!_0x105a78[_0x1bc5fc(0x3cb)]||_0x105a78[_0x1bc5fc(0x18b)]==undefined||_0x105a78[_0x1bc5fc(0x18b)]>_0x105a78[_0x1bc5fc(0x3cb)]['villageActionPoint'])return;world[_0x1bc5fc(0x182)][_0x1bc5fc(0x3eb)](_0x1bc5fc(0x441));var _0xd0e96e=0xa-0x2+Math[_0x1bc5fc(0x3d8)](Math['random']()*0x5),_0x27dcb5=0x5-0x4+Math[_0x1bc5fc(0x3d8)](Math[_0x1bc5fc(0x325)]()*0x9);_0x105a78[_0x1bc5fc(0x3cb)][_0x1bc5fc(0x45d)]&&_0x105a78[_0x1bc5fc(0x3cb)][_0x1bc5fc(0x45d)]['bonus'][_0x1bc5fc(0x2ea)](_0x1284d9=>_0x1284d9==BONUS_AXE_FOREST_WOOD)&&(_0x27dcb5*=0x2,console['log']('doubled\x20wood'));var _0x1177c5=0x1+Math[_0x1bc5fc(0x3d8)](Math[_0x1bc5fc(0x325)]()*0x2),_0x2e8747=_0x105a78[_0x1bc5fc(0x3cb)][_0x1bc5fc(0x2c7)]+_0x1bc5fc(0x1aa)+_0x105a78[_0x1bc5fc(0x18b)]+_0x1bc5fc(0x427);world[_0x1bc5fc(0x1c7)][_0x1bc5fc(0x40d)][_0x1bc5fc(0x4f8)]({'type':_0x1bc5fc(0x1e9),'txt':_0x2e8747}),_0x105a78['player']['villageActionPoint']-=_0x105a78[_0x1bc5fc(0x18b)],world[_0x1bc5fc(0x1c7)][_0x1bc5fc(0x503)]({'resources':{'food':_0xd0e96e,'wood':_0x27dcb5,'stone':_0x1177c5}});}var _0x3c3b43=new Batiment({'name':_0x28f422(0x27f),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x1e5edd,'buto_txt':'get\x20resources','description':_0x28f422(0x478),'cost':0x5}],'description':_0x28f422(0x199),'blocking_end_turn':!![],'imgIcon':_0x28f422(0x507)});this[_0x28f422(0x388)][_0x28f422(0x346)](_0x3c3b43);},this[_0x457dec(0x242)]=()=>{var _0x32fb1d=_0x457dec,_0xc35400=new Batiment({'name':'Defend\x20Village','player_size':0x5,'callback_actionPlayer':[],'description':'Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village','blocking_end_turn':![],'imgIcon':_0x32fb1d(0x464)});this[_0x32fb1d(0x388)][_0x32fb1d(0x346)](_0xc35400);},this[_0x457dec(0x442)]=()=>{var _0x1eca11=_0x457dec;this['batsToBuild']=[{'name':_0x1eca11(0x50e),'img':'workshop_icon','resources':{'wood':0xa,'stone':0x1},'callback':this[_0x1eca11(0x190)],'input':{'name':_0x1eca11(0x50e),'costAP':0x1e}},{'name':_0x1eca11(0x295),'img':_0x1eca11(0x197),'resources':{'wood':0x64,'stone':0x1e},'callback':this[_0x1eca11(0x1ad)],'input':{'name':_0x1eca11(0x295),'costAP':0x14}},{'name':_0x1eca11(0x259),'img':_0x1eca11(0x259),'resources':{'wood':0x14,'stone':0x5},'callback':this[_0x1eca11(0x377)],'input':{'name':_0x1eca11(0x259),'costAP':0xa}},{'name':_0x1eca11(0x4bf),'img':'sawmill','resources':{'wood':0x14,'stone':0x5},'callback':this[_0x1eca11(0x16e)],'input':{'name':_0x1eca11(0x4bf),'costAP':0xa}}];},this[_0x457dec(0x1b1)]=_0x5e9bad=>{var _0x51cac9=_0x457dec;if(!_0x5e9bad||!_0x5e9bad[_0x51cac9(0x3c8)])return![];var _0x2ccba6=_0x5e9bad[_0x51cac9(0x3c8)];for(var _0x51a654 in _0x5e9bad['resources']){var _0x34f44b=_0x51a654,_0x2d730c=_0x2ccba6[_0x51a654];if(!this[_0x51cac9(0x3c8)][_0x34f44b]||this[_0x51cac9(0x3c8)][_0x34f44b]<_0x2d730c)return![];}return!![];},this[_0x457dec(0x4ea)]=_0x1dea78=>{var _0x484806=_0x457dec;if(!_0x1dea78||!_0x1dea78[_0x484806(0x273)])return![];if(!this[_0x484806(0x1b1)](_0x1dea78[_0x484806(0x273)]))return this[_0x484806(0x40d)][_0x484806(0x4f8)]({'txt':_0x484806(0x246)});var _0x18b3dc=_0x1dea78[_0x484806(0x273)];this[_0x484806(0x40d)][_0x484806(0x4f8)]({'type':_0x484806(0x385),'txt':_0x484806(0x462)+_0x18b3dc[_0x484806(0x2c7)]+_0x484806(0x2f4)}),this[_0x484806(0x473)](_0x1dea78['bat']),_0x18b3dc[_0x484806(0x1a2)](_0x18b3dc[_0x484806(0x257)]);for(var _0x44333b in this[_0x484806(0x271)])if(this[_0x484806(0x271)][_0x44333b]==_0x18b3dc)this['batsToBuild'][_0x484806(0x3d3)](_0x44333b,0x1);},this['addArmorToVillageInventory']=_0x21a3c3=>{var _0x599789=_0x457dec;if(!_0x21a3c3||!_0x21a3c3[_0x599789(0x4c5)])return;this[_0x599789(0x384)][_0x599789(0x346)](_0x21a3c3[_0x599789(0x4c5)]);},this[_0x457dec(0x4f6)]=_0x37dfa5=>{var _0x29b71e=_0x457dec;if(!_0x37dfa5||!_0x37dfa5[_0x29b71e(0x45d)])return;this[_0x29b71e(0x384)]['push'](_0x37dfa5[_0x29b71e(0x45d)]);},this[_0x457dec(0x320)]=_0x499321=>{var _0x31adf4=_0x457dec;if(!_0x499321)return![];world[_0x31adf4(0x4b4)]['warningEndTurnMessage']=[];switch(this[_0x31adf4(0x198)]){case PHASE_NEWTURN:this[_0x31adf4(0x198)]=PHASE_PLACEPLAYER,this[_0x31adf4(0x40d)]['addMessage']({'txt':'Phase\x201\x20started'});for(var _0x1b8be8 in this['players'])this['players'][_0x1b8be8][_0x31adf4(0x48c)]=this[_0x31adf4(0x4ca)][_0x1b8be8][_0x31adf4(0x215)];if(this['week']==0x0)world[_0x31adf4(0x182)][_0x31adf4(0x3eb)](_0x31adf4(0x45b),!![]);break;case PHASE_PLACEPLAYER:if(_0x499321[_0x31adf4(0x431)]){var _0x535fe5=[];for(var _0x1b8be8 in this[_0x31adf4(0x4ca)]){_0x2e0a48=this[_0x31adf4(0x4ca)][_0x1b8be8];if(!this[_0x31adf4(0x311)](_0x2e0a48))_0x535fe5[_0x31adf4(0x346)]({'txt':_0x31adf4(0x372)+_0x2e0a48[_0x31adf4(0x2c7)]+_0x31adf4(0x428),'player':_0x2e0a48,'tab':_0x31adf4(0x385)});}defBat=this[_0x31adf4(0x388)][_0x31adf4(0x2ea)](_0x3041ee=>_0x3041ee[_0x31adf4(0x2c7)]==_0x31adf4(0x2d1));if(defBat[_0x31adf4(0x375)][_0x31adf4(0x179)]<0x1)_0x535fe5[_0x31adf4(0x346)]({'txt':_0x31adf4(0x2e5),'bat':defBat,'tab':_0x31adf4(0x385)});if(_0x535fe5[_0x31adf4(0x179)]>0x0){world[_0x31adf4(0x4b4)][_0x31adf4(0x289)]=_0x535fe5;return;}}this[_0x31adf4(0x198)]=PHASE_ACTIONPLAYER,this[_0x31adf4(0x40d)][_0x31adf4(0x4f8)]({'txt':_0x31adf4(0x177)});break;case PHASE_ACTIONPLAYER:var _0x535fe5=[];if(_0x499321[_0x31adf4(0x431)])for(var _0x1b8be8 in this[_0x31adf4(0x388)]){var _0x197523=this[_0x31adf4(0x388)][_0x1b8be8];if(!_0x197523[_0x31adf4(0x1fa)])continue;for(var _0x56b879 in _0x197523[_0x31adf4(0x375)]){var _0x2e0a48=_0x197523[_0x31adf4(0x375)][_0x56b879],_0xf7dd4f=_0x2e0a48[_0x31adf4(0x294)]();if(_0xf7dd4f&&_0xf7dd4f[_0x31adf4(0x179)]>0x0)_0x535fe5[_0x31adf4(0x346)]({'txt':_0x31adf4(0x372)+_0x2e0a48['name']+'\x20have\x20'+_0x2e0a48['villageActionPoint']+_0x31adf4(0x1d4),'player':_0x2e0a48,'tab':_0x31adf4(0x385)});}}if(_0x535fe5[_0x31adf4(0x179)]>0x0){world[_0x31adf4(0x4b4)][_0x31adf4(0x289)]=_0x535fe5;return;}this[_0x31adf4(0x198)]=PHASE_COMBAT;(this[_0x31adf4(0x34f)]==0x0||Math['floor'](Math[_0x31adf4(0x325)]()*0x64)<0x21)&&(this[_0x31adf4(0x239)]=!![],this['MessageSystem'][_0x31adf4(0x4f8)]({'txt':_0x31adf4(0x2e7)}));break;case PHASE_COMBAT:if(this['battle'])this[_0x31adf4(0x460)]();else{this[_0x31adf4(0x198)]=PHASE_NEWTURN,this[_0x31adf4(0x34f)]++;var _0x2f1412=this[_0x31adf4(0x4ca)][_0x31adf4(0x179)]*0x2;this['MessageSystem'][_0x31adf4(0x4f8)]({'txt':_0x31adf4(0x4fa)+this['week']}),this['MessageSystem'][_0x31adf4(0x4f8)]({'type':'player','txt':_0x31adf4(0x2b4)}),this['removeResource']({'resources':{'food':_0x2f1412}}),this['foodconsumedLastTurn']=_0x2f1412;for(var _0x1b8be8 in this[_0x31adf4(0x4ca)]){this[_0x31adf4(0x4ca)][_0x1b8be8]['tryLvLup'](),this[_0x31adf4(0x4ca)][_0x1b8be8]['age']++;}if(this[_0x31adf4(0x4ca)][_0x31adf4(0x179)]<this[_0x31adf4(0x525)]){var _0x4f8013=Math[_0x31adf4(0x3d8)](Math['random']()*0x64);if(_0x4f8013<0x32){var _0x2e0a48=this[_0x31adf4(0x4a4)]({});this[_0x31adf4(0x40d)][_0x31adf4(0x4f8)]({'type':_0x31adf4(0x3cb),'txt':_0x31adf4(0x1c4)+_0x2e0a48[_0x31adf4(0x2c7)]+_0x31adf4(0x43a)});}}}break;}},this['test_start_battle']=()=>{var _0x184750=_0x457dec,_0x26d902=[];for(var _0x4aae74 in this[_0x184750(0x4ca)]){var _0x120246=this[_0x184750(0x4ca)][_0x4aae74];bat=this[_0x184750(0x311)](_0x120246);if(bat['name']==_0x184750(0x2d1))_0x26d902[_0x184750(0x346)](_0x120246);}world[_0x184750(0x4b4)]=undefined,console[_0x184750(0x3c2)](_0x26d902['length']+_0x184750(0x24e)),world[_0x184750(0x1ed)](_0x26d902,this[_0x184750(0x34f)]),world['Music'][_0x184750(0x371)](_0x184750(0x45b),!![]),world['Music'][_0x184750(0x3eb)]('where-the-brave-may-live-forever',!![]),world['GameUI']=new GameUI(world[_0x184750(0x1b4)][_0x184750(0x156)][_0x184750(0x233)]);},this[_0x457dec(0x264)]=_0x309600=>{var _0x5c43b8=_0x457dec;for(var _0x3dbfed in this[_0x5c43b8(0x4ca)]){this[_0x5c43b8(0x4ca)][_0x3dbfed]['id']==_0x309600['id']&&(this['players'][_0x5c43b8(0x3d3)](_0x3dbfed,0x1),this[_0x5c43b8(0x40d)][_0x5c43b8(0x4f8)]({'txt':_0x309600[_0x5c43b8(0x2c7)]+'is\x20dead\x20R.I.P'}));}for(var _0x3dbfed in this[_0x5c43b8(0x388)]){var _0xe91e15=this[_0x5c43b8(0x388)][_0x3dbfed];for(var _0x136727 in _0xe91e15[_0x5c43b8(0x375)])if(_0xe91e15[_0x5c43b8(0x375)][_0x136727]['id']==_0x309600['id'])_0xe91e15[_0x5c43b8(0x375)][_0x5c43b8(0x3d3)](_0x136727,0x1);}};},VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT='\x27Footlight\x20MT\x20Light\x27',VILLAGE_UI_FONT_BUTTON='\x27Cooper\x20Black\x27',VILLAGE_UI_FONT_BUTTON_2=_0x4113ca(0x3a1),VILLAGE_UI_FONT_TITLE=_0x4113ca(0x3c3),VILLAGE_UI_FONT_PLAYERNAME='\x27Chiller\x27',VILLAGE_UI_FONT_BUILDINGNAME=_0x4113ca(0x50a),VILLAGE_UI_FONT_PHASE='\x27Algerian\x27',VILLAGE_UI_TABS_FONT=_0x4113ca(0x3c3),VILLAGE_UI_TABS_TXTCOLOR=_0x4113ca(0x26c),VILLAGE_UI_TABS_FILLCOLOR=_0x4113ca(0x50f),VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE=_0x4113ca(0x316),VILLAGE_UI_BAT_ELM_FILLCOLOR=_0x4113ca(0x189),VILLAGE_UI_PLAYER_ELM_FILLCOLOR='#6495ed88',VILLAGE_UI_ITEM_ELM_FILLCOLOR=_0x4113ca(0x3e0),VILLAGE_UI_BUTTON_FILLCOLOR=_0x4113ca(0x386),VillageUI=function(_0x368c91){var _0xf0981b=_0x4113ca;world[_0xf0981b(0x182)][_0xf0981b(0x3eb)]('the-britons',!![]),this['canvas']=_0x368c91,this[_0xf0981b(0x4e2)]=!![],this[_0xf0981b(0x30b)]=0x5,this['background']=VILLAGE_UI_FILLSTYLE,this[_0xf0981b(0x356)]=_0xf0981b(0x1c3),this[_0xf0981b(0x402)]=0x1,this['mouseWasOnMouseLightLastDraw']=!![],this[_0xf0981b(0x422)]=['Next\x20Turn',_0xf0981b(0x385),_0xf0981b(0x223),_0xf0981b(0x447),_0xf0981b(0x384),_0xf0981b(0x4b7)],this[_0xf0981b(0x1f6)]=0x0,this[_0xf0981b(0x41e)]=undefined,this[_0xf0981b(0x2da)]=undefined,this[_0xf0981b(0x22b)]={'value':0x0},this[_0xf0981b(0x4f5)]=undefined,this[_0xf0981b(0x1bf)]=undefined,this[_0xf0981b(0x397)]={'value':0x0},this[_0xf0981b(0x276)]=[_0xf0981b(0x36f),_0xf0981b(0x3cb),_0xf0981b(0x434)],this[_0xf0981b(0x463)]={'value':0x0},this[_0xf0981b(0x471)]=undefined,this[_0xf0981b(0x4ab)]=undefined,this['itemsPageOffset']={'value':0x0},this['craftSelected']=undefined,this[_0xf0981b(0x25b)]={'value':0x0},this['UI']=undefined,this[_0xf0981b(0x333)]=!![],this[_0xf0981b(0x4ff)]=undefined,this[_0xf0981b(0x445)]=!![],this[_0xf0981b(0x23c)]=undefined,this[_0xf0981b(0x243)]=!![],this[_0xf0981b(0x1ae)]=0x0,this[_0xf0981b(0x289)]=[];const _0xc58682=document[_0xf0981b(0x260)](_0xf0981b(0x1f3)),_0x3703eb=_0xc58682['getContext']('2d'),_0xdde8f8=new Image();_0xdde8f8[_0xf0981b(0x420)]=_0xf0981b(0x3de),_0xdde8f8['onload']=()=>{var _0x3b969c=_0xf0981b;const _0x4b5c6a=_0x3703eb[_0x3b969c(0x2b3)](_0xdde8f8,'repeat');this[_0x3b969c(0x516)]=_0x4b5c6a,this[_0x3b969c(0x4e2)]=!![];},this[_0xf0981b(0x27d)]=()=>{window['addEventListener']('mousemove',_0x46e855=>{var _0x24e26d=_0x1e35,_0x550e82=![];this[_0x24e26d(0x4ff)]&&this[_0x24e26d(0x4ff)][_0x24e26d(0x4c3)](_0x46e855['clientX'],_0x46e855[_0x24e26d(0x42b)])&&!this[_0x24e26d(0x395)]&&(this['needRedraw']=!![],this[_0x24e26d(0x395)]=!![],_0x550e82=!![]);this['UI']&&this['UI'][_0x24e26d(0x4c3)](_0x46e855['clientX'],_0x46e855[_0x24e26d(0x42b)])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0x24e26d(0x4e2)]=!![],this[_0x24e26d(0x395)]=!![],_0x550e82=!![]);this[_0x24e26d(0x23c)]&&this[_0x24e26d(0x23c)]['mouse_move_check'](_0x46e855[_0x24e26d(0x29e)],_0x46e855[_0x24e26d(0x42b)])&&!this[_0x24e26d(0x395)]&&(this['needRedraw']=!![],this[_0x24e26d(0x395)]=!![],_0x550e82=!![]);!_0x550e82&&this[_0x24e26d(0x395)]&&(this[_0x24e26d(0x395)]=![],this[_0x24e26d(0x4e2)]=!![]);if(this==world['villageUI'])this['init_check_mouse_move']();},{'once':!![]});},this['init_check_mouse_move'](),this['getKeyInput']=_0x8ddfcc=>{var _0x553cc9=_0xf0981b;if(this['UI']&&this['UI']['key_buton_check'](_0x8ddfcc))return!![];if(this[_0x553cc9(0x4ff)]&&this['UIplayers'][_0x553cc9(0x2f9)](_0x8ddfcc))return!![];if(this[_0x553cc9(0x23c)]&&this['UIsystem'][_0x553cc9(0x2f9)](_0x8ddfcc))return!![];if(_0x8ddfcc==_0x553cc9(0x38b)&&this[_0x553cc9(0x46c)]())return!![];return![];},this[_0xf0981b(0x46c)]=()=>{var _0x7d8184=_0xf0981b;if(this[_0x7d8184(0x2da)])return this[_0x7d8184(0x2da)]=undefined,!![];if(this[_0x7d8184(0x422)][this['activeTabId']]==_0x7d8184(0x385)){if(this[_0x7d8184(0x1bf)])return this['batBuildMenu']=undefined,!![];if(this['batSelected'])return this[_0x7d8184(0x4f5)]=undefined,!![];}return![];},this[_0xf0981b(0x44f)]=_0x5c8905=>{var _0x25baeb=_0xf0981b,_0x3a4636=_0x5c8905['x'],_0xd80394=_0x5c8905['y'];if(_0x5c8905[_0x25baeb(0x2cb)]==0x2){var _0x3bfa8b=this[_0x25baeb(0x46c)]();if(_0x3bfa8b)return!![];}else{if(this['UI'][_0x25baeb(0x1b7)](_0x3a4636,_0xd80394))return!![];else{if(this[_0x25baeb(0x4ff)][_0x25baeb(0x1b7)](_0x3a4636,_0xd80394))return!![];else{if(this[_0x25baeb(0x23c)][_0x25baeb(0x1b7)](_0x3a4636,_0xd80394))return!![];}}}return![];},this[_0xf0981b(0x1bc)]=_0x44513f=>{var _0xcf6fbd=_0xf0981b;if(!_0x44513f)return;if(_0x44513f[_0xcf6fbd(0x452)])for(var _0x1f5f6c in this[_0xcf6fbd(0x422)]){if(this[_0xcf6fbd(0x422)][_0x1f5f6c]==_0x44513f[_0xcf6fbd(0x452)])this['activeTabId']=_0x1f5f6c;}if(_0x44513f[_0xcf6fbd(0x3cb)])this[_0xcf6fbd(0x41e)]=_0x44513f[_0xcf6fbd(0x3cb)];if(_0x44513f['bat'])this[_0xcf6fbd(0x4f5)]=_0x44513f[_0xcf6fbd(0x273)];},this[_0xf0981b(0x323)]=_0x3b722b=>{var _0x3bfe98=_0xf0981b;if(this['UI']&&this['UI'][_0x3bfe98(0x323)](_0x3b722b))this[_0x3bfe98(0x4e2)]=!![];if(this[_0x3bfe98(0x4ff)]&&this[_0x3bfe98(0x4ff)][_0x3bfe98(0x323)](_0x3b722b))this['needRedraw']=!![];if(this[_0x3bfe98(0x23c)]&&this[_0x3bfe98(0x23c)][_0x3bfe98(0x323)](_0x3b722b))this[_0x3bfe98(0x4e2)]=!![];},this[_0xf0981b(0x465)]=_0x307faa=>{var _0x199218=_0xf0981b;if(!_0x307faa[_0x199218(0x1dc)])return;var _0x3bfd47=[{'type':_0x199218(0x2cb),'callback':()=>{var _0x408b3f=_0x199218;_0x307faa[_0x408b3f(0x1dc)][_0x408b3f(0x33b)]=_0x307faa[_0x408b3f(0x1dc)][_0x408b3f(0x33b)]>0x0?_0x307faa[_0x408b3f(0x1dc)][_0x408b3f(0x33b)]-0x1:0x0;},'txt':'âˆ§','txt_color':_0x199218(0x26c),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x199218(0x405),'strokeColor':_0x199218(0x317),'windowInfo':[{'callback':()=>{return'page\x20up';}}]},{'type':_0x199218(0x2cb),'callback':()=>{var _0x2570b1=_0x199218;_0x307faa[_0x2570b1(0x1dc)][_0x2570b1(0x33b)]++;},'txt':'âˆ¨','txt_color':_0x199218(0x26c),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x199218(0x405),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x5b2818=_0x199218;return _0x5b2818(0x3fb);}}]},{'type':_0x199218(0x322),'txt':'['+_0x307faa[_0x199218(0x1dc)][_0x199218(0x33b)]+':'+(_0x307faa[_0x199218(0x1dc)][_0x199218(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x307faa['sortButo'])_0x3bfd47[_0x199218(0x346)]({'type':_0x199218(0x2cb),'callback':_0x27f533=>{var _0x1accc1=_0x199218;_0x27f533['id'][_0x1accc1(0x33b)]=(_0x27f533['id'][_0x1accc1(0x33b)]+0x1)%_0x27f533[_0x1accc1(0x21d)]['length'],console['log'](_0x1accc1(0x232)+[_0x27f533['id'][_0x1accc1(0x33b)],_0x27f533['list']['length']]);},'callback_data':_0x307faa[_0x199218(0x217)],'txt':this[_0x199218(0x276)][this['batSortModeId'][_0x199218(0x33b)]],'txt_color':_0x199218(0x317),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x199218(0x409),'strokeColor':_0x199218(0x317),'windowInfo':[{'callback':()=>{var _0x5d8536=_0x199218;return _0x5d8536(0x3da)+this[_0x5d8536(0x276)][this[_0x5d8536(0x463)]['value']];}}]});return _0x3bfd47;},this['draw_building_tab']=()=>{var _0x2fc450=_0xf0981b,_0x45a9a7=world[_0x2fc450(0x1c7)];this['UI']['addHorizontalElem'](this[_0x2fc450(0x465)]({'sortButo':{'list':this[_0x2fc450(0x276)],'id':this[_0x2fc450(0x463)]},'selector':this[_0x2fc450(0x397)]}));switch(this[_0x2fc450(0x276)][this[_0x2fc450(0x463)][_0x2fc450(0x33b)]]){case _0x2fc450(0x36f):_0x45a9a7[_0x2fc450(0x388)][_0x2fc450(0x506)]((_0x3187a4,_0x11349a)=>{var _0x36ebbc=_0x2fc450;if(_0x3187a4[_0x36ebbc(0x2c7)]>_0x11349a[_0x36ebbc(0x2c7)])return 0x1;return-0x1;});break;case _0x2fc450(0x3cb):_0x45a9a7[_0x2fc450(0x388)][_0x2fc450(0x506)]((_0x252c8e,_0x57bffd)=>{var _0x32a3f0=_0x2fc450;if(_0x252c8e[_0x32a3f0(0x375)][_0x32a3f0(0x179)]<=_0x57bffd['players_inside']['length'])return 0x1;return-0x1;});break;case'size':_0x45a9a7['bats']['sort']((_0x24b5f3,_0x33e79d)=>{var _0x5487fe=_0x2fc450;if(_0x24b5f3[_0x5487fe(0x41a)]<=_0x33e79d[_0x5487fe(0x41a)])return 0x1;return-0x1;});break;}if(_0x45a9a7[_0x2fc450(0x198)]==PHASE_PLACEPLAYER){this['UI'][_0x2fc450(0x4fd)](this['GetBatBuildMenuSelector']());var _0x36fd98=0x0;if(this[_0x2fc450(0x1bf)])for(var _0x52d29e in _0x45a9a7[_0x2fc450(0x271)]){var _0x444743=_0x45a9a7[_0x2fc450(0x271)][_0x52d29e],_0xe1f04b=[];_0xe1f04b[_0x2fc450(0x346)]({'type':_0x2fc450(0x2cb),'callback':_0x19dc53=>{var _0x50e80b=_0x2fc450;if(this[_0x50e80b(0x471)]==_0x19dc53)this[_0x50e80b(0x471)]=undefined;else this['constructionSelected']=_0x19dc53;},'callback_data':_0x444743,'txt':_0x444743['name'],'mouseLight':'88','txt_color':_0x2fc450(0x317),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x2fc450(0x160),'strokeColor':this[_0x2fc450(0x471)]==_0x444743?_0x2fc450(0x317):'#00000000','windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}),_0xe1f04b[_0x2fc450(0x346)]({'type':_0x2fc450(0x458),'img':world[_0x2fc450(0x24b)][_0x444743[_0x2fc450(0x458)]]['img'],'len_x':0x1e,'len_y':0x1e});if(_0x36fd98>=this['batPageOffset']['value']&&_0x36fd98<this[_0x2fc450(0x397)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0xe1f04b);_0x36fd98++;if(this[_0x2fc450(0x471)]==_0x444743){var _0xe1f04b=[];_0xe1f04b[_0x2fc450(0x346)]({'type':_0x2fc450(0x2cb),'mouseLight':'88','callback':world[_0x2fc450(0x1c7)][_0x2fc450(0x4ea)],'callback_data':{'bat':_0x444743},'txt':_0x2fc450(0x3d4),'txt_color':_0x2fc450(0x317),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':'#00000000','windowInfo':[{'callback':()=>{var _0x36b923=_0x2fc450;return _0x36b923(0x472);}}]});if(_0x36fd98>=this[_0x2fc450(0x397)]['value']&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0xe1f04b);_0x36fd98++;if(_0x444743[_0x2fc450(0x257)]&&_0x444743[_0x2fc450(0x257)][_0x2fc450(0x40f)]){if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)]([{'type':_0x2fc450(0x322),'txt':_0x2fc450(0x1fd)+_0x444743[_0x2fc450(0x257)][_0x2fc450(0x40f)],'txt_color':_0x2fc450(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':_0x2fc450(0x458),'img':world[_0x2fc450(0x24b)][_0x2fc450(0x3e9)][_0x2fc450(0x458)],'len_x':0x14,'len_y':0x14}]);_0x36fd98++;}for(var _0x291eac in _0x444743[_0x2fc450(0x3c8)]){var _0x308fb9=[];_0x308fb9['push']({'type':_0x2fc450(0x322),'txt':'\x20-'+_0x291eac+'\x20'+_0x444743[_0x2fc450(0x3c8)][_0x291eac],'txt_color':_0x2fc450(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x308fb9[_0x2fc450(0x346)]({'type':'img','img':world['Imgs'][_0x291eac+'_icon'][_0x2fc450(0x458)],'len_x':0x14,'len_y':0x14});}if(_0x36fd98>=this['batPageOffset'][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](this['getResourcesTextAndImg'](_0x444743[_0x2fc450(0x3c8)],0x14));_0x36fd98++;}}else{if(!this['batBuildMenu'])for(var _0x52d29e in _0x45a9a7[_0x2fc450(0x388)]){var _0x444743=_0x45a9a7[_0x2fc450(0x388)][_0x52d29e],_0x59dcc7=this[_0x2fc450(0x33a)](_0x444743,0x28);if(_0x444743[_0x2fc450(0x40c)])_0x59dcc7['push']({'type':_0x2fc450(0x458),'img':world[_0x2fc450(0x24b)][_0x2fc450(0x34c)][_0x2fc450(0x458)],'len_x':0x28,'len_y':0x28});if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0x59dcc7);_0x36fd98++;if(_0x444743[_0x2fc450(0x40c)]){if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this['batPageOffset'][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x450)](''+_0x444743[_0x2fc450(0x40c)]+_0x2fc450(0x510),0x14,0x270f,_0x2fc450(0x317),VILLAGE_UI_FONT);_0x36fd98++;}var _0xe1f04b=[],_0x346852=_0x444743['getNextUpgrade']();if(this[_0x2fc450(0x4f5)]==_0x444743&&_0x444743['lvl']){if(_0x36fd98>=this['batPageOffset'][_0x2fc450(0x33b)]&&_0x36fd98<this['batPageOffset'][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x450)](_0x2fc450(0x1ac)+_0x444743[_0x2fc450(0x45e)],0xf,0x270f,_0x2fc450(0x317),VILLAGE_UI_FONT);_0x36fd98++;}if(this['batSelected']==_0x444743&&_0x346852){var _0x3b57cf=this['getResourcesTextAndImg'](_0x346852[_0x2fc450(0x3c8)],0x14);_0x3b57cf[_0x2fc450(0x2d8)]({'type':_0x2fc450(0x2cb),'mouseLight':'88','callback':_0x444743[_0x2fc450(0x21b)],'callback_data':{},'txt':_0x2fc450(0x285),'txt_color':_0x2fc450(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0x3b57cf);_0x36fd98++;}if(_0x444743==this[_0x2fc450(0x4f5)]&&_0x444743[_0x2fc450(0x41a)]){if(_0x444743[_0x2fc450(0x41a)]&&_0x36fd98>=this[_0x2fc450(0x397)]['value']&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x450)](''+_0x444743[_0x2fc450(0x375)][_0x2fc450(0x179)]+_0x2fc450(0x359)+_0x444743[_0x2fc450(0x41a)]+_0x2fc450(0x31d),0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0x36fd98++;}if(this['playerSelected']&&_0x444743==this[_0x2fc450(0x4f5)]&&!_0x444743[_0x2fc450(0x375)]['find'](_0x17441b=>_0x17441b==this['playerSelected'])&&_0x444743[_0x2fc450(0x375)]['length']<_0x444743[_0x2fc450(0x41a)])_0xe1f04b[_0x2fc450(0x346)]({'type':_0x2fc450(0x2cb),'mouseLight':'88','callback':world[_0x2fc450(0x1c7)][_0x2fc450(0x20e)],'callback_data':{'player':this[_0x2fc450(0x41e)],'bat':_0x444743},'txt':_0x2fc450(0x21e),'txt_color':_0x2fc450(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0xe1f04b['length']){if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0xe1f04b);_0x36fd98++;}if(this[_0x2fc450(0x4f5)]==_0x444743)for(var _0x291eac in _0x444743[_0x2fc450(0x375)]){var _0x2f5026=_0x444743[_0x2fc450(0x375)][_0x291eac],_0x4786f0=this[_0x2fc450(0x291)](_0x2f5026);_0x4786f0[_0x2fc450(0x346)]({'type':_0x2fc450(0x2cb),'mouseLight':'88','callback':world[_0x2fc450(0x1c7)][_0x2fc450(0x16c)],'callback_data':{'player':_0x2f5026},'txt':_0x2fc450(0x1af),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0x4786f0);_0x36fd98++;}}}}else{if(_0x45a9a7[_0x2fc450(0x198)]==PHASE_ACTIONPLAYER){var _0x36fd98=0x0;for(var _0x52d29e in _0x45a9a7[_0x2fc450(0x388)]){var _0x444743=_0x45a9a7[_0x2fc450(0x388)][_0x52d29e],_0x59dcc7=this[_0x2fc450(0x33a)](_0x444743,0x28);if(_0x444743[_0x2fc450(0x40c)])_0x59dcc7[_0x2fc450(0x346)]({'type':_0x2fc450(0x458),'img':world[_0x2fc450(0x24b)][_0x2fc450(0x34c)][_0x2fc450(0x458)],'len_x':0x28,'len_y':0x28});if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0x59dcc7);_0x36fd98++;if(_0x444743['build_progression']){if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addTextZone'](''+_0x444743['build_progression']+_0x2fc450(0x510),0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0x36fd98++;}var _0xe1f04b=[];if(_0xe1f04b[_0x2fc450(0x179)]){if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0xe1f04b);_0x36fd98++;}for(var _0x291eac in _0x444743[_0x2fc450(0x375)]){var _0x2f5026=_0x444743[_0x2fc450(0x375)][_0x291eac],_0x108b1c=_0x2f5026[_0x2fc450(0x294)]();if(this[_0x2fc450(0x4f5)]==_0x444743||_0x108b1c[_0x2fc450(0x179)]&&_0x444743[_0x2fc450(0x2c7)]!=_0x2fc450(0x2d1)){var _0x4786f0=this[_0x2fc450(0x291)](_0x2f5026);if(_0x444743['callback_actionPlayer'][_0x2fc450(0x179)])_0x4786f0[_0x2fc450(0x346)]({'type':_0x2fc450(0x458),'img':world['Imgs'][_0x2fc450(0x3e9)][_0x2fc450(0x458)],'len_x':0x14,'len_y':0x14},{'type':_0x2fc450(0x322),'txt':''+_0x2f5026[_0x2fc450(0x48c)]+'\x20Action\x20Point\x20left','txt_color':_0x2f5026[_0x2fc450(0x48c)]?'#000000':'#000000aa','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x2fc450(0x4fd)](_0x4786f0);_0x36fd98++;if(_0x444743['build_progression']){var _0x1e01a8=[];_0x2f5026['villageActionPoint']>0x0&&(_0x1e01a8[_0x2fc450(0x346)]({'type':_0x2fc450(0x2cb),'mouseLight':'88','callback':_0x444743[_0x2fc450(0x521)],'callback_data':{'player':_0x2f5026},'txt':'build','txt_color':_0x2fc450(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x2df31e=>{return _0x2df31e;},'input':'use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building'}]}),_0x1e01a8[_0x2fc450(0x346)]({'type':_0x2fc450(0x322),'txt':_0x2fc450(0x3b3)+_0x444743[_0x2fc450(0x40c)]+_0x2fc450(0x1cc),'txt_color':_0x2f5026[_0x2fc450(0x48c)]?_0x2fc450(0x317):_0x2fc450(0x3ca),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0x36fd98>=this[_0x2fc450(0x397)][_0x2fc450(0x33b)]&&_0x36fd98<this[_0x2fc450(0x397)][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x1e01a8);_0x36fd98++;}else for(var _0x2b03b2 in _0x444743[_0x2fc450(0x51d)]){var _0x2c6958=_0x444743['callback_actionPlayer'][_0x2b03b2];if(_0x2c6958[_0x2fc450(0x18b)]&&_0x2c6958[_0x2fc450(0x18b)]>_0x2f5026[_0x2fc450(0x48c)]||_0x2f5026[_0x2fc450(0x48c)]==0x0)continue;var _0x45d1d4={'type':'button','mouseLight':'88','callback':_0x2c6958['callback'],'callback_data':{'player':_0x2f5026,'cost':_0x2c6958['cost']},'txt':_0x2c6958[_0x2fc450(0x2dc)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x15b2a7=>{return _0x15b2a7;},'input':_0x2c6958[_0x2fc450(0x288)]}]};if(_0x36fd98>=this[_0x2fc450(0x397)]['value']&&_0x36fd98<this['batPageOffset'][_0x2fc450(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([_0x45d1d4]);_0x36fd98++;}}}}}}},this[_0xf0981b(0x2dd)]=()=>{var _0x432c7a=_0xf0981b,_0x3ba205=[];return this[_0x432c7a(0x1bf)]?_0x3ba205[_0x432c7a(0x346)]({'type':_0x432c7a(0x2cb),'mouseLight':'88','callback':()=>{var _0x282177=_0x432c7a;this[_0x282177(0x1bf)]=![],this[_0x282177(0x397)][_0x282177(0x33b)]=0x0;},'txt':_0x432c7a(0x237),'mouseLight':'88','txt_color':_0x432c7a(0x27a),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x432c7a(0x275),'strokeColor':_0x432c7a(0x317),'windowInfo':[{'callback':()=>{var _0x13c02f=_0x432c7a;return _0x13c02f(0x472);}}]}):_0x3ba205['push']({'type':_0x432c7a(0x2cb),'mouseLight':'88','callback':()=>{var _0x4bde71=_0x432c7a;this[_0x4bde71(0x1bf)]=!![],this[_0x4bde71(0x397)]['value']=0x0;},'txt':_0x432c7a(0x2d3),'mouseLight':'88','txt_color':_0x432c7a(0x275),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x432c7a(0x27a),'strokeColor':_0x432c7a(0x317),'windowInfo':[{'callback':()=>{var _0x1e0e19=_0x432c7a;return _0x1e0e19(0x270);}}]}),_0x3ba205;},this['getResourcesTextAndImg']=(_0x8f79dc,_0x4091e8)=>{var _0x6c7cdd=_0xf0981b,_0x4f5359=[];for(var _0x7c48c6 in _0x8f79dc){_0x4f5359['push']({'type':_0x6c7cdd(0x458),'img':world['Imgs'][_0x7c48c6+'_icon'][_0x6c7cdd(0x458)],'len_x':_0x4091e8,'len_y':_0x4091e8}),_0x4f5359[_0x6c7cdd(0x346)]({'type':_0x6c7cdd(0x322),'txt':'\x20x'+_0x8f79dc[_0x7c48c6],'txt_color':'#000000','max_letters':0x270f,'letter_size':_0x4091e8,'txt_font':VILLAGE_UI_FONT});}return _0x4f5359;},this['getItemIcone']=(_0x55786d,_0xc810bd,_0x2d5626)=>{var _0x54e75b=_0xf0981b,_0x501a0b=()=>this[_0x54e75b(0x4ab)]=this[_0x54e75b(0x4ab)]==_0x55786d?undefined:_0x55786d;if(_0x2d5626)_0x501a0b=()=>{};var _0x575723=[{'type':_0x54e75b(0x458),'img':world['Imgs'][_0x55786d[_0x54e75b(0x2c7)]+_0x54e75b(0x26e)]['img'],'len_x':_0xc810bd,'len_y':_0xc810bd},{'type':_0x54e75b(0x2cb),'mouseLight':'ff','callback':_0x501a0b,'txt':_0x55786d[_0x54e75b(0x2c7)],'txt_color':_0x54e75b(0x317),'max_letters':0x270f,'letter_size':_0xc810bd,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this[_0x54e75b(0x4ab)]==_0x55786d?_0x54e75b(0x37a):_0x54e75b(0x160),'windowInfo':[{'callback':_0x55786d['itemType']==_0x54e75b(0x45d)?_0x55786d[_0x54e75b(0x509)]:_0x55786d['getArmorDescription']}]}];return _0x575723;},this[_0xf0981b(0x483)]=()=>{var _0x37848b=_0xf0981b,_0x7fdd07=world['village'];this['UI'][_0x37848b(0x4fd)](this[_0x37848b(0x465)]({'selector':this['craftPageOffset']}));var _0x41f98b=0x0,_0x145532=_0x7fdd07[_0x37848b(0x171)]();if(_0x7fdd07[_0x37848b(0x198)]!=PHASE_ACTIONPLAYER)this['UI'][_0x37848b(0x450)](_0x37848b(0x209),0x14,0x270f,_0x37848b(0x35d),VILLAGE_UI_FONT);if(!_0x145532||_0x145532['length']<0x1)this['UI'][_0x37848b(0x450)]('no\x20craft\x20available',0x14,0x270f,_0x37848b(0x317),VILLAGE_UI_FONT);for(var _0x151d1c in _0x145532){var _0x267f5d=[],_0x293182=_0x145532[_0x151d1c];_0x267f5d[_0x37848b(0x346)]({'type':_0x37848b(0x2cb),'mouseLight':'ff','callback':_0x44987e=>this[_0x37848b(0x38f)]=this['craftSelected']==_0x44987e?undefined:_0x44987e,'callback_data':_0x293182,'txt':_0x293182[_0x37848b(0x2c7)]+'\x20('+_0x293182['type']+')','txt_color':this['craftSelected']==_0x293182?'#666666':'#000000','max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x37848b(0x3b0),'strokeColor':this[_0x37848b(0x38f)]==_0x293182?'#000000ff':_0x37848b(0x160),'windowInfo':[{'callback':()=>{var _0x39d71e=_0x37848b;return _0x293182[_0x39d71e(0x288)];},'input':undefined}]});if(_0x41f98b>=this[_0x37848b(0x25b)][_0x37848b(0x33b)]&&_0x41f98b<this[_0x37848b(0x25b)][_0x37848b(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x37848b(0x4fd)](_0x267f5d);_0x41f98b++;if(this['craftSelected']==_0x293182){var _0x2fd247=_0x7fdd07['get_valid_player_for_craft']({'craft':_0x293182});if(_0x41f98b>=this[_0x37848b(0x25b)]['value']&&_0x41f98b<this[_0x37848b(0x25b)][_0x37848b(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x37848b(0x4fd)](this['getResourcesTextAndImg'](_0x293182[_0x37848b(0x3c8)],0x14));_0x41f98b++;if(!_0x2fd247||_0x2fd247[_0x37848b(0x179)]<0x1){if(_0x41f98b>=this[_0x37848b(0x25b)]['value']&&_0x41f98b<this[_0x37848b(0x25b)][_0x37848b(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addTextZone']('no\x20one\x20can\x20craft\x20it',0x14,0x270f,_0x37848b(0x35d),VILLAGE_UI_FONT);_0x41f98b++;}for(var _0x4281f9 in _0x2fd247){var _0xe97d39=_0x2fd247[_0x4281f9],_0x267f5d=this[_0x37848b(0x291)](_0xe97d39,0x19);_0x7fdd07[_0x37848b(0x198)]==PHASE_ACTIONPLAYER&&_0x267f5d[_0x37848b(0x346)]({'type':_0x37848b(0x2cb),'mouseLight':'88','callback':_0x7fdd07['TryCraftItem'],'callback_data':{'craft':_0x293182,'player':_0xe97d39},'txt':_0x37848b(0x223),'txt_color':_0x37848b(0x317),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x37848b(0x1f9),'strokeColor':this[_0x37848b(0x38f)]==_0x293182?_0x37848b(0x1e6):_0x37848b(0x160),'windowInfo':[{'callback':()=>{return _0x293182['description'];},'input':undefined}]});if(_0x41f98b>=this['craftPageOffset'][_0x37848b(0x33b)]&&_0x41f98b<this['craftPageOffset'][_0x37848b(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x37848b(0x4fd)](_0x267f5d);_0x41f98b++;}}}},this[_0xf0981b(0x33a)]=(_0x5dc4a7,_0x575a5a)=>{var _0x5e55ec=_0xf0981b,_0x359f4a=[{'type':'img','img':world[_0x5e55ec(0x24b)][_0x5dc4a7[_0x5e55ec(0x477)]][_0x5e55ec(0x458)],'len_x':_0x575a5a,'len_y':_0x575a5a},{'type':_0x5e55ec(0x2cb),'mouseLight':'ff','callback':_0xe4f902=>{var _0x22459d=_0x5e55ec;this[_0x22459d(0x4f5)]=this[_0x22459d(0x4f5)]==_0xe4f902?undefined:_0xe4f902;},'callback_data':_0x5dc4a7,'txt':_0x5dc4a7[_0x5e55ec(0x2c7)],'txt_color':this['batSelected']==_0x5dc4a7?'#dddddd':_0x5e55ec(0x317),'max_letters':0x270f,'letter_size':_0x575a5a,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this[_0x5e55ec(0x4f5)]==_0x5dc4a7?_0x5e55ec(0x1e6):_0x5e55ec(0x160),'windowInfo':[{'callback':_0x35d426=>{var _0x162f28=_0x5e55ec;if(typeof _0x35d426['description']=='function')return _0x35d426[_0x162f28(0x288)](_0x35d426);if(typeof _0x35d426[_0x162f28(0x288)]==_0x162f28(0x312))return _0x35d426[_0x162f28(0x288)];},'input':_0x5dc4a7}]}];return _0x359f4a;},this[_0xf0981b(0x1db)]=(_0x588c63,_0x367f45,_0x3463c9)=>{var _0x2a62aa=_0xf0981b,_0x44199a={'type':'button','mouseLight':'88','callback':world['village'][_0x2a62aa(0x320)],'callback_data':{'warning':_0x588c63?!![]:![]},'txt':_0x3463c9,'txt_color':_0x2a62aa(0x317),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x367f45?_0x2a62aa(0x17d):_0x2a62aa(0x1f9),'strokeColor':_0x2a62aa(0x317)};return _0x44199a;},this[_0xf0981b(0x291)]=(_0x5803f4,_0x560d5a)=>{var _0x2dfa2d=_0xf0981b;if(!_0x5803f4)return undefined;var _0x560d5a=_0x560d5a?_0x560d5a:0x28,_0x2b8f60=[{'type':_0x2dfa2d(0x2cb),'mouseLight':'ff','txt':_0x5803f4[_0x2dfa2d(0x2c7)],'callback':_0x518716=>{var _0xe49155=_0x2dfa2d;this[_0xe49155(0x41e)]=this[_0xe49155(0x41e)]==_0x518716?undefined:_0x518716;},'callback_data':_0x5803f4,'txt_color':_0x5803f4['lvlup']?_0x2dfa2d(0x32f):this[_0x2dfa2d(0x41e)]==_0x5803f4?_0x2dfa2d(0x26c):_0x2dfa2d(0x317),'max_letters':0x270f,'letter_size':_0x560d5a,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this[_0x2dfa2d(0x41e)]==_0x5803f4?'#000000ff':'#00000000','windowInfo':[{'callback':_0x5803f4['getVillageUItext']}]}];if(!_0x5803f4['bodyPartImgReady'])_0x5803f4[_0x2dfa2d(0x423)]();_0x2b8f60[_0x2dfa2d(0x346)]({'type':'img','img':_0x5803f4['bodyPartImg'],'len_x':_0x560d5a,'len_y':_0x560d5a});if(_0x5803f4[_0x2dfa2d(0x45d)])_0x2b8f60[_0x2dfa2d(0x346)]({'type':_0x2dfa2d(0x458),'img':world[_0x2dfa2d(0x167)][_0x5803f4[_0x2dfa2d(0x45d)][_0x2dfa2d(0x2c7)]+_0x2dfa2d(0x26e)][_0x2dfa2d(0x458)],'len_x':_0x560d5a,'len_y':_0x560d5a});return _0x2b8f60;},this[_0xf0981b(0x380)]=()=>{var _0x34612e=_0xf0981b,_0x31b360=world[_0x34612e(0x1c7)];this['UIplayers']=new MyUI(this['canvas'],0x0,0x0,0xa,this['scale'],this[_0x34612e(0x516)],this[_0x34612e(0x356)],this[_0x34612e(0x30b)]),this[_0x34612e(0x4ff)][_0x34612e(0x352)](_0x34612e(0x15a),0x28,_0x34612e(0x317),'#00000000',_0x34612e(0x160),()=>{var _0x35d4fb=_0x34612e;this[_0x35d4fb(0x445)]=!this[_0x35d4fb(0x445)];},undefined,VILLAGE_UI_FONT_PHASE);var _0x345ca0=this[_0x34612e(0x465)]({'selector':this[_0x34612e(0x22b)]});if(this[_0x34612e(0x41e)]&&this[_0x34612e(0x422)][this[_0x34612e(0x1f6)]]!=_0x34612e(0x4b7)&&(_0x31b360[_0x34612e(0x198)]==PHASE_PLACEPLAYER||_0x31b360[_0x34612e(0x198)]==PHASE_ACTIONPLAYER))_0x345ca0[_0x34612e(0x346)]({'type':_0x34612e(0x2cb),'mouseLight':'88','callback':this[_0x34612e(0x1bc)],'callback_data':{'tab':_0x34612e(0x4b7)},'txt':'Show','txt_color':'#000000','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x34612e(0x26c)});this[_0x34612e(0x4ff)][_0x34612e(0x4fd)](_0x345ca0);var _0x41a4f7=0x0;if(this['showUIplayers']){if(!this[_0x34612e(0x2da)])for(var _0x57916c in _0x31b360['players']){var _0x519a9e=_0x31b360[_0x34612e(0x4ca)][_0x57916c];if(_0x41a4f7>=this[_0x34612e(0x22b)]['value']&&_0x41a4f7<this[_0x34612e(0x22b)][_0x34612e(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)][_0x34612e(0x4fd)](this[_0x34612e(0x291)](_0x519a9e));_0x41a4f7++;if(_0x519a9e['lvlup']&&_0x31b360[_0x34612e(0x198)]!=PHASE_NEWTURN){if(_0x41a4f7>=this[_0x34612e(0x22b)]['value']&&_0x41a4f7<this[_0x34612e(0x22b)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)][_0x34612e(0x352)](_0x34612e(0x4c7),0xa,_0x34612e(0x26c),_0x34612e(0x4c4),_0x34612e(0x317),this[_0x34612e(0x1bc)],{'tab':_0x34612e(0x4b7),'player':_0x519a9e},VILLAGE_UI_FONT_BUTTON,undefined,()=>{var _0x3cf14e=_0x34612e;return _0x3cf14e(0x4d8);},'ff');_0x41a4f7++;}var _0x4ed74e=world['village'][_0x34612e(0x311)](_0x519a9e);if(_0x4ed74e){var _0x53760e=[{'type':_0x34612e(0x322),'txt':_0x4ed74e['name'],'txt_color':this[_0x34612e(0x4f5)]==_0x4ed74e?_0x34612e(0x39a):'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x34612e(0x458),'img':world[_0x34612e(0x24b)][_0x4ed74e[_0x34612e(0x477)]][_0x34612e(0x458)],'len_x':0x14,'len_y':0x14}];if(_0x31b360[_0x34612e(0x198)]==PHASE_PLACEPLAYER)_0x53760e['push']({'type':'button','mouseLight':'88','callback':world['village'][_0x34612e(0x16c)],'callback_data':{'player':_0x519a9e},'txt':_0x34612e(0x2c8),'txt_color':_0x34612e(0x317),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x34612e(0x35d)});if(_0x41a4f7>=this[_0x34612e(0x22b)][_0x34612e(0x33b)]&&_0x41a4f7<this[_0x34612e(0x22b)][_0x34612e(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)]['addHorizontalElem'](_0x53760e);_0x41a4f7++;}var _0x455e6d=[];if(_0x31b360[_0x34612e(0x198)]==PHASE_PLACEPLAYER&&this[_0x34612e(0x4f5)]&&this[_0x34612e(0x422)][this[_0x34612e(0x1f6)]]==_0x34612e(0x385)&&this[_0x34612e(0x4f5)][_0x34612e(0x41a)]&&!this[_0x34612e(0x4f5)][_0x34612e(0x375)]['find'](_0xfcf7e9=>_0xfcf7e9==_0x519a9e)&&!_0x4ed74e&&!this[_0x34612e(0x1bf)]&&this['batSelected'][_0x34612e(0x375)][_0x34612e(0x179)]<this[_0x34612e(0x4f5)][_0x34612e(0x41a)])_0x455e6d['push']({'type':_0x34612e(0x2cb),'mouseLight':'88','callback':world[_0x34612e(0x1c7)][_0x34612e(0x20e)],'callback_data':{'player':_0x519a9e,'bat':this['batSelected']},'txt':_0x34612e(0x4d3),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x455e6d[_0x34612e(0x179)]){if(_0x41a4f7>=this[_0x34612e(0x22b)][_0x34612e(0x33b)]&&_0x41a4f7<this[_0x34612e(0x22b)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)][_0x34612e(0x4fd)](_0x455e6d);_0x41a4f7++;}if(this[_0x34612e(0x422)][this['activeTabId']]=='Items'){if(this['playerSelected']==_0x519a9e){if(_0x31b360['phase']==PHASE_PLACEPLAYER&&_0x519a9e[_0x34612e(0x45d)]){if(_0x41a4f7>=this[_0x34612e(0x22b)][_0x34612e(0x33b)]&&_0x41a4f7<this[_0x34612e(0x22b)][_0x34612e(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)][_0x34612e(0x352)](_0x34612e(0x3ff),0x14,_0x34612e(0x317),VILLAGE_UI_BUTTON_FILLCOLOR,_0x34612e(0x317),_0x519a9e[_0x34612e(0x1d8)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x41a4f7++;}if(_0x31b360[_0x34612e(0x198)]==PHASE_PLACEPLAYER&&_0x519a9e[_0x34612e(0x4c5)]){if(_0x41a4f7>=this['playersPageOffset'][_0x34612e(0x33b)]&&_0x41a4f7<this['playersPageOffset'][_0x34612e(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x34612e(0x352)]('unequip\x20armor',0x14,_0x34612e(0x317),VILLAGE_UI_BUTTON_FILLCOLOR,_0x34612e(0x317),_0x519a9e[_0x34612e(0x51a)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x41a4f7++;}if(_0x31b360[_0x34612e(0x198)]==PHASE_PLACEPLAYER&&this['itemSelected']&&this[_0x34612e(0x4ab)]['itemType']==_0x34612e(0x45d)){if(_0x41a4f7>=this[_0x34612e(0x22b)][_0x34612e(0x33b)]&&_0x41a4f7<this['playersPageOffset'][_0x34612e(0x33b)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)][_0x34612e(0x352)](_0x34612e(0x2de),0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0x34612e(0x317),_0x519a9e[_0x34612e(0x2a0)],{'weapon':this['itemSelected']},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x41a4f7++;}if(_0x31b360[_0x34612e(0x198)]==PHASE_PLACEPLAYER&&this[_0x34612e(0x4ab)]&&this[_0x34612e(0x4ab)][_0x34612e(0x4c1)]=='armor'){if(_0x41a4f7>=this[_0x34612e(0x22b)][_0x34612e(0x33b)]&&_0x41a4f7<this['playersPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)][_0x34612e(0x352)](_0x34612e(0x505),0x14,_0x34612e(0x317),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x519a9e[_0x34612e(0x47c)],{'armor':this['itemSelected']},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x41a4f7++;}}}}if(this['playerInfoMenu']){if(_0x41a4f7>=this['playersPageOffset']['value']&&_0x41a4f7<this[_0x34612e(0x22b)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x34612e(0x4ff)]['addTextZone'](this['playerInfoMenu'][_0x34612e(0x19f)](),0x28,0x270f,_0x34612e(0x317),VILLAGE_UI_FONT);_0x41a4f7++;}}this['UIplayers'][_0x34612e(0x154)]();},this[_0xf0981b(0x36c)]=()=>{var _0x31ac78=_0xf0981b,_0x38183f=world[_0x31ac78(0x1c7)],_0x168039=_0x31ac78(0x3b9);_0x168039+=world[_0x31ac78(0x1c7)][_0x31ac78(0x1dd)]();if(_0x38183f['foodconsumedLastTurn'])_0x168039+=_0x31ac78(0x251)+_0x38183f[_0x31ac78(0x32e)]+_0x31ac78(0x517);for(var _0x2db111 in _0x38183f[_0x31ac78(0x4ca)]){var _0x18c458=_0x38183f[_0x31ac78(0x4ca)];if(_0x18c458[_0x31ac78(0x338)])_0x168039+='\x0a'+_0x18c458[_0x31ac78(0x2c7)]+_0x31ac78(0x24d);}this['UI']['addTextZone'](_0x168039,0x1e,0x270f,_0x31ac78(0x317),VILLAGE_UI_FONT),this['UI'][_0x31ac78(0x4fd)]([this['GetNextTurnButton'](![],![],_0x31ac78(0x176))]);},this[_0xf0981b(0x27b)]=()=>{var _0x41d556=_0xf0981b,_0x4adbdb=world['village'];if(_0x4adbdb[_0x41d556(0x239)])this['UI'][_0x41d556(0x450)](_0x41d556(0x24c),0x28,0x270f,_0x41d556(0x317),VILLAGE_UI_FONT);else this['UI'][_0x41d556(0x450)](_0x41d556(0x2c9),0x28,0x270f,'#000000',VILLAGE_UI_FONT);this['UI'][_0x41d556(0x4fd)]([this[_0x41d556(0x1db)](![],![],_0x4adbdb['battle']?_0x41d556(0x387):_0x41d556(0x1b8))]);},this[_0xf0981b(0x51e)]=()=>{var _0x484c1a=_0xf0981b,_0x37c558=world[_0x484c1a(0x1c7)];this['UI']['addHorizontalElem'](this[_0x484c1a(0x465)]({'selector':this['itemsPageOffset']}));var _0x274e1e=0x0;if(_0x37c558['phase']!=PHASE_PLACEPLAYER)this['UI']['addTextZone'](_0x484c1a(0x30f),0x14,0x270f,_0x484c1a(0x35d),VILLAGE_UI_FONT);if(!_0x37c558[_0x484c1a(0x384)][_0x484c1a(0x179)])this['UI']['addTextZone'](_0x484c1a(0x417),0x14,0x270f,'#000000',VILLAGE_UI_FONT);for(var _0x836b3f in _0x37c558[_0x484c1a(0x384)]){var _0x509655=_0x37c558[_0x484c1a(0x384)][_0x836b3f];if(_0x274e1e>=this['itemsPageOffset'][_0x484c1a(0x33b)]&&_0x274e1e<this[_0x484c1a(0x4a9)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x484c1a(0x4fd)](this['getItemIcone'](_0x509655,0x14));_0x274e1e++;}},this[_0xf0981b(0x502)]=()=>{var _0x424130=_0xf0981b,_0xf4fc94=world[_0x424130(0x1c7)];switch(_0xf4fc94['phase']){case PHASE_PLACEPLAYER:this['UI']['addTextZone'](world[_0x424130(0x1c7)]['getDateText'](),0x14,0x270f,_0x424130(0x317),VILLAGE_UI_FONT);var _0x26f7f8='\x20\x20During\x20Phase\x201,\x20you\x20can';_0x26f7f8+=_0x424130(0x231),_0x26f7f8+=_0x424130(0x225),_0x26f7f8+=_0x424130(0x2c0),_0x26f7f8+=_0x424130(0x4a1),this['UI'][_0x424130(0x450)](_0x26f7f8,0x14,0x270f,_0x424130(0x317),VILLAGE_UI_FONT);var _0x10ee33=[this[_0x424130(0x1db)](!![],this[_0x424130(0x289)]['length'],_0x424130(0x4de))];this['UI'][_0x424130(0x4fd)](_0x10ee33);if(this['warningEndTurnMessage'][_0x424130(0x179)])for(var _0x1be422 in this[_0x424130(0x289)]){var _0xaa5d72=[];_0xaa5d72[_0x424130(0x346)]({'type':_0x424130(0x322),'txt':this[_0x424130(0x289)][_0x1be422][_0x424130(0x322)],'txt_color':_0x424130(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x1be422][_0x424130(0x3cb)]||this[_0x424130(0x289)][_0x1be422][_0x424130(0x273)]||this['warningEndTurnMessage'][_0x1be422][_0x424130(0x452)])&&_0xaa5d72['push']({'type':_0x424130(0x2cb),'callback':this[_0x424130(0x1bc)],'callback_data':this[_0x424130(0x289)][_0x1be422],'txt':_0x424130(0x301),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x2c1594=_0x424130;return _0x2c1594(0x46b);}}]}),this['UI'][_0x424130(0x4fd)](_0xaa5d72);}break;case PHASE_ACTIONPLAYER:this['UI'][_0x424130(0x450)](world['village'][_0x424130(0x1dd)](),0x14,0x270f,_0x424130(0x317),VILLAGE_UI_FONT);var _0x26f7f8=_0x424130(0x1a1);_0x26f7f8+='\x0a-recolt\x20resource\x20in\x20the\x20forest',_0x26f7f8+='\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings',_0x26f7f8+=_0x424130(0x1cb),_0x26f7f8+=_0x424130(0x201),this['UI']['addTextZone'](_0x26f7f8,0x14,0x270f,_0x424130(0x317),VILLAGE_UI_FONT);var _0x10ee33=[this[_0x424130(0x1db)](!![],this[_0x424130(0x289)]['length'],_0x424130(0x459))];if(this['warningEndTurnMessage'][_0x424130(0x179)])_0x10ee33[_0x424130(0x346)](this[_0x424130(0x1db)](![],this[_0x424130(0x289)][_0x424130(0x179)],_0x424130(0x3f5)));this['UI']['addHorizontalElem'](_0x10ee33);if(this[_0x424130(0x289)][_0x424130(0x179)])for(var _0x1be422 in this[_0x424130(0x289)]){var _0xaa5d72=[];_0xaa5d72[_0x424130(0x346)]({'type':_0x424130(0x322),'txt':this[_0x424130(0x289)][_0x1be422]['txt'],'txt_color':_0x424130(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x1be422][_0x424130(0x3cb)]||this[_0x424130(0x289)][_0x1be422][_0x424130(0x273)]||this[_0x424130(0x289)][_0x1be422][_0x424130(0x452)])&&_0xaa5d72['push']({'type':_0x424130(0x2cb),'callback':this[_0x424130(0x1bc)],'callback_data':this[_0x424130(0x289)][_0x1be422],'txt':_0x424130(0x301),'txt_color':_0x424130(0x317),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x4355d4=_0x424130;return _0x4355d4(0x46b);}}]}),this['UI'][_0x424130(0x4fd)](_0xaa5d72);}break;}},this['draw_playerTab']=()=>{var _0x56145c=_0xf0981b,_0x16c308=world[_0x56145c(0x1c7)];if(!this[_0x56145c(0x41e)])return this['UI'][_0x56145c(0x450)](_0x56145c(0x17a),VILLAGE_UI_LETTER_SIZE,0x270f,_0x56145c(0x317),VILLAGE_UI_FONT);var _0x511d3e=this[_0x56145c(0x41e)],_0xf329d9=this[_0x56145c(0x291)](_0x511d3e,0x50);this['UI'][_0x56145c(0x4fd)](_0xf329d9);var _0x272ade=world[_0x56145c(0x1c7)][_0x56145c(0x311)](_0x511d3e);if(_0x272ade){var _0x82a86e=[{'type':_0x56145c(0x322),'txt':_0x272ade['name'],'txt_color':this[_0x56145c(0x4f5)]==_0x272ade?_0x56145c(0x39a):_0x56145c(0x317),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':'img','img':world[_0x56145c(0x24b)][_0x272ade[_0x56145c(0x477)]][_0x56145c(0x458)],'len_x':0x19,'len_y':0x19}];if(_0x16c308[_0x56145c(0x198)]==PHASE_PLACEPLAYER)_0x82a86e[_0x56145c(0x346)]({'type':'button','mouseLight':'88','callback':world[_0x56145c(0x1c7)][_0x56145c(0x16c)],'callback_data':{'player':_0x511d3e},'txt':_0x56145c(0x2c8),'txt_color':_0x56145c(0x317),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x56145c(0x35d)});this['UI'][_0x56145c(0x4fd)](_0x82a86e);}if(!_0x511d3e['weapon'])this['UI'][_0x56145c(0x450)](_0x56145c(0x163),0x14,0x270e,_0x56145c(0x49d),VILLAGE_UI_FONT);else{var _0x5f2e1d=this[_0x56145c(0x4b5)](_0x511d3e[_0x56145c(0x45d)],0x1e,!![]);if(_0x16c308[_0x56145c(0x198)]==PHASE_PLACEPLAYER)_0x5f2e1d['push']({'type':_0x56145c(0x2cb),'callback':_0x511d3e[_0x56145c(0x1d8)],'callback_data':undefined,'txt':'\x20x\x20','txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x56145c(0x35d),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x54e249=_0x56145c;return _0x54e249(0x3ff);}}]});this['UI'][_0x56145c(0x4fd)](_0x5f2e1d);}if(!_0x511d3e[_0x56145c(0x4c5)])this['UI'][_0x56145c(0x450)](_0x56145c(0x4d4),0x14,0x270e,_0x56145c(0x49d),VILLAGE_UI_FONT);else{var _0x5f2e1d=this[_0x56145c(0x4b5)](_0x511d3e[_0x56145c(0x4c5)],0x1e,!![]);if(_0x16c308[_0x56145c(0x198)]==PHASE_PLACEPLAYER)_0x5f2e1d[_0x56145c(0x346)]({'type':_0x56145c(0x2cb),'callback':_0x511d3e[_0x56145c(0x51a)],'callback_data':undefined,'txt':'\x20x\x20','txt_color':_0x56145c(0x317),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x56145c(0x35d),'strokeColor':_0x56145c(0x317),'windowInfo':[{'callback':()=>{var _0x2b75d4=_0x56145c;return _0x2b75d4(0x263);}}]});this['UI'][_0x56145c(0x4fd)](_0x5f2e1d);}if(_0x511d3e[_0x56145c(0x338)]&&_0x511d3e[_0x56145c(0x33c)]&&_0x511d3e[_0x56145c(0x33c)][_0x56145c(0x179)]>0x0)for(var _0x5853fd in _0x511d3e[_0x56145c(0x33c)]){var _0xf329d9=_0x511d3e[_0x56145c(0x33c)][_0x5853fd];this['UI'][_0x56145c(0x352)](_0xf329d9[_0x56145c(0x3a6)]+'\x20'+_0xf329d9['value'],0x28,_0x56145c(0x317),_0x56145c(0x32f),'#000000',_0x511d3e[_0x56145c(0x253)],_0xf329d9,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0x511d3e[_0x56145c(0x338)]&&this['UI'][_0x56145c(0x352)](_0x56145c(0x3db),0x3c,_0x56145c(0x317),_0x56145c(0x38d),_0x56145c(0x317),_0x511d3e['getLvlUpPerkList'],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0xf329d9=[];var _0x5f2eda=_0x56145c(0x4b2)+_0x511d3e[_0x56145c(0x245)];_0x5f2eda+=_0x56145c(0x2ab)+_0x511d3e['lifeMax'],_0x5f2eda+=_0x56145c(0x29a)+_0x511d3e[_0x56145c(0x349)],_0x5f2eda+='\x0aMove\x20AP\x20cost\x20'+_0x511d3e['movePCost'];for(var _0x5853fd in _0x511d3e[_0x56145c(0x159)])_0x5f2eda+='\x0a'+_0x5853fd+'\x20'+_0x511d3e[_0x56145c(0x159)][_0x5853fd];_0xf329d9[_0x56145c(0x346)]({'type':_0x56145c(0x322),'txt':_0x5f2eda,'txt_color':_0x56145c(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x5dc734=_0x56145c(0x28e)+_0x511d3e[_0x56145c(0x48c)]+'/'+_0x511d3e[_0x56145c(0x215)];_0x5dc734+='\x0aLvl\x20:\x20'+_0x511d3e[_0x56145c(0x45e)],_0x5dc734+='\x0aSurvived\x20'+_0x511d3e[_0x56145c(0x485)]+_0x56145c(0x433),_0xf329d9[_0x56145c(0x346)]({'type':_0x56145c(0x322),'txt':_0x5dc734,'txt_color':_0x56145c(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x56145c(0x4fd)](_0xf329d9);},this[_0xf0981b(0x49a)]=()=>{var _0x540c2d=_0xf0981b,_0x1f5747=world[_0x540c2d(0x1c7)];for(var _0x5cfb9b in _0x1f5747[_0x540c2d(0x3c8)]){var _0x4352d6=[],_0x213b8c=_0x1f5747[_0x540c2d(0x3c8)][_0x5cfb9b];if(_0x213b8c==undefined)continue;_0x4352d6[_0x540c2d(0x346)]({'type':_0x540c2d(0x322),'txt':_0x5cfb9b,'txt_color':_0x540c2d(0x317),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x4352d6['push']({'type':'img','img':world[_0x540c2d(0x24b)][_0x5cfb9b+_0x540c2d(0x26e)][_0x540c2d(0x458)],'len_x':0x14,'len_y':0x14}),_0x4352d6[_0x540c2d(0x346)]({'type':'txt','txt':'\x20'+_0x213b8c,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI']['addHorizontalElem'](_0x4352d6);}},this[_0xf0981b(0x1c6)]=()=>{var _0x586808=_0xf0981b,_0x37861a=[];_0x37861a['push']({'type':_0x586808(0x2cb),'mouseLight':'88','callback':()=>{var _0x5bf538=_0x586808;this['activeTabId']=this[_0x5bf538(0x1f6)]-0x1>=0x0?this[_0x5bf538(0x1f6)]-0x1:this[_0x5bf538(0x422)][_0x5bf538(0x179)]-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x37861a[_0x586808(0x346)]({'type':_0x586808(0x2cb),'mouseLight':'88','callback':()=>{var _0x26ea6a=_0x586808;this[_0x26ea6a(0x1f6)]=this[_0x26ea6a(0x1f6)]+0x1<this[_0x26ea6a(0x422)][_0x26ea6a(0x179)]?this[_0x26ea6a(0x1f6)]+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x37861a[_0x586808(0x346)]({'type':'button','mouseLight':'ff','callback':()=>{var _0x112573=_0x586808;this[_0x112573(0x1f6)]=undefined;},'callback_data':undefined,'txt':this[_0x586808(0x422)][this[_0x586808(0x1f6)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI']['addHorizontalElem'](_0x37861a);},this['draw_UI_EventMessage']=()=>{var _0x4a7ffe=_0xf0981b,_0x14243f=world[_0x4a7ffe(0x1c7)];this['UIsystem']=new MyUI(this[_0x4a7ffe(0x1f3)],this[_0x4a7ffe(0x4ff)]['lenx']+this['UI'][_0x4a7ffe(0x28a)],0x0,0xa,this[_0x4a7ffe(0x402)],this['background'],this[_0x4a7ffe(0x356)],this[_0x4a7ffe(0x30b)]),this[_0x4a7ffe(0x23c)][_0x4a7ffe(0x450)](_0x4a7ffe(0x2b7),0x28,0x270f,_0x4a7ffe(0x317),VILLAGE_UI_FONT_PHASE),this[_0x4a7ffe(0x23c)][_0x4a7ffe(0x4fd)]([{'type':_0x4a7ffe(0x2cb),'mouseLight':'88','callback':()=>{var _0x588044=_0x4a7ffe;this['eventPage']=this[_0x588044(0x1ae)]>0x0?this[_0x588044(0x1ae)]-0x1:this[_0x588044(0x1ae)];},'txt':'âˆ§','txt_color':_0x4a7ffe(0x35d),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':'#55aaaa'},{'type':_0x4a7ffe(0x2cb),'mouseLight':'88','callback':()=>{var _0x2ee80c=_0x4a7ffe;this['eventPage']=this['eventPage']<_0x14243f['MessageSystem'][_0x2ee80c(0x4e8)][_0x2ee80c(0x179)]-0x1?this[_0x2ee80c(0x1ae)]+0x1:this[_0x2ee80c(0x1ae)];},'txt':'âˆ¨','txt_color':_0x4a7ffe(0x35d),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x4a7ffe(0x188)}]);var _0x599757=_0x14243f[_0x4a7ffe(0x40d)][_0x4a7ffe(0x274)]({'page':this[_0x4a7ffe(0x1ae)]});for(var _0x1fbae5 in _0x599757){var _0x4e2108=_0x599757['length']-_0x1fbae5-0x1,_0x4b21bf='#000000';switch(_0x599757[_0x4e2108]['type']){case'job':_0x4b21bf=_0x4a7ffe(0x4ae);break;case _0x4a7ffe(0x385):_0x4b21bf=_0x4a7ffe(0x504);break;case _0x4a7ffe(0x3cb):_0x4b21bf=_0x4a7ffe(0x33f);break;default:_0x4b21bf='#000000';break;}if(_0x599757[_0x4e2108][_0x4a7ffe(0x492)]==_0x4a7ffe(0x447))this[_0x4a7ffe(0x23c)][_0x4a7ffe(0x4fd)](this[_0x4a7ffe(0x22c)](_0x599757[_0x4e2108][_0x4a7ffe(0x322)],0x14));else this[_0x4a7ffe(0x23c)][_0x4a7ffe(0x450)](_0x599757[_0x4e2108]['txt'],0x14,0x270f,_0x4b21bf,VILLAGE_UI_FONT);}this[_0x4a7ffe(0x23c)][_0x4a7ffe(0x154)]();},this[_0xf0981b(0x440)]=()=>{var _0x755bfc=_0xf0981b;if(!world[_0x755bfc(0x1c7)])return;var _0x240eb5=world[_0x755bfc(0x1c7)];this[_0x755bfc(0x4e2)]=![],this[_0x755bfc(0x1f3)]['GetCanvasPos'](),this[_0x755bfc(0x1f3)][_0x755bfc(0x446)](),this[_0x755bfc(0x380)](),this['UI']=new MyUI(this[_0x755bfc(0x1f3)],this['UIplayers']['lenx'],0x0,0xa,this[_0x755bfc(0x402)],this[_0x755bfc(0x516)],this['stroke'],this['marge']);if(!this['showUI'])this['UI']['addButton'](_0x755bfc(0x3e2),0x28,'#000000',_0x755bfc(0x160),'#00000000',()=>{var _0x5181c3=_0x755bfc;this['showUI']=!this[_0x5181c3(0x333)];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this[_0x755bfc(0x333)]){switch(_0x240eb5[_0x755bfc(0x198)]){case PHASE_PLACEPLAYER:this['UI']['addButton'](_0x755bfc(0x38e),0x28,_0x755bfc(0x317),_0x755bfc(0x160),_0x755bfc(0x160),()=>{var _0x349e2c=_0x755bfc;this[_0x349e2c(0x333)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI'][_0x755bfc(0x352)]('Phase\x202\x20:\x20Action\x20Players',0x28,'#000000',_0x755bfc(0x160),_0x755bfc(0x160),()=>{var _0x5290d8=_0x755bfc;this[_0x5290d8(0x333)]=!this[_0x5290d8(0x333)];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this[_0x755bfc(0x1f6)]===undefined)for(var _0x429273 in this[_0x755bfc(0x422)]){var _0x1ca127=[];_0x1ca127[_0x755bfc(0x346)]({'type':_0x755bfc(0x2cb),'mouseLight':'ff','callback':_0x5e9a09=>{var _0x1c9e97=_0x755bfc;this[_0x1c9e97(0x1f6)]=parseInt(_0x5e9a09);},'callback_data':_0x429273,'txt':this[_0x755bfc(0x422)][_0x429273],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x755bfc(0x4fd)](_0x1ca127);}else{if(_0x240eb5[_0x755bfc(0x198)]==PHASE_NEWTURN)this[_0x755bfc(0x36c)]();else{if(_0x240eb5['phase']==PHASE_COMBAT)this[_0x755bfc(0x27b)]();else{this[_0x755bfc(0x1c6)]();switch(this[_0x755bfc(0x422)][this['activeTabId']]){case _0x755bfc(0x1b8):this[_0x755bfc(0x502)]();break;case _0x755bfc(0x385):this[_0x755bfc(0x4a0)]();break;case'craft':this[_0x755bfc(0x483)]();break;case _0x755bfc(0x447):this[_0x755bfc(0x49a)]();break;case'Items':this[_0x755bfc(0x51e)]();break;case'Player':this[_0x755bfc(0x2cd)]();break;}}}}}}this['UI'][_0x755bfc(0x154)](),this['draw_UI_EventMessage'](),this[_0x755bfc(0x323)](![]);};};var IMG_TO_LOAD=[[_0x4113ca(0x414),_0x4113ca(0x3dc)],[_0x4113ca(0x414),_0x4113ca(0x166)],[_0x4113ca(0x414),_0x4113ca(0x249)],[_0x4113ca(0x414),_0x4113ca(0x15c)],[_0x4113ca(0x414),_0x4113ca(0x27c)],[_0x4113ca(0x486),_0x4113ca(0x507)],[_0x4113ca(0x486),_0x4113ca(0x464)],['player_test3/village/building',_0x4113ca(0x293)],['player_test3/village/building',_0x4113ca(0x303)],[_0x4113ca(0x486),_0x4113ca(0x259)],['player_test3/village/building',_0x4113ca(0x197)],[_0x4113ca(0x486),_0x4113ca(0x297)],['player_test3/village/resource','villageAP_icon'],[_0x4113ca(0x414),_0x4113ca(0x34c)]],id=0x0;World=function(_0x3a6d36){var _0x4f7815=_0x4113ca;this[_0x4f7815(0x1b4)]=_0x3a6d36,this[_0x4f7815(0x182)]=new SoundManager(),this[_0x4f7815(0x24b)]=[],this[_0x4f7815(0x17b)]=()=>{var _0x4d84c2=_0x4f7815;this[_0x4d84c2(0x1c7)]=new Village({}),this[_0x4d84c2(0x1c7)]['generateBasicVillage'](),this[_0x4d84c2(0x4b4)]=new VillageUI(this[_0x4d84c2(0x1b4)][_0x4d84c2(0x156)][_0x4d84c2(0x233)]);},this[_0x4f7815(0x4bb)]=()=>{var _0x447e74=_0x4f7815;for(var _0x3b4918 in IMG_TO_LOAD){var _0x45b82f=IMG_TO_LOAD[_0x3b4918][0x1],_0x4a6ee6=IMG_TO_LOAD[_0x3b4918][0x0];this[_0x447e74(0x24b)][_0x45b82f]=new myImage(_0x45b82f,_0x447e74(0x248)+_0x4a6ee6+'/'+_0x45b82f+_0x447e74(0x305));}},this[_0x4f7815(0x40b)]=()=>{var _0x318982=_0x4f7815;this[_0x318982(0x336)]=new ControlManager(),new PlayersManager()[_0x318982(0x370)](),this['Imgs']={...world[_0x318982(0x167)]},this['loadImg'](),this[_0x318982(0x17b)]();},this[_0x4f7815(0x2cf)]=_0xd90794=>{var _0x155c31=_0x4f7815;if(!this['map'])return undefined;var _0x564ab7=0x64;while(_0x564ab7-->0x1){var _0x1cb0cb=0x1+Math[_0x155c31(0x3d8)](this[_0x155c31(0x3fe)][_0x155c31(0x269)]*(0.5+0.5*Math[_0x155c31(0x325)]())),_0x8ffba6=0x1+Math['floor'](this[_0x155c31(0x3fe)]['height']*Math[_0x155c31(0x325)]()),_0x2a9200=this[_0x155c31(0x4ca)]['createPlayer']({'x':_0x1cb0cb,'y':_0x8ffba6,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x2a9200&&(console[_0x155c31(0x3c2)](_0x155c31(0x2d9)+[_0x1cb0cb,_0x8ffba6]),_0x564ab7=0x0);}if(!_0x2a9200)return undefined;_0x2a9200[_0x155c31(0x1d6)]=0x14+_0xd90794*0x4,_0x2a9200[_0x155c31(0x21f)]=_0x2a9200[_0x155c31(0x1d6)],_0x2a9200[_0x155c31(0x159)][_0x155c31(0x162)]=0x5+_0xd90794,_0x2a9200['stats'][_0x155c31(0x1bd)]=0x5+_0xd90794,_0x2a9200['speed']=0x50+_0xd90794*0x1+Math[_0x155c31(0x3d8)](Math[_0x155c31(0x325)]()*0x50),_0x2a9200['ActionPointMax']=0x32+Math[_0x155c31(0x3d8)](Math['random']()*0x64)+_0xd90794,_0x2a9200['ActionPoint']=_0x2a9200[_0x155c31(0x245)],_0x2a9200[_0x155c31(0x3e4)]=0x14-0xf+Math[_0x155c31(0x3d8)](Math[_0x155c31(0x325)]()*0x1f)-_0xd90794;if(_0x2a9200[_0x155c31(0x3e4)]<0x5)_0x2a9200['movePCost']=0x5;var _0x301716=undefined,_0x5d0ef8=Math[_0x155c31(0x3d8)](Math[_0x155c31(0x325)]()*0x64);if(_0xd90794<0x5)_0x301716=undefined;else{if(_0x5d0ef8+_0xd90794*0x2>0x50)_0x301716=new Weapon()[_0x155c31(0x482)]();}_0x2a9200['weapon']=_0x301716;var _0x56a2e4=undefined,_0x5d0ef8=Math[_0x155c31(0x3d8)](Math['random']()*0x64);if(_0xd90794<0x5)_0x56a2e4=undefined;else{if(_0x5d0ef8+_0xd90794*0x2>0x50)_0x56a2e4=new Armor()[_0x155c31(0x28b)]();}return _0x2a9200['armor']=_0x56a2e4,_0x2a9200[_0x155c31(0x4ce)](),console[_0x155c31(0x3c2)](_0x155c31(0x1a0)),_0x2a9200;},this[_0x4f7815(0x1ed)]=(_0x29f828,_0x482419,_0x4e896c)=>{var _0x14f500=_0x4f7815;this[_0x14f500(0x3fe)]=new BattleMap(0x19,0x6+0x2*_0x29f828['length']),this['map'][_0x14f500(0x1f7)](),this[_0x14f500(0x3fe)][_0x14f500(0x28f)](),this[_0x14f500(0x4ca)]=new PlayersManager(),this['players'][_0x14f500(0x370)](),this[_0x14f500(0x4ca)]=this['players'],this['players']['canvasPUI']=this[_0x14f500(0x1b4)]['canList']['mapUI'],this[_0x14f500(0x4ca)][_0x14f500(0x278)]=this[_0x14f500(0x1b4)][_0x14f500(0x156)]['players'],TEAM_AI_COLOR={'r':0x78,'g':0x78,'b':0x78};var _0x7df589=0x3;for(var _0x1dbcac in _0x29f828){var _0x3f4a59=_0x29f828[_0x1dbcac];this[_0x14f500(0x4ca)]['createPlayerFromVillage']({'x':0x3,'y':_0x7df589,'player':_0x3f4a59}),_0x7df589+=0x2;}for(var _0x1cab88=0x0;_0x1cab88<0x64;_0x1cab88++){if(_0x4e896c){this['create_random_enemy_on_map'](_0x482419*0x3);break;}if(_0x1cab88==0x0||_0x1cab88==0x1){this[_0x14f500(0x2cf)](_0x482419);continue;}else{if(_0x482419>0x5&&_0x1cab88>0x5a&&Math['floor'](Math[_0x14f500(0x325)]()*(0x64+_0x482419))<_0x482419)this[_0x14f500(0x2cf)](_0x482419);else{if(_0x482419>0x14&&_0x1cab88>0x50&&Math[_0x14f500(0x3d8)](Math[_0x14f500(0x325)]()*(0xc8+_0x482419))<_0x482419)this[_0x14f500(0x2cf)](_0x482419);else{if(_0x482419>0x32&&_0x1cab88>0x46&&Math[_0x14f500(0x3d8)](Math[_0x14f500(0x325)]()*(0x190+_0x482419))<_0x482419)this[_0x14f500(0x2cf)](_0x482419);else{if(_0x482419>0x64&&_0x1cab88>0x32&&Math[_0x14f500(0x3d8)](Math['random']()*(0x320+_0x482419))<_0x482419)this['create_random_enemy_on_map'](_0x482419);}}}}}this[_0x14f500(0x3fe)][_0x14f500(0x4eb)]();},this['needRedraw']=()=>{var _0x1aca2d=_0x4f7815;if(this[_0x1aca2d(0x3fe)])this[_0x1aca2d(0x3fe)][_0x1aca2d(0x4e2)]=!![];if(this['GameUI'])this[_0x1aca2d(0x233)][_0x1aca2d(0x4e2)]=!![];if(this[_0x1aca2d(0x4b4)])this['villageUI'][_0x1aca2d(0x4e2)]=!![];};},PLAYER_ID=0x3e8,document['oncontextmenu']=rightClick;function rightClick(_0x2a1117){var _0x1c37cf=_0x4113ca;_0x2a1117[_0x1c37cf(0x2b2)]();}window[_0x4113ca(0x4da)]=function(){var _0x54d299=_0x4113ca;const _0x23ea97=new CanvasManager();_0x23ea97[_0x54d299(0x226)](_0x54d299(0x1b2),0x0),_0x23ea97[_0x54d299(0x226)](_0x54d299(0x4ca),0x1),_0x23ea97[_0x54d299(0x226)]('mapTopElem',0x2),_0x23ea97[_0x54d299(0x226)](_0x54d299(0x298),0x3),_0x23ea97[_0x54d299(0x226)](_0x54d299(0x233),0x4),world=new World(_0x23ea97),world['init']();var _0x3b0019=new Date()['getTime']();setInterval(()=>{var _0x4de746=_0x54d299;if(!world||!world[_0x4de746(0x336)])return;var _0x5d8c09=new Date()[_0x4de746(0x1e0)]();if(world[_0x4de746(0x233)])world[_0x4de746(0x233)][_0x4de746(0x4c8)]=Math[_0x4de746(0x3d8)](0x3e8/(_0x5d8c09-_0x3b0019));_0x3b0019=_0x5d8c09;if(world[_0x4de746(0x4ca)]&&world[_0x4de746(0x4ca)]['Playerturn']&&world['players'][_0x4de746(0x206)][_0x4de746(0x31a)]==TEAM_AI&&!world[_0x4de746(0x4ca)][_0x4de746(0x206)]['AI'][_0x4de746(0x2ad)]){var _0x3619e7=world['players'][_0x4de746(0x3ab)][_0x4de746(0x2ea)](_0x2e60c3=>_0x2e60c3[_0x4de746(0x416)][_0x4de746(0x179)]>0x0);if(!_0x3619e7){_0x3619e7=world[_0x4de746(0x4ca)][_0x4de746(0x206)][_0x4de746(0x3b8)](),console[_0x4de746(0x3c2)](_0x4de746(0x4db)+_0x3619e7);if(_0x3619e7)world[_0x4de746(0x4ca)][_0x4de746(0x206)]['AI'][_0x4de746(0x2ad)]=!![];}}world[_0x4de746(0x336)][_0x4de746(0x279)](),world[_0x4de746(0x3fe)]&&world[_0x4de746(0x3fe)]['needRedraw']&&(_0x23ea97[_0x4de746(0x156)]['mapFloor']['GetCanvasPos'](),_0x23ea97[_0x4de746(0x156)][_0x4de746(0x1b2)][_0x4de746(0x446)](),_0x23ea97[_0x4de746(0x156)]['mapTopElem']['GetCanvasPos'](),_0x23ea97[_0x4de746(0x156)][_0x4de746(0x1b5)][_0x4de746(0x446)](),world[_0x4de746(0x3fe)][_0x4de746(0x2f6)](_0x23ea97['canList'][_0x4de746(0x1b2)][_0x4de746(0x1f3)]),world[_0x4de746(0x3fe)][_0x4de746(0x1be)](_0x23ea97[_0x4de746(0x156)][_0x4de746(0x1b2)],_0x23ea97[_0x4de746(0x156)][_0x4de746(0x1b5)],_0x23ea97['canList'][_0x4de746(0x298)])),world[_0x4de746(0x4ca)]&&(_0x23ea97[_0x4de746(0x156)][_0x4de746(0x4ca)][_0x4de746(0x3e6)](),_0x23ea97[_0x4de746(0x156)][_0x4de746(0x4ca)][_0x4de746(0x446)](),world[_0x4de746(0x4ca)][_0x4de746(0x366)](),scale_changed=![]),world[_0x4de746(0x233)]&&(world[_0x4de746(0x233)][_0x4de746(0x323)](![]),world[_0x4de746(0x233)][_0x4de746(0x4e2)]&&world[_0x4de746(0x233)][_0x4de746(0x3fa)]()),world['villageUI']&&(world[_0x4de746(0x4b4)][_0x4de746(0x323)](![]),world['villageUI'][_0x4de746(0x4e2)]&&(world[_0x4de746(0x4b4)][_0x4de746(0x440)](),console[_0x4de746(0x3c2)](_0x4de746(0x449))));},0x14);};