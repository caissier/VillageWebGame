var _0x2698c6=_0xb2fc;(function(_0x4ea2e7,_0x2179eb){var _0x12dbb3=_0xb2fc,_0x174634=_0x4ea2e7();while(!![]){try{var _0x4680bc=-parseInt(_0x12dbb3(0x39d))/0x1+-parseInt(_0x12dbb3(0x225))/0x2*(-parseInt(_0x12dbb3(0x471))/0x3)+parseInt(_0x12dbb3(0x4ba))/0x4*(parseInt(_0x12dbb3(0x3a9))/0x5)+parseInt(_0x12dbb3(0x122))/0x6+parseInt(_0x12dbb3(0x3e3))/0x7*(-parseInt(_0x12dbb3(0x2ca))/0x8)+-parseInt(_0x12dbb3(0x207))/0x9*(-parseInt(_0x12dbb3(0x310))/0xa)+parseInt(_0x12dbb3(0x121))/0xb*(-parseInt(_0x12dbb3(0x168))/0xc);if(_0x4680bc===_0x2179eb)break;else _0x174634['push'](_0x174634['shift']());}catch(_0x20b5ba){_0x174634['push'](_0x174634['shift']());}}}(_0x5a57,0x62715),SoundManager=function(){var _0x43b5c4=_0xb2fc;this[_0x43b5c4(0x39f)]=[],this['src']='./music/',this[_0x43b5c4(0x15d)]=_0x45588b=>{var _0x4f51ec=_0x43b5c4;if(this[_0x4f51ec(0x39f)][_0x45588b]&&this[_0x4f51ec(0x39f)][_0x45588b][_0x4f51ec(0x33b)])return;var _0x364b39=new Audio(this['src']+_0x45588b+_0x4f51ec(0x1d4));this[_0x4f51ec(0x39f)][_0x45588b]=_0x364b39;},this['playSound']=(_0x3203f7,_0x46f06f,_0x4dcc80)=>{var _0x15b002=_0x43b5c4;if(!this[_0x15b002(0x39f)][_0x3203f7])this[_0x15b002(0x15d)](_0x3203f7);if(!_0x4dcc80&&!this['sounds'][_0x3203f7]['paused'])this[_0x15b002(0x39f)][_0x3203f7][_0x15b002(0x2cd)]=0x0;if(_0x46f06f)this[_0x15b002(0x39f)][_0x3203f7][_0x15b002(0x3f3)]=!![];this['sounds'][_0x3203f7][_0x15b002(0x49a)]();},this[_0x43b5c4(0x2d1)]=_0x32af83=>{var _0x2f48c0=_0x43b5c4;this['sounds'][_0x32af83]&&(this[_0x2f48c0(0x39f)][_0x32af83][_0x2f48c0(0x2a2)](),this[_0x2f48c0(0x39f)][_0x32af83][_0x2f48c0(0x2cd)]=0x0);};});function isInRect(_0x18165a,_0x340840,_0x39f123){if(_0x18165a===undefined||_0x340840===undefined||_0x39f123['ax']===undefined||_0x39f123['ay']===undefined||_0x39f123['bx']===undefined||_0x39f123['by']===undefined)return![];if(_0x39f123['ax']>_0x39f123['bx']){var _0x15fdd7=_0x39f123['ax'];_0x39f123['ax']=_0x39f123['bx'],_0x39f123['bx']=_0x15fdd7;}if(_0x39f123['ay']>_0x39f123['by']){var _0x15fdd7=_0x39f123['ay'];_0x39f123['ay']=_0x39f123['by'],_0x39f123['by']=_0x15fdd7;}if(_0x18165a>_0x39f123['ax']&&_0x18165a<_0x39f123['bx']&&_0x340840>_0x39f123['ay']&&_0x340840<_0x39f123['by'])return!![];return![];}function testCB(_0x5b2529){var _0xc42348=_0xb2fc;if(!_0x5b2529)console[_0xc42348(0x114)](_0xc42348(0x13d));console[_0xc42348(0x114)]('change\x20block\x20'+_0x5b2529['x']+'\x20'+_0x5b2529['y']),map_test[_0xc42348(0x23d)][_0x5b2529['x']][_0x5b2529['y']]=(map_test[_0xc42348(0x23d)][_0x5b2529['x']][_0x5b2529['y']]+0x1)%0x4,scale_changed=!![];}function getAngleFromTime(_0x160ad0,_0x2f6bad,_0x35edc7){var _0x5bd9ef=_0x2f6bad-_0x160ad0;return _0x160ad0+_0x5bd9ef/0x2+_0x35edc7*_0x5bd9ef/0x2;}function distBlock(_0x4b115e,_0x5a8e75,_0xb8854e,_0x563559){var _0x8c41b8=_0xb2fc,_0x529ec3=Math[_0x8c41b8(0x22f)](_0x4b115e-_0xb8854e),_0x4d0e3f=Math[_0x8c41b8(0x22f)](_0x5a8e75-_0x563559);if(_0x529ec3>_0x4d0e3f)return _0x529ec3;return _0x4d0e3f;}function dist(_0x45b10c,_0x250ce6,_0x4365a6,_0x41d861){var _0x130a85=Math['sqrt']((_0x45b10c-_0x4365a6)*(_0x45b10c-_0x4365a6)+(_0x250ce6-_0x41d861)*(_0x250ce6-_0x41d861));return _0x130a85;}var obj={'callback':_0x2698c6(0x3f7)};World=function(){var _0x2e28ae=_0x2698c6;this[_0x2e28ae(0x4a1)]=_0x2e28ae(0x1f3),this[_0x2e28ae(0x3f7)]=()=>{var _0x353766=_0x2e28ae;console[_0x353766(0x114)](this[_0x353766(0x4a1)]);};};var world=new World();world[obj[_0x2698c6(0x4a6)]](),myImage=function(_0x338856,_0x1631da){var _0x55b800=_0x2698c6;console[_0x55b800(0x114)](_0x55b800(0x486)+_0x1631da),this[_0x55b800(0x173)]=new Image(),this[_0x55b800(0x1db)]=![],this[_0x55b800(0x320)]=_0x338856,this['img']['crossOrigin']=_0x55b800(0x3c0),this[_0x55b800(0x173)][_0x55b800(0x451)]=_0x1631da,this[_0x55b800(0x173)]['alt']=_0x55b800(0x10c)+_0x1631da+'\x22',this[_0x55b800(0x390)]=undefined,this[_0x55b800(0x135)]=undefined,this['img'][_0x55b800(0x392)]()[_0x55b800(0x305)](()=>{var _0x38fd=_0x55b800;console['log'](_0x38fd(0x15a)+_0x338856+'\x20is\x20loaded'),this['ready']=!![],this[_0x38fd(0x201)](0xff,0xff,0xff);if(world[_0x38fd(0x1fa)])world[_0x38fd(0x1fa)][_0x38fd(0x409)]=!![];if(world[_0x38fd(0x205)])world['GameUI'][_0x38fd(0x409)]=!![];})[_0x55b800(0x124)](_0x42a6be=>{var _0x46a507=_0x55b800;console['log'](_0x46a507(0x391)+this[_0x46a507(0x320)]),console[_0x46a507(0x114)](_0x42a6be);}),this[_0x55b800(0x11a)]=()=>{var _0x25ca9f=_0x55b800;if(!this[_0x25ca9f(0x1db)])return undefined;const _0x4e7263=document[_0x25ca9f(0x42f)](_0x25ca9f(0x166));_0x4e7263['width']=this['img'][_0x25ca9f(0x470)],_0x4e7263[_0x25ca9f(0x184)]=this[_0x25ca9f(0x173)][_0x25ca9f(0x184)];const _0x318dfe=_0x4e7263[_0x25ca9f(0x223)]('2d');return _0x318dfe['drawImage'](this['img'],0x0,0x0),_0x318dfe['getImageData'](0x0,0x0,this[_0x25ca9f(0x173)][_0x25ca9f(0x470)],this[_0x25ca9f(0x173)][_0x25ca9f(0x184)]);},this[_0x55b800(0x419)]=_0x56a238=>{var _0x2f7ba2=_0x55b800;const _0x3fa2ca=document[_0x2f7ba2(0x42f)](_0x2f7ba2(0x166));_0x3fa2ca[_0x2f7ba2(0x470)]=_0x56a238[_0x2f7ba2(0x470)],_0x3fa2ca[_0x2f7ba2(0x184)]=_0x56a238[_0x2f7ba2(0x184)];const _0x410d8a=_0x3fa2ca[_0x2f7ba2(0x223)]('2d');_0x410d8a[_0x2f7ba2(0x38e)](_0x56a238,0x0,0x0),this['img']=new Image(),this[_0x2f7ba2(0x173)][_0x2f7ba2(0x451)]=_0x3fa2ca[_0x2f7ba2(0x32b)](),this[_0x2f7ba2(0x173)][_0x2f7ba2(0x414)]='failed\x20createImgData\x20image',this[_0x2f7ba2(0x173)][_0x2f7ba2(0x392)]()[_0x2f7ba2(0x305)](()=>{var _0x16be0e=_0x2f7ba2;if(world['villageUI'])world[_0x16be0e(0x1fa)][_0x16be0e(0x409)]=!![];if(world[_0x16be0e(0x205)])world[_0x16be0e(0x205)][_0x16be0e(0x409)]=!![];});},this['GetColorImage']=(_0x412f2b,_0xbb8c2f,_0x1caf0a,_0x2ef4d3,_0x3ede1a,_0x25a2a7)=>{var _0x2c9c81=_0x55b800,_0x3187e1=this[_0x2c9c81(0x11a)]();if(!_0x3187e1)return console['log']('can\x27t\x20create\x20getColorImage');for(var _0x26bc8a=0x0;_0x26bc8a<_0x3187e1[_0x2c9c81(0x184)];_0x26bc8a++){for(var _0x3df283=0x0;_0x3df283<_0x3187e1[_0x2c9c81(0x470)];_0x3df283++){var _0x4ed0c6=_0x3187e1[_0x2c9c81(0x39b)][_0x26bc8a*(_0x3187e1[_0x2c9c81(0x470)]*0x4)+_0x3df283*0x4],_0x45f652=_0x3187e1[_0x2c9c81(0x39b)][_0x26bc8a*(_0x3187e1[_0x2c9c81(0x470)]*0x4)+_0x3df283*0x4+0x1],_0x50a40f=_0x3187e1[_0x2c9c81(0x39b)][_0x26bc8a*(_0x3187e1[_0x2c9c81(0x470)]*0x4)+_0x3df283*0x4+0x2],_0x2c6ba1=_0x3187e1[_0x2c9c81(0x39b)][_0x26bc8a*(_0x3187e1[_0x2c9c81(0x470)]*0x4)+_0x3df283*0x4+0x3];_0x4ed0c6==_0x412f2b&&_0x45f652==_0xbb8c2f&&_0x50a40f==_0x1caf0a&&(_0x3187e1[_0x2c9c81(0x39b)][_0x26bc8a*(_0x3187e1[_0x2c9c81(0x470)]*0x4)+_0x3df283*0x4]=_0x2ef4d3,_0x3187e1['data'][_0x26bc8a*(_0x3187e1[_0x2c9c81(0x470)]*0x4)+_0x3df283*0x4+0x1]=_0x3ede1a,_0x3187e1[_0x2c9c81(0x39b)][_0x26bc8a*(_0x3187e1['width']*0x4)+_0x3df283*0x4+0x2]=_0x25a2a7);}}const _0x4d1766=document[_0x2c9c81(0x42f)](_0x2c9c81(0x166));_0x4d1766[_0x2c9c81(0x470)]=_0x3187e1[_0x2c9c81(0x470)],_0x4d1766[_0x2c9c81(0x184)]=_0x3187e1[_0x2c9c81(0x184)];const _0x52fb75=_0x4d1766[_0x2c9c81(0x223)]('2d');_0x52fb75[_0x2c9c81(0x38e)](_0x3187e1,0x0,0x0);var _0x34b34d=new Image();return _0x34b34d[_0x2c9c81(0x451)]=_0x4d1766[_0x2c9c81(0x32b)](),_0x34b34d[_0x2c9c81(0x414)]=_0x2c9c81(0x3dd),_0x34b34d;},this[_0x55b800(0x201)]=(_0x4e1ab4,_0x42ca87,_0x394340)=>{var _0x5ef6bb=_0x55b800,_0x2df786=this[_0x5ef6bb(0x11a)]();if(!_0x2df786)return undefined;for(var _0x34f945=0x0;_0x34f945<_0x2df786['height'];_0x34f945++){for(var _0x269659=0x0;_0x269659<_0x2df786['width'];_0x269659++){var _0x4d59ab=_0x2df786['data'][_0x34f945*(_0x2df786[_0x5ef6bb(0x470)]*0x4)+_0x269659*0x4],_0x27e662=_0x2df786['data'][_0x34f945*(_0x2df786[_0x5ef6bb(0x470)]*0x4)+_0x269659*0x4+0x1],_0x4f37c1=_0x2df786[_0x5ef6bb(0x39b)][_0x34f945*(_0x2df786[_0x5ef6bb(0x470)]*0x4)+_0x269659*0x4+0x2],_0x58c212=_0x2df786[_0x5ef6bb(0x39b)][_0x34f945*(_0x2df786[_0x5ef6bb(0x470)]*0x4)+_0x269659*0x4+0x3];_0x4d59ab==_0x4e1ab4&&_0x27e662==_0x42ca87&&_0x4f37c1==_0x394340&&(_0x2df786['data'][_0x34f945*(_0x2df786[_0x5ef6bb(0x470)]*0x4)+_0x269659*0x4+0x3]=0x0);}}this[_0x5ef6bb(0x419)](_0x2df786);};},createImgFromData=_0x17e2e2=>{var _0x32cc6b=_0x2698c6;const _0x33afb6=document[_0x32cc6b(0x42f)](_0x32cc6b(0x166));_0x33afb6[_0x32cc6b(0x470)]=_0x17e2e2[_0x32cc6b(0x470)],_0x33afb6[_0x32cc6b(0x184)]=_0x17e2e2[_0x32cc6b(0x184)];const _0x28296a=_0x33afb6[_0x32cc6b(0x223)]('2d');_0x28296a['putImageData'](_0x17e2e2,0x0,0x0);var _0x551c30=new Image();return _0x551c30[_0x32cc6b(0x451)]=_0x33afb6['toDataURL'](),_0x551c30[_0x32cc6b(0x414)]='failed\x20createImgData\x20image',_0x551c30;},MyUI=function(_0x567868,_0x255151,_0x4a18a3,_0x360a49,_0x362096,_0x3074be,_0xa06d95,_0x43deed){var _0x11e687=_0x2698c6;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT=_0x11e687(0x4a0),this['x']=_0x255151,this['y']=_0x4a18a3,this[_0x11e687(0x166)]=_0x567868,this[_0x11e687(0x475)]=_0x43deed?_0x43deed:0x5,this[_0x11e687(0x3f5)]=_0x360a49+0x2*this[_0x11e687(0x475)],this[_0x11e687(0x26f)]=this[_0x11e687(0x475)],this['elmList']=[],this[_0x11e687(0x171)]=_0x362096,this[_0x11e687(0x3ec)]=_0x3074be?_0x3074be:undefined,this[_0x11e687(0x407)]=_0xa06d95?_0xa06d95:undefined,this[_0x11e687(0x292)]=[],this[_0x11e687(0x1b8)]=![],this['addTextZone']=(_0x38da92,_0x124bfc,_0x1bca4d,_0x10d4a0,_0x5ec8e9)=>{var _0x277b73=_0x11e687;this[_0x277b73(0x166)][_0x277b73(0x118)][_0x277b73(0x198)]=''+_0x124bfc+'px'+_0x5ec8e9;var _0x12f3d3=[];while(_0x38da92[_0x277b73(0x4b4)]>0x0){var _0x24e930=0x0;while(_0x38da92[_0x24e930]=='\x0a')_0x24e930++;while(_0x38da92[_0x24e930]!='\x0a'&&_0x24e930<_0x38da92[_0x277b73(0x4b4)]&&_0x24e930<_0x1bca4d)_0x24e930++;if(_0x24e930==_0x1bca4d){while(_0x38da92[_0x24e930]!='\x20'&&_0x24e930>0x0)_0x24e930--;}_0x24e930=_0x24e930>0x0?_0x24e930:_0x1bca4d;var _0x1221a5=''+_0x38da92['substring'](0x0,_0x24e930);while(_0x38da92[_0x24e930+0x1]=='\x0a')_0x24e930++;_0x38da92=_0x38da92[_0x277b73(0x3d1)](_0x24e930),_0x12f3d3[_0x277b73(0x217)](_0x1221a5);var _0x26c6d7=this['canvas'][_0x277b73(0x118)][_0x277b73(0x2aa)](_0x1221a5);if(this[_0x277b73(0x3f5)]<_0x26c6d7[_0x277b73(0x470)]+0x2*this['marge'])this['lenx']=_0x26c6d7[_0x277b73(0x470)]+0x2*this[_0x277b73(0x475)];this[_0x277b73(0x26f)]+=_0x124bfc+this[_0x277b73(0x475)];}this[_0x277b73(0x39e)][_0x277b73(0x217)]({'type':_0x277b73(0x27c),'txts':_0x12f3d3,'letter_size':Math[_0x277b73(0x1a0)](_0x124bfc),'txt_color':_0x10d4a0,'text_font':_0x5ec8e9});},this[_0x11e687(0x4cb)]=(_0x1607b2,_0x5dfbe2,_0x33b9b9,_0x32a22e,_0x177d7b,_0x4c195f,_0x31f06f,_0x21b96e,_0xb824ee)=>{var _0x4c26f2=_0x11e687;_0xb824ee=_0xb824ee?_0xb824ee:_0x4c26f2(0x1de),this[_0x4c26f2(0x166)]['ctx'][_0x4c26f2(0x198)]=''+_0x177d7b+_0x4c26f2(0x316)+_0xb824ee;var _0x123dbe=this[_0x4c26f2(0x166)][_0x4c26f2(0x118)]['measureText'](_0x1607b2);if(_0x123dbe>_0x33b9b9+0x2*this[_0x4c26f2(0x475)])_0x33b9b9=_0x123dbe+0x2*this[_0x4c26f2(0x475)];if(this['lenx']<_0x33b9b9+0x2*this[_0x4c26f2(0x475)])this[_0x4c26f2(0x3f5)]=_0x33b9b9+0x2*this[_0x4c26f2(0x475)];if(_0x32a22e<_0x177d7b+0x2*this[_0x4c26f2(0x475)])_0x32a22e=_0x177d7b+0x2*this['marge'];this[_0x4c26f2(0x39e)][_0x4c26f2(0x217)]({'type':_0x4c26f2(0x1f6),'txt':_0x1607b2,'fullness':_0x5dfbe2,'lenx':_0x33b9b9,'leny':_0x32a22e,'letter_size':_0x177d7b,'colorFill':_0x4c195f,'colorStroke':_0x31f06f,'colorText':_0x21b96e,'text_font':_0xb824ee}),this['leny']+=_0x32a22e+this[_0x4c26f2(0x475)];},this[_0x11e687(0x4c5)]=(_0x5718a9,_0x4b9889,_0x2edb4f,_0x1f5b27,_0x558f8a,_0x1f5b88,_0x44676c,_0x19308e,_0x33d32a,_0x1073ca,_0x43fd41)=>{var _0x11ab7b=_0x11e687;this[_0x11ab7b(0x166)]['ctx'][_0x11ab7b(0x198)]=''+_0x4b9889+'px'+_0x19308e,_0x5718a9=_0x33d32a?_0x33d32a+'\x20-\x20'+_0x5718a9:_0x5718a9;var _0x2f6838=this[_0x11ab7b(0x166)][_0x11ab7b(0x118)][_0x11ab7b(0x2aa)](_0x5718a9);if(_0x2f6838['width']+0x4*this[_0x11ab7b(0x475)]>this[_0x11ab7b(0x3f5)])this[_0x11ab7b(0x3f5)]=_0x2f6838['width']+0x4*this[_0x11ab7b(0x475)];this[_0x11ab7b(0x39e)][_0x11ab7b(0x217)]({'type':_0x11ab7b(0x11f),'txt_size':_0x2f6838,'letter_size':_0x4b9889,'text_color':_0x2edb4f,'fillColor':_0x1f5b27,'strokeColor':_0x558f8a,'callback':_0x1f5b88,'callback_data':_0x44676c,'text_font':_0x19308e,'key_event':_0x33d32a,'txt':_0x5718a9,'windowInfo':_0x1073ca,'mouseLight':_0x43fd41}),this[_0x11ab7b(0x26f)]+=Math[_0x11ab7b(0x1a0)](0x3*this[_0x11ab7b(0x475)]+_0x4b9889);},this[_0x11e687(0x44f)]=_0x5a88f9=>{var _0x2d21f7=_0x11e687,_0x538af4={'type':_0x2d21f7(0x2af),'list':[]},_0x226da9=0x0,_0x27be19=this[_0x2d21f7(0x475)];for(var _0x59b072 in _0x5a88f9){var _0x23aeff=_0x5a88f9[_0x59b072],_0x5ef11f=undefined;switch(_0x23aeff[_0x2d21f7(0x144)]){case undefined:continue;case _0x2d21f7(0x4a1):if(!_0x23aeff[_0x2d21f7(0x4a1)])continue;var _0x594cf7=_0x23aeff['txt'],_0xeb45d7=[],_0x50d87d=0x0,_0x3092f5=0x0,_0x401934=_0x23aeff[_0x2d21f7(0x195)]?_0x23aeff[_0x2d21f7(0x195)]:0x270f;this[_0x2d21f7(0x166)][_0x2d21f7(0x118)][_0x2d21f7(0x198)]=''+_0x23aeff[_0x2d21f7(0x213)]+'px'+_0x23aeff[_0x2d21f7(0x252)];while(_0x594cf7['length']>0x0){var _0x5acb30=0x0;while(_0x594cf7[_0x5acb30]=='\x0a')_0x5acb30++;while(_0x594cf7[_0x5acb30]!='\x0a'&&_0x5acb30<_0x594cf7[_0x2d21f7(0x4b4)]&&_0x5acb30<_0x401934)_0x5acb30++;if(_0x5acb30==_0x401934){while(_0x594cf7[_0x5acb30]!='\x20'&&_0x5acb30>0x0)_0x5acb30--;}_0x5acb30=_0x5acb30>0x0?_0x5acb30:_0x401934;var _0x2a296b=''+_0x594cf7[_0x2d21f7(0x3d1)](0x0,_0x5acb30);while(_0x594cf7[_0x5acb30+0x1]=='\x0a')_0x5acb30++;_0x594cf7=_0x594cf7[_0x2d21f7(0x3d1)](_0x5acb30),_0xeb45d7['push'](_0x2a296b);var _0x268d41=this[_0x2d21f7(0x166)][_0x2d21f7(0x118)][_0x2d21f7(0x2aa)](_0x2a296b);if(_0x3092f5<_0x268d41['width']+0x2*this[_0x2d21f7(0x475)])_0x3092f5=_0x268d41['width']+0x2*this['marge'];_0x50d87d+=_0x23aeff['letter_size']+this['marge'];}_0x226da9=_0x50d87d>_0x226da9?_0x50d87d:_0x226da9,_0x5ef11f={'type':_0x2d21f7(0x4a1),'txts':_0xeb45d7,'txt_color':_0x23aeff[_0x2d21f7(0x325)]?_0x23aeff['txt_color']:_0x2d21f7(0x384),'max_letters':_0x23aeff[_0x2d21f7(0x48c)]?_0x23aeff['max_letter']:0x270f,'letter_size':_0x23aeff['letter_size']?_0x23aeff[_0x2d21f7(0x213)]:0x14,'txt_font':_0x23aeff[_0x2d21f7(0x252)]?_0x23aeff[_0x2d21f7(0x252)]:_0x2d21f7(0x1de),'txt_size':_0x3092f5},_0x27be19+=_0x3092f5;break;case _0x2d21f7(0x173):if(!_0x23aeff['img'])continue;_0x5ef11f={'type':_0x2d21f7(0x173),'img':_0x23aeff[_0x2d21f7(0x173)],'len_x':_0x23aeff[_0x2d21f7(0x127)]?_0x23aeff[_0x2d21f7(0x127)]:0x32,'len_y':_0x23aeff[_0x2d21f7(0x119)]?_0x23aeff[_0x2d21f7(0x119)]:0x32},_0x226da9=_0x5ef11f[_0x2d21f7(0x119)]>_0x226da9?_0x5ef11f[_0x2d21f7(0x119)]:_0x226da9,_0x27be19+=_0x5ef11f[_0x2d21f7(0x127)]+this[_0x2d21f7(0x475)];break;case _0x2d21f7(0x11f):if(!_0x23aeff[_0x2d21f7(0x4a6)]||!_0x23aeff[_0x2d21f7(0x4a1)])continue;var _0x1cdc2d=_0x23aeff[_0x2d21f7(0x213)]?_0x23aeff['letter_size']:0x14,_0x314cc3=_0x23aeff['txt_font']?_0x23aeff[_0x2d21f7(0x252)]:'Arial';this[_0x2d21f7(0x166)][_0x2d21f7(0x118)]['font']=''+_0x1cdc2d+'px'+_0x314cc3;var _0x594cf7=_0x23aeff[_0x2d21f7(0x38d)]?_0x23aeff[_0x2d21f7(0x38d)]+'\x20-\x20'+_0x23aeff['txt']:_0x23aeff['txt'],_0x268d41=this['canvas'][_0x2d21f7(0x118)][_0x2d21f7(0x2aa)](_0x594cf7);_0x5ef11f={'type':'button','txt_size':_0x268d41[_0x2d21f7(0x470)],'letter_size':_0x1cdc2d,'txt_color':_0x23aeff[_0x2d21f7(0x325)]?_0x23aeff[_0x2d21f7(0x325)]:_0x2d21f7(0x384),'fillColor':_0x23aeff[_0x2d21f7(0x268)]?_0x23aeff['fillColor']:_0x2d21f7(0x197),'strokeColor':_0x23aeff[_0x2d21f7(0x47a)]?_0x23aeff[_0x2d21f7(0x47a)]:_0x2d21f7(0x384),'callback':_0x23aeff[_0x2d21f7(0x4a6)],'callback_data':_0x23aeff[_0x2d21f7(0x1a7)],'txt_font':_0x314cc3,'key_event':_0x23aeff['key_event'],'txt':_0x594cf7,'windowInfo':_0x23aeff[_0x2d21f7(0x4d0)],'mouseLight':_0x23aeff[_0x2d21f7(0x2a9)]},_0x226da9=_0x5ef11f[_0x2d21f7(0x213)]+0x2*this[_0x2d21f7(0x475)]>_0x226da9?_0x5ef11f[_0x2d21f7(0x213)]+0x2*this['marge']:_0x226da9,_0x27be19+=_0x268d41[_0x2d21f7(0x470)]+this[_0x2d21f7(0x475)]*0x3;break;}_0x538af4[_0x2d21f7(0x3b2)][_0x2d21f7(0x217)](_0x5ef11f);}if(this['lenx']<_0x27be19)this[_0x2d21f7(0x3f5)]=_0x27be19;_0x538af4[_0x2d21f7(0x119)]=_0x226da9,this[_0x2d21f7(0x39e)][_0x2d21f7(0x217)](_0x538af4),this[_0x2d21f7(0x26f)]+=Math[_0x2d21f7(0x1a0)](this[_0x2d21f7(0x475)]+_0x226da9);},this[_0x11e687(0x2d5)]=(_0x35bdc3,_0x100480,_0x3024cc)=>{var _0xa07701=_0x11e687;this['elmList']['push']({'type':'img','img':_0x35bdc3,'lenx':_0x100480,'leny':_0x3024cc});if(this[_0xa07701(0x3f5)]<_0x100480+0x2*this[_0xa07701(0x475)])this[_0xa07701(0x3f5)]=_0x100480+0x2*this['marge'];this[_0xa07701(0x26f)]+=Math[_0xa07701(0x1a0)](this[_0xa07701(0x475)]+_0x100480);},this[_0x11e687(0x156)]=()=>{var _0x3bfc03=_0x11e687;this[_0x3bfc03(0x3ec)]&&(this['canvas']['ctx'][_0x3bfc03(0x3b1)]=this[_0x3bfc03(0x3ec)],this[_0x3bfc03(0x166)][_0x3bfc03(0x4c3)](this['x'],this['y'],this['x']+this['lenx'],this['y']+this['leny']));this[_0x3bfc03(0x407)]&&(this[_0x3bfc03(0x166)][_0x3bfc03(0x118)][_0x3bfc03(0x25e)]=this[_0x3bfc03(0x407)],this[_0x3bfc03(0x166)][_0x3bfc03(0x403)](this['x'],this['y'],this['x']+this[_0x3bfc03(0x3f5)],this['y']+this[_0x3bfc03(0x26f)]));var _0x3d2a45=this['y']+this[_0x3bfc03(0x475)];for(var _0x3a4143 in this['elmList']){var _0x3f1ede=this[_0x3bfc03(0x39e)][_0x3a4143];switch(_0x3f1ede['type']){case'text':for(var _0x3b81fd in _0x3f1ede[_0x3bfc03(0x44e)]){this[_0x3bfc03(0x166)]['drawTextTopLeft'](_0x3f1ede['txts'][_0x3b81fd],this['x']+this[_0x3bfc03(0x475)],_0x3d2a45,this['lenx'],_0x3f1ede[_0x3bfc03(0x213)],_0x3f1ede['txt_color'],_0x3f1ede['text_font']),_0x3d2a45+=_0x3f1ede[_0x3bfc03(0x213)]+this[_0x3bfc03(0x475)];}break;case _0x3bfc03(0x11f):this[_0x3bfc03(0x166)][_0x3bfc03(0x118)][_0x3bfc03(0x198)]=''+_0x3f1ede[_0x3bfc03(0x213)]+'px'+_0x3f1ede[_0x3bfc03(0x364)];var _0x44e658=Math[_0x3bfc03(0x1a0)](this['x']+_0x3f1ede[_0x3bfc03(0x2c8)][_0x3bfc03(0x470)]/0x2+0x2*this[_0x3bfc03(0x475)]),_0xceca4b=Math[_0x3bfc03(0x1a0)](_0x3d2a45+_0x3f1ede[_0x3bfc03(0x213)]/0x2+0x1*this[_0x3bfc03(0x475)]),_0x2c1eb1={'ax':Math[_0x3bfc03(0x1a0)](_0x44e658-_0x3f1ede[_0x3bfc03(0x2c8)]['width']/0x2-this[_0x3bfc03(0x475)]),'ay':Math[_0x3bfc03(0x1a0)](_0xceca4b-_0x3f1ede[_0x3bfc03(0x213)]/0x2-this[_0x3bfc03(0x475)]),'bx':Math[_0x3bfc03(0x1a0)](_0x44e658+_0x3f1ede[_0x3bfc03(0x2c8)][_0x3bfc03(0x470)]/0x2+this[_0x3bfc03(0x475)]),'by':Math[_0x3bfc03(0x1a0)](_0xceca4b+_0x3f1ede[_0x3bfc03(0x213)]/0x2+this[_0x3bfc03(0x475)])};this[_0x3bfc03(0x166)]['ctx'][_0x3bfc03(0x3b1)]=_0x3f1ede[_0x3bfc03(0x268)];if(_0x3f1ede['mouseLight']&&isInRect(world[_0x3bfc03(0x352)]['mousePos']['x'],world['Controler'][_0x3bfc03(0x291)]['y'],_0x2c1eb1))this[_0x3bfc03(0x166)][_0x3bfc03(0x118)][_0x3bfc03(0x3b1)]=_0x3f1ede['fillColor']['substring'](0x0,0x7)+_0x3f1ede[_0x3bfc03(0x2a9)];this[_0x3bfc03(0x166)][_0x3bfc03(0x4c3)](_0x2c1eb1['ax'],_0x2c1eb1['ay'],_0x2c1eb1['bx'],_0x2c1eb1['by']),this[_0x3bfc03(0x166)][_0x3bfc03(0x118)][_0x3bfc03(0x25e)]=_0x3f1ede[_0x3bfc03(0x47a)],this[_0x3bfc03(0x166)][_0x3bfc03(0x403)](_0x2c1eb1['ax'],_0x2c1eb1['ay'],_0x2c1eb1['bx'],_0x2c1eb1['by']),this[_0x3bfc03(0x166)][_0x3bfc03(0x188)](_0x3f1ede[_0x3bfc03(0x4a1)],_0x44e658,_0xceca4b,0x270f,_0x3f1ede[_0x3bfc03(0x213)],_0x3f1ede['text_color'],_0x3f1ede[_0x3bfc03(0x364)]),this[_0x3bfc03(0x292)]['push']({'rect':_0x2c1eb1,'callback':_0x3f1ede[_0x3bfc03(0x4a6)],'callback_data':_0x3f1ede[_0x3bfc03(0x1a7)],'key_event':_0x3f1ede[_0x3bfc03(0x38d)],'windowInfo':_0x3f1ede[_0x3bfc03(0x4d0)]}),_0x3d2a45+=_0x3f1ede[_0x3bfc03(0x213)]+this[_0x3bfc03(0x475)]*0x3;break;case _0x3bfc03(0x173):this[_0x3bfc03(0x166)][_0x3bfc03(0x47b)](_0x3f1ede[_0x3bfc03(0x173)],this['x']+this[_0x3bfc03(0x475)],_0x3d2a45+this[_0x3bfc03(0x475)],_0x3f1ede['lenx'],_0x3f1ede[_0x3bfc03(0x26f)]),_0x3d2a45+=_0x3f1ede[_0x3bfc03(0x26f)]+this[_0x3bfc03(0x475)];break;case'gauge':this['canvas']['ctx'][_0x3bfc03(0x3b1)]=_0x3f1ede[_0x3bfc03(0x4ad)],this[_0x3bfc03(0x166)][_0x3bfc03(0x4c3)](this['x']+this['marge'],_0x3d2a45+this[_0x3bfc03(0x475)],this['x']+_0x3f1ede[_0x3bfc03(0x3f5)],_0x3d2a45+_0x3f1ede['leny']),this['canvas'][_0x3bfc03(0x118)]['fillStyle']=_0x3f1ede[_0x3bfc03(0x32c)];if(_0x3f1ede['fullness']>0x0)this[_0x3bfc03(0x166)][_0x3bfc03(0x4c3)](this['x']+this['marge']*0x2,_0x3d2a45+this[_0x3bfc03(0x475)]*0x2,Math['floor'](this['x']+_0x3f1ede[_0x3bfc03(0x3f5)]*_0x3f1ede[_0x3bfc03(0x322)]-this[_0x3bfc03(0x475)]),_0x3d2a45+_0x3f1ede[_0x3bfc03(0x26f)]-this[_0x3bfc03(0x475)]);this[_0x3bfc03(0x166)][_0x3bfc03(0x188)](_0x3f1ede[_0x3bfc03(0x4a1)],this['x']+this['marge']+_0x3f1ede[_0x3bfc03(0x3f5)]/0x2,_0x3d2a45+this['marge']+_0x3f1ede[_0x3bfc03(0x26f)]/0x2,_0x3f1ede[_0x3bfc03(0x3f5)],_0x3f1ede['letter_size'],_0x3f1ede[_0x3bfc03(0x45d)],_0x3f1ede[_0x3bfc03(0x364)]),_0x3d2a45+=_0x3f1ede[_0x3bfc03(0x26f)];break;case _0x3bfc03(0x2af):var _0x56c6e6=this['marge'];for(var _0x12a836 in _0x3f1ede[_0x3bfc03(0x3b2)]){var _0x28a95b=_0x3f1ede[_0x3bfc03(0x3b2)][_0x12a836];switch(_0x28a95b[_0x3bfc03(0x144)]){case _0x3bfc03(0x4a1):var _0x3e3688=_0x3d2a45;for(var _0x3a4143 in _0x28a95b['txts']){this['canvas'][_0x3bfc03(0x30a)](_0x28a95b[_0x3bfc03(0x44e)][_0x3a4143],this['x']+_0x56c6e6,_0x3e3688,_0x28a95b[_0x3bfc03(0x2c8)],_0x28a95b[_0x3bfc03(0x213)],_0x28a95b[_0x3bfc03(0x325)],_0x28a95b[_0x3bfc03(0x252)]),_0x3e3688+=_0x28a95b['letter_size']+this['marge'];}_0x56c6e6+=this['marge']+_0x28a95b[_0x3bfc03(0x2c8)];break;case _0x3bfc03(0x11f):this['canvas'][_0x3bfc03(0x118)]['font']=''+_0x28a95b[_0x3bfc03(0x213)]+'px'+_0x28a95b['txt_font'];var _0x44e658=Math[_0x3bfc03(0x1a0)](this['x']+_0x56c6e6+_0x28a95b[_0x3bfc03(0x2c8)]/0x2+this[_0x3bfc03(0x475)]/0x2),_0xceca4b=Math[_0x3bfc03(0x1a0)](_0x3d2a45+_0x28a95b[_0x3bfc03(0x213)]/0x2+this[_0x3bfc03(0x475)]/0x2),_0x2c1eb1={'ax':Math[_0x3bfc03(0x1a0)](_0x44e658-_0x28a95b[_0x3bfc03(0x2c8)]/0x2-this[_0x3bfc03(0x475)]),'ay':Math['floor'](_0xceca4b-_0x28a95b[_0x3bfc03(0x213)]/0x2-this[_0x3bfc03(0x475)]),'bx':Math[_0x3bfc03(0x1a0)](_0x44e658+_0x28a95b[_0x3bfc03(0x2c8)]/0x2+this[_0x3bfc03(0x475)]),'by':Math[_0x3bfc03(0x1a0)](_0xceca4b+_0x28a95b['letter_size']/0x2+this[_0x3bfc03(0x475)])};this[_0x3bfc03(0x166)][_0x3bfc03(0x118)][_0x3bfc03(0x3b1)]=_0x28a95b['fillColor'];if(_0x28a95b[_0x3bfc03(0x2a9)]&&isInRect(world['Controler'][_0x3bfc03(0x291)]['x'],world[_0x3bfc03(0x352)][_0x3bfc03(0x291)]['y'],_0x2c1eb1))this['canvas'][_0x3bfc03(0x118)]['fillStyle']=_0x28a95b['fillColor'][_0x3bfc03(0x3d1)](0x0,0x7)+_0x28a95b['mouseLight'];this[_0x3bfc03(0x166)][_0x3bfc03(0x4c3)](_0x2c1eb1['ax'],_0x2c1eb1['ay'],_0x2c1eb1['bx'],_0x2c1eb1['by']),this['canvas']['ctx'][_0x3bfc03(0x25e)]=_0x28a95b[_0x3bfc03(0x47a)],this[_0x3bfc03(0x166)][_0x3bfc03(0x403)](_0x2c1eb1['ax'],_0x2c1eb1['ay'],_0x2c1eb1['bx'],_0x2c1eb1['by']),this['canvas'][_0x3bfc03(0x188)](_0x28a95b[_0x3bfc03(0x4a1)],_0x44e658,_0xceca4b,0x270f,_0x28a95b['letter_size'],_0x28a95b[_0x3bfc03(0x325)],_0x28a95b['txt_font']),this['buttonList']['push']({'rect':_0x2c1eb1,'callback':_0x28a95b[_0x3bfc03(0x4a6)],'callback_data':_0x28a95b['callback_data'],'key_event':_0x28a95b[_0x3bfc03(0x38d)],'windowInfo':_0x28a95b['windowInfo'],'mouseLight':!![]}),_0x56c6e6+=this[_0x3bfc03(0x475)]*0x3+_0x28a95b[_0x3bfc03(0x2c8)];break;case _0x3bfc03(0x173):this[_0x3bfc03(0x166)]['draw_Image'](_0x28a95b[_0x3bfc03(0x173)],this['x']+_0x56c6e6,_0x3d2a45,_0x28a95b[_0x3bfc03(0x127)],_0x28a95b[_0x3bfc03(0x119)]),_0x56c6e6+=_0x28a95b['len_y']+this[_0x3bfc03(0x475)];break;}}_0x3d2a45+=_0x3f1ede[_0x3bfc03(0x119)]+this['marge'];break;}}this[_0x3bfc03(0x17d)]();},this[_0x11e687(0x110)]=(_0xead5b4,_0x148ff2)=>{var _0x1a4772=_0x11e687;for(var _0x49f1a5 in this[_0x1a4772(0x292)]){var _0x4d2eba=this[_0x1a4772(0x292)][_0x49f1a5];if(isInRect(_0xead5b4,_0x148ff2,_0x4d2eba[_0x1a4772(0x347)]))return _0x4d2eba[_0x1a4772(0x4a6)](_0x4d2eba[_0x1a4772(0x1a7)]),!![];}return![];},this[_0x11e687(0x4cc)]=(_0x39f500,_0x3ccfa1)=>{var _0x584f1c=_0x11e687;for(var _0x4ae0ea in this['buttonList']){var _0x2d534a=this['buttonList'][_0x4ae0ea];if(_0x2d534a['mouseLight']&&isInRect(_0x39f500,_0x3ccfa1,_0x2d534a[_0x584f1c(0x347)]))return this[_0x584f1c(0x409)]=!![],!![];}return![];},this[_0x11e687(0x3a0)]=_0x4fc928=>{var _0x1a7df1=_0x11e687;for(var _0xc215b8 in this['buttonList']){var _0x9309cc=this['buttonList'][_0xc215b8];if(_0x9309cc[_0x1a7df1(0x38d)]&&_0x9309cc[_0x1a7df1(0x38d)]==_0x4fc928)return _0x9309cc[_0x1a7df1(0x4a6)](_0x9309cc[_0x1a7df1(0x1a7)]),!![];}return![];},this[_0x11e687(0x17d)]=_0x129cf4=>{var _0x4e5308=_0x11e687;if(!world[_0x4e5308(0x352)])return![];var _0x4236d1=world[_0x4e5308(0x352)][_0x4e5308(0x291)];if(!_0x4236d1)return;if(new Date()[_0x4e5308(0x2c9)]()-_0x4236d1[_0x4e5308(0x3b8)]<MYUI_WINDOWINFO_MOUSETIME)return this[_0x4e5308(0x1b8)]&&(this[_0x4e5308(0x1b8)]=![],this[_0x4e5308(0x409)]=!![]),![];if(!this['InfoWindowPos'])this[_0x4e5308(0x1b8)]={'x':_0x4236d1['x'],'y':_0x4236d1['y']};else{if(!_0x129cf4&&_0x4236d1['x']==this['InfoWindowPos']['x']&&_0x4236d1['y']==this['InfoWindowPos']['y'])return![];}for(var _0x5865ca in this[_0x4e5308(0x292)]){var _0x2a4072=this[_0x4e5308(0x292)][_0x5865ca];if(_0x2a4072[_0x4e5308(0x4d0)]&&isInRect(_0x4236d1['x'],_0x4236d1['y'],_0x2a4072[_0x4e5308(0x347)])){var _0x37f310=new MyUI(this[_0x4e5308(0x166)],_0x4236d1['x'],_0x4236d1['y'],0x32,0x1,this[_0x4e5308(0x3ec)],this[_0x4e5308(0x407)],0x1);_0x37f310[_0x4e5308(0x2c6)](_0x4e5308(0x25d),MYUI_LETTER_SIZE,0x270f,'#000000',MYUI_FONT);for(var _0xa53b33 in _0x2a4072[_0x4e5308(0x4d0)]){var _0x44d767=_0x2a4072['windowInfo'][_0xa53b33];if(_0x44d767[_0x4e5308(0x4a6)])_0x37f310[_0x4e5308(0x2c6)](_0x44d767['callback'](_0x44d767[_0x4e5308(0x3ca)]),MYUI_LETTER_SIZE,0x270f,'#000000',MYUI_FONT);}return _0x37f310[_0x4e5308(0x156)](),!![];}}return![];};},UIManager=function(){var _0x34c346=_0x2698c6;this[_0x34c346(0x1f2)]=[],this[_0x34c346(0x42c)]=(_0x46dc83,_0x3e278d,_0xa3b111,_0x3f0716,_0xab248d,_0x56eae1,_0xa0bf78,_0x370a30)=>{var _0x3e8e16=_0x34c346,_0x23e47b=new MyUI(_0x46dc83,_0x3e278d,_0xa3b111,_0x3f0716,_0xab248d,_0x56eae1,_0xa0bf78,_0x370a30);return this[_0x3e8e16(0x1f2)]['push'](_0x23e47b),_0x23e47b;},this[_0x34c346(0x1ef)]=_0x2897a8=>{var _0x31daaf=_0x34c346;for(var _0x4800a6 in this[_0x31daaf(0x1f2)]){var _0x3462f6=this[_0x31daaf(0x1f2)][_0x4800a6],_0xb92bce=_0x3462f6['key_buton_check'](_0x2897a8);if(_0xb92bce)return!![];}return![];},this[_0x34c346(0x235)]=(_0x247981,_0x39e602)=>{var _0x3d41f9=_0x34c346;for(var _0x1caca7 in this['UI_list']){var _0x4071d5=this[_0x3d41f9(0x1f2)][_0x1caca7],_0x16562e=_0x4071d5['click_buton_check'](_0x247981,_0x39e602);if(_0x16562e)return!![];}return![];};},MyCanvas=function(_0x2316fc,_0x4aa4f3,_0x212035){var _0x4c5887=_0x2698c6;this['width']=window[_0x4c5887(0x2c1)],this[_0x4c5887(0x184)]=window['innerHeight'],_0x212035&&(_0x212035['x']&&_0x212035['y']&&(this[_0x4c5887(0x470)]=_0x212035['x'],this['height']=_0x212035['y'])),this[_0x4c5887(0x166)]=document[_0x4c5887(0x42f)](_0x4c5887(0x166)),this[_0x4c5887(0x166)]['width']=this[_0x4c5887(0x470)],this[_0x4c5887(0x166)][_0x4c5887(0x184)]=this['height'],this['id']=_0x2316fc,this[_0x4c5887(0x166)]['id']=_0x2316fc,this[_0x4c5887(0x166)]['style']['zIndex']=_0x4aa4f3,this[_0x4c5887(0x166)][_0x4c5887(0x2d7)][_0x4c5887(0x461)]=_0x4c5887(0x2d4),this[_0x4c5887(0x166)]['style'][_0x4c5887(0x41f)]=_0x4c5887(0x4b7),this[_0x4c5887(0x166)][_0x4c5887(0x2d7)][_0x4c5887(0x34a)]=_0x4c5887(0x4b7),this[_0x4c5887(0x118)]=this[_0x4c5887(0x166)][_0x4c5887(0x223)]('2d'),this['fullScreen']=![],document['body'][_0x4c5887(0x2fc)](this[_0x4c5887(0x166)]),this[_0x4c5887(0x4c4)]=()=>{var _0x26aab7=_0x4c5887,_0x4e976b=this['canvas'][_0x26aab7(0x11e)]();if(_0x4e976b)this[_0x26aab7(0x43d)]=Math[_0x26aab7(0x1a0)](_0x4e976b['x']),this[_0x26aab7(0x1e3)]=Math[_0x26aab7(0x1a0)](_0x4e976b['y']),this[_0x26aab7(0x377)]=Math[_0x26aab7(0x1a0)](_0x4e976b[_0x26aab7(0x2cf)]-_0x4e976b['x']),this['screenBy']=Math[_0x26aab7(0x1a0)](_0x4e976b[_0x26aab7(0x3ed)]-_0x4e976b['y']);else console[_0x26aab7(0x114)](_0x26aab7(0x154));},this[_0x4c5887(0x4c4)](),this[_0x4c5887(0x4a9)]=(_0x33f1c2,_0x2fd49b)=>{var _0x391fec=_0x4c5887;this[_0x391fec(0x4c4)]();if(_0x33f1c2<this[_0x391fec(0x43d)]||_0x2fd49b<this['screenAy']||_0x33f1c2>this[_0x391fec(0x377)]||_0x2fd49b>this[_0x391fec(0x2fb)])return undefined;var _0x2cf649={'x':Math[_0x391fec(0x1a0)](_0x33f1c2-this[_0x391fec(0x43d)]),'y':Math[_0x391fec(0x1a0)](_0x2fd49b-this['screenAy'])};return _0x2cf649;},this[_0x4c5887(0x12d)]=()=>{var _0x37f2da=_0x4c5887;this[_0x37f2da(0x118)][_0x37f2da(0x226)](0x0,0x0,this[_0x37f2da(0x166)][_0x37f2da(0x470)],this['canvas'][_0x37f2da(0x184)]);},this[_0x4c5887(0x4c3)]=(_0x568e19,_0x10769d,_0x5c6f30,_0x10249f)=>{var _0x1b8a75=_0x4c5887;this['ctx'][_0x1b8a75(0x351)](_0x568e19,_0x10769d,_0x5c6f30-_0x568e19,_0x10249f-_0x10769d);},this['drawRect']=(_0x20c7a2,_0x3ddab7,_0xf23ecf,_0x4f29df)=>{var _0x4d735a=_0x4c5887;this[_0x4d735a(0x118)][_0x4d735a(0x412)](_0x20c7a2,_0x3ddab7,_0xf23ecf-_0x20c7a2,_0x4f29df-_0x3ddab7);},this[_0x4c5887(0x36a)]=(_0x37910d,_0x228018,_0x4f73f7,_0x1dbdf6)=>{var _0x477e2d=_0x4c5887;this[_0x477e2d(0x118)][_0x477e2d(0x239)](),this[_0x477e2d(0x118)][_0x477e2d(0x2ec)](_0x37910d,_0x228018),this[_0x477e2d(0x118)][_0x477e2d(0x20e)](_0x4f73f7,_0x1dbdf6),this['ctx'][_0x477e2d(0x407)]();},this[_0x4c5887(0x47b)]=(_0xe30c4,_0x172cb1,_0x521a42,_0x497f12,_0x1f0b18)=>{var _0x4edc0d=_0x4c5887;_0x172cb1=Math[_0x4edc0d(0x3a7)](_0x172cb1),_0x521a42=Math[_0x4edc0d(0x3a7)](_0x521a42),_0x497f12=Math[_0x4edc0d(0x3a7)](_0x497f12),_0x1f0b18=Math[_0x4edc0d(0x3a7)](_0x1f0b18),ctx=this[_0x4edc0d(0x118)],ctx[_0x4edc0d(0x140)](_0xe30c4,_0x172cb1,_0x521a42,_0x497f12,_0x1f0b18);},this[_0x4c5887(0x3ef)]=(_0x30d5fe,_0x1ca1cf,_0x595e9b,_0x5f1f02,_0x18ef0f,_0x258411,_0x5772d2)=>{var _0x4c144a=_0x4c5887;_0x1ca1cf=Math['round'](_0x1ca1cf),_0x595e9b=Math['round'](_0x595e9b),ctx=this['ctx'],ctx['setTransform'](-_0x258411,0x0,0x0,_0x258411,_0x1ca1cf,_0x595e9b),ctx[_0x4c144a(0x329)](_0x5772d2),ctx[_0x4c144a(0x140)](_0x30d5fe,-_0x5f1f02,-_0x18ef0f),ctx[_0x4c144a(0x3a1)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x4c5887(0x4bf)]=(_0x3d83fa,_0x3fe2a4,_0x28c235,_0x441e73,_0xf47a8b,_0xf44a6a,_0x562774)=>{var _0x4a5361=_0x4c5887;_0x3fe2a4=Math['round'](_0x3fe2a4),_0x28c235=Math[_0x4a5361(0x3a7)](_0x28c235),ctx=this[_0x4a5361(0x118)],ctx[_0x4a5361(0x3a1)](_0xf44a6a,0x0,0x0,_0xf44a6a,_0x3fe2a4,_0x28c235),ctx['rotate'](_0x562774),ctx[_0x4a5361(0x140)](_0x3d83fa,-_0x441e73,-_0xf47a8b),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x4c5887(0x18c)]=(_0xd87d07,_0x14c7de,_0x5397af,_0x22fdd6,_0x3966a8)=>{var _0x5a3cfc=_0x4c5887;_0x14c7de=Math[_0x5a3cfc(0x3a7)](_0x14c7de),_0x5397af=Math['round'](_0x5397af),ctx=this[_0x5a3cfc(0x118)],ctx[_0x5a3cfc(0x3a1)](_0x22fdd6,0x0,0x0,_0x22fdd6,_0x14c7de,_0x5397af),ctx['rotate'](_0x3966a8),ctx['drawImage'](_0xd87d07,-_0xd87d07[_0x5a3cfc(0x470)]/0x2,-_0xd87d07[_0x5a3cfc(0x184)]/0x2),ctx[_0x5a3cfc(0x3a1)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x4c5887(0x30a)]=(_0x28d0ee,_0x27c891,_0x515207,_0x256b90,_0x428e90,_0x27e4a7,_0x4ed2b6)=>{var _0x544add=_0x4c5887;this[_0x544add(0x118)][_0x544add(0x439)]=_0x544add(0x34a),this[_0x544add(0x118)]['textBaseline']=_0x544add(0x41f),this[_0x544add(0x118)][_0x544add(0x3b1)]=_0x27e4a7;var _0x40e7ac=''+_0x428e90+'px';if(!_0x4ed2b6)_0x4ed2b6=_0x544add(0x304);_0x40e7ac=_0x40e7ac+'\x20'+_0x4ed2b6,this[_0x544add(0x118)][_0x544add(0x198)]=_0x40e7ac,this['ctx'][_0x544add(0x433)](_0x28d0ee,_0x27c891,_0x515207,_0x256b90);},this[_0x4c5887(0x188)]=(_0x56ce23,_0x24d60d,_0x435555,_0x1e259d,_0xded1f9,_0x55a0cf,_0x5358e7)=>{var _0x378dc1=_0x4c5887;this[_0x378dc1(0x118)][_0x378dc1(0x439)]=_0x378dc1(0x253),this[_0x378dc1(0x118)][_0x378dc1(0x281)]=_0x378dc1(0x1a4),this[_0x378dc1(0x118)][_0x378dc1(0x3b1)]=_0x55a0cf;var _0x3bc93f=''+_0xded1f9+'px';if(!_0x5358e7)_0x5358e7=_0x378dc1(0x304);_0x3bc93f=_0x3bc93f+'\x20'+_0x5358e7,this[_0x378dc1(0x118)]['font']=_0x3bc93f,this[_0x378dc1(0x118)][_0x378dc1(0x433)](_0x56ce23,_0x24d60d,_0x435555,_0x1e259d);};},CanvasManager=function(){var _0x401a6d=_0x2698c6;this[_0x401a6d(0x463)]=[],this[_0x401a6d(0x102)]=0x0,window[_0x401a6d(0x3fe)]('resize',()=>{var _0x10ba45=_0x401a6d;for(var _0x56be43 in this[_0x10ba45(0x463)]){var _0x5bdf1d=this[_0x10ba45(0x463)][_0x56be43][_0x10ba45(0x166)];_0x5bdf1d[_0x10ba45(0x470)]=window[_0x10ba45(0x2c1)],_0x5bdf1d[_0x10ba45(0x184)]=window[_0x10ba45(0x2e3)];}console[_0x10ba45(0x114)](_0x10ba45(0x23b)),world[_0x10ba45(0x409)]();}),document['addEventListener'](_0x401a6d(0x16e),this[_0x401a6d(0x18f)],![]),document['addEventListener'](_0x401a6d(0x3f1),this[_0x401a6d(0x18f)],![]),document['addEventListener'](_0x401a6d(0x4ca),this['EventcloseFullscreen'],![]),document[_0x401a6d(0x3fe)](_0x401a6d(0x30f),this[_0x401a6d(0x18f)],![]),this[_0x401a6d(0x18f)]=()=>{var _0x58cd6b=_0x401a6d;this[_0x58cd6b(0x3c2)]=![],this[_0x58cd6b(0x3ce)]();},this[_0x401a6d(0x38c)]=(_0xd3ded3,_0x525714,_0x440791)=>{var _0x4a0a3b=_0x401a6d;for(var _0x297d1f in this['canList'])if(this[_0x4a0a3b(0x463)][_0x297d1f]['id']==_0xd3ded3)return console[_0x4a0a3b(0x114)]('ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST');var _0x28e5ef=new MyCanvas(_0xd3ded3,_0x525714,_0x440791);this[_0x4a0a3b(0x463)][_0xd3ded3]=_0x28e5ef;},this[_0x401a6d(0x49f)]=()=>{var _0x50f864=_0x401a6d;this[_0x50f864(0x3c2)]=!![],document[_0x50f864(0x16b)][_0x50f864(0x2a5)]();},this['closeFullscreen']=()=>{var _0x4cd447=_0x401a6d;if(this[_0x4cd447(0x3c2)]&&document[_0x4cd447(0x233)]){if(document[_0x4cd447(0x23a)])document[_0x4cd447(0x23a)]();else{if(document[_0x4cd447(0x3cc)])document['webkitExitFullscreen']();else document[_0x4cd447(0x47f)]&&document[_0x4cd447(0x47f)]();}}this[_0x4cd447(0x3c2)]=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=['rock',_0x2698c6(0x272),'sea','weed'],MAP_BOT_ELEMENT=[{'name':_0x2698c6(0x3ba),'moveCost':1.5},{'name':_0x2698c6(0x1eb),'moveCost':0x2},{'name':'tree_root','moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':'big_tree_0','sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x2698c6(0x49e),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x2698c6(0x37e),'sizex':0x1,'sizey':0x1},{'name':_0x2698c6(0x209),'sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x4d679a,_0x467e5a){var _0xa4c4da=_0x2698c6;this['x']=_0x4d679a,this['y']=_0x467e5a,this[_0xa4c4da(0x2e7)]=undefined,this['topElem']=undefined,this['player']=undefined,this[_0xa4c4da(0x290)]=()=>{var _0x15cfd8=_0xa4c4da,_0x338ec0=0x1;if(this['botElem']){for(var _0x96497f in MAP_BOT_ELEMENT)var _0x384da4=MAP_BOT_ELEMENT[_0x15cfd8(0x4af)](_0x72af5a=>_0x72af5a[_0x15cfd8(0x320)]==this[_0x15cfd8(0x2e7)][_0x15cfd8(0x320)]);if(_0x384da4[_0x15cfd8(0x14a)]==![])return![];if(_0x384da4[_0x15cfd8(0x14a)])_0x338ec0*=_0x384da4[_0x15cfd8(0x14a)];}if(this[_0x15cfd8(0x3e5)]){var _0x384da4=MAP_TOP_ELEMENT[_0x15cfd8(0x4af)](_0x50f796=>_0x50f796[_0x15cfd8(0x320)]==this[_0x15cfd8(0x3e5)][_0x15cfd8(0x320)]);if(_0x384da4[_0x15cfd8(0x14a)]==![])return![];if(_0x384da4['moveCost'])_0x338ec0*=_0x384da4[_0x15cfd8(0x14a)];}return _0x338ec0;};},BattleMap=function(_0x2a65f9,_0x48469f){var _0x45fc07=_0x2698c6;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this[_0x45fc07(0x470)]=_0x2a65f9,this['height']=_0x48469f,this[_0x45fc07(0x1a3)]=_0x2a65f9/0x2,this['posBlocky']=_0x48469f/0x2,this['scale']=0x1,this[_0x45fc07(0x24e)]=[],this[_0x45fc07(0x23d)]=[],this[_0x45fc07(0x21d)]=[],this[_0x45fc07(0x1ee)]=[],this[_0x45fc07(0x409)]=!![],this[_0x45fc07(0x397)]=_0x492e57=>{var _0x4725ba=_0x45fc07,_0x4a8f2f=0x1;if(_0x492e57[_0x4725ba(0x1c5)])_0x4a8f2f=_0x492e57[_0x4725ba(0x1c5)];this['posBlockx']=_0x492e57['x']+_0x4a8f2f/0x2,this[_0x4725ba(0x12b)]=_0x492e57['y']+_0x4a8f2f/0x2,this[_0x4725ba(0x409)]=!![];},this[_0x45fc07(0x48d)]=_0x19d651=>{var _0x3ae4fa=_0x45fc07;if(!_0x19d651||!_0x19d651['rangeMin']||!_0x19d651[_0x3ae4fa(0x12e)]||!_0x19d651['player'])return[];var _0x330410=[],_0x2cb2ca=_0x19d651['player'],_0x12bfae=_0x19d651[_0x3ae4fa(0x10d)],_0x1f61a2=_0x19d651[_0x3ae4fa(0x12e)];for(var _0x5b38a5=_0x2cb2ca['x']-_0x1f61a2;_0x5b38a5<_0x2cb2ca['x']+_0x2cb2ca[_0x3ae4fa(0x1c5)]+_0x1f61a2;_0x5b38a5++)for(var _0x2820b6=_0x2cb2ca['y']-_0x1f61a2;_0x2820b6<_0x2cb2ca['y']+_0x2cb2ca['size']+_0x1f61a2;_0x2820b6++)if(_0x5b38a5<=_0x2cb2ca['x']-_0x12bfae||_0x5b38a5>=_0x2cb2ca['x']+_0x2cb2ca[_0x3ae4fa(0x1c5)]+_0x12bfae-0x1||_0x2820b6<=_0x2cb2ca['y']-_0x12bfae||_0x2820b6>=_0x2cb2ca['y']+_0x2cb2ca[_0x3ae4fa(0x1c5)]+_0x12bfae-0x1){if(this[_0x3ae4fa(0x23d)][_0x5b38a5]&&this[_0x3ae4fa(0x23d)][_0x5b38a5][_0x2820b6])_0x330410[_0x3ae4fa(0x217)](this['mapBlock'][_0x5b38a5][_0x2820b6]);}return _0x330410;},this[_0x45fc07(0x4a3)]=_0x31e60e=>{var _0x736b89=_0x45fc07;if(!_0x31e60e||!_0x31e60e['dir']||!_0x31e60e[_0x736b89(0x25c)])return[];var _0x661d28=[],_0x2c4077=_0x31e60e[_0x736b89(0x25c)];if(_0x31e60e[_0x736b89(0x499)]==_0x736b89(0x34a)||_0x31e60e['dir']['x']==-0x1&&_0x31e60e[_0x736b89(0x499)]['y']==0x0){var _0xe6ec7=_0x2c4077['x']-0x1;for(var _0x2b2a28=_0x2c4077['y'];_0x2b2a28<_0x2c4077['y']+_0x2c4077['size'];_0x2b2a28++)if(this[_0x736b89(0x23d)][_0xe6ec7]&&this[_0x736b89(0x23d)][_0xe6ec7][_0x2b2a28])_0x661d28['push'](this['mapBlock'][_0xe6ec7][_0x2b2a28]);}else{if(_0x31e60e[_0x736b89(0x499)]==_0x736b89(0x41f)||_0x31e60e['dir']['y']==-0x1&&_0x31e60e[_0x736b89(0x499)]['x']==0x0){var _0x2b2a28=_0x2c4077['y']-0x1;for(var _0xe6ec7=_0x2c4077['x'];_0xe6ec7<_0x2c4077['x']+_0x2c4077['size'];_0xe6ec7++)if(this[_0x736b89(0x23d)][_0xe6ec7]&&this['mapBlock'][_0xe6ec7][_0x2b2a28])_0x661d28[_0x736b89(0x217)](this[_0x736b89(0x23d)][_0xe6ec7][_0x2b2a28]);}else{if(_0x31e60e['dir']==_0x736b89(0x2cf)||_0x31e60e[_0x736b89(0x499)]['x']==0x1&&_0x31e60e[_0x736b89(0x499)]['y']==0x0){var _0xe6ec7=_0x2c4077['x']+_0x2c4077[_0x736b89(0x1c5)];for(var _0x2b2a28=_0x2c4077['y'];_0x2b2a28<_0x2c4077['y']+_0x2c4077[_0x736b89(0x1c5)];_0x2b2a28++)if(this[_0x736b89(0x23d)][_0xe6ec7]&&this['mapBlock'][_0xe6ec7][_0x2b2a28])_0x661d28['push'](this[_0x736b89(0x23d)][_0xe6ec7][_0x2b2a28]);}else{if(_0x31e60e[_0x736b89(0x499)]=='bot'||_0x31e60e['dir']['y']==0x1&&_0x31e60e[_0x736b89(0x499)]['x']==0x0){var _0x2b2a28=_0x2c4077['y']+_0x2c4077['size'];for(var _0xe6ec7=_0x2c4077['x'];_0xe6ec7<_0x2c4077['x']+_0x2c4077[_0x736b89(0x1c5)];_0xe6ec7++)if(this['mapBlock'][_0xe6ec7]&&this['mapBlock'][_0xe6ec7][_0x2b2a28])_0x661d28[_0x736b89(0x217)](this[_0x736b89(0x23d)][_0xe6ec7][_0x2b2a28]);}}}}return _0x661d28;},this['getZoneAdjacentToPlayer']=_0x33761f=>{var _0xb5c3c0=_0x45fc07;if(!_0x33761f||!_0x33761f[_0xb5c3c0(0x25c)])return undefined;var _0x574e1b=[];return _0x33761f[_0xb5c3c0(0x499)]=_0xb5c3c0(0x34a),_0x574e1b=_0x574e1b[_0xb5c3c0(0x39a)](this[_0xb5c3c0(0x4a3)](_0x33761f)),_0x33761f[_0xb5c3c0(0x499)]=_0xb5c3c0(0x41f),_0x574e1b=_0x574e1b[_0xb5c3c0(0x39a)](this[_0xb5c3c0(0x4a3)](_0x33761f)),_0x33761f['dir']='right',_0x574e1b=_0x574e1b[_0xb5c3c0(0x39a)](this[_0xb5c3c0(0x4a3)](_0x33761f)),_0x33761f[_0xb5c3c0(0x499)]=_0xb5c3c0(0x46b),_0x574e1b=_0x574e1b[_0xb5c3c0(0x39a)](this[_0xb5c3c0(0x4a3)](_0x33761f)),_0x574e1b;},this[_0x45fc07(0x14f)]=_0x12bef7=>{var _0x102b63=_0x45fc07;if(!_0x12bef7||!_0x12bef7[_0x102b63(0x25c)]||!_0x12bef7[_0x102b63(0x499)])return![];var _0xcb65e7=this['getZoneAdjacentToPlayerByDir']({'dir':_0x12bef7[_0x102b63(0x499)],'player':_0x12bef7['player']});if(!_0xcb65e7||_0xcb65e7[_0x102b63(0x4b4)]==0x0)return![];var _0x322980=0x0;for(var _0x408a61 in _0xcb65e7){var _0x4ae677=_0xcb65e7[_0x408a61][_0x102b63(0x290)]();if(_0x4ae677===![]||_0x4ae677===0x0)return![];_0x322980+=_0x4ae677;}return _0x322980/_0xcb65e7[_0x102b63(0x4b4)];},this['generateMap']=()=>{var _0x17c41e=_0x45fc07;this[_0x17c41e(0x23d)]=[];for(var _0x4382f8=0x0;_0x4382f8<this[_0x17c41e(0x470)];_0x4382f8++){this['mapBlock'][_0x4382f8]=[];for(var _0x37085b=0x0;_0x37085b<this[_0x17c41e(0x184)];_0x37085b++){var _0x294536=new Block(_0x4382f8,_0x37085b);this[_0x17c41e(0x23d)][_0x4382f8][_0x37085b]=_0x294536;if(_0x4382f8==0x0||_0x37085b==0x0||_0x4382f8==this[_0x17c41e(0x470)]-0x1||_0x37085b==this[_0x17c41e(0x184)]-0x1){_0x294536[_0x17c41e(0x3e5)]={'name':_0x17c41e(0x209),'angle':Math['random']()*Math['PI']*0x2};continue;}}}},this[_0x45fc07(0x3fa)]=()=>{var _0x560d8f=_0x45fc07;for(var _0x43d5df=0x0;_0x43d5df<this['width'];_0x43d5df++){for(var _0x213f72=0x0;_0x213f72<this['height'];_0x213f72++){var _0x13a703=this[_0x560d8f(0x23d)][_0x43d5df][_0x213f72];if(_0x13a703[_0x560d8f(0x25c)])continue;var _0x36f803=Math[_0x560d8f(0x1a0)](Math[_0x560d8f(0x4a5)]()*0x64);if(_0x36f803<0xa){var _0x45c8e9=Math[_0x560d8f(0x1a0)](Math['random']()*MAP_BOT_ELEMENT[_0x560d8f(0x4b4)]);_0x13a703[_0x560d8f(0x2e7)]={'name':MAP_BOT_ELEMENT[_0x45c8e9][_0x560d8f(0x320)],'angle':Math['random']()*Math['PI']*0x2};}var _0x36f803=Math[_0x560d8f(0x1a0)](Math[_0x560d8f(0x4a5)]()*0x64);if(_0x36f803<0xa){var _0x45c8e9=Math[_0x560d8f(0x1a0)](Math[_0x560d8f(0x4a5)]()*MAP_TOP_ELEMENT['length']);_0x13a703[_0x560d8f(0x3e5)]={'name':MAP_TOP_ELEMENT[_0x45c8e9][_0x560d8f(0x320)],'angle':Math['random']()*Math['PI']*0x2};}}}},this['initMapFloorImage']=()=>{var _0x5d4a3f='./img/mapFloor/',_0xf542b2=MAP_FLOORS;for(var _0x2d7ad9 in _0xf542b2)this['mapImgsFloor'][_0xf542b2[_0x2d7ad9]]=new myImage(_0xf542b2[_0x2d7ad9],_0x5d4a3f+_0xf542b2[_0x2d7ad9]+'.png');},this[_0x45fc07(0x24a)]=()=>{var _0x3a9712=_0x45fc07,_0x281d9c=_0x3a9712(0x1a2),_0x188308=MAP_BOT_ELEMENT;for(var _0x115b19 in _0x188308)this['mapImgsBot'][_0x188308[_0x115b19][_0x3a9712(0x320)]]=new myImage(_0x188308[_0x115b19][_0x3a9712(0x320)],_0x281d9c+_0x188308[_0x115b19][_0x3a9712(0x320)]+_0x3a9712(0x1a1));},this[_0x45fc07(0x35b)]=()=>{var _0x2314f5=_0x45fc07,_0x5b94ff=_0x2314f5(0x2ff),_0x48f5dc=MAP_TOP_ELEMENT;for(var _0x51aa8c in _0x48f5dc)this[_0x2314f5(0x1ee)][_0x48f5dc[_0x51aa8c]['name']]=new myImage(_0x48f5dc[_0x51aa8c][_0x2314f5(0x320)],_0x5b94ff+_0x48f5dc[_0x51aa8c][_0x2314f5(0x320)]+'.png');},this[_0x45fc07(0x1c7)]=()=>{var _0x3c8ffb=_0x45fc07;this['initMapTopElement'](),this[_0x3c8ffb(0x200)](),this['initMapBotElement']();},this[_0x45fc07(0x1fd)]=(_0x4d7137,_0x2bfe8f,_0x3e404d)=>{var _0x1c17b3=_0x45fc07;this['posBlockx']+=_0x4d7137,this[_0x1c17b3(0x12b)]+=_0x2bfe8f,this[_0x1c17b3(0x171)]*=_0x3e404d;if(this[_0x1c17b3(0x171)]<0.1)this[_0x1c17b3(0x171)]=0.1;if(this[_0x1c17b3(0x171)]>0x1)this['scale']=0x1;this[_0x1c17b3(0x409)]=!![];},this[_0x45fc07(0x224)]=_0xe3ee2b=>{var _0x480cec=_0x45fc07;this[_0x480cec(0x206)]=Math[_0x480cec(0x1a0)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x480cec(0x171)]*this[_0x480cec(0x470)]),this['pixel_height']=Math[_0x480cec(0x1a0)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x480cec(0x171)]*this['height']),this['blocksize_x']=Math['floor'](this[_0x480cec(0x206)]/this[_0x480cec(0x470)]),this[_0x480cec(0x126)]=Math[_0x480cec(0x1a0)](this[_0x480cec(0x425)]/this['height']),this['pos_x']=this[_0x480cec(0x1a3)]*this[_0x480cec(0x1c0)],this[_0x480cec(0x404)]=this['posBlocky']*this[_0x480cec(0x126)],this[_0x480cec(0x125)]=_0xe3ee2b[_0x480cec(0x470)]/0x2-this['pos_x'],this[_0x480cec(0x4c2)]=_0xe3ee2b[_0x480cec(0x184)]/0x2-this['pos_y'],this[_0x480cec(0x301)]=this['pos_startx']<0x0?0x0:this[_0x480cec(0x125)],this[_0x480cec(0x1cd)]=this[_0x480cec(0x4c2)]<0x0?0x0:this[_0x480cec(0x4c2)],this[_0x480cec(0x1d6)]=this['pos_startx']+this['pixel_width']>=_0xe3ee2b['width']?_0xe3ee2b['width']-0x1:this['pos_startx']+this[_0x480cec(0x206)],this['pixel_endy']=this[_0x480cec(0x4c2)]+this['pixel_height']>=_0xe3ee2b[_0x480cec(0x184)]?_0xe3ee2b['height']-0x1:this[_0x480cec(0x4c2)]+this[_0x480cec(0x425)],this[_0x480cec(0x3b4)]=this[_0x480cec(0x174)]({'x':this['pixel_startx'],'y':this[_0x480cec(0x1cd)]}),this['botright_block']=this['get_block_by_pixel']({'x':this[_0x480cec(0x1d6)],'y':this[_0x480cec(0x24c)]});if(this[_0x480cec(0x28c)]){if(this[_0x480cec(0x28c)]['x']>=this[_0x480cec(0x470)])this['botright_block']['x']=this[_0x480cec(0x470)]-0x1;if(this[_0x480cec(0x28c)]['y']>=this['height'])this[_0x480cec(0x28c)]['y']=this[_0x480cec(0x184)]-0x1;}},this[_0x45fc07(0x1da)]=(_0xe168cd,_0x3ce6f4,_0xd50bf8,_0x3a82,_0x5c75b7)=>{var _0x1ee923=_0x45fc07;if(_0x5c75b7==_0x1ee923(0x4be)){var _0x580e4b=Math[_0x1ee923(0x1a0)](_0xd50bf8+0.05*this[_0x1ee923(0x1c0)]),_0x5e62e6=Math[_0x1ee923(0x1a0)](_0x3a82+0.05*this[_0x1ee923(0x126)]),_0x37db02=Math[_0x1ee923(0x1a0)](_0xd50bf8+0.95*this['blocksize_x']),_0x349cf9=Math['floor'](_0x3a82+0.95*this[_0x1ee923(0x126)]);if(_0x3ce6f4[_0x1ee923(0x290)]()>0x1)_0xe168cd[_0x1ee923(0x118)][_0x1ee923(0x3b1)]='#ff880022';else{if(!_0x3ce6f4[_0x1ee923(0x290)]()||_0x3ce6f4[_0x1ee923(0x25c)])_0xe168cd[_0x1ee923(0x118)][_0x1ee923(0x3b1)]='#ff000055';else _0xe168cd[_0x1ee923(0x118)][_0x1ee923(0x3b1)]='#00af0022';}_0xe168cd[_0x1ee923(0x4c3)](_0x580e4b,_0x5e62e6,_0x37db02,_0x349cf9);var _0x3061f2=new MyUI(_0xe168cd,_0x580e4b,_0x5e62e6,0x64,this[_0x1ee923(0x171)],undefined,undefined,0x1);_0x3061f2['addTextZone'](_0x1ee923(0x22c)+_0x3ce6f4[_0x1ee923(0x290)](),0x14*this[_0x1ee923(0x171)],0x64,_0x1ee923(0x3c9)),_0x3061f2[_0x1ee923(0x156)]();}if(_0x5c75b7=='rotate'){var _0x580e4b=Math[_0x1ee923(0x1a0)](_0xd50bf8+0.05*this['blocksize_x']),_0x5e62e6=Math[_0x1ee923(0x1a0)](_0x3a82+0.05*this[_0x1ee923(0x126)]),_0x37db02=Math[_0x1ee923(0x1a0)](_0xd50bf8+0.95*this['blocksize_x']),_0x349cf9=Math[_0x1ee923(0x1a0)](_0x3a82+0.95*this[_0x1ee923(0x126)]);_0xe168cd[_0x1ee923(0x118)][_0x1ee923(0x3b1)]='#ef0bc322',_0xe168cd[_0x1ee923(0x4c3)](_0x580e4b,_0x5e62e6,_0x37db02,_0x349cf9);}},this[_0x45fc07(0x434)]=(_0x653f09,_0x29d9a3)=>{var _0x1f2055=_0x45fc07;this[_0x1f2055(0x409)]=![],world['players'][_0x1f2055(0x189)]=!![];if(this[_0x1f2055(0x3b4)]&&this['botright_block'])for(var _0x2e22e3=this[_0x1f2055(0x3b4)]['x'];_0x2e22e3<=this[_0x1f2055(0x28c)]['x'];_0x2e22e3++){for(var _0xa03d22=this['topleft_block']['y'];_0xa03d22<=this['botright_block']['y'];_0xa03d22++){var _0x587e23=this[_0x1f2055(0x16d)](_0x2e22e3,_0xa03d22),_0x3e8d93=this[_0x1f2055(0x23d)][_0x2e22e3][_0xa03d22],_0x464d58=undefined;if(!_0x3e8d93[_0x1f2055(0x1a0)])_0x464d58=this[_0x1f2055(0x24e)][_0x1f2055(0x282)];else _0x464d58=this[_0x1f2055(0x24e)][_0x3e8d93[_0x1f2055(0x1a0)]];if(_0x464d58&&_0x464d58['ready']&&_0x587e23)_0x653f09['draw_Image'](_0x464d58[_0x1f2055(0x173)],_0x587e23['x'],_0x587e23['y'],this['blocksize_x']+0x1,this[_0x1f2055(0x126)]+0x1);else this[_0x1f2055(0x409)]=!![];if(_0x3e8d93[_0x1f2055(0x2e7)]){_0x464d58=this[_0x1f2055(0x21d)][_0x3e8d93[_0x1f2055(0x2e7)][_0x1f2055(0x320)]];var _0x189022=_0x587e23['x']+this[_0x1f2055(0x1c0)]/0x2,_0x45069a=_0x587e23['y']+this[_0x1f2055(0x126)]/0x2;if(_0x464d58)_0x653f09[_0x1f2055(0x18c)](_0x464d58[_0x1f2055(0x173)],_0x189022,_0x45069a,this[_0x1f2055(0x171)]*0x2,_0x3e8d93['botElem'][_0x1f2055(0x313)]);}if(_0x3e8d93[_0x1f2055(0x3e5)]){_0x464d58=this[_0x1f2055(0x1ee)][_0x3e8d93[_0x1f2055(0x3e5)][_0x1f2055(0x320)]];var _0x189022=_0x587e23['x']+this[_0x1f2055(0x1c0)]/0x2,_0x45069a=_0x587e23['y']+this[_0x1f2055(0x126)]/0x2;if(_0x464d58)_0x29d9a3[_0x1f2055(0x18c)](_0x464d58['img'],_0x189022,_0x45069a,this['scale']*0x2,_0x3e8d93[_0x1f2055(0x3e5)][_0x1f2055(0x313)]);}if(world[_0x1f2055(0x205)][_0x1f2055(0x182)]&&world[_0x1f2055(0x205)][_0x1f2055(0x182)]['zone']&&world['GameUI'][_0x1f2055(0x182)][_0x1f2055(0x1ac)][_0x1f2055(0x4af)](_0x1bc838=>_0x1bc838==_0x3e8d93))this[_0x1f2055(0x1da)](_0x653f09,_0x3e8d93,_0x587e23['x'],_0x587e23['y'],world['GameUI'][_0x1f2055(0x182)][_0x1f2055(0x144)]);}}},this[_0x45fc07(0x174)]=_0x45ae8e=>{var _0x559e3d=_0x45fc07;if(_0x45ae8e['x']<this[_0x559e3d(0x301)]||_0x45ae8e['y']<this['pixel_starty']||_0x45ae8e['x']>this[_0x559e3d(0x1d6)]||_0x45ae8e['y']>this['pixel_endy']||this[_0x559e3d(0x1c0)]==0x0||this['blocksize_y']==0x0)return undefined;var _0x2ded23={'x':Math[_0x559e3d(0x1a0)]((_0x45ae8e['x']-this[_0x559e3d(0x125)])/this['blocksize_x']),'y':Math[_0x559e3d(0x1a0)]((_0x45ae8e['y']-this[_0x559e3d(0x4c2)])/this['blocksize_y'])};if(_0x2ded23['x']>=this[_0x559e3d(0x470)]&&_0x2ded23['x']>0x0)_0x2ded23['x']=this['width']-0x1;if(_0x2ded23['y']>=this[_0x559e3d(0x184)]&&_0x2ded23['y']>0x0)_0x2ded23['y']=this['height']-0x1;return this[_0x559e3d(0x23d)][_0x2ded23['x']][_0x2ded23['y']];},this['get_pixel_by_block']=(_0x1d5f1f,_0x2ad298)=>{var _0x3e0986=_0x45fc07;if(_0x1d5f1f<0x0||_0x2ad298<0x0||_0x1d5f1f>=this[_0x3e0986(0x470)]||_0x2ad298>=this[_0x3e0986(0x184)])return undefined;return{'x':Math[_0x3e0986(0x1a0)](this['pos_startx']+this[_0x3e0986(0x1c0)]*_0x1d5f1f),'y':Math[_0x3e0986(0x1a0)](this[_0x3e0986(0x4c2)]+this[_0x3e0986(0x126)]*_0x2ad298)};},this[_0x45fc07(0x3d5)]=(_0x3be5e4,_0x358be2)=>{var _0x44fc47=_0x45fc07;return{'x':this[_0x44fc47(0x125)]+this['blocksize_x']*_0x3be5e4,'y':this[_0x44fc47(0x4c2)]+this[_0x44fc47(0x126)]*_0x358be2};},this[_0x45fc07(0x3e1)]=(_0x4d945d,_0x19e394,_0x36d16b,_0x3438be)=>{var _0x11b2c9=_0x45fc07,_0x358f0c=[];for(var _0x8dc8a3=_0x4d945d-_0x3438be;_0x8dc8a3<=_0x4d945d+_0x3438be;r++){for(var _0x21c255=_0x19e394-_0x3438be;_0x21c255<=_0x19e394+_0x3438be;r++){var _0xc2fb31=this[_0x11b2c9(0x23d)][_0x8dc8a3][_0x21c255];if(_0xc2fb31&&distBlock(_0x4d945d,_0x19e394,_0xc2fb31['x'],_0xc2fb31['y'])>=_0x36d16b&&distBlock(_0x4d945d,_0x19e394,_0xc2fb31['x'],_0xc2fb31['y'])<=_0x3438be)_0x358f0c[_0x11b2c9(0x217)](_0xc2fb31);}}return _0x358f0c;},this[_0x45fc07(0x1c9)]=(_0x27bcd4,_0x30ce66,_0x3845e7,_0x3b8f20)=>{var _0x105349=_0x45fc07,_0x32faf7=[];for(var _0x67b838=Math['floor'](_0x27bcd4-_0x3b8f20);_0x67b838<=Math['round'](_0x27bcd4+_0x3b8f20);r++){for(var _0x3c7eca=Math[_0x105349(0x1a0)](_0x30ce66-_0x3b8f20);_0x3c7eca<=Math['round'](_0x30ce66+_0x3b8f20);r++){var _0x55a384=this['mapBlock'][_0x67b838][_0x3c7eca];if(_0x55a384&&dist(_0x27bcd4,_0x30ce66,_0x55a384['x'],_0x55a384['y'])>=_0x3845e7&&Block(_0x27bcd4,_0x30ce66,_0x55a384['x'],_0x55a384['y'])<=_0x3b8f20)_0x32faf7[_0x105349(0x217)](_0x55a384);}}return _0x32faf7;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT='Algerian',BONUS_DESCRIPTION=[];var id=0x1;function _0x5a57(){var _0x1e8c95=['Lara\x20Barnett','get_next_path','#000000','Your\x20population\x20eat\x20food,\x20Miam','draw_UI_EventMessage','craft\x20item','getNextUpgrade','\x20don\x27t\x20have\x20enought\x20Action\x20Point','newGameInput','clientY','addCanvas','key_event','putImageData','face_2','imgColored','can\x27t\x20load\x20','decode','the\x20construction\x20of\x20\x27','light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling','inputclick','\x20%\x20of\x20','centerOnBlock','Kashton\x20McCarty','getItemIcone','concat','data','#555555','283128FjvuLy','elmList','sounds','key_buton_check','setTransform','bonus','\x27Snap\x20ITC\x27','Numpad','CheckMoveTo\x20:\x20invalid\x20cost','Wood\x20Armor','round','sound','5FviHvb','Houses','face_3','map','KeyW','reducing\x20','needUIRedraw','miner_helmet','fillStyle','list','createProjectilAnimation','topleft_block','Screen','sword','cancel_menu','lastTime','\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20','bush','unequip\x20weapon','Osef','cos','attack_metal_slash','blockSelected','anonymous','Stefan\x20Christian','fullScreen','anim','Kelvin\x20Fischer','\x20Action\x20Point\x20left','showUIsystem','playerSelected','attack','#005500','input','workshop','webkitExitFullscreen','get\x20x2\x20more\x20wood\x20in\x20forest','closeFullscreen','KeyF','go\x20to\x20player\x20tab\x20for\x20lvl\x20up','substring','build_progression','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','generateBasicVillage','get_pixel_by_pos','lineMax','ActionPointMax','sword_2h','Wood\x20Stick','getMessageSystem','#55ff00','createRandomWeapon','failed\x20createImgData\x20image\x20Colored','#556b2f88','eventPageOffset','addBowWorkshop','get_block_at_BlockRange','add\x20some\x20blocks\x20','119qouMca','Population\x20max\x20+\x2010\x20(','topElem','bad\x20input','getChanceOfHit','metal_axe','stone_axe','\x20missed\x20attack\x20(','Greyson\x20Walker','background','bottom','addArmorToVillageInventory','drawImageMirrorRotateCenter','ago','mozfullscreenchange','life\x20','loop','Marisol\x20Humphrey','lenx','is\x20dead\x20R.I.P','test','#11ff33','Jakobe\x20Hardin','generateRandomElement','add\x20to\x20building','affectPlayerToBat','hammer_nails','addEventListener','hand/hand_0.png','villageActionPointMax','damage\x20after\x20armor\x20reduction\x20:\x20','init_check_mouse_move','drawRect','pos_y','getBlockBehindTarget','face/','stroke','Build\x20new\x20batiments\x20here','needRedraw','\x20\x20During\x20Phase\x201,\x20you\x20can','Jamison\x20Pace','village','bad\x20input\x20remove\x20resource','#55aaaa','Ximena\x20Zimmerman','Matthew\x20Beil','tabs','strokeRect','\x0a-craft\x20weapons\x20and\x20armors','alt','you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201','face_1','doubled\x20wood','TryBuildBat','createImgFromData','get\x20more\x20resources\x20in\x20the\x20mine','face_type','armor','calculatDamageFromAttack','A\x20big\x20hole\x20in\x20the\x20ground','top','you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village','atan2','bodyPartImgReady','ReturnBlockTargeted','\x27\x20(+','pixel_height','createPlayer','villageActionPoint','back','addWorkShop','players_inside','TryUpgrade','createUI','lvlupList','draw_villagePlayerUi','createElement','blocks','description','Stone\x20Axe','fillText','draw_map','GetColorImage','getEquipedWeaponDescription','getDistToABlock','villageAP_icon','textAlign','generateCapacity','addSawmill','drawGameUI','screenAx','Askip','stone_icon','damages','look','can\x27t\x20with\x20','complete','\x0a-reduce\x20','Jianna\x20Wood','the\x20place\x20for\x20craft\x20bow\x20and\x20arrow','cost','Equiped\x20with\x20\x27','draw_building_tab','\x20uppgraded\x20to\x20LvL\x20','equip\x20weapon','mouseup','zone_selecting_input','txts','addHorizontalElem','wood_arrow','src','mode','face_4','you\x20lost\x20:','\x0a-hit\x20the\x20selected\x20block','returned\x20','\x0a-equip\x20items','battle','receive_attack','\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building','playerList','Treasure\x20Quintana','colorText','Khloe\x20Horn','stats','players','position','\x20img\x20loaded','canList','\x20received\x20damage\x20:\x20','#00D238','color','Attack','wood_icon','#FFAD1C','Your\x20village\x20is\x20attacked\x20!','bot','can\x27t\x20display\x20weapon\x20:\x20','projectilAnimation','no\x20block','Cade\x20Patton','width','3LesemN','#0000ff','bonusPopulation','nextTurn','marge','center_on_selected_player','Aufait','lvlup','better\x20than\x20nothing','strokeColor','draw_Image','getNextTurnList','year\x20','addResource','msExitFullscreen','Anahi\x20Strickland','body_3','slashing','cut\x20wood\x20faster\x20in\x20forest','batBuildMenu','hit\x20them\x20from\x20behind','creating\x20an\x20image\x20:\x20','selector\x20:\x20','wrong\x20direction','end\x20of\x20the\x20combat','checkNextUpgrade','page\x20down','max_letter','getZoneAtAbsRangeToPlayer','No\x20player\x20selected','Kingston\x20Howell','start\x20construction','bow\x20attack','body_0','equipArmor','no\x20description','\x0a-hit\x20[','TryMoveTo','no\x20craft\x20available','Lorelei\x20Alexander','dir','play','Rotate','Img','sort\x20buildings\x20by\x20','big_tree_1','openFullscreen','\x27Footlight\x20MT\x20Light\x27','txt','\x20PA\x20left\x20for\x20finish\x20construction','getZoneAdjacentToPlayerByDir','Elsie\x20Reynolds','random','callback','posA','Annalise\x20Carson','getPixelPosition','sawmill','Population\x20max\x20+\x205\x20(','UIplayers','colorFill','#00aaaa','find','Your\x20Village\x20is\x20attacked\x20!!','getKeyInput','addWeaponToVillageInventory','draw_tab_selector','length','mapUI','week','0px','End\x20Turn','\x20week\x20','1650016oFzvMx','warningEndTurnMessage','sqrt','draw_craft_menu','move','drawImageRotateCenter','no\x20crafts\x20list','canvasPUI','pos_starty','drawFillRect','GetCanvasPos','addButton','\x20blocks','speed\x20','House\x20lvl','Bonnie\x20Bishop','MSFullscreenChange','addGauge','mouse_move_check','craft\x20woodplank','zoneTarget','sawmill_song','windowInfo','ChangePosition','Playerturn','Marvin\x20Herrera','layerLen','res','Stone\x20Spear','projectil','Daisy\x20Robinson','\x0a-start\x20the\x20construction\x20of\x20new\x20building','createNewPlayer','Kenji\x20McLaughlin','activeTabId','Jacob\x20Knapp','cant\x20load\x20image\x20\x22','rangeMin','\x20/\x20','start\x20message\x20system','click_buton_check','\x20\x20\x20\x20\x20Info\x20:','\x20joined\x20your\x20village','invalid\x20craft','log','removePlayerFromBat','lvl\x20','extand\x20the\x20Turns\x20window','ctx','len_y','createDatafromImage','draw_newTurnPhase','Movement\x20cost\x20:\x20','a->Z','getBoundingClientRect','button','craft\x20stuff\x20here','2464PWEGtM','4478412RGXGTR','\x20place','catch','pos_startx','blocksize_y','len_x','\x27\x20have\x20started','Player','info','posBlocky','getLvlUpPerkList','cleanCanvas','rangeMax','getBlocksAtRangeFromPlayer','Music','hand\x20hit','GetDrawBuildingElement','\x20left','\x20AP','colorColored','no\x20weapon\x20equiped','playerstats','draw_battlePhase','armor\x20equiped\x20:\x20','Direction\x20:\x20','age','buto_txt','error,\x20no\x20block','Keegan\x20Doyle','Dexterity','drawImage','addDefendVillage','body_2','#ffffff88','type','test_start_battle','batSelected','Belek','#663300','isDead','moveCost','lvl\x20up','Itzel\x20Allison','under_construction_icon','Events','CostMovingPlayer','mapFloor','#1e90ff','Azrael\x20Ali','createRandomArmor','can\x27t\x20get\x20can\x20pos','unequip\x20armor','drawUI','resources','handImg','piercing','img\x20','left\x20mouse\x20:\x0a','Wren\x20Costa','LoadSound','warning','enemy)','\x20is\x20attacking\x20(no\x20weapon)','creating\x20an\x20enemy\x20in\x20','Boden\x20Archer','function','\x20crafted\x20a\x20','Capri\x20Glenn','canvas','createNewArmor','59448cjkQEC','ControlLeft','_icon','documentElement','\x20have\x20','get_pixel_by_block','fullscreenchange','\x0aLvl\x20:\x20','End\x20of\x20the\x20battle','scale','TryCraftItem','img','get_block_by_pixel','error\x20input\x20create\x20player','team',']\x20blocks\x20behind\x20the\x20target','New\x20Turn\x20!\x20','NumpadAdd','hit\x20the\x20target\x20behind','getWeaponAttackDescription','constructionSelected','CheckInfoWindow','River\x20Hunter','playerColor','get_valid_player_for_craft','lvl','highlightZone','\x0aSurvived\x20','height','craftSelected','action\x20point\x20:\x20','addMessage','drawTextCenter','pUI_need_redraw','Halo\x20Knapp','Bow\x20workshop','drawImageRotate','this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it','key','EventcloseFullscreen','#a01454','stat','getBlocksAtRange','#00dd00','batPageOffset','letter_per_line','removeResource','#ffffff','font','UIevent','\x0a-hit\x20between\x20[','Small\x20Woodbow','\x20x\x20','kill_player','InfoWinfowPos','keydown','floor','.png','./img/mapBotElement/','posBlockx','middle','test\x20turn\x20finished\x20:\x20','#17bdbc','callback_data','\x27s\x20','upgrades','fletching\x20station','center\x20on\x20player','zone','lifeMax','factor','workshop_icon','mousemove','checkHaveResources','drawMessageSystemEvents','chance\x20to\x20hit\x20:\x20%','\x20Action\x20Points\x20left','Gruu','\x20can\x20lvl\x20up\x20++','no\x20armor\x20equiped','InfoWindowPos','\x27Ravie\x27','Archer\x20Baxter','page\x20up','#da1d81','Setple','getBlockAdjacent','Zelda\x20Stevens','blocksize_x','mouseWasOnMouseLightLastDraw','playerDefaultImgs','Ryder\x20Sandoval','\x20lost\x20','size','onload','initImgs','DefaultImgsReady','get_block_at_DistRange','loadPlayerDefaultImgs','mine','Space','pixel_starty','bow','foodconsumedLastTurn','not\x20enoguht\x20resources','loadImg','keyup','\x20dist\x20','.mp3','shaken_bush','pixel_endx','addForest','filter','job','highlightBlock','ready','resource','\x20damage','Arial','weaponAnim','body_1','crushing','getBlockUnderPlayer','screenAy','Lia\x20Diaz','projectilSpeed','dmgArmor','highlight','Cole\x20Clayton','getVillageUItext','attack\x20with\x20:\x20','stones','the-britons','GetMoveDir','mapImgsTop','Key_Input','ApplyListPerkUp','unequipArmor','UI_list','hello\x20world','projectilName','draw_NextTurnTab','gauge','player_size','get_direction_from_pos','preventDefault','villageUI','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','Jordan\x20Barker','changeMapView','zone_target_area','repeat','initMapFloorImage','AlphaTransparencyByPixel','LoadPlayerVillageImage','\x20turn\x20have\x20started','bat','GameUI','pixel_width','8703YDGPeC','CheckMoveTo\x20:\x20invalid\x20Input','wall','Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn','#ff0000','unequipWeapon','replace','lineTo','craftPageOffset','\x0a--\x20x','armor/','#006400','letter_size','weapon','get_valid_action_in_affected_building','tryLvLup','push','equipWeapon','playersSelected','attack\x20animation\x20on\x20the\x20selected\x20block','weapon\x20:\x20','Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village','mapImgsBot','\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27','./img/','bodyPartImg','redraw\x20village\x20UI','metal_sword','getContext','set_drawing_map','1119998LddZVC','clearRect','unequipItem','bow_workshop_icon','return','posB','mouseInfoWindow','movement\x20factor\x20x','turnFinished','nope,\x20not\x20this\x20way','abs','draw_ItemsTab','\x27Bauhaus\x2093\x27','initVillage','fullscreenElement','capacityList','Mouse_Input','wood_stick','UIturnExpanded','Zaid\x20Terry','beginPath','exitFullscreen','resized','forest_icon','mapBlock','playersPageOffset','generateBasicPlayer','itemsPageOffset','PlayerInfodisplay','\x20weeks','#6495ed88','Braden\x20Lucero','batsToBuild','\x0aVillage\x20max\x20population\x20=\x20','imgIcon','End_Turn','player_test3/village/building','initMapBotElement','body_type','pixel_endy','string','mapImgsFloor','deltaY','nb_houses','New\x20Turn\x20started\x20:\x20','txt_font','center','\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings','create\x20player\x20in\x20','ActionPoint','bats','damage','init','Dakari\x20Poole','Speed\x20:\x20','player','\x20\x20Info\x20\x20','strokeStyle','life','keyUp','spear_attack','createNewWeapon','player_test3/village/resource','keyDown','#dddddd','addMine','clientX','fillColor','drawPlayer','craft','Skye\x20Ramirez','Defend\x20Village','UIeventExpanded','add\x20player','leny','CheckControlInput','Force\x20End\x20Turn','sand','\x20incoming\x20damage','Attack\x20with\x20','\x20leave\x20','Collin\x20Snow','Emmalyn\x20Spence','Move\x20your\x20player\x20up/right/down/left','value','upgrades_callback','createBatToBuildList','text','Lvl\x20up\x20+1','DrawTabInfoPlayer','hand','create_random_enemy_on_map','textBaseline','weed','\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for','body_4','selector','itemSelected','Alaina\x20Bradford','WEAPON\x20BONUS\x20/\x20','KeyS','Emerie\x20Hickman','allied)','botright_block','phase','Cillian\x20Ray','#000000aa','getMoveCost','mousePos','buttonList','you\x20don\x27t\x20have\x20enought\x20resource','i\x20dont\x20have\x20this\x20image\x20\x20:\x20','Dennis\x20Parrish','Turn\x20','msg','Fepachie','Mine','animation','weapon/','blocking_end_turn','getDateText','oncontextmenu','code','Scarlett\x20Mays','playSound','pause','Giana\x20Hudson','\x20players\x20to\x20the\x20battle','requestFullscreen','Kadence\x20Castaneda','build','Metal\x20Axe','mouseLight','measureText','Sergio\x20Welch','\x27Chiller\x27','eventPage','Paxton\x20Pollard','horizontal','#0320fb','#0000ff88','\x0aYour\x20village\x20consumed\x20','UIturn','ff0000','draw_playerTab','Richard\x20Lee','addHouse','#d2691e88','displayMessageEvent','Strength','fps','tab','Stone\x20Pickaxe','Kade\x20House','can\x27t\x20create\x20this\x20weapon','Menu','innerWidth','GetNextTurnButton','actionCost','\x20action\x20points','face_0','addTextZone','Phase\x202\x20started','txt_size','getTime','158464LyAUzo','\x20life\x20point','NumpadSubtract','currentTime','#666666','right','KeyA','stopSound','\x27Cooper\x20Black\x27','Imgs','absolute','addImage','\x20Action\x20Point\x20Max\x20(Battle)\x20','style','path','page','getBatFromPlayer','Mira\x20Acevedo','getArmorDescription','APcost','drawPlayers','ammo','showUIplayers','building','Mckenna\x20Leblanc','innerHeight','#ff66ff','block\x20','enemy\x20created\x20succesfully','botElem','getMouseInput','splice','CheckMoveTo','click','moveTo','Enter','#00ff00','block','Vada\x20Conley','\x20:\x20','Digit','Grady\x20ONeal','getZoneAdjacentToPlayer',']\x20distance\x20around\x20the\x20target','getPlayerByBlock','player\x20','Lilianna\x20Doyle','shift','sortButo','screenBy','appendChild','callback_actionPlayer','Zachary\x20Holloway','./img/mapTopElement/','stone_spear','pixel_startx','GoToTabName','sin','serif','then','player\x20body\x20img\x20loaded\x20and\x20ready','Turns','Meilani\x20Olson','needColor','drawTextTopLeft','startTime','\x0aLife\x20Max\x20:\x20','you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank','#0000fb','webkitfullscreenchange','4280kVFivQ','equip\x20armor','Okalm','angle','get_next_turn','\x20of\x20type\x20','px\x20','dont\x20have\x20resources','drawVillageUI','from','Malachi\x20Garza','\x20is\x20mining\x20resource\x20for\x20','batSortModeId','Ila\x20Ellis','Metal\x20Sword','small_woodBow','name','imgs\x20:\x20','fullness','itemType','costAP','txt_color','Stephanie\x20Bradley','Alisson\x20Roberson','MessageSystem','rotate','Items','toDataURL','colorStroke','#5500ff','\x27Comic\x20Sans\x20MS\x27','saw_workshop','playerInfoMenu','#ffff00','spawn\x20player','getBlocksAtDistRangeFromPlayer','canvasPlayer','sort','draw_resource_tab','gaugeSpeed','spear','showUI','stone_pickaxe','readyState','#00000000','where-the-brave-may-live-forever','Amira\x20Escobar','drawProjectiles','ArrowRight','Next\x20Turn','blockTargetingFunction','selecting_block','./img/player_test3/','check\x20dmg\x20:\x20','ArrowUp','rect','go\x20to\x20craft\x20tab','damageBase','left','Carson\x20Hunter','playAIturn','defend_village_icon','\x0aTarget\x20between\x20[','batSortModeList','GetBatBuildMenuSelector','fillRect','Controler','duration','UIsystem','Denver\x20Leal','item','extand\x20the\x20event\x20window','Krew\x20Pruitt','GetPageSelector','getResourcesTextAndImg','initMapTopElement','woodplank_icon','#ff080888','Miner\x20helmet','success\x20check\x20next\x20uppgrade','endFight','Start\x20Battle','populationMax','Sariah\x20Cabrera','text_font','direction\x20:\x20','unshift','\x20Action\x20Point\x20(Village)\x20','CreateBattleMapFromVillagePlayer_test','\x27\x20is\x20finished','drawLine','#ffff66','speed','DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','#000000ff','createPlayerFromVillage','Sawmill','\x20month\x20','getPlayerIcone','craft\x20basic\x20stuff','Peter\x20Tate','Players','moving','screenBx','movePCost','Jade\x20Butler','#888888','invalid\x20player','take_damage','mapTopElem','roof_0','Kaydence\x20Xiong','createPattern','\x0a-affect\x20players\x20to\x20a\x20building'];_0x5a57=function(){return _0x1e8c95;};return _0x5a57();}function _0xb2fc(_0x5233dc,_0x3464bd){var _0x5a5710=_0x5a57();return _0xb2fc=function(_0xb2fc4e,_0x3ac270){_0xb2fc4e=_0xb2fc4e-0x102;var _0x8ae7ac=_0x5a5710[_0xb2fc4e];return _0x8ae7ac;},_0xb2fc(_0x5233dc,_0x3464bd);}BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]=_0x2698c6(0x3cd),BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x2698c6(0x41a),Player=function(_0x2e8652,_0x5070cb,_0x1b60ad,_0x13acc8,_0x2a2a43){var _0x2d9dd7=_0x2698c6;this['x']=_0x2e8652,this['y']=_0x5070cb,this['size']=_0x1b60ad,this[_0x2d9dd7(0x176)]=_0x2a2a43,this['AI']=_0x2a2a43==TEAM_HUMAN?undefined:{},this[_0x2d9dd7(0x466)]=_0x13acc8,this[_0x2d9dd7(0x499)]=[0x1,0x0],this['bodyPartImg']=undefined,this[_0x2d9dd7(0x422)]=![],this[_0x2d9dd7(0x158)]=undefined,this[_0x2d9dd7(0x29a)]=[],this[_0x2d9dd7(0x378)]=PLAYER_DEFAUTL_MOVECOST,this[_0x2d9dd7(0x320)]='No\x20Name',this[_0x2d9dd7(0x36c)]=0x64,this[_0x2d9dd7(0x337)]=0x0,this[_0x2d9dd7(0x256)]=0x0,this[_0x2d9dd7(0x3d7)]=0x64,this[_0x2d9dd7(0x1ad)]=0x64,this['life']=this['lifeMax'],this[_0x2d9dd7(0x149)]=![],(this[_0x2d9dd7(0x45f)]={'Strength':0xa,'Dexterity':0xa},this['take_damage']=_0x14724d=>{var _0x1ac6c4=_0x2d9dd7;if(_0x14724d==undefined||_0x14724d<0x0)return![];this[_0x1ac6c4(0x25f)]-=_0x14724d,world[_0x1ac6c4(0x460)]['MessageSystem']['addMessage']({'type':this[_0x1ac6c4(0x176)],'txt':this[_0x1ac6c4(0x320)]+_0x1ac6c4(0x1c4)+_0x14724d+_0x1ac6c4(0x2cb)});if(this[_0x1ac6c4(0x25f)]<=0x0){world['players'][_0x1ac6c4(0x328)][_0x1ac6c4(0x187)]({'type':this[_0x1ac6c4(0x176)],'txt':this[_0x1ac6c4(0x320)]+'\x20is\x20dead'}),world[_0x1ac6c4(0x460)]['delete_player'](this);if(this==world['GameUI'][_0x1ac6c4(0x219)])world['GameUI'][_0x1ac6c4(0x219)]=undefined;if(this==world[_0x1ac6c4(0x460)][_0x1ac6c4(0x4d2)])world[_0x1ac6c4(0x460)]['Playerturn']=undefined;}return!![];}),this[_0x2d9dd7(0x459)]=_0x3a622d=>{var _0x5297e5=_0x2d9dd7;if(!_0x3a622d||_0x3a622d[_0x5297e5(0x4b4)]<0x1)return![];var _0xdf9129=0x0;for(var _0x1a3d26 in _0x3a622d){world[_0x5297e5(0x460)][_0x5297e5(0x328)][_0x5297e5(0x187)]({'type':this[_0x5297e5(0x176)],'txt':this[_0x5297e5(0x320)]+_0x5297e5(0x464)+_0x3a622d[_0x1a3d26][_0x5297e5(0x279)]+_0x5297e5(0x315)+_0x3a622d[_0x1a3d26][_0x5297e5(0x144)]}),_0xdf9129+=_0x3a622d[_0x1a3d26][_0x5297e5(0x279)];}var _0x5d2929=this['armor']?this['armor'][_0x5297e5(0x41d)]({'damages':_0x3a622d}):_0xdf9129;return this[_0x5297e5(0x37c)](_0x5d2929);},this[_0x2d9dd7(0x43a)]=()=>{var _0xc51b28=_0x2d9dd7;this[_0xc51b28(0x234)]=[{'name':'Move\x20To','type':'move','description':_0xc51b28(0x278),'callback':this[_0xc51b28(0x496)],'zone_target_area':world[_0xc51b28(0x3ac)][_0xc51b28(0x2f4)],'zone_selecting_input':{'player':this,'type':_0xc51b28(0x4be)},'windowInfo':[{'txt':_0xc51b28(0x11c),'callback':this['GetMovePrice']},{'txt':_0xc51b28(0x13a),'callback':this[_0xc51b28(0x1ed)]}]},{'name':_0xc51b28(0x49b),'type':_0xc51b28(0x4be),'description':'rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','callback':this[_0xc51b28(0x329)],'zone_target_area':world[_0xc51b28(0x3ac)][_0xc51b28(0x48d)],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':'rotate'},'windowInfo':[{'txt':_0xc51b28(0x365),'callback':this[_0xc51b28(0x1f8)]}]}];if(this[_0xc51b28(0x214)]){var _0x2874c4={'name':_0xc51b28(0x467),'type':_0xc51b28(0x3c8),'description':_0xc51b28(0x21a),'callback':this[_0xc51b28(0x3c8)],'zone_target_area':this[this[_0xc51b28(0x214)]['blockTargetingFunction'][_0xc51b28(0x4a6)]],'zone_selecting_input':this[_0xc51b28(0x214)][_0xc51b28(0x342)][_0xc51b28(0x3ca)],'windowInfo':[{'txt':'chance\x20to\x20hit\x20:\x20%','callback':this[_0xc51b28(0x3e7)]},{'txt':_0xc51b28(0x1ea),'callback':this[_0xc51b28(0x436)]}]};_0x2874c4[_0xc51b28(0x44d)]['player']=this,_0x2874c4[_0xc51b28(0x44d)][_0xc51b28(0x144)]='rotate',this[_0xc51b28(0x234)][_0xc51b28(0x217)](_0x2874c4);}else{var _0x2874c4={'name':_0xc51b28(0x467),'type':_0xc51b28(0x3c8),'description':'attack\x20animation\x20on\x20the\x20selected\x20block','callback':this['attack'],'zone_target_area':this[_0xc51b28(0x1be)],'zone_selecting_input':{},'windowInfo':[{'txt':_0xc51b28(0x1b3),'callback':this['getChanceOfHit']},{'txt':'attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','callback':()=>{}}]};_0x2874c4[_0xc51b28(0x44d)]['player']=this,_0x2874c4[_0xc51b28(0x44d)][_0xc51b28(0x144)]=_0xc51b28(0x329),this[_0xc51b28(0x234)][_0xc51b28(0x217)](_0x2874c4);}},this[_0x2d9dd7(0x436)]=()=>{var _0x33ea9d=_0x2d9dd7;if(this[_0x33ea9d(0x214)])return this[_0x33ea9d(0x214)]['getWeaponAttackDescription']();},this[_0x2d9dd7(0x423)]=_0x3dc2af=>{var _0x465b6b=_0x2d9dd7;if(!_0x3dc2af||!_0x3dc2af[_0x465b6b(0x2ef)])return undefined;return[_0x3dc2af[_0x465b6b(0x2ef)]];},this[_0x2d9dd7(0x1be)]=()=>{var _0x3e4d03=_0x2d9dd7;console['log']('get\x20block\x20adjacent');var _0x2c82f4=[];for(var _0x4a09e3=this['x']-0x1;_0x4a09e3<=this['x']+this[_0x3e4d03(0x1c5)];_0x4a09e3++)for(var _0x12b62b=this['y']-0x1;_0x12b62b<=this['y']+this[_0x3e4d03(0x1c5)];_0x12b62b++)if(!((_0x4a09e3==this['x']-0x1||_0x4a09e3==this['x']+this[_0x3e4d03(0x1c5)])&&(_0x12b62b==this['y']-0x1||_0x12b62b==this['y']+this['size']))&&!(_0x4a09e3<=this['x']+this[_0x3e4d03(0x1c5)]-0x1&&_0x4a09e3>=this['x']&&_0x12b62b<=this['y']+this[_0x3e4d03(0x1c5)]-0x1&&_0x12b62b>=this['y'])){if(world[_0x3e4d03(0x3ac)][_0x3e4d03(0x23d)][_0x4a09e3]&&world[_0x3e4d03(0x3ac)]['mapBlock'][_0x4a09e3][_0x12b62b])_0x2c82f4['push'](world[_0x3e4d03(0x3ac)][_0x3e4d03(0x23d)][_0x4a09e3][_0x12b62b]);}return console[_0x3e4d03(0x114)](_0x3e4d03(0x456)+_0x2c82f4[_0x3e4d03(0x4b4)]+_0x3e4d03(0x4c6)),_0x2c82f4;},this[_0x2d9dd7(0x1e2)]=()=>{var _0x47808b=_0x2d9dd7,_0x226a5d=[];for(var _0x455449=this['x'];_0x455449<this['x']+this[_0x47808b(0x1c5)];_0x455449++)for(var _0x5068a7=this['y'];_0x5068a7<this['y']+this[_0x47808b(0x1c5)];_0x5068a7++)_0x226a5d['push'](world[_0x47808b(0x3ac)][_0x47808b(0x23d)][_0x455449][_0x5068a7]);},this[_0x2d9dd7(0x405)]=_0x354969=>{var _0xb7c35b=_0x2d9dd7;if(!_0x354969||!_0x354969[_0xb7c35b(0x2ef)])return undefined;var _0x18462c=0x1,_0xbbf1ab=0x1;_0x354969[_0xb7c35b(0x39b)]&&(_0x18462c=_0x354969[_0xb7c35b(0x39b)][_0xb7c35b(0x10d)]?_0x354969[_0xb7c35b(0x39b)][_0xb7c35b(0x10d)]:0x1,_0xbbf1ab=_0x354969[_0xb7c35b(0x39b)][_0xb7c35b(0x12e)]?_0x354969['data'][_0xb7c35b(0x12e)]:0x1);if(_0x18462c>_0xbbf1ab){var _0x28014f=_0x18462c;_0x18462c=_0xbbf1ab,_0xbbf1ab=_0x28014f;}var _0x57417d=[],_0x243889=_0x354969[_0xb7c35b(0x2ef)],_0x695bbd=this[_0xb7c35b(0x1f8)](_0x243889),_0x12848a=-0x1,_0xb2e9d8=_0x243889['x'],_0x34a109=_0x243889['y'],_0x48a293=world[_0xb7c35b(0x3ac)][_0xb7c35b(0x23d)];while(++_0x12848a<=_0xbbf1ab){if(_0x12848a>=_0x18462c){if(_0x48a293[_0xb2e9d8]&&_0x48a293[_0xb2e9d8][_0x34a109])_0x57417d['push'](_0x48a293[_0xb2e9d8][_0x34a109]);}_0xb2e9d8+=_0x695bbd[0x0],_0x34a109+=_0x695bbd[0x1];}return _0x57417d;},this[_0x2d9dd7(0x192)]=_0x58f9b9=>{var _0x3b21db=_0x2d9dd7;if(!_0x58f9b9||!_0x58f9b9['block'])return undefined;var _0x56265d=0x1,_0x2c19a7=0x1;_0x58f9b9[_0x3b21db(0x39b)]&&(_0x56265d=_0x58f9b9[_0x3b21db(0x39b)]['rangeMin']?_0x58f9b9[_0x3b21db(0x39b)]['rangeMin']:0x1,_0x2c19a7=_0x58f9b9[_0x3b21db(0x39b)][_0x3b21db(0x12e)]?_0x58f9b9['data'][_0x3b21db(0x12e)]:0x1);if(_0x56265d>_0x2c19a7){var _0x585492=_0x56265d;_0x56265d=_0x2c19a7,_0x2c19a7=_0x585492;}var _0x5123be=[],_0x501188=_0x58f9b9[_0x3b21db(0x2ef)],_0x3a7116=world[_0x3b21db(0x3ac)][_0x3b21db(0x23d)];for(var _0x154eed=_0x501188['x']-_0x2c19a7;_0x154eed<=_0x501188['x']+_0x2c19a7;_0x154eed++){for(var _0x20e225=_0x501188['y']-_0x2c19a7;_0x20e225<=_0x501188['y']+_0x2c19a7;_0x20e225++){var _0x242afa=dist(_0x501188['x'],_0x501188['y'],_0x154eed,_0x20e225);if(_0x242afa<_0x56265d||_0x242afa>_0x2c19a7)continue;if(_0x3a7116[_0x154eed]&&_0x3a7116[_0x154eed][_0x20e225])_0x5123be['push'](_0x3a7116[_0x154eed][_0x20e225]);}}return _0x5123be;},this[_0x2d9dd7(0x12f)]=_0x1c881b=>{var _0x4f7faf=_0x2d9dd7;if(!_0x1c881b||!_0x1c881b['rangeMin']||!_0x1c881b[_0x4f7faf(0x12e)])return[];var _0x17347e=[],_0x436c2d=this,_0x3e06dc=_0x1c881b['rangeMin'],_0x5c00f0=_0x1c881b[_0x4f7faf(0x12e)];for(var _0x223735=_0x436c2d['x']-_0x5c00f0;_0x223735<_0x436c2d['x']+_0x436c2d[_0x4f7faf(0x1c5)]+_0x5c00f0;_0x223735++)for(var _0xce1426=_0x436c2d['y']-_0x5c00f0;_0xce1426<_0x436c2d['y']+_0x436c2d[_0x4f7faf(0x1c5)]+_0x5c00f0;_0xce1426++)if(_0x223735<=_0x436c2d['x']-_0x3e06dc||_0x223735>=_0x436c2d['x']+_0x436c2d[_0x4f7faf(0x1c5)]+_0x3e06dc-0x1||_0xce1426<=_0x436c2d['y']-_0x3e06dc||_0xce1426>=_0x436c2d['y']+_0x436c2d['size']+_0x3e06dc-0x1){if(world[_0x4f7faf(0x3ac)][_0x4f7faf(0x23d)][_0x223735]&&world['map'][_0x4f7faf(0x23d)][_0x223735][_0xce1426])_0x17347e[_0x4f7faf(0x217)](world[_0x4f7faf(0x3ac)][_0x4f7faf(0x23d)][_0x223735][_0xce1426]);}return _0x17347e;},this[_0x2d9dd7(0x437)]=_0x5a5d88=>{var _0x2dedaa=_0x2d9dd7;if(!_0x5a5d88||!_0x5a5d88[_0x2dedaa(0x2ef)])return undefined;var _0x19120a=_0x5a5d88['block'];if(_0x19120a['player']==this)return 0x0;var _0x48fe70;if(this['x']>=_0x19120a['x']&&this['x']+this['size']<=_0x19120a['x'])_0x48fe70=0x0;else{if(this['x']<_0x19120a['x'])_0x48fe70=this['x']-_0x19120a['x'];else _0x48fe70=this['x']+this[_0x2dedaa(0x1c5)]-_0x19120a['x']-0x1;}var _0x310fd3;if(this['y']>=_0x19120a['y']&&this['y']+this[_0x2dedaa(0x1c5)]<=_0x19120a['y'])_0x310fd3=0x0;else{if(this['x']<_0x19120a['x'])_0x310fd3=this['y']-_0x19120a['y'];else _0x310fd3=this['y']+this[_0x2dedaa(0x1c5)]-_0x19120a['y']-0x1;}return console[_0x2dedaa(0x114)](_0x2dedaa(0x2e5)+[_0x19120a['x'],_0x19120a['y']]+_0x2dedaa(0x1d3)+Math[_0x2dedaa(0x4bc)](_0x48fe70*_0x48fe70+_0x310fd3*_0x310fd3)),Math['sqrt'](_0x48fe70*_0x48fe70+_0x310fd3*_0x310fd3);},this[_0x2d9dd7(0x333)]=_0x3208e4=>{var _0x412ea5=_0x2d9dd7;if(!_0x3208e4||!_0x3208e4['rangeMin']||!_0x3208e4[_0x412ea5(0x12e)])return[];var _0xdb19df=[],_0x552716=this,_0x497406=_0x552716['x']+_0x552716[_0x412ea5(0x1c5)]/0x2-0.5,_0x1f1f20=_0x552716['y']+_0x552716[_0x412ea5(0x1c5)]/0x2-0.5,_0x4d669d=_0x3208e4['rangeMin']+_0x552716[_0x412ea5(0x1c5)]/0x2-0.5,_0x1f330f=_0x3208e4[_0x412ea5(0x12e)]+_0x552716[_0x412ea5(0x1c5)]/0x2-0.5;for(var _0x1c44a2=Math[_0x412ea5(0x3a7)](_0x552716['x']-_0x1f330f);_0x1c44a2<Math[_0x412ea5(0x3a7)](_0x552716['x']+_0x552716[_0x412ea5(0x1c5)]+_0x1f330f);_0x1c44a2++)for(var _0x416ba2=Math['round'](_0x552716['y']-_0x1f330f);_0x416ba2<Math[_0x412ea5(0x3a7)](_0x552716['y']+_0x552716['size']+_0x1f330f);_0x416ba2++)if(world[_0x412ea5(0x3ac)][_0x412ea5(0x23d)][_0x1c44a2]&&world[_0x412ea5(0x3ac)][_0x412ea5(0x23d)][_0x1c44a2][_0x416ba2]&&this[_0x412ea5(0x437)]({'block':world['map'][_0x412ea5(0x23d)][_0x1c44a2][_0x416ba2]})<=Math[_0x412ea5(0x3a7)](_0x1f330f)&&this[_0x412ea5(0x437)]({'block':world[_0x412ea5(0x3ac)][_0x412ea5(0x23d)][_0x1c44a2][_0x416ba2]})>=Math['floor'](_0x4d669d))_0xdb19df[_0x412ea5(0x217)](world[_0x412ea5(0x3ac)][_0x412ea5(0x23d)][_0x1c44a2][_0x416ba2]);return _0xdb19df;},this['LoadPlayerImage']=_0x4cf637=>{var _0x4260c6=_0x2d9dd7;if(!this[_0x4260c6(0x41b)])this[_0x4260c6(0x41b)]=PLAYER_FACE_IMG[Math[_0x4260c6(0x1a0)](Math[_0x4260c6(0x4a5)]()*PLAYER_FACE_IMG[_0x4260c6(0x4b4)])];if(!this[_0x4260c6(0x24b)])this[_0x4260c6(0x24b)]=PLAYER_BODY_IMG[Math['floor'](Math[_0x4260c6(0x4a5)]()*PLAYER_BODY_IMG[_0x4260c6(0x4b4)])];var _0x2efcbd=[];_0x2efcbd['push']({'name':this[_0x4260c6(0x24b)],'needColor':!![]}),_0x2efcbd[_0x4260c6(0x217)]({'name':this['face_type'],'needColor':![]});if(this['armor'])_0x2efcbd[_0x4260c6(0x217)]({'name':this['armor'][_0x4260c6(0x320)],'needColor':![]});for(var _0x512b4 in _0x2efcbd)if(!_0x4cf637[_0x2efcbd[_0x512b4]['name']]||!_0x4cf637[_0x2efcbd[_0x512b4][_0x4260c6(0x320)]][_0x4260c6(0x1db)])return console[_0x4260c6(0x114)](_0x4260c6(0x442)+_0x2efcbd[_0x512b4][_0x4260c6(0x320)]);var _0x5a3c48=document[_0x4260c6(0x42f)]('canvas');_0x5a3c48[_0x4260c6(0x470)]=PLAYER_DEFAULT_SIZEX,_0x5a3c48[_0x4260c6(0x184)]=PLAYER_DEFAULT_SIZEY;var _0x9e9b72=_0x5a3c48[_0x4260c6(0x223)]('2d');for(var _0x512b4 in _0x2efcbd){var _0x3a709f=_0x2efcbd[_0x512b4][_0x4260c6(0x320)];if(!_0x4cf637[_0x3a709f])return;var _0x4fa2cc=undefined;if(_0x2efcbd[_0x512b4][_0x4260c6(0x309)])_0x4fa2cc=_0x4cf637[_0x3a709f]['GetColorImage'](0x0,0xff,0x0,this[_0x4260c6(0x466)]['r'],this[_0x4260c6(0x466)]['g'],this['color']['b']);else _0x4fa2cc=_0x4cf637[_0x3a709f]['img'];if(!_0x4fa2cc||!_0x4fa2cc[_0x4260c6(0x443)])return![];_0x9e9b72[_0x4260c6(0x140)](_0x4fa2cc,0x0,0x0);}var _0x4fa2cc=new Image();_0x4fa2cc[_0x4260c6(0x451)]=_0x5a3c48[_0x4260c6(0x32b)](),_0x4fa2cc['decode']()[_0x4260c6(0x305)](()=>{var _0x55d9c5=_0x4260c6;console[_0x55d9c5(0x114)](_0x55d9c5(0x306)),this[_0x55d9c5(0x422)]=!![];if(world[_0x55d9c5(0x1fa)])world[_0x55d9c5(0x1fa)][_0x55d9c5(0x409)]=!![];if(world[_0x55d9c5(0x205)])world['GameUI'][_0x55d9c5(0x409)]=!![];}),this['bodyPartImg']=_0x4fa2cc;if(!_0x4cf637[_0x4260c6(0x27f)]||!_0x4cf637[_0x4260c6(0x27f)]['img'][_0x4260c6(0x443)])return![];var _0x4fa2cc=_0x4cf637[_0x4260c6(0x27f)]['GetColorImage'](0x0,0xff,0x0,this[_0x4260c6(0x466)]['r'],this[_0x4260c6(0x466)]['g'],this[_0x4260c6(0x466)]['b']);if(!_0x4fa2cc)return![];return this[_0x4260c6(0x158)]=_0x4fa2cc,!![];},this[_0x2d9dd7(0x1f8)]=_0x1474e5=>{var _0x5d52e1=_0x2d9dd7;if(_0x1474e5[_0x5d52e1(0x2ef)])_0x1474e5=_0x1474e5[_0x5d52e1(0x2ef)];var _0x223b68=Math[_0x5d52e1(0x421)](-(_0x1474e5['y']-this['y']-this[_0x5d52e1(0x1c5)]/0x2+0.5),_0x1474e5['x']-this['x']-this[_0x5d52e1(0x1c5)]/0x2+0.5);if(_0x223b68>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0x223b68>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0x223b68>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0x223b68>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0x223b68>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0x223b68>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0x223b68>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0x223b68>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0x223b68>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x2d9dd7(0x329)]=_0x37d4ab=>{var _0x4b366e=_0x2d9dd7,_0x11c98a=_0x37d4ab[_0x4b366e(0x2ef)];if(!_0x11c98a||_0x11c98a['x']==undefined||_0x11c98a['y']==undefined)return![];var _0x41271a=this[_0x4b366e(0x1f8)](_0x11c98a);if(_0x41271a)this[_0x4b366e(0x499)]=_0x41271a;else return![];return!![];},this['ChangePosition']=(_0xa60829,_0x34a025)=>{var _0x33b345=_0x2d9dd7;for(var _0x352a3a=this['x'];_0x352a3a<this['x']+this[_0x33b345(0x1c5)];_0x352a3a++)for(var _0x54dcea=this['y'];_0x54dcea<this['y']+this[_0x33b345(0x1c5)];_0x54dcea++)_0x34a025['mapBlock'][_0x352a3a][_0x54dcea]['player']=undefined;for(var _0x352a3a=_0xa60829['x'];_0x352a3a<_0xa60829['x']+this[_0x33b345(0x1c5)];_0x352a3a++){for(var _0x54dcea=_0xa60829['y'];_0x54dcea<_0xa60829['y']+this[_0x33b345(0x1c5)];_0x54dcea++){_0x34a025['mapBlock'][_0x352a3a][_0x54dcea]['player']=this;}}this['x']=_0xa60829['x'],this['y']=_0xa60829['y'];},this[_0x2d9dd7(0x2ea)]=_0xa2ea7b=>{var _0x588552=_0x2d9dd7;if(!_0xa2ea7b||!_0xa2ea7b[_0x588552(0x2ef)]||_0xa2ea7b[_0x588552(0x2ef)]['x']==undefined||_0xa2ea7b[_0x588552(0x2ef)]['y']==undefined)return console[_0x588552(0x114)](_0x588552(0x208)),![];var _0x526264={'x':_0xa2ea7b[_0x588552(0x2ef)]['x'],'y':_0xa2ea7b['block']['y']},_0x54f82c=world[_0x588552(0x3ac)];if(_0x526264['x']+this[_0x588552(0x1c5)]-0x1>=_0x54f82c[_0x588552(0x470)]||_0x526264['x']<0x0||_0x526264['y']<0x0||_0x526264['y']+this[_0x588552(0x1c5)]-0x1>=_0x54f82c[_0x588552(0x184)])return console[_0x588552(0x114)]('CheckMoveTo\x20:\x20invalid\x20block'),![];var _0x2bad8a;if(_0x526264['x']==this['x']-0x1&&_0x526264['y']>=this['y']&&this['y']+this['size']>_0x526264['y'])_0x526264['y']=this['y'],_0x2bad8a='left';else{if(_0x526264['y']==this['y']-0x1&&_0x526264['x']>=this['x']&&this['x']+this[_0x588552(0x1c5)]>_0x526264['x'])_0x526264['x']=this['x'],_0x2bad8a=_0x588552(0x41f);else{if(_0x526264['x']==this['x']+this['size']&&_0x526264['y']>=this['y']&&this['y']+this['size']>_0x526264['y'])_0x526264['y']=this['y'],_0x526264['x']=this['x']+0x1,_0x2bad8a=_0x588552(0x2cf);else{if(_0x526264['y']==this['y']+this[_0x588552(0x1c5)]&&_0x526264['x']>=this['x']&&this['x']+this['size']>_0x526264['x'])_0x526264['x']=this['x'],_0x526264['y']=this['y']+0x1,_0x2bad8a=_0x588552(0x46b);else return console[_0x588552(0x114)](_0x588552(0x488)),![];}}}for(var _0x1be4a7=_0x526264['x'];_0x1be4a7<_0x526264['x']+this[_0x588552(0x1c5)];_0x1be4a7++){for(var _0x47db18=_0x526264['y'];_0x47db18<_0x526264['y']+this[_0x588552(0x1c5)];_0x47db18++){if(_0x54f82c[_0x588552(0x23d)][_0x1be4a7][_0x47db18][_0x588552(0x25c)]&&_0x54f82c[_0x588552(0x23d)][_0x1be4a7][_0x47db18][_0x588552(0x25c)]!=this)return console['log']('CheckMoveTo\x20:\x20player\x20here'),![];}}var _0x2aab5b=world[_0x588552(0x3ac)][_0x588552(0x14f)]({'player':this,'dir':_0x2bad8a});if(_0x2aab5b===![])return console[_0x588552(0x114)](_0x588552(0x3a5)),![];return{'dir':_0x2bad8a,'cost':Math['floor'](_0x2aab5b*this[_0x588552(0x378)])};},this['GetMovePrice']=_0x4b4d2d=>{var _0x46010f=_0x2d9dd7,_0x10cd4a=this[_0x46010f(0x2ea)](_0x4b4d2d);if(_0x10cd4a)return _0x10cd4a[_0x46010f(0x447)];return![];},this[_0x2d9dd7(0x1ed)]=_0x365cad=>{var _0x2ac961=_0x2d9dd7,_0x4f6db8=this[_0x2ac961(0x2ea)](_0x365cad);if(_0x4f6db8)return _0x4f6db8[_0x2ac961(0x499)];return![];},this['TryMoveTo']=_0x3ec872=>{var _0x167e09=_0x2d9dd7;if(!_0x3ec872||!_0x3ec872['block']||_0x3ec872[_0x167e09(0x2ef)]['x']==undefined||_0x3ec872[_0x167e09(0x2ef)]['y']==undefined)return![];var _0x73320=this[_0x167e09(0x2ea)](_0x3ec872);if(_0x73320===![]||_0x73320['cost']>this[_0x167e09(0x256)])return![];var _0x4cf07a=undefined;switch(_0x73320['dir']){case _0x167e09(0x2cf):_0x4cf07a=[0x1,0x0];break;case _0x167e09(0x34a):_0x4cf07a=[-0x1,0x0];break;case _0x167e09(0x41f):_0x4cf07a=[0x0,-0x1];break;case _0x167e09(0x46b):_0x4cf07a=[0x0,0x1];break;default:console[_0x167e09(0x114)](_0x167e09(0x488));return![];}this[_0x167e09(0x256)]-=_0x73320[_0x167e09(0x447)];var _0x1ea2fd={'type':_0x167e09(0x376),'mode':PLAYER_ANIMATION_MOVING,'dir':_0x4cf07a,'from':[this['x'],this['y']],'duration':0x1f4};this['animation']['push'](_0x1ea2fd),this['dir']=_0x4cf07a;var _0x3d30aa={'x':this['x']+_0x4cf07a[0x0],'y':this['y']+_0x4cf07a[0x1]};return this[_0x167e09(0x4d1)](_0x3d30aa,world[_0x167e09(0x3ac)]),!![];},this['getChanceOfHit']=_0x3f06a1=>{var _0x5b933a=_0x2d9dd7;if(!_0x3f06a1||!_0x3f06a1[_0x5b933a(0x2ef)])return _0x5b933a(0x46e);var _0x4e2a59=_0x3f06a1[_0x5b933a(0x2ef)];if(!_0x4e2a59['player']||_0x4e2a59[_0x5b933a(0x25c)]==this)return'no\x20players';var _0x1eff02=_0x4e2a59['player'],_0x17e902=Math[_0x5b933a(0x421)](_0x1eff02[_0x5b933a(0x499)][0x1],_0x1eff02[_0x5b933a(0x499)][0x0]),_0x4ce5fc=Math[_0x5b933a(0x421)](this['y']-_0x1eff02['y'],this['x']-_0x1eff02['x']),_0x59af65=_0x17e902-_0x4ce5fc;while(_0x59af65>Math['PI'])_0x59af65-=0x2*Math['PI'];while(_0x59af65<-Math['PI'])_0x59af65+=0x2*Math['PI'];_0x59af65=Math[_0x5b933a(0x22f)](_0x59af65);var _0x130676=0x28+(0x50-0x28)*(_0x59af65/Math['PI']);return Math[_0x5b933a(0x1a0)](_0x130676*0x64)/0x64;},this[_0x2d9dd7(0x3c8)]=_0xc1dc40=>{var _0x1acb7b=_0x2d9dd7;if(!_0xc1dc40||!_0xc1dc40[_0x1acb7b(0x2ef)])return![];var _0xcd948e=undefined,_0x3d2b31=[];if(this['weapon']){if(this[_0x1acb7b(0x256)]<this[_0x1acb7b(0x214)][_0x1acb7b(0x2c3)])return![];world[_0x1acb7b(0x460)][_0x1acb7b(0x328)][_0x1acb7b(0x187)]({'type':this[_0x1acb7b(0x176)],'txt':this[_0x1acb7b(0x320)]+'\x20is\x20attacking\x20with\x20'+this['weapon'][_0x1acb7b(0x320)]});for(var _0x568ce3 in this[_0x1acb7b(0x214)]['zoneTarget']){var _0x3e84fd=this['weapon'][_0x1acb7b(0x4ce)][_0x568ce3],_0x4bfdbe={..._0xc1dc40};_0x4bfdbe[_0x1acb7b(0x39b)]=_0x3e84fd[_0x1acb7b(0x1a7)];var _0x409f71=this[_0x3e84fd[_0x1acb7b(0x4a6)]](_0x4bfdbe);console['log']('test\x20zone\x20'+_0x568ce3),console[_0x1acb7b(0x114)](_0x1acb7b(0x487)+_0x3e84fd['callback']);if(!_0x409f71||_0x409f71[_0x1acb7b(0x4b4)]<0x1)continue;console[_0x1acb7b(0x114)](_0x1acb7b(0x3e2)+_0x409f71['length']),_0x3d2b31[_0x1acb7b(0x217)]({'blocks':_0x409f71,'damage':_0x3e84fd[_0x1acb7b(0x349)]});}}else{if(this[_0x1acb7b(0x256)]<AP_COST_NOWEAPON)return![];world['players']['MessageSystem'][_0x1acb7b(0x187)]({'type':this[_0x1acb7b(0x176)],'txt':this[_0x1acb7b(0x320)]+_0x1acb7b(0x160)}),_0x3d2b31=[{'blocks':[_0xc1dc40[_0x1acb7b(0x2ef)]],'damage':[{'stats':_0x1acb7b(0x2ba),'type':_0x1acb7b(0x1e1),'value':0x1}]}];}for(var _0x568ce3 in _0x3d2b31){var _0x1fef43=_0x3d2b31[_0x568ce3],_0x390bf=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x1fef43[_0x1acb7b(0x258)]}),_0x438e0b=!![];if(!_0x390bf||_0x390bf['length']<0x1)continue;for(var _0x1400d0 in _0x1fef43[_0x1acb7b(0x430)]){var _0xdf2533=_0x1fef43[_0x1acb7b(0x430)][_0x1400d0];if(!_0xdf2533||!_0xdf2533[_0x1acb7b(0x25c)])continue;var _0x2e9012=this[_0x1acb7b(0x3e7)]({'block':_0xdf2533}),_0x5b5680=!![];if(Math[_0x1acb7b(0x1a0)](Math['random']()*0x64)>_0x2e9012)_0x5b5680=![];if(_0x5b5680)_0x438e0b=![],_0xdf2533[_0x1acb7b(0x25c)][_0x1acb7b(0x459)](_0x390bf);else{world[_0x1acb7b(0x460)][_0x1acb7b(0x328)][_0x1acb7b(0x187)]({'txt':this[_0x1acb7b(0x320)]+_0x1acb7b(0x3ea)+_0x2e9012+'%)'});var _0x104a77={'type':'dodge','mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x1acb7b(0x4a5)]()*0x2*Math['PI']};_0xdf2533[_0x1acb7b(0x25c)][_0x1acb7b(0x29a)][_0x1acb7b(0x217)](_0x104a77);}}}var _0x9ebf2a={'type':_0x1acb7b(0x3c8),'mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0xc1dc40[_0x1acb7b(0x2ef)]['x'],_0xc1dc40[_0x1acb7b(0x2ef)]['y']],'from':[this['x'],this['y']],'duration':0x1f4};this[_0x1acb7b(0x214)]&&this[_0x1acb7b(0x214)][_0x1acb7b(0x105)]&&(_0x9ebf2a[_0x1acb7b(0x105)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0xc1dc40[_0x1acb7b(0x2ef)]['x']+0.5,'y':_0xc1dc40['block']['y']+0.5},'projectilName':this[_0x1acb7b(0x214)][_0x1acb7b(0x105)][_0x1acb7b(0x2df)]?this[_0x1acb7b(0x214)][_0x1acb7b(0x105)][_0x1acb7b(0x2df)]:undefined,'projectilSpeed':this['weapon'][_0x1acb7b(0x105)][_0x1acb7b(0x1e5)]?this[_0x1acb7b(0x214)][_0x1acb7b(0x105)][_0x1acb7b(0x1e5)]:0x32,'sound':this['weapon'][_0x1acb7b(0x105)]['sound']&&!_0x438e0b?this[_0x1acb7b(0x214)][_0x1acb7b(0x105)][_0x1acb7b(0x3a8)]:undefined});this['animation'][_0x1acb7b(0x217)](_0x9ebf2a);if(this['weapon']){var _0x51f070=PLAYER_WEAPON_IMG['find'](_0x4e59ff=>_0x4e59ff['name']==this[_0x1acb7b(0x214)][_0x1acb7b(0x173)]);world[_0x1acb7b(0x130)][_0x1acb7b(0x2a1)](_0x51f070['sound']),this[_0x1acb7b(0x256)]-=this[_0x1acb7b(0x214)][_0x1acb7b(0x2c3)];}else world[_0x1acb7b(0x130)][_0x1acb7b(0x2a1)](_0x1acb7b(0x131)),this['ActionPoint']-=AP_COST_NOWEAPON;return this['dir']=this[_0x1acb7b(0x1f8)](_0xc1dc40[_0x1acb7b(0x2ef)]),!![];},this[_0x2d9dd7(0x269)]=(_0x13be36,_0x142191,_0x3d588a,_0xaa1ad8)=>{var _0xaca986=_0x2d9dd7,_0x3d9307=new Date()[_0xaca986(0x2c9)]();while(this['animation']&&this['animation'][0x0]){!this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)]&&(this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)]=new Date()[_0xaca986(0x2c9)]());if(_0x3d9307>this['animation'][0x0]['startTime']+this['animation'][0x0][_0xaca986(0x353)]){if(this[_0xaca986(0x29a)][0x0][_0xaca986(0x105)])world['players'][_0xaca986(0x3b3)](this[_0xaca986(0x29a)][0x0][_0xaca986(0x105)]);this[_0xaca986(0x29a)]['shift'](),this['needUIRedraw']=!![];}else break;}if(!this[_0xaca986(0x422)]||!this[_0xaca986(0x220)])return![];if(this[_0xaca986(0x214)]){var _0x3bb906=world['playerDefaultImgs'][this[_0xaca986(0x214)][_0xaca986(0x320)]],_0x57795a=PLAYER_WEAPON_IMG[_0xaca986(0x4af)](_0x47c192=>_0x47c192[_0xaca986(0x320)]==this[_0xaca986(0x214)][_0xaca986(0x173)]);if(!_0x3bb906||!_0x57795a)return console[_0xaca986(0x114)](_0xaca986(0x46c)+this['weapon'][_0xaca986(0x320)]);_0x57795a=_0x57795a[_0xaca986(0x253)];}if(!this[_0xaca986(0x29a)]||!this['animation'][0x0]){var _0xde2e6=Math[_0xaca986(0x1a0)](_0x142191+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x1c0)]/0x2),_0xe8b4c6=Math['floor'](_0x3d588a+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x126)]/0x2),_0x2951d5=Math[_0xaca986(0x421)](this[_0xaca986(0x499)][0x0],-this[_0xaca986(0x499)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0xaca986(0x3bd)](_0x3d9307/0x1f4));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x220)],_0xde2e6,_0xe8b4c6,_0xaa1ad8[_0xaca986(0x171)]*this['size'],_0x2951d5);var _0x3a802a=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math['cos'](_0x3d9307/0x12c)),_0x21841a=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x3bd)](_0x3a802a+_0x2951d5-Math['PI']/0x2)),_0x2503ba=Math['floor'](0x64*_0xaa1ad8['scale']*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x3a802a+_0x2951d5-Math['PI']/0x2)),_0x290e91=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8['scale']*this[_0xaca986(0x1c5)]*Math['cos'](-_0x3a802a+_0x2951d5+Math['PI']/0x2)),_0x280286=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this['size']*Math[_0xaca986(0x303)](-_0x3a802a+_0x2951d5+Math['PI']/0x2));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x158)],_0xde2e6+_0x21841a,_0xe8b4c6+_0x2503ba,_0xaa1ad8[_0xaca986(0x171)],_0x3a802a+_0x2951d5);if(this[_0xaca986(0x214)])_0x13be36[_0xaca986(0x4bf)](_0x3bb906[_0xaca986(0x173)],_0xde2e6+_0x290e91,_0xe8b4c6+_0x280286,_0x57795a['x'],_0x57795a['y'],_0xaa1ad8[_0xaca986(0x171)],-_0x3a802a+_0x2951d5);_0x13be36[_0xaca986(0x3ef)](this['handImg'],_0xde2e6+_0x290e91,_0xe8b4c6+_0x280286,0x14,0x14,-_0xaa1ad8[_0xaca986(0x171)],+_0x3a802a-_0x2951d5);}else{if(this[_0xaca986(0x29a)]&&this[_0xaca986(0x29a)][0x0]&&this[_0xaca986(0x29a)][0x0][_0xaca986(0x452)]==PLAYER_ANIMATION_MOVING){var _0xeab7de=this[_0xaca986(0x29a)][0x0];pos=_0xaa1ad8[_0xaca986(0x16d)](_0xeab7de[_0xaca986(0x319)][0x0]+_0xeab7de[_0xaca986(0x499)][0x0],_0xeab7de['from'][0x1]+_0xeab7de[_0xaca986(0x499)][0x1]);var _0xde2e6=Math[_0xaca986(0x1a0)](pos['x']+this[_0xaca986(0x1c5)]*_0xaa1ad8['blocksize_x']/0x2),_0xe8b4c6=Math[_0xaca986(0x1a0)](pos['y']+this[_0xaca986(0x1c5)]*_0xaa1ad8['blocksize_y']/0x2);world[_0xaca986(0x130)][_0xaca986(0x2a1)](_0xaca986(0x4be));var _0x50d454=[this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x0],this['animation'][0x0][_0xaca986(0x499)][0x1]],_0x19ec1a=0x1-(_0x3d9307-this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)])/this[_0xaca986(0x29a)][0x0][_0xaca986(0x353)];_0xde2e6-=_0x50d454[0x0]*_0xaa1ad8['blocksize_x']*_0x19ec1a,_0xe8b4c6-=_0x50d454[0x1]*_0xaa1ad8['blocksize_y']*_0x19ec1a;var _0x2951d5=Math['atan2'](_0x50d454[0x0],-_0x50d454[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math[_0xaca986(0x3bd)](_0x3d9307/0x64));_0x13be36['drawImageRotate'](this[_0xaca986(0x220)],_0xde2e6,_0xe8b4c6,_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)],_0x2951d5);var _0x38a12f=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0xaca986(0x3bd)](_0x3d9307/0x64))+_0x2951d5,_0x11adea=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math['sin'](_0x3d9307/0x64))-_0x2951d5,_0x21841a=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this['size']*Math[_0xaca986(0x3bd)](_0x38a12f-Math['PI']/0x2)),_0x2503ba=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this['size']*Math[_0xaca986(0x303)](_0x38a12f-Math['PI']/0x2)),_0x494f1f=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x3bd)](_0x11adea-Math['PI']/0x2)),_0x2ddff0=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x11adea-Math['PI']/0x2));_0x13be36[_0xaca986(0x18c)](this['handImg'],_0xde2e6+_0x21841a,_0xe8b4c6+_0x2503ba,_0xaa1ad8[_0xaca986(0x171)],_0x38a12f);if(this[_0xaca986(0x214)])_0x13be36[_0xaca986(0x4bf)](_0x3bb906['img'],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,_0x57795a['x'],_0x57795a['y'],_0xaa1ad8[_0xaca986(0x171)],-_0x11adea);_0x13be36[_0xaca986(0x3ef)](this[_0xaca986(0x158)],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,0x14,0x14,_0xaa1ad8['scale'],_0x11adea+Math['PI']);}else{if(this['animation']&&this['animation'][0x0]&&this[_0xaca986(0x29a)][0x0][_0xaca986(0x452)]==PLAYER_ANIMATION_DODGE){var _0xeab7de=this['animation'][0x0],_0x19ec1a=0x1-(_0x3d9307-_0xeab7de[_0xaca986(0x30b)])/_0xeab7de[_0xaca986(0x353)];_0x19ec1a=_0x19ec1a<0.5?0x0:_0x19ec1a>0.75?0x1-(_0x19ec1a-0.5)*0x2:(_0x19ec1a-0.5)*0x2;var _0x24dbfc=_0x19ec1a*Math[_0xaca986(0x3bd)](_0xeab7de['angle'])*0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)],_0x320c61=_0x19ec1a*Math[_0xaca986(0x303)](_0xeab7de['angle'])*0x64*_0xaa1ad8['scale']*this[_0xaca986(0x1c5)],_0xde2e6=_0x24dbfc+Math[_0xaca986(0x1a0)](_0x142191+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x1c0)]/0x2),_0xe8b4c6=_0x320c61+Math[_0xaca986(0x1a0)](_0x3d588a+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x126)]/0x2),_0x2951d5=Math[_0xaca986(0x421)](this[_0xaca986(0x499)][0x0],-this['dir'][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0xaca986(0x3bd)](_0x3d9307/0x1f4));_0x13be36['drawImageRotate'](this['bodyPartImg'],_0xde2e6,_0xe8b4c6,_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)],_0x2951d5);var _0x3a802a=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0xaca986(0x3bd)](_0x3d9307/0x12c)),_0x21841a=Math['floor'](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x3bd)](_0x3a802a+_0x2951d5-Math['PI']/0x2)),_0x2503ba=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x3a802a+_0x2951d5-Math['PI']/0x2)),_0x290e91=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8['scale']*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x3bd)](-_0x3a802a+_0x2951d5+Math['PI']/0x2)),_0x280286=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8['scale']*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](-_0x3a802a+_0x2951d5+Math['PI']/0x2));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x158)],_0xde2e6+_0x21841a,_0xe8b4c6+_0x2503ba,_0xaa1ad8[_0xaca986(0x171)],_0x3a802a+_0x2951d5);if(this[_0xaca986(0x214)])_0x13be36[_0xaca986(0x4bf)](_0x3bb906[_0xaca986(0x173)],_0xde2e6+_0x290e91,_0xe8b4c6+_0x280286,_0x57795a['x'],_0x57795a['y'],_0xaa1ad8[_0xaca986(0x171)],-_0x3a802a+_0x2951d5);_0x13be36['drawImageMirrorRotateCenter'](this[_0xaca986(0x158)],_0xde2e6+_0x290e91,_0xe8b4c6+_0x280286,0x14,0x14,-_0xaa1ad8[_0xaca986(0x171)],+_0x3a802a-_0x2951d5);}else{if(this['animation']&&this[_0xaca986(0x29a)][0x0]&&this[_0xaca986(0x29a)][0x0][_0xaca986(0x452)]==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this[_0xaca986(0x214)]){pos=_0xaa1ad8[_0xaca986(0x16d)](this[_0xaca986(0x29a)][0x0][_0xaca986(0x319)][0x0],this[_0xaca986(0x29a)][0x0]['from'][0x1]);var _0xde2e6=Math[_0xaca986(0x1a0)](pos['x']+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x1c0)]/0x2),_0xe8b4c6=Math['floor'](pos['y']+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x126)]/0x2),_0x50d454=[this[_0xaca986(0x29a)][0x0]['dir'][0x0]-(this['x']+this[_0xaca986(0x1c5)]/0x2)+0.5,this[_0xaca986(0x29a)][0x0]['dir'][0x1]-(this['y']+this[_0xaca986(0x1c5)]/0x2)+0.5],_0x19ec1a=0x1-(_0x3d9307-this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)])/this['animation'][0x0][_0xaca986(0x353)];if(_0x19ec1a>0.5)_0x19ec1a=0x1-_0x19ec1a;_0xde2e6+=_0x50d454[0x0]*_0xaa1ad8[_0xaca986(0x1c0)]*_0x19ec1a,_0xe8b4c6+=_0x50d454[0x1]*_0xaa1ad8[_0xaca986(0x126)]*_0x19ec1a;var _0x2951d5=Math[_0xaca986(0x421)](_0x50d454[0x0],-_0x50d454[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0xaca986(0x3bd)](_0x3d9307/0x64));_0x13be36[_0xaca986(0x18c)](this['bodyPartImg'],_0xde2e6,_0xe8b4c6,_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)],_0x2951d5);var _0x38a12f=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0xaca986(0x3bd)](_0x3d9307/0x64))+_0x2951d5,_0x11adea=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0xaca986(0x303)](_0x3d9307/0x64))-_0x2951d5,_0x21841a=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this['size']*Math['cos'](_0x38a12f-Math['PI']/0x2)),_0x2503ba=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math['sin'](_0x38a12f-Math['PI']/0x2)),_0x494f1f=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x3bd)](_0x11adea-Math['PI']/0x2)),_0x2ddff0=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x11adea-Math['PI']/0x2));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x158)],_0xde2e6+_0x21841a,_0xe8b4c6+_0x2503ba,_0xaa1ad8[_0xaca986(0x171)],_0x38a12f),_0x13be36['drawImageMirrorRotateCenter'](this['handImg'],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,0x14,0x14,_0xaa1ad8[_0xaca986(0x171)],_0x11adea+Math['PI']);}else{if(this[_0xaca986(0x214)][_0xaca986(0x3c3)]==_0xaca986(0x3b6)){pos=_0xaa1ad8[_0xaca986(0x16d)](this[_0xaca986(0x29a)][0x0][_0xaca986(0x319)][0x0],this['animation'][0x0][_0xaca986(0x319)][0x1]);var _0xde2e6=Math['floor'](pos['x']+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x1c0)]/0x2),_0xe8b4c6=Math[_0xaca986(0x1a0)](pos['y']+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x126)]/0x2),_0x50d454=[this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x0]-(this['x']+this[_0xaca986(0x1c5)]/0x2)+0.5,this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x1]-(this['y']+this[_0xaca986(0x1c5)]/0x2)+0.5],_0x19ec1a=0x1-(_0x3d9307-this['animation'][0x0]['startTime'])/this[_0xaca986(0x29a)][0x0][_0xaca986(0x353)];if(_0x19ec1a>0.5)_0x19ec1a=0x1-_0x19ec1a;_0xde2e6+=_0x50d454[0x0]*_0xaa1ad8[_0xaca986(0x1c0)]*_0x19ec1a,_0xe8b4c6+=_0x50d454[0x1]*_0xaa1ad8[_0xaca986(0x126)]*_0x19ec1a;var _0x2951d5=Math[_0xaca986(0x421)](_0x50d454[0x0],-_0x50d454[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0xaca986(0x3bd)](_0x3d9307/0x64));_0x13be36['drawImageRotate'](this[_0xaca986(0x220)],_0xde2e6,_0xe8b4c6,_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)],_0x2951d5);var _0x38a12f=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0xaca986(0x3bd)](_0x3d9307/0x64))+_0x2951d5,_0x11adea=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0xaca986(0x303)](_0x3d9307/0x64))-_0x2951d5,_0x21841a=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8['scale']*this['size']*Math[_0xaca986(0x3bd)](_0x38a12f-Math['PI']/0x2)),_0x2503ba=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this['size']*Math[_0xaca986(0x303)](_0x38a12f-Math['PI']/0x2)),_0x494f1f=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math['cos'](_0x11adea-Math['PI']/0x2)),_0x2ddff0=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x11adea-Math['PI']/0x2));_0x13be36[_0xaca986(0x18c)](this['handImg'],_0xde2e6+_0x21841a,_0xe8b4c6+_0x2503ba,_0xaa1ad8[_0xaca986(0x171)],_0x38a12f);if(this['weapon'])_0x13be36[_0xaca986(0x4bf)](_0x3bb906['img'],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,_0x57795a['x'],_0x57795a['y'],_0xaa1ad8[_0xaca986(0x171)],-_0x11adea);_0x13be36[_0xaca986(0x3ef)](this[_0xaca986(0x158)],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,0x14,0x14,_0xaa1ad8[_0xaca986(0x171)],_0x11adea+Math['PI']);}else{if(this['weapon']['anim']==_0xaca986(0x1ce)){pos=_0xaa1ad8['get_pixel_by_block'](this[_0xaca986(0x29a)][0x0][_0xaca986(0x319)][0x0],this[_0xaca986(0x29a)][0x0]['from'][0x1]);var _0xde2e6=Math['floor'](pos['x']+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x1c0)]/0x2),_0xe8b4c6=Math[_0xaca986(0x1a0)](pos['y']+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x126)]/0x2),_0x50d454=[this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x0]-(this['x']+this[_0xaca986(0x1c5)]/0x2)+0.5,this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x19ec1a=0x1-(_0x3d9307-this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)])/this[_0xaca986(0x29a)][0x0][_0xaca986(0x353)];if(_0x19ec1a>0.5)_0x19ec1a=0x1-_0x19ec1a;var _0x2951d5=Math[_0xaca986(0x421)](_0x50d454[0x0],-_0x50d454[0x1])-Math['PI']/0x2;_0x13be36[_0xaca986(0x18c)](this['bodyPartImg'],_0xde2e6,_0xe8b4c6,_0xaa1ad8['scale']*this[_0xaca986(0x1c5)],_0x2951d5);var _0x38a12f=Math['PI']*0x7/0x10+_0x2951d5,_0x11adea=Math['PI']*0x7/0x10-_0x2951d5,_0x21841a=Math['floor'](0x64*(0x1-_0x19ec1a)*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math['cos'](_0x38a12f-Math['PI']/0x2)),_0x2503ba=Math['floor'](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x38a12f-Math['PI']/0x2)),_0x494f1f=Math['floor'](0x64*_0xaa1ad8['scale']*this['size']*Math[_0xaca986(0x3bd)](_0x11adea-Math['PI']/0x2)),_0x2ddff0=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x11adea-Math['PI']/0x2));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x158)],_0xde2e6+_0x21841a,_0xe8b4c6+_0x2503ba,_0xaa1ad8[_0xaca986(0x171)],_0x38a12f);if(this[_0xaca986(0x214)])_0x13be36[_0xaca986(0x4bf)](_0x3bb906[_0xaca986(0x173)],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,_0x57795a['x'],_0x57795a['y'],_0xaa1ad8[_0xaca986(0x171)],-_0x11adea);_0x13be36['drawImageMirrorRotateCenter'](this[_0xaca986(0x158)],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,0x14,0x14,_0xaa1ad8['scale'],_0x11adea+Math['PI']);}else{if(this[_0xaca986(0x214)][_0xaca986(0x3c3)]==_0xaca986(0x338)){pos=_0xaa1ad8[_0xaca986(0x16d)](this[_0xaca986(0x29a)][0x0][_0xaca986(0x319)][0x0],this[_0xaca986(0x29a)][0x0]['from'][0x1]);var _0xde2e6=Math[_0xaca986(0x1a0)](pos['x']+this[_0xaca986(0x1c5)]*_0xaa1ad8[_0xaca986(0x1c0)]/0x2),_0xe8b4c6=Math['floor'](pos['y']+this['size']*_0xaa1ad8[_0xaca986(0x126)]/0x2),_0x50d454=[this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x0]-(this['x']+this[_0xaca986(0x1c5)]/0x2)+0.5,this['animation'][0x0][_0xaca986(0x499)][0x1]-(this['y']+this[_0xaca986(0x1c5)]/0x2)+0.5],_0x19ec1a=0x1-(_0x3d9307-this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)])/this[_0xaca986(0x29a)][0x0][_0xaca986(0x353)];if(_0x19ec1a>0.5)_0x19ec1a=0x1-_0x19ec1a;_0x19ec1a=_0x19ec1a/0x3,_0xde2e6+=_0x50d454[0x0]*_0xaa1ad8[_0xaca986(0x1c0)]*_0x19ec1a,_0xe8b4c6+=_0x50d454[0x1]*_0xaa1ad8['blocksize_y']*_0x19ec1a;var _0x2951d5=Math[_0xaca986(0x421)](_0x50d454[0x0],-_0x50d454[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0xaca986(0x3bd)](_0x3d9307/0x64));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x220)],_0xde2e6,_0xe8b4c6,_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)],_0x2951d5);var _0x38a12f=getAngleFromTime(0x0,Math['PI']/0x40,Math[_0xaca986(0x3bd)](_0x3d9307/0x64))+_0x2951d5,_0x11adea=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math[_0xaca986(0x303)]((_0x3d9307-this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)])/this['animation'][0x0][_0xaca986(0x353)]*1.1*Math['PI']))-_0x2951d5,_0x21841a=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x3bd)](_0x38a12f-Math['PI']/0x2)),_0x2503ba=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this['size']*Math[_0xaca986(0x303)](_0x38a12f-Math['PI']/0x2)),_0x494f1f=Math['floor'](0x64*_0xaa1ad8[_0xaca986(0x171)]*this['size']*Math[_0xaca986(0x3bd)](_0x11adea-Math['PI']/0x2)),_0x2ddff0=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x11adea-Math['PI']/0x2));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x158)],_0xde2e6+_0x21841a,_0xe8b4c6+_0x2503ba,_0xaa1ad8[_0xaca986(0x171)],_0x38a12f);if(this['weapon'])_0x13be36[_0xaca986(0x4bf)](_0x3bb906['img'],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,_0x57795a['x'],_0x57795a['y'],_0xaa1ad8[_0xaca986(0x171)],_0x2951d5-Math['PI']/0x6);_0x13be36[_0xaca986(0x3ef)](this[_0xaca986(0x158)],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,0x14,0x14,_0xaa1ad8[_0xaca986(0x171)],_0x11adea+Math['PI']);}else{if(this[_0xaca986(0x214)][_0xaca986(0x3c3)]=='sword_2h'){pos=_0xaa1ad8[_0xaca986(0x16d)](this['animation'][0x0][_0xaca986(0x319)][0x0],this[_0xaca986(0x29a)][0x0][_0xaca986(0x319)][0x1]);var _0xde2e6=Math[_0xaca986(0x1a0)](pos['x']+this[_0xaca986(0x1c5)]*_0xaa1ad8['blocksize_x']/0x2),_0xe8b4c6=Math[_0xaca986(0x1a0)](pos['y']+this['size']*_0xaa1ad8[_0xaca986(0x126)]/0x2),_0x50d454=[this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x0]-(this['x']+this[_0xaca986(0x1c5)]/0x2)+0.5,this[_0xaca986(0x29a)][0x0][_0xaca986(0x499)][0x1]-(this['y']+this[_0xaca986(0x1c5)]/0x2)+0.5],_0x19ec1a=0x1-(_0x3d9307-this[_0xaca986(0x29a)][0x0][_0xaca986(0x30b)])/this['animation'][0x0][_0xaca986(0x353)];if(_0x19ec1a>0.5)_0x19ec1a=0x1-_0x19ec1a;_0x19ec1a=_0x19ec1a/0x3,_0xde2e6+=_0x50d454[0x0]*_0xaa1ad8[_0xaca986(0x1c0)]*_0x19ec1a,_0xe8b4c6+=_0x50d454[0x1]*_0xaa1ad8[_0xaca986(0x126)]*_0x19ec1a;var _0x2951d5=Math[_0xaca986(0x421)](_0x50d454[0x0],-_0x50d454[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math[_0xaca986(0x3bd)]((_0x3d9307-this['animation'][0x0][_0xaca986(0x30b)])/this['animation'][0x0]['duration']*0x1*Math['PI']));_0x13be36[_0xaca986(0x18c)](this[_0xaca986(0x220)],_0xde2e6,_0xe8b4c6,_0xaa1ad8['scale']*this[_0xaca986(0x1c5)],_0x2951d5);var _0x11adea=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math['cos']((_0x3d9307-this['animation'][0x0][_0xaca986(0x30b)])/this[_0xaca986(0x29a)][0x0][_0xaca986(0x353)]*0x1*Math['PI']))-_0x2951d5,_0x38a12f=_0x11adea-Math['PI']/0x20,_0x21841a=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math['cos'](_0x38a12f-Math['PI']/0x2)),_0x2503ba=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math['sin'](_0x38a12f-Math['PI']/0x2)),_0x494f1f=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8['scale']*this[_0xaca986(0x1c5)]*Math['cos'](_0x11adea-Math['PI']/0x2)),_0x2ddff0=Math[_0xaca986(0x1a0)](0x64*_0xaa1ad8[_0xaca986(0x171)]*this[_0xaca986(0x1c5)]*Math[_0xaca986(0x303)](_0x11adea-Math['PI']/0x2));_0x13be36[_0xaca986(0x3ef)](this[_0xaca986(0x158)],_0xde2e6+_0x21841a,_0xe8b4c6-_0x2503ba,0x14,0x14,_0xaa1ad8[_0xaca986(0x171)],_0x38a12f+Math['PI']);if(this[_0xaca986(0x214)])_0x13be36['drawImageRotateCenter'](_0x3bb906[_0xaca986(0x173)],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,_0x57795a['x'],_0x57795a['y'],_0xaa1ad8[_0xaca986(0x171)],-_0x11adea);_0x13be36['drawImageMirrorRotateCenter'](this[_0xaca986(0x158)],_0xde2e6+_0x494f1f,_0xe8b4c6-_0x2ddff0,0x14,0x14,_0xaa1ad8[_0xaca986(0x171)],_0x11adea+Math['PI']);}}}}}}}}}},this[_0x2d9dd7(0x383)]=(_0x5738a6,_0x16fee1)=>{var _0x51a921=_0x2d9dd7;if(!_0x5738a6||!_0x16fee1||_0x5738a6[_0x51a921(0x4b4)]>0xc8)return undefined;var _0x5e06a4=_0x5738a6[_0x5738a6[_0x51a921(0x4b4)]-0x1];console[_0x51a921(0x114)]('i\x20am\x20in\x20'+[_0x5e06a4['x'],_0x5e06a4['y']]);if(_0x5e06a4['x']==_0x16fee1['x']&&_0x5e06a4['y']==_0x16fee1['y'])return _0x5738a6;var _0x450368=[{'x':_0x5e06a4['x']+0x1,'y':_0x5e06a4['y']},{'x':_0x5e06a4['x']-0x1,'y':_0x5e06a4['y']},{'x':_0x5e06a4['x'],'y':_0x5e06a4['y']-0x1},{'x':_0x5e06a4['x'],'y':_0x5e06a4['y']+0x1}];_0x450368=_0x450368[_0x51a921(0x335)]((_0x3299dd,_0x30d4ea)=>{return dist(_0x3299dd['x'],_0x3299dd['y'],_0x16fee1['x'],_0x16fee1['y'])-dist(_0x30d4ea['x'],_0x30d4ea['y'],_0x16fee1['x'],_0x16fee1['y']);});for(var _0x201a7a in _0x450368){var _0x1b33ac=_0x450368[_0x201a7a]['x'],_0x2a8468=_0x450368[_0x201a7a]['y'];console[_0x51a921(0x114)]('check\x20next\x20block'+[_0x1b33ac,_0x2a8468]+'?');var _0x2c1779=![];for(var _0x307548 in _0x5738a6)if(_0x5738a6[_0x307548]['x']==_0x1b33ac&&_0x5738a6[_0x307548]['y']==_0x2a8468)_0x2c1779=!![];if(_0x2c1779)continue;if(!world[_0x51a921(0x3ac)]['mapBlock'][_0x1b33ac]||!world[_0x51a921(0x3ac)][_0x51a921(0x23d)][_0x1b33ac][_0x2a8468])continue;var _0x4a6782=world[_0x51a921(0x3ac)][_0x51a921(0x23d)][_0x1b33ac][_0x2a8468];if(_0x4a6782[_0x51a921(0x25c)]&&!(_0x16fee1['x']==_0x4a6782['x']&&_0x16fee1['y']==_0x4a6782['y'])||!_0x4a6782[_0x51a921(0x290)]())continue;console[_0x51a921(0x114)]('let\x20do\x20it');var _0x31bbc6=this[_0x51a921(0x383)](_0x5738a6[_0x51a921(0x39a)]([_0x450368[_0x201a7a]]),_0x16fee1);if(_0x31bbc6)return _0x31bbc6;}return console['log'](_0x51a921(0x22e)),undefined;},this[_0x2d9dd7(0x34c)]=()=>{var _0x5bf00f=_0x2d9dd7;console[_0x5bf00f(0x114)](this['name']+'\x20AI\x20is\x20playing');var _0x56128c=this['capacityList'][_0x5bf00f(0x4af)](_0x1d7c1a=>_0x1d7c1a[_0x5bf00f(0x320)]=='Attack'),_0x15f8c1=_0x56128c[_0x5bf00f(0x1fe)](_0x56128c['zone_selecting_input']);_0x15f8c1=_0x15f8c1[_0x5bf00f(0x4af)](_0x4aae8c=>_0x4aae8c[_0x5bf00f(0x25c)]&&_0x4aae8c[_0x5bf00f(0x25c)][_0x5bf00f(0x176)]!=this[_0x5bf00f(0x176)]);if(this[_0x5bf00f(0x3c8)]({'block':_0x15f8c1}))return![];var _0x4f173c=world['players'][_0x5bf00f(0x45b)]['filter'](_0x2908dd=>_0x2908dd[_0x5bf00f(0x176)]!=this[_0x5bf00f(0x176)]);if(!_0x4f173c||_0x4f173c[_0x5bf00f(0x4b4)]<0x1)return!![];var _0x250c98=_0x4f173c['sort']((_0x4c76e3,_0xf969cb)=>{return dist(this['x'],this['y'],_0x4c76e3['x'],_0x4c76e3['y'])-dist(this['x'],this['y'],_0xf969cb['x'],_0xf969cb['y']);})[0x0];if(!this['AI'][_0x5bf00f(0x2d8)]||this['AI']['path'][_0x5bf00f(0x4b4)]<0xa||dist(this['x'],this['y'],_0x250c98['x'],_0x250c98['y'])<0x5)this['AI']['path']=this[_0x5bf00f(0x383)]([{'x':this['x'],'y':this['y']}],_0x250c98);var _0x53f299=this['AI'][_0x5bf00f(0x2d8)];if(_0x53f299&&_0x53f299[_0x5bf00f(0x4b4)]>0x1)_0x53f299=_0x53f299[0x1];if(this['TryMoveTo']({'block':world[_0x5bf00f(0x3ac)][_0x5bf00f(0x23d)][_0x53f299['x']][_0x53f299['y']]}))return this['AI'][_0x5bf00f(0x2d8)][_0x5bf00f(0x2f9)](),![];return!![];};},PLAYER_FACE_IMG=[_0x2698c6(0x2c5),_0x2698c6(0x416),_0x2698c6(0x38f),_0x2698c6(0x3ab),_0x2698c6(0x453)],PLAYER_BODY_IMG=[_0x2698c6(0x492),_0x2698c6(0x1e0),_0x2698c6(0x142),_0x2698c6(0x481),_0x2698c6(0x284)],PROJECTIL_IMG=['wood_arrow'],PlayersManager=function(_0x122076){var _0x4ebb1d=_0x2698c6;this['playerList']=[],this[_0x4ebb1d(0x1c2)]=undefined,this[_0x4ebb1d(0x1c8)]=![],this[_0x4ebb1d(0x4d2)]=undefined,this['canvasPUI']=world[_0x4ebb1d(0x3b5)][_0x4ebb1d(0x463)][_0x4ebb1d(0x460)],this[_0x4ebb1d(0x334)]=world[_0x4ebb1d(0x3b5)][_0x4ebb1d(0x463)][_0x4ebb1d(0x460)],this[_0x4ebb1d(0x189)]=!![],this[_0x4ebb1d(0x328)]=new MessageSystem(),this[_0x4ebb1d(0x46d)]=[],this[_0x4ebb1d(0x3b3)]=_0x52dd49=>{var _0x42a3e2=_0x4ebb1d;if(!_0x52dd49||!_0x52dd49[_0x42a3e2(0x4a7)]||!_0x52dd49['posB']||!_0x52dd49[_0x42a3e2(0x1f4)]||!_0x52dd49[_0x42a3e2(0x1e5)])return;var _0x225a49=_0x52dd49[_0x42a3e2(0x4a7)],_0x215ffa=_0x52dd49[_0x42a3e2(0x22a)];this[_0x42a3e2(0x46d)][_0x42a3e2(0x217)]({'posA':_0x225a49,'posB':_0x215ffa,'angle':Math['atan2'](_0x215ffa['y']-_0x225a49['y'],_0x215ffa['x']-_0x225a49['x']),'name':_0x52dd49[_0x42a3e2(0x1f4)],'duration':_0x52dd49[_0x42a3e2(0x1e5)]?_0x52dd49[_0x42a3e2(0x1e5)]*dist(_0x225a49['x'],_0x225a49['y'],_0x215ffa['x'],_0x215ffa['y']):0x64});if(_0x52dd49['sound'])world[_0x42a3e2(0x130)][_0x42a3e2(0x2a1)](_0x52dd49[_0x42a3e2(0x3a8)]);},this['drawProjectiles']=()=>{var _0x49adbf=_0x4ebb1d,_0xa90adc=new Date()['getTime']();for(var _0x5bd22f in this[_0x49adbf(0x46d)]){if(this[_0x49adbf(0x46d)][_0x5bd22f][_0x49adbf(0x30b)]&&_0xa90adc-this[_0x49adbf(0x46d)][_0x5bd22f]['startTime']>this[_0x49adbf(0x46d)][_0x5bd22f][_0x49adbf(0x353)])this[_0x49adbf(0x46d)][_0x49adbf(0x2e9)](_0x5bd22f,0x1);else{if(!this['projectilAnimation'][_0x5bd22f][_0x49adbf(0x30b)])this['projectilAnimation'][_0x5bd22f][_0x49adbf(0x30b)]=_0xa90adc;}}var _0x135d83=world['map'],_0x1ebfb0=this['canvasPlayer'];for(var _0x5bd22f in this[_0x49adbf(0x46d)]){var _0x2c051a=this['projectilAnimation'][_0x5bd22f],_0x5d7b45=(_0xa90adc-_0x2c051a[_0x49adbf(0x30b)])/_0x2c051a[_0x49adbf(0x353)],_0x2a9170=_0x5d7b45>0.5?0x1-_0x5d7b45:_0x5d7b45,_0xc1c7a6=_0x2c051a['posA']['x']+_0x5d7b45*(_0x2c051a[_0x49adbf(0x22a)]['x']-_0x2c051a[_0x49adbf(0x4a7)]['x']),_0x1c3784=_0x2c051a[_0x49adbf(0x4a7)]['y']+_0x5d7b45*(_0x2c051a[_0x49adbf(0x22a)]['y']-_0x2c051a[_0x49adbf(0x4a7)]['y']),_0x7260d7=_0x135d83['get_pixel_by_pos'](_0xc1c7a6,_0x1c3784);if(_0x7260d7['x']<0x0||_0x7260d7['y']<0x0||_0x7260d7['x']>_0x1ebfb0[_0x49adbf(0x470)]||_0x7260d7['y']>_0x1ebfb0[_0x49adbf(0x184)])continue;_0x1ebfb0['drawImageRotate'](world[_0x49adbf(0x1c2)][_0x2c051a[_0x49adbf(0x320)]][_0x49adbf(0x173)],_0x7260d7['x'],_0x7260d7['y'],_0x135d83[_0x49adbf(0x171)]*(0.5+_0x2a9170*0x3),_0x2c051a[_0x49adbf(0x313)]);}},this['delete_player']=_0x190be5=>{var _0x597ae4=_0x4ebb1d;if(!_0x190be5)return console[_0x597ae4(0x114)]('can\x27t\x20delete\x20this\x20player');_0x190be5[_0x597ae4(0x149)]=!![],world[_0x597ae4(0x40c)][_0x597ae4(0x19d)](_0x190be5);if(_0x190be5&&_0x190be5['x']!=undefined&&_0x190be5['y']!=undefined){for(var _0x14a136=_0x190be5['x'];_0x14a136<_0x190be5['x']+_0x190be5[_0x597ae4(0x1c5)];_0x14a136++)for(var _0x4601bf=_0x190be5['y'];_0x4601bf<_0x190be5['y']+_0x190be5['size'];_0x4601bf++)if(world[_0x597ae4(0x3ac)][_0x597ae4(0x23d)][_0x14a136]&&world[_0x597ae4(0x3ac)][_0x597ae4(0x23d)][_0x14a136][_0x4601bf]&&world[_0x597ae4(0x3ac)]['mapBlock'][_0x14a136][_0x4601bf][_0x597ae4(0x25c)]==_0x190be5)world[_0x597ae4(0x3ac)][_0x597ae4(0x23d)][_0x14a136][_0x4601bf][_0x597ae4(0x25c)]=undefined;}var _0x4f2acb=0x0;while(this[_0x597ae4(0x45b)][_0x4f2acb]){if(this['playerList'][_0x4f2acb]==_0x190be5){this[_0x597ae4(0x45b)]['splice'](_0x4f2acb,0x1);break;}_0x4f2acb++;}},this[_0x4ebb1d(0x1ca)]=()=>{var _0x47670c=_0x4ebb1d,_0x46b12f=_0x47670c(0x344);this[_0x47670c(0x1c2)]=[];var _0x324448=[[_0x47670c(0x27f),_0x46b12f+_0x47670c(0x3ff)]];for(var _0x4389e4 in WEAPON_TYPE){var _0x472919=WEAPON_TYPE[_0x4389e4][_0x47670c(0x320)],_0x2bb1d0=WEAPON_TYPE[_0x4389e4][_0x47670c(0x49c)];_0x324448[_0x47670c(0x217)]([_0x472919,_0x46b12f+_0x47670c(0x29b)+_0x2bb1d0+'.png']),_0x324448[_0x47670c(0x217)]([_0x472919+_0x47670c(0x16a),_0x46b12f+_0x47670c(0x29b)+_0x2bb1d0+'_icon'+_0x47670c(0x1a1)]);}for(var _0x4389e4 in PLAYER_BODY_IMG){var _0x472919=PLAYER_BODY_IMG[_0x4389e4];_0x324448[_0x47670c(0x217)]([_0x472919,_0x46b12f+'body/'+_0x472919+_0x47670c(0x1a1)]);}for(var _0x4389e4 in PLAYER_FACE_IMG){var _0x472919=PLAYER_FACE_IMG[_0x4389e4];_0x324448[_0x47670c(0x217)]([_0x472919,_0x46b12f+_0x47670c(0x406)+_0x472919+_0x47670c(0x1a1)]);}for(var _0x4389e4 in PLAYER_ARMOR){var _0x472919=PLAYER_ARMOR[_0x4389e4][_0x47670c(0x320)],_0x2bb1d0=PLAYER_ARMOR[_0x4389e4]['img'];_0x324448[_0x47670c(0x217)]([_0x472919,_0x46b12f+_0x47670c(0x211)+_0x2bb1d0+_0x47670c(0x1a1)]),_0x324448[_0x47670c(0x217)]([_0x472919+_0x47670c(0x16a),_0x46b12f+_0x47670c(0x211)+_0x2bb1d0+_0x47670c(0x16a)+'.png']);}for(var _0x4389e4 in PROJECTIL_IMG){var _0x472919=PROJECTIL_IMG[_0x4389e4];_0x324448[_0x47670c(0x217)]([_0x472919,_0x46b12f+'weapon/projectil/'+_0x472919+_0x47670c(0x1a1)]);}for(var _0x4389e4 in _0x324448){console[_0x47670c(0x114)](_0x47670c(0x321)+_0x324448[_0x4389e4]),this['playerDefaultImgs'][_0x324448[_0x4389e4][0x0]]=new myImage(_0x324448[_0x4389e4][0x0],_0x324448[_0x4389e4][0x1]);}world[_0x47670c(0x1c2)]=this[_0x47670c(0x1c2)];},this['createNewPlayer']=(_0x4949cd,_0x3f208d,_0x9894ae,_0x42fe1c,_0x326ea1)=>{var _0x14bb72=_0x4ebb1d,_0x32e65a=new Player(_0x4949cd,_0x3f208d,_0x9894ae,_0x42fe1c,_0x326ea1);return _0x32e65a[_0x14bb72(0x4d1)](_0x32e65a,world[_0x14bb72(0x3ac)]),_0x32e65a[_0x14bb72(0x43a)](),_0x32e65a['gaugeSpeed']=0x0,_0x32e65a;},this[_0x4ebb1d(0x36f)]=_0x83dea2=>{var _0x17d934=_0x4ebb1d;if(!_0x83dea2||!_0x83dea2[_0x17d934(0x25c)]||_0x83dea2['x']==undefined||_0x83dea2['y']==undefined)return console['log'](_0x17d934(0x175));console[_0x17d934(0x114)](_0x17d934(0x255)+[_0x83dea2['x'],_0x83dea2['y'],_0x83dea2['player'][_0x17d934(0x1c5)]]);var _0x5a80ae=_0x83dea2[_0x17d934(0x25c)],_0x266aac=_0x83dea2['x'],_0x232d6b=_0x83dea2['y'],_0x5a2bd8=_0x83dea2[_0x17d934(0x176)]?_0x83dea2['team']:TEAM_HUMAN,_0x11451c=world['map'];if(_0x266aac<0x0||_0x266aac+_0x5a80ae[_0x17d934(0x1c5)]-0x1>=_0x11451c['width']||_0x232d6b<0x0||_0x232d6b+_0x5a80ae['size']-0x1>=_0x11451c[_0x17d934(0x184)])return![];for(var _0x1561c0=_0x266aac;_0x1561c0<_0x266aac+_0x5a80ae[_0x17d934(0x1c5)];_0x1561c0++){for(var _0xa4eb1f=_0x232d6b;_0xa4eb1f<_0x232d6b+_0x5a80ae[_0x17d934(0x1c5)];_0xa4eb1f++){if(_0x11451c[_0x17d934(0x23d)][_0x1561c0][_0xa4eb1f][_0x17d934(0x25c)])return![];if(!_0x11451c[_0x17d934(0x23d)][_0x1561c0][_0xa4eb1f][_0x17d934(0x290)]())return![];}}var _0x3090cd=this[_0x17d934(0x108)](_0x266aac,_0x232d6b,_0x5a80ae[_0x17d934(0x1c5)],_0x5a80ae[_0x17d934(0x466)],_0x5a2bd8);if(!_0x3090cd)return![];_0x3090cd[_0x17d934(0x320)]=_0x5a80ae[_0x17d934(0x320)],_0x3090cd['face_type']=_0x5a80ae['face_type'],_0x3090cd[_0x17d934(0x24b)]=_0x5a80ae[_0x17d934(0x24b)],_0x3090cd[_0x17d934(0x41c)]=_0x5a80ae[_0x17d934(0x41c)],_0x3090cd[_0x17d934(0x214)]=_0x5a80ae[_0x17d934(0x214)],_0x3090cd[_0x17d934(0x36c)]=_0x5a80ae['speed'],_0x3090cd[_0x17d934(0x3d7)]=_0x5a80ae[_0x17d934(0x3d7)],_0x3090cd[_0x17d934(0x1ad)]=_0x5a80ae[_0x17d934(0x1ad)],_0x3090cd[_0x17d934(0x25f)]=_0x5a80ae[_0x17d934(0x1ad)],_0x3090cd[_0x17d934(0x378)]=_0x5a80ae[_0x17d934(0x378)],_0x3090cd[_0x17d934(0x45f)]=_0x5a80ae[_0x17d934(0x45f)],_0x3090cd[_0x17d934(0x1c5)]=_0x5a80ae['size'],_0x3090cd['id']=_0x5a80ae['id'];if(_0x5a2bd8==TEAM_AI)_0x3090cd[_0x17d934(0x499)]=[-0x1,0x0];for(var _0x1561c0=_0x266aac;_0x1561c0<_0x266aac+_0x5a80ae[_0x17d934(0x1c5)];_0x1561c0++){for(var _0xa4eb1f=_0x232d6b;_0xa4eb1f<_0x232d6b+_0x5a80ae[_0x17d934(0x1c5)];_0xa4eb1f++){_0x11451c[_0x17d934(0x23d)][_0x1561c0][_0xa4eb1f][_0x17d934(0x25c)]=_0x3090cd;}}return _0x3090cd[_0x17d934(0x43a)](),this[_0x17d934(0x45b)]['push'](_0x3090cd),!![];},this['createPlayer']=_0x5d9388=>{var _0x13e663=_0x4ebb1d;if(!_0x5d9388||_0x5d9388['x']===undefined||_0x5d9388['y']===undefined)return![];var _0x1e7b4f=_0x5d9388['x'],_0x5964d6=_0x5d9388['y'],_0x4d58f7=_0x5d9388[_0x13e663(0x466)]?_0x5d9388[_0x13e663(0x466)]:{'r':Math[_0x13e663(0x1a0)](Math[_0x13e663(0x4a5)]()*0x100),'g':Math[_0x13e663(0x1a0)](Math['random']()*0x100),'b':Math[_0x13e663(0x1a0)](Math['random']()*0x100)},_0x530502=_0x5d9388['size']||_0x5d9388[_0x13e663(0x1c5)]<0x1?_0x5d9388['size']:0x1,_0x2d799a=_0x5d9388[_0x13e663(0x176)]?_0x5d9388['team']:TEAM_HUMAN,_0x306625=world[_0x13e663(0x3ac)];if(_0x1e7b4f<0x0||_0x1e7b4f+_0x530502-0x1>=_0x306625[_0x13e663(0x470)]||_0x5964d6<0x0||_0x5964d6+_0x530502-0x1>=_0x306625[_0x13e663(0x184)])return![];for(var _0x25add8=_0x1e7b4f;_0x25add8<_0x1e7b4f+_0x530502;_0x25add8++){for(var _0x372be9=_0x5964d6;_0x372be9<_0x5964d6+_0x530502;_0x372be9++){if(_0x306625[_0x13e663(0x23d)][_0x25add8][_0x372be9][_0x13e663(0x25c)])return![];if(!_0x306625[_0x13e663(0x23d)][_0x25add8][_0x372be9]['getMoveCost']())return![];}}var _0x2a64aa=this[_0x13e663(0x108)](_0x1e7b4f,_0x5964d6,_0x530502,_0x4d58f7,_0x2d799a);_0x2a64aa['id']=PLAYER_ID++,nameList=[_0x13e663(0x1b5),'Argoo',_0x13e663(0x147),_0x13e663(0x1bd),'Azyla',_0x13e663(0x298),_0x13e663(0x3bc),_0x13e663(0x312),_0x13e663(0x477),_0x13e663(0x43e)],_0x2a64aa[_0x13e663(0x320)]=nameList[Math[_0x13e663(0x1a0)](Math[_0x13e663(0x4a5)]()*nameList[_0x13e663(0x4b4)])]+'\x20#'+Math[_0x13e663(0x1a0)](Math[_0x13e663(0x4a5)]()*0x64),_0x2a64aa[_0x13e663(0x214)]=new Weapon()[_0x13e663(0x3dc)](),_0x2a64aa[_0x13e663(0x41c)]=new Armor()[_0x13e663(0x153)]();if(_0x2d799a==TEAM_AI)_0x2a64aa[_0x13e663(0x499)]=[-0x1,0x0];for(var _0x25add8=_0x1e7b4f;_0x25add8<_0x1e7b4f+_0x530502;_0x25add8++){for(var _0x372be9=_0x5964d6;_0x372be9<_0x5964d6+_0x530502;_0x372be9++){_0x306625['mapBlock'][_0x25add8][_0x372be9][_0x13e663(0x25c)]=_0x2a64aa;}}return _0x2a64aa['speed']=_0x5d9388[_0x13e663(0x36c)]?_0x5d9388['speed']:Math['round'](_0x2a64aa[_0x13e663(0x36c)]*(0.8+Math[_0x13e663(0x4a5)]()*0.4)),_0x2a64aa[_0x13e663(0x43a)](),this[_0x13e663(0x45b)][_0x13e663(0x217)](_0x2a64aa),_0x2a64aa;},this[_0x4ebb1d(0x2de)]=()=>{var _0x247809=_0x4ebb1d,_0x48cd3a=world[_0x247809(0x3ac)];if(!_0x48cd3a||!_0x48cd3a['topleft_block']||!_0x48cd3a[_0x247809(0x28c)])return;var _0x460918=_0x48cd3a[_0x247809(0x3b4)]['x'],_0x187a73=_0x48cd3a[_0x247809(0x3b4)]['y'],_0x2496e8=_0x48cd3a[_0x247809(0x28c)]['x'],_0x567ef6=_0x48cd3a[_0x247809(0x28c)]['y'],_0x5d9d34=[],_0x4261e8=[];for(var _0x263992=_0x460918;_0x263992<=_0x2496e8;_0x263992++){for(var _0x4202c1=_0x187a73;_0x4202c1<=_0x567ef6;_0x4202c1++){var _0x4d12d7=_0x48cd3a[_0x247809(0x23d)][_0x263992][_0x4202c1][_0x247809(0x25c)];if(!_0x4d12d7||_0x4261e8['find'](_0xd4ac1a=>_0xd4ac1a==_0x4d12d7))continue;if(_0x4d12d7==this['Playerturn'])_0x4261e8[_0x247809(0x217)](_0x4d12d7);else _0x4261e8[_0x247809(0x366)](_0x4d12d7);}}for(var _0x1eda7f in _0x4261e8){var _0x4d12d7=_0x4261e8[_0x1eda7f];if(!_0x4d12d7[_0x247809(0x220)]||!_0x4d12d7['bodyPartImgReady'])_0x4d12d7['LoadPlayerImage'](this[_0x247809(0x1c2)]);var _0x413caa=_0x48cd3a[_0x247809(0x16d)](_0x4d12d7['x'],_0x4d12d7['y']);if(_0x413caa)_0x4d12d7[_0x247809(0x269)](this[_0x247809(0x334)],_0x413caa['x'],_0x413caa['y'],_0x48cd3a);else continue;_0x4d12d7[_0x247809(0x3af)]&&(this['pUI_need_redraw']=!![],_0x4d12d7[_0x247809(0x3af)]=![]);var _0x292ad1=new MyUI(this['canvasPUI'],_0x413caa['x']-_0x48cd3a[_0x247809(0x1c0)]/0x4,_0x413caa['y']-_0x48cd3a[_0x247809(0x126)]/0x4,0x64*world[_0x247809(0x3ac)][_0x247809(0x171)],world[_0x247809(0x3ac)][_0x247809(0x171)],undefined,undefined,0x1),_0x3e3e9b=_0x4d12d7['team']==TEAM_HUMAN?_0x247809(0x151):_0x247809(0x1bc);_0x292ad1[_0x247809(0x2c6)](_0x4d12d7['name'],Math[_0x247809(0x1a0)](0x28*world[_0x247809(0x3ac)]['scale']),0x10,_0x3e3e9b,PLAYER_NAME_FONT);var _0x341857=Math[_0x247809(0x1a0)](0x14*world[_0x247809(0x3ac)][_0x247809(0x171)]);if(_0x4d12d7==this[_0x247809(0x4d2)])_0x292ad1[_0x247809(0x4cb)](_0x247809(0x186)+Math[_0x247809(0x1a0)](0x64*_0x4d12d7[_0x247809(0x256)]/_0x4d12d7[_0x247809(0x3d7)]),_0x4d12d7['ActionPoint']/_0x4d12d7[_0x247809(0x3d7)],Math[_0x247809(0x1a0)](0x64*world[_0x247809(0x3ac)][_0x247809(0x171)]),_0x341857+0x1,_0x341857,_0x247809(0x197),_0x247809(0x4ae),'#000000');else _0x292ad1[_0x247809(0x4cb)](_0x247809(0x4c7)+Math['floor'](0x64*_0x4d12d7[_0x247809(0x337)])+'\x20%',_0x4d12d7['gaugeSpeed'],Math[_0x247809(0x1a0)](0x64*world['map'][_0x247809(0x171)]),_0x341857+0x1,_0x341857,_0x247809(0x197),_0x247809(0x4ae),_0x247809(0x384));_0x292ad1[_0x247809(0x4cb)](_0x247809(0x3f2)+Math['floor'](_0x4d12d7[_0x247809(0x25f)])+'/'+Math[_0x247809(0x1a0)](_0x4d12d7[_0x247809(0x1ad)]),_0x4d12d7['life']/_0x4d12d7[_0x247809(0x1ad)],Math['floor'](0x64*world[_0x247809(0x3ac)][_0x247809(0x171)]),_0x341857+0x1,_0x341857,_0x247809(0x197),_0x247809(0x20b),_0x247809(0x384)),_0x5d9d34[_0x247809(0x217)](_0x292ad1);}if(this[_0x247809(0x189)]){this[_0x247809(0x4c1)][_0x247809(0x12d)]();for(var _0x1eda7f in _0x5d9d34){_0x5d9d34[_0x1eda7f][_0x247809(0x156)]();}this[_0x247809(0x189)]=![];}this[_0x247809(0x33f)]();},this[_0x4ebb1d(0x2f6)]=_0x3fdf29=>{var _0x34378e=_0x4ebb1d;if(!_0x3fdf29||_0x3fdf29['x']==undefined||_0x3fdf29['y']==undefined)return undefined;return this[_0x34378e(0x45b)][_0x34378e(0x4af)](_0x826dba=>_0x826dba['x']==_0x3fdf29['x']&&_0x826dba['y']==_0x3fdf29['y']);},this[_0x4ebb1d(0x314)]=()=>{var _0x213251=_0x4ebb1d,_0xf98594=undefined,_0x19aff6=0x0,_0x227b6c=0x0;for(var _0x1db304 in this[_0x213251(0x45b)]){var _0x2f66e4=this[_0x213251(0x45b)][_0x1db304];if((0x1-_0x2f66e4['gaugeSpeed'])/_0x2f66e4[_0x213251(0x36c)]<=(0x1-_0x19aff6)/_0x227b6c){if(_0xf98594&&(0x1-_0x2f66e4[_0x213251(0x337)])*_0x2f66e4['speed']==(0x1-_0x19aff6)*_0x227b6c){if(_0xf98594[_0x213251(0x36c)]>_0x2f66e4[_0x213251(0x36c)])continue;}_0xf98594=_0x2f66e4,_0x19aff6=_0x2f66e4[_0x213251(0x337)],_0x227b6c=_0x2f66e4[_0x213251(0x36c)];}}if(!_0xf98594)return undefined;for(var _0x1db304 in this[_0x213251(0x45b)]){var _0x2f66e4=this[_0x213251(0x45b)][_0x1db304];_0x2f66e4[_0x213251(0x337)]+=(0x1-_0x19aff6)*(_0x2f66e4[_0x213251(0x36c)]/_0x227b6c);}return _0xf98594;},this[_0x4ebb1d(0x47c)]=_0x485d4a=>{var _0x4a19d5=_0x4ebb1d,_0x1b46bf=[],_0x557bf4=[];for(var _0x15029c in this[_0x4a19d5(0x45b)]){var _0x403661=this[_0x4a19d5(0x45b)][_0x15029c];_0x557bf4[_0x15029c]={'player':_0x403661,'gaugeSpeed':_0x403661[_0x4a19d5(0x337)],'speed':_0x403661[_0x4a19d5(0x36c)]};}if(_0x485d4a<0x0||_0x557bf4['length']<0x1)return[];for(var _0x9ee4a0=0x0;_0x9ee4a0<_0x485d4a;_0x9ee4a0++){var _0xca505d=undefined,_0xa8fab5=0x0,_0x487b26=0x0;for(var _0x15029c in _0x557bf4){var _0x403661=_0x557bf4[_0x15029c];if((0x1-_0x403661['gaugeSpeed'])/_0x403661['speed']<=(0x1-_0xa8fab5)/_0x487b26){if(_0xca505d&&(0x1-_0x403661[_0x4a19d5(0x337)])*_0x403661[_0x4a19d5(0x36c)]==(0x1-_0xa8fab5)*_0x487b26){if(_0xca505d[_0x4a19d5(0x36c)]>_0x403661['speed'])continue;}_0xca505d=_0x403661,_0xa8fab5=_0x403661[_0x4a19d5(0x337)],_0x487b26=_0x403661[_0x4a19d5(0x36c)];}}if(!_0xca505d)continue;for(var _0x15029c in _0x557bf4){var _0x403661=_0x557bf4[_0x15029c];_0x403661[_0x4a19d5(0x337)]+=(0x1-_0xa8fab5)*(_0x403661[_0x4a19d5(0x36c)]/_0x487b26);}_0xca505d[_0x4a19d5(0x337)]=0x0,_0x1b46bf[_0x4a19d5(0x217)](_0xca505d[_0x4a19d5(0x25c)]);}return _0x1b46bf;},this[_0x4ebb1d(0x474)]=_0x42c1f4=>{var _0x46f8cf=_0x4ebb1d,_0x56b4ab=this[_0x46f8cf(0x45b)][_0x46f8cf(0x4af)](_0x18c2eb=>_0x18c2eb[_0x46f8cf(0x176)]==TEAM_AI),_0x56c134=this['playerList'][_0x46f8cf(0x4af)](_0x361dc5=>_0x361dc5[_0x46f8cf(0x176)]==TEAM_HUMAN);if(!_0x56b4ab||!_0x56c134){console[_0x46f8cf(0x114)](_0x46f8cf(0x489)),this[_0x46f8cf(0x360)]();return;}world[_0x46f8cf(0x205)]&&(world[_0x46f8cf(0x205)][_0x46f8cf(0x219)]=undefined,world[_0x46f8cf(0x205)][_0x46f8cf(0x3bf)]=undefined,world['GameUI'][_0x46f8cf(0x343)]=undefined,world[_0x46f8cf(0x205)]['highlightZone']=undefined);if(world[_0x46f8cf(0x460)][_0x46f8cf(0x4d2)]&&world['players'][_0x46f8cf(0x4d2)]['AI']&&!world['players'][_0x46f8cf(0x4d2)]['AI'][_0x46f8cf(0x22d)])return;if(this['Playerturn'])this['Playerturn'][_0x46f8cf(0x337)]=0x0;this[_0x46f8cf(0x4d2)]=this[_0x46f8cf(0x314)]();if(!this[_0x46f8cf(0x4d2)])return;this['MessageSystem']['addMessage']({'type':this[_0x46f8cf(0x4d2)]['team'],'txt':this[_0x46f8cf(0x4d2)][_0x46f8cf(0x320)]+_0x46f8cf(0x203)});if(_0x42c1f4[_0x46f8cf(0x3ac)])_0x42c1f4[_0x46f8cf(0x3ac)][_0x46f8cf(0x397)](this[_0x46f8cf(0x4d2)]);if(_0x42c1f4[_0x46f8cf(0x205)])_0x42c1f4[_0x46f8cf(0x205)][_0x46f8cf(0x219)]=this[_0x46f8cf(0x4d2)];this[_0x46f8cf(0x4d2)][_0x46f8cf(0x256)]=this[_0x46f8cf(0x4d2)][_0x46f8cf(0x3d7)];if(this[_0x46f8cf(0x4d2)]['AI'])this[_0x46f8cf(0x4d2)]['AI'][_0x46f8cf(0x22d)]=![];},this['endFight']=()=>{var _0x15d2d7=_0x4ebb1d;world[_0x15d2d7(0x205)]=undefined,world['map']=undefined,world[_0x15d2d7(0x1fa)]=new VillageUI(world[_0x15d2d7(0x3b5)][_0x15d2d7(0x463)][_0x15d2d7(0x205)]),world['Screen'][_0x15d2d7(0x463)][_0x15d2d7(0x150)][_0x15d2d7(0x4c4)](),world[_0x15d2d7(0x3b5)]['canList'][_0x15d2d7(0x150)][_0x15d2d7(0x12d)](),world['Screen'][_0x15d2d7(0x463)]['mapTopElem'][_0x15d2d7(0x4c4)](),world[_0x15d2d7(0x3b5)]['canList'][_0x15d2d7(0x37d)][_0x15d2d7(0x12d)](),world[_0x15d2d7(0x3b5)][_0x15d2d7(0x463)]['players']['GetCanvasPos'](),world[_0x15d2d7(0x3b5)][_0x15d2d7(0x463)][_0x15d2d7(0x460)][_0x15d2d7(0x12d)](),world['Screen'][_0x15d2d7(0x463)]['mapUI'][_0x15d2d7(0x4c4)](),world[_0x15d2d7(0x3b5)][_0x15d2d7(0x463)]['mapUI'][_0x15d2d7(0x12d)](),world[_0x15d2d7(0x130)]['stopSound']('where-the-brave-may-live-forever'),world[_0x15d2d7(0x40c)]['battle']=![],world[_0x15d2d7(0x40c)]['MessageSystem']['addMessage']({'txt':_0x15d2d7(0x170)});};},GameUI=function(_0x2a6745){var _0x18eb60=_0x2698c6;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT='\x27Footlight\x20MT\x20Light\x27',GAME_UI_FONT_BUTTON=_0x18eb60(0x231),GAME_UI_WINDOWINFO_MOUSETIME=0x190,this[_0x18eb60(0x166)]=_0x2a6745,this['lenx']=GAME_UI_DEFAULTSIZE_X,this[_0x18eb60(0x171)]=0x1,this[_0x18eb60(0x3ec)]=_0x18eb60(0x36b),this[_0x18eb60(0x407)]=_0x18eb60(0x148),this[_0x18eb60(0x475)]=GAME_UI_DEFAULTMARGE,this[_0x18eb60(0x409)]=!![],this[_0x18eb60(0x2bb)]=undefined,this['UI']=undefined,this['PlayerInfodisplay']=![],this[_0x18eb60(0x2b3)]=undefined,this[_0x18eb60(0x237)]=![],this[_0x18eb60(0x199)]=undefined,this[_0x18eb60(0x26d)]=![],this[_0x18eb60(0x3df)]={'value':0x0},this[_0x18eb60(0x219)]=undefined,this[_0x18eb60(0x3bf)]=undefined,this['selecting_block']=undefined,this[_0x18eb60(0x182)]=undefined,this['mouseInfoWindow']=undefined,this[_0x18eb60(0x19e)]=undefined,this[_0x18eb60(0x38a)]={'x':0xa,'y':0xa},this[_0x18eb60(0x1c1)]=!![],this[_0x18eb60(0x402)]=()=>{var _0x5999c6=_0x18eb60;window['addEventListener'](_0x5999c6(0x1b0),_0x37d1f9=>{var _0xbf80d3=_0x5999c6,_0xcdc892=![];this[_0xbf80d3(0x2b3)]&&this['UIturn']['mouse_move_check'](_0x37d1f9['clientX'],_0x37d1f9[_0xbf80d3(0x38b)])&&!this[_0xbf80d3(0x1c1)]&&(this[_0xbf80d3(0x409)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0xcdc892=!![]);this['UI']&&this['UI'][_0xbf80d3(0x4cc)](_0x37d1f9[_0xbf80d3(0x267)],_0x37d1f9[_0xbf80d3(0x38b)])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0xbf80d3(0x409)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0xcdc892=!![]);this[_0xbf80d3(0x199)]&&this[_0xbf80d3(0x199)]['mouse_move_check'](_0x37d1f9[_0xbf80d3(0x267)],_0x37d1f9[_0xbf80d3(0x38b)])&&!this[_0xbf80d3(0x1c1)]&&(this[_0xbf80d3(0x409)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0xcdc892=!![]);!_0xcdc892&&this[_0xbf80d3(0x1c1)]&&(this[_0xbf80d3(0x1c1)]=![],this[_0xbf80d3(0x409)]=!![]);if(this==world['GameUI'])this['init_check_mouse_move']();},{'once':!![]});},this['init_check_mouse_move'](),this[_0x18eb60(0x17d)]=_0x34f1a7=>{var _0xced9b0=_0x18eb60;if(!world[_0xced9b0(0x352)])return![];var _0x413979=world[_0xced9b0(0x352)][_0xced9b0(0x291)];if(!_0x413979)return![];if(new Date()[_0xced9b0(0x2c9)]()-_0x413979[_0xced9b0(0x3b8)]<GAME_UI_WINDOWINFO_MOUSETIME)return this[_0xced9b0(0x19e)]&&(this['InfoWinfowPos']=![],this['needRedraw']=!![]),![];if(this['UI']&&this['UI'][_0xced9b0(0x17d)](_0x34f1a7))return!![];if(this[_0xced9b0(0x2b3)]&&this[_0xced9b0(0x2b3)][_0xced9b0(0x17d)](_0x34f1a7))return!![];if(this[_0xced9b0(0x199)]&&this[_0xced9b0(0x199)][_0xced9b0(0x17d)](_0x34f1a7))return!![];if(!this[_0xced9b0(0x22b)])return![];if(!this['InfoWinfowPos'])this[_0xced9b0(0x19e)]={'x':_0x413979['x'],'y':_0x413979['y']};else{if(!_0x34f1a7&&_0x413979['x']==this['InfoWinfowPos']['x']&&_0x413979['y']==this[_0xced9b0(0x19e)]['y'])return![];}var _0x118f3e=new MyUI(this[_0xced9b0(0x166)],_0x413979['x'],_0x413979['y'],0x32,0x1,this['background'],this['stroke'],0x1);_0x118f3e[_0xced9b0(0x2c6)](_0xced9b0(0x111),GAME_UI_LETTER_SIZE/0x2,0x270f,_0xced9b0(0x384),GAME_UI_FONT);var _0x1150af=world[_0xced9b0(0x3ac)][_0xced9b0(0x174)](_0x413979);for(var _0x3fadf7 in this[_0xced9b0(0x22b)]){var _0x34a1e1=this[_0xced9b0(0x22b)][_0x3fadf7];_0x118f3e[_0xced9b0(0x2c6)](_0x34a1e1[_0xced9b0(0x4a1)]+_0x34a1e1[_0xced9b0(0x4a6)]({'block':_0x1150af}),GAME_UI_LETTER_SIZE/0x2,0x270f,_0xced9b0(0x384),GAME_UI_FONT);}_0x118f3e[_0xced9b0(0x156)]();},this[_0x18eb60(0x4b1)]=_0x810cf4=>{var _0x4045a1=_0x18eb60;if(this['UI']&&this['UI'][_0x4045a1(0x3a0)](_0x810cf4))return!![];if(this[_0x4045a1(0x2b3)]&&this['UIturn'][_0x4045a1(0x3a0)](_0x810cf4))return!![];if(this[_0x4045a1(0x199)]&&this[_0x4045a1(0x199)][_0x4045a1(0x3a0)](_0x810cf4)){if(_0x810cf4==_0x4045a1(0x169)&&this[_0x4045a1(0x3b7)]())return!![];}return![];},this[_0x18eb60(0x3b7)]=()=>{var _0x1e3f16=_0x18eb60,_0x2f1a5f=![];if(this['PlayerInfodisplay'])return this['PlayerInfodisplay']=![],!![];this[_0x1e3f16(0x343)]&&(this[_0x1e3f16(0x343)]=undefined,_0x2f1a5f=!![]);this['highlightZone']&&(this[_0x1e3f16(0x182)]=undefined,this[_0x1e3f16(0x22b)]=undefined,this[_0x1e3f16(0x19e)]=undefined,world[_0x1e3f16(0x3ac)][_0x1e3f16(0x409)]=!![],_0x2f1a5f=!![]);if(_0x2f1a5f)return _0x2f1a5f;_0x2f1a5f=![];this[_0x1e3f16(0x219)]&&(this[_0x1e3f16(0x219)]=undefined,_0x2f1a5f=!![]);this[_0x1e3f16(0x3bf)]&&(this['blockSelected']=undefined,_0x2f1a5f=!![]);if(_0x2f1a5f)return!![];return![];},this[_0x18eb60(0x2e8)]=_0x5c6a16=>{var _0xe88c3e=_0x18eb60,_0x80bc34=_0x5c6a16['x'],_0x3de0d2=_0x5c6a16['y'];if(_0x5c6a16['button']==0x2){var _0x498ff8=this[_0xe88c3e(0x3b7)]();if(_0x498ff8)return!![];}else{if(this['UI']&&this['UI']['click_buton_check'](_0x80bc34,_0x3de0d2))return!![];if(this[_0xe88c3e(0x2b3)]&&this[_0xe88c3e(0x2b3)][_0xe88c3e(0x110)](_0x80bc34,_0x3de0d2))return!![];if(this[_0xe88c3e(0x199)]&&this[_0xe88c3e(0x199)]['click_buton_check'](_0x80bc34,_0x3de0d2))return!![];if(world['map'])var _0x4a5d20=world[_0xe88c3e(0x3ac)]['get_block_by_pixel']({'x':_0x80bc34,'y':_0x3de0d2});if(!_0x4a5d20)return![];if(this[_0xe88c3e(0x343)]&&this[_0xe88c3e(0x182)]&&this[_0xe88c3e(0x182)][_0xe88c3e(0x1ac)]&&!this[_0xe88c3e(0x182)][_0xe88c3e(0x1ac)][_0xe88c3e(0x4af)](_0x5b363c=>_0x5b363c==_0x4a5d20))return![];if(this[_0xe88c3e(0x343)])return this[_0xe88c3e(0x343)][_0xe88c3e(0x4a6)]({'block':_0x4a5d20,'input':this[_0xe88c3e(0x343)][_0xe88c3e(0x3ca)]}),this[_0xe88c3e(0x182)]=undefined,this['mouseInfoWindow']=undefined,this[_0xe88c3e(0x3bf)]=undefined,this[_0xe88c3e(0x343)]=undefined,world[_0xe88c3e(0x3ac)][_0xe88c3e(0x409)]=!![],!![];else this[_0xe88c3e(0x3bf)]=_0x4a5d20;return this[_0xe88c3e(0x219)]=_0x4a5d20['player'],!![];}return![];},this['SelectingBlockAction']=_0x173340=>{var _0x1a744=_0x18eb60;if(!_0x173340||!_0x173340[_0x1a744(0x4a6)])return;this[_0x1a744(0x343)]={'callback':_0x173340[_0x1a744(0x4a6)],'input':_0x173340[_0x1a744(0x3ca)],'info':_0x173340['info']},this[_0x1a744(0x409)]=!![],_0x173340[_0x1a744(0x1e7)]&&(this['highlightZone']={'zone':_0x173340['highlight'][_0x1a744(0x4a6)](_0x173340['highlight']['input']),'type':_0x173340['highlight']['input']['type']},world[_0x1a744(0x3ac)]['needRedraw']=!![]),_0x173340[_0x1a744(0x4d0)]&&(this[_0x1a744(0x22b)]=_0x173340[_0x1a744(0x4d0)]);},this[_0x18eb60(0x476)]=()=>{var _0x3d3db8=_0x18eb60;if(!world[_0x3d3db8(0x460)][_0x3d3db8(0x4d2)])return![];world['map'][_0x3d3db8(0x397)](world[_0x3d3db8(0x460)]['Playerturn']),this[_0x3d3db8(0x219)]=world['players'][_0x3d3db8(0x4d2)];},this[_0x18eb60(0x27e)]=()=>{var _0x16b07a=_0x18eb60;0x0;var _0x420218=[];_0x420218[_0x16b07a(0x217)]({'type':_0x16b07a(0x173),'img':this[_0x16b07a(0x219)][_0x16b07a(0x220)],'lenx':0xc8,'leny':0xc8}),this['UI'][_0x16b07a(0x44f)](_0x420218);var _0x160b52=this[_0x16b07a(0x219)],_0x23fb7a=''+_0x160b52[_0x16b07a(0x320)]+'\x20(',_0x64ed87=_0x160b52[_0x16b07a(0x176)]==TEAM_AI?_0x16b07a(0x15f):_0x16b07a(0x28b);_0x23fb7a+=_0x64ed87,_0x23fb7a+='\x0a'+_0x160b52[_0x16b07a(0x25f)]+'/'+_0x160b52[_0x16b07a(0x1ad)]+_0x16b07a(0x2cb),_0x23fb7a+='\x0a'+_0x160b52[_0x16b07a(0x256)]+'/'+_0x160b52[_0x16b07a(0x3d7)]+_0x16b07a(0x134),_0x23fb7a+='\x0a'+_0x16b07a(0x25b)+_0x160b52['speed'],_0x23fb7a+='\x0a'+'Move\x20AP\x20cost\x20:\x20'+_0x160b52['movePCost'];for(var _0x4b0a20 in _0x160b52[_0x16b07a(0x45f)])_0x23fb7a+='\x0a'+_0x4b0a20+_0x16b07a(0x2f1)+_0x160b52['stats'][_0x4b0a20];this['UI']['addTextZone'](_0x23fb7a,GAME_UI_LETTER_SIZE/0x2,0x270f,_0x16b07a(0x384),GAME_UI_FONT);if(_0x160b52[_0x16b07a(0x214)])this['UI'][_0x16b07a(0x2c6)]('weapon\x20equiped\x20:\x20\x27'+_0x160b52[_0x16b07a(0x214)][_0x16b07a(0x320)]+'\x27\x0a'+_0x160b52[_0x16b07a(0x214)][_0x16b07a(0x17b)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x16b07a(0x384),GAME_UI_FONT);if(_0x160b52[_0x16b07a(0x41c)])this['UI'][_0x16b07a(0x2c6)](_0x16b07a(0x139)+_0x160b52[_0x16b07a(0x41c)][_0x16b07a(0x2dc)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x16b07a(0x384),GAME_UI_FONT);},this[_0x18eb60(0x1b2)]=()=>{var _0x1faa98=_0x18eb60;this[_0x1faa98(0x199)]=new MyUI(this[_0x1faa98(0x166)],this[_0x1faa98(0x2b3)][_0x1faa98(0x3f5)]+this['UI'][_0x1faa98(0x3f5)],0x0,0x5,this[_0x1faa98(0x171)],this[_0x1faa98(0x3ec)],this[_0x1faa98(0x407)],this[_0x1faa98(0x475)]);var _0x5a6605=[];_0x5a6605[_0x1faa98(0x217)]({'type':'button','mouseLight':'ff','callback':()=>{var _0x135053=_0x1faa98;this[_0x135053(0x26d)]=!this[_0x135053(0x26d)];},'callback_data':GAME_UI_FONT,'txt':_0x1faa98(0x14e),'txt_color':_0x1faa98(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x1faa98(0x143),'strokeColor':this[_0x1faa98(0x26d)]?_0x1faa98(0x33c):_0x1faa98(0x2b4),'windowInfo':[{'callback':()=>{var _0x22aca4=_0x1faa98;return _0x22aca4(0x357);},'input':_0x2c14fc}]});if(this[_0x1faa98(0x26d)]){var _0x3cad6c=this[_0x1faa98(0x359)](this[_0x1faa98(0x3df)]);for(var _0x2c14fc in _0x3cad6c)_0x5a6605['push'](_0x3cad6c[_0x2c14fc]);}this[_0x1faa98(0x199)][_0x1faa98(0x44f)](_0x5a6605);if(this[_0x1faa98(0x26d)]&&world[_0x1faa98(0x460)]){var _0x667284=-0x1;for(var _0x2c14fc=this['eventPageOffset'][_0x1faa98(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x2c14fc>=this['eventPageOffset'][_0x1faa98(0x279)];_0x2c14fc--){_0x667284++;var _0x1e2367=world['players'][_0x1faa98(0x328)][_0x1faa98(0x297)][_0x2c14fc];if(_0x2c14fc>=world[_0x1faa98(0x460)]['MessageSystem']['msg'][_0x1faa98(0x4b4)])continue;if(!_0x1e2367)break;this[_0x1faa98(0x2b9)](_0x1e2367);}}console['log'](this[_0x1faa98(0x3df)][_0x1faa98(0x279)]),this[_0x1faa98(0x199)][_0x1faa98(0x156)]();},this[_0x18eb60(0x43c)]=()=>{var _0xbf68a9=_0x18eb60;if(!world[_0xbf68a9(0x3ac)]||!world['players'])return;this[_0xbf68a9(0x409)]=![],this[_0xbf68a9(0x166)][_0xbf68a9(0x4c4)](),this['canvas'][_0xbf68a9(0x12d)](),this[_0xbf68a9(0x2b3)]=new MyUI(this[_0xbf68a9(0x166)],0x0,0x0,0x32,this[_0xbf68a9(0x171)],this['background'],this[_0xbf68a9(0x407)],0x1),this[_0xbf68a9(0x2b3)][_0xbf68a9(0x44f)]([{'type':_0xbf68a9(0x11f),'mouseLight':'ff','callback':()=>{var _0x11d08f=_0xbf68a9;this[_0x11d08f(0x237)]=!this['UIturnExpanded'];},'callback_data':GAME_UI_FONT,'txt':_0xbf68a9(0x307),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0xbf68a9(0x143),'strokeColor':this[_0xbf68a9(0x26d)]?_0xbf68a9(0x33c):_0xbf68a9(0x2b4),'windowInfo':[{'callback':()=>{var _0x194f13=_0xbf68a9;return _0x194f13(0x117);},'input':_0x3733b0}]}]);var _0x2e19dc=world[_0xbf68a9(0x460)][_0xbf68a9(0x47c)](0xf);for(var _0x3733b0 in _0x2e19dc){var _0x1a1357=_0x2e19dc[_0x3733b0],_0x4eaa34=[];_0x4eaa34[_0xbf68a9(0x217)]({'type':'img','img':_0x1a1357['bodyPartImg'],'lenx':0x1e,'leny':0x1e});if(this[_0xbf68a9(0x237)])_0x4eaa34[_0xbf68a9(0x217)]({'type':_0xbf68a9(0x11f),'mouseLight':'ff','callback':_0x316f53=>{var _0x447dee=_0xbf68a9;this['playersSelected']=_0x316f53;if(world[_0x447dee(0x3ac)])world[_0x447dee(0x3ac)]['centerOnBlock'](_0x316f53);},'callback_data':_0x1a1357,'txt':_0x1a1357[_0xbf68a9(0x320)],'txt_color':_0x1a1357[_0xbf68a9(0x176)]==TEAM_HUMAN?'#0088ff':_0xbf68a9(0x20b),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':_0xbf68a9(0x143),'strokeColor':this[_0xbf68a9(0x219)]==_0x1a1357?_0xbf68a9(0x36e):_0xbf68a9(0x33c),'windowInfo':[{'callback':_0x1c3069=>{return'I\x20will\x20play\x20in\x20'+_0x1c3069+'\x20turn';},'input':_0x3733b0}]});this[_0xbf68a9(0x2b3)][_0xbf68a9(0x44f)](_0x4eaa34);}this[_0xbf68a9(0x2b3)][_0xbf68a9(0x156)](),this['UI']=new MyUI(this['canvas'],this[_0xbf68a9(0x2b3)][_0xbf68a9(0x3f5)],0x0,this[_0xbf68a9(0x3f5)],this[_0xbf68a9(0x171)],this[_0xbf68a9(0x3ec)],this[_0xbf68a9(0x407)],this[_0xbf68a9(0x475)]);if(this[_0xbf68a9(0x241)]&&this[_0xbf68a9(0x219)])this[_0xbf68a9(0x27e)](),this['UI'][_0xbf68a9(0x4c5)](this['PlayerInfodisplay']&&this[_0xbf68a9(0x219)]?_0xbf68a9(0x229):_0xbf68a9(0x12a),GAME_UI_LETTER_SIZE,_0xbf68a9(0x384),_0xbf68a9(0x197),this[_0xbf68a9(0x407)],()=>{var _0x4cb050=_0xbf68a9;this[_0x4cb050(0x241)]=!this[_0x4cb050(0x241)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world[_0xbf68a9(0x460)][_0xbf68a9(0x4d2)])this['UI'][_0xbf68a9(0x4c5)]('End\x20Turn',GAME_UI_LETTER_SIZE,_0xbf68a9(0x331),_0xbf68a9(0x2b0),this[_0xbf68a9(0x407)],world[_0xbf68a9(0x460)]['nextTurn'],{'map':world[_0xbf68a9(0x3ac)],'GameUI':world['GameUI']},GAME_UI_FONT,_0xbf68a9(0x2ed)),this['UI'][_0xbf68a9(0x4c5)](_0xbf68a9(0x1ab),GAME_UI_LETTER_SIZE,_0xbf68a9(0x384),_0xbf68a9(0x3f8),this[_0xbf68a9(0x407)],this[_0xbf68a9(0x476)],undefined,GAME_UI_FONT,_0xbf68a9(0x1cc));else this['UI']['addButton'](_0xbf68a9(0x341),GAME_UI_LETTER_SIZE,_0xbf68a9(0x331),_0xbf68a9(0x30e),this[_0xbf68a9(0x407)],world[_0xbf68a9(0x460)][_0xbf68a9(0x474)],{'map':world['map'],'GameUI':world[_0xbf68a9(0x205)]},GAME_UI_FONT,_0xbf68a9(0x2ed));if(this[_0xbf68a9(0x3bf)]&&!this[_0xbf68a9(0x219)]){var _0x3e3854=this[_0xbf68a9(0x3bf)]['x'],_0x52aef1=this[_0xbf68a9(0x3bf)]['y'],_0x19c61f={'r':Math['floor'](Math[_0xbf68a9(0x4a5)]()*0x100),'g':Math[_0xbf68a9(0x1a0)](Math[_0xbf68a9(0x4a5)]()*0x100),'b':Math[_0xbf68a9(0x1a0)](Math[_0xbf68a9(0x4a5)]()*0x100)};this['UI'][_0xbf68a9(0x4c5)](_0xbf68a9(0x332),GAME_UI_LETTER_SIZE,_0xbf68a9(0x384),_0xbf68a9(0x2e4),this['stroke'],world[_0xbf68a9(0x460)]['createPlayer'],{'x':_0x3e3854,'y':_0x52aef1,'color':_0x19c61f},GAME_UI_FONT);}if(this[_0xbf68a9(0x219)]){var _0x1a1357=this[_0xbf68a9(0x219)];this['UI'][_0xbf68a9(0x4c5)](_0x1a1357[_0xbf68a9(0x320)],GAME_UI_LETTER_SIZE,_0xbf68a9(0x384),_0xbf68a9(0x197),this[_0xbf68a9(0x407)],()=>{var _0x3b50c0=_0xbf68a9;this[_0x3b50c0(0x241)]=!this['PlayerInfodisplay'];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this[_0xbf68a9(0x219)]==world[_0xbf68a9(0x460)][_0xbf68a9(0x4d2)]&&this[_0xbf68a9(0x219)][_0xbf68a9(0x176)]==TEAM_HUMAN){if(_0x1a1357[_0xbf68a9(0x220)]&&_0x1a1357['bodyPartImgReady']&&_0x1a1357[_0xbf68a9(0x220)]['complete'])this['UI']['addImage'](_0x1a1357['bodyPartImg'],0x64,0x64);else this[_0xbf68a9(0x409)]=!![];if(this['selecting_block'])this['UI']['addTextZone'](_0xbf68a9(0x15b)+this['selecting_block'][_0xbf68a9(0x12a)],GAME_UI_LETTER_SIZE*0.8,0x14,_0xbf68a9(0x384),GAME_UI_FONT);else for(var _0x3733b0 in _0x1a1357[_0xbf68a9(0x234)]){var _0x265dc9=_0x1a1357[_0xbf68a9(0x234)][_0x3733b0];this['UI'][_0xbf68a9(0x4c5)](_0x265dc9['name'],GAME_UI_LETTER_SIZE,_0xbf68a9(0x384),_0xbf68a9(0x2e4),this[_0xbf68a9(0x407)],this['SelectingBlockAction'],{'callback':_0x265dc9[_0xbf68a9(0x4a6)],'info':_0x265dc9[_0xbf68a9(0x431)],'highlight':{'callback':_0x265dc9[_0xbf68a9(0x1fe)],'input':_0x265dc9[_0xbf68a9(0x44d)]},'windowInfo':_0x265dc9['windowInfo']},GAME_UI_FONT,parseInt(_0x3733b0)+0x1);}}}}this[_0xbf68a9(0x1b2)](),this['UI'][_0xbf68a9(0x156)](),this['CheckInfoWindow'](!![]);},this[_0x18eb60(0x359)]=_0x459a1d=>{var _0xf04b07=_0x18eb60,_0x38bf0c=[{'type':'button','callback':()=>{var _0x680a22=_0xb2fc;_0x459a1d[_0x680a22(0x279)]=_0x459a1d[_0x680a22(0x279)]>0x0?_0x459a1d['value']-0x1:0x0;},'txt':'','txt_color':_0xf04b07(0x197),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xf04b07(0x32d),'strokeColor':_0xf04b07(0x384),'windowInfo':[{'callback':()=>{var _0x53e4ea=_0xf04b07;return _0x53e4ea(0x1bb);}}]},{'type':'button','callback':()=>{var _0x50f87c=_0xf04b07;_0x459a1d[_0x50f87c(0x279)]++;},'txt':'','txt_color':_0xf04b07(0x197),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xf04b07(0x32d),'strokeColor':_0xf04b07(0x384),'windowInfo':[{'callback':()=>{var _0x309ba9=_0xf04b07;return _0x309ba9(0x48b);}}]},{'type':'txt','txt':'['+_0x459a1d[_0xf04b07(0x279)]+':'+(_0x459a1d[_0xf04b07(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0xf04b07(0x384),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0x38bf0c;},this['displayMessageEvent']=_0x28a331=>{var _0xb8e3cc=_0x18eb60;if(!_0x28a331)return;var _0x30c318=_0xb8e3cc(0x384);switch(_0x28a331[_0xb8e3cc(0x144)]){case TEAM_HUMAN:_0x30c318=_0xb8e3cc(0x472);break;case TEAM_AI:_0x30c318=_0xb8e3cc(0x20b);break;}this[_0xb8e3cc(0x199)]['addTextZone'](_0x28a331['txt'],GAME_UI_LETTER_SIZE/0x2,0x270f,_0x30c318,GAME_UI_FONT);};},ControlManager=function(){var _0x5657a1=_0x2698c6;this[_0x5657a1(0x264)]=[],this[_0x5657a1(0x260)]=[],this['mousePos']={'x':0x0,'y':0x0,'lastTime':new Date()[_0x5657a1(0x2c9)]()},window[_0x5657a1(0x3fe)](_0x5657a1(0x19f),_0x563ea3=>{var _0x2f8654=_0x5657a1;if(_0x563ea3[_0x2f8654(0x1ff)])return;var _0x5a0aa7=_0x563ea3[_0x2f8654(0x18e)],_0x1c6c30=_0x563ea3[_0x2f8654(0x29f)];this['keyDown'][_0x1c6c30]=!![];}),window[_0x5657a1(0x3fe)](_0x5657a1(0x1d2),_0x54363a=>{var _0x1c8b02=_0x5657a1,_0x204afc=_0x54363a[_0x1c8b02(0x18e)],_0x42c5a1=_0x54363a[_0x1c8b02(0x29f)];this[_0x1c8b02(0x264)][_0x42c5a1]=![],this[_0x1c8b02(0x260)][_0x42c5a1]=!![];}),window[_0x5657a1(0x3fe)]('wheel',_0x26b091=>{var _0x2a7f37=_0x5657a1,_0x99610f=_0x26b091[_0x2a7f37(0x24f)];if(world[_0x2a7f37(0x3ac)]){if(_0x99610f>0x0)world[_0x2a7f37(0x3ac)][_0x2a7f37(0x1fd)](0x0,0x0,0.95);else{if(_0x99610f<0x0)world['map']['changeMapView'](0x0,0x0,1.05);}}}),window[_0x5657a1(0x3fe)](_0x5657a1(0x44c),_0x4a54e1=>{var _0x26cf22=_0x5657a1,_0x1618ea=world['Screen'][_0x26cf22(0x463)][_0x26cf22(0x150)];pos=_0x1618ea[_0x26cf22(0x4a9)](_0x4a54e1[_0x26cf22(0x267)],_0x4a54e1[_0x26cf22(0x38b)]),pos&&(this['inputclick']={'x':pos['x'],'y':pos['y'],'button':_0x4a54e1[_0x26cf22(0x11f)]});}),window[_0x5657a1(0x3fe)](_0x5657a1(0x1b0),_0x51d92d=>{var _0x3d3c42=_0x5657a1,_0x20688b=world['Screen'][_0x3d3c42(0x463)][_0x3d3c42(0x150)];this[_0x3d3c42(0x291)]=_0x20688b['getPixelPosition'](_0x51d92d['clientX'],_0x51d92d[_0x3d3c42(0x38b)]);if(this[_0x3d3c42(0x291)])this[_0x3d3c42(0x291)]['lastTime']=new Date()[_0x3d3c42(0x2c9)]();}),this[_0x5657a1(0x270)]=()=>{var _0x18c63b=_0x5657a1,_0x237ec7=![];if(world[_0x18c63b(0x3ac)]){if(this[_0x18c63b(0x264)][_0x18c63b(0x3ad)])world['map']['changeMapView'](0x0,-0.1/world[_0x18c63b(0x3ac)]['scale'],0x1);if(this[_0x18c63b(0x264)][_0x18c63b(0x289)])world['map'][_0x18c63b(0x1fd)](0x0,0.1/world[_0x18c63b(0x3ac)][_0x18c63b(0x171)],0x1);if(this[_0x18c63b(0x264)][_0x18c63b(0x2d0)])world[_0x18c63b(0x3ac)]['changeMapView'](-0.1/world[_0x18c63b(0x3ac)][_0x18c63b(0x171)],0x0,0x1);if(this[_0x18c63b(0x264)]['KeyD'])world['map'][_0x18c63b(0x1fd)](0.1/world[_0x18c63b(0x3ac)][_0x18c63b(0x171)],0x0,0x1);if(this[_0x18c63b(0x264)][_0x18c63b(0x346)])world['map']['changeMapView'](0x0,-0.1/world[_0x18c63b(0x3ac)][_0x18c63b(0x171)],0x1);if(this[_0x18c63b(0x264)]['ArrowDown'])world[_0x18c63b(0x3ac)]['changeMapView'](0x0,0.1/world[_0x18c63b(0x3ac)]['scale'],0x1);if(this[_0x18c63b(0x264)]['ArrowLeft'])world[_0x18c63b(0x3ac)]['changeMapView'](-0.1/world['map'][_0x18c63b(0x171)],0x0,0x1);if(this['keyDown'][_0x18c63b(0x340)])world[_0x18c63b(0x3ac)][_0x18c63b(0x1fd)](0.1/world[_0x18c63b(0x3ac)][_0x18c63b(0x171)],0x0,0x1);if(this['keyDown'][_0x18c63b(0x2cc)])world[_0x18c63b(0x3ac)][_0x18c63b(0x1fd)](0x0,0x0,0.95);if(this[_0x18c63b(0x264)][_0x18c63b(0x179)])world[_0x18c63b(0x3ac)][_0x18c63b(0x1fd)](0x0,0x0,1.05);}if(this[_0x18c63b(0x260)][_0x18c63b(0x3cf)]){if(!world[_0x18c63b(0x3b5)][_0x18c63b(0x3c2)])world[_0x18c63b(0x3b5)]['openFullscreen']();else world[_0x18c63b(0x3b5)][_0x18c63b(0x3ce)](document);world['Music'][_0x18c63b(0x2a1)](_0x18c63b(0x2eb),undefined,!![]);}for(var _0x2e5ff8 in this[_0x18c63b(0x260)]){if(!_0x237ec7&&_0x2e5ff8['startsWith'](_0x18c63b(0x2f2))||_0x2e5ff8['startsWith'](_0x18c63b(0x3a4)))_0x2e5ff8=_0x2e5ff8[_0x18c63b(0x20d)](_0x18c63b(0x2f2),'')[_0x18c63b(0x20d)]('Numpad','');if(world[_0x18c63b(0x205)]&&!_0x237ec7&&world[_0x18c63b(0x205)][_0x18c63b(0x4b1)](_0x2e5ff8)){world['Music']['playSound']('click',undefined,!![]),_0x237ec7=!![];if(world[_0x18c63b(0x205)])world[_0x18c63b(0x205)][_0x18c63b(0x409)]=!![];break;}if(world[_0x18c63b(0x1fa)]&&world[_0x18c63b(0x1fa)][_0x18c63b(0x4b1)](_0x2e5ff8)){world[_0x18c63b(0x130)][_0x18c63b(0x2a1)](_0x18c63b(0x2eb),undefined,!![]),_0x237ec7=!![];if(world['villageUI'])world['villageUI'][_0x18c63b(0x409)]=!![];break;}}this[_0x18c63b(0x260)]=[];if(this['inputclick']){if(!_0x237ec7&&world['GameUI']&&world[_0x18c63b(0x205)]['getMouseInput'](this[_0x18c63b(0x395)])){world[_0x18c63b(0x130)][_0x18c63b(0x2a1)](_0x18c63b(0x2eb),undefined,!![]),_0x237ec7=!![];if(world[_0x18c63b(0x205)])world[_0x18c63b(0x205)]['needRedraw']=!![];}if(!_0x237ec7&&world['villageUI']&&world[_0x18c63b(0x1fa)][_0x18c63b(0x2e8)](this[_0x18c63b(0x395)])){world['Music'][_0x18c63b(0x2a1)]('click',undefined,!![]),_0x237ec7=!![];if(world[_0x18c63b(0x1fa)])world[_0x18c63b(0x1fa)][_0x18c63b(0x409)]=!![];}}this['inputclick']=undefined;};},PLAYER_WEAPON_IMG=[{'name':'stone_spear','center':{'x':0xa1,'y':0xd},'sound':_0x2698c6(0x261)},{'name':_0x2698c6(0x222),'center':{'x':0x28,'y':0x11},'sound':_0x2698c6(0x3be)},{'name':_0x2698c6(0x3e8),'center':{'x':0x3c,'y':0x40},'sound':'attack_bigaxe'},{'name':'wood_stick','center':{'x':0x16,'y':0x11},'sound':'smash'},{'name':_0x2698c6(0x3e9),'center':{'x':0x32,'y':0x37},'sound':'smash'},{'name':'small_woodBow','center':{'x':0x39,'y':0x25},'sound':_0x2698c6(0x491)},{'name':_0x2698c6(0x33a),'center':{'x':0x41,'y':0x46},'sound':_0x2698c6(0x1cb)}],WEAPON_TYPE=[{'name':_0x2698c6(0x3d9),'Img':_0x2698c6(0x236),'weaponAnim':_0x2698c6(0x3b6),'bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':'getBlockAdjacent','input':{}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x2698c6(0x2ba),'type':_0x2698c6(0x1e1),'value':0x1}]}]},{'name':_0x2698c6(0x104),'Img':_0x2698c6(0x300),'weaponAnim':_0x2698c6(0x338),'bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':'Strength','type':_0x2698c6(0x159),'value':1.5}]},{'callback':_0x2698c6(0x405),'damageBase':[{'stats':_0x2698c6(0x2ba),'type':_0x2698c6(0x159),'value':0.5}]}]},{'name':'Stone\x20Axe','Img':_0x2698c6(0x3e9),'weaponAnim':'sword','bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x2698c6(0x423),'damageBase':[{'stats':'Strength','type':_0x2698c6(0x1e1),'value':0x1},{'stats':'Strength','type':_0x2698c6(0x482),'value':0x1}]}]},{'name':_0x2698c6(0x31e),'Img':_0x2698c6(0x222),'weaponAnim':_0x2698c6(0x3b6),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x2698c6(0x423),'damageBase':[{'stats':_0x2698c6(0x2ba),'type':_0x2698c6(0x159),'value':1.5},{'stats':_0x2698c6(0x2ba),'type':_0x2698c6(0x482),'value':1.5}]}]},{'name':_0x2698c6(0x2a8),'Img':'metal_axe','weaponAnim':_0x2698c6(0x3d8),'actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':_0x2698c6(0x12f),'input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x2698c6(0x423),'damageBase':[{'stats':_0x2698c6(0x2ba),'type':_0x2698c6(0x1e1),'value':0x2},{'stats':_0x2698c6(0x2ba),'type':_0x2698c6(0x482),'value':0x2}]},{'callback':_0x2698c6(0x192),'callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':'Strength','type':_0x2698c6(0x1e1),'value':0.2},{'stats':'Strength','type':'slashing','value':0.2}]}]},{'name':_0x2698c6(0x19b),'Img':_0x2698c6(0x31f),'weaponAnim':'bow','bonus':[],'projectil':{'ammo':_0x2698c6(0x450),'projectilSpeed':0x64,'sound':'arrow_projectil'},'actionCost':0x32,'blockTargetingFunction':{'callback':_0x2698c6(0x333),'input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':'Dexterity','type':_0x2698c6(0x159),'value':0x1}]}]},{'name':_0x2698c6(0x2bd),'Img':_0x2698c6(0x33a),'weaponAnim':_0x2698c6(0x3b6),'actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':_0x2698c6(0x1be),'input':{}},'zoneTarget':[{'callback':_0x2698c6(0x423),'damageBase':[{'stats':_0x2698c6(0x2ba),'type':'piercing','value':0x2}]}]}],Weapon=function(){var _0x45db65=_0x2698c6;this['itemType']='weapon',this[_0x45db65(0x320)],this[_0x45db65(0x1df)],this['zoneTarget'],this[_0x45db65(0x173)],this[_0x45db65(0x3c3)],this[_0x45db65(0x4ce)],this[_0x45db65(0x2c3)],this[_0x45db65(0x342)],this[_0x45db65(0x3a2)],this[_0x45db65(0x262)]=_0x4d1136=>{var _0x487f24=_0x45db65;if(!_0x4d1136||!_0x4d1136['name'])return console[_0x487f24(0x114)]('can\x27t\x20create\x20this\x20weapon');var _0x522951=WEAPON_TYPE[_0x487f24(0x4af)](_0x4d48bf=>_0x4d48bf[_0x487f24(0x320)]==_0x4d1136[_0x487f24(0x320)]);if(!_0x522951)return console['log'](_0x487f24(0x2bf));var _0x2fb145=PLAYER_WEAPON_IMG['find'](_0x9ec689=>_0x9ec689[_0x487f24(0x320)]==_0x522951[_0x487f24(0x49c)]);if(!_0x2fb145)return console['log'](_0x487f24(0x2bf));return this[_0x487f24(0x173)]=_0x2fb145[_0x487f24(0x320)],this[_0x487f24(0x320)]=_0x4d1136[_0x487f24(0x320)],this['anim']=_0x522951[_0x487f24(0x1df)],this[_0x487f24(0x4ce)]=_0x522951[_0x487f24(0x4ce)],this['actionCost']=_0x522951[_0x487f24(0x2c3)],this[_0x487f24(0x342)]=_0x522951[_0x487f24(0x342)],this[_0x487f24(0x105)]=_0x522951['projectil'],this[_0x487f24(0x3a2)]=_0x522951[_0x487f24(0x3a2)],console['log'](_0x487f24(0x288)+this[_0x487f24(0x3a2)][_0x487f24(0x4b4)]),this;},this['createRandomWeapon']=()=>{var _0x2dd75b=_0x45db65,_0x6fc2bb=WEAPON_TYPE[Math['floor'](Math['random']()*WEAPON_TYPE[_0x2dd75b(0x4b4)])];return this['createNewWeapon']({'name':_0x6fc2bb[_0x2dd75b(0x320)]});},this[_0x45db65(0x17b)]=()=>{var _0xdbe693=_0x45db65,_0x503b61=_0xdbe693(0x274)+this[_0xdbe693(0x320)]+'\x20for\x20'+this['actionCost']+_0xdbe693(0x2c4);switch(this[_0xdbe693(0x342)][_0xdbe693(0x4a6)]){case _0xdbe693(0x1be):_0x503b61+='\x0aTarget\x20adjacents\x20blocks';break;case _0xdbe693(0x12f):_0x503b61+=_0xdbe693(0x34e)+this[_0xdbe693(0x342)][_0xdbe693(0x3ca)][_0xdbe693(0x10d)]+','+this[_0xdbe693(0x342)]['input']['rangeMax']+']';break;}for(var _0x5b6812 in this['zoneTarget']){var _0x52ffa8=this[_0xdbe693(0x4ce)][_0x5b6812];switch(_0x52ffa8[_0xdbe693(0x4a6)]){case'ReturnBlockTargeted':_0x503b61+=_0xdbe693(0x455);break;case _0xdbe693(0x405):var _0xfa4687=_0x52ffa8[_0xdbe693(0x1a7)]?_0x52ffa8[_0xdbe693(0x1a7)]['rangeMin']:0x1,_0x5d7cd2=_0x52ffa8[_0xdbe693(0x1a7)]?_0x52ffa8[_0xdbe693(0x1a7)][_0xdbe693(0x12e)]:0x1;_0x503b61+=_0xdbe693(0x19a)+[_0xfa4687,_0x5d7cd2]+_0xdbe693(0x177);break;case _0xdbe693(0x192):var _0xfa4687=_0x52ffa8[_0xdbe693(0x1a7)]?_0x52ffa8[_0xdbe693(0x1a7)][_0xdbe693(0x10d)]:0x1,_0x5d7cd2=_0x52ffa8['callback_data']?_0x52ffa8['callback_data']['rangeMax']:0x1;_0x503b61+=_0xdbe693(0x495)+[_0xfa4687,_0x5d7cd2]+_0xdbe693(0x2f5);break;}for(var _0x20398d in _0x52ffa8[_0xdbe693(0x349)]){var _0xb3d55f=_0x52ffa8[_0xdbe693(0x349)][_0x20398d];_0x503b61+=_0xdbe693(0x210)+_0xb3d55f[_0xdbe693(0x279)]+'\x20'+_0xb3d55f[_0xdbe693(0x45f)]+'\x20'+_0xb3d55f[_0xdbe693(0x144)]+_0xdbe693(0x1dd);}}for(var _0x5b6812 in this[_0xdbe693(0x3a2)])if(BONUS_DESCRIPTION[this['bonus']])_0x503b61+='\x0a'+BONUS_DESCRIPTION[this[_0xdbe693(0x3a2)]];return _0x503b61;};};function CalculeDamageWeaponFromPlayerStats(_0x474d84){var _0x3045e2=_0x2698c6;if(!_0x474d84||!_0x474d84[_0x3045e2(0x25c)]||!_0x474d84['damage'])return undefined;var _0x588abb=_0x474d84['damage'],_0xc51827=_0x474d84[_0x3045e2(0x25c)],_0x290455=[];for(var _0x175096 in _0x588abb)_0x290455[_0x3045e2(0x217)]({'type':_0x588abb[_0x175096][_0x3045e2(0x144)],'value':_0xc51827[_0x3045e2(0x45f)][_0x588abb[_0x175096][_0x3045e2(0x45f)]]*_0x588abb[_0x175096][_0x3045e2(0x279)]});return _0x290455;}PLAYER_ARMOR=[{'name':_0x2698c6(0x3a6),'img':'wood_armor','dmgArmor':[{'damage':_0x2698c6(0x1e1),'type':_0x2698c6(0x1ae),'value':0x14},{'damage':_0x2698c6(0x159),'value':0x2}]}],PLAYER_ARMOR=[{'name':_0x2698c6(0x35e),'img':_0x2698c6(0x3b0),'dmgArmor':[{'damage':_0x2698c6(0x1e1),'type':_0x2698c6(0x1ae),'value':0x19},{'damage':_0x2698c6(0x1e1),'value':0x5}]}],Armor=function(){var _0x2b95d2=_0x2698c6;this[_0x2b95d2(0x323)]=_0x2b95d2(0x41c),this[_0x2b95d2(0x320)],this['img'],this['dmgArmor'],this['createNewArmor']=_0x540575=>{var _0xe46a0e=_0x2b95d2;if(!_0x540575||!_0x540575[_0xe46a0e(0x320)])return undefined;this[_0xe46a0e(0x320)]=_0x540575[_0xe46a0e(0x320)];var _0x369bf9=PLAYER_ARMOR[_0xe46a0e(0x4af)](_0x596a6c=>_0x596a6c[_0xe46a0e(0x320)]==_0x540575[_0xe46a0e(0x320)]);if(!_0x369bf9)return undefined;return this['img']=_0x369bf9['img']?_0x369bf9[_0xe46a0e(0x173)]:this[_0xe46a0e(0x320)],this[_0xe46a0e(0x1e6)]=_0x369bf9[_0xe46a0e(0x1e6)],this;},this[_0x2b95d2(0x153)]=()=>{var _0x7695a=_0x2b95d2;return this[_0x7695a(0x167)]({'name':PLAYER_ARMOR[Math[_0x7695a(0x1a0)](Math[_0x7695a(0x4a5)]()*PLAYER_ARMOR[_0x7695a(0x4b4)])][_0x7695a(0x320)]});},this[_0x2b95d2(0x41d)]=_0xd2bf7c=>{var _0x5429f3=_0x2b95d2;if(!_0xd2bf7c||!_0xd2bf7c[_0x5429f3(0x440)]||_0xd2bf7c['damages'][_0x5429f3(0x4b4)]<0x1)return 0x0;var _0x365062=0x0;for(var _0x1f0629 in _0xd2bf7c[_0x5429f3(0x440)]){var _0x6c09d4=_0xd2bf7c[_0x5429f3(0x440)][_0x1f0629],_0xc3229=_0x6c09d4[_0x5429f3(0x279)];console['log'](_0x5429f3(0x345)+_0x6c09d4+'\x20'+_0xc3229);for(var _0x187e2e in this[_0x5429f3(0x1e6)]){var _0x21e1a5=this[_0x5429f3(0x1e6)][_0x187e2e];console[_0x5429f3(0x114)]('check\x20protect\x20'+[_0x21e1a5['damage'],_0x21e1a5[_0x5429f3(0x144)],_0x6c09d4[_0x5429f3(0x144)]]);if(_0x21e1a5['damage']==_0x6c09d4[_0x5429f3(0x144)]){console['log'](_0x5429f3(0x3ae)+_0x6c09d4[_0x5429f3(0x144)]+'\x20by\x20'+_0x21e1a5[_0x5429f3(0x279)]+'\x20if\x20%'+_0x21e1a5[_0x5429f3(0x144)]);if(_0x21e1a5[_0x5429f3(0x144)])_0xc3229=_0xc3229*(0x1-_0x21e1a5[_0x5429f3(0x279)]/0x64);else _0xc3229=_0xc3229-_0x21e1a5[_0x5429f3(0x279)];}}if(_0xc3229>0x0)_0x365062+=_0xc3229;}console[_0x5429f3(0x114)](_0x5429f3(0x401)+_0x365062+'\x20('+Math[_0x5429f3(0x1a0)](_0x365062)+')');if(_0x365062>0x0)return Math[_0x5429f3(0x1a0)](_0x365062);return 0x0;},this[_0x2b95d2(0x2dc)]=()=>{var _0x1f6008=_0x2b95d2,_0x368b86='\x27'+this['name']+'\x27';for(var _0x401125 in this[_0x1f6008(0x1e6)]){_0x368b86+=_0x1f6008(0x444);if(this[_0x1f6008(0x1e6)][_0x401125][_0x1f6008(0x144)])_0x368b86+=this[_0x1f6008(0x1e6)][_0x401125][_0x1f6008(0x279)]+_0x1f6008(0x396);else _0x368b86+=this[_0x1f6008(0x1e6)][_0x401125][_0x1f6008(0x279)]+'\x20';_0x368b86+=this[_0x1f6008(0x1e6)][_0x401125][_0x1f6008(0x258)]+_0x1f6008(0x273);}return _0x368b86;};},HUMAN_NAME_LIST=[_0x2698c6(0x2f8),_0x2698c6(0x398),_0x2698c6(0x18a),_0x2698c6(0x162),_0x2698c6(0x2a6),_0x2698c6(0x276),'Alexia\x20Anderson',_0x2698c6(0x10b),'Linda\x20Castillo','Kai\x20Benjamin',_0x2698c6(0x445),_0x2698c6(0x34b),_0x2698c6(0x45e),'Wilson\x20Gill',_0x2698c6(0x1fc),_0x2698c6(0x2be),_0x2698c6(0x363),_0x2698c6(0x46f),_0x2698c6(0x498),_0x2698c6(0x48f),_0x2698c6(0x2e2),_0x2698c6(0x244),_0x2698c6(0x31d),_0x2698c6(0x1e8),'Saige\x20McBride',_0x2698c6(0x355),'Murphy\x20Nava',_0x2698c6(0x3c1),_0x2698c6(0x480),_0x2698c6(0x13e),_0x2698c6(0x4a8),'Ares\x20Long',_0x2698c6(0x379),_0x2698c6(0x1c3),_0x2698c6(0x4a4),'Vincent\x20Dougherty',_0x2698c6(0x327),'Shepherd\x20Park',_0x2698c6(0x1e4),'Nathan\x20Beltran',_0x2698c6(0x37f),_0x2698c6(0x152),_0x2698c6(0x1bf),_0x2698c6(0x2fe),'Mae\x20Gentry','Magnus\x20Yoder',_0x2698c6(0x28a),_0x2698c6(0x3f9),_0x2698c6(0x2f0),_0x2698c6(0x4d3),_0x2698c6(0x40f),_0x2698c6(0x2ab),_0x2698c6(0x33e),'Zachariah\x20Berg',_0x2698c6(0x277),_0x2698c6(0x28e),'Ruth\x20Stout','Callahan\x20Schmitt','Queen\x20Watson',_0x2698c6(0x3eb),'Hazel\x20Crawford','Kevin\x20Wiggins',_0x2698c6(0x165),_0x2698c6(0x238),_0x2698c6(0x15c),_0x2698c6(0x109),_0x2698c6(0x326),_0x2698c6(0x2b6),_0x2698c6(0x2a0),'Jadiel\x20McDonald',_0x2698c6(0x106),_0x2698c6(0x410),_0x2698c6(0x14c),_0x2698c6(0x295),'Tiana\x20Daniel',_0x2698c6(0x2f3),_0x2698c6(0x45c),_0x2698c6(0x3c4),'Maci\x20Alvarado','Andres\x20Sampson',_0x2698c6(0x308),_0x2698c6(0x31a),_0x2698c6(0x17e),_0x2698c6(0x1ba),_0x2698c6(0x382),'Stephen\x20Bartlett','Aubrielle\x20Farmer',_0x2698c6(0x40b),_0x2698c6(0x2a3),_0x2698c6(0x374),_0x2698c6(0x26b),'David\x20Grant',_0x2698c6(0x287),'Ander\x20Wise',_0x2698c6(0x2db),_0x2698c6(0x25a),_0x2698c6(0x4c9),_0x2698c6(0x2ae),_0x2698c6(0x3f4),_0x2698c6(0x358)],MessageSystem=function(){var _0x2f451e=_0x2698c6;world['MessageSystem']=this,this['msg']=[],COLOR_SYSTEM_DEFAULT=_0x2f451e(0x384),MAX_MESSAGE=0xc8,this[_0x2f451e(0x187)]=_0x402219=>{var _0x4a4724=_0x2f451e;if(!_0x402219||!_0x402219[_0x4a4724(0x4a1)])return;this[_0x4a4724(0x297)][_0x4a4724(0x366)]({'type':_0x402219[_0x4a4724(0x144)],'txt':_0x402219[_0x4a4724(0x4a1)]});while(this['msg'][_0x4a4724(0x4b4)]>MAX_MESSAGE)this[_0x4a4724(0x297)]['pop']();},this[_0x2f451e(0x187)]({'txt':_0x2f451e(0x10f)}),this['getMessageSystem']=_0x52ffcb=>{var _0x2e052a=_0x2f451e;if(!_0x52ffcb||!this[_0x2e052a(0x297)]||this['msg'][_0x2e052a(0x4b4)]<0x1)return[];var _0x2f5065=_0x52ffcb['page']&&_0x52ffcb[_0x2e052a(0x2d9)]<this[_0x2e052a(0x297)][_0x2e052a(0x4b4)]?_0x52ffcb[_0x2e052a(0x2d9)]:0x0,_0x5efbb2=_0x52ffcb[_0x2e052a(0x3d6)]?_0x52ffcb[_0x2e052a(0x3d6)]:0xa;while(_0x2f5065+_0x5efbb2>this[_0x2e052a(0x297)][_0x2e052a(0x4b4)]&&_0x5efbb2>0x0)_0x5efbb2--;var _0x26a3ff=[],_0x5b8012=0x0;while(_0x5b8012<_0x5efbb2&&this[_0x2e052a(0x297)][_0x2f5065+_0x5b8012]){_0x26a3ff['push'](this[_0x2e052a(0x297)][_0x2f5065+_0x5b8012]),_0x5b8012++;}return _0x26a3ff;};},PlayerVillage=function(_0x545ae7){var _0x4603b0=_0x2698c6;this[_0x4603b0(0x320)]=_0x545ae7['name']?_0x545ae7['name']:HUMAN_NAME_LIST[Math[_0x4603b0(0x1a0)](Math['random']()*HUMAN_NAME_LIST['length'])],this['color']=_0x545ae7['color']?_0x545ae7[_0x4603b0(0x466)]:{'r':Math[_0x4603b0(0x1a0)](Math['random']()*0x100),'g':Math[_0x4603b0(0x1a0)](Math[_0x4603b0(0x4a5)]()*0x100),'b':Math['floor'](Math[_0x4603b0(0x4a5)]()*0x100)},this[_0x4603b0(0x220)]=undefined,this[_0x4603b0(0x422)]=![],this[_0x4603b0(0x41b)]=_0x545ae7[_0x4603b0(0x41b)]?_0x545ae7[_0x4603b0(0x41b)]:PLAYER_FACE_IMG[Math['floor'](Math[_0x4603b0(0x4a5)]()*PLAYER_FACE_IMG[_0x4603b0(0x4b4)])],this[_0x4603b0(0x24b)]=_0x545ae7[_0x4603b0(0x24b)]?_0x545ae7[_0x4603b0(0x24b)]:PLAYER_BODY_IMG[Math[_0x4603b0(0x1a0)](Math[_0x4603b0(0x4a5)]()*PLAYER_BODY_IMG[_0x4603b0(0x4b4)])],this['armor']=_0x545ae7['armor']?_0x545ae7[_0x4603b0(0x41c)]:undefined,this['weapon']=_0x545ae7[_0x4603b0(0x214)]?_0x545ae7[_0x4603b0(0x214)]:undefined,this['speed']=_0x545ae7[_0x4603b0(0x36c)]?_0x545ae7['speed']:0x64,this[_0x4603b0(0x3d7)]=_0x545ae7[_0x4603b0(0x3d7)]?_0x545ae7[_0x4603b0(0x3d7)]:0x64,this[_0x4603b0(0x1ad)]=_0x545ae7['lifeMax']?_0x545ae7['lifeMax']:0x64,this[_0x4603b0(0x45f)]=_0x545ae7[_0x4603b0(0x45f)],this['movePCost']=_0x545ae7[_0x4603b0(0x378)]?_0x545ae7[_0x4603b0(0x378)]:PLAYER_DEFAUTL_MOVECOST,this[_0x4603b0(0x1c5)]=_0x545ae7[_0x4603b0(0x1c5)]?_0x545ae7[_0x4603b0(0x1c5)]:0x1,this['id']=PLAYER_ID++,this[_0x4603b0(0x400)]=_0x545ae7[_0x4603b0(0x400)]?_0x545ae7['villageActionPointMax']:0xa,this['villageActionPoint']=this[_0x4603b0(0x400)],this[_0x4603b0(0x13b)]=_0x545ae7[_0x4603b0(0x13b)]?_0x545ae7[_0x4603b0(0x3f0)]:0x0,this[_0x4603b0(0x181)]=_0x545ae7['lvl']?_0x545ae7[_0x4603b0(0x181)]:0x1,this[_0x4603b0(0x478)]=_0x545ae7['lvlup']?_0x545ae7[_0x4603b0(0x478)]:0x0,this[_0x4603b0(0x42d)]=[],this['getLvlUpPerkList']=()=>{var _0x56cc12=_0x4603b0,_0x15b6b7=[],_0x654053=Math[_0x56cc12(0x1a0)](Math['random']()*0x64),_0x39effa=_0x56cc12(0x45f),_0x82ec39=[{'type':_0x56cc12(0x45f),'stat':_0x56cc12(0x2ba),'value':0x1},{'type':_0x56cc12(0x45f),'stat':_0x56cc12(0x13f),'value':0x1},{'type':_0x56cc12(0x137),'stat':_0x56cc12(0x1ad),'value':0x5},{'type':'playerstats','stat':_0x56cc12(0x36c),'value':0x2},{'type':'playerstats','stat':'movePCost','value':-0x1},{'type':'playerstats','stat':'ActionPointMax','value':0x4},{'type':_0x56cc12(0x137),'stat':'villageActionPointMax','value':0x5}];while(_0x15b6b7[_0x56cc12(0x4b4)]<0x3){for(var _0x1c0552 in _0x82ec39){if(Math[_0x56cc12(0x1a0)](Math[_0x56cc12(0x4a5)]()*0x64)<0x32)_0x15b6b7[_0x56cc12(0x217)](_0x82ec39[_0x1c0552]);if(_0x15b6b7[_0x56cc12(0x4b4)]>0x2)break;}}return this[_0x56cc12(0x42d)]=_0x15b6b7,_0x15b6b7;},this[_0x4603b0(0x1f0)]=_0x31934b=>{var _0x3f1ac8=_0x4603b0;if(!_0x31934b||!_0x31934b['type']||!this[_0x3f1ac8(0x478)])return;if(_0x31934b[_0x3f1ac8(0x144)]==_0x3f1ac8(0x137))this[_0x31934b['stat']]+=_0x31934b[_0x3f1ac8(0x279)];else _0x31934b['type']==_0x3f1ac8(0x45f)&&(this['stats'][_0x31934b[_0x3f1ac8(0x191)]]+=_0x31934b[_0x3f1ac8(0x279)]);world[_0x3f1ac8(0x40c)][_0x3f1ac8(0x328)][_0x3f1ac8(0x187)]({'type':'player','txt':this[_0x3f1ac8(0x320)]+_0x3f1ac8(0x1a8)+_0x31934b[_0x3f1ac8(0x191)]+'\x20'+_0x31934b['value']}),this[_0x3f1ac8(0x42d)]=[],this[_0x3f1ac8(0x478)]--,this['lvl']++;},this['tryLvLup']=()=>{var _0x26edd0=_0x4603b0,_0x3f8d87=0x32*(0x1-this[_0x26edd0(0x181)]/0x64),_0xbaf949=Math[_0x26edd0(0x1a0)](Math[_0x26edd0(0x4a5)]()*0x64);if(_0xbaf949<_0x3f8d87)return this[_0x26edd0(0x478)]++,world[_0x26edd0(0x40c)][_0x26edd0(0x328)][_0x26edd0(0x187)]({'type':_0x26edd0(0x25c),'txt':this[_0x26edd0(0x320)]+_0x26edd0(0x1b6)}),world[_0x26edd0(0x130)][_0x26edd0(0x2a1)]('lvlup'),!![];return![];},this[_0x4603b0(0x1e9)]=()=>{var _0x3ff478=_0x4603b0,_0x29ccba=''+this[_0x3ff478(0x320)];_0x29ccba+='\x0a'+'Life\x20Max\x20:\x20'+this['lifeMax'],_0x29ccba+='\x0a'+'Action\x20Point\x20:\x20'+this[_0x3ff478(0x3d7)],_0x29ccba+='\x0a'+_0x3ff478(0x25b)+this[_0x3ff478(0x36c)];for(var _0x4e57c8 in this['stats'])_0x29ccba+='\x0a'+_0x4e57c8+'\x20:\x20'+this[_0x3ff478(0x45f)][_0x4e57c8];return this[_0x3ff478(0x214)]&&(_0x29ccba+='\x0a'+_0x3ff478(0x448)+this[_0x3ff478(0x214)][_0x3ff478(0x320)]+'\x27',_0x29ccba+='\x0a'+_0x3ff478(0x21b)+[this[_0x3ff478(0x214)][_0x3ff478(0x342)][_0x3ff478(0x4a6)]]),_0x29ccba;},this[_0x4603b0(0x215)]=()=>{var _0x15f5b5=_0x4603b0;if(!this['villageActionPoint'])return[];var _0x2975c4=world['village'][_0x15f5b5(0x2da)](this);if(!_0x2975c4||!_0x2975c4['callback_actionPlayer']||!_0x2975c4[_0x15f5b5(0x2fd)][_0x15f5b5(0x4b4)])return[];var _0xe3965b=_0x2975c4[_0x15f5b5(0x2fd)][_0x15f5b5(0x1d8)](_0x32a246=>_0x32a246['cost']<=this[_0x15f5b5(0x427)]);return _0xe3965b;},this['unequipWeapon']=()=>{var _0x43b84c=_0x4603b0;this[_0x43b84c(0x214)]&&(world[_0x43b84c(0x40c)][_0x43b84c(0x4b2)]({'weapon':this['weapon']}),this['weapon']=undefined);},this[_0x4603b0(0x1f1)]=()=>{var _0x3fc1f6=_0x4603b0;if(this[_0x3fc1f6(0x41c)])world[_0x3fc1f6(0x40c)][_0x3fc1f6(0x3ee)]({'armor':this[_0x3fc1f6(0x41c)]});this[_0x3fc1f6(0x41c)]=undefined,this[_0x3fc1f6(0x422)]=![];},this[_0x4603b0(0x227)]=_0x123223=>{var _0x2648f9=_0x4603b0;if(!_0x123223||!_0x123223['item'])return;if(_0x123223[_0x2648f9(0x356)][_0x2648f9(0x323)]==_0x2648f9(0x41c))this['unequipArmor']();else{if(_0x123223['item'][_0x2648f9(0x323)]==_0x2648f9(0x214))this[_0x2648f9(0x20c)]();}},this['equipWeapon']=_0x38d42f=>{var _0xeb528=_0x4603b0;if(!_0x38d42f||!_0x38d42f[_0xeb528(0x214)])return;var _0x12b7b9=-0x1;for(var _0x160a84 in world['village']['Items'])if(world[_0xeb528(0x40c)]['Items'][_0x160a84]==_0x38d42f[_0xeb528(0x214)])_0x12b7b9=_0x160a84;if(_0x12b7b9==-0x1)return;if(this[_0xeb528(0x214)])this[_0xeb528(0x20c)]();this[_0xeb528(0x214)]=_0x38d42f[_0xeb528(0x214)],world[_0xeb528(0x40c)][_0xeb528(0x32a)]['splice'](_0x12b7b9,0x1);if(world['villageUI']&&world[_0xeb528(0x1fa)][_0xeb528(0x286)]==_0x38d42f[_0xeb528(0x214)])world['villageUI'][_0xeb528(0x286)]=undefined;},this[_0x4603b0(0x493)]=_0x362325=>{var _0x2b4cf0=_0x4603b0;if(!_0x362325||!_0x362325[_0x2b4cf0(0x41c)])return;var _0x32c207=-0x1;for(var _0x51395d in world[_0x2b4cf0(0x40c)][_0x2b4cf0(0x32a)])if(world[_0x2b4cf0(0x40c)][_0x2b4cf0(0x32a)][_0x51395d]==_0x362325[_0x2b4cf0(0x41c)])_0x32c207=_0x51395d;if(_0x32c207==-0x1)return;if(this[_0x2b4cf0(0x41c)])this['unequipArmor']();this[_0x2b4cf0(0x41c)]=_0x362325[_0x2b4cf0(0x41c)],world[_0x2b4cf0(0x40c)]['Items'][_0x2b4cf0(0x2e9)](_0x32c207,0x1);if(world[_0x2b4cf0(0x1fa)]&&world[_0x2b4cf0(0x1fa)]['itemSelected']==_0x362325['armor'])world['villageUI'][_0x2b4cf0(0x286)]=undefined;this[_0x2b4cf0(0x422)]=![];},this['equipItem']=_0x5cafbe=>{var _0x5cbe4d=_0x4603b0;if(!_0x5cafbe||!_0x5cafbe[_0x5cbe4d(0x356)])return;if(_0x5cafbe['item'][_0x5cbe4d(0x323)]==_0x5cbe4d(0x41c))this[_0x5cbe4d(0x493)]();else{if(_0x5cafbe[_0x5cbe4d(0x356)]['itemType']=='weapon')this[_0x5cbe4d(0x218)]();}},this[_0x4603b0(0x202)]=()=>{var _0x25b411=_0x4603b0,_0x373ca8=world[_0x25b411(0x1c2)];if(!this[_0x25b411(0x41b)])this[_0x25b411(0x41b)]=PLAYER_FACE_IMG[Math['floor'](Math[_0x25b411(0x4a5)]()*PLAYER_FACE_IMG[_0x25b411(0x4b4)])];if(!this[_0x25b411(0x24b)])this[_0x25b411(0x24b)]=PLAYER_BODY_IMG[Math[_0x25b411(0x1a0)](Math['random']()*PLAYER_BODY_IMG[_0x25b411(0x4b4)])];var _0xce6ce0=[];_0xce6ce0[_0x25b411(0x217)]({'name':this[_0x25b411(0x24b)],'needColor':!![]}),_0xce6ce0[_0x25b411(0x217)]({'name':this[_0x25b411(0x41b)],'needColor':![]});if(this[_0x25b411(0x41c)])_0xce6ce0[_0x25b411(0x217)]({'name':this[_0x25b411(0x41c)]['name'],'needColor':![]});for(var _0x1de78c in _0xce6ce0)if(!_0x373ca8[_0xce6ce0[_0x1de78c][_0x25b411(0x320)]]||!_0x373ca8[_0xce6ce0[_0x1de78c][_0x25b411(0x320)]][_0x25b411(0x1db)])return console['log']('can\x27t\x20with\x20'+_0xce6ce0[_0x1de78c][_0x25b411(0x320)]);var _0x147a40=document['createElement']('canvas');_0x147a40[_0x25b411(0x470)]=PLAYER_DEFAULT_SIZEX,_0x147a40[_0x25b411(0x184)]=PLAYER_DEFAULT_SIZEY;var _0x1a65b0=_0x147a40[_0x25b411(0x223)]('2d');for(var _0x1de78c in _0xce6ce0){var _0x3a5664=_0xce6ce0[_0x1de78c]['name'];if(!_0x373ca8[_0x3a5664])return console['log'](_0x25b411(0x294)+_0x3a5664);var _0x5d7038=undefined;if(_0xce6ce0[_0x1de78c][_0x25b411(0x309)])_0x5d7038=_0x373ca8[_0x3a5664][_0x25b411(0x435)](0x0,0xff,0x0,this[_0x25b411(0x466)]['r'],this[_0x25b411(0x466)]['g'],this[_0x25b411(0x466)]['b']);else _0x5d7038=_0x373ca8[_0x3a5664][_0x25b411(0x173)];if(!_0x5d7038||!_0x5d7038[_0x25b411(0x443)])return console[_0x25b411(0x114)]('image\x20incomplet');_0x1a65b0['drawImage'](_0x5d7038,0x0,0x0);}var _0x5d7038=new Image();return _0x5d7038[_0x25b411(0x451)]=_0x147a40[_0x25b411(0x32b)](),this['bodyPartImg']=_0x5d7038,console[_0x25b411(0x114)]('player\x20'+this['name']+_0x25b411(0x462)),this[_0x25b411(0x422)]=!![],!![];},this[_0x4603b0(0x202)]();},Batiment=function(_0x13c963){var _0x2b9c6f=_0x2698c6;this['name']=_0x13c963[_0x2b9c6f(0x320)],this[_0x2b9c6f(0x1f7)]=_0x13c963['player_size']?_0x13c963[_0x2b9c6f(0x1f7)]:0x0,this[_0x2b9c6f(0x2fd)]=_0x13c963['callback_actionPlayer'],this[_0x2b9c6f(0x42a)]=[],this[_0x2b9c6f(0x431)]=_0x13c963[_0x2b9c6f(0x431)]?_0x13c963['description']:_0x2b9c6f(0x494),this[_0x2b9c6f(0x29c)]=_0x13c963[_0x2b9c6f(0x29c)]?_0x13c963['blocking_end_turn']:![],this[_0x2b9c6f(0x247)]=_0x13c963[_0x2b9c6f(0x247)]?_0x13c963[_0x2b9c6f(0x247)]:undefined,this[_0x2b9c6f(0x3d2)]=_0x13c963[_0x2b9c6f(0x3d2)]?_0x13c963[_0x2b9c6f(0x3d2)]:undefined,this['lvl']=_0x13c963[_0x2b9c6f(0x181)]?_0x13c963[_0x2b9c6f(0x181)]:undefined,this['upgrades']=_0x13c963['upgrades']?_0x13c963[_0x2b9c6f(0x1a9)]:[],this[_0x2b9c6f(0x27a)]=_0x13c963[_0x2b9c6f(0x27a)]?_0x13c963['upgrades_callback']:undefined,this[_0x2b9c6f(0x2a7)]=_0x5e2cdc=>{var _0x209ef1=_0x2b9c6f;if(!_0x5e2cdc||!_0x5e2cdc['player']||!_0x5e2cdc[_0x209ef1(0x25c)]['villageActionPoint'])return![];var _0x37ee8f=this[_0x209ef1(0x3d2)]<_0x5e2cdc['player'][_0x209ef1(0x427)]?this['build_progression']:_0x5e2cdc[_0x209ef1(0x25c)][_0x209ef1(0x427)];return this[_0x209ef1(0x3d2)]-=_0x37ee8f,_0x5e2cdc[_0x209ef1(0x25c)]['villageActionPoint']-=_0x37ee8f,world[_0x209ef1(0x40c)][_0x209ef1(0x328)][_0x209ef1(0x187)]({'type':_0x209ef1(0x2e1),'txt':_0x5e2cdc[_0x209ef1(0x25c)]['name']+'\x20is\x20building\x20\x27'+this[_0x209ef1(0x320)]+_0x209ef1(0x424)+_0x37ee8f+')'}),this[_0x209ef1(0x3d2)]<0x1&&(this[_0x209ef1(0x3d2)]=undefined,world[_0x209ef1(0x40c)][_0x209ef1(0x328)][_0x209ef1(0x187)]({'type':'building','txt':_0x209ef1(0x393)+this['name']+_0x209ef1(0x369)})),world[_0x209ef1(0x130)][_0x209ef1(0x2a1)](_0x209ef1(0x3fd)),!![];},this[_0x2b9c6f(0x388)]=()=>{var _0x32187d=_0x2b9c6f;if(!this['upgrades']||!this[_0x32187d(0x1a9)][_0x32187d(0x4b4)])return undefined;return this[_0x32187d(0x1a9)][0x0];},this['checkNextUpgrade']=()=>{var _0x35773a=_0x2b9c6f;if(!this['upgrades']||!this[_0x35773a(0x1a9)][_0x35773a(0x4b4)])return![];var _0x10a782=this['getNextUpgrade']();if(_0x10a782[_0x35773a(0x157)]){if(!world[_0x35773a(0x40c)][_0x35773a(0x1b1)](_0x10a782))return console[_0x35773a(0x114)](_0x35773a(0x317));}return console[_0x35773a(0x114)](_0x35773a(0x35f)),world['Music'][_0x35773a(0x2a1)](_0x35773a(0x3fd)),!![];},this[_0x2b9c6f(0x42b)]=()=>{var _0x5954ff=_0x2b9c6f,_0x559518=this[_0x5954ff(0x388)]();if(this[_0x5954ff(0x48a)]()){world[_0x5954ff(0x40c)][_0x5954ff(0x328)][_0x5954ff(0x187)]({'type':'building','txt':this[_0x5954ff(0x320)]+_0x5954ff(0x44a)+(this[_0x5954ff(0x181)]+0x1)}),world[_0x5954ff(0x40c)][_0x5954ff(0x196)](_0x559518);if(this[_0x5954ff(0x27a)])this['upgrades_callback']({'bat':this});this[_0x5954ff(0x1a9)]['shift'](),this[_0x5954ff(0x181)]++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':'wood\x20Stick','type':_0x2698c6(0x214),'bat':_0x2698c6(0x3cb),'resources':{'wood':0xa},'APcost':0xa,'description':_0x2698c6(0x18d)},{'name':_0x2698c6(0x3a6),'type':_0x2698c6(0x41c),'bat':_0x2698c6(0x3cb),'resources':{'wood':0x19},'APcost':0xa,'description':_0x2698c6(0x479)},{'name':_0x2698c6(0x432),'type':_0x2698c6(0x214),'bat':'workshop','resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':_0x2698c6(0x483)},{'name':'Stone\x20Pickaxe','type':_0x2698c6(0x214),'bat':_0x2698c6(0x3cb),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':'get\x20more\x20resources\x20in\x20mine'},{'name':_0x2698c6(0x104),'type':_0x2698c6(0x214),'bat':_0x2698c6(0x3cb),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x2698c6(0x17a)},{'name':_0x2698c6(0x35e),'type':'armor','bat':_0x2698c6(0x3cb),'resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':_0x2698c6(0x394)},{'name':_0x2698c6(0x19b),'type':_0x2698c6(0x214),'bat':_0x2698c6(0x1aa),'resources':{'wood':0x64},'APcost':0xa,'description':_0x2698c6(0x485)}],Village=function(_0x2b685d){var _0x32dbad=_0x2698c6;this[_0x32dbad(0x362)]=_0x2b685d[_0x32dbad(0x250)]?_0x2b685d[_0x32dbad(0x250)]:0x1,this[_0x32dbad(0x157)]=_0x2b685d[_0x32dbad(0x157)]?_0x2b685d[_0x32dbad(0x157)]:{'food':0x0,'wood':0x0},this[_0x32dbad(0x460)]=_0x2b685d[_0x32dbad(0x460)]?_0x2b685d[_0x32dbad(0x460)]:[],this['bats']=_0x2b685d[_0x32dbad(0x257)]?_0x2b685d[_0x32dbad(0x257)]:[],this[_0x32dbad(0x245)]=[],this[_0x32dbad(0x4b6)]=_0x2b685d[_0x32dbad(0x4b6)]?_0x2b685d[_0x32dbad(0x4b6)]:0x0,this['MessageSystem']=new MessageSystem();var _0x5a07c3=0x0;PHASE_NEWTURN=_0x5a07c3++,PHASE_PLACEPLAYER=_0x5a07c3++,PHASE_ACTIONPLAYER=_0x5a07c3++,PHASE_COMBAT=_0x5a07c3++,PHASE_END_TURN=_0x5a07c3++,this[_0x32dbad(0x28d)]=PHASE_NEWTURN,this[_0x32dbad(0x32a)]=[],this['playerColor']=_0x2b685d[_0x32dbad(0x17f)]?_0x2b685d[_0x32dbad(0x17f)]:HUMAN_DEFAULT_COLOR[Math[_0x32dbad(0x1a0)](Math[_0x32dbad(0x4a5)]()*HUMAN_DEFAULT_COLOR[_0x32dbad(0x4b4)])],this['getDateText']=()=>{var _0x322165=_0x32dbad,_0x55695f=Math['floor'](this[_0x322165(0x4b6)]/(0xc*0x4)),_0x3a159e=Math[_0x322165(0x1a0)](this[_0x322165(0x4b6)]/0x4)%0xc,_0x4ac423=this[_0x322165(0x4b6)]%0x4+0x1,_0x15d974=_0x322165(0x296)+this['week'];_0x15d974+=_0x322165(0x2f1);if(_0x55695f)_0x15d974+=_0x322165(0x47d)+_0x55695f;if(_0x3a159e)_0x15d974+=_0x322165(0x371)+_0x3a159e;return _0x15d974+=_0x322165(0x4b9)+_0x4ac423,_0x15d974;},this['get_valid_craft_list']=()=>{var _0x3835d6=_0x32dbad,_0x36a92c=[];for(var _0x197062 in CRAFT_LIST){var _0x4cdb69=CRAFT_LIST[_0x197062],_0x271b05=this[_0x3835d6(0x257)][_0x3835d6(0x4af)](_0xb4433d=>_0xb4433d[_0x3835d6(0x320)]==_0x4cdb69['bat']);if(!_0x271b05||_0x271b05[_0x3835d6(0x3d2)])continue;_0x36a92c[_0x3835d6(0x217)](_0x4cdb69);}return _0x36a92c;},this[_0x32dbad(0x180)]=_0x5d3c0a=>{var _0x255913=_0x32dbad;if(!_0x5d3c0a||!_0x5d3c0a[_0x255913(0x26a)])return[];var _0x4e6cba=[],_0x4e573a=_0x5d3c0a[_0x255913(0x26a)];for(var _0x22d02c in this[_0x255913(0x460)]){var _0x20d703=this[_0x255913(0x460)][_0x22d02c],_0x4120ba=this[_0x255913(0x2da)](_0x20d703);if(!_0x4120ba||_0x4120ba[_0x255913(0x320)]!=_0x4e573a['bat'])continue;if(_0x20d703[_0x255913(0x427)]<_0x4e573a[_0x255913(0x2dd)])continue;for(var _0x3d0130 in _0x4e573a['resource']){var _0x3ef254=_0x3d0130,_0xe4b4bd=_0x4e573a[_0x255913(0x1dc)][_0x3d0130];if(!this[_0x255913(0x157)][_0x255913(0x103)]||this[_0x255913(0x157)][_0x255913(0x103)]<_0xe4b4bd)continue;}_0x4e6cba[_0x255913(0x217)](_0x20d703);}return _0x4e6cba;},this[_0x32dbad(0x172)]=_0x339e2f=>{var _0x4af4f0=_0x32dbad;console[_0x4af4f0(0x114)](_0x4af4f0(0x387));if(!_0x339e2f||!_0x339e2f['craft']||!_0x339e2f['player'])return console['log'](_0x4af4f0(0x3e6));var _0x1e7ddf=this['get_valid_craft_list'](),_0x121d24=_0x339e2f[_0x4af4f0(0x25c)];if(!_0x1e7ddf||_0x1e7ddf['length']<0x1)return console[_0x4af4f0(0x114)](_0x4af4f0(0x4c0));_0x1e7ddf=_0x1e7ddf[_0x4af4f0(0x4af)](_0x1e6d32=>_0x1e6d32==_0x339e2f['craft']);if(!_0x1e7ddf)return console[_0x4af4f0(0x114)](_0x4af4f0(0x113));if(!this[_0x4af4f0(0x180)]({'craft':_0x1e7ddf})[_0x4af4f0(0x4af)](_0x2fdad0=>_0x2fdad0==_0x121d24))return console['log'](_0x4af4f0(0x37b));for(var _0x44fd26 in _0x1e7ddf['resources']){var _0x755e04=_0x44fd26,_0x570079=_0x1e7ddf[_0x4af4f0(0x157)][_0x44fd26];if(this[_0x4af4f0(0x157)][_0x44fd26]<_0x570079)return this[_0x4af4f0(0x328)][_0x4af4f0(0x187)]({'txt':_0x4af4f0(0x293)}),![];}if(_0x121d24[_0x4af4f0(0x427)]<_0x1e7ddf['APcost'])return this[_0x4af4f0(0x328)][_0x4af4f0(0x187)]({'txt':_0x121d24[_0x4af4f0(0x320)]+_0x4af4f0(0x389)}),![];_0x121d24[_0x4af4f0(0x427)]-=_0x1e7ddf[_0x4af4f0(0x2dd)];switch(_0x1e7ddf['type']){case _0x4af4f0(0x214):this[_0x4af4f0(0x4b2)]({'weapon':new Weapon()['createNewWeapon']({'name':_0x1e7ddf['name']})});break;case _0x4af4f0(0x41c):this[_0x4af4f0(0x3ee)]({'armor':new Armor()[_0x4af4f0(0x167)]({'name':_0x1e7ddf[_0x4af4f0(0x320)]})});}switch(_0x1e7ddf[_0x4af4f0(0x204)]){case _0x4af4f0(0x3cb):world[_0x4af4f0(0x130)][_0x4af4f0(0x2a1)](_0x4af4f0(0x32f));break;case _0x4af4f0(0x18b):world['Music'][_0x4af4f0(0x2a1)]('saw_workshop');break;}this['MessageSystem'][_0x4af4f0(0x187)]({'type':_0x4af4f0(0x1d9),'txt':_0x121d24['name']+_0x4af4f0(0x164)+_0x1e7ddf['name']}),this[_0x4af4f0(0x196)](_0x1e7ddf);},this[_0x32dbad(0x23f)]=_0x169bd3=>{var _0x417517=_0x32dbad;if(this[_0x417517(0x460)][_0x417517(0x4b4)]>=this['populationMax'])return undefined;var _0xa429a5={'r':this[_0x417517(0x17f)]['r']-0x5+Math[_0x417517(0x1a0)](Math[_0x417517(0x4a5)]()*0xb),'g':this[_0x417517(0x17f)]['g']-0x5+Math[_0x417517(0x1a0)](Math[_0x417517(0x4a5)]()*0xb),'b':this[_0x417517(0x17f)]['b']-0x5+Math[_0x417517(0x1a0)](Math['random']()*0xb)},_0x13c196=new PlayerVillage({'color':_0xa429a5,'speed':0x64-0x5+Math[_0x417517(0x1a0)](Math['random']()*0xb),'stats':{'Strength':0xa-0x5+Math[_0x417517(0x1a0)](Math[_0x417517(0x4a5)]()*0xb),'Dexterity':0xa-0x5+Math[_0x417517(0x1a0)](Math[_0x417517(0x4a5)]()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math['floor'](Math['random']()*0x5),'lifeMax':0x64-0x14+Math[_0x417517(0x1a0)](Math[_0x417517(0x4a5)]()*0x29),'weapon':_0x169bd3[_0x417517(0x214)]?new Weapon()[_0x417517(0x262)]({'name':_0x169bd3['weapon']}):undefined,'armor':_0x169bd3[_0x417517(0x41c)]?new Armor()[_0x417517(0x167)]({'name':_0x169bd3[_0x417517(0x41c)]}):undefined,'size':0x1});return this[_0x417517(0x460)][_0x417517(0x217)](_0x13c196),_0x13c196;},this[_0x32dbad(0x2da)]=_0x3c7a8a=>{var _0x105cd9=_0x32dbad;if(!_0x3c7a8a)return undefined;for(var _0x4c2287 in this[_0x105cd9(0x257)]){var _0x2db948=this[_0x105cd9(0x257)][_0x4c2287]['players_inside'][_0x105cd9(0x4af)](_0x16c110=>_0x16c110==_0x3c7a8a);if(_0x2db948)return this['bats'][_0x4c2287];}return undefined;},this[_0x32dbad(0x3d4)]=()=>{var _0x3bae17=_0x32dbad;this[_0x3bae17(0x362)]=0x5,this[_0x3bae17(0x157)]={'food':0xc8,'wood':0xc8,'stone':0xc8};for(var _0x3dae05=0x0;_0x3dae05<0x5;_0x3dae05++){if(_0x3dae05==0x0)this[_0x3bae17(0x23f)]({'weapon':_0x3bae17(0x2bd),'armor':'Miner\x20helmet'});else this[_0x3bae17(0x23f)]({});}this[_0x3bae17(0x141)](),this[_0x3bae17(0x1d7)](),this[_0x3bae17(0x2b7)](),this[_0x3bae17(0x27b)]();},this['removePlayerFromBat']=_0x184f50=>{var _0x2382f9=_0x32dbad;if(!_0x184f50||!_0x184f50[_0x2382f9(0x25c)])return![];var _0x49f424=_0x184f50[_0x2382f9(0x25c)];for(var _0x1ae87d in this[_0x2382f9(0x257)]){var _0x335777=this[_0x2382f9(0x257)][_0x1ae87d];for(var _0x40f592 in _0x335777[_0x2382f9(0x42a)])if(_0x335777[_0x2382f9(0x42a)][_0x40f592]==_0x49f424)_0x335777['players_inside'][_0x2382f9(0x2e9)](_0x40f592,0x1);}},this['affectPlayerToBat']=_0x5d2d45=>{var _0x26711f=_0x32dbad;if(!_0x5d2d45||!_0x5d2d45[_0x26711f(0x25c)]||!_0x5d2d45[_0x26711f(0x204)])return![];if(_0x5d2d45[_0x26711f(0x204)]['players_inside'][_0x26711f(0x4b4)]>=_0x5d2d45[_0x26711f(0x204)][_0x26711f(0x1f7)])return![];var _0x6a9cdc=_0x5d2d45[_0x26711f(0x25c)];for(var _0x233b4d in this[_0x26711f(0x257)]){var _0xf332e=this[_0x26711f(0x257)][_0x233b4d];for(var _0x813fd5 in _0xf332e['players_inside'])if(_0xf332e[_0x26711f(0x42a)][_0x813fd5]==_0x6a9cdc)_0xf332e[_0x26711f(0x42a)][_0x26711f(0x2e9)](_0x813fd5,0x1);}_0x5d2d45[_0x26711f(0x204)][_0x26711f(0x42a)][_0x26711f(0x217)](_0x6a9cdc);},this[_0x32dbad(0x196)]=_0x17ccc9=>{var _0x32b979=_0x32dbad;if(!_0x17ccc9||!_0x17ccc9[_0x32b979(0x157)])return console[_0x32b979(0x114)](_0x32b979(0x40d));var _0x156478=![],_0x1ee282=_0x32b979(0x454);for(var _0x433ce2 in _0x17ccc9[_0x32b979(0x157)]){var _0x41c1ab=_0x433ce2,_0x31f1b0=_0x17ccc9['resources'][_0x433ce2];if(!(_0x31f1b0>0x0))continue;_0x156478=!![];var _0x468331=this[_0x32b979(0x157)];if(!_0x468331[_0x41c1ab]||_0x468331[_0x41c1ab]<_0x31f1b0)return console['log'](_0x32b979(0x1d0));_0x468331[_0x41c1ab]-=_0x31f1b0,_0x1ee282+='\x20x'+_0x31f1b0+'\x20'+_0x41c1ab;}if(_0x156478)this[_0x32b979(0x328)]['addMessage']({'type':'resource','txt':{..._0x17ccc9[_0x32b979(0x157)]}});},this['addResource']=_0x2c7c0c=>{var _0x91874b=_0x32dbad;if(!_0x2c7c0c||!_0x2c7c0c[_0x91874b(0x157)])return![];var _0x295faa=![];for(var _0x444514 in _0x2c7c0c[_0x91874b(0x157)]){var _0x4320dc=_0x444514,_0x195407=_0x2c7c0c[_0x91874b(0x157)][_0x444514];if(!(_0x195407>0x0))continue;_0x295faa=!![];var _0x3db75a=this[_0x91874b(0x157)];if(!_0x3db75a[_0x4320dc])_0x3db75a[_0x4320dc]=0x0;_0x3db75a[_0x4320dc]+=_0x195407;}if(_0x295faa)this['MessageSystem'][_0x91874b(0x187)]({'type':_0x91874b(0x1dc),'txt':{..._0x2c7c0c[_0x91874b(0x157)]}});},this[_0x32dbad(0x2b7)]=_0x195108=>{var _0xd637cb=_0x32dbad;function _0x38fa3a(_0x58758d){var _0x21544c=_0xb2fc;if(!_0x58758d||!_0x58758d['bat'])return;var _0x5adf2f=_0x58758d[_0x21544c(0x204)],_0x5948f8=world['village'];_0x5adf2f[_0x21544c(0x181)]==0x1&&(_0x5948f8[_0x21544c(0x362)]+=0x5,_0x5948f8[_0x21544c(0x328)]['addMessage']({'type':'player','txt':_0x21544c(0x4ab)+_0x5948f8[_0x21544c(0x362)]+')'})),_0x5adf2f[_0x21544c(0x181)]==0x2&&(_0x5948f8[_0x21544c(0x362)]+=0xa,_0x5948f8[_0x21544c(0x328)]['addMessage']({'type':_0x21544c(0x25c),'txt':_0x21544c(0x3e4)+_0x5948f8[_0x21544c(0x362)]+')'}));}var _0x454aab=new Batiment({'name':_0xd637cb(0x3aa),'player_size':0x0,'callback_actionPlayer':[],'description':_0x8b5368=>{var _0x1c5df9=_0xd637cb;return _0x1c5df9(0x4c8)+_0x8b5368['lvl']+_0x1c5df9(0x246)+world[_0x1c5df9(0x40c)]['populationMax'];},'blocking_end_turn':!![],'imgIcon':_0xd637cb(0x3aa),'lvl':0x1,'upgrades_callback':_0x38fa3a,'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'wood':0x64,'stone':0x14}}]});_0x454aab[_0xd637cb(0x473)]=0x5,this['bats'][_0xd637cb(0x217)](_0x454aab);},this[_0x32dbad(0x3e0)]=_0x27779f=>{var _0x30ae7b=_0x32dbad,_0x12896c=new Batiment({'name':_0x27779f[_0x30ae7b(0x320)],'player_size':0x2,'callback_actionPlayer':[{'callback':()=>{var _0x38718e=_0x30ae7b;world[_0x38718e(0x1fa)]&&world[_0x38718e(0x1fa)][_0x38718e(0x302)]({'tab':'craft'});},'buto_txt':_0x30ae7b(0x348),'description':_0x30ae7b(0x373),'cost':0x0}],'description':_0x30ae7b(0x446),'blocking_end_turn':!![],'imgIcon':'bow_workshop_icon','build_progression':_0x27779f[_0x30ae7b(0x324)]});this[_0x30ae7b(0x257)][_0x30ae7b(0x217)](_0x12896c);},this['addWorkShop']=_0x40de0d=>{var _0xf65b95=_0x32dbad,_0x3886de=new Batiment({'name':_0x40de0d[_0xf65b95(0x320)],'player_size':0x2,'callback_actionPlayer':[{'callback':()=>{var _0x3f0216=_0xf65b95;world[_0x3f0216(0x1fa)]&&world[_0x3f0216(0x1fa)][_0x3f0216(0x302)]({'tab':_0x3f0216(0x26a)});},'buto_txt':_0xf65b95(0x348),'description':_0xf65b95(0x373),'cost':0x0}],'description':_0xf65b95(0x120),'blocking_end_turn':!![],'imgIcon':_0xf65b95(0x1af),'build_progression':_0x40de0d[_0xf65b95(0x324)]});this[_0xf65b95(0x257)][_0xf65b95(0x217)](_0x3886de);},this[_0x32dbad(0x266)]=_0x4455b8=>{var _0xa1afbc=_0x32dbad;recolteMine=function(_0x57bda2){var _0x13ead7=_0xb2fc;if(!_0x57bda2||!_0x57bda2['player']||_0x57bda2[_0x13ead7(0x447)]==undefined||_0x57bda2['cost']>_0x57bda2[_0x13ead7(0x25c)][_0x13ead7(0x427)])return;var _0x39f1ca=_0x57bda2['player']['name']+_0x13ead7(0x31b)+_0x57bda2['cost']+_0x13ead7(0x134);world['village'][_0x13ead7(0x328)]['addMessage']({'type':_0x13ead7(0x1d9),'txt':_0x39f1ca}),_0x57bda2[_0x13ead7(0x25c)][_0x13ead7(0x427)]-=_0x57bda2[_0x13ead7(0x447)];var _0x513bcf=_0x57bda2[_0x13ead7(0x25c)][_0x13ead7(0x214)]&&_0x57bda2[_0x13ead7(0x25c)][_0x13ead7(0x214)][_0x13ead7(0x3a2)][_0x13ead7(0x4af)](_0x40e328=>_0x40e328==BONUS_PICKAXE_MINE)?!![]:![],_0x3fd87c=0x2+Math[_0x13ead7(0x1a0)](Math[_0x13ead7(0x4a5)]()*0x5);if(_0x513bcf)_0x3fd87c+=0x14;var _0xca471f=Math['floor'](Math[_0x13ead7(0x4a5)]()*0x64)>0x5?0x0:Math['floor'](Math[_0x13ead7(0x4a5)]()*0xa),_0x328260={'stone':_0x3fd87c};if(_0xca471f||_0x513bcf)_0x328260['coal']=_0xca471f;world['village'][_0x13ead7(0x47e)]({'resources':_0x328260}),world[_0x13ead7(0x130)][_0x13ead7(0x2a1)]('mine');};var _0x2ecb50=new Batiment({'name':_0x4455b8[_0xa1afbc(0x320)],'player_size':0x3,'callback_actionPlayer':[{'callback':recolteMine,'buto_txt':_0xa1afbc(0x1cb),'description':'Mine\x20the\x20ground\x20get\x20resources','cost':0x4}],'description':_0xa1afbc(0x41e),'blocking_end_turn':!![],'imgIcon':_0xa1afbc(0x299),'build_progression':_0x4455b8[_0xa1afbc(0x324)]});this[_0xa1afbc(0x257)]['push'](_0x2ecb50);},this[_0x32dbad(0x43b)]=()=>{var _0x4991d6=_0x32dbad;function _0x1cc7f3(_0x35449f){var _0x2e46c9=_0xb2fc;if(!_0x35449f||!_0x35449f[_0x2e46c9(0x25c)]||_0x35449f[_0x2e46c9(0x447)]==undefined||_0x35449f[_0x2e46c9(0x447)]>_0x35449f['player'][_0x2e46c9(0x427)])return;if(!world['village']['checkHaveResources']({'resources':{'wood':0xa}})){world['village'][_0x2e46c9(0x328)][_0x2e46c9(0x187)]({'type':'job','txt':_0x2e46c9(0x30d)});return;}world[_0x2e46c9(0x130)][_0x2e46c9(0x2a1)](_0x2e46c9(0x4cf));var _0x1a245c=_0x35449f[_0x2e46c9(0x25c)][_0x2e46c9(0x320)]+_0x2e46c9(0x283)+_0x35449f[_0x2e46c9(0x447)]+_0x2e46c9(0x134);world[_0x2e46c9(0x40c)]['MessageSystem'][_0x2e46c9(0x187)]({'type':'job','txt':_0x1a245c}),_0x35449f[_0x2e46c9(0x25c)]['villageActionPoint']-=_0x35449f[_0x2e46c9(0x447)],world[_0x2e46c9(0x40c)][_0x2e46c9(0x196)]({'resources':{'wood':0xa}}),world[_0x2e46c9(0x40c)][_0x2e46c9(0x47e)]({'resources':{'woodplank':0x1}});}var _0x4ac9cf=new Batiment({'name':_0x4991d6(0x370),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x1cc7f3,'buto_txt':_0x4991d6(0x4cd),'description':'transform\x20wood\x20into\x20woodplank','cost':0x5}],'description':_0x4991d6(0x3d3),'blocking_end_turn':!![],'imgIcon':'sawmill'});this[_0x4991d6(0x257)][_0x4991d6(0x217)](_0x4ac9cf);},this[_0x32dbad(0x1d7)]=()=>{var _0x1452ca=_0x32dbad;function _0x37ca3f(_0x124637){var _0x1fe1fe=_0xb2fc;if(!_0x124637||!_0x124637[_0x1fe1fe(0x25c)]||_0x124637[_0x1fe1fe(0x447)]==undefined||_0x124637[_0x1fe1fe(0x447)]>_0x124637[_0x1fe1fe(0x25c)]['villageActionPoint'])return;world[_0x1fe1fe(0x130)][_0x1fe1fe(0x2a1)](_0x1fe1fe(0x1d5));var _0x51f71a=0xa-0x2+Math['floor'](Math[_0x1fe1fe(0x4a5)]()*0x5),_0x55d45e=0x5-0x4+Math['floor'](Math[_0x1fe1fe(0x4a5)]()*0x9);_0x124637[_0x1fe1fe(0x25c)]['weapon']&&_0x124637[_0x1fe1fe(0x25c)][_0x1fe1fe(0x214)][_0x1fe1fe(0x3a2)]['find'](_0x266198=>_0x266198==BONUS_AXE_FOREST_WOOD)&&(_0x55d45e*=0x2,console[_0x1fe1fe(0x114)](_0x1fe1fe(0x417)));var _0x4f94f9=0x1+Math[_0x1fe1fe(0x1a0)](Math[_0x1fe1fe(0x4a5)]()*0x2),_0x31ae45=_0x124637[_0x1fe1fe(0x25c)][_0x1fe1fe(0x320)]+_0x1fe1fe(0x3b9)+_0x124637[_0x1fe1fe(0x447)]+_0x1fe1fe(0x134);world[_0x1fe1fe(0x40c)]['MessageSystem']['addMessage']({'type':_0x1fe1fe(0x1d9),'txt':_0x31ae45}),_0x124637[_0x1fe1fe(0x25c)][_0x1fe1fe(0x427)]-=_0x124637[_0x1fe1fe(0x447)],world['village'][_0x1fe1fe(0x47e)]({'resources':{'food':_0x51f71a,'wood':_0x55d45e,'stone':_0x4f94f9}});}var _0x3d22f9=new Batiment({'name':'Forest\x20Exploitation','player_size':0x2,'callback_actionPlayer':[{'callback':_0x37ca3f,'buto_txt':'get\x20resources','description':_0x1452ca(0x1fb),'cost':0x5}],'description':'Exploit\x20resource\x20from\x20the\x20forest','blocking_end_turn':!![],'imgIcon':_0x1452ca(0x23c)});this['bats'][_0x1452ca(0x217)](_0x3d22f9);},this[_0x32dbad(0x141)]=()=>{var _0x362beb=_0x32dbad,_0x1e7698=new Batiment({'name':'Defend\x20Village','player_size':0x5,'callback_actionPlayer':[],'description':_0x362beb(0x21c),'blocking_end_turn':![],'imgIcon':_0x362beb(0x34d)});this['bats'][_0x362beb(0x217)](_0x1e7698);},this[_0x32dbad(0x27b)]=()=>{var _0x1ae32f=_0x32dbad;this[_0x1ae32f(0x245)]=[{'name':_0x1ae32f(0x3cb),'img':_0x1ae32f(0x1af),'resources':{'wood':0xa,'stone':0x1},'callback':this[_0x1ae32f(0x429)],'input':{'name':'workshop','costAP':0x1e}},{'name':_0x1ae32f(0x1aa),'img':_0x1ae32f(0x228),'resources':{'wood':0x64,'stone':0x1e},'callback':this[_0x1ae32f(0x3e0)],'input':{'name':'fletching\x20station','costAP':0x14}},{'name':_0x1ae32f(0x299),'img':_0x1ae32f(0x299),'resources':{'wood':0x14,'stone':0x5},'callback':this[_0x1ae32f(0x266)],'input':{'name':_0x1ae32f(0x299),'costAP':0xa}},{'name':_0x1ae32f(0x370),'img':'sawmill','resources':{'wood':0x14,'stone':0x5},'callback':this[_0x1ae32f(0x43b)],'input':{'name':'Sawmill','costAP':0xa}}];},this['checkHaveResources']=_0x5151db=>{var _0x2425c2=_0x32dbad;if(!_0x5151db||!_0x5151db[_0x2425c2(0x157)])return![];var _0x3510e3=_0x5151db['resources'];for(var _0x5c7e2e in _0x5151db[_0x2425c2(0x157)]){var _0xe9eaf3=_0x5c7e2e,_0xadbb16=_0x3510e3[_0x5c7e2e];if(!this['resources'][_0xe9eaf3]||this['resources'][_0xe9eaf3]<_0xadbb16)return![];}return!![];},this[_0x32dbad(0x418)]=_0xb10025=>{var _0x40eae9=_0x32dbad;if(!_0xb10025||!_0xb10025[_0x40eae9(0x204)])return![];if(!this[_0x40eae9(0x1b1)](_0xb10025[_0x40eae9(0x204)]))return this[_0x40eae9(0x328)]['addMessage']({'txt':_0x40eae9(0x293)});var _0x465e87=_0xb10025['bat'];this[_0x40eae9(0x328)][_0x40eae9(0x187)]({'type':_0x40eae9(0x2e1),'txt':_0x40eae9(0x393)+_0x465e87[_0x40eae9(0x320)]+_0x40eae9(0x128)}),this[_0x40eae9(0x196)](_0xb10025[_0x40eae9(0x204)]),_0x465e87[_0x40eae9(0x4a6)](_0x465e87[_0x40eae9(0x3ca)]);for(var _0x5992ae in this[_0x40eae9(0x245)])if(this['batsToBuild'][_0x5992ae]==_0x465e87)this[_0x40eae9(0x245)][_0x40eae9(0x2e9)](_0x5992ae,0x1);},this[_0x32dbad(0x3ee)]=_0x2a678c=>{var _0x42e9be=_0x32dbad;if(!_0x2a678c||!_0x2a678c[_0x42e9be(0x41c)])return;this[_0x42e9be(0x32a)][_0x42e9be(0x217)](_0x2a678c[_0x42e9be(0x41c)]);},this[_0x32dbad(0x4b2)]=_0x4fc4b1=>{var _0x36d33f=_0x32dbad;if(!_0x4fc4b1||!_0x4fc4b1['weapon'])return;this[_0x36d33f(0x32a)][_0x36d33f(0x217)](_0x4fc4b1[_0x36d33f(0x214)]);},this[_0x32dbad(0x248)]=_0x3e1385=>{var _0x3ad449=_0x32dbad;if(!_0x3e1385)return![];world[_0x3ad449(0x1fa)][_0x3ad449(0x4bb)]=[];switch(this[_0x3ad449(0x28d)]){case PHASE_NEWTURN:this[_0x3ad449(0x28d)]=PHASE_PLACEPLAYER,this[_0x3ad449(0x328)][_0x3ad449(0x187)]({'txt':'Phase\x201\x20started'});for(var _0x591357 in this[_0x3ad449(0x460)])this[_0x3ad449(0x460)][_0x591357][_0x3ad449(0x427)]=this[_0x3ad449(0x460)][_0x591357][_0x3ad449(0x400)];if(this['week']==0x0)world[_0x3ad449(0x130)][_0x3ad449(0x2a1)](_0x3ad449(0x1ec),!![]);break;case PHASE_PLACEPLAYER:if(_0x3e1385[_0x3ad449(0x15e)]){var _0x20e7a8=[];for(var _0x591357 in this[_0x3ad449(0x460)]){_0x1cd7ff=this[_0x3ad449(0x460)][_0x591357];if(!this[_0x3ad449(0x2da)](_0x1cd7ff))_0x20e7a8[_0x3ad449(0x217)]({'txt':_0x3ad449(0x2f7)+_0x1cd7ff[_0x3ad449(0x320)]+'\x20is\x20not\x20affected\x20to\x20a\x20building','player':_0x1cd7ff,'tab':_0x3ad449(0x2e1)});}defBat=this[_0x3ad449(0x257)]['find'](_0x4c241a=>_0x4c241a[_0x3ad449(0x320)]=='Defend\x20Village');if(defBat[_0x3ad449(0x42a)][_0x3ad449(0x4b4)]<0x1)_0x20e7a8[_0x3ad449(0x217)]({'txt':_0x3ad449(0x36d),'bat':defBat,'tab':'building'});if(_0x20e7a8[_0x3ad449(0x4b4)]>0x0){world[_0x3ad449(0x1fa)][_0x3ad449(0x4bb)]=_0x20e7a8;return;}}this[_0x3ad449(0x28d)]=PHASE_ACTIONPLAYER,this[_0x3ad449(0x328)][_0x3ad449(0x187)]({'txt':_0x3ad449(0x2c7)});break;case PHASE_ACTIONPLAYER:var _0x20e7a8=[];if(_0x3e1385['warning'])for(var _0x591357 in this['bats']){var _0x29ab4a=this[_0x3ad449(0x257)][_0x591357];if(!_0x29ab4a[_0x3ad449(0x29c)])continue;for(var _0x446a55 in _0x29ab4a[_0x3ad449(0x42a)]){var _0x1cd7ff=_0x29ab4a[_0x3ad449(0x42a)][_0x446a55],_0x4b6c62=_0x1cd7ff[_0x3ad449(0x215)]();if(_0x4b6c62&&_0x4b6c62[_0x3ad449(0x4b4)]>0x0)_0x20e7a8[_0x3ad449(0x217)]({'txt':_0x3ad449(0x2f7)+_0x1cd7ff[_0x3ad449(0x320)]+_0x3ad449(0x16c)+_0x1cd7ff['villageActionPoint']+_0x3ad449(0x1b4),'player':_0x1cd7ff,'tab':_0x3ad449(0x2e1)});}}if(_0x20e7a8[_0x3ad449(0x4b4)]>0x0){world[_0x3ad449(0x1fa)][_0x3ad449(0x4bb)]=_0x20e7a8;return;}this['phase']=PHASE_COMBAT;(this[_0x3ad449(0x4b6)]==0x0||Math[_0x3ad449(0x1a0)](Math[_0x3ad449(0x4a5)]()*0x64)<0x21)&&(this['battle']=!![],this[_0x3ad449(0x328)][_0x3ad449(0x187)]({'txt':_0x3ad449(0x46a)}));break;case PHASE_COMBAT:if(this[_0x3ad449(0x458)])this['test_start_battle']();else{this['phase']=PHASE_NEWTURN,this[_0x3ad449(0x4b6)]++;var _0x3f71e0=this[_0x3ad449(0x460)]['length']*0x2;this[_0x3ad449(0x328)][_0x3ad449(0x187)]({'txt':_0x3ad449(0x251)+this['week']}),this[_0x3ad449(0x328)][_0x3ad449(0x187)]({'type':_0x3ad449(0x25c),'txt':_0x3ad449(0x385)}),this['removeResource']({'resources':{'food':_0x3f71e0}}),this[_0x3ad449(0x1cf)]=_0x3f71e0;for(var _0x591357 in this[_0x3ad449(0x460)]){this[_0x3ad449(0x460)][_0x591357][_0x3ad449(0x216)](),this[_0x3ad449(0x460)][_0x591357][_0x3ad449(0x13b)]++;}if(this[_0x3ad449(0x460)][_0x3ad449(0x4b4)]<this[_0x3ad449(0x362)]){var _0x495549=Math['floor'](Math[_0x3ad449(0x4a5)]()*0x64);if(_0x495549<0x32){var _0x1cd7ff=this[_0x3ad449(0x23f)]();this[_0x3ad449(0x328)][_0x3ad449(0x187)]({'type':_0x3ad449(0x25c),'txt':'New\x20PLayer\x20'+_0x1cd7ff[_0x3ad449(0x320)]+_0x3ad449(0x112)});}}}break;}},this[_0x32dbad(0x145)]=()=>{var _0x204879=_0x32dbad,_0x24364e=[];for(var _0x15f07e in this[_0x204879(0x460)]){var _0x1ce747=this[_0x204879(0x460)][_0x15f07e];bat=this[_0x204879(0x2da)](_0x1ce747);if(bat[_0x204879(0x320)]==_0x204879(0x26c))_0x24364e[_0x204879(0x217)](_0x1ce747);}world[_0x204879(0x1fa)]=undefined,console['log'](_0x24364e[_0x204879(0x4b4)]+_0x204879(0x2a4)),world[_0x204879(0x368)](_0x24364e,this['week']),world['Music'][_0x204879(0x2d1)](_0x204879(0x1ec),!![]),world[_0x204879(0x130)][_0x204879(0x2a1)](_0x204879(0x33d),!![]),world['GameUI']=new GameUI(world[_0x204879(0x3b5)][_0x204879(0x463)][_0x204879(0x205)]);},this[_0x32dbad(0x19d)]=_0x206894=>{var _0x57de92=_0x32dbad;for(var _0x26b4a in this[_0x57de92(0x460)]){this[_0x57de92(0x460)][_0x26b4a]['id']==_0x206894['id']&&(this['players'][_0x57de92(0x2e9)](_0x26b4a,0x1),this[_0x57de92(0x328)][_0x57de92(0x187)]({'txt':_0x206894[_0x57de92(0x320)]+_0x57de92(0x3f6)}));}for(var _0x26b4a in this[_0x57de92(0x257)]){var _0x18451a=this[_0x57de92(0x257)][_0x26b4a];for(var _0x169f99 in _0x18451a[_0x57de92(0x42a)])if(_0x18451a[_0x57de92(0x42a)][_0x169f99]['id']==_0x206894['id'])_0x18451a[_0x57de92(0x42a)][_0x57de92(0x2e9)](_0x169f99,0x1);}};},VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT='\x27Footlight\x20MT\x20Light\x27',VILLAGE_UI_FONT_BUTTON=_0x2698c6(0x2d2),VILLAGE_UI_FONT_BUTTON_2=_0x2698c6(0x32e),VILLAGE_UI_FONT_TITLE=_0x2698c6(0x3a3),VILLAGE_UI_FONT_PLAYERNAME=_0x2698c6(0x2ac),VILLAGE_UI_FONT_BUILDINGNAME=_0x2698c6(0x1b9),VILLAGE_UI_FONT_PHASE='\x27Algerian\x27',VILLAGE_UI_TABS_FONT=_0x2698c6(0x3a3),VILLAGE_UI_TABS_TXTCOLOR='#ffffff',VILLAGE_UI_TABS_FILLCOLOR=_0x2698c6(0x3de),VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE=_0x2698c6(0x36b),VILLAGE_UI_BAT_ELM_FILLCOLOR=_0x2698c6(0x2b8),VILLAGE_UI_PLAYER_ELM_FILLCOLOR=_0x2698c6(0x243),VILLAGE_UI_ITEM_ELM_FILLCOLOR='#f8f8ff88',VILLAGE_UI_BUTTON_FILLCOLOR=_0x2698c6(0x193),VillageUI=function(_0x1d6af4){var _0x529066=_0x2698c6;world[_0x529066(0x130)][_0x529066(0x2a1)](_0x529066(0x1ec),!![]),this['canvas']=_0x1d6af4,this[_0x529066(0x409)]=!![],this[_0x529066(0x475)]=0x5,this[_0x529066(0x3ec)]=VILLAGE_UI_FILLSTYLE,this[_0x529066(0x407)]=_0x529066(0x148),this[_0x529066(0x171)]=0x1,this[_0x529066(0x1c1)]=!![],this['tabs']=[_0x529066(0x341),_0x529066(0x2e1),_0x529066(0x26a),'resource',_0x529066(0x32a),_0x529066(0x129)],this[_0x529066(0x10a)]=0x0,this['playerSelected']=undefined,this[_0x529066(0x330)]=undefined,this[_0x529066(0x23e)]={'value':0x0},this[_0x529066(0x146)]=undefined,this[_0x529066(0x484)]=undefined,this[_0x529066(0x194)]={'value':0x0},this['batSortModeList']=['a->Z',_0x529066(0x25c),_0x529066(0x1c5)],this[_0x529066(0x31c)]={'value':0x0},this['constructionSelected']=undefined,this[_0x529066(0x286)]=undefined,this[_0x529066(0x240)]={'value':0x0},this['craftSelected']=undefined,this[_0x529066(0x20f)]={'value':0x0},this['UI']=undefined,this[_0x529066(0x339)]=!![],this[_0x529066(0x4ac)]=undefined,this['showUIplayers']=!![],this[_0x529066(0x354)]=undefined,this[_0x529066(0x3c6)]=!![],this[_0x529066(0x2ad)]=0x0,this[_0x529066(0x4bb)]=[];const _0x4edb72=document[_0x529066(0x42f)](_0x529066(0x166)),_0x5b99d5=_0x4edb72[_0x529066(0x223)]('2d'),_0x340e6f=new Image();_0x340e6f[_0x529066(0x451)]='./img/player_test3/village/villageUI_patern.png',_0x340e6f[_0x529066(0x1c6)]=()=>{var _0x548b68=_0x529066;const _0x34a77d=_0x5b99d5[_0x548b68(0x380)](_0x340e6f,_0x548b68(0x1ff));this['background']=_0x34a77d,this['needRedraw']=!![];},this[_0x529066(0x402)]=()=>{window['addEventListener']('mousemove',_0x4208cd=>{var _0x39f2d4=_0xb2fc,_0x17f5a0=![];this[_0x39f2d4(0x4ac)]&&this[_0x39f2d4(0x4ac)][_0x39f2d4(0x4cc)](_0x4208cd['clientX'],_0x4208cd[_0x39f2d4(0x38b)])&&!this[_0x39f2d4(0x1c1)]&&(this['needRedraw']=!![],this[_0x39f2d4(0x1c1)]=!![],_0x17f5a0=!![]);this['UI']&&this['UI']['mouse_move_check'](_0x4208cd['clientX'],_0x4208cd[_0x39f2d4(0x38b)])&&!this[_0x39f2d4(0x1c1)]&&(this[_0x39f2d4(0x409)]=!![],this[_0x39f2d4(0x1c1)]=!![],_0x17f5a0=!![]);this['UIsystem']&&this['UIsystem'][_0x39f2d4(0x4cc)](_0x4208cd[_0x39f2d4(0x267)],_0x4208cd['clientY'])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0x39f2d4(0x409)]=!![],this[_0x39f2d4(0x1c1)]=!![],_0x17f5a0=!![]);!_0x17f5a0&&this[_0x39f2d4(0x1c1)]&&(this[_0x39f2d4(0x1c1)]=![],this['needRedraw']=!![]);if(this==world[_0x39f2d4(0x1fa)])this[_0x39f2d4(0x402)]();},{'once':!![]});},this[_0x529066(0x402)](),this[_0x529066(0x4b1)]=_0x2a2127=>{var _0x351acb=_0x529066;if(this['UI']&&this['UI'][_0x351acb(0x3a0)](_0x2a2127))return!![];if(this[_0x351acb(0x4ac)]&&this[_0x351acb(0x4ac)][_0x351acb(0x3a0)](_0x2a2127))return!![];if(this[_0x351acb(0x354)]&&this[_0x351acb(0x354)]['key_buton_check'](_0x2a2127))return!![];if(_0x2a2127=='ControlLeft'&&this[_0x351acb(0x3b7)]())return!![];return![];},this['cancel_menu']=()=>{var _0x4e9677=_0x529066;if(this['playerInfoMenu'])return this[_0x4e9677(0x330)]=undefined,!![];if(this[_0x4e9677(0x411)][this[_0x4e9677(0x10a)]]=='building'){if(this[_0x4e9677(0x484)])return this[_0x4e9677(0x484)]=undefined,!![];if(this[_0x4e9677(0x146)])return this[_0x4e9677(0x146)]=undefined,!![];}return![];},this[_0x529066(0x2e8)]=_0x3010ae=>{var _0x94752f=_0x529066,_0x6f8099=_0x3010ae['x'],_0x2f0683=_0x3010ae['y'];if(_0x3010ae[_0x94752f(0x11f)]==0x2){var _0x15b619=this[_0x94752f(0x3b7)]();if(_0x15b619)return!![];}else{if(this['UI'][_0x94752f(0x110)](_0x6f8099,_0x2f0683))return!![];else{if(this[_0x94752f(0x4ac)][_0x94752f(0x110)](_0x6f8099,_0x2f0683))return!![];else{if(this['UIsystem'][_0x94752f(0x110)](_0x6f8099,_0x2f0683))return!![];}}}return![];},this[_0x529066(0x302)]=_0x1521a4=>{var _0x5267e4=_0x529066;if(!_0x1521a4)return;if(_0x1521a4[_0x5267e4(0x2bc)])for(var _0x5a59f6 in this['tabs']){if(this[_0x5267e4(0x411)][_0x5a59f6]==_0x1521a4[_0x5267e4(0x2bc)])this[_0x5267e4(0x10a)]=_0x5a59f6;}if(_0x1521a4[_0x5267e4(0x25c)])this[_0x5267e4(0x3c7)]=_0x1521a4[_0x5267e4(0x25c)];if(_0x1521a4[_0x5267e4(0x204)])this['batSelected']=_0x1521a4['bat'];},this[_0x529066(0x17d)]=_0x5f2e1e=>{var _0x79cbf7=_0x529066;if(this['UI']&&this['UI'][_0x79cbf7(0x17d)](_0x5f2e1e))this[_0x79cbf7(0x409)]=!![];if(this[_0x79cbf7(0x4ac)]&&this[_0x79cbf7(0x4ac)][_0x79cbf7(0x17d)](_0x5f2e1e))this[_0x79cbf7(0x409)]=!![];if(this[_0x79cbf7(0x354)]&&this[_0x79cbf7(0x354)][_0x79cbf7(0x17d)](_0x5f2e1e))this[_0x79cbf7(0x409)]=!![];},this[_0x529066(0x359)]=_0x2f2319=>{var _0xa05e95=_0x529066;if(!_0x2f2319[_0xa05e95(0x285)])return;var _0x49af84=[{'type':_0xa05e95(0x11f),'callback':()=>{var _0x284422=_0xa05e95;_0x2f2319[_0x284422(0x285)][_0x284422(0x279)]=_0x2f2319['selector'][_0x284422(0x279)]>0x0?_0x2f2319['selector']['value']-0x1:0x0;},'txt':'','txt_color':_0xa05e95(0x197),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xa05e95(0x32d),'strokeColor':_0xa05e95(0x384),'windowInfo':[{'callback':()=>{var _0x313cdd=_0xa05e95;return _0x313cdd(0x1bb);}}]},{'type':_0xa05e95(0x11f),'callback':()=>{var _0x5a32b9=_0xa05e95;_0x2f2319[_0x5a32b9(0x285)]['value']++;},'txt':'','txt_color':_0xa05e95(0x197),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xa05e95(0x32d),'strokeColor':_0xa05e95(0x384),'windowInfo':[{'callback':()=>{var _0x34e095=_0xa05e95;return _0x34e095(0x48b);}}]},{'type':_0xa05e95(0x4a1),'txt':'['+_0x2f2319['selector']['value']+':'+(_0x2f2319['selector'][_0xa05e95(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0xa05e95(0x384),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x2f2319[_0xa05e95(0x2fa)])_0x49af84['push']({'type':_0xa05e95(0x11f),'callback':_0x1580aa=>{var _0x2fe8cd=_0xa05e95;_0x1580aa['id'][_0x2fe8cd(0x279)]=(_0x1580aa['id']['value']+0x1)%_0x1580aa[_0x2fe8cd(0x3b2)][_0x2fe8cd(0x4b4)],console['log']('changed\x20'+[_0x1580aa['id'][_0x2fe8cd(0x279)],_0x1580aa[_0x2fe8cd(0x3b2)]['length']]);},'callback_data':_0x2f2319[_0xa05e95(0x2fa)],'txt':this[_0xa05e95(0x34f)][this[_0xa05e95(0x31c)][_0xa05e95(0x279)]],'txt_color':_0xa05e95(0x384),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xa05e95(0x3db),'strokeColor':_0xa05e95(0x384),'windowInfo':[{'callback':()=>{var _0x5702bf=_0xa05e95;return _0x5702bf(0x49d)+this[_0x5702bf(0x34f)][this['batSortModeId'][_0x5702bf(0x279)]];}}]});return _0x49af84;},this[_0x529066(0x449)]=()=>{var _0x55bb5b=_0x529066,_0x1e6066=world[_0x55bb5b(0x40c)];this['UI']['addHorizontalElem'](this[_0x55bb5b(0x359)]({'sortButo':{'list':this[_0x55bb5b(0x34f)],'id':this[_0x55bb5b(0x31c)]},'selector':this[_0x55bb5b(0x194)]}));switch(this[_0x55bb5b(0x34f)][this[_0x55bb5b(0x31c)][_0x55bb5b(0x279)]]){case _0x55bb5b(0x11d):_0x1e6066[_0x55bb5b(0x257)][_0x55bb5b(0x335)]((_0x5b750b,_0x3922de)=>{var _0x269d2f=_0x55bb5b;if(_0x5b750b[_0x269d2f(0x320)]>_0x3922de[_0x269d2f(0x320)])return 0x1;return-0x1;});break;case'player':_0x1e6066[_0x55bb5b(0x257)]['sort']((_0xb40703,_0x3696ea)=>{var _0x139f4b=_0x55bb5b;if(_0xb40703[_0x139f4b(0x42a)]['length']<=_0x3696ea[_0x139f4b(0x42a)][_0x139f4b(0x4b4)])return 0x1;return-0x1;});break;case'size':_0x1e6066[_0x55bb5b(0x257)][_0x55bb5b(0x335)]((_0xd229b4,_0x31ec60)=>{var _0x12c053=_0x55bb5b;if(_0xd229b4['player_size']<=_0x31ec60[_0x12c053(0x1f7)])return 0x1;return-0x1;});break;}if(_0x1e6066['phase']==PHASE_PLACEPLAYER){this['UI'][_0x55bb5b(0x44f)](this[_0x55bb5b(0x350)]());var _0x411098=0x0;if(this[_0x55bb5b(0x484)])for(var _0x295086 in _0x1e6066[_0x55bb5b(0x245)]){var _0x5d5f7d=_0x1e6066[_0x55bb5b(0x245)][_0x295086],_0x5416e4=[];_0x5416e4[_0x55bb5b(0x217)]({'type':_0x55bb5b(0x11f),'callback':_0x157447=>{var _0x1c0967=_0x55bb5b;if(this[_0x1c0967(0x17c)]==_0x157447)this[_0x1c0967(0x17c)]=undefined;else this['constructionSelected']=_0x157447;},'callback_data':_0x5d5f7d,'txt':_0x5d5f7d['name'],'mouseLight':'88','txt_color':'#000000','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x55bb5b(0x33c),'strokeColor':this['constructionSelected']==_0x5d5f7d?_0x55bb5b(0x384):'#00000000','windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}),_0x5416e4['push']({'type':'img','img':world[_0x55bb5b(0x2d3)][_0x5d5f7d[_0x55bb5b(0x173)]][_0x55bb5b(0x173)],'len_x':0x1e,'len_y':0x1e});if(_0x411098>=this['batPageOffset']['value']&&_0x411098<this['batPageOffset'][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](_0x5416e4);_0x411098++;if(this[_0x55bb5b(0x17c)]==_0x5d5f7d){var _0x5416e4=[];_0x5416e4[_0x55bb5b(0x217)]({'type':_0x55bb5b(0x11f),'mouseLight':'88','callback':world[_0x55bb5b(0x40c)]['TryBuildBat'],'callback_data':{'bat':_0x5d5f7d},'txt':_0x55bb5b(0x490),'txt_color':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x55bb5b(0x33c),'windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]});if(_0x411098>=this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]&&_0x411098<this['batPageOffset'][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](_0x5416e4);_0x411098++;if(_0x5d5f7d[_0x55bb5b(0x3ca)]&&_0x5d5f7d['input'][_0x55bb5b(0x324)]){if(_0x411098>=this['batPageOffset']['value']&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)]([{'type':'txt','txt':'\x20-Action\x20Point\x20'+_0x5d5f7d[_0x55bb5b(0x3ca)]['costAP'],'txt_color':_0x55bb5b(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':_0x55bb5b(0x173),'img':world['Imgs']['villageAP_icon'][_0x55bb5b(0x173)],'len_x':0x14,'len_y':0x14}]);_0x411098++;}for(var _0x1ca47a in _0x5d5f7d['resources']){var _0x2f8c2f=[];_0x2f8c2f['push']({'type':'txt','txt':'\x20-'+_0x1ca47a+'\x20'+_0x5d5f7d['resources'][_0x1ca47a],'txt_color':_0x55bb5b(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x2f8c2f[_0x55bb5b(0x217)]({'type':_0x55bb5b(0x173),'img':world[_0x55bb5b(0x2d3)][_0x1ca47a+'_icon'][_0x55bb5b(0x173)],'len_x':0x14,'len_y':0x14});}if(_0x411098>=this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](this[_0x55bb5b(0x35a)](_0x5d5f7d[_0x55bb5b(0x157)],0x14));_0x411098++;}}else{if(!this[_0x55bb5b(0x484)])for(var _0x295086 in _0x1e6066['bats']){var _0x5d5f7d=_0x1e6066[_0x55bb5b(0x257)][_0x295086],_0x1e6182=this[_0x55bb5b(0x132)](_0x5d5f7d,0x28);if(_0x5d5f7d[_0x55bb5b(0x3d2)])_0x1e6182[_0x55bb5b(0x217)]({'type':_0x55bb5b(0x173),'img':world[_0x55bb5b(0x2d3)]['under_construction_icon'][_0x55bb5b(0x173)],'len_x':0x28,'len_y':0x28});if(_0x411098>=this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](_0x1e6182);_0x411098++;if(_0x5d5f7d[_0x55bb5b(0x3d2)]){if(_0x411098>=this['batPageOffset'][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x2c6)](''+_0x5d5f7d['build_progression']+_0x55bb5b(0x4a2),0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0x411098++;}var _0x5416e4=[],_0x36b2bf=_0x5d5f7d[_0x55bb5b(0x388)]();if(this[_0x55bb5b(0x146)]==_0x5d5f7d&&_0x5d5f7d[_0x55bb5b(0x181)]){if(_0x411098>=this[_0x55bb5b(0x194)]['value']&&_0x411098<this['batPageOffset'][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x2c6)](_0x55bb5b(0x116)+_0x5d5f7d[_0x55bb5b(0x181)],0xf,0x270f,'#000000',VILLAGE_UI_FONT);_0x411098++;}if(this[_0x55bb5b(0x146)]==_0x5d5f7d&&_0x36b2bf){var _0x3d2163=this[_0x55bb5b(0x35a)](_0x36b2bf['resources'],0x14);_0x3d2163['unshift']({'type':'button','mouseLight':'88','callback':_0x5d5f7d[_0x55bb5b(0x42b)],'callback_data':{},'txt':'uppgrade','txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x411098>=this['batPageOffset'][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x3d2163);_0x411098++;}if(_0x5d5f7d==this[_0x55bb5b(0x146)]&&_0x5d5f7d[_0x55bb5b(0x1f7)]){if(_0x5d5f7d[_0x55bb5b(0x1f7)]&&_0x411098>=this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x2c6)](''+_0x5d5f7d['players_inside'][_0x55bb5b(0x4b4)]+_0x55bb5b(0x10e)+_0x5d5f7d[_0x55bb5b(0x1f7)]+_0x55bb5b(0x123),0x14,0x270f,_0x55bb5b(0x384),VILLAGE_UI_FONT);_0x411098++;}if(this['playerSelected']&&_0x5d5f7d==this['batSelected']&&!_0x5d5f7d[_0x55bb5b(0x42a)][_0x55bb5b(0x4af)](_0x15663b=>_0x15663b==this[_0x55bb5b(0x3c7)])&&_0x5d5f7d[_0x55bb5b(0x42a)][_0x55bb5b(0x4b4)]<_0x5d5f7d[_0x55bb5b(0x1f7)])_0x5416e4[_0x55bb5b(0x217)]({'type':_0x55bb5b(0x11f),'mouseLight':'88','callback':world['village'][_0x55bb5b(0x3fc)],'callback_data':{'player':this[_0x55bb5b(0x3c7)],'bat':_0x5d5f7d},'txt':_0x55bb5b(0x26e),'txt_color':_0x55bb5b(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x5416e4[_0x55bb5b(0x4b4)]){if(_0x411098>=this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]&&_0x411098<this['batPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](_0x5416e4);_0x411098++;}if(this[_0x55bb5b(0x146)]==_0x5d5f7d)for(var _0x1ca47a in _0x5d5f7d['players_inside']){var _0x16c74f=_0x5d5f7d['players_inside'][_0x1ca47a],_0x559982=this[_0x55bb5b(0x372)](_0x16c74f);_0x559982['push']({'type':'button','mouseLight':'88','callback':world[_0x55bb5b(0x40c)]['removePlayerFromBat'],'callback_data':{'player':_0x16c74f},'txt':_0x55bb5b(0x19c),'txt_color':_0x55bb5b(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x55bb5b(0x20b)});if(_0x411098>=this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x559982);_0x411098++;}}}}else{if(_0x1e6066[_0x55bb5b(0x28d)]==PHASE_ACTIONPLAYER){var _0x411098=0x0;for(var _0x295086 in _0x1e6066[_0x55bb5b(0x257)]){var _0x5d5f7d=_0x1e6066[_0x55bb5b(0x257)][_0x295086],_0x1e6182=this[_0x55bb5b(0x132)](_0x5d5f7d,0x28);if(_0x5d5f7d[_0x55bb5b(0x3d2)])_0x1e6182[_0x55bb5b(0x217)]({'type':_0x55bb5b(0x173),'img':world[_0x55bb5b(0x2d3)][_0x55bb5b(0x14d)][_0x55bb5b(0x173)],'len_x':0x28,'len_y':0x28});if(_0x411098>=this[_0x55bb5b(0x194)]['value']&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](_0x1e6182);_0x411098++;if(_0x5d5f7d[_0x55bb5b(0x3d2)]){if(_0x411098>=this['batPageOffset'][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addTextZone'](''+_0x5d5f7d['build_progression']+_0x55bb5b(0x4a2),0x14,0x270f,_0x55bb5b(0x384),VILLAGE_UI_FONT);_0x411098++;}var _0x5416e4=[];if(_0x5416e4[_0x55bb5b(0x4b4)]){if(_0x411098>=this['batPageOffset'][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x5416e4);_0x411098++;}for(var _0x1ca47a in _0x5d5f7d[_0x55bb5b(0x42a)]){var _0x16c74f=_0x5d5f7d[_0x55bb5b(0x42a)][_0x1ca47a],_0x69ea78=_0x16c74f[_0x55bb5b(0x215)]();if(this[_0x55bb5b(0x146)]==_0x5d5f7d||_0x69ea78[_0x55bb5b(0x4b4)]&&_0x5d5f7d[_0x55bb5b(0x320)]!=_0x55bb5b(0x26c)){var _0x559982=this[_0x55bb5b(0x372)](_0x16c74f);if(_0x5d5f7d[_0x55bb5b(0x2fd)][_0x55bb5b(0x4b4)])_0x559982[_0x55bb5b(0x217)]({'type':'img','img':world[_0x55bb5b(0x2d3)]['villageAP_icon'][_0x55bb5b(0x173)],'len_x':0x14,'len_y':0x14},{'type':_0x55bb5b(0x4a1),'txt':''+_0x16c74f[_0x55bb5b(0x427)]+_0x55bb5b(0x3c5),'txt_color':_0x16c74f[_0x55bb5b(0x427)]?_0x55bb5b(0x384):'#000000aa','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0x411098>=this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](_0x559982);_0x411098++;if(_0x5d5f7d['build_progression']){var _0x1d90df=[];_0x16c74f[_0x55bb5b(0x427)]>0x0&&(_0x1d90df[_0x55bb5b(0x217)]({'type':'button','mouseLight':'88','callback':_0x5d5f7d[_0x55bb5b(0x2a7)],'callback_data':{'player':_0x16c74f},'txt':'build','txt_color':_0x55bb5b(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x121800=>{return _0x121800;},'input':'use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building'}]}),_0x1d90df['push']({'type':_0x55bb5b(0x4a1),'txt':'under\x20construction\x20:\x20'+_0x5d5f7d['build_progression']+_0x55bb5b(0x133),'txt_color':_0x16c74f['villageActionPoint']?_0x55bb5b(0x384):_0x55bb5b(0x28f),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0x411098>=this[_0x55bb5b(0x194)]['value']&&_0x411098<this[_0x55bb5b(0x194)][_0x55bb5b(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)](_0x1d90df);_0x411098++;}else for(var _0x8768c8 in _0x5d5f7d['callback_actionPlayer']){var _0x4dc797=_0x5d5f7d[_0x55bb5b(0x2fd)][_0x8768c8];if(_0x4dc797[_0x55bb5b(0x447)]&&_0x4dc797['cost']>_0x16c74f['villageActionPoint']||_0x16c74f[_0x55bb5b(0x427)]==0x0)continue;var _0x14eff4={'type':_0x55bb5b(0x11f),'mouseLight':'88','callback':_0x4dc797['callback'],'callback_data':{'player':_0x16c74f,'cost':_0x4dc797[_0x55bb5b(0x447)]},'txt':_0x4dc797[_0x55bb5b(0x13c)],'txt_color':_0x55bb5b(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x3483b6=>{return _0x3483b6;},'input':_0x4dc797[_0x55bb5b(0x431)]}]};if(_0x411098>=this[_0x55bb5b(0x194)]['value']&&_0x411098<this[_0x55bb5b(0x194)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x55bb5b(0x44f)]([_0x14eff4]);_0x411098++;}}}}}}},this[_0x529066(0x350)]=()=>{var _0x301508=_0x529066,_0x505c50=[];return this['batBuildMenu']?_0x505c50[_0x301508(0x217)]({'type':_0x301508(0x11f),'mouseLight':'88','callback':()=>{var _0x10a56e=_0x301508;this['batBuildMenu']=![],this[_0x10a56e(0x194)][_0x10a56e(0x279)]=0x0;},'txt':_0x301508(0x428),'mouseLight':'88','txt_color':_0x301508(0x190),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x301508(0x1a6),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x21be09=_0x301508;return _0x21be09(0x408);}}]}):_0x505c50['push']({'type':'button','mouseLight':'88','callback':()=>{var _0x5022a8=_0x301508;this[_0x5022a8(0x484)]=!![],this['batPageOffset'][_0x5022a8(0x279)]=0x0;},'txt':'New\x20Building','mouseLight':'88','txt_color':_0x301508(0x1a6),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x301508(0x190),'strokeColor':_0x301508(0x384),'windowInfo':[{'callback':()=>{return'Where\x20your\x20players\x20works';}}]}),_0x505c50;},this[_0x529066(0x35a)]=(_0x41a6fd,_0xa19749)=>{var _0x529bf6=_0x529066,_0x40f588=[];for(var _0x4d03cd in _0x41a6fd){_0x40f588[_0x529bf6(0x217)]({'type':_0x529bf6(0x173),'img':world[_0x529bf6(0x2d3)][_0x4d03cd+_0x529bf6(0x16a)][_0x529bf6(0x173)],'len_x':_0xa19749,'len_y':_0xa19749}),_0x40f588[_0x529bf6(0x217)]({'type':_0x529bf6(0x4a1),'txt':'\x20x'+_0x41a6fd[_0x4d03cd],'txt_color':'#000000','max_letters':0x270f,'letter_size':_0xa19749,'txt_font':VILLAGE_UI_FONT});}return _0x40f588;},this[_0x529066(0x399)]=(_0x2e07a2,_0x2107a4,_0x5de1d7)=>{var _0x153b2c=_0x529066,_0x30fe05=()=>this[_0x153b2c(0x286)]=this[_0x153b2c(0x286)]==_0x2e07a2?undefined:_0x2e07a2;if(_0x5de1d7)_0x30fe05=()=>{};var _0x21f052=[{'type':_0x153b2c(0x173),'img':world[_0x153b2c(0x2d3)][_0x2e07a2[_0x153b2c(0x320)]+_0x153b2c(0x16a)][_0x153b2c(0x173)],'len_x':_0x2107a4,'len_y':_0x2107a4},{'type':_0x153b2c(0x11f),'mouseLight':'ff','callback':_0x30fe05,'txt':_0x2e07a2[_0x153b2c(0x320)],'txt_color':_0x153b2c(0x384),'max_letters':0x270f,'letter_size':_0x2107a4,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this[_0x153b2c(0x286)]==_0x2e07a2?_0x153b2c(0x2b1):'#00000000','windowInfo':[{'callback':_0x2e07a2[_0x153b2c(0x323)]=='weapon'?_0x2e07a2[_0x153b2c(0x17b)]:_0x2e07a2[_0x153b2c(0x2dc)]}]}];return _0x21f052;},this[_0x529066(0x4bd)]=()=>{var _0x18ea0c=_0x529066,_0x3d6890=world['village'];this['UI'][_0x18ea0c(0x44f)](this[_0x18ea0c(0x359)]({'selector':this[_0x18ea0c(0x20f)]}));var _0x29985f=0x0,_0xc37da2=_0x3d6890['get_valid_craft_list']();if(_0x3d6890[_0x18ea0c(0x28d)]!=PHASE_ACTIONPLAYER)this['UI'][_0x18ea0c(0x2c6)]('you\x20can\x20only\x20craft\x20during\x20Phase\x202',0x14,0x270f,_0x18ea0c(0x20b),VILLAGE_UI_FONT);if(!_0xc37da2||_0xc37da2['length']<0x1)this['UI'][_0x18ea0c(0x2c6)](_0x18ea0c(0x497),0x14,0x270f,_0x18ea0c(0x384),VILLAGE_UI_FONT);for(var _0x3d4471 in _0xc37da2){var _0x11c33d=[],_0x3ed963=_0xc37da2[_0x3d4471];_0x11c33d['push']({'type':_0x18ea0c(0x11f),'mouseLight':'ff','callback':_0x744fb6=>this[_0x18ea0c(0x185)]=this[_0x18ea0c(0x185)]==_0x744fb6?undefined:_0x744fb6,'callback_data':_0x3ed963,'txt':_0x3ed963[_0x18ea0c(0x320)]+'\x20('+_0x3ed963[_0x18ea0c(0x144)]+')','txt_color':this['craftSelected']==_0x3ed963?_0x18ea0c(0x2ce):_0x18ea0c(0x384),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x18ea0c(0x143),'strokeColor':this[_0x18ea0c(0x185)]==_0x3ed963?_0x18ea0c(0x36e):'#00000000','windowInfo':[{'callback':()=>{var _0x302c98=_0x18ea0c;return _0x3ed963[_0x302c98(0x431)];},'input':undefined}]});if(_0x29985f>=this[_0x18ea0c(0x20f)][_0x18ea0c(0x279)]&&_0x29985f<this[_0x18ea0c(0x20f)][_0x18ea0c(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x18ea0c(0x44f)](_0x11c33d);_0x29985f++;if(this[_0x18ea0c(0x185)]==_0x3ed963){var _0x5a581c=_0x3d6890['get_valid_player_for_craft']({'craft':_0x3ed963});if(_0x29985f>=this[_0x18ea0c(0x20f)]['value']&&_0x29985f<this['craftPageOffset'][_0x18ea0c(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](this[_0x18ea0c(0x35a)](_0x3ed963[_0x18ea0c(0x157)],0x14));_0x29985f++;if(!_0x5a581c||_0x5a581c['length']<0x1){if(_0x29985f>=this[_0x18ea0c(0x20f)][_0x18ea0c(0x279)]&&_0x29985f<this['craftPageOffset'][_0x18ea0c(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x18ea0c(0x2c6)]('no\x20one\x20can\x20craft\x20it',0x14,0x270f,_0x18ea0c(0x20b),VILLAGE_UI_FONT);_0x29985f++;}for(var _0x25050e in _0x5a581c){var _0x451e33=_0x5a581c[_0x25050e],_0x11c33d=this[_0x18ea0c(0x372)](_0x451e33,0x19);_0x3d6890[_0x18ea0c(0x28d)]==PHASE_ACTIONPLAYER&&_0x11c33d[_0x18ea0c(0x217)]({'type':_0x18ea0c(0x11f),'mouseLight':'88','callback':_0x3d6890[_0x18ea0c(0x172)],'callback_data':{'craft':_0x3ed963,'player':_0x451e33},'txt':_0x18ea0c(0x26a),'txt_color':_0x18ea0c(0x384),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x18ea0c(0x465),'strokeColor':this['craftSelected']==_0x3ed963?'#000000ff':'#00000000','windowInfo':[{'callback':()=>{var _0x34b2cb=_0x18ea0c;return _0x3ed963[_0x34b2cb(0x431)];},'input':undefined}]});if(_0x29985f>=this[_0x18ea0c(0x20f)]['value']&&_0x29985f<this[_0x18ea0c(0x20f)][_0x18ea0c(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x18ea0c(0x44f)](_0x11c33d);_0x29985f++;}}}},this['GetDrawBuildingElement']=(_0x20f845,_0xd4bafd)=>{var _0x261769=_0x529066,_0x50e193=[{'type':_0x261769(0x173),'img':world[_0x261769(0x2d3)][_0x20f845[_0x261769(0x247)]][_0x261769(0x173)],'len_x':_0xd4bafd,'len_y':_0xd4bafd},{'type':_0x261769(0x11f),'mouseLight':'ff','callback':_0x1c10f0=>{var _0x4f6819=_0x261769;this[_0x4f6819(0x146)]=this[_0x4f6819(0x146)]==_0x1c10f0?undefined:_0x1c10f0;},'callback_data':_0x20f845,'txt':_0x20f845[_0x261769(0x320)],'txt_color':this[_0x261769(0x146)]==_0x20f845?_0x261769(0x265):_0x261769(0x384),'max_letters':0x270f,'letter_size':_0xd4bafd,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this[_0x261769(0x146)]==_0x20f845?_0x261769(0x36e):'#00000000','windowInfo':[{'callback':_0x3d611d=>{var _0x305f83=_0x261769;if(typeof _0x3d611d[_0x305f83(0x431)]==_0x305f83(0x163))return _0x3d611d[_0x305f83(0x431)](_0x3d611d);if(typeof _0x3d611d[_0x305f83(0x431)]==_0x305f83(0x24d))return _0x3d611d[_0x305f83(0x431)];},'input':_0x20f845}]}];return _0x50e193;},this['GetNextTurnButton']=(_0x240269,_0xd319d0,_0x4a9375)=>{var _0xe3deb=_0x529066,_0x23ff72={'type':'button','mouseLight':'88','callback':world[_0xe3deb(0x40c)]['End_Turn'],'callback_data':{'warning':_0x240269?!![]:![]},'txt':_0x4a9375,'txt_color':_0xe3deb(0x384),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0xd319d0?_0xe3deb(0x469):_0xe3deb(0x465),'strokeColor':_0xe3deb(0x384)};return _0x23ff72;},this[_0x529066(0x372)]=(_0x16fdaf,_0x353b5a)=>{var _0x3c3eb1=_0x529066;if(!_0x16fdaf)return undefined;var _0x353b5a=_0x353b5a?_0x353b5a:0x28,_0x4d6f94=[{'type':_0x3c3eb1(0x11f),'mouseLight':'ff','txt':_0x16fdaf['name'],'callback':_0x5a5782=>{var _0x32e987=_0x3c3eb1;this[_0x32e987(0x3c7)]=this['playerSelected']==_0x5a5782?undefined:_0x5a5782;},'callback_data':_0x16fdaf,'txt_color':_0x16fdaf['lvlup']?_0x3c3eb1(0x2ee):this[_0x3c3eb1(0x3c7)]==_0x16fdaf?_0x3c3eb1(0x197):_0x3c3eb1(0x384),'max_letters':0x270f,'letter_size':_0x353b5a,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this[_0x3c3eb1(0x3c7)]==_0x16fdaf?_0x3c3eb1(0x36e):_0x3c3eb1(0x33c),'windowInfo':[{'callback':_0x16fdaf[_0x3c3eb1(0x1e9)]}]}];if(!_0x16fdaf['bodyPartImgReady'])_0x16fdaf[_0x3c3eb1(0x202)]();_0x4d6f94[_0x3c3eb1(0x217)]({'type':_0x3c3eb1(0x173),'img':_0x16fdaf[_0x3c3eb1(0x220)],'len_x':_0x353b5a,'len_y':_0x353b5a});if(_0x16fdaf[_0x3c3eb1(0x214)])_0x4d6f94[_0x3c3eb1(0x217)]({'type':'img','img':world[_0x3c3eb1(0x1c2)][_0x16fdaf['weapon'][_0x3c3eb1(0x320)]+_0x3c3eb1(0x16a)][_0x3c3eb1(0x173)],'len_x':_0x353b5a,'len_y':_0x353b5a});return _0x4d6f94;},this[_0x529066(0x42e)]=()=>{var _0x4addf8=_0x529066,_0x496aaa=world[_0x4addf8(0x40c)];this['UIplayers']=new MyUI(this[_0x4addf8(0x166)],0x0,0x0,0xa,this[_0x4addf8(0x171)],this[_0x4addf8(0x3ec)],this[_0x4addf8(0x407)],this[_0x4addf8(0x475)]),this[_0x4addf8(0x4ac)][_0x4addf8(0x4c5)](_0x4addf8(0x375),0x28,_0x4addf8(0x384),'#00000000',_0x4addf8(0x33c),()=>{var _0x135e1f=_0x4addf8;this[_0x135e1f(0x2e0)]=!this['showUIplayers'];},undefined,VILLAGE_UI_FONT_PHASE);var _0x598cab=this['GetPageSelector']({'selector':this[_0x4addf8(0x23e)]});if(this[_0x4addf8(0x3c7)]&&this[_0x4addf8(0x411)][this['activeTabId']]!=_0x4addf8(0x129)&&(_0x496aaa[_0x4addf8(0x28d)]==PHASE_PLACEPLAYER||_0x496aaa['phase']==PHASE_ACTIONPLAYER))_0x598cab['push']({'type':_0x4addf8(0x11f),'mouseLight':'88','callback':this['GoToTabName'],'callback_data':{'tab':_0x4addf8(0x129)},'txt':'Show','txt_color':_0x4addf8(0x384),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x4addf8(0x197)});this[_0x4addf8(0x4ac)]['addHorizontalElem'](_0x598cab);var _0x25a092=0x0;if(this['showUIplayers']){if(!this[_0x4addf8(0x330)])for(var _0x28d3e8 in _0x496aaa[_0x4addf8(0x460)]){var _0x6054b2=_0x496aaa[_0x4addf8(0x460)][_0x28d3e8];if(_0x25a092>=this[_0x4addf8(0x23e)]['value']&&_0x25a092<this[_0x4addf8(0x23e)][_0x4addf8(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)][_0x4addf8(0x44f)](this['getPlayerIcone'](_0x6054b2));_0x25a092++;if(_0x6054b2[_0x4addf8(0x478)]&&_0x496aaa[_0x4addf8(0x28d)]!=PHASE_NEWTURN){if(_0x25a092>=this[_0x4addf8(0x23e)][_0x4addf8(0x279)]&&_0x25a092<this['playersPageOffset']['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)][_0x4addf8(0x4c5)](_0x4addf8(0x14b),0xa,'#ffffff',_0x4addf8(0x35d),_0x4addf8(0x384),this['GoToTabName'],{'tab':_0x4addf8(0x129),'player':_0x6054b2},VILLAGE_UI_FONT_BUTTON,undefined,()=>{var _0x29b5a6=_0x4addf8;return _0x29b5a6(0x3d0);},'ff');_0x25a092++;}var _0x59ebf1=world[_0x4addf8(0x40c)][_0x4addf8(0x2da)](_0x6054b2);if(_0x59ebf1){var _0x543343=[{'type':'txt','txt':_0x59ebf1[_0x4addf8(0x320)],'txt_color':this[_0x4addf8(0x146)]==_0x59ebf1?_0x4addf8(0x37a):_0x4addf8(0x384),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x4addf8(0x173),'img':world[_0x4addf8(0x2d3)][_0x59ebf1[_0x4addf8(0x247)]][_0x4addf8(0x173)],'len_x':0x14,'len_y':0x14}];if(_0x496aaa['phase']==PHASE_PLACEPLAYER)_0x543343[_0x4addf8(0x217)]({'type':_0x4addf8(0x11f),'mouseLight':'88','callback':world[_0x4addf8(0x40c)][_0x4addf8(0x115)],'callback_data':{'player':_0x6054b2},'txt':_0x4addf8(0x275),'txt_color':'#000000','max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x4addf8(0x20b)});if(_0x25a092>=this[_0x4addf8(0x23e)][_0x4addf8(0x279)]&&_0x25a092<this[_0x4addf8(0x23e)][_0x4addf8(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)]['addHorizontalElem'](_0x543343);_0x25a092++;}var _0x489907=[];if(_0x496aaa[_0x4addf8(0x28d)]==PHASE_PLACEPLAYER&&this[_0x4addf8(0x146)]&&this[_0x4addf8(0x411)][this['activeTabId']]==_0x4addf8(0x2e1)&&this['batSelected'][_0x4addf8(0x1f7)]&&!this[_0x4addf8(0x146)][_0x4addf8(0x42a)][_0x4addf8(0x4af)](_0x32d5a2=>_0x32d5a2==_0x6054b2)&&!_0x59ebf1&&!this[_0x4addf8(0x484)]&&this[_0x4addf8(0x146)]['players_inside']['length']<this['batSelected'][_0x4addf8(0x1f7)])_0x489907[_0x4addf8(0x217)]({'type':_0x4addf8(0x11f),'mouseLight':'88','callback':world[_0x4addf8(0x40c)]['affectPlayerToBat'],'callback_data':{'player':_0x6054b2,'bat':this['batSelected']},'txt':_0x4addf8(0x3fb),'txt_color':_0x4addf8(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x489907[_0x4addf8(0x4b4)]){if(_0x25a092>=this[_0x4addf8(0x23e)]['value']&&_0x25a092<this['playersPageOffset'][_0x4addf8(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)]['addHorizontalElem'](_0x489907);_0x25a092++;}if(this[_0x4addf8(0x411)][this[_0x4addf8(0x10a)]]=='Items'){if(this['playerSelected']==_0x6054b2){if(_0x496aaa[_0x4addf8(0x28d)]==PHASE_PLACEPLAYER&&_0x6054b2['weapon']){if(_0x25a092>=this[_0x4addf8(0x23e)][_0x4addf8(0x279)]&&_0x25a092<this[_0x4addf8(0x23e)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)][_0x4addf8(0x4c5)](_0x4addf8(0x3bb),0x14,_0x4addf8(0x384),VILLAGE_UI_BUTTON_FILLCOLOR,_0x4addf8(0x384),_0x6054b2[_0x4addf8(0x20c)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x25a092++;}if(_0x496aaa[_0x4addf8(0x28d)]==PHASE_PLACEPLAYER&&_0x6054b2['armor']){if(_0x25a092>=this['playersPageOffset']['value']&&_0x25a092<this[_0x4addf8(0x23e)][_0x4addf8(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)][_0x4addf8(0x4c5)](_0x4addf8(0x155),0x14,_0x4addf8(0x384),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x6054b2[_0x4addf8(0x1f1)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x25a092++;}if(_0x496aaa[_0x4addf8(0x28d)]==PHASE_PLACEPLAYER&&this[_0x4addf8(0x286)]&&this[_0x4addf8(0x286)]['itemType']==_0x4addf8(0x214)){if(_0x25a092>=this['playersPageOffset'][_0x4addf8(0x279)]&&_0x25a092<this[_0x4addf8(0x23e)][_0x4addf8(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)]['addButton'](_0x4addf8(0x44b),0x14,_0x4addf8(0x384),VILLAGE_UI_BUTTON_FILLCOLOR,_0x4addf8(0x384),_0x6054b2[_0x4addf8(0x218)],{'weapon':this[_0x4addf8(0x286)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x25a092++;}if(_0x496aaa[_0x4addf8(0x28d)]==PHASE_PLACEPLAYER&&this[_0x4addf8(0x286)]&&this[_0x4addf8(0x286)][_0x4addf8(0x323)]==_0x4addf8(0x41c)){if(_0x25a092>=this[_0x4addf8(0x23e)][_0x4addf8(0x279)]&&_0x25a092<this[_0x4addf8(0x23e)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)][_0x4addf8(0x4c5)](_0x4addf8(0x311),0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0x4addf8(0x384),_0x6054b2[_0x4addf8(0x493)],{'armor':this[_0x4addf8(0x286)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x25a092++;}}}}if(this['playerInfoMenu']){if(_0x25a092>=this['playersPageOffset'][_0x4addf8(0x279)]&&_0x25a092<this['playersPageOffset'][_0x4addf8(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x4addf8(0x4ac)][_0x4addf8(0x2c6)](this['playerInfoMenu'][_0x4addf8(0x1e9)](),0x28,0x270f,_0x4addf8(0x384),VILLAGE_UI_FONT);_0x25a092++;}}this[_0x4addf8(0x4ac)][_0x4addf8(0x156)]();},this[_0x529066(0x11b)]=()=>{var _0x260dd7=_0x529066,_0x502fe1=world[_0x260dd7(0x40c)],_0x9323ec=_0x260dd7(0x178);_0x9323ec+=world[_0x260dd7(0x40c)][_0x260dd7(0x29d)]();if(_0x502fe1[_0x260dd7(0x1cf)])_0x9323ec+=_0x260dd7(0x2b2)+_0x502fe1[_0x260dd7(0x1cf)]+'\x20food\x20last\x20week';for(var _0x51f688 in _0x502fe1[_0x260dd7(0x460)]){var _0x445488=_0x502fe1[_0x260dd7(0x460)];if(_0x445488[_0x260dd7(0x478)])_0x9323ec+='\x0a'+_0x445488[_0x260dd7(0x320)]+'\x20can\x20lvl\x20up';}this['UI'][_0x260dd7(0x2c6)](_0x9323ec,0x1e,0x270f,_0x260dd7(0x384),VILLAGE_UI_FONT),this['UI'][_0x260dd7(0x44f)]([this[_0x260dd7(0x2c2)](![],![],'Start\x20Turn')]);},this[_0x529066(0x138)]=()=>{var _0x18275f=_0x529066,_0xab866a=world[_0x18275f(0x40c)];if(_0xab866a[_0x18275f(0x458)])this['UI'][_0x18275f(0x2c6)](_0x18275f(0x4b0),0x28,0x270f,_0x18275f(0x384),VILLAGE_UI_FONT);else this['UI'][_0x18275f(0x2c6)](_0x18275f(0x20a),0x28,0x270f,_0x18275f(0x384),VILLAGE_UI_FONT);this['UI'][_0x18275f(0x44f)]([this[_0x18275f(0x2c2)](![],![],_0xab866a[_0x18275f(0x458)]?_0x18275f(0x361):_0x18275f(0x341))]);},this[_0x529066(0x230)]=()=>{var _0x5aca54=_0x529066,_0x26d726=world[_0x5aca54(0x40c)];this['UI']['addHorizontalElem'](this['GetPageSelector']({'selector':this[_0x5aca54(0x240)]}));var _0x473406=0x0;if(_0x26d726[_0x5aca54(0x28d)]!=PHASE_PLACEPLAYER)this['UI'][_0x5aca54(0x2c6)](_0x5aca54(0x415),0x14,0x270f,_0x5aca54(0x20b),VILLAGE_UI_FONT);if(!_0x26d726['Items'][_0x5aca54(0x4b4)])this['UI'][_0x5aca54(0x2c6)](_0x5aca54(0x420),0x14,0x270f,_0x5aca54(0x384),VILLAGE_UI_FONT);for(var _0x3b6bb5 in _0x26d726[_0x5aca54(0x32a)]){var _0x252864=_0x26d726['Items'][_0x3b6bb5];if(_0x473406>=this['itemsPageOffset'][_0x5aca54(0x279)]&&_0x473406<this[_0x5aca54(0x240)][_0x5aca54(0x279)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](this['getItemIcone'](_0x252864,0x14));_0x473406++;}},this[_0x529066(0x1f5)]=()=>{var _0x440639=_0x529066,_0x322bd3=world[_0x440639(0x40c)];switch(_0x322bd3[_0x440639(0x28d)]){case PHASE_PLACEPLAYER:this['UI'][_0x440639(0x2c6)](world['village']['getDateText'](),0x14,0x270f,_0x440639(0x384),VILLAGE_UI_FONT);var _0x3a24c6=_0x440639(0x40a);_0x3a24c6+=_0x440639(0x457),_0x3a24c6+=_0x440639(0x381),_0x3a24c6+=_0x440639(0x107),_0x3a24c6+=_0x440639(0x21e),this['UI'][_0x440639(0x2c6)](_0x3a24c6,0x14,0x270f,_0x440639(0x384),VILLAGE_UI_FONT);var _0x44bcd3=[this['GetNextTurnButton'](!![],this['warningEndTurnMessage'][_0x440639(0x4b4)],'Start\x20Phase\x202')];this['UI'][_0x440639(0x44f)](_0x44bcd3);if(this[_0x440639(0x4bb)][_0x440639(0x4b4)])for(var _0x4313cb in this['warningEndTurnMessage']){var _0x12d182=[];_0x12d182['push']({'type':'txt','txt':this[_0x440639(0x4bb)][_0x4313cb][_0x440639(0x4a1)],'txt_color':_0x440639(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x440639(0x4bb)][_0x4313cb][_0x440639(0x25c)]||this[_0x440639(0x4bb)][_0x4313cb][_0x440639(0x204)]||this['warningEndTurnMessage'][_0x4313cb][_0x440639(0x2bc)])&&_0x12d182[_0x440639(0x217)]({'type':_0x440639(0x11f),'callback':this[_0x440639(0x302)],'callback_data':this['warningEndTurnMessage'][_0x4313cb],'txt':'look','txt_color':_0x440639(0x384),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x440639(0x384),'windowInfo':[{'callback':()=>{var _0x13bc4b=_0x440639;return _0x13bc4b(0x1bb);}}]}),this['UI'][_0x440639(0x44f)](_0x12d182);}break;case PHASE_ACTIONPLAYER:this['UI'][_0x440639(0x2c6)](world['village'][_0x440639(0x29d)](),0x14,0x270f,_0x440639(0x384),VILLAGE_UI_FONT);var _0x3a24c6=_0x440639(0x45a);_0x3a24c6+='\x0a-recolt\x20resource\x20in\x20the\x20forest',_0x3a24c6+=_0x440639(0x254),_0x3a24c6+=_0x440639(0x413),_0x3a24c6+='\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building',this['UI']['addTextZone'](_0x3a24c6,0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x44bcd3=[this[_0x440639(0x2c2)](!![],this[_0x440639(0x4bb)][_0x440639(0x4b4)],_0x440639(0x4b8))];if(this[_0x440639(0x4bb)][_0x440639(0x4b4)])_0x44bcd3[_0x440639(0x217)](this[_0x440639(0x2c2)](![],this['warningEndTurnMessage'][_0x440639(0x4b4)],_0x440639(0x271)));this['UI']['addHorizontalElem'](_0x44bcd3);if(this[_0x440639(0x4bb)]['length'])for(var _0x4313cb in this[_0x440639(0x4bb)]){var _0x12d182=[];_0x12d182[_0x440639(0x217)]({'type':_0x440639(0x4a1),'txt':this[_0x440639(0x4bb)][_0x4313cb][_0x440639(0x4a1)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x4313cb][_0x440639(0x25c)]||this[_0x440639(0x4bb)][_0x4313cb]['bat']||this[_0x440639(0x4bb)][_0x4313cb][_0x440639(0x2bc)])&&_0x12d182['push']({'type':_0x440639(0x11f),'callback':this['GoToTabName'],'callback_data':this[_0x440639(0x4bb)][_0x4313cb],'txt':_0x440639(0x441),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x440639(0x384),'windowInfo':[{'callback':()=>{var _0x2d9bb1=_0x440639;return _0x2d9bb1(0x1bb);}}]}),this['UI']['addHorizontalElem'](_0x12d182);}break;}},this[_0x529066(0x2b5)]=()=>{var _0x75e188=_0x529066,_0x398ec8=world[_0x75e188(0x40c)];if(!this[_0x75e188(0x3c7)])return this['UI']['addTextZone'](_0x75e188(0x48e),VILLAGE_UI_LETTER_SIZE,0x270f,_0x75e188(0x384),VILLAGE_UI_FONT);var _0xa5041f=this['playerSelected'],_0x45a308=this[_0x75e188(0x372)](_0xa5041f,0x50);this['UI']['addHorizontalElem'](_0x45a308);var _0x4025eb=world[_0x75e188(0x40c)][_0x75e188(0x2da)](_0xa5041f);if(_0x4025eb){var _0x1cbfe1=[{'type':_0x75e188(0x4a1),'txt':_0x4025eb['name'],'txt_color':this['batSelected']==_0x4025eb?_0x75e188(0x37a):_0x75e188(0x384),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x75e188(0x173),'img':world['Imgs'][_0x4025eb[_0x75e188(0x247)]][_0x75e188(0x173)],'len_x':0x19,'len_y':0x19}];if(_0x398ec8[_0x75e188(0x28d)]==PHASE_PLACEPLAYER)_0x1cbfe1[_0x75e188(0x217)]({'type':_0x75e188(0x11f),'mouseLight':'88','callback':world['village'][_0x75e188(0x115)],'callback_data':{'player':_0xa5041f},'txt':'\x20leave\x20','txt_color':'#000000','max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x75e188(0x20b)});this['UI'][_0x75e188(0x44f)](_0x1cbfe1);}if(!_0xa5041f[_0x75e188(0x214)])this['UI'][_0x75e188(0x2c6)](_0x75e188(0x136),0x14,0x270e,_0x75e188(0x39c),VILLAGE_UI_FONT);else{var _0x59a636=this[_0x75e188(0x399)](_0xa5041f['weapon'],0x1e,!![]);if(_0x398ec8['phase']==PHASE_PLACEPLAYER)_0x59a636[_0x75e188(0x217)]({'type':_0x75e188(0x11f),'callback':_0xa5041f[_0x75e188(0x20c)],'callback_data':undefined,'txt':_0x75e188(0x19c),'txt_color':_0x75e188(0x384),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x75e188(0x20b),'strokeColor':_0x75e188(0x384),'windowInfo':[{'callback':()=>{return'unequip\x20weapon';}}]});this['UI'][_0x75e188(0x44f)](_0x59a636);}if(!_0xa5041f[_0x75e188(0x41c)])this['UI'][_0x75e188(0x2c6)](_0x75e188(0x1b7),0x14,0x270e,_0x75e188(0x39c),VILLAGE_UI_FONT);else{var _0x59a636=this[_0x75e188(0x399)](_0xa5041f['armor'],0x1e,!![]);if(_0x398ec8[_0x75e188(0x28d)]==PHASE_PLACEPLAYER)_0x59a636[_0x75e188(0x217)]({'type':_0x75e188(0x11f),'callback':_0xa5041f[_0x75e188(0x1f1)],'callback_data':undefined,'txt':_0x75e188(0x19c),'txt_color':_0x75e188(0x384),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x75e188(0x20b),'strokeColor':_0x75e188(0x384),'windowInfo':[{'callback':()=>{var _0x4e046a=_0x75e188;return _0x4e046a(0x155);}}]});this['UI']['addHorizontalElem'](_0x59a636);}if(_0xa5041f[_0x75e188(0x478)]&&_0xa5041f[_0x75e188(0x42d)]&&_0xa5041f['lvlupList']['length']>0x0)for(var _0x3f30fa in _0xa5041f[_0x75e188(0x42d)]){var _0x45a308=_0xa5041f[_0x75e188(0x42d)][_0x3f30fa];this['UI'][_0x75e188(0x4c5)](_0x45a308[_0x75e188(0x191)]+'\x20'+_0x45a308[_0x75e188(0x279)],0x28,_0x75e188(0x384),_0x75e188(0x2ee),_0x75e188(0x384),_0xa5041f[_0x75e188(0x1f0)],_0x45a308,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0xa5041f['lvlup']&&this['UI']['addButton'](_0x75e188(0x27d),0x3c,_0x75e188(0x384),_0x75e188(0x331),_0x75e188(0x384),_0xa5041f[_0x75e188(0x12c)],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0x45a308=[];var _0x2cda3e=_0x75e188(0x2d6)+_0xa5041f[_0x75e188(0x3d7)];_0x2cda3e+=_0x75e188(0x30c)+_0xa5041f['lifeMax'],_0x2cda3e+='\x0aSpeed\x20:\x20'+_0xa5041f[_0x75e188(0x36c)],_0x2cda3e+='\x0aMove\x20AP\x20cost\x20'+_0xa5041f[_0x75e188(0x378)];for(var _0x3f30fa in _0xa5041f[_0x75e188(0x45f)])_0x2cda3e+='\x0a'+_0x3f30fa+'\x20'+_0xa5041f[_0x75e188(0x45f)][_0x3f30fa];_0x45a308[_0x75e188(0x217)]({'type':_0x75e188(0x4a1),'txt':_0x2cda3e,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x501acd=_0x75e188(0x367)+_0xa5041f[_0x75e188(0x427)]+'/'+_0xa5041f[_0x75e188(0x400)];_0x501acd+=_0x75e188(0x16f)+_0xa5041f[_0x75e188(0x181)],_0x501acd+=_0x75e188(0x183)+_0xa5041f[_0x75e188(0x13b)]+_0x75e188(0x242),_0x45a308['push']({'type':'txt','txt':_0x501acd,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x75e188(0x44f)](_0x45a308);},this[_0x529066(0x336)]=()=>{var _0x85fb60=_0x529066,_0x5e4d49=world[_0x85fb60(0x40c)];for(var _0x154db0 in _0x5e4d49[_0x85fb60(0x157)]){var _0xda252c=[],_0x1efab8=_0x5e4d49[_0x85fb60(0x157)][_0x154db0];if(_0x1efab8==undefined)continue;_0xda252c[_0x85fb60(0x217)]({'type':'txt','txt':_0x154db0,'txt_color':_0x85fb60(0x384),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0xda252c[_0x85fb60(0x217)]({'type':_0x85fb60(0x173),'img':world[_0x85fb60(0x2d3)][_0x154db0+_0x85fb60(0x16a)][_0x85fb60(0x173)],'len_x':0x14,'len_y':0x14}),_0xda252c[_0x85fb60(0x217)]({'type':_0x85fb60(0x4a1),'txt':'\x20'+_0x1efab8,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x85fb60(0x44f)](_0xda252c);}},this[_0x529066(0x4b3)]=()=>{var _0x3e0f52=_0x529066,_0x37c5b3=[];_0x37c5b3['push']({'type':'button','mouseLight':'88','callback':()=>{var _0x5e39ad=_0xb2fc;this['activeTabId']=this[_0x5e39ad(0x10a)]-0x1>=0x0?this[_0x5e39ad(0x10a)]-0x1:this['tabs'][_0x5e39ad(0x4b4)]-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x37c5b3[_0x3e0f52(0x217)]({'type':_0x3e0f52(0x11f),'mouseLight':'88','callback':()=>{var _0x95d89f=_0x3e0f52;this[_0x95d89f(0x10a)]=this[_0x95d89f(0x10a)]+0x1<this[_0x95d89f(0x411)][_0x95d89f(0x4b4)]?this[_0x95d89f(0x10a)]+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x37c5b3[_0x3e0f52(0x217)]({'type':_0x3e0f52(0x11f),'mouseLight':'ff','callback':()=>{var _0x459451=_0x3e0f52;this[_0x459451(0x10a)]=undefined;},'callback_data':undefined,'txt':this[_0x3e0f52(0x411)][this[_0x3e0f52(0x10a)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x3e0f52(0x44f)](_0x37c5b3);},this[_0x529066(0x386)]=()=>{var _0x195caa=_0x529066,_0x4f2017=world[_0x195caa(0x40c)];this[_0x195caa(0x354)]=new MyUI(this[_0x195caa(0x166)],this[_0x195caa(0x4ac)][_0x195caa(0x3f5)]+this['UI'][_0x195caa(0x3f5)],0x0,0xa,this['scale'],this['background'],this['stroke'],this[_0x195caa(0x475)]),this[_0x195caa(0x354)][_0x195caa(0x2c6)](_0x195caa(0x14e),0x28,0x270f,_0x195caa(0x384),VILLAGE_UI_FONT_PHASE),this['UIsystem'][_0x195caa(0x44f)]([{'type':_0x195caa(0x11f),'mouseLight':'88','callback':()=>{var _0x54dd63=_0x195caa;this[_0x54dd63(0x2ad)]=this[_0x54dd63(0x2ad)]>0x0?this[_0x54dd63(0x2ad)]-0x1:this[_0x54dd63(0x2ad)];},'txt':'','txt_color':_0x195caa(0x20b),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x195caa(0x40e)},{'type':'button','mouseLight':'88','callback':()=>{var _0x46d6df=_0x195caa;this['eventPage']=this[_0x46d6df(0x2ad)]<_0x4f2017['MessageSystem']['msg'][_0x46d6df(0x4b4)]-0x1?this[_0x46d6df(0x2ad)]+0x1:this['eventPage'];},'txt':'','txt_color':_0x195caa(0x20b),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x195caa(0x40e)}]);var _0x1670ba=_0x4f2017[_0x195caa(0x328)][_0x195caa(0x3da)]({'page':this[_0x195caa(0x2ad)]});for(var _0x22eb47 in _0x1670ba){var _0x228c4e=_0x1670ba['length']-_0x22eb47-0x1,_0x50e592=_0x195caa(0x384);switch(_0x1670ba[_0x228c4e]['type']){case _0x195caa(0x1d9):_0x50e592=_0x195caa(0x212);break;case _0x195caa(0x2e1):_0x50e592='#a52a2a';break;case'player':_0x50e592='#0000ff';break;default:_0x50e592=_0x195caa(0x384);break;}if(_0x1670ba[_0x228c4e][_0x195caa(0x144)]==_0x195caa(0x1dc))this['UIsystem']['addHorizontalElem'](this[_0x195caa(0x35a)](_0x1670ba[_0x228c4e][_0x195caa(0x4a1)],0x14));else this[_0x195caa(0x354)][_0x195caa(0x2c6)](_0x1670ba[_0x228c4e][_0x195caa(0x4a1)],0x14,0x270f,_0x50e592,VILLAGE_UI_FONT);}this[_0x195caa(0x354)]['drawUI']();},this[_0x529066(0x318)]=()=>{var _0x4e619b=_0x529066;if(!world['village'])return;var _0x2449e8=world[_0x4e619b(0x40c)];this[_0x4e619b(0x409)]=![],this[_0x4e619b(0x166)][_0x4e619b(0x4c4)](),this['canvas'][_0x4e619b(0x12d)](),this[_0x4e619b(0x42e)](),this['UI']=new MyUI(this[_0x4e619b(0x166)],this[_0x4e619b(0x4ac)][_0x4e619b(0x3f5)],0x0,0xa,this[_0x4e619b(0x171)],this[_0x4e619b(0x3ec)],this['stroke'],this[_0x4e619b(0x475)]);if(!this['showUI'])this['UI'][_0x4e619b(0x4c5)](_0x4e619b(0x2c0),0x28,_0x4e619b(0x384),'#00000000',_0x4e619b(0x33c),()=>{var _0x2de339=_0x4e619b;this[_0x2de339(0x339)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this['showUI']){switch(_0x2449e8['phase']){case PHASE_PLACEPLAYER:this['UI']['addButton']('Phase\x201\x20:\x20Place\x20Players',0x28,_0x4e619b(0x384),'#00000000',_0x4e619b(0x33c),()=>{var _0x14ab6e=_0x4e619b;this[_0x14ab6e(0x339)]=!this[_0x14ab6e(0x339)];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI'][_0x4e619b(0x4c5)]('Phase\x202\x20:\x20Action\x20Players',0x28,'#000000',_0x4e619b(0x33c),_0x4e619b(0x33c),()=>{var _0x317d29=_0x4e619b;this[_0x317d29(0x339)]=!this[_0x317d29(0x339)];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this['activeTabId']===undefined)for(var _0x4fe3e2 in this[_0x4e619b(0x411)]){var _0x3964b8=[];_0x3964b8[_0x4e619b(0x217)]({'type':'button','mouseLight':'ff','callback':_0x2fb273=>{var _0x5002b0=_0x4e619b;this[_0x5002b0(0x10a)]=parseInt(_0x2fb273);},'callback_data':_0x4fe3e2,'txt':this[_0x4e619b(0x411)][_0x4fe3e2],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI']['addHorizontalElem'](_0x3964b8);}else{if(_0x2449e8[_0x4e619b(0x28d)]==PHASE_NEWTURN)this[_0x4e619b(0x11b)]();else{if(_0x2449e8[_0x4e619b(0x28d)]==PHASE_COMBAT)this[_0x4e619b(0x138)]();else{this['draw_tab_selector']();switch(this['tabs'][this[_0x4e619b(0x10a)]]){case _0x4e619b(0x341):this[_0x4e619b(0x1f5)]();break;case _0x4e619b(0x2e1):this['draw_building_tab']();break;case _0x4e619b(0x26a):this[_0x4e619b(0x4bd)]();break;case _0x4e619b(0x1dc):this['draw_resource_tab']();break;case'Items':this[_0x4e619b(0x230)]();break;case'Player':this['draw_playerTab']();break;}}}}}}this['UI'][_0x4e619b(0x156)](),this[_0x4e619b(0x386)](),this['CheckInfoWindow'](![]);};};var IMG_TO_LOAD=[[_0x2698c6(0x263),'food_icon'],[_0x2698c6(0x263),_0x2698c6(0x468)],['player_test3/village/resource',_0x2698c6(0x43f)],[_0x2698c6(0x263),'coal_icon'],['player_test3/village/resource',_0x2698c6(0x35c)],[_0x2698c6(0x249),'forest_icon'],[_0x2698c6(0x249),_0x2698c6(0x34d)],[_0x2698c6(0x249),_0x2698c6(0x1af)],[_0x2698c6(0x249),'Houses'],[_0x2698c6(0x249),'Mine'],[_0x2698c6(0x249),_0x2698c6(0x228)],[_0x2698c6(0x249),_0x2698c6(0x4aa)],[_0x2698c6(0x263),_0x2698c6(0x438)],[_0x2698c6(0x263),_0x2698c6(0x14d)]],id=0x0;World=function(_0x595702){var _0x312525=_0x2698c6;this[_0x312525(0x3b5)]=_0x595702,this[_0x312525(0x130)]=new SoundManager(),this[_0x312525(0x2d3)]=[],this[_0x312525(0x232)]=()=>{var _0xfe6888=_0x312525;this[_0xfe6888(0x40c)]=new Village({}),this[_0xfe6888(0x40c)]['generateBasicVillage'](),this[_0xfe6888(0x1fa)]=new VillageUI(this[_0xfe6888(0x3b5)][_0xfe6888(0x463)][_0xfe6888(0x205)]);},this[_0x312525(0x1d1)]=()=>{var _0x33ecec=_0x312525;for(var _0x11a53d in IMG_TO_LOAD){var _0x1efc91=IMG_TO_LOAD[_0x11a53d][0x1],_0x3e3027=IMG_TO_LOAD[_0x11a53d][0x0];this[_0x33ecec(0x2d3)][_0x1efc91]=new myImage(_0x1efc91,_0x33ecec(0x21f)+_0x3e3027+'/'+_0x1efc91+_0x33ecec(0x1a1));}},this[_0x312525(0x259)]=()=>{var _0x32808b=_0x312525;this[_0x32808b(0x352)]=new ControlManager(),new PlayersManager()[_0x32808b(0x1ca)](),this['Imgs']={...world[_0x32808b(0x1c2)]},this[_0x32808b(0x1d1)](),this['initVillage']();},this['create_random_enemy_on_map']=_0x3fe7f6=>{var _0xe3729a=_0x312525;if(!this['map'])return undefined;var _0x353641=0x64;while(_0x353641-->0x1){var _0x51b9e3=0x1+Math[_0xe3729a(0x1a0)](this[_0xe3729a(0x3ac)][_0xe3729a(0x470)]*(0.5+0.5*Math[_0xe3729a(0x4a5)]())),_0x21106f=0x1+Math[_0xe3729a(0x1a0)](this[_0xe3729a(0x3ac)][_0xe3729a(0x184)]*Math[_0xe3729a(0x4a5)]()),_0x3de24d=this['players'][_0xe3729a(0x426)]({'x':_0x51b9e3,'y':_0x21106f,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x3de24d&&(console[_0xe3729a(0x114)](_0xe3729a(0x161)+[_0x51b9e3,_0x21106f]),_0x353641=0x0);}if(!_0x3de24d)return undefined;_0x3de24d['lifeMax']=0x14+_0x3fe7f6*0x4,_0x3de24d[_0xe3729a(0x25f)]=_0x3de24d['lifeMax'],_0x3de24d[_0xe3729a(0x45f)][_0xe3729a(0x2ba)]=0x5+_0x3fe7f6,_0x3de24d[_0xe3729a(0x45f)][_0xe3729a(0x13f)]=0x5+_0x3fe7f6,_0x3de24d[_0xe3729a(0x36c)]=0x50+_0x3fe7f6*0x1+Math[_0xe3729a(0x1a0)](Math['random']()*0x50),_0x3de24d['ActionPointMax']=0x32+Math[_0xe3729a(0x1a0)](Math[_0xe3729a(0x4a5)]()*0x64)+_0x3fe7f6,_0x3de24d['ActionPoint']=_0x3de24d['ActionPointMax'],_0x3de24d[_0xe3729a(0x378)]=0x14-0xf+Math['floor'](Math['random']()*0x1f)-_0x3fe7f6;if(_0x3de24d[_0xe3729a(0x378)]<0x5)_0x3de24d[_0xe3729a(0x378)]=0x5;var _0x4fa565=undefined,_0x157f17=Math[_0xe3729a(0x1a0)](Math['random']()*0x64);if(_0x3fe7f6<0x5)_0x4fa565=undefined;else{if(_0x157f17+_0x3fe7f6*0x2>0x50)_0x4fa565=new Weapon()[_0xe3729a(0x3dc)]();}_0x3de24d['weapon']=_0x4fa565;var _0x31c971=undefined,_0x157f17=Math['floor'](Math[_0xe3729a(0x4a5)]()*0x64);if(_0x3fe7f6<0x5)_0x31c971=undefined;else{if(_0x157f17+_0x3fe7f6*0x2>0x50)_0x31c971=new Armor()['createRandomArmor']();}return _0x3de24d[_0xe3729a(0x41c)]=_0x31c971,_0x3de24d['generateCapacity'](),console['log'](_0xe3729a(0x2e6)),_0x3de24d;},this[_0x312525(0x368)]=(_0x35de4d,_0x414fa9,_0x2ccccd)=>{var _0x3c2067=_0x312525;this[_0x3c2067(0x3ac)]=new BattleMap(0x19,0x6+0x2*_0x35de4d[_0x3c2067(0x4b4)]),this['map'][_0x3c2067(0x1c7)](),this[_0x3c2067(0x3ac)]['generateMap'](),this['players']=new PlayersManager(),this[_0x3c2067(0x460)][_0x3c2067(0x1ca)](),this[_0x3c2067(0x460)]=this[_0x3c2067(0x460)],this[_0x3c2067(0x460)][_0x3c2067(0x4c1)]=this['Screen']['canList'][_0x3c2067(0x4b5)],this['players'][_0x3c2067(0x334)]=this[_0x3c2067(0x3b5)]['canList']['players'],TEAM_AI_COLOR={'r':0x78,'g':0x78,'b':0x78};var _0x212e61=0x3;for(var _0x1e759e in _0x35de4d){var _0x178e97=_0x35de4d[_0x1e759e];this['players'][_0x3c2067(0x36f)]({'x':0x3,'y':_0x212e61,'player':_0x178e97}),_0x212e61+=0x2;}for(var _0x4df0ad=0x0;_0x4df0ad<0x64;_0x4df0ad++){if(_0x2ccccd){this[_0x3c2067(0x280)](_0x414fa9*0x3);break;}if(_0x4df0ad==0x0||_0x4df0ad==0x1){this[_0x3c2067(0x280)](_0x414fa9);continue;}else{if(_0x414fa9>0x5&&_0x4df0ad>0x5a&&Math[_0x3c2067(0x1a0)](Math['random']()*(0x64+_0x414fa9))<_0x414fa9)this[_0x3c2067(0x280)](_0x414fa9);else{if(_0x414fa9>0x14&&_0x4df0ad>0x50&&Math['floor'](Math[_0x3c2067(0x4a5)]()*(0xc8+_0x414fa9))<_0x414fa9)this[_0x3c2067(0x280)](_0x414fa9);else{if(_0x414fa9>0x32&&_0x4df0ad>0x46&&Math[_0x3c2067(0x1a0)](Math['random']()*(0x190+_0x414fa9))<_0x414fa9)this[_0x3c2067(0x280)](_0x414fa9);else{if(_0x414fa9>0x64&&_0x4df0ad>0x32&&Math[_0x3c2067(0x1a0)](Math['random']()*(0x320+_0x414fa9))<_0x414fa9)this[_0x3c2067(0x280)](_0x414fa9);}}}}}this[_0x3c2067(0x3ac)][_0x3c2067(0x3fa)]();},this['needRedraw']=()=>{var _0x31093e=_0x312525;if(this['map'])this[_0x31093e(0x3ac)][_0x31093e(0x409)]=!![];if(this[_0x31093e(0x205)])this[_0x31093e(0x205)][_0x31093e(0x409)]=!![];if(this['villageUI'])this[_0x31093e(0x1fa)][_0x31093e(0x409)]=!![];};},PLAYER_ID=0x3e8,document[_0x2698c6(0x29e)]=rightClick;function rightClick(_0x52f984){var _0x5514ab=_0x2698c6;_0x52f984[_0x5514ab(0x1f9)]();}window[_0x2698c6(0x1c6)]=function(){var _0x173126=_0x2698c6;const _0x2c0567=new CanvasManager();_0x2c0567[_0x173126(0x38c)](_0x173126(0x150),0x0),_0x2c0567[_0x173126(0x38c)]('players',0x1),_0x2c0567['addCanvas']('mapTopElem',0x2),_0x2c0567[_0x173126(0x38c)](_0x173126(0x4b5),0x3),_0x2c0567[_0x173126(0x38c)](_0x173126(0x205),0x4),world=new World(_0x2c0567),world[_0x173126(0x259)]();var _0xdd0307=new Date()[_0x173126(0x2c9)]();setInterval(()=>{var _0xf61cd8=_0x173126;if(!world||!world[_0xf61cd8(0x352)])return;var _0x374a58=new Date()[_0xf61cd8(0x2c9)]();if(world['GameUI'])world[_0xf61cd8(0x205)][_0xf61cd8(0x2bb)]=Math['floor'](0x3e8/(_0x374a58-_0xdd0307));_0xdd0307=_0x374a58;if(world[_0xf61cd8(0x460)]&&world[_0xf61cd8(0x460)][_0xf61cd8(0x4d2)]&&world[_0xf61cd8(0x460)][_0xf61cd8(0x4d2)][_0xf61cd8(0x176)]==TEAM_AI&&!world[_0xf61cd8(0x460)][_0xf61cd8(0x4d2)]['AI'][_0xf61cd8(0x22d)]){var _0x3002cf=world['players'][_0xf61cd8(0x45b)][_0xf61cd8(0x4af)](_0x43f22f=>_0x43f22f[_0xf61cd8(0x29a)][_0xf61cd8(0x4b4)]>0x0);if(!_0x3002cf){_0x3002cf=world[_0xf61cd8(0x460)][_0xf61cd8(0x4d2)]['playAIturn'](),console[_0xf61cd8(0x114)](_0xf61cd8(0x1a5)+_0x3002cf);if(_0x3002cf)world[_0xf61cd8(0x460)]['Playerturn']['AI'][_0xf61cd8(0x22d)]=!![];}}world['Controler'][_0xf61cd8(0x270)](),world[_0xf61cd8(0x3ac)]&&world[_0xf61cd8(0x3ac)][_0xf61cd8(0x409)]&&(_0x2c0567['canList'][_0xf61cd8(0x150)][_0xf61cd8(0x4c4)](),_0x2c0567[_0xf61cd8(0x463)][_0xf61cd8(0x150)][_0xf61cd8(0x12d)](),_0x2c0567[_0xf61cd8(0x463)][_0xf61cd8(0x37d)][_0xf61cd8(0x4c4)](),_0x2c0567['canList'][_0xf61cd8(0x37d)][_0xf61cd8(0x12d)](),world['map'][_0xf61cd8(0x224)](_0x2c0567[_0xf61cd8(0x463)][_0xf61cd8(0x150)][_0xf61cd8(0x166)]),world[_0xf61cd8(0x3ac)]['draw_map'](_0x2c0567[_0xf61cd8(0x463)][_0xf61cd8(0x150)],_0x2c0567[_0xf61cd8(0x463)][_0xf61cd8(0x37d)],_0x2c0567['canList']['mapUI'])),world[_0xf61cd8(0x460)]&&(_0x2c0567['canList']['players'][_0xf61cd8(0x4c4)](),_0x2c0567['canList'][_0xf61cd8(0x460)]['cleanCanvas'](),world[_0xf61cd8(0x460)][_0xf61cd8(0x2de)](),scale_changed=![]),world[_0xf61cd8(0x205)]&&(world[_0xf61cd8(0x205)][_0xf61cd8(0x17d)](![]),world[_0xf61cd8(0x205)][_0xf61cd8(0x409)]&&world[_0xf61cd8(0x205)][_0xf61cd8(0x43c)]()),world['villageUI']&&(world[_0xf61cd8(0x1fa)][_0xf61cd8(0x17d)](![]),world[_0xf61cd8(0x1fa)][_0xf61cd8(0x409)]&&(world[_0xf61cd8(0x1fa)][_0xf61cd8(0x318)](),console[_0xf61cd8(0x114)](_0xf61cd8(0x221))));},0x14);};