function _0x5e62(_0x5b81bc,_0xb2602f){var _0x1a0a3c=_0x1a0a();return _0x5e62=function(_0x5e620a,_0x2d5e5a){_0x5e620a=_0x5e620a-0xba;var _0x519dce=_0x1a0a3c[_0x5e620a];return _0x519dce;},_0x5e62(_0x5b81bc,_0xb2602f);}var _0x4750f4=_0x5e62;(function(_0x288668,_0x59a9eb){var _0x3a14fc=_0x5e62,_0x2d0064=_0x288668();while(!![]){try{var _0x15aab0=parseInt(_0x3a14fc(0x284))/0x1+-parseInt(_0x3a14fc(0x2b5))/0x2*(-parseInt(_0x3a14fc(0x19c))/0x3)+-parseInt(_0x3a14fc(0x362))/0x4*(parseInt(_0x3a14fc(0x204))/0x5)+parseInt(_0x3a14fc(0x403))/0x6+-parseInt(_0x3a14fc(0x218))/0x7*(parseInt(_0x3a14fc(0x33e))/0x8)+parseInt(_0x3a14fc(0x2fe))/0x9+-parseInt(_0x3a14fc(0xe9))/0xa;if(_0x15aab0===_0x59a9eb)break;else _0x2d0064['push'](_0x2d0064['shift']());}catch(_0x2cd752){_0x2d0064['push'](_0x2d0064['shift']());}}}(_0x1a0a,0x36ebd),SoundManager=function(){var _0x43f500=_0x5e62;this['sounds']=[],this['src']=_0x43f500(0x28a),this[_0x43f500(0x3cb)]=_0x1a4d85=>{var _0x497b60=_0x43f500;if(this[_0x497b60(0x1c0)][_0x1a4d85]&&this[_0x497b60(0x1c0)][_0x1a4d85]['readyState'])return;var _0x448cae=new Audio(this[_0x497b60(0x298)]+_0x1a4d85+'.mp3');this[_0x497b60(0x1c0)][_0x1a4d85]=_0x448cae;},this[_0x43f500(0x265)]=(_0x2021fc,_0x37c936,_0x4b2dd7)=>{var _0x440c3d=_0x43f500;if(!this['sounds'][_0x2021fc])this[_0x440c3d(0x3cb)](_0x2021fc);if(!_0x4b2dd7&&!this[_0x440c3d(0x1c0)][_0x2021fc][_0x440c3d(0x1a8)])this[_0x440c3d(0x1c0)][_0x2021fc][_0x440c3d(0x36d)]=0x0;if(_0x37c936)this[_0x440c3d(0x1c0)][_0x2021fc][_0x440c3d(0x21a)]=!![];this[_0x440c3d(0x1c0)][_0x2021fc][_0x440c3d(0x100)]();},this[_0x43f500(0x3cf)]=_0x262950=>{var _0x34b7de=_0x43f500;this[_0x34b7de(0x1c0)][_0x262950]&&(this[_0x34b7de(0x1c0)][_0x262950][_0x34b7de(0x317)](),this['sounds'][_0x262950][_0x34b7de(0x36d)]=0x0);};});function _0x1a0a(){var _0x48847e=['movePCost','InfoWindowPos','Kade\x20House','\x20is\x20dead','Emmalyn\x20Spence','\x20crafted\x20a\x20','AlphaTransparencyByPixel','8356BfAwZj','bush','Stone\x20Axe','roof_0','random','lifeMax','filter','Dexterity','enemy\x20created\x20succesfully','Your\x20Village\x20is\x20attacked\x20!!','GetNextTurnButton','currentTime','UpgradingHouses','upgrade\x20weapons','Ryder\x20Sandoval','\x20action\x20points','get_all_block_accessible','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','\x0a-start\x20the\x20construction\x20of\x20new\x20building','\x0aYour\x20village\x20consumed\x20','getBlockAdjacent','Sergio\x20Welch','receive_attack','playerDefaultImgs','exitFullscreen','lenx','leny','\x0aMove\x20AP\x20cost\x20','\x0aSurvived\x20','PlayerInfodisplay','Itzel\x20Allison','selector\x20:\x20','botElem','position','EventcloseFullscreen','smelt\x20raw\x20mineral\x20into\x20metal','draw_newTurnPhase','nextTurn','get\x20more\x20resources\x20in\x20the\x20mine','move','Screen','\x0a-hit\x20the\x20selected\x20block','weaponAnim','the-britons','\x0a-hit\x20between\x20[','\x20turn\x20have\x20started','mouse_move_check','phase','face_4','tab','https://discord.gg/bSKtAqwAhc','lineMax','scale','End\x20Turn','bad\x20input','playerSortModeId','Houses','key_event','Alisson\x20Roberson','Richard\x20Lee','initMapTopElement','\x20is\x20not\x20affected\x20to\x20a\x20building','Annalise\x20Carson','menuUI','tryLvLup','width','get\x20more\x20resources\x20in\x20mine','style','direction\x20:\x20','can\x27t\x20create\x20getColorImage','get\x20resources','#5500ff','face_0','Dennis\x20Parrish','clientY','Mckenna\x20Leblanc','msg','botright_block','body/','hand\x20hit','\x20x\x20','change\x20block\x20','Next\x20Turn','players','getChanceUppgrade','Turns','small_woodBow','Emerie\x20Hickman','marge','Attack\x20with\x20','getPlayerByBlock','createWeaponFromInput','addGauge','\x20don\x27t\x20have\x20enought\x20Action\x20Point','craft\x20stuff\x20here','keyUp','closeFullscreen','screenBy','Magnus\x20Yoder','\x20received\x20damage\x20:\x20','transform\x20wood\x20into\x20woodplank','needRedraw','weapon\x20:\x20','ready','txts','LoadSound','no\x20description','playersSelected','getBatFromPlayer','stopSound','bow\x20attack','Argoo','rawCopper','#ff880022','#000000','CheckInfoWindow','GoToCraftTab','fps','centerOnBlock','getPixelPosition','Events','\x27Algerian\x27','statsplayerSortModeId','webkitExitFullscreen','unequipWeapon','posA','costAP','sword','Cillian\x20Ray','Fail\x20!\x27','\x0a-hit\x20[','extand\x20the\x20Turns\x20window','getZoneAdjacentToPlayerByDir','getPlayerIcone','#ffffff','\x20for\x20','Ximena\x20Zimmerman','from','toFixed','playersPageOffset','addTextZone','unequip\x20weapon','putImageData','\x27Cooper\x20Black\x27','New\x20Building','animation','len_x','Phase\x202\x20started','no\x20block','createProjectilAnimation','getTime','\x20/\x20','New\x20PLayer\x20','GetBatBuildMenuSelector','getBlocksAtRange','px\x20','upgrades_callback','create_random_enemy_on_map','equipWeapon','duration','Alexia\x20Anderson','1995168PmgMLZ','cos','#f8f8ff88','can\x27t\x20display\x20weapon\x20:\x20','fillRect','piercing','Kai\x20Benjamin','checkNextUpgrade','Andres\x20Sampson','Setple','changeMapView','resource','Paxton\x20Pollard','GoToTabName','#da1d81','fullScreen','addMessage','bodyPartImgReady','itemsPageOffset','saw_workshop','drawRect','attack','stones','moveCost','no\x20craft\x20available','playerSelected','#17bdbc','drawPlayers','Space','#11ff33','unequip\x20armor','screenAx','\x27\x20have\x20started','cancel_menu','stat','hello\x20world','hand','then','job','drawProjectiles','createImgFromData','innerWidth','addHorizontalElem','pixel_endy','\x20damage\x20increase\x20of\x20','pixel_width','Bonnie\x20Bishop','canList','draw_playerTab','battle','requestFullscreen','drawImageMirrorRotateCenter','Jamison\x20Pace','batsToBuild','Kevin\x20Wiggins','addImage','\x27\x20uppgrading','getItemIcone','\x0aTarget\x20between\x20[','mapBlock','get_pixel_by_pos','\x0a--\x20x','Numpad','face_type','Kenji\x20McLaughlin','attack_bigaxe','Matthew\x20Beil','invalid\x20player','wood_armor','test_start_battle','letter_size','delete_player','horizontal','#ff080888','blocks','Wren\x20Costa','keyDown','age','highlightZone','UI_list','calculatDamageFromAttack','posB','workshop_icon','Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village','Stone\x20Pickaxe','Peter\x20Tate','Digit','./img/','fullness','getBlocksAtDistRangeFromPlayer','GoToForgeTab','init','Force\x20End\x20Turn','value','Carson\x20Hunter','Skye\x20Ramirez','DrawTabInfoPlayer','createElement','no\x20crafts\x20list','getZoneAtAbsRangeToPlayer','villageUI','\x27Bauhaus\x2093\x27','Jadiel\x20McDonald','mapImgsBot','LoadPlayerVillageImage','shaken_bush','Azrael\x20Ali','smash','batBuildMenu','lineTo','item','wrong\x20direction','Players','#00ff00','CheckMoveTo\x20:\x20player\x20here','callback_data','lvlup','use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building','Vincent\x20Dougherty','attack_metal_slash','go\x20to\x20player\x20tab\x20for\x20lvl\x20up','highlight','code','\x20\x20Info\x20\x20','batSortModeList','mousePos','\x0aLvl\x20:\x20','centurion\x20helmet','rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','replace','\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings','round','drawUI','UIturn','createPlayerFromInput','Elsie\x20Reynolds','fletching\x20station','weed','removeResource','pos_startx','factor','colorColored','Aubrielle\x20Farmer','error\x20input\x20create\x20player','Start\x20Phase\x202','rotate\x20to\x20:\x20','createDatafromImage','keydown','#000000aa','failed\x20createImgData\x20image','Exploit\x20resource\x20from\x20the\x20forest','splice','Wilson\x20Gill','unequipArmor','go\x20to\x20craft\x20tab','Algerian','bad\x20input\x20remove\x20resource','txt_font','CheckMoveTo\x20:\x20invalid\x20Input','APcost','SelectingBlockAction','can\x27t\x20delete\x20this\x20player','len_y','sawmill','resize','#ffff66','test\x20zone\x20','gaugeSpeed','\x20is\x20attacking\x20(no\x20weapon)','Copper\x20Hammer','ReturnBlockTargeted',']\x20distance\x20around\x20the\x20target','Life\x20Max\x20:\x20','CheckControlInput','page\x20up','bodyPartImg','Keegan\x20Doyle','name','go\x20to\x20forge\x20tab','\x20incoming\x20damage','test','get_valid_action_in_affected_building','draw_ItemsTab','#00aaaa','crossOrigin','ArrowLeft','upgrades','\x20img\x20loaded','Alaina\x20Bradford','face_3','metal_axe','addSmelter','\x20AP','spawn\x20player','#663300','onload','imgs\x20:\x20','spear_attack','\x20AI\x20is\x20playing','enemy)','NumpadAdd','start\x20construction','initImgs','complete','playerstats','turnFinished','woodplank_icon','addWorkShop','warning','imgIcon','center','wood_arrow','weapon','LoadPlayerImage','sin','pUI_need_redraw','callback_actionPlayer','top','max_letter','getEquipedWeaponDescription','draw_Image','bat','Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn','getVillageUItext','Defend\x20Village','CheckMoveTo\x20:\x20invalid\x20block','beginPath','zIndex','oncontextmenu','rangeMin','Mira\x20Acevedo','wood\x20Stick','inputclick','Mine\x20the\x20ground\x20get\x20resources','get\x20block\x20adjacent','Giana\x20Hudson','wall','decode','New\x20Turn\x20!\x20','recoltForestResouce','KeyA','checkHaveResources','back','draw_menu','CostMovingPlayer','./img/player_test3/','colorFill','text_font','Small\x20Woodbow','Playerturn','you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank','#d2691e88','buttonList','0.0.4','rangeMax','endFight','3392150VhGCeR','draw_tab_selector','startsWith','can\x27t\x20get\x20can\x20pos','blocksize_y','draw_resource_tab','drawTextTopLeft','addEventListener','Img','bow_workshop_icon','Sawmill','createRandomWeapon','getDateText','txt','upgradeLvl','attack\x20animation\x20on\x20the\x20selected\x20block','page\x20down','can\x27t\x20add\x20this\x20weapon','Attack','pos_starty','face/','getKeyInput','crushing','play','ApplyListPerkUp','initMapFloorImage','Mine','batSortModeId','upgrade\x20!','mapFloor','#006400','UIplayers','selecting_block','#ff0000','Strenght\x20Smashing\x20weapon,\x20can\x20be\x20uppgraded','\x20is\x20smelting\x20copper\x20for\x20','Music','#ff66ff','generateBasicVillage','stats','return\x20to\x20the\x20start\x20of\x20the\x20last\x20phase\x201\x20you\x20played','Lorelei\x20Alexander','fullscreenchange','msExitFullscreen','ff0000','dmgArmor','Halo\x20Knapp','Lvl\x20up\x20+1','loadImg','openFullscreen','Lara\x20Barnett','craftSelected','getMouseInput','damage\x20after\x20armor\x20reduction\x20:\x20','Maci\x20Alvarado','weapon\x20equiped\x20:\x20\x27','creating\x20an\x20image\x20:\x20','Aufait','addForest','add\x20to\x20building','Belek','resources','pos_y','\x27Snap\x20ITC\x27','Capri\x20Glenn','Mouse_Input','TryBuildBat','Key_Input','data','moveTo','#00dd00','txt_size','warningEndTurnMessage','\x20damage','addBowWorkshop','hammerMetal','init_check_mouse_move','info','loadPlayerDefaultImgs','Denver\x20Leal','addSawmill','anonymous','#00000000','Malachi\x20Garza','webkitfullscreenchange','itemType','getContext','player_test3/village/building','copper_hammer','speed','player','Stone\x20Spear','#ffffff88','getBlockUnderPlayer','ctx','ArrowUp','\x20PA\x20left\x20for\x20finish\x20construction','map','getZoneAdjacentToPlayer','key_buton_check','build_progression','strokeColor','\x20can\x20lvl\x20up\x20++','lvl','under_construction_icon','text','Items','can\x27t\x20load\x20','Dexterity\x20Slashing\x20weapon,\x20can\x20be\x20uppgraded','Krew\x20Pruitt','getWeaponAttackDescription','chance\x20to\x20hit\x20:\x20%','Kadence\x20Castaneda','take_damage','image\x20incomplet','workshop','stone_axe','cleanCanvas','ControlLeft','coal_icon','\x20have\x20','button','extand\x20the\x20event\x20window','playerList','face_1','\x20joined\x20your\x20village','get_next_path','blocking_end_turn','unequipItem','smashing','#a01454','under\x20construction\x20:\x20','Move\x20To','getResourcesTextAndImg','sortButo2','get_pixel_by_block','village','GetMovePrice','Fepachie','Kelvin\x20Fischer','UIevent','GetColorImage','\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27','createRandomArmor','mousemove','villageAP_icon','path','gauge','get_valid_craft_list','blockTargetingFunction','size','measureText','draw_NextTurnTab','foodconsumedLastTurn','./img/player_test3/village/villageUI_patern.png','stroke','needColor','actionCost','pixel_startx','get_block_by_pixel','weapon/','addCanvas','hit\x20them\x20from\x20behind','highlightBlock','key','rect','can\x27t\x20with\x20','imgColored','ArrowDown','elmList','\x27s\x20','showUIsystem','Phase\x201\x20:\x20Place\x20Players','abs','getBlocksAtRangeFromPlayer','drawLine','pixel_starty','Controler','#6495ed88','337242nhvGZR','left\x20mouse\x20:\x0a','body','invalid\x20craft','bats','Zachary\x20Holloway','GetDrawBuildingElement','KeyD','innerHeight','House\x20lvl','sort\x20by\x20','\x20by\x20','paused','draw_craft_menu','addHouse','anim','copper_cleaver','food_icon','#00ffff','hammer_nails','get_block_at_BlockRange','textAlign','Azyla','no\x20one\x20can\x20craft\x20it','getBlockBehindTarget','playerSortModeList','\x20if\x20%','GameUI','get_valid_player_for_craft','drawMessageSystemEvents','TryUpgrade','find','\x20is\x20mining\x20resource\x20for\x20','\x27Comic\x20Sans\x20MS\x27','End_Turn','Greyson\x20Walker','sounds','loadBatsFromInput','sawmill_song','center\x20on\x20player','fullscreenElement','angle','no\x20weapon\x20equiped','length','DefaultImgsReady','getMessageSystem','fillColor','players_inside','defend_village_icon','\x20\x20During\x20Phase\x201,\x20you\x20can','unshift','Hazel\x20Crawford','you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201','\x0aSpeed\x20:\x20','version\x20','lastTime','Scarlett\x20Mays','isDead','batPageOffset','equipArmor','CheckMoveTo','Stephanie\x20Bradley','no\x20players','createNewPlayer','add\x20some\x20blocks\x20','body_type','click','KeyW','screenAy','#0088ff','getNextUpgrade','page','batSelected','removePlayerFromBat','pixel_endx','attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','bot','lvlupList','itemSelected','this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it','playerInfoMenu','can\x27t\x20create\x20this\x20weapon','Strength','left','topElem','\x27\x20(+','sort','drawTextCenter','projectilAnimation','Success\x20\x27','week','drawImage','player_test3/village/resource','#666666','mouseInfoWindow','\x27Footlight\x20MT\x20Light\x27','wood_stick','mapImgsFloor','setTransform','you\x20lost\x20:','draw_map','Forest\x20Exploitation','\x20Action\x20Point\x20left','\x20Action\x20Point\x20(Village)\x20','315PpKTjp','\x20life\x20point','Movement\x20cost\x20:\x20','building','Forge','\x20is\x20loaded','.png','Treasure\x20Quintana','generateCapacity','armor/','zone','zoneTarget','player_size','Ander\x20Wise','cost','canvas','Start\x20a\x20new\x20game','smelt\x20copper','forge','mouseup','1771tVgeLL','alt','loop','blocksize_x','mode','height','body_1','creating\x20an\x20enemy\x20in\x20','floor','Linda\x20Castillo','createUI','displayMessageEvent','eventPage','InfoWinfowPos','layerLen','Imgs','this\x20will\x20delete\x20your\x20current\x20save','\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20','Grady\x20O’Neal','end\x20of\x20the\x20combat','mapImgsTop','zone_target_area','body_4','strokeRect','catch','#a52a2a','upgrade','\x20of\x20type\x20','push','string','resized','statsplayerSortModeList','equipItem','Move\x20your\x20player\x20up/right/down/left','sound','drawImageRotate','get_next_turn','mouseLight','projectilSpeed','check\x20dmg\x20:\x20','start\x20message\x20system','fillText','set_drawing_map','cant\x20load\x20image\x20\x22','mouseWasOnMouseLightLastDraw','type','ActionPointMax','Phase\x202\x20:\x20Action\x20Players','craft\x20or\x20upgrade\x20weapons\x20here','text_color','bonus','strokeStyle','initMapBotElement','newGameInput','Menu','Copper\x20Cleaver','topleft_block','No\x20Name','#888888','blockSelected','Jacob\x20Knapp','right','dodge','KeyF','Your\x20population\x20eat\x20food,\x20Miam','clearRect','getDistToABlock','block','\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building','drawGameUI','the\x20construction\x20of\x20\x27','build','bottom','txt_color','UIeventExpanded','canvasPUI','forest_icon','playSound','\x20\x20\x20\x20\x20Info\x20:','i\x20dont\x20have\x20this\x20image\x20\x20:\x20','showUI','getBoundingClientRect','createPlayerFromVillage','rawCopper_icon','#ef0bc322','TryMoveTo','clientX','sortButo','#ff000055','DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','GetMoveDir','posBlocky','concat','player\x20','get_block_at_DistRange','ActionPoint','Stefan\x20Christian','click_buton_check','no\x20armor\x20equiped','UIsystem','big_tree_0','#555555','Zachariah\x20Berg','sword_2h','drawVillageUI','Okalm','open','generateBasicPlayer','192181rkYNbc','\x20uppgraded\x20to\x20LvL\x20','addWeaponToVillageInventory','drawFillRect','NumpadSubtract','hand/hand_0.png','./music/','#ffff00','./img/mapTopElement/','metal_sword','showUIplayers','startTime','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','callback','description','GetCanvasPos','No\x20player\x20selected','player\x20body\x20img\x20loaded\x20and\x20ready','getChanceOfHit','parse','src','addDefendVillage','failed\x20createImgData\x20image\x20Colored','createPattern','equip\x20armor','craftPageOffset','\x0aLife\x20Max\x20:\x20','loadItemsFromInput','mine','Miner\x20helmet','font','#FFAD1C','addForge','affectPlayerToBat','tabs','getNextTurnList','forEach','you\x20don\x27t\x20have\x20enought\x20resource','villageActionPoint','mapTopElem','Your\x20village\x20is\x20attacked\x20!','pos_x','Cade\x20Patton','get\x20x2\x20more\x20wood\x20in\x20forest','CreateBattleMapFromVillagePlayer_test','team','hit\x20the\x20target\x20behind','Zaid\x20Terry','initVillage','6piAKGo','\x20-\x20','atan2','get_next_block_accessible','Arial','deltaY','log','Vini,\x20Vidi,\x20Vici','Wood\x20Armor','playAIturn','pixel_height','Jordan\x20Barker','\x27Chiller\x27','drawImageRotateCenter','getArmorDescription','slashing','rotate','handImg','error,\x20no\x20block','createPlayer','mapUI','lvl\x20','KeyS','capacityList','Shepherd\x20Park','ChangePosition','changed\x20','Phase\x201\x20started','wood_icon','textBaseline','addResource','generateRandomElement','\x20-Action\x20Point\x20','allied)','cut\x20wood\x20faster\x20in\x20forest','createNewWeapon','craft\x20basic\x20stuff','where-the-brave-may-live-forever','body_2','createNewArmor','img','\x20to\x20the\x20village','Direction\x20:\x20','eventPageOffset','villageSave','#0000ff','craft','background','Population\x20max\x20+\x205\x20(','ArrowRight','./img/mapFloor/','\x0aTarget\x20adjacents\x20blocks','movement\x20factor\x20x','damage','color','addMine','draw_building_tab','dir','Smelter','\x20leave\x20','GetPageSelector','big_tree_1','stone_spear','createArmorFromInput','\x20:\x20','light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling','you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village','center_on_selected_player','River\x20Hunter','\x0aVillage\x20max\x20population\x20=\x20','windowInfo','villageActionPointMax','0px','1179927odsJPN','#0320fb','smelter','stone_icon','Osef','Ila\x20Ellis','MenuUI','Nathan\x20Beltran','img\x20','fillStyle','damages','saveWorld','generateMap','action\x20point\x20:\x20','I\x20will\x20play\x20in\x20','projectil','Zelda\x20Stevens','damageBase','addArmorToVillageInventory','\x20left','posBlockx','letter_per_line','Mae\x20Gentry','repeat','draw_villagePlayerUi','pause','screenBx','zone_selecting_input','serif','toDataURL','Jianna\x20Wood','res','colorStroke','middle','shift','bow','UIturnExpanded','Amira\x20Escobar','tree_root','Start\x20Battle','MessageSystem','MSFullscreenChange','playerColor','getMoveCost','constructionSelected','get_direction_from_pos','\x20turn','addButton','upgradeWeapon','activeTabId','#0000ff88','life\x20','Dakari\x20Poole','life','Askip','armor','\x0a-recolt\x20resource\x20in\x20the\x20forest','spear','_icon','substring','canAttackHere','Kashton\x20McCarty','Build\x20new\x20batiments\x20here','populationMax','9400SWyZvd','list','Daisy\x20Robinson','Speed\x20:\x20','input','needUIRedraw','draw_UI_EventMessage','Jakobe\x20Hardin','Equiped\x20with\x20\x27','kill_player','version','Anahi\x20Strickland','selector','stringify','#00D238','keyup','createBatToBuildList','ammo','\x20players\x20to\x20the\x20battle','Player','add\x20player','projectilName','Jade\x20Butler','craft\x20weapons','Discord','succes\x20chance\x20','stone_pickaxe','#000000ff','the\x20place\x20for\x20craft\x20bow\x20and\x20arrow'];_0x1a0a=function(){return _0x48847e;};return _0x1a0a();}function isInRect(_0x1bdffd,_0x154df5,_0x19876c){if(_0x1bdffd===undefined||_0x154df5===undefined||_0x19876c['ax']===undefined||_0x19876c['ay']===undefined||_0x19876c['bx']===undefined||_0x19876c['by']===undefined)return![];if(_0x19876c['ax']>_0x19876c['bx']){var _0x31d3cc=_0x19876c['ax'];_0x19876c['ax']=_0x19876c['bx'],_0x19876c['bx']=_0x31d3cc;}if(_0x19876c['ay']>_0x19876c['by']){var _0x31d3cc=_0x19876c['ay'];_0x19876c['ay']=_0x19876c['by'],_0x19876c['by']=_0x31d3cc;}if(_0x1bdffd>_0x19876c['ax']&&_0x1bdffd<_0x19876c['bx']&&_0x154df5>_0x19876c['ay']&&_0x154df5<_0x19876c['by'])return!![];return![];}function testCB(_0x583ce1){var _0x3f2e63=_0x5e62;if(!_0x583ce1)console[_0x3f2e63(0x2bb)](_0x3f2e63(0x2c7));console[_0x3f2e63(0x2bb)](_0x3f2e63(0x3b3)+_0x583ce1['x']+'\x20'+_0x583ce1['y']),map_test[_0x3f2e63(0x43e)][_0x583ce1['x']][_0x583ce1['y']]=(map_test['mapBlock'][_0x583ce1['x']][_0x583ce1['y']]+0x1)%0x4,scale_changed=!![];}function getAngleFromTime(_0x2e7939,_0x3c1b3d,_0x27a60){var _0x7aff1f=_0x3c1b3d-_0x2e7939;return _0x2e7939+_0x7aff1f/0x2+_0x27a60*_0x7aff1f/0x2;}function distBlock(_0x25ec89,_0x3a4528,_0x365861,_0x3a5046){var _0x38a846=_0x5e62,_0x51a6ce=Math[_0x38a846(0x196)](_0x25ec89-_0x365861),_0x21090e=Math[_0x38a846(0x196)](_0x3a4528-_0x3a5046);if(_0x51a6ce>_0x21090e)return _0x51a6ce;return _0x21090e;}function dist(_0x4b1011,_0x7929e2,_0x12917b,_0x4b700c){var _0x141e2c=Math['sqrt']((_0x4b1011-_0x12917b)*(_0x4b1011-_0x12917b)+(_0x7929e2-_0x4b700c)*(_0x7929e2-_0x4b700c));return _0x141e2c;}var obj={'callback':_0x4750f4(0x4b7)};World=function(){var _0x260438=_0x4750f4;this['txt']=_0x260438(0x426),this[_0x260438(0x4b7)]=()=>{var _0x4d23b6=_0x260438;console[_0x4d23b6(0x2bb)](this[_0x4d23b6(0xf6)]);};};var world=new World();world[obj[_0x4750f4(0x291)]](),myImage=function(_0x420545,_0x393fdb){var _0xd835d3=_0x4750f4;console[_0xd835d3(0x2bb)](_0xd835d3(0x121)+_0x393fdb),this[_0xd835d3(0x2dd)]=new Image(),this[_0xd835d3(0x3c9)]=![],this[_0xd835d3(0x4b4)]=_0x420545,this[_0xd835d3(0x2dd)][_0xd835d3(0x4bb)]=_0xd835d3(0x13a),this[_0xd835d3(0x2dd)][_0xd835d3(0x298)]=_0x393fdb,this[_0xd835d3(0x2dd)][_0xd835d3(0x219)]=_0xd835d3(0x243)+_0x393fdb+'\x22',this[_0xd835d3(0x190)]=undefined,this[_0xd835d3(0x490)]=undefined,this['img'][_0xd835d3(0xd6)]()[_0xd835d3(0x428)](()=>{var _0x5ced06=_0xd835d3;console[_0x5ced06(0x2bb)](_0x5ced06(0x306)+_0x420545+_0x5ced06(0x209)),this[_0x5ced06(0x3c9)]=!![],this[_0x5ced06(0x361)](0xff,0xff,0xff);if(world[_0x5ced06(0x467)])world[_0x5ced06(0x467)][_0x5ced06(0x3c7)]=!![];if(world[_0x5ced06(0x1b7)])world[_0x5ced06(0x1b7)][_0x5ced06(0x3c7)]=!![];})[_0xd835d3(0x230)](_0x380db5=>{var _0x19b88d=_0xd835d3;console[_0x19b88d(0x2bb)](_0x19b88d(0x154)+this[_0x19b88d(0x4b4)]),console['log'](_0x380db5);}),this[_0xd835d3(0x495)]=()=>{var _0x145c85=_0xd835d3;if(!this[_0x145c85(0x3c9)])return undefined;const _0x378217=document[_0x145c85(0x464)]('canvas');_0x378217['width']=this[_0x145c85(0x2dd)][_0x145c85(0x3a3)],_0x378217[_0x145c85(0x21d)]=this[_0x145c85(0x2dd)]['height'];const _0x33c83e=_0x378217[_0x145c85(0x13f)]('2d');return _0x33c83e[_0x145c85(0x1f7)](this[_0x145c85(0x2dd)],0x0,0x0),_0x33c83e['getImageData'](0x0,0x0,this[_0x145c85(0x2dd)][_0x145c85(0x3a3)],this['img'][_0x145c85(0x21d)]);},this['createImgFromData']=_0x1aeb75=>{var _0x553b47=_0xd835d3;const _0x408733=document['createElement'](_0x553b47(0x213));_0x408733[_0x553b47(0x3a3)]=_0x1aeb75[_0x553b47(0x3a3)],_0x408733['height']=_0x1aeb75[_0x553b47(0x21d)];const _0x5bad24=_0x408733[_0x553b47(0x13f)]('2d');_0x5bad24[_0x553b47(0x3f0)](_0x1aeb75,0x0,0x0),this[_0x553b47(0x2dd)]=new Image(),this[_0x553b47(0x2dd)][_0x553b47(0x298)]=_0x408733[_0x553b47(0x31b)](),this[_0x553b47(0x2dd)][_0x553b47(0x219)]='failed\x20createImgData\x20image',this['img']['decode']()['then'](()=>{var _0x26df3e=_0x553b47;if(world[_0x26df3e(0x467)])world[_0x26df3e(0x467)]['needRedraw']=!![];if(world[_0x26df3e(0x1b7)])world[_0x26df3e(0x1b7)]['needRedraw']=!![];});},this['GetColorImage']=(_0x112c5f,_0x3116e7,_0x10b8cb,_0x31ac9d,_0x313930,_0x56d329)=>{var _0x4a243f=_0xd835d3,_0x455a63=this[_0x4a243f(0x495)]();if(!_0x455a63)return console[_0x4a243f(0x2bb)](_0x4a243f(0x3a7));for(var _0xe06da0=0x0;_0xe06da0<_0x455a63[_0x4a243f(0x21d)];_0xe06da0++){for(var _0x3fc222=0x0;_0x3fc222<_0x455a63[_0x4a243f(0x3a3)];_0x3fc222++){var _0x4a3da3=_0x455a63[_0x4a243f(0x12d)][_0xe06da0*(_0x455a63[_0x4a243f(0x3a3)]*0x4)+_0x3fc222*0x4],_0x467c59=_0x455a63[_0x4a243f(0x12d)][_0xe06da0*(_0x455a63['width']*0x4)+_0x3fc222*0x4+0x1],_0x1fe5d1=_0x455a63['data'][_0xe06da0*(_0x455a63['width']*0x4)+_0x3fc222*0x4+0x2],_0x56f558=_0x455a63[_0x4a243f(0x12d)][_0xe06da0*(_0x455a63[_0x4a243f(0x3a3)]*0x4)+_0x3fc222*0x4+0x3];_0x4a3da3==_0x112c5f&&_0x467c59==_0x3116e7&&_0x1fe5d1==_0x10b8cb&&(_0x455a63['data'][_0xe06da0*(_0x455a63[_0x4a243f(0x3a3)]*0x4)+_0x3fc222*0x4]=_0x31ac9d,_0x455a63[_0x4a243f(0x12d)][_0xe06da0*(_0x455a63[_0x4a243f(0x3a3)]*0x4)+_0x3fc222*0x4+0x1]=_0x313930,_0x455a63[_0x4a243f(0x12d)][_0xe06da0*(_0x455a63[_0x4a243f(0x3a3)]*0x4)+_0x3fc222*0x4+0x2]=_0x56d329);}}const _0x5c983b=document[_0x4a243f(0x464)](_0x4a243f(0x213));_0x5c983b['width']=_0x455a63[_0x4a243f(0x3a3)],_0x5c983b[_0x4a243f(0x21d)]=_0x455a63[_0x4a243f(0x21d)];const _0x444f5e=_0x5c983b[_0x4a243f(0x13f)]('2d');_0x444f5e[_0x4a243f(0x3f0)](_0x455a63,0x0,0x0);var _0x418bce=new Image();return _0x418bce['src']=_0x5c983b['toDataURL'](),_0x418bce[_0x4a243f(0x219)]=_0x4a243f(0x29a),_0x418bce;},this[_0xd835d3(0x361)]=(_0x58932a,_0x563ad0,_0x13e490)=>{var _0x3b6c65=_0xd835d3,_0x1991b9=this['createDatafromImage']();if(!_0x1991b9)return undefined;for(var _0x50f17f=0x0;_0x50f17f<_0x1991b9[_0x3b6c65(0x21d)];_0x50f17f++){for(var _0x40ccdc=0x0;_0x40ccdc<_0x1991b9[_0x3b6c65(0x3a3)];_0x40ccdc++){var _0x2442bf=_0x1991b9[_0x3b6c65(0x12d)][_0x50f17f*(_0x1991b9['width']*0x4)+_0x40ccdc*0x4],_0x2bcaa3=_0x1991b9[_0x3b6c65(0x12d)][_0x50f17f*(_0x1991b9[_0x3b6c65(0x3a3)]*0x4)+_0x40ccdc*0x4+0x1],_0x58d704=_0x1991b9[_0x3b6c65(0x12d)][_0x50f17f*(_0x1991b9[_0x3b6c65(0x3a3)]*0x4)+_0x40ccdc*0x4+0x2],_0x27739a=_0x1991b9[_0x3b6c65(0x12d)][_0x50f17f*(_0x1991b9[_0x3b6c65(0x3a3)]*0x4)+_0x40ccdc*0x4+0x3];_0x2442bf==_0x58932a&&_0x2bcaa3==_0x563ad0&&_0x58d704==_0x13e490&&(_0x1991b9['data'][_0x50f17f*(_0x1991b9['width']*0x4)+_0x40ccdc*0x4+0x3]=0x0);}}this[_0x3b6c65(0x42b)](_0x1991b9);};},createImgFromData=_0x1b2c26=>{var _0x3f92c1=_0x4750f4;const _0x1be2a6=document['createElement'](_0x3f92c1(0x213));_0x1be2a6[_0x3f92c1(0x3a3)]=_0x1b2c26[_0x3f92c1(0x3a3)],_0x1be2a6[_0x3f92c1(0x21d)]=_0x1b2c26[_0x3f92c1(0x21d)];const _0x3a01f7=_0x1be2a6[_0x3f92c1(0x13f)]('2d');_0x3a01f7['putImageData'](_0x1b2c26,0x0,0x0);var _0x542967=new Image();return _0x542967[_0x3f92c1(0x298)]=_0x1be2a6[_0x3f92c1(0x31b)](),_0x542967['alt']=_0x3f92c1(0x498),_0x542967;},MyUI=function(_0x57a0d2,_0x2d67a4,_0xd7a66e,_0x22794c,_0x36b230,_0x25a9db,_0x442e50,_0x43e984){var _0x155e5b=_0x4750f4;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT='\x27Footlight\x20MT\x20Light\x27',this['x']=_0x2d67a4,this['y']=_0xd7a66e,this[_0x155e5b(0x213)]=_0x57a0d2,this[_0x155e5b(0x3ba)]=_0x43e984?_0x43e984:0x5,this['lenx']=_0x22794c+0x2*this['marge'],this[_0x155e5b(0x37c)]=this['marge'],this[_0x155e5b(0x192)]=[],this[_0x155e5b(0x396)]=_0x36b230,this[_0x155e5b(0x2e4)]=_0x25a9db?_0x25a9db:undefined,this[_0x155e5b(0x184)]=_0x442e50?_0x442e50:undefined,this[_0x155e5b(0xe5)]=[],this[_0x155e5b(0x35c)]=![],this[_0x155e5b(0x3ee)]=(_0x2eb232,_0x316032,_0x1b8c85,_0x13b65f,_0x1ec91f)=>{var _0x434f37=_0x155e5b;this[_0x434f37(0x213)][_0x434f37(0x147)][_0x434f37(0x2a2)]=''+_0x316032+'px'+_0x1ec91f;var _0x278d55=[];while(_0x2eb232[_0x434f37(0x1c7)]>0x0){var _0x1a2372=0x0;while(_0x2eb232[_0x1a2372]=='\x0a')_0x1a2372++;while(_0x2eb232[_0x1a2372]!='\x0a'&&_0x1a2372<_0x2eb232[_0x434f37(0x1c7)]&&_0x1a2372<_0x1b8c85)_0x1a2372++;if(_0x1a2372==_0x1b8c85){while(_0x2eb232[_0x1a2372]!='\x20'&&_0x1a2372>0x0)_0x1a2372--;}_0x1a2372=_0x1a2372>0x0?_0x1a2372:_0x1b8c85;var _0x1b5658=''+_0x2eb232[_0x434f37(0x339)](0x0,_0x1a2372);while(_0x2eb232[_0x1a2372+0x1]=='\x0a')_0x1a2372++;_0x2eb232=_0x2eb232[_0x434f37(0x339)](_0x1a2372),_0x278d55[_0x434f37(0x234)](_0x1b5658);var _0x546713=this[_0x434f37(0x213)][_0x434f37(0x147)]['measureText'](_0x1b5658);if(this['lenx']<_0x546713[_0x434f37(0x3a3)]+0x2*this[_0x434f37(0x3ba)])this[_0x434f37(0x37b)]=_0x546713['width']+0x2*this[_0x434f37(0x3ba)];this[_0x434f37(0x37c)]+=_0x316032+this[_0x434f37(0x3ba)];}this[_0x434f37(0x192)]['push']({'type':_0x434f37(0x152),'txts':_0x278d55,'letter_size':Math[_0x434f37(0x220)](_0x316032),'txt_color':_0x13b65f,'text_font':_0x1ec91f});},this[_0x155e5b(0x3be)]=(_0x245d59,_0x303f02,_0x3c7d42,_0x3243a9,_0xc02d62,_0x38a935,_0x31e4ee,_0x3fdfda,_0x24cfd3)=>{var _0x11dba6=_0x155e5b;_0x24cfd3=_0x24cfd3?_0x24cfd3:_0x11dba6(0x2b9),this['canvas'][_0x11dba6(0x147)]['font']=''+_0xc02d62+_0x11dba6(0x3fd)+_0x24cfd3;var _0x74c623=this['canvas'][_0x11dba6(0x147)][_0x11dba6(0x180)](_0x245d59);if(_0x74c623>_0x3c7d42+0x2*this[_0x11dba6(0x3ba)])_0x3c7d42=_0x74c623+0x2*this[_0x11dba6(0x3ba)];if(this[_0x11dba6(0x37b)]<_0x3c7d42+0x2*this[_0x11dba6(0x3ba)])this[_0x11dba6(0x37b)]=_0x3c7d42+0x2*this[_0x11dba6(0x3ba)];if(_0x3243a9<_0xc02d62+0x2*this[_0x11dba6(0x3ba)])_0x3243a9=_0xc02d62+0x2*this[_0x11dba6(0x3ba)];this['elmList'][_0x11dba6(0x234)]({'type':'gauge','txt':_0x245d59,'fullness':_0x303f02,'lenx':_0x3c7d42,'leny':_0x3243a9,'letter_size':_0xc02d62,'colorFill':_0x38a935,'colorStroke':_0x31e4ee,'colorText':_0x3fdfda,'text_font':_0x24cfd3}),this['leny']+=_0x3243a9+this[_0x11dba6(0x3ba)];},this[_0x155e5b(0x32d)]=(_0x4c4f7c,_0x4d7270,_0x23649b,_0x8eb6bc,_0x43b434,_0x322717,_0x4656f6,_0xeb0eba,_0x255de2,_0x17a923,_0x258665)=>{var _0x4e1231=_0x155e5b;this['canvas'][_0x4e1231(0x147)]['font']=''+_0x4d7270+'px'+_0xeb0eba,_0x4c4f7c=_0x255de2?_0x255de2+_0x4e1231(0x2b6)+_0x4c4f7c:_0x4c4f7c;var _0x50091d=this[_0x4e1231(0x213)]['ctx'][_0x4e1231(0x180)](_0x4c4f7c);if(_0x50091d[_0x4e1231(0x3a3)]+0x4*this['marge']>this[_0x4e1231(0x37b)])this[_0x4e1231(0x37b)]=_0x50091d[_0x4e1231(0x3a3)]+0x4*this[_0x4e1231(0x3ba)];this['elmList']['push']({'type':'button','txt_size':_0x50091d,'letter_size':_0x4d7270,'text_color':_0x23649b,'fillColor':_0x8eb6bc,'strokeColor':_0x43b434,'callback':_0x322717,'callback_data':_0x4656f6,'text_font':_0xeb0eba,'key_event':_0x255de2,'txt':_0x4c4f7c,'windowInfo':_0x17a923,'mouseLight':_0x258665}),this['leny']+=Math['floor'](0x3*this[_0x4e1231(0x3ba)]+_0x4d7270);},this[_0x155e5b(0x42d)]=_0x30e6b1=>{var _0x3d4a64=_0x155e5b,_0x421e14={'type':_0x3d4a64(0x44b),'list':[]},_0x252746=0x0,_0x3ed9ab=this['marge'];for(var _0x197655 in _0x30e6b1){var _0x1a3e7e=_0x30e6b1[_0x197655],_0x53b427=undefined;switch(_0x1a3e7e['type']){case undefined:continue;case _0x3d4a64(0xf6):if(!_0x1a3e7e['txt'])continue;var _0x4918ba=_0x1a3e7e[_0x3d4a64(0xf6)],_0x1791a7=[],_0x2a5b4e=0x0,_0x3fd7c8=0x0,_0x33e2b4=_0x1a3e7e[_0x3d4a64(0x313)]?_0x1a3e7e['letter_per_line']:0x270f;this[_0x3d4a64(0x213)]['ctx']['font']=''+_0x1a3e7e['letter_size']+'px'+_0x1a3e7e[_0x3d4a64(0x4a0)];while(_0x4918ba[_0x3d4a64(0x1c7)]>0x0){var _0x218fc6=0x0;while(_0x4918ba[_0x218fc6]=='\x0a')_0x218fc6++;while(_0x4918ba[_0x218fc6]!='\x0a'&&_0x218fc6<_0x4918ba[_0x3d4a64(0x1c7)]&&_0x218fc6<_0x33e2b4)_0x218fc6++;if(_0x218fc6==_0x33e2b4){while(_0x4918ba[_0x218fc6]!='\x20'&&_0x218fc6>0x0)_0x218fc6--;}_0x218fc6=_0x218fc6>0x0?_0x218fc6:_0x33e2b4;var _0x41051e=''+_0x4918ba['substring'](0x0,_0x218fc6);while(_0x4918ba[_0x218fc6+0x1]=='\x0a')_0x218fc6++;_0x4918ba=_0x4918ba[_0x3d4a64(0x339)](_0x218fc6),_0x1791a7[_0x3d4a64(0x234)](_0x41051e);var _0x2b8190=this[_0x3d4a64(0x213)][_0x3d4a64(0x147)][_0x3d4a64(0x180)](_0x41051e);if(_0x3fd7c8<_0x2b8190[_0x3d4a64(0x3a3)]+0x2*this[_0x3d4a64(0x3ba)])_0x3fd7c8=_0x2b8190['width']+0x2*this[_0x3d4a64(0x3ba)];_0x2a5b4e+=_0x1a3e7e[_0x3d4a64(0x449)]+this[_0x3d4a64(0x3ba)];}_0x252746=_0x2a5b4e>_0x252746?_0x2a5b4e:_0x252746,_0x53b427={'type':_0x3d4a64(0xf6),'txts':_0x1791a7,'txt_color':_0x1a3e7e[_0x3d4a64(0x261)]?_0x1a3e7e['txt_color']:_0x3d4a64(0x3d4),'max_letters':_0x1a3e7e[_0x3d4a64(0xc3)]?_0x1a3e7e[_0x3d4a64(0xc3)]:0x270f,'letter_size':_0x1a3e7e['letter_size']?_0x1a3e7e['letter_size']:0x14,'txt_font':_0x1a3e7e['txt_font']?_0x1a3e7e[_0x3d4a64(0x4a0)]:_0x3d4a64(0x2b9),'txt_size':_0x3fd7c8},_0x3ed9ab+=_0x3fd7c8;break;case _0x3d4a64(0x2dd):if(!_0x1a3e7e[_0x3d4a64(0x2dd)])continue;_0x53b427={'type':_0x3d4a64(0x2dd),'img':_0x1a3e7e[_0x3d4a64(0x2dd)],'len_x':_0x1a3e7e[_0x3d4a64(0x3f4)]?_0x1a3e7e[_0x3d4a64(0x3f4)]:0x32,'len_y':_0x1a3e7e['len_y']?_0x1a3e7e[_0x3d4a64(0x4a5)]:0x32},_0x252746=_0x53b427['len_y']>_0x252746?_0x53b427[_0x3d4a64(0x4a5)]:_0x252746,_0x3ed9ab+=_0x53b427['len_x']+this[_0x3d4a64(0x3ba)];break;case _0x3d4a64(0x162):if(!_0x1a3e7e[_0x3d4a64(0x291)]||!_0x1a3e7e[_0x3d4a64(0xf6)])continue;var _0x50b91b=_0x1a3e7e[_0x3d4a64(0x449)]?_0x1a3e7e[_0x3d4a64(0x449)]:0x14,_0x1a2a58=_0x1a3e7e[_0x3d4a64(0x4a0)]?_0x1a3e7e['txt_font']:_0x3d4a64(0x2b9);this[_0x3d4a64(0x213)][_0x3d4a64(0x147)][_0x3d4a64(0x2a2)]=''+_0x50b91b+'px'+_0x1a2a58;var _0x4918ba=_0x1a3e7e[_0x3d4a64(0x39b)]?_0x1a3e7e['key_event']+_0x3d4a64(0x2b6)+_0x1a3e7e[_0x3d4a64(0xf6)]:_0x1a3e7e[_0x3d4a64(0xf6)],_0x2b8190=this[_0x3d4a64(0x213)][_0x3d4a64(0x147)][_0x3d4a64(0x180)](_0x4918ba);_0x53b427={'type':_0x3d4a64(0x162),'txt_size':_0x2b8190[_0x3d4a64(0x3a3)],'letter_size':_0x50b91b,'txt_color':_0x1a3e7e['txt_color']?_0x1a3e7e[_0x3d4a64(0x261)]:_0x3d4a64(0x3d4),'fillColor':_0x1a3e7e[_0x3d4a64(0x1ca)]?_0x1a3e7e[_0x3d4a64(0x1ca)]:_0x3d4a64(0x3e8),'strokeColor':_0x1a3e7e[_0x3d4a64(0x14e)]?_0x1a3e7e[_0x3d4a64(0x14e)]:_0x3d4a64(0x3d4),'callback':_0x1a3e7e[_0x3d4a64(0x291)],'callback_data':_0x1a3e7e[_0x3d4a64(0x476)],'txt_font':_0x1a2a58,'key_event':_0x1a3e7e[_0x3d4a64(0x39b)],'txt':_0x4918ba,'windowInfo':_0x1a3e7e[_0x3d4a64(0x2fb)],'mouseLight':_0x1a3e7e[_0x3d4a64(0x23d)]},_0x252746=_0x53b427['letter_size']+0x2*this[_0x3d4a64(0x3ba)]>_0x252746?_0x53b427[_0x3d4a64(0x449)]+0x2*this[_0x3d4a64(0x3ba)]:_0x252746,_0x3ed9ab+=_0x2b8190[_0x3d4a64(0x3a3)]+this[_0x3d4a64(0x3ba)]*0x3;break;}_0x421e14[_0x3d4a64(0x33f)][_0x3d4a64(0x234)](_0x53b427);}if(this[_0x3d4a64(0x37b)]<_0x3ed9ab)this[_0x3d4a64(0x37b)]=_0x3ed9ab;_0x421e14['len_y']=_0x252746,this['elmList']['push'](_0x421e14),this[_0x3d4a64(0x37c)]+=Math[_0x3d4a64(0x220)](this[_0x3d4a64(0x3ba)]+_0x252746);},this[_0x155e5b(0x43a)]=(_0x45dafa,_0x2c21c5,_0x44632a)=>{var _0x275ace=_0x155e5b;this[_0x275ace(0x192)]['push']({'type':_0x275ace(0x2dd),'img':_0x45dafa,'lenx':_0x2c21c5,'leny':_0x44632a});if(this[_0x275ace(0x37b)]<_0x2c21c5+0x2*this[_0x275ace(0x3ba)])this[_0x275ace(0x37b)]=_0x2c21c5+0x2*this[_0x275ace(0x3ba)];this[_0x275ace(0x37c)]+=Math[_0x275ace(0x220)](this[_0x275ace(0x3ba)]+_0x2c21c5);},this[_0x155e5b(0x487)]=()=>{var _0x474f11=_0x155e5b;this['background']&&(this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x307)]=this[_0x474f11(0x2e4)],this[_0x474f11(0x213)][_0x474f11(0x287)](this['x'],this['y'],this['x']+this[_0x474f11(0x37b)],this['y']+this[_0x474f11(0x37c)]));this[_0x474f11(0x184)]&&(this['canvas'][_0x474f11(0x147)][_0x474f11(0x24b)]=this[_0x474f11(0x184)],this['canvas']['drawRect'](this['x'],this['y'],this['x']+this[_0x474f11(0x37b)],this['y']+this[_0x474f11(0x37c)]));var _0x15d65e=this['y']+this[_0x474f11(0x3ba)];for(var _0x30d561 in this[_0x474f11(0x192)]){var _0x17cbf8=this[_0x474f11(0x192)][_0x30d561];switch(_0x17cbf8[_0x474f11(0x245)]){case'text':for(var _0x172fb0 in _0x17cbf8['txts']){this[_0x474f11(0x213)][_0x474f11(0xef)](_0x17cbf8[_0x474f11(0x3ca)][_0x172fb0],this['x']+this['marge'],_0x15d65e,this[_0x474f11(0x37b)],_0x17cbf8[_0x474f11(0x449)],_0x17cbf8[_0x474f11(0x261)],_0x17cbf8[_0x474f11(0xe0)]),_0x15d65e+=_0x17cbf8[_0x474f11(0x449)]+this[_0x474f11(0x3ba)];}break;case'button':this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x2a2)]=''+_0x17cbf8['letter_size']+'px'+_0x17cbf8[_0x474f11(0xe0)];var _0x5d8b40=Math['floor'](this['x']+_0x17cbf8[_0x474f11(0x130)]['width']/0x2+0x2*this[_0x474f11(0x3ba)]),_0x1ece29=Math[_0x474f11(0x220)](_0x15d65e+_0x17cbf8[_0x474f11(0x449)]/0x2+0x1*this[_0x474f11(0x3ba)]),_0x55d7c6={'ax':Math[_0x474f11(0x220)](_0x5d8b40-_0x17cbf8[_0x474f11(0x130)]['width']/0x2-this[_0x474f11(0x3ba)]),'ay':Math[_0x474f11(0x220)](_0x1ece29-_0x17cbf8['letter_size']/0x2-this[_0x474f11(0x3ba)]),'bx':Math[_0x474f11(0x220)](_0x5d8b40+_0x17cbf8[_0x474f11(0x130)]['width']/0x2+this[_0x474f11(0x3ba)]),'by':Math[_0x474f11(0x220)](_0x1ece29+_0x17cbf8[_0x474f11(0x449)]/0x2+this[_0x474f11(0x3ba)])};this[_0x474f11(0x213)][_0x474f11(0x147)]['fillStyle']=_0x17cbf8[_0x474f11(0x1ca)];if(_0x17cbf8[_0x474f11(0x23d)]&&world['Controler'][_0x474f11(0x480)]&&world['Controler'][_0x474f11(0x480)]['x']!==undefined&&isInRect(world[_0x474f11(0x19a)][_0x474f11(0x480)]['x'],world['Controler'][_0x474f11(0x480)]['y'],_0x55d7c6))this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x307)]=_0x17cbf8['fillColor']['substring'](0x0,0x7)+_0x17cbf8[_0x474f11(0x23d)];this[_0x474f11(0x213)][_0x474f11(0x287)](_0x55d7c6['ax'],_0x55d7c6['ay'],_0x55d7c6['bx'],_0x55d7c6['by']),this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x24b)]=_0x17cbf8[_0x474f11(0x14e)],this[_0x474f11(0x213)][_0x474f11(0x417)](_0x55d7c6['ax'],_0x55d7c6['ay'],_0x55d7c6['bx'],_0x55d7c6['by']),this['canvas']['drawTextCenter'](_0x17cbf8[_0x474f11(0xf6)],_0x5d8b40,_0x1ece29,0x270f,_0x17cbf8[_0x474f11(0x449)],_0x17cbf8[_0x474f11(0x249)],_0x17cbf8['text_font']),this[_0x474f11(0xe5)]['push']({'rect':_0x55d7c6,'callback':_0x17cbf8[_0x474f11(0x291)],'callback_data':_0x17cbf8['callback_data'],'key_event':_0x17cbf8[_0x474f11(0x39b)],'windowInfo':_0x17cbf8[_0x474f11(0x2fb)]}),_0x15d65e+=_0x17cbf8[_0x474f11(0x449)]+this[_0x474f11(0x3ba)]*0x3;break;case _0x474f11(0x2dd):this[_0x474f11(0x213)][_0x474f11(0xc5)](_0x17cbf8[_0x474f11(0x2dd)],this['x']+this[_0x474f11(0x3ba)],_0x15d65e+this[_0x474f11(0x3ba)],_0x17cbf8['lenx'],_0x17cbf8[_0x474f11(0x37c)]),_0x15d65e+=_0x17cbf8['leny']+this['marge'];break;case _0x474f11(0x17c):this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x307)]=_0x17cbf8[_0x474f11(0xdf)],this[_0x474f11(0x213)][_0x474f11(0x287)](this['x']+this[_0x474f11(0x3ba)],_0x15d65e+this[_0x474f11(0x3ba)],this['x']+_0x17cbf8[_0x474f11(0x37b)],_0x15d65e+_0x17cbf8[_0x474f11(0x37c)]),this['canvas'][_0x474f11(0x147)][_0x474f11(0x307)]=_0x17cbf8[_0x474f11(0x31e)];if(_0x17cbf8[_0x474f11(0x45b)]>0x0)this[_0x474f11(0x213)][_0x474f11(0x287)](this['x']+this[_0x474f11(0x3ba)]*0x2,_0x15d65e+this[_0x474f11(0x3ba)]*0x2,Math['floor'](this['x']+_0x17cbf8['lenx']*_0x17cbf8[_0x474f11(0x45b)]-this['marge']),_0x15d65e+_0x17cbf8[_0x474f11(0x37c)]-this['marge']);this[_0x474f11(0x213)][_0x474f11(0x1f3)](_0x17cbf8['txt'],this['x']+this[_0x474f11(0x3ba)]+_0x17cbf8[_0x474f11(0x37b)]/0x2,_0x15d65e+this[_0x474f11(0x3ba)]+_0x17cbf8[_0x474f11(0x37c)]/0x2,_0x17cbf8[_0x474f11(0x37b)],_0x17cbf8[_0x474f11(0x449)],_0x17cbf8['colorText'],_0x17cbf8['text_font']),_0x15d65e+=_0x17cbf8['leny'];break;case _0x474f11(0x44b):var _0xb015b3=this[_0x474f11(0x3ba)];for(var _0x2dff2e in _0x17cbf8[_0x474f11(0x33f)]){var _0x564a10=_0x17cbf8[_0x474f11(0x33f)][_0x2dff2e];switch(_0x564a10[_0x474f11(0x245)]){case _0x474f11(0xf6):var _0x5d358e=_0x15d65e;for(var _0x30d561 in _0x564a10[_0x474f11(0x3ca)]){this[_0x474f11(0x213)][_0x474f11(0xef)](_0x564a10['txts'][_0x30d561],this['x']+_0xb015b3,_0x5d358e,_0x564a10[_0x474f11(0x130)],_0x564a10['letter_size'],_0x564a10[_0x474f11(0x261)],_0x564a10[_0x474f11(0x4a0)]),_0x5d358e+=_0x564a10['letter_size']+this[_0x474f11(0x3ba)];}_0xb015b3+=this[_0x474f11(0x3ba)]+_0x564a10[_0x474f11(0x130)];break;case _0x474f11(0x162):this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x2a2)]=''+_0x564a10[_0x474f11(0x449)]+'px'+_0x564a10[_0x474f11(0x4a0)];var _0x5d8b40=Math['floor'](this['x']+_0xb015b3+_0x564a10[_0x474f11(0x130)]/0x2+this[_0x474f11(0x3ba)]/0x2),_0x1ece29=Math[_0x474f11(0x220)](_0x15d65e+_0x564a10['letter_size']/0x2+this[_0x474f11(0x3ba)]/0x2),_0x55d7c6={'ax':Math['floor'](_0x5d8b40-_0x564a10[_0x474f11(0x130)]/0x2-this[_0x474f11(0x3ba)]),'ay':Math[_0x474f11(0x220)](_0x1ece29-_0x564a10[_0x474f11(0x449)]/0x2-this[_0x474f11(0x3ba)]),'bx':Math[_0x474f11(0x220)](_0x5d8b40+_0x564a10[_0x474f11(0x130)]/0x2+this['marge']),'by':Math['floor'](_0x1ece29+_0x564a10[_0x474f11(0x449)]/0x2+this[_0x474f11(0x3ba)])};this[_0x474f11(0x213)][_0x474f11(0x147)]['fillStyle']=_0x564a10[_0x474f11(0x1ca)];if(_0x564a10[_0x474f11(0x23d)]&&world[_0x474f11(0x19a)][_0x474f11(0x480)]&&world['Controler'][_0x474f11(0x480)]['x']!==undefined&&isInRect(world['Controler'][_0x474f11(0x480)]['x'],world[_0x474f11(0x19a)][_0x474f11(0x480)]['y'],_0x55d7c6))this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x307)]=_0x564a10[_0x474f11(0x1ca)][_0x474f11(0x339)](0x0,0x7)+_0x564a10['mouseLight'];this[_0x474f11(0x213)]['drawFillRect'](_0x55d7c6['ax'],_0x55d7c6['ay'],_0x55d7c6['bx'],_0x55d7c6['by']),this[_0x474f11(0x213)][_0x474f11(0x147)][_0x474f11(0x24b)]=_0x564a10[_0x474f11(0x14e)],this[_0x474f11(0x213)][_0x474f11(0x417)](_0x55d7c6['ax'],_0x55d7c6['ay'],_0x55d7c6['bx'],_0x55d7c6['by']),this[_0x474f11(0x213)][_0x474f11(0x1f3)](_0x564a10[_0x474f11(0xf6)],_0x5d8b40,_0x1ece29,0x270f,_0x564a10['letter_size'],_0x564a10[_0x474f11(0x261)],_0x564a10[_0x474f11(0x4a0)]),this[_0x474f11(0xe5)][_0x474f11(0x234)]({'rect':_0x55d7c6,'callback':_0x564a10[_0x474f11(0x291)],'callback_data':_0x564a10[_0x474f11(0x476)],'key_event':_0x564a10[_0x474f11(0x39b)],'windowInfo':_0x564a10[_0x474f11(0x2fb)],'mouseLight':!![]}),_0xb015b3+=this[_0x474f11(0x3ba)]*0x3+_0x564a10[_0x474f11(0x130)];break;case'img':this[_0x474f11(0x213)][_0x474f11(0xc5)](_0x564a10[_0x474f11(0x2dd)],this['x']+_0xb015b3,_0x15d65e,_0x564a10[_0x474f11(0x3f4)],_0x564a10[_0x474f11(0x4a5)]),_0xb015b3+=_0x564a10[_0x474f11(0x4a5)]+this[_0x474f11(0x3ba)];break;}}_0x15d65e+=_0x17cbf8[_0x474f11(0x4a5)]+this[_0x474f11(0x3ba)];break;}}this['CheckInfoWindow']();},this['click_buton_check']=(_0x5142e9,_0x1041b5)=>{var _0x574cdd=_0x155e5b;for(var _0x166293 in this['buttonList']){var _0x1c5375=this['buttonList'][_0x166293];if(isInRect(_0x5142e9,_0x1041b5,_0x1c5375[_0x574cdd(0x18e)]))return _0x1c5375[_0x574cdd(0x291)](_0x1c5375[_0x574cdd(0x476)]),!![];}return![];},this['mouse_move_check']=(_0x5f1b03,_0x5064a9)=>{var _0x44b3cd=_0x155e5b;for(var _0x1faf3a in this[_0x44b3cd(0xe5)]){var _0xad61ae=this[_0x44b3cd(0xe5)][_0x1faf3a];if(_0xad61ae[_0x44b3cd(0x23d)]&&isInRect(_0x5f1b03,_0x5064a9,_0xad61ae[_0x44b3cd(0x18e)]))return this['needRedraw']=!![],!![];}return![];},this[_0x155e5b(0x14c)]=_0x19f747=>{var _0x39ca28=_0x155e5b;for(var _0x491530 in this['buttonList']){var _0x2efecd=this[_0x39ca28(0xe5)][_0x491530];if(_0x2efecd['key_event']&&_0x2efecd[_0x39ca28(0x39b)]==_0x19f747)return _0x2efecd[_0x39ca28(0x291)](_0x2efecd[_0x39ca28(0x476)]),!![];}return![];},this['CheckInfoWindow']=_0x3662b4=>{var _0x2c30b8=_0x155e5b;if(!world['Controler'])return![];var _0x285ff2=world[_0x2c30b8(0x19a)]['mousePos'];if(!_0x285ff2)return;if(new Date()[_0x2c30b8(0x3f8)]()-_0x285ff2[_0x2c30b8(0x1d3)]<MYUI_WINDOWINFO_MOUSETIME)return this[_0x2c30b8(0x35c)]&&(this[_0x2c30b8(0x35c)]=![],this[_0x2c30b8(0x3c7)]=!![]),![];if(!this[_0x2c30b8(0x35c)])this[_0x2c30b8(0x35c)]={'x':_0x285ff2['x'],'y':_0x285ff2['y']};else{if(!_0x3662b4&&_0x285ff2['x']==this[_0x2c30b8(0x35c)]['x']&&_0x285ff2['y']==this[_0x2c30b8(0x35c)]['y'])return![];}for(var _0x241e13 in this[_0x2c30b8(0xe5)]){var _0x110849=this[_0x2c30b8(0xe5)][_0x241e13];if(_0x110849[_0x2c30b8(0x2fb)]&&isInRect(_0x285ff2['x'],_0x285ff2['y'],_0x110849[_0x2c30b8(0x18e)])){var _0x105b32=new MyUI(this[_0x2c30b8(0x213)],_0x285ff2['x'],_0x285ff2['y'],0x32,0x1,this[_0x2c30b8(0x2e4)],this['stroke'],0x1);_0x105b32[_0x2c30b8(0x3ee)](_0x2c30b8(0x47e),MYUI_LETTER_SIZE,0x270f,_0x2c30b8(0x3d4),MYUI_FONT);for(var _0x175fad in _0x110849[_0x2c30b8(0x2fb)]){var _0x461ac5=_0x110849['windowInfo'][_0x175fad];if(_0x461ac5[_0x2c30b8(0x291)])_0x105b32[_0x2c30b8(0x3ee)](_0x461ac5[_0x2c30b8(0x291)](_0x461ac5[_0x2c30b8(0x342)]),MYUI_LETTER_SIZE,0x270f,_0x2c30b8(0x3d4),MYUI_FONT);}return _0x105b32[_0x2c30b8(0x487)](),!![];}}return![];};},UIManager=function(){var _0x4e9b88=_0x4750f4;this[_0x4e9b88(0x452)]=[],this[_0x4e9b88(0x222)]=(_0x555f7f,_0x5491aa,_0x3f8add,_0x286de7,_0x2173b7,_0x1bd61d,_0x19e89b,_0x589f9c)=>{var _0x525b11=_0x4e9b88,_0x31e465=new MyUI(_0x555f7f,_0x5491aa,_0x3f8add,_0x286de7,_0x2173b7,_0x1bd61d,_0x19e89b,_0x589f9c);return this[_0x525b11(0x452)][_0x525b11(0x234)](_0x31e465),_0x31e465;},this[_0x4e9b88(0x12c)]=_0x217b4e=>{var _0x1a08ad=_0x4e9b88;for(var _0x4292fe in this[_0x1a08ad(0x452)]){var _0x5390ce=this[_0x1a08ad(0x452)][_0x4292fe],_0x363a1a=_0x5390ce[_0x1a08ad(0x14c)](_0x217b4e);if(_0x363a1a)return!![];}return![];},this[_0x4e9b88(0x12a)]=(_0x1d4b28,_0x1cfd55)=>{var _0x5ba876=_0x4e9b88;for(var _0x114b1c in this[_0x5ba876(0x452)]){var _0x5ba4a6=this['UI_list'][_0x114b1c],_0x285218=_0x5ba4a6[_0x5ba876(0x279)](_0x1d4b28,_0x1cfd55);if(_0x285218)return!![];}return![];};},MyCanvas=function(_0x261e3e,_0x45f68f,_0x360ad4){var _0x33ff0e=_0x4750f4;this[_0x33ff0e(0x3a3)]=window[_0x33ff0e(0x42c)],this[_0x33ff0e(0x21d)]=window[_0x33ff0e(0x1a4)],_0x360ad4&&(_0x360ad4['x']&&_0x360ad4['y']&&(this[_0x33ff0e(0x3a3)]=_0x360ad4['x'],this[_0x33ff0e(0x21d)]=_0x360ad4['y'])),this[_0x33ff0e(0x213)]=document[_0x33ff0e(0x464)]('canvas'),this[_0x33ff0e(0x213)][_0x33ff0e(0x3a3)]=this[_0x33ff0e(0x3a3)],this[_0x33ff0e(0x213)][_0x33ff0e(0x21d)]=this[_0x33ff0e(0x21d)],this['id']=_0x261e3e,this['canvas']['id']=_0x261e3e,this['canvas']['style'][_0x33ff0e(0xcc)]=_0x45f68f,this[_0x33ff0e(0x213)][_0x33ff0e(0x3a5)][_0x33ff0e(0x383)]='absolute',this[_0x33ff0e(0x213)][_0x33ff0e(0x3a5)][_0x33ff0e(0xc2)]=_0x33ff0e(0x2fd),this[_0x33ff0e(0x213)][_0x33ff0e(0x3a5)][_0x33ff0e(0x1ef)]=_0x33ff0e(0x2fd),this['ctx']=this[_0x33ff0e(0x213)][_0x33ff0e(0x13f)]('2d'),this[_0x33ff0e(0x412)]=![],document[_0x33ff0e(0x19e)]['appendChild'](this[_0x33ff0e(0x213)]),this['GetCanvasPos']=()=>{var _0x2cb983=_0x33ff0e,_0x15d470=this[_0x2cb983(0x213)][_0x2cb983(0x269)]();if(_0x15d470)this[_0x2cb983(0x422)]=Math[_0x2cb983(0x220)](_0x15d470['x']),this[_0x2cb983(0x1e0)]=Math[_0x2cb983(0x220)](_0x15d470['y']),this[_0x2cb983(0x318)]=Math[_0x2cb983(0x220)](_0x15d470[_0x2cb983(0x255)]-_0x15d470['x']),this[_0x2cb983(0x3c3)]=Math[_0x2cb983(0x220)](_0x15d470[_0x2cb983(0x260)]-_0x15d470['y']);else console[_0x2cb983(0x2bb)](_0x2cb983(0xec));},this['GetCanvasPos'](),this['getPixelPosition']=(_0x4bda2a,_0xa793c5)=>{var _0x319659=_0x33ff0e;this['GetCanvasPos']();if(_0x4bda2a<this[_0x319659(0x422)]||_0xa793c5<this[_0x319659(0x1e0)]||_0x4bda2a>this[_0x319659(0x318)]||_0xa793c5>this['screenBy'])return undefined;var _0x309f8c={'x':Math['floor'](_0x4bda2a-this[_0x319659(0x422)]),'y':Math[_0x319659(0x220)](_0xa793c5-this[_0x319659(0x1e0)])};return _0x309f8c;},this[_0x33ff0e(0x15e)]=()=>{var _0x4ab1ea=_0x33ff0e;this[_0x4ab1ea(0x147)][_0x4ab1ea(0x259)](0x0,0x0,this[_0x4ab1ea(0x213)]['width'],this[_0x4ab1ea(0x213)][_0x4ab1ea(0x21d)]);},this['drawFillRect']=(_0x1f8849,_0x2f2e06,_0x2155cd,_0x208e5b)=>{var _0x478d1e=_0x33ff0e;this[_0x478d1e(0x147)][_0x478d1e(0x407)](_0x1f8849,_0x2f2e06,_0x2155cd-_0x1f8849,_0x208e5b-_0x2f2e06);},this[_0x33ff0e(0x417)]=(_0x1be05f,_0x24850c,_0x143c58,_0x149415)=>{var _0x9a73be=_0x33ff0e;this[_0x9a73be(0x147)][_0x9a73be(0x22f)](_0x1be05f,_0x24850c,_0x143c58-_0x1be05f,_0x149415-_0x24850c);},this[_0x33ff0e(0x198)]=(_0x266c5f,_0x57a300,_0x376c57,_0x1f2964)=>{var _0xe0d64d=_0x33ff0e;this['ctx'][_0xe0d64d(0xcb)](),this['ctx'][_0xe0d64d(0x12e)](_0x266c5f,_0x57a300),this[_0xe0d64d(0x147)][_0xe0d64d(0x470)](_0x376c57,_0x1f2964),this[_0xe0d64d(0x147)][_0xe0d64d(0x184)]();},this[_0x33ff0e(0xc5)]=(_0x56fef9,_0xcb58e,_0x2ff375,_0x4a7f39,_0x31559d)=>{var _0x1f74fc=_0x33ff0e;_0xcb58e=Math[_0x1f74fc(0x486)](_0xcb58e),_0x2ff375=Math[_0x1f74fc(0x486)](_0x2ff375),_0x4a7f39=Math[_0x1f74fc(0x486)](_0x4a7f39),_0x31559d=Math[_0x1f74fc(0x486)](_0x31559d),ctx=this[_0x1f74fc(0x147)],ctx['drawImage'](_0x56fef9,_0xcb58e,_0x2ff375,_0x4a7f39,_0x31559d);},this[_0x33ff0e(0x436)]=(_0x1f0ffc,_0x548c68,_0x4e4150,_0xd2c4ce,_0x46800e,_0x277919,_0x26edc0)=>{var _0x399d94=_0x33ff0e;_0x548c68=Math[_0x399d94(0x486)](_0x548c68),_0x4e4150=Math[_0x399d94(0x486)](_0x4e4150),ctx=this[_0x399d94(0x147)],ctx['setTransform'](-_0x277919,0x0,0x0,_0x277919,_0x548c68,_0x4e4150),ctx[_0x399d94(0x2c5)](_0x26edc0),ctx[_0x399d94(0x1f7)](_0x1f0ffc,-_0xd2c4ce,-_0x46800e),ctx[_0x399d94(0x1fe)](0x1,0x0,0x0,0x1,0x0,0x0);},this['drawImageRotateCenter']=(_0x5c1d1c,_0x57e650,_0xfae14d,_0x3624eb,_0x1869e4,_0x84e804,_0x40ca94)=>{var _0x3823f5=_0x33ff0e;_0x57e650=Math[_0x3823f5(0x486)](_0x57e650),_0xfae14d=Math['round'](_0xfae14d),ctx=this[_0x3823f5(0x147)],ctx[_0x3823f5(0x1fe)](_0x84e804,0x0,0x0,_0x84e804,_0x57e650,_0xfae14d),ctx[_0x3823f5(0x2c5)](_0x40ca94),ctx[_0x3823f5(0x1f7)](_0x5c1d1c,-_0x3624eb,-_0x1869e4),ctx[_0x3823f5(0x1fe)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x33ff0e(0x23b)]=(_0x489d0e,_0x411da8,_0x26f4cd,_0x490131,_0x3903d2)=>{var _0x204a06=_0x33ff0e;_0x411da8=Math[_0x204a06(0x486)](_0x411da8),_0x26f4cd=Math[_0x204a06(0x486)](_0x26f4cd),ctx=this['ctx'],ctx[_0x204a06(0x1fe)](_0x490131,0x0,0x0,_0x490131,_0x411da8,_0x26f4cd),ctx[_0x204a06(0x2c5)](_0x3903d2),ctx[_0x204a06(0x1f7)](_0x489d0e,-_0x489d0e[_0x204a06(0x3a3)]/0x2,-_0x489d0e['height']/0x2),ctx[_0x204a06(0x1fe)](0x1,0x0,0x0,0x1,0x0,0x0);},this['drawTextTopLeft']=(_0x22db0a,_0x1496c9,_0x3e8772,_0x3946ba,_0x84a16,_0x3e4ead,_0x436bda)=>{var _0x2c9dcc=_0x33ff0e;this['ctx'][_0x2c9dcc(0x1b1)]=_0x2c9dcc(0x1ef),this[_0x2c9dcc(0x147)][_0x2c9dcc(0x2d2)]=_0x2c9dcc(0xc2),this[_0x2c9dcc(0x147)][_0x2c9dcc(0x307)]=_0x3e4ead;var _0x2b9260=''+_0x84a16+'px';if(!_0x436bda)_0x436bda=_0x2c9dcc(0x31a);_0x2b9260=_0x2b9260+'\x20'+_0x436bda,this[_0x2c9dcc(0x147)][_0x2c9dcc(0x2a2)]=_0x2b9260,this[_0x2c9dcc(0x147)]['fillText'](_0x22db0a,_0x1496c9,_0x3e8772,_0x3946ba);},this['drawTextCenter']=(_0x2aaf0c,_0x25c0ef,_0x2f7c63,_0x300678,_0x58c3ca,_0x39f38b,_0x2e96b2)=>{var _0x55d63f=_0x33ff0e;this['ctx']['textAlign']=_0x55d63f(0xbb),this[_0x55d63f(0x147)]['textBaseline']=_0x55d63f(0x31f),this[_0x55d63f(0x147)]['fillStyle']=_0x39f38b;var _0x4ef3f7=''+_0x58c3ca+'px';if(!_0x2e96b2)_0x2e96b2=_0x55d63f(0x31a);_0x4ef3f7=_0x4ef3f7+'\x20'+_0x2e96b2,this[_0x55d63f(0x147)][_0x55d63f(0x2a2)]=_0x4ef3f7,this[_0x55d63f(0x147)][_0x55d63f(0x241)](_0x2aaf0c,_0x25c0ef,_0x2f7c63,_0x300678);};},CanvasManager=function(){var _0x5bc6d2=_0x4750f4;this[_0x5bc6d2(0x432)]=[],this[_0x5bc6d2(0x226)]=0x0,window[_0x5bc6d2(0xf0)](_0x5bc6d2(0x4a7),()=>{var _0x8de34e=_0x5bc6d2;for(var _0x170da7 in this[_0x8de34e(0x432)]){var _0x257e37=this['canList'][_0x170da7][_0x8de34e(0x213)];_0x257e37['width']=window[_0x8de34e(0x42c)],_0x257e37[_0x8de34e(0x21d)]=window['innerHeight'];}console[_0x8de34e(0x2bb)](_0x8de34e(0x236)),world[_0x8de34e(0x3c7)]();}),document[_0x5bc6d2(0xf0)](_0x5bc6d2(0x113),this[_0x5bc6d2(0x384)],![]),document[_0x5bc6d2(0xf0)]('mozfullscreenchange',this[_0x5bc6d2(0x384)],![]),document[_0x5bc6d2(0xf0)](_0x5bc6d2(0x327),this[_0x5bc6d2(0x384)],![]),document['addEventListener'](_0x5bc6d2(0x13d),this['EventcloseFullscreen'],![]),this['EventcloseFullscreen']=()=>{var _0xd95de3=_0x5bc6d2;this[_0xd95de3(0x412)]=![],this[_0xd95de3(0x3c2)]();},this['addCanvas']=(_0x1a4bb5,_0x15b20c,_0x14e4c4)=>{var _0xf80e07=_0x5bc6d2;for(var _0x499e1f in this[_0xf80e07(0x432)])if(this[_0xf80e07(0x432)][_0x499e1f]['id']==_0x1a4bb5)return console[_0xf80e07(0x2bb)]('ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST');var _0x2e7517=new MyCanvas(_0x1a4bb5,_0x15b20c,_0x14e4c4);this[_0xf80e07(0x432)][_0x1a4bb5]=_0x2e7517;},this[_0x5bc6d2(0x11a)]=()=>{var _0x28edf8=_0x5bc6d2;this[_0x28edf8(0x412)]=!![],document['documentElement'][_0x28edf8(0x435)]();},this[_0x5bc6d2(0x3c2)]=()=>{var _0x235a7b=_0x5bc6d2;if(this[_0x235a7b(0x412)]&&document[_0x235a7b(0x1c4)]){if(document[_0x235a7b(0x37a)])document[_0x235a7b(0x37a)]();else{if(document[_0x235a7b(0x3dd)])document[_0x235a7b(0x3dd)]();else document[_0x235a7b(0x114)]&&document[_0x235a7b(0x114)]();}}this[_0x235a7b(0x412)]=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=['rock','sand','sea','weed'],MAP_BOT_ELEMENT=[{'name':_0x4750f4(0x363),'moveCost':1.5},{'name':_0x4750f4(0x419),'moveCost':0x2},{'name':_0x4750f4(0x324),'moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':_0x4750f4(0x27c),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x4750f4(0x2f2),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x4750f4(0x365),'sizex':0x1,'sizey':0x1},{'name':_0x4750f4(0xd5),'sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x135642,_0x5c01b0){var _0x315bf4=_0x4750f4;this['x']=_0x135642,this['y']=_0x5c01b0,this[_0x315bf4(0x382)]=undefined,this[_0x315bf4(0x1f0)]=undefined,this['player']=undefined,this[_0x315bf4(0x329)]=()=>{var _0x149c3c=_0x315bf4,_0x32ba0d=0x1;if(this[_0x149c3c(0x382)]){for(var _0x347640 in MAP_BOT_ELEMENT)var _0x4ff791=MAP_BOT_ELEMENT['find'](_0x5b4af5=>_0x5b4af5[_0x149c3c(0x4b4)]==this[_0x149c3c(0x382)][_0x149c3c(0x4b4)]);if(_0x4ff791[_0x149c3c(0x41a)]==![])return![];if(_0x4ff791[_0x149c3c(0x41a)])_0x32ba0d*=_0x4ff791[_0x149c3c(0x41a)];}if(this[_0x149c3c(0x1f0)]){var _0x4ff791=MAP_TOP_ELEMENT[_0x149c3c(0x1bb)](_0x3433e7=>_0x3433e7[_0x149c3c(0x4b4)]==this[_0x149c3c(0x1f0)][_0x149c3c(0x4b4)]);if(_0x4ff791[_0x149c3c(0x41a)]==![])return![];if(_0x4ff791[_0x149c3c(0x41a)])_0x32ba0d*=_0x4ff791[_0x149c3c(0x41a)];}return _0x32ba0d;};},BattleMap=function(_0x2bf91f,_0x54cea3){var _0x49b925=_0x4750f4;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this['width']=_0x2bf91f,this['height']=_0x54cea3,this['posBlockx']=_0x2bf91f/0x2,this[_0x49b925(0x273)]=_0x54cea3/0x2,this['scale']=0x1,this[_0x49b925(0x1fd)]=[],this['mapBlock']=[],this['mapImgsBot']=[],this[_0x49b925(0x22c)]=[],this['needRedraw']=!![],this[_0x49b925(0x3d8)]=_0x177985=>{var _0x4f685e=_0x49b925,_0x17156a=0x1;if(_0x177985[_0x4f685e(0x17f)])_0x17156a=_0x177985[_0x4f685e(0x17f)];this[_0x4f685e(0x312)]=_0x177985['x']+_0x17156a/0x2,this['posBlocky']=_0x177985['y']+_0x17156a/0x2,this[_0x4f685e(0x3c7)]=!![];},this[_0x49b925(0x466)]=_0x4cd1a5=>{var _0x513d5=_0x49b925;if(!_0x4cd1a5||!_0x4cd1a5['rangeMin']||!_0x4cd1a5[_0x513d5(0xe7)]||!_0x4cd1a5[_0x513d5(0x143)])return[];var _0x3a8e1b=[],_0x50c070=_0x4cd1a5[_0x513d5(0x143)],_0x4b183a=_0x4cd1a5[_0x513d5(0xce)],_0x183d01=_0x4cd1a5[_0x513d5(0xe7)];for(var _0x41b157=_0x50c070['x']-_0x183d01;_0x41b157<_0x50c070['x']+_0x50c070[_0x513d5(0x17f)]+_0x183d01;_0x41b157++)for(var _0x3ed9f9=_0x50c070['y']-_0x183d01;_0x3ed9f9<_0x50c070['y']+_0x50c070['size']+_0x183d01;_0x3ed9f9++)if(_0x41b157<=_0x50c070['x']-_0x4b183a||_0x41b157>=_0x50c070['x']+_0x50c070['size']+_0x4b183a-0x1||_0x3ed9f9<=_0x50c070['y']-_0x4b183a||_0x3ed9f9>=_0x50c070['y']+_0x50c070[_0x513d5(0x17f)]+_0x4b183a-0x1){if(this[_0x513d5(0x43e)][_0x41b157]&&this['mapBlock'][_0x41b157][_0x3ed9f9])_0x3a8e1b['push'](this[_0x513d5(0x43e)][_0x41b157][_0x3ed9f9]);}return _0x3a8e1b;},this[_0x49b925(0x3e6)]=_0x2aaf25=>{var _0x7f06e=_0x49b925;if(!_0x2aaf25||!_0x2aaf25[_0x7f06e(0x2ee)]||!_0x2aaf25[_0x7f06e(0x143)])return[];var _0x25c3cd=[],_0x5d8a76=_0x2aaf25[_0x7f06e(0x143)];if(_0x2aaf25[_0x7f06e(0x2ee)]==_0x7f06e(0x1ef)||_0x2aaf25[_0x7f06e(0x2ee)]['x']==-0x1&&_0x2aaf25[_0x7f06e(0x2ee)]['y']==0x0){var _0xf23d73=_0x5d8a76['x']-0x1;for(var _0x2ff33c=_0x5d8a76['y'];_0x2ff33c<_0x5d8a76['y']+_0x5d8a76[_0x7f06e(0x17f)];_0x2ff33c++)if(this[_0x7f06e(0x43e)][_0xf23d73]&&this[_0x7f06e(0x43e)][_0xf23d73][_0x2ff33c])_0x25c3cd['push'](this[_0x7f06e(0x43e)][_0xf23d73][_0x2ff33c]);}else{if(_0x2aaf25[_0x7f06e(0x2ee)]==_0x7f06e(0xc2)||_0x2aaf25[_0x7f06e(0x2ee)]['y']==-0x1&&_0x2aaf25[_0x7f06e(0x2ee)]['x']==0x0){var _0x2ff33c=_0x5d8a76['y']-0x1;for(var _0xf23d73=_0x5d8a76['x'];_0xf23d73<_0x5d8a76['x']+_0x5d8a76['size'];_0xf23d73++)if(this['mapBlock'][_0xf23d73]&&this[_0x7f06e(0x43e)][_0xf23d73][_0x2ff33c])_0x25c3cd[_0x7f06e(0x234)](this[_0x7f06e(0x43e)][_0xf23d73][_0x2ff33c]);}else{if(_0x2aaf25[_0x7f06e(0x2ee)]=='right'||_0x2aaf25[_0x7f06e(0x2ee)]['x']==0x1&&_0x2aaf25[_0x7f06e(0x2ee)]['y']==0x0){var _0xf23d73=_0x5d8a76['x']+_0x5d8a76[_0x7f06e(0x17f)];for(var _0x2ff33c=_0x5d8a76['y'];_0x2ff33c<_0x5d8a76['y']+_0x5d8a76[_0x7f06e(0x17f)];_0x2ff33c++)if(this[_0x7f06e(0x43e)][_0xf23d73]&&this[_0x7f06e(0x43e)][_0xf23d73][_0x2ff33c])_0x25c3cd['push'](this[_0x7f06e(0x43e)][_0xf23d73][_0x2ff33c]);}else{if(_0x2aaf25[_0x7f06e(0x2ee)]==_0x7f06e(0x1e8)||_0x2aaf25[_0x7f06e(0x2ee)]['y']==0x1&&_0x2aaf25['dir']['x']==0x0){var _0x2ff33c=_0x5d8a76['y']+_0x5d8a76['size'];for(var _0xf23d73=_0x5d8a76['x'];_0xf23d73<_0x5d8a76['x']+_0x5d8a76[_0x7f06e(0x17f)];_0xf23d73++)if(this['mapBlock'][_0xf23d73]&&this['mapBlock'][_0xf23d73][_0x2ff33c])_0x25c3cd[_0x7f06e(0x234)](this[_0x7f06e(0x43e)][_0xf23d73][_0x2ff33c]);}}}}return _0x25c3cd;},this['getZoneAdjacentToPlayer']=_0x68a2=>{var _0x13a1a4=_0x49b925;if(!_0x68a2||!_0x68a2[_0x13a1a4(0x143)])return undefined;var _0x185d3a=[];return _0x68a2[_0x13a1a4(0x2ee)]=_0x13a1a4(0x1ef),_0x185d3a=_0x185d3a[_0x13a1a4(0x274)](this['getZoneAdjacentToPlayerByDir'](_0x68a2)),_0x68a2['dir']=_0x13a1a4(0xc2),_0x185d3a=_0x185d3a['concat'](this['getZoneAdjacentToPlayerByDir'](_0x68a2)),_0x68a2['dir']=_0x13a1a4(0x255),_0x185d3a=_0x185d3a['concat'](this[_0x13a1a4(0x3e6)](_0x68a2)),_0x68a2[_0x13a1a4(0x2ee)]=_0x13a1a4(0x1e8),_0x185d3a=_0x185d3a[_0x13a1a4(0x274)](this[_0x13a1a4(0x3e6)](_0x68a2)),_0x185d3a;},this[_0x49b925(0xdd)]=_0x9752aa=>{var _0x1235b8=_0x49b925;if(!_0x9752aa||!_0x9752aa['player']||!_0x9752aa[_0x1235b8(0x2ee)])return![];var _0x3205c2=this['getZoneAdjacentToPlayerByDir']({'dir':_0x9752aa[_0x1235b8(0x2ee)],'player':_0x9752aa[_0x1235b8(0x143)]});if(!_0x3205c2||_0x3205c2[_0x1235b8(0x1c7)]==0x0)return![];var _0x1bf9fb=0x0;for(var _0x50ab88 in _0x3205c2){var _0x47c8ae=_0x3205c2[_0x50ab88][_0x1235b8(0x329)]();if(_0x47c8ae===![]||_0x47c8ae===0x0)return![];_0x1bf9fb+=_0x47c8ae;}return _0x1bf9fb/_0x3205c2['length'];},this[_0x49b925(0x30a)]=()=>{var _0x590a7b=_0x49b925;this[_0x590a7b(0x43e)]=[];for(var _0x577ad1=0x0;_0x577ad1<this[_0x590a7b(0x3a3)];_0x577ad1++){this['mapBlock'][_0x577ad1]=[];for(var _0x429512=0x0;_0x429512<this['height'];_0x429512++){var _0x49157b=new Block(_0x577ad1,_0x429512);this['mapBlock'][_0x577ad1][_0x429512]=_0x49157b;if(_0x577ad1==0x0||_0x429512==0x0||_0x577ad1==this['width']-0x1||_0x429512==this[_0x590a7b(0x21d)]-0x1){_0x49157b['topElem']={'name':_0x590a7b(0xd5),'angle':Math[_0x590a7b(0x366)]()*Math['PI']*0x2};continue;}}}},this[_0x49b925(0x2d4)]=()=>{var _0x23d6f2=_0x49b925;for(var _0xf04578=0x0;_0xf04578<this[_0x23d6f2(0x3a3)];_0xf04578++){for(var _0x235e66=0x0;_0x235e66<this[_0x23d6f2(0x21d)];_0x235e66++){var _0x28d1eb=this[_0x23d6f2(0x43e)][_0xf04578][_0x235e66];if(_0x28d1eb[_0x23d6f2(0x143)])continue;var _0x43ed43=Math[_0x23d6f2(0x220)](Math[_0x23d6f2(0x366)]()*0x64);if(_0x43ed43<0xa){var _0x5572e3=Math[_0x23d6f2(0x220)](Math[_0x23d6f2(0x366)]()*MAP_BOT_ELEMENT[_0x23d6f2(0x1c7)]);_0x28d1eb['botElem']={'name':MAP_BOT_ELEMENT[_0x5572e3]['name'],'angle':Math[_0x23d6f2(0x366)]()*Math['PI']*0x2};}var _0x43ed43=Math['floor'](Math[_0x23d6f2(0x366)]()*0x64);if(_0x43ed43<0xa){var _0x5572e3=Math[_0x23d6f2(0x220)](Math[_0x23d6f2(0x366)]()*MAP_TOP_ELEMENT[_0x23d6f2(0x1c7)]);_0x28d1eb[_0x23d6f2(0x1f0)]={'name':MAP_TOP_ELEMENT[_0x5572e3][_0x23d6f2(0x4b4)],'angle':Math[_0x23d6f2(0x366)]()*Math['PI']*0x2};}}}},this[_0x49b925(0x102)]=()=>{var _0x3649f8=_0x49b925,_0x27e0a4=_0x3649f8(0x2e7),_0x360788=MAP_FLOORS;for(var _0xf97c7 in _0x360788)this['mapImgsFloor'][_0x360788[_0xf97c7]]=new myImage(_0x360788[_0xf97c7],_0x27e0a4+_0x360788[_0xf97c7]+_0x3649f8(0x20a));},this['initMapBotElement']=()=>{var _0x412355=_0x49b925,_0x435d8e='./img/mapBotElement/',_0x305544=MAP_BOT_ELEMENT;for(var _0x215abb in _0x305544)this[_0x412355(0x46a)][_0x305544[_0x215abb][_0x412355(0x4b4)]]=new myImage(_0x305544[_0x215abb][_0x412355(0x4b4)],_0x435d8e+_0x305544[_0x215abb][_0x412355(0x4b4)]+_0x412355(0x20a));},this[_0x49b925(0x39e)]=()=>{var _0x38dcb0=_0x49b925,_0x101d5e=_0x38dcb0(0x28c),_0x142f47=MAP_TOP_ELEMENT;for(var _0x2cd151 in _0x142f47)this[_0x38dcb0(0x22c)][_0x142f47[_0x2cd151][_0x38dcb0(0x4b4)]]=new myImage(_0x142f47[_0x2cd151]['name'],_0x101d5e+_0x142f47[_0x2cd151][_0x38dcb0(0x4b4)]+_0x38dcb0(0x20a));},this[_0x49b925(0x4cd)]=()=>{var _0x333d2c=_0x49b925;this[_0x333d2c(0x39e)](),this[_0x333d2c(0x102)](),this[_0x333d2c(0x24c)]();},this[_0x49b925(0x40d)]=(_0x7a3ef6,_0xdf2a1a,_0x250799)=>{var _0x1cf253=_0x49b925;this[_0x1cf253(0x312)]+=_0x7a3ef6,this[_0x1cf253(0x273)]+=_0xdf2a1a,this[_0x1cf253(0x396)]*=_0x250799;if(this[_0x1cf253(0x396)]<0.1)this[_0x1cf253(0x396)]=0.1;if(this[_0x1cf253(0x396)]>0x1)this[_0x1cf253(0x396)]=0x1;this[_0x1cf253(0x3c7)]=!![];},this[_0x49b925(0x242)]=_0x192d91=>{var _0x505486=_0x49b925;this['pixel_width']=Math[_0x505486(0x220)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x505486(0x396)]*this[_0x505486(0x3a3)]),this[_0x505486(0x2bf)]=Math[_0x505486(0x220)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x505486(0x396)]*this[_0x505486(0x21d)]),this[_0x505486(0x21b)]=Math['floor'](this[_0x505486(0x430)]/this[_0x505486(0x3a3)]),this[_0x505486(0xed)]=Math[_0x505486(0x220)](this[_0x505486(0x2bf)]/this[_0x505486(0x21d)]),this[_0x505486(0x2ad)]=this[_0x505486(0x312)]*this[_0x505486(0x21b)],this['pos_y']=this['posBlocky']*this['blocksize_y'],this['pos_startx']=_0x192d91[_0x505486(0x3a3)]/0x2-this[_0x505486(0x2ad)],this[_0x505486(0xfc)]=_0x192d91[_0x505486(0x21d)]/0x2-this[_0x505486(0x127)],this[_0x505486(0x187)]=this[_0x505486(0x48e)]<0x0?0x0:this[_0x505486(0x48e)],this['pixel_starty']=this[_0x505486(0xfc)]<0x0?0x0:this[_0x505486(0xfc)],this[_0x505486(0x1e6)]=this['pos_startx']+this['pixel_width']>=_0x192d91[_0x505486(0x3a3)]?_0x192d91[_0x505486(0x3a3)]-0x1:this[_0x505486(0x48e)]+this[_0x505486(0x430)],this['pixel_endy']=this[_0x505486(0xfc)]+this[_0x505486(0x2bf)]>=_0x192d91[_0x505486(0x21d)]?_0x192d91['height']-0x1:this[_0x505486(0xfc)]+this[_0x505486(0x2bf)],this[_0x505486(0x250)]=this[_0x505486(0x188)]({'x':this['pixel_startx'],'y':this[_0x505486(0x199)]}),this['botright_block']=this[_0x505486(0x188)]({'x':this[_0x505486(0x1e6)],'y':this[_0x505486(0x42e)]});if(this[_0x505486(0x3af)]){if(this[_0x505486(0x3af)]['x']>=this['width'])this['botright_block']['x']=this[_0x505486(0x3a3)]-0x1;if(this[_0x505486(0x3af)]['y']>=this['height'])this[_0x505486(0x3af)]['y']=this[_0x505486(0x21d)]-0x1;}},this['highlightBlock']=(_0x268f60,_0xd469cf,_0xec451e,_0x2d7d2e,_0x3193ab)=>{var _0x2fc48b=_0x49b925;if(_0x3193ab=='move'){var _0x8c6a31=Math[_0x2fc48b(0x220)](_0xec451e+0.05*this[_0x2fc48b(0x21b)]),_0x1062d1=Math[_0x2fc48b(0x220)](_0x2d7d2e+0.05*this['blocksize_y']),_0x109800=Math[_0x2fc48b(0x220)](_0xec451e+0.95*this[_0x2fc48b(0x21b)]),_0x75e43b=Math[_0x2fc48b(0x220)](_0x2d7d2e+0.95*this[_0x2fc48b(0xed)]);if(_0xd469cf['getMoveCost']()>0x1)_0x268f60[_0x2fc48b(0x147)]['fillStyle']=_0x2fc48b(0x3d3);else{if(!_0xd469cf[_0x2fc48b(0x329)]()||_0xd469cf[_0x2fc48b(0x143)])_0x268f60[_0x2fc48b(0x147)][_0x2fc48b(0x307)]=_0x2fc48b(0x270);else _0x268f60[_0x2fc48b(0x147)][_0x2fc48b(0x307)]='#00af0022';}_0x268f60['drawFillRect'](_0x8c6a31,_0x1062d1,_0x109800,_0x75e43b);var _0x132534=new MyUI(_0x268f60,_0x8c6a31,_0x1062d1,0x64,this[_0x2fc48b(0x396)],undefined,undefined,0x1);_0x132534['addTextZone'](_0x2fc48b(0x2e9)+_0xd469cf[_0x2fc48b(0x329)](),0x14*this[_0x2fc48b(0x396)],0x64,'#005500'),_0x132534[_0x2fc48b(0x487)]();}if(_0x3193ab==_0x2fc48b(0x2c5)){var _0x8c6a31=Math[_0x2fc48b(0x220)](_0xec451e+0.05*this['blocksize_x']),_0x1062d1=Math['floor'](_0x2d7d2e+0.05*this[_0x2fc48b(0xed)]),_0x109800=Math[_0x2fc48b(0x220)](_0xec451e+0.95*this[_0x2fc48b(0x21b)]),_0x75e43b=Math[_0x2fc48b(0x220)](_0x2d7d2e+0.95*this[_0x2fc48b(0xed)]);_0x268f60[_0x2fc48b(0x147)][_0x2fc48b(0x307)]=_0x2fc48b(0x26c),_0x268f60['drawFillRect'](_0x8c6a31,_0x1062d1,_0x109800,_0x75e43b);}},this[_0x49b925(0x200)]=(_0x9b38b7,_0x14db48)=>{var _0x1ff9bd=_0x49b925;this['needRedraw']=![],world[_0x1ff9bd(0x3b5)][_0x1ff9bd(0xc0)]=!![];if(this['topleft_block']&&this[_0x1ff9bd(0x3af)])for(var _0x276c0c=this[_0x1ff9bd(0x250)]['x'];_0x276c0c<=this['botright_block']['x'];_0x276c0c++){for(var _0x186324=this['topleft_block']['y'];_0x186324<=this[_0x1ff9bd(0x3af)]['y'];_0x186324++){var _0x32bf9d=this[_0x1ff9bd(0x170)](_0x276c0c,_0x186324),_0x151df2=this[_0x1ff9bd(0x43e)][_0x276c0c][_0x186324],_0x2a7a53=undefined;if(!_0x151df2['floor'])_0x2a7a53=this[_0x1ff9bd(0x1fd)][_0x1ff9bd(0x48c)];else _0x2a7a53=this['mapImgsFloor'][_0x151df2[_0x1ff9bd(0x220)]];if(_0x2a7a53&&_0x2a7a53[_0x1ff9bd(0x3c9)]&&_0x32bf9d)_0x9b38b7['draw_Image'](_0x2a7a53['img'],_0x32bf9d['x'],_0x32bf9d['y'],this[_0x1ff9bd(0x21b)]+0x1,this['blocksize_y']+0x1);else this[_0x1ff9bd(0x3c7)]=!![];if(_0x151df2['botElem']){_0x2a7a53=this[_0x1ff9bd(0x46a)][_0x151df2['botElem'][_0x1ff9bd(0x4b4)]];var _0x22bf7c=_0x32bf9d['x']+this[_0x1ff9bd(0x21b)]/0x2,_0xe8e580=_0x32bf9d['y']+this[_0x1ff9bd(0xed)]/0x2;if(_0x2a7a53)_0x9b38b7[_0x1ff9bd(0x23b)](_0x2a7a53[_0x1ff9bd(0x2dd)],_0x22bf7c,_0xe8e580,this[_0x1ff9bd(0x396)]*0x2,_0x151df2[_0x1ff9bd(0x382)][_0x1ff9bd(0x1c5)]);}if(_0x151df2[_0x1ff9bd(0x1f0)]){_0x2a7a53=this[_0x1ff9bd(0x22c)][_0x151df2[_0x1ff9bd(0x1f0)][_0x1ff9bd(0x4b4)]];var _0x22bf7c=_0x32bf9d['x']+this[_0x1ff9bd(0x21b)]/0x2,_0xe8e580=_0x32bf9d['y']+this[_0x1ff9bd(0xed)]/0x2;if(_0x2a7a53)_0x14db48[_0x1ff9bd(0x23b)](_0x2a7a53['img'],_0x22bf7c,_0xe8e580,this[_0x1ff9bd(0x396)]*0x2,_0x151df2[_0x1ff9bd(0x1f0)]['angle']);}if(world[_0x1ff9bd(0x1b7)][_0x1ff9bd(0x451)]&&world['GameUI']['highlightZone'][_0x1ff9bd(0x20e)]&&world['GameUI'][_0x1ff9bd(0x451)][_0x1ff9bd(0x20e)][_0x1ff9bd(0x1bb)](_0x5a2ca5=>_0x5a2ca5==_0x151df2))this[_0x1ff9bd(0x18c)](_0x9b38b7,_0x151df2,_0x32bf9d['x'],_0x32bf9d['y'],world[_0x1ff9bd(0x1b7)][_0x1ff9bd(0x451)][_0x1ff9bd(0x245)]);}}},this[_0x49b925(0x188)]=_0x1df921=>{var _0x57d84d=_0x49b925;if(_0x1df921['x']<this[_0x57d84d(0x187)]||_0x1df921['y']<this[_0x57d84d(0x199)]||_0x1df921['x']>this[_0x57d84d(0x1e6)]||_0x1df921['y']>this[_0x57d84d(0x42e)]||this[_0x57d84d(0x21b)]==0x0||this[_0x57d84d(0xed)]==0x0)return undefined;var _0x6e25bc={'x':Math['floor']((_0x1df921['x']-this[_0x57d84d(0x48e)])/this[_0x57d84d(0x21b)]),'y':Math[_0x57d84d(0x220)]((_0x1df921['y']-this[_0x57d84d(0xfc)])/this['blocksize_y'])};if(_0x6e25bc['x']>=this[_0x57d84d(0x3a3)]&&_0x6e25bc['x']>0x0)_0x6e25bc['x']=this['width']-0x1;if(_0x6e25bc['y']>=this[_0x57d84d(0x21d)]&&_0x6e25bc['y']>0x0)_0x6e25bc['y']=this[_0x57d84d(0x21d)]-0x1;return this[_0x57d84d(0x43e)][_0x6e25bc['x']][_0x6e25bc['y']];},this[_0x49b925(0x170)]=(_0x32211d,_0x41f6be)=>{var _0x5c4e8f=_0x49b925;if(_0x32211d<0x0||_0x41f6be<0x0||_0x32211d>=this[_0x5c4e8f(0x3a3)]||_0x41f6be>=this[_0x5c4e8f(0x21d)])return undefined;return{'x':Math[_0x5c4e8f(0x220)](this[_0x5c4e8f(0x48e)]+this[_0x5c4e8f(0x21b)]*_0x32211d),'y':Math[_0x5c4e8f(0x220)](this[_0x5c4e8f(0xfc)]+this[_0x5c4e8f(0xed)]*_0x41f6be)};},this[_0x49b925(0x43f)]=(_0x30e2b4,_0x24fb8f)=>{var _0x2ae051=_0x49b925;return{'x':this['pos_startx']+this[_0x2ae051(0x21b)]*_0x30e2b4,'y':this[_0x2ae051(0xfc)]+this[_0x2ae051(0xed)]*_0x24fb8f};},this[_0x49b925(0x1b0)]=(_0x1b0eaf,_0x36e32c,_0x5271f2,_0x4e9ee8)=>{var _0xf19d71=_0x49b925,_0x417b04=[];for(var _0x2df08f=_0x1b0eaf-_0x4e9ee8;_0x2df08f<=_0x1b0eaf+_0x4e9ee8;r++){for(var _0x5d8c57=_0x36e32c-_0x4e9ee8;_0x5d8c57<=_0x36e32c+_0x4e9ee8;r++){var _0x4c9ea3=this[_0xf19d71(0x43e)][_0x2df08f][_0x5d8c57];if(_0x4c9ea3&&distBlock(_0x1b0eaf,_0x36e32c,_0x4c9ea3['x'],_0x4c9ea3['y'])>=_0x5271f2&&distBlock(_0x1b0eaf,_0x36e32c,_0x4c9ea3['x'],_0x4c9ea3['y'])<=_0x4e9ee8)_0x417b04[_0xf19d71(0x234)](_0x4c9ea3);}}return _0x417b04;},this[_0x49b925(0x276)]=(_0x12f318,_0x45e3ca,_0x2314eb,_0x560617)=>{var _0x21f5c5=_0x49b925,_0x5eb360=[];for(var _0x547a98=Math[_0x21f5c5(0x220)](_0x12f318-_0x560617);_0x547a98<=Math[_0x21f5c5(0x486)](_0x12f318+_0x560617);r++){for(var _0x1bf8c1=Math[_0x21f5c5(0x220)](_0x45e3ca-_0x560617);_0x1bf8c1<=Math['round'](_0x45e3ca+_0x560617);r++){var _0x5e1d9f=this['mapBlock'][_0x547a98][_0x1bf8c1];if(_0x5e1d9f&&dist(_0x12f318,_0x45e3ca,_0x5e1d9f['x'],_0x5e1d9f['y'])>=_0x2314eb&&Block(_0x12f318,_0x45e3ca,_0x5e1d9f['x'],_0x5e1d9f['y'])<=_0x560617)_0x5eb360[_0x21f5c5(0x234)](_0x5e1d9f);}}return _0x5eb360;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT=_0x4750f4(0x49e),BONUS_DESCRIPTION=[];var id=0x1;BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]=_0x4750f4(0x2af),BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x4750f4(0x388),BONUS_FORGE_UPPGRADE=id++,BONUS_DESCRIPTION[BONUS_FORGE_UPPGRADE]='more\x20chance\x20to\x20uppgrade\x20a\x20weapon\x20in\x20forge',Player=function(_0x43d840,_0x19c601,_0x362743,_0x137380,_0x295247){var _0x29a147=_0x4750f4;this['x']=_0x43d840,this['y']=_0x19c601,this['size']=_0x362743,this[_0x29a147(0x2b1)]=_0x295247,this['AI']=_0x295247==TEAM_HUMAN?undefined:{},this[_0x29a147(0x2eb)]=_0x137380,this[_0x29a147(0x2ee)]=[0x1,0x0],this[_0x29a147(0x4b2)]=undefined,this[_0x29a147(0x414)]=![],this[_0x29a147(0x2c6)]=undefined,this[_0x29a147(0x3f3)]=[],this[_0x29a147(0x35b)]=PLAYER_DEFAUTL_MOVECOST,this['name']=_0x29a147(0x251),this[_0x29a147(0x142)]=0x64,this['gaugeSpeed']=0x0,this[_0x29a147(0x277)]=0x0,this['ActionPointMax']=0x64,this[_0x29a147(0x367)]=0x64,this[_0x29a147(0x333)]=this[_0x29a147(0x367)],this[_0x29a147(0x1d5)]=![],(this[_0x29a147(0x110)]={'Strength':0xa,'Dexterity':0xa},this[_0x29a147(0x15a)]=_0x2db294=>{var _0x54b2b9=_0x29a147;if(_0x2db294==undefined||_0x2db294<0x0)return![];this['life']-=_0x2db294,world[_0x54b2b9(0x3b5)]['MessageSystem']['addMessage']({'type':this[_0x54b2b9(0x2b1)],'txt':this[_0x54b2b9(0x4b4)]+'\x20lost\x20'+_0x2db294+_0x54b2b9(0x205)});if(this[_0x54b2b9(0x333)]<=0x0){world[_0x54b2b9(0x3b5)][_0x54b2b9(0x326)][_0x54b2b9(0x413)]({'type':this[_0x54b2b9(0x2b1)],'txt':this['name']+_0x54b2b9(0x35e)}),world[_0x54b2b9(0x3b5)][_0x54b2b9(0x44a)](this);if(this==world[_0x54b2b9(0x1b7)][_0x54b2b9(0x3cd)])world[_0x54b2b9(0x1b7)]['playersSelected']=undefined;if(this==world[_0x54b2b9(0x3b5)][_0x54b2b9(0xe2)])world[_0x54b2b9(0x3b5)][_0x54b2b9(0xe2)]=undefined;}return!![];}),this[_0x29a147(0x378)]=_0x259316=>{var _0x5df074=_0x29a147;if(!_0x259316||_0x259316[_0x5df074(0x1c7)]<0x1)return![];var _0x21dd6e=0x0;for(var _0x1eefa1 in _0x259316){world[_0x5df074(0x3b5)][_0x5df074(0x326)]['addMessage']({'type':this[_0x5df074(0x2b1)],'txt':this[_0x5df074(0x4b4)]+_0x5df074(0x3c5)+_0x259316[_0x1eefa1][_0x5df074(0x460)]+_0x5df074(0x233)+_0x259316[_0x1eefa1][_0x5df074(0x245)]}),_0x21dd6e+=_0x259316[_0x1eefa1][_0x5df074(0x460)];}var _0x539d0c=this[_0x5df074(0x335)]?this[_0x5df074(0x335)]['calculatDamageFromAttack']({'damages':_0x259316}):_0x21dd6e;return this[_0x5df074(0x15a)](_0x539d0c);},this[_0x29a147(0x20c)]=()=>{var _0x26a413=_0x29a147;this[_0x26a413(0x2cc)]=[{'name':_0x26a413(0x16d),'type':_0x26a413(0x389),'description':_0x26a413(0x239),'callback':this['TryMoveTo'],'zone_target_area':world['map'][_0x26a413(0x14b)],'zone_selecting_input':{'player':this,'type':_0x26a413(0x389)},'windowInfo':[{'txt':_0x26a413(0x206),'callback':this[_0x26a413(0x172)]},{'txt':_0x26a413(0x2df),'callback':this[_0x26a413(0x272)]}]},{'name':'Rotate','type':'move','description':_0x26a413(0x483),'callback':this['rotate'],'zone_target_area':world[_0x26a413(0x14a)][_0x26a413(0x466)],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':_0x26a413(0x2c5)},'windowInfo':[{'txt':_0x26a413(0x3a6),'callback':this[_0x26a413(0x32b)]}]}];if(this['weapon']){var _0x4b6c83={'name':_0x26a413(0xfb),'type':_0x26a413(0x418),'description':_0x26a413(0xf8),'callback':this[_0x26a413(0x418)],'zone_target_area':this[this['weapon'][_0x26a413(0x17e)][_0x26a413(0x291)]],'zone_selecting_input':{...this[_0x26a413(0xbd)][_0x26a413(0x17e)]['input']},'windowInfo':[{'txt':_0x26a413(0x158),'callback':this['getChanceOfHit']},{'txt':'attack\x20with\x20:\x20','callback':this[_0x26a413(0xc4)]}]};_0x4b6c83[_0x26a413(0x319)][_0x26a413(0x143)]=this,_0x4b6c83[_0x26a413(0x319)][_0x26a413(0x245)]=_0x26a413(0x2c5),this[_0x26a413(0x2cc)][_0x26a413(0x234)](_0x4b6c83);}else{var _0x4b6c83={'name':_0x26a413(0xfb),'type':_0x26a413(0x418),'description':_0x26a413(0xf8),'callback':this['attack'],'zone_target_area':this[_0x26a413(0x376)],'zone_selecting_input':{},'windowInfo':[{'txt':'chance\x20to\x20hit\x20:\x20%','callback':this[_0x26a413(0x296)]},{'txt':_0x26a413(0x1e7),'callback':()=>{}}]};_0x4b6c83['zone_selecting_input'][_0x26a413(0x143)]=this,_0x4b6c83[_0x26a413(0x319)][_0x26a413(0x245)]=_0x26a413(0x2c5),this[_0x26a413(0x2cc)][_0x26a413(0x234)](_0x4b6c83);}},this[_0x29a147(0xc4)]=()=>{var _0x577476=_0x29a147;if(this[_0x577476(0xbd)])return this[_0x577476(0xbd)][_0x577476(0x157)]();},this['ReturnBlockTargeted']=_0x42ed39=>{if(!_0x42ed39||!_0x42ed39['block'])return undefined;return[_0x42ed39['block']];},this['getBlockAdjacent']=()=>{var _0x2a4ea6=_0x29a147;console[_0x2a4ea6(0x2bb)](_0x2a4ea6(0xd3));var _0x9e7790=[];for(var _0x48b308=this['x']-0x1;_0x48b308<=this['x']+this[_0x2a4ea6(0x17f)];_0x48b308++)for(var _0x304da5=this['y']-0x1;_0x304da5<=this['y']+this[_0x2a4ea6(0x17f)];_0x304da5++)if(!((_0x48b308==this['x']-0x1||_0x48b308==this['x']+this[_0x2a4ea6(0x17f)])&&(_0x304da5==this['y']-0x1||_0x304da5==this['y']+this[_0x2a4ea6(0x17f)]))&&!(_0x48b308<=this['x']+this[_0x2a4ea6(0x17f)]-0x1&&_0x48b308>=this['x']&&_0x304da5<=this['y']+this[_0x2a4ea6(0x17f)]-0x1&&_0x304da5>=this['y'])){if(world[_0x2a4ea6(0x14a)]['mapBlock'][_0x48b308]&&world[_0x2a4ea6(0x14a)]['mapBlock'][_0x48b308][_0x304da5])_0x9e7790[_0x2a4ea6(0x234)](world[_0x2a4ea6(0x14a)][_0x2a4ea6(0x43e)][_0x48b308][_0x304da5]);}return _0x9e7790;},this[_0x29a147(0x146)]=()=>{var _0x298d42=_0x29a147,_0x48752c=[];for(var _0x5e9c4d=this['x'];_0x5e9c4d<this['x']+this[_0x298d42(0x17f)];_0x5e9c4d++)for(var _0x1cdf2d=this['y'];_0x1cdf2d<this['y']+this['size'];_0x1cdf2d++)_0x48752c[_0x298d42(0x234)](world['map'][_0x298d42(0x43e)][_0x5e9c4d][_0x1cdf2d]);},this['getBlockBehindTarget']=_0x1f1f52=>{var _0xbe32a6=_0x29a147;if(!_0x1f1f52||!_0x1f1f52['block'])return undefined;var _0x5b48ef=0x1,_0x5c08a6=0x1;_0x1f1f52[_0xbe32a6(0x12d)]&&(_0x5b48ef=_0x1f1f52[_0xbe32a6(0x12d)][_0xbe32a6(0xce)]?_0x1f1f52[_0xbe32a6(0x12d)][_0xbe32a6(0xce)]:0x1,_0x5c08a6=_0x1f1f52[_0xbe32a6(0x12d)][_0xbe32a6(0xe7)]?_0x1f1f52[_0xbe32a6(0x12d)][_0xbe32a6(0xe7)]:0x1);if(_0x5b48ef>_0x5c08a6){var _0x4f5061=_0x5b48ef;_0x5b48ef=_0x5c08a6,_0x5c08a6=_0x4f5061;}var _0x1e733c=[],_0x2b7ed0=_0x1f1f52[_0xbe32a6(0x25b)],_0x2d0b64=this[_0xbe32a6(0x32b)](_0x2b7ed0),_0x2d26a7=-0x1,_0x236196=_0x2b7ed0['x'],_0x4d0f16=_0x2b7ed0['y'],_0x278413=world[_0xbe32a6(0x14a)][_0xbe32a6(0x43e)];while(++_0x2d26a7<=_0x5c08a6){if(_0x2d26a7>=_0x5b48ef){if(_0x278413[_0x236196]&&_0x278413[_0x236196][_0x4d0f16])_0x1e733c['push'](_0x278413[_0x236196][_0x4d0f16]);}_0x236196+=_0x2d0b64[0x0],_0x4d0f16+=_0x2d0b64[0x1];}return _0x1e733c;},this[_0x29a147(0x3fc)]=_0x545f5f=>{var _0x1daa39=_0x29a147;if(!_0x545f5f||!_0x545f5f[_0x1daa39(0x25b)])return undefined;var _0x1c28d9=0x1,_0xe24a99=0x1;_0x545f5f[_0x1daa39(0x12d)]&&(_0x1c28d9=_0x545f5f[_0x1daa39(0x12d)][_0x1daa39(0xce)]?_0x545f5f[_0x1daa39(0x12d)]['rangeMin']:0x1,_0xe24a99=_0x545f5f[_0x1daa39(0x12d)][_0x1daa39(0xe7)]?_0x545f5f[_0x1daa39(0x12d)]['rangeMax']:0x1);if(_0x1c28d9>_0xe24a99){var _0x718115=_0x1c28d9;_0x1c28d9=_0xe24a99,_0xe24a99=_0x718115;}var _0x4b9eca=[],_0x400b44=_0x545f5f[_0x1daa39(0x25b)],_0x261234=world[_0x1daa39(0x14a)][_0x1daa39(0x43e)];for(var _0x250827=_0x400b44['x']-_0xe24a99;_0x250827<=_0x400b44['x']+_0xe24a99;_0x250827++){for(var _0xec5efd=_0x400b44['y']-_0xe24a99;_0xec5efd<=_0x400b44['y']+_0xe24a99;_0xec5efd++){var _0x42508f=dist(_0x400b44['x'],_0x400b44['y'],_0x250827,_0xec5efd);if(_0x42508f<_0x1c28d9||_0x42508f>_0xe24a99)continue;if(_0x261234[_0x250827]&&_0x261234[_0x250827][_0xec5efd])_0x4b9eca[_0x1daa39(0x234)](_0x261234[_0x250827][_0xec5efd]);}}return _0x4b9eca;},this[_0x29a147(0x197)]=_0x2b650e=>{var _0x4f1846=_0x29a147;if(!_0x2b650e||!_0x2b650e['rangeMin']||!_0x2b650e[_0x4f1846(0xe7)])return[];var _0x5dd2a4=[],_0x1342c7=this,_0x490dc9=_0x2b650e[_0x4f1846(0xce)],_0x27641a=_0x2b650e[_0x4f1846(0xe7)];for(var _0x3c5a2a=_0x1342c7['x']-_0x27641a;_0x3c5a2a<_0x1342c7['x']+_0x1342c7[_0x4f1846(0x17f)]+_0x27641a;_0x3c5a2a++)for(var _0x26f245=_0x1342c7['y']-_0x27641a;_0x26f245<_0x1342c7['y']+_0x1342c7['size']+_0x27641a;_0x26f245++)if(_0x3c5a2a<=_0x1342c7['x']-_0x490dc9||_0x3c5a2a>=_0x1342c7['x']+_0x1342c7[_0x4f1846(0x17f)]+_0x490dc9-0x1||_0x26f245<=_0x1342c7['y']-_0x490dc9||_0x26f245>=_0x1342c7['y']+_0x1342c7[_0x4f1846(0x17f)]+_0x490dc9-0x1){if(world[_0x4f1846(0x14a)][_0x4f1846(0x43e)][_0x3c5a2a]&&world[_0x4f1846(0x14a)][_0x4f1846(0x43e)][_0x3c5a2a][_0x26f245])_0x5dd2a4[_0x4f1846(0x234)](world['map'][_0x4f1846(0x43e)][_0x3c5a2a][_0x26f245]);}return _0x5dd2a4;},this[_0x29a147(0x25a)]=_0xac2695=>{var _0x1b1ace=_0x29a147;if(!_0xac2695||!_0xac2695['block'])return undefined;var _0x2b8dcb=_0xac2695['block'];if(_0x2b8dcb['player']==this)return 0x0;var _0x2fc389;if(this['x']>=_0x2b8dcb['x']&&this['x']+this[_0x1b1ace(0x17f)]<=_0x2b8dcb['x'])_0x2fc389=0x0;else{if(this['x']<_0x2b8dcb['x'])_0x2fc389=this['x']-_0x2b8dcb['x'];else _0x2fc389=this['x']+this[_0x1b1ace(0x17f)]-_0x2b8dcb['x']-0x1;}var _0x6049ec;if(this['y']>=_0x2b8dcb['y']&&this['y']+this[_0x1b1ace(0x17f)]<=_0x2b8dcb['y'])_0x6049ec=0x0;else{if(this['x']<_0x2b8dcb['x'])_0x6049ec=this['y']-_0x2b8dcb['y'];else _0x6049ec=this['y']+this[_0x1b1ace(0x17f)]-_0x2b8dcb['y']-0x1;}return Math['sqrt'](_0x2fc389*_0x2fc389+_0x6049ec*_0x6049ec);},this[_0x29a147(0x45c)]=_0x4ea8d5=>{var _0x2e2bc1=_0x29a147;if(!_0x4ea8d5||!_0x4ea8d5['rangeMin']||!_0x4ea8d5[_0x2e2bc1(0xe7)])return[];var _0x5740b5=[],_0x4d2341=this,_0x21e27c=_0x4d2341['x']+_0x4d2341[_0x2e2bc1(0x17f)]/0x2-0.5,_0x26826e=_0x4d2341['y']+_0x4d2341[_0x2e2bc1(0x17f)]/0x2-0.5,_0x41c820=_0x4ea8d5[_0x2e2bc1(0xce)]+_0x4d2341[_0x2e2bc1(0x17f)]/0x2-0.5,_0x43f246=_0x4ea8d5[_0x2e2bc1(0xe7)]+_0x4d2341[_0x2e2bc1(0x17f)]/0x2-0.5;for(var _0x5a045e=Math['round'](_0x4d2341['x']-_0x43f246);_0x5a045e<Math[_0x2e2bc1(0x486)](_0x4d2341['x']+_0x4d2341['size']+_0x43f246);_0x5a045e++)for(var _0x25ed4f=Math[_0x2e2bc1(0x486)](_0x4d2341['y']-_0x43f246);_0x25ed4f<Math[_0x2e2bc1(0x486)](_0x4d2341['y']+_0x4d2341[_0x2e2bc1(0x17f)]+_0x43f246);_0x25ed4f++)if(world[_0x2e2bc1(0x14a)][_0x2e2bc1(0x43e)][_0x5a045e]&&world[_0x2e2bc1(0x14a)]['mapBlock'][_0x5a045e][_0x25ed4f]&&this[_0x2e2bc1(0x25a)]({'block':world[_0x2e2bc1(0x14a)][_0x2e2bc1(0x43e)][_0x5a045e][_0x25ed4f]})<=Math[_0x2e2bc1(0x486)](_0x43f246)&&this['getDistToABlock']({'block':world[_0x2e2bc1(0x14a)][_0x2e2bc1(0x43e)][_0x5a045e][_0x25ed4f]})>=Math['floor'](_0x41c820))_0x5740b5[_0x2e2bc1(0x234)](world['map'][_0x2e2bc1(0x43e)][_0x5a045e][_0x25ed4f]);return _0x5740b5;},this['LoadPlayerImage']=_0x225f93=>{var _0x5b74c7=_0x29a147;if(!this[_0x5b74c7(0x442)])this['face_type']=PLAYER_FACE_IMG[Math[_0x5b74c7(0x220)](Math[_0x5b74c7(0x366)]()*PLAYER_FACE_IMG[_0x5b74c7(0x1c7)])];if(!this[_0x5b74c7(0x1dd)])this[_0x5b74c7(0x1dd)]=PLAYER_BODY_IMG[Math[_0x5b74c7(0x220)](Math['random']()*PLAYER_BODY_IMG[_0x5b74c7(0x1c7)])];var _0x559926=[];_0x559926[_0x5b74c7(0x234)]({'name':this['body_type'],'needColor':!![]}),_0x559926[_0x5b74c7(0x234)]({'name':this[_0x5b74c7(0x442)],'needColor':![]});if(this[_0x5b74c7(0x335)])_0x559926[_0x5b74c7(0x234)]({'name':this['armor'][_0x5b74c7(0x4b4)],'needColor':![]});for(var _0x1eb461 in _0x559926)if(!_0x225f93[_0x559926[_0x1eb461]['name']]||!_0x225f93[_0x559926[_0x1eb461][_0x5b74c7(0x4b4)]][_0x5b74c7(0x3c9)])return console[_0x5b74c7(0x2bb)](_0x5b74c7(0x18f)+_0x559926[_0x1eb461][_0x5b74c7(0x4b4)]);var _0x4dd067=document[_0x5b74c7(0x464)](_0x5b74c7(0x213));_0x4dd067['width']=PLAYER_DEFAULT_SIZEX,_0x4dd067[_0x5b74c7(0x21d)]=PLAYER_DEFAULT_SIZEY;var _0xc36fab=_0x4dd067[_0x5b74c7(0x13f)]('2d');for(var _0x1eb461 in _0x559926){var _0x190b30=_0x559926[_0x1eb461][_0x5b74c7(0x4b4)];if(!_0x225f93[_0x190b30])return;var _0x571941=undefined;if(_0x559926[_0x1eb461][_0x5b74c7(0x185)])_0x571941=_0x225f93[_0x190b30]['GetColorImage'](0x0,0xff,0x0,this[_0x5b74c7(0x2eb)]['r'],this[_0x5b74c7(0x2eb)]['g'],this[_0x5b74c7(0x2eb)]['b']);else _0x571941=_0x225f93[_0x190b30][_0x5b74c7(0x2dd)];if(!_0x571941||!_0x571941[_0x5b74c7(0x4ce)])return![];_0xc36fab[_0x5b74c7(0x1f7)](_0x571941,0x0,0x0);}var _0x571941=new Image();_0x571941[_0x5b74c7(0x298)]=_0x4dd067[_0x5b74c7(0x31b)](),_0x571941[_0x5b74c7(0xd6)]()['then'](()=>{var _0x2683ef=_0x5b74c7;console[_0x2683ef(0x2bb)](_0x2683ef(0x295)),this[_0x2683ef(0x414)]=!![];if(world[_0x2683ef(0x467)])world[_0x2683ef(0x467)][_0x2683ef(0x3c7)]=!![];if(world[_0x2683ef(0x1b7)])world['GameUI'][_0x2683ef(0x3c7)]=!![];}),this[_0x5b74c7(0x4b2)]=_0x571941;if(!_0x225f93[_0x5b74c7(0x427)]||!_0x225f93['hand'][_0x5b74c7(0x2dd)][_0x5b74c7(0x4ce)])return![];var _0x571941=_0x225f93['hand'][_0x5b74c7(0x176)](0x0,0xff,0x0,this['color']['r'],this['color']['g'],this[_0x5b74c7(0x2eb)]['b']);if(!_0x571941)return![];return this['handImg']=_0x571941,!![];},this['get_direction_from_pos']=_0x5bd1a5=>{var _0x27408d=_0x29a147;if(_0x5bd1a5[_0x27408d(0x25b)])_0x5bd1a5=_0x5bd1a5[_0x27408d(0x25b)];var _0x2777bb=Math[_0x27408d(0x2b7)](-(_0x5bd1a5['y']-this['y']-this[_0x27408d(0x17f)]/0x2+0.5),_0x5bd1a5['x']-this['x']-this[_0x27408d(0x17f)]/0x2+0.5);if(_0x2777bb>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0x2777bb>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0x2777bb>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0x2777bb>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0x2777bb>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0x2777bb>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0x2777bb>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0x2777bb>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0x2777bb>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x29a147(0x2c5)]=_0xa9e4f1=>{var _0xc280b=_0x29a147,_0x4dccd2=_0xa9e4f1[_0xc280b(0x25b)];if(!_0x4dccd2||_0x4dccd2['x']==undefined||_0x4dccd2['y']==undefined)return![];var _0x523f39=this[_0xc280b(0x32b)](_0x4dccd2);if(_0x523f39)this[_0xc280b(0x2ee)]=_0x523f39;else return![];return!![];},this['ChangePosition']=(_0x25a735,_0x3f96af)=>{var _0x4cd08a=_0x29a147;for(var _0x3e65a2=this['x'];_0x3e65a2<this['x']+this['size'];_0x3e65a2++)for(var _0x15728f=this['y'];_0x15728f<this['y']+this[_0x4cd08a(0x17f)];_0x15728f++)_0x3f96af['mapBlock'][_0x3e65a2][_0x15728f]['player']=undefined;for(var _0x3e65a2=_0x25a735['x'];_0x3e65a2<_0x25a735['x']+this['size'];_0x3e65a2++){for(var _0x15728f=_0x25a735['y'];_0x15728f<_0x25a735['y']+this[_0x4cd08a(0x17f)];_0x15728f++){_0x3f96af[_0x4cd08a(0x43e)][_0x3e65a2][_0x15728f][_0x4cd08a(0x143)]=this;}}this['x']=_0x25a735['x'],this['y']=_0x25a735['y'];},this[_0x29a147(0x1d8)]=_0x45e765=>{var _0x1c556c=_0x29a147;if(!_0x45e765||!_0x45e765['block']||_0x45e765[_0x1c556c(0x25b)]['x']==undefined||_0x45e765[_0x1c556c(0x25b)]['y']==undefined)return console[_0x1c556c(0x2bb)](_0x1c556c(0x4a1)),![];var _0x224cfb={'x':_0x45e765['block']['x'],'y':_0x45e765[_0x1c556c(0x25b)]['y']},_0x4ca499=world[_0x1c556c(0x14a)];if(_0x224cfb['x']+this['size']-0x1>=_0x4ca499[_0x1c556c(0x3a3)]||_0x224cfb['x']<0x0||_0x224cfb['y']<0x0||_0x224cfb['y']+this[_0x1c556c(0x17f)]-0x1>=_0x4ca499[_0x1c556c(0x21d)])return console[_0x1c556c(0x2bb)](_0x1c556c(0xca)),![];var _0x357efc;if(_0x224cfb['x']==this['x']-0x1&&_0x224cfb['y']>=this['y']&&this['y']+this[_0x1c556c(0x17f)]>_0x224cfb['y'])_0x224cfb['y']=this['y'],_0x357efc=_0x1c556c(0x1ef);else{if(_0x224cfb['y']==this['y']-0x1&&_0x224cfb['x']>=this['x']&&this['x']+this[_0x1c556c(0x17f)]>_0x224cfb['x'])_0x224cfb['x']=this['x'],_0x357efc=_0x1c556c(0xc2);else{if(_0x224cfb['x']==this['x']+this[_0x1c556c(0x17f)]&&_0x224cfb['y']>=this['y']&&this['y']+this[_0x1c556c(0x17f)]>_0x224cfb['y'])_0x224cfb['y']=this['y'],_0x224cfb['x']=this['x']+0x1,_0x357efc=_0x1c556c(0x255);else{if(_0x224cfb['y']==this['y']+this[_0x1c556c(0x17f)]&&_0x224cfb['x']>=this['x']&&this['x']+this[_0x1c556c(0x17f)]>_0x224cfb['x'])_0x224cfb['x']=this['x'],_0x224cfb['y']=this['y']+0x1,_0x357efc=_0x1c556c(0x1e8);else return console[_0x1c556c(0x2bb)](_0x1c556c(0x472)),![];}}}for(var _0x260087=_0x224cfb['x'];_0x260087<_0x224cfb['x']+this['size'];_0x260087++){for(var _0x1a62cd=_0x224cfb['y'];_0x1a62cd<_0x224cfb['y']+this[_0x1c556c(0x17f)];_0x1a62cd++){if(_0x4ca499[_0x1c556c(0x43e)][_0x260087][_0x1a62cd]['player']&&_0x4ca499[_0x1c556c(0x43e)][_0x260087][_0x1a62cd][_0x1c556c(0x143)]!=this)return console[_0x1c556c(0x2bb)](_0x1c556c(0x475)),![];}}var _0x17a52c=world[_0x1c556c(0x14a)][_0x1c556c(0xdd)]({'player':this,'dir':_0x357efc});if(_0x17a52c===![])return console[_0x1c556c(0x2bb)]('CheckMoveTo\x20:\x20invalid\x20cost'),![];return{'dir':_0x357efc,'cost':Math['floor'](_0x17a52c*this[_0x1c556c(0x35b)])};},this['GetMovePrice']=_0x385272=>{var _0x57a15d=_0x29a147,_0x4accc7=this['CheckMoveTo'](_0x385272);if(_0x4accc7)return _0x4accc7[_0x57a15d(0x212)];return![];},this[_0x29a147(0x272)]=_0x331ad5=>{var _0x62a9cb=_0x29a147,_0x2977d8=this[_0x62a9cb(0x1d8)](_0x331ad5);if(_0x2977d8)return _0x2977d8[_0x62a9cb(0x2ee)];return![];},this[_0x29a147(0x26d)]=_0x254eef=>{var _0x15fd5e=_0x29a147;if(!_0x254eef||!_0x254eef[_0x15fd5e(0x25b)]||_0x254eef['block']['x']==undefined||_0x254eef[_0x15fd5e(0x25b)]['y']==undefined)return![];var _0x183ab3=this['CheckMoveTo'](_0x254eef);if(_0x183ab3===![]||_0x183ab3['cost']>this[_0x15fd5e(0x277)])return![];var _0x246e1d=undefined;switch(_0x183ab3[_0x15fd5e(0x2ee)]){case _0x15fd5e(0x255):_0x246e1d=[0x1,0x0];break;case _0x15fd5e(0x1ef):_0x246e1d=[-0x1,0x0];break;case _0x15fd5e(0xc2):_0x246e1d=[0x0,-0x1];break;case _0x15fd5e(0x1e8):_0x246e1d=[0x0,0x1];break;default:console['log'](_0x15fd5e(0x472));return![];}this[_0x15fd5e(0x277)]-=_0x183ab3[_0x15fd5e(0x212)];var _0x4a04ed={'type':'moving','mode':PLAYER_ANIMATION_MOVING,'dir':_0x246e1d,'from':[this['x'],this['y']],'duration':0x1f4};this[_0x15fd5e(0x3f3)][_0x15fd5e(0x234)](_0x4a04ed),this['dir']=_0x246e1d;var _0xe1b1d7={'x':this['x']+_0x246e1d[0x0],'y':this['y']+_0x246e1d[0x1]};return this['ChangePosition'](_0xe1b1d7,world[_0x15fd5e(0x14a)]),!![];},this[_0x29a147(0x296)]=_0xba58e6=>{var _0x243e9d=_0x29a147;if(!_0xba58e6||!_0xba58e6[_0x243e9d(0x25b)])return _0x243e9d(0x3f6);var _0x42caf8=_0xba58e6[_0x243e9d(0x25b)];if(!_0x42caf8[_0x243e9d(0x143)]||_0x42caf8[_0x243e9d(0x143)]==this)return _0x243e9d(0x1da);var _0x705746=_0x42caf8['player'],_0x18afde=Math[_0x243e9d(0x2b7)](_0x705746[_0x243e9d(0x2ee)][0x1],_0x705746[_0x243e9d(0x2ee)][0x0]),_0x33b60a=Math[_0x243e9d(0x2b7)](this['y']-_0x705746['y'],this['x']-_0x705746['x']),_0x1b027c=_0x18afde-_0x33b60a;while(_0x1b027c>Math['PI'])_0x1b027c-=0x2*Math['PI'];while(_0x1b027c<-Math['PI'])_0x1b027c+=0x2*Math['PI'];_0x1b027c=Math[_0x243e9d(0x196)](_0x1b027c);var _0x105787=0x28+(0x50-0x28)*(_0x1b027c/Math['PI']);return Math['floor'](_0x105787*0x64)/0x64;},this[_0x29a147(0x418)]=_0x4f3cc8=>{var _0x1075cf=_0x29a147;if(!_0x4f3cc8||!_0x4f3cc8[_0x1075cf(0x25b)])return![];var _0x45f38e=undefined,_0x521c70=[];if(this[_0x1075cf(0xbd)]){if(this[_0x1075cf(0x277)]<this[_0x1075cf(0xbd)][_0x1075cf(0x186)])return![];world[_0x1075cf(0x3b5)][_0x1075cf(0x326)][_0x1075cf(0x413)]({'type':this['team'],'txt':this[_0x1075cf(0x4b4)]+'\x20is\x20attacking\x20with\x20'+this[_0x1075cf(0xbd)][_0x1075cf(0x4b4)]});for(var _0xa533b7 in this['weapon'][_0x1075cf(0x20f)]){var _0x3fd455=this[_0x1075cf(0xbd)][_0x1075cf(0x20f)][_0xa533b7],_0x143d68={..._0x4f3cc8};_0x143d68[_0x1075cf(0x12d)]=_0x3fd455[_0x1075cf(0x476)];var _0x4839af=this[_0x3fd455['callback']](_0x143d68);console[_0x1075cf(0x2bb)](_0x1075cf(0x4a9)+_0xa533b7),console[_0x1075cf(0x2bb)](_0x1075cf(0x381)+_0x3fd455[_0x1075cf(0x291)]);if(!_0x4839af||_0x4839af[_0x1075cf(0x1c7)]<0x1)continue;console[_0x1075cf(0x2bb)](_0x1075cf(0x1dc)+_0x4839af[_0x1075cf(0x1c7)]),_0x521c70[_0x1075cf(0x234)]({'blocks':_0x4839af,'damage':_0x3fd455[_0x1075cf(0x30f)]});}}else{if(this[_0x1075cf(0x277)]<AP_COST_NOWEAPON)return![];world['players'][_0x1075cf(0x326)][_0x1075cf(0x413)]({'type':this[_0x1075cf(0x2b1)],'txt':this['name']+_0x1075cf(0x4ab)}),_0x521c70=[{'blocks':[_0x4f3cc8[_0x1075cf(0x25b)]],'damage':[{'stats':_0x1075cf(0x1ee),'type':_0x1075cf(0xff),'value':0x1}]}];}for(var _0xa533b7 in _0x521c70){var _0x5a641c=_0x521c70[_0xa533b7],_0x1417b6=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x5a641c['damage']}),_0x22d707=!![];if(!_0x1417b6||_0x1417b6[_0x1075cf(0x1c7)]<0x1)continue;for(var _0x278670 in _0x5a641c[_0x1075cf(0x44d)]){var _0x460755=_0x5a641c['blocks'][_0x278670];if(!_0x460755||!_0x460755['player'])continue;var _0x1fd888=this[_0x1075cf(0x296)]({'block':_0x460755}),_0x16bbbc=!![];if(Math['floor'](Math[_0x1075cf(0x366)]()*0x64)>_0x1fd888)_0x16bbbc=![];if(_0x16bbbc)_0x22d707=![],_0x460755[_0x1075cf(0x143)]['receive_attack'](_0x1417b6);else{world['players'][_0x1075cf(0x326)][_0x1075cf(0x413)]({'txt':this['name']+'\x20missed\x20attack\x20('+_0x1fd888+'%)'});var _0x8eaac8={'type':_0x1075cf(0x256),'mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x1075cf(0x366)]()*0x2*Math['PI']};_0x460755[_0x1075cf(0x143)][_0x1075cf(0x3f3)]['push'](_0x8eaac8);}}}var _0x21cf52={'type':'attack','mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0x4f3cc8[_0x1075cf(0x25b)]['x'],_0x4f3cc8[_0x1075cf(0x25b)]['y']],'from':[this['x'],this['y']],'duration':0x1f4};this[_0x1075cf(0xbd)]&&this[_0x1075cf(0xbd)]['projectil']&&(_0x21cf52[_0x1075cf(0x30d)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0x4f3cc8['block']['x']+0.5,'y':_0x4f3cc8[_0x1075cf(0x25b)]['y']+0.5},'projectilName':this[_0x1075cf(0xbd)][_0x1075cf(0x30d)]['ammo']?this['weapon']['projectil'][_0x1075cf(0x34f)]:undefined,'projectilSpeed':this[_0x1075cf(0xbd)][_0x1075cf(0x30d)]['projectilSpeed']?this[_0x1075cf(0xbd)][_0x1075cf(0x30d)][_0x1075cf(0x23e)]:0x32,'sound':this[_0x1075cf(0xbd)][_0x1075cf(0x30d)][_0x1075cf(0x23a)]&&!_0x22d707?this[_0x1075cf(0xbd)][_0x1075cf(0x30d)][_0x1075cf(0x23a)]:undefined});this[_0x1075cf(0x3f3)][_0x1075cf(0x234)](_0x21cf52);if(this[_0x1075cf(0xbd)]){var _0x1cc3ea=PLAYER_WEAPON_IMG['find'](_0x275854=>_0x275854[_0x1075cf(0x4b4)]==this[_0x1075cf(0xbd)][_0x1075cf(0x2dd)]);world[_0x1075cf(0x10d)][_0x1075cf(0x265)](_0x1cc3ea[_0x1075cf(0x23a)]),this[_0x1075cf(0x277)]-=this[_0x1075cf(0xbd)][_0x1075cf(0x186)];}else world[_0x1075cf(0x10d)]['playSound'](_0x1075cf(0x3b1)),this[_0x1075cf(0x277)]-=AP_COST_NOWEAPON;return this[_0x1075cf(0x2ee)]=this['get_direction_from_pos'](_0x4f3cc8[_0x1075cf(0x25b)]),!![];},this['drawPlayer']=(_0x1431d8,_0x5a92f5,_0x36156d,_0x1b5655)=>{var _0x5f007f=_0x29a147,_0x1a36ea=new Date()[_0x5f007f(0x3f8)]();while(this[_0x5f007f(0x3f3)]&&this[_0x5f007f(0x3f3)][0x0]){!this['animation'][0x0][_0x5f007f(0x28f)]&&(this['animation'][0x0][_0x5f007f(0x28f)]=new Date()[_0x5f007f(0x3f8)]());if(_0x1a36ea>this['animation'][0x0][_0x5f007f(0x28f)]+this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x401)]){if(this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x30d)])world[_0x5f007f(0x3b5)][_0x5f007f(0x3f7)](this[_0x5f007f(0x3f3)][0x0]['projectil']);this[_0x5f007f(0x3f3)][_0x5f007f(0x320)](),this[_0x5f007f(0x343)]=!![];}else break;}if(!this[_0x5f007f(0x414)]||!this[_0x5f007f(0x4b2)])return![];if(this[_0x5f007f(0xbd)]){var _0x4ea550=world[_0x5f007f(0x379)][this[_0x5f007f(0xbd)][_0x5f007f(0x4b4)]],_0x279fc3=PLAYER_WEAPON_IMG[_0x5f007f(0x1bb)](_0x1dc2b4=>_0x1dc2b4[_0x5f007f(0x4b4)]==this[_0x5f007f(0xbd)]['img']);if(!_0x4ea550||!_0x279fc3)return console[_0x5f007f(0x2bb)](_0x5f007f(0x406)+this[_0x5f007f(0xbd)][_0x5f007f(0x4b4)]);_0x279fc3=_0x279fc3[_0x5f007f(0xbb)];}if(!this[_0x5f007f(0x3f3)]||!this['animation'][0x0]){var _0x416118=Math[_0x5f007f(0x220)](_0x5a92f5+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=Math[_0x5f007f(0x220)](_0x36156d+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0xed)]/0x2),_0x499a3c=Math[_0x5f007f(0x2b7)](this[_0x5f007f(0x2ee)][0x0],-this[_0x5f007f(0x2ee)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x5f007f(0x404)](_0x1a36ea/0x1f4));_0x1431d8[_0x5f007f(0x23b)](this['bodyPartImg'],_0x416118,_0xca7609,_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)],_0x499a3c);var _0x26985e=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math['cos'](_0x1a36ea/0x12c)),_0x20f738=Math['floor'](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](_0x26985e+_0x499a3c-Math['PI']/0x2)),_0x3ab031=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0xbf)](_0x26985e+_0x499a3c-Math['PI']/0x2)),_0x4569ac=Math['floor'](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](-_0x26985e+_0x499a3c+Math['PI']/0x2)),_0x5e6f27=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0xbf)](-_0x26985e+_0x499a3c+Math['PI']/0x2));_0x1431d8[_0x5f007f(0x23b)](this['handImg'],_0x416118+_0x20f738,_0xca7609+_0x3ab031,_0x1b5655[_0x5f007f(0x396)],_0x26985e+_0x499a3c);if(this[_0x5f007f(0xbd)])_0x1431d8[_0x5f007f(0x2c2)](_0x4ea550['img'],_0x416118+_0x4569ac,_0xca7609+_0x5e6f27,_0x279fc3['x'],_0x279fc3['y'],_0x1b5655[_0x5f007f(0x396)],-_0x26985e+_0x499a3c);_0x1431d8['drawImageMirrorRotateCenter'](this[_0x5f007f(0x2c6)],_0x416118+_0x4569ac,_0xca7609+_0x5e6f27,0x14,0x14,-_0x1b5655['scale'],+_0x26985e-_0x499a3c);}else{if(this[_0x5f007f(0x3f3)]&&this[_0x5f007f(0x3f3)][0x0]&&this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x21c)]==PLAYER_ANIMATION_MOVING){var _0x22ae61=this['animation'][0x0];pos=_0x1b5655[_0x5f007f(0x170)](_0x22ae61[_0x5f007f(0x3eb)][0x0]+_0x22ae61[_0x5f007f(0x2ee)][0x0],_0x22ae61['from'][0x1]+_0x22ae61[_0x5f007f(0x2ee)][0x1]);var _0x416118=Math['floor'](pos['x']+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=Math[_0x5f007f(0x220)](pos['y']+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0xed)]/0x2);world[_0x5f007f(0x10d)][_0x5f007f(0x265)](_0x5f007f(0x389));var _0x32a949=[this['animation'][0x0][_0x5f007f(0x2ee)][0x0],this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x2ee)][0x1]],_0x1a3e9b=0x1-(_0x1a36ea-this[_0x5f007f(0x3f3)][0x0]['startTime'])/this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x401)];_0x416118-=_0x32a949[0x0]*_0x1b5655[_0x5f007f(0x21b)]*_0x1a3e9b,_0xca7609-=_0x32a949[0x1]*_0x1b5655[_0x5f007f(0xed)]*_0x1a3e9b;var _0x499a3c=Math[_0x5f007f(0x2b7)](_0x32a949[0x0],-_0x32a949[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math[_0x5f007f(0x404)](_0x1a36ea/0x64));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x4b2)],_0x416118,_0xca7609,_0x1b5655['scale']*this[_0x5f007f(0x17f)],_0x499a3c);var _0x2a3078=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x5f007f(0x404)](_0x1a36ea/0x64))+_0x499a3c,_0x74ceee=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0x5f007f(0xbf)](_0x1a36ea/0x64))-_0x499a3c,_0x20f738=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](_0x2a3078-Math['PI']/0x2)),_0x3ab031=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0xbf)](_0x2a3078-Math['PI']/0x2)),_0x2eade4=Math['floor'](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](_0x74ceee-Math['PI']/0x2)),_0x15c690=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math['sin'](_0x74ceee-Math['PI']/0x2));_0x1431d8['drawImageRotate'](this['handImg'],_0x416118+_0x20f738,_0xca7609+_0x3ab031,_0x1b5655[_0x5f007f(0x396)],_0x2a3078);if(this[_0x5f007f(0xbd)])_0x1431d8[_0x5f007f(0x2c2)](_0x4ea550[_0x5f007f(0x2dd)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,_0x279fc3['x'],_0x279fc3['y'],_0x1b5655[_0x5f007f(0x396)],-_0x74ceee);_0x1431d8[_0x5f007f(0x436)](this[_0x5f007f(0x2c6)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,0x14,0x14,_0x1b5655[_0x5f007f(0x396)],_0x74ceee+Math['PI']);}else{if(this[_0x5f007f(0x3f3)]&&this[_0x5f007f(0x3f3)][0x0]&&this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x21c)]==PLAYER_ANIMATION_DODGE){var _0x22ae61=this[_0x5f007f(0x3f3)][0x0],_0x1a3e9b=0x1-(_0x1a36ea-_0x22ae61[_0x5f007f(0x28f)])/_0x22ae61['duration'];_0x1a3e9b=_0x1a3e9b<0.5?0x0:_0x1a3e9b>0.75?0x1-(_0x1a3e9b-0.5)*0x2:(_0x1a3e9b-0.5)*0x2;var _0x2f122a=_0x1a3e9b*Math[_0x5f007f(0x404)](_0x22ae61[_0x5f007f(0x1c5)])*0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)],_0x4e7d8f=_0x1a3e9b*Math[_0x5f007f(0xbf)](_0x22ae61[_0x5f007f(0x1c5)])*0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)],_0x416118=_0x2f122a+Math['floor'](_0x5a92f5+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=_0x4e7d8f+Math[_0x5f007f(0x220)](_0x36156d+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0xed)]/0x2),_0x499a3c=Math[_0x5f007f(0x2b7)](this['dir'][0x0],-this['dir'][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math['cos'](_0x1a36ea/0x1f4));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x4b2)],_0x416118,_0xca7609,_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)],_0x499a3c);var _0x26985e=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0x5f007f(0x404)](_0x1a36ea/0x12c)),_0x20f738=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](_0x26985e+_0x499a3c-Math['PI']/0x2)),_0x3ab031=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0xbf)](_0x26985e+_0x499a3c-Math['PI']/0x2)),_0x4569ac=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](-_0x26985e+_0x499a3c+Math['PI']/0x2)),_0x5e6f27=Math['floor'](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0xbf)](-_0x26985e+_0x499a3c+Math['PI']/0x2));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x2c6)],_0x416118+_0x20f738,_0xca7609+_0x3ab031,_0x1b5655[_0x5f007f(0x396)],_0x26985e+_0x499a3c);if(this[_0x5f007f(0xbd)])_0x1431d8['drawImageRotateCenter'](_0x4ea550[_0x5f007f(0x2dd)],_0x416118+_0x4569ac,_0xca7609+_0x5e6f27,_0x279fc3['x'],_0x279fc3['y'],_0x1b5655[_0x5f007f(0x396)],-_0x26985e+_0x499a3c);_0x1431d8[_0x5f007f(0x436)](this[_0x5f007f(0x2c6)],_0x416118+_0x4569ac,_0xca7609+_0x5e6f27,0x14,0x14,-_0x1b5655[_0x5f007f(0x396)],+_0x26985e-_0x499a3c);}else{if(this['animation']&&this[_0x5f007f(0x3f3)][0x0]&&this[_0x5f007f(0x3f3)][0x0]['mode']==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this['weapon']){pos=_0x1b5655['get_pixel_by_block'](this['animation'][0x0][_0x5f007f(0x3eb)][0x0],this['animation'][0x0]['from'][0x1]);var _0x416118=Math[_0x5f007f(0x220)](pos['x']+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=Math[_0x5f007f(0x220)](pos['y']+this['size']*_0x1b5655[_0x5f007f(0xed)]/0x2),_0x32a949=[this[_0x5f007f(0x3f3)][0x0]['dir'][0x0]-(this['x']+this[_0x5f007f(0x17f)]/0x2)+0.5,this[_0x5f007f(0x3f3)][0x0]['dir'][0x1]-(this['y']+this[_0x5f007f(0x17f)]/0x2)+0.5],_0x1a3e9b=0x1-(_0x1a36ea-this[_0x5f007f(0x3f3)][0x0]['startTime'])/this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x401)];if(_0x1a3e9b>0.5)_0x1a3e9b=0x1-_0x1a3e9b;_0x416118+=_0x32a949[0x0]*_0x1b5655[_0x5f007f(0x21b)]*_0x1a3e9b/0x2,_0xca7609+=_0x32a949[0x1]*_0x1b5655[_0x5f007f(0xed)]*_0x1a3e9b/0x2;var _0x499a3c=Math['atan2'](_0x32a949[0x0],-_0x32a949[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math['cos'](_0x1a36ea/0x64));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x4b2)],_0x416118,_0xca7609,_0x1b5655[_0x5f007f(0x396)]*this['size'],_0x499a3c);var _0x2a3078=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x5f007f(0x404)](_0x1a36ea/0x64))+_0x499a3c,_0x74ceee=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x5f007f(0xbf)](_0x1a36ea/0x64))-_0x499a3c,_0x20f738=Math['floor'](0x64*_0x1b5655[_0x5f007f(0x396)]*this['size']*Math[_0x5f007f(0x404)](_0x2a3078-Math['PI']/0x2)),_0x3ab031=Math['floor'](0x64*_0x1b5655[_0x5f007f(0x396)]*this['size']*Math[_0x5f007f(0xbf)](_0x2a3078-Math['PI']/0x2)),_0x2eade4=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this['size']*Math[_0x5f007f(0x404)](_0x74ceee-Math['PI']/0x2)),_0x15c690=Math['floor'](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math['sin'](_0x74ceee-Math['PI']/0x2));_0x1431d8['drawImageRotate'](this[_0x5f007f(0x2c6)],_0x416118+_0x20f738,_0xca7609+_0x3ab031,_0x1b5655[_0x5f007f(0x396)],_0x2a3078),_0x1431d8[_0x5f007f(0x436)](this['handImg'],_0x416118+_0x2eade4,_0xca7609-_0x15c690,0x14,0x14,_0x1b5655[_0x5f007f(0x396)],_0x74ceee+Math['PI']);}else{if(this[_0x5f007f(0xbd)][_0x5f007f(0x1ab)]==_0x5f007f(0x3e1)){pos=_0x1b5655['get_pixel_by_block'](this['animation'][0x0][_0x5f007f(0x3eb)][0x0],this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x3eb)][0x1]);var _0x416118=Math[_0x5f007f(0x220)](pos['x']+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=Math['floor'](pos['y']+this['size']*_0x1b5655[_0x5f007f(0xed)]/0x2),_0x32a949=[this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x2ee)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0x5f007f(0x3f3)][0x0]['dir'][0x1]-(this['y']+this['size']/0x2)+0.5],_0x1a3e9b=0x1-(_0x1a36ea-this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x28f)])/this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x401)];if(_0x1a3e9b>0.5)_0x1a3e9b=0x1-_0x1a3e9b;_0x416118+=_0x32a949[0x0]*_0x1b5655[_0x5f007f(0x21b)]*_0x1a3e9b,_0xca7609+=_0x32a949[0x1]*_0x1b5655[_0x5f007f(0xed)]*_0x1a3e9b;var _0x499a3c=Math[_0x5f007f(0x2b7)](_0x32a949[0x0],-_0x32a949[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0x5f007f(0x404)](_0x1a36ea/0x64));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x4b2)],_0x416118,_0xca7609,_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)],_0x499a3c);var _0x2a3078=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0x5f007f(0x404)](_0x1a36ea/0x64))+_0x499a3c,_0x74ceee=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0x5f007f(0xbf)](_0x1a36ea/0x64))-_0x499a3c,_0x20f738=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math['cos'](_0x2a3078-Math['PI']/0x2)),_0x3ab031=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math['sin'](_0x2a3078-Math['PI']/0x2)),_0x2eade4=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this['size']*Math['cos'](_0x74ceee-Math['PI']/0x2)),_0x15c690=Math['floor'](0x64*_0x1b5655[_0x5f007f(0x396)]*this['size']*Math['sin'](_0x74ceee-Math['PI']/0x2));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x2c6)],_0x416118+_0x20f738,_0xca7609+_0x3ab031,_0x1b5655[_0x5f007f(0x396)],_0x2a3078);if(this[_0x5f007f(0xbd)])_0x1431d8['drawImageRotateCenter'](_0x4ea550[_0x5f007f(0x2dd)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,_0x279fc3['x'],_0x279fc3['y'],_0x1b5655[_0x5f007f(0x396)],-_0x74ceee);_0x1431d8[_0x5f007f(0x436)](this[_0x5f007f(0x2c6)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,0x14,0x14,_0x1b5655[_0x5f007f(0x396)],_0x74ceee+Math['PI']);}else{if(this[_0x5f007f(0xbd)][_0x5f007f(0x1ab)]==_0x5f007f(0x321)){pos=_0x1b5655[_0x5f007f(0x170)](this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x3eb)][0x0],this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x3eb)][0x1]);var _0x416118=Math[_0x5f007f(0x220)](pos['x']+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=Math['floor'](pos['y']+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0xed)]/0x2),_0x32a949=[this[_0x5f007f(0x3f3)][0x0]['dir'][0x0]-(this['x']+this[_0x5f007f(0x17f)]/0x2)+0.5,this['animation'][0x0][_0x5f007f(0x2ee)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x1a3e9b=0x1-(_0x1a36ea-this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x28f)])/this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x401)];if(_0x1a3e9b>0.5)_0x1a3e9b=0x1-_0x1a3e9b;var _0x499a3c=Math[_0x5f007f(0x2b7)](_0x32a949[0x0],-_0x32a949[0x1])-Math['PI']/0x2;_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x4b2)],_0x416118,_0xca7609,_0x1b5655['scale']*this[_0x5f007f(0x17f)],_0x499a3c);var _0x2a3078=Math['PI']*0x7/0x10+_0x499a3c,_0x74ceee=Math['PI']*0x7/0x10-_0x499a3c,_0x20f738=Math[_0x5f007f(0x220)](0x64*(0x1-_0x1a3e9b)*_0x1b5655['scale']*this['size']*Math[_0x5f007f(0x404)](_0x2a3078-Math['PI']/0x2)),_0x3ab031=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math['sin'](_0x2a3078-Math['PI']/0x2)),_0x2eade4=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](_0x74ceee-Math['PI']/0x2)),_0x15c690=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math['sin'](_0x74ceee-Math['PI']/0x2));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x2c6)],_0x416118+_0x20f738,_0xca7609+_0x3ab031,_0x1b5655[_0x5f007f(0x396)],_0x2a3078);if(this['weapon'])_0x1431d8[_0x5f007f(0x2c2)](_0x4ea550[_0x5f007f(0x2dd)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,_0x279fc3['x'],_0x279fc3['y'],_0x1b5655['scale'],-_0x74ceee);_0x1431d8[_0x5f007f(0x436)](this[_0x5f007f(0x2c6)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,0x14,0x14,_0x1b5655['scale'],_0x74ceee+Math['PI']);}else{if(this['weapon'][_0x5f007f(0x1ab)]==_0x5f007f(0x337)){pos=_0x1b5655[_0x5f007f(0x170)](this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x3eb)][0x0],this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x3eb)][0x1]);var _0x416118=Math[_0x5f007f(0x220)](pos['x']+this['size']*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=Math['floor'](pos['y']+this['size']*_0x1b5655['blocksize_y']/0x2),_0x32a949=[this[_0x5f007f(0x3f3)][0x0]['dir'][0x0]-(this['x']+this[_0x5f007f(0x17f)]/0x2)+0.5,this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x2ee)][0x1]-(this['y']+this[_0x5f007f(0x17f)]/0x2)+0.5],_0x1a3e9b=0x1-(_0x1a36ea-this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x28f)])/this[_0x5f007f(0x3f3)][0x0]['duration'];if(_0x1a3e9b>0.5)_0x1a3e9b=0x1-_0x1a3e9b;_0x1a3e9b=_0x1a3e9b/0x3,_0x416118+=_0x32a949[0x0]*_0x1b5655['blocksize_x']*_0x1a3e9b,_0xca7609+=_0x32a949[0x1]*_0x1b5655[_0x5f007f(0xed)]*_0x1a3e9b;var _0x499a3c=Math[_0x5f007f(0x2b7)](_0x32a949[0x0],-_0x32a949[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0x5f007f(0x404)](_0x1a36ea/0x64));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x4b2)],_0x416118,_0xca7609,_0x1b5655['scale']*this[_0x5f007f(0x17f)],_0x499a3c);var _0x2a3078=getAngleFromTime(0x0,Math['PI']/0x40,Math[_0x5f007f(0x404)](_0x1a36ea/0x64))+_0x499a3c,_0x74ceee=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math[_0x5f007f(0xbf)]((_0x1a36ea-this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x28f)])/this[_0x5f007f(0x3f3)][0x0]['duration']*1.1*Math['PI']))-_0x499a3c,_0x20f738=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0x404)](_0x2a3078-Math['PI']/0x2)),_0x3ab031=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0xbf)](_0x2a3078-Math['PI']/0x2)),_0x2eade4=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this['size']*Math[_0x5f007f(0x404)](_0x74ceee-Math['PI']/0x2)),_0x15c690=Math[_0x5f007f(0x220)](0x64*_0x1b5655[_0x5f007f(0x396)]*this[_0x5f007f(0x17f)]*Math[_0x5f007f(0xbf)](_0x74ceee-Math['PI']/0x2));_0x1431d8[_0x5f007f(0x23b)](this[_0x5f007f(0x2c6)],_0x416118+_0x20f738,_0xca7609+_0x3ab031,_0x1b5655[_0x5f007f(0x396)],_0x2a3078);if(this[_0x5f007f(0xbd)])_0x1431d8[_0x5f007f(0x2c2)](_0x4ea550[_0x5f007f(0x2dd)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,_0x279fc3['x'],_0x279fc3['y'],_0x1b5655[_0x5f007f(0x396)],_0x499a3c-Math['PI']/0x6);_0x1431d8[_0x5f007f(0x436)](this['handImg'],_0x416118+_0x2eade4,_0xca7609-_0x15c690,0x14,0x14,_0x1b5655[_0x5f007f(0x396)],_0x74ceee+Math['PI']);}else{if(this[_0x5f007f(0xbd)][_0x5f007f(0x1ab)]==_0x5f007f(0x27f)){pos=_0x1b5655[_0x5f007f(0x170)](this[_0x5f007f(0x3f3)][0x0]['from'][0x0],this['animation'][0x0][_0x5f007f(0x3eb)][0x1]);var _0x416118=Math[_0x5f007f(0x220)](pos['x']+this[_0x5f007f(0x17f)]*_0x1b5655[_0x5f007f(0x21b)]/0x2),_0xca7609=Math[_0x5f007f(0x220)](pos['y']+this['size']*_0x1b5655['blocksize_y']/0x2),_0x32a949=[this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x2ee)][0x0]-(this['x']+this[_0x5f007f(0x17f)]/0x2)+0.5,this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x2ee)][0x1]-(this['y']+this[_0x5f007f(0x17f)]/0x2)+0.5],_0x1a3e9b=0x1-(_0x1a36ea-this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x28f)])/this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x401)];if(_0x1a3e9b>0.5)_0x1a3e9b=0x1-_0x1a3e9b;_0x1a3e9b=_0x1a3e9b/0x3,_0x416118+=_0x32a949[0x0]*_0x1b5655[_0x5f007f(0x21b)]*_0x1a3e9b,_0xca7609+=_0x32a949[0x1]*_0x1b5655[_0x5f007f(0xed)]*_0x1a3e9b;var _0x499a3c=Math[_0x5f007f(0x2b7)](_0x32a949[0x0],-_0x32a949[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math[_0x5f007f(0x404)]((_0x1a36ea-this[_0x5f007f(0x3f3)][0x0][_0x5f007f(0x28f)])/this['animation'][0x0][_0x5f007f(0x401)]*0x1*Math['PI']));_0x1431d8[_0x5f007f(0x23b)](this['bodyPartImg'],_0x416118,_0xca7609,_0x1b5655[_0x5f007f(0x396)]*this['size'],_0x499a3c);var _0x74ceee=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math[_0x5f007f(0x404)]((_0x1a36ea-this['animation'][0x0][_0x5f007f(0x28f)])/this[_0x5f007f(0x3f3)][0x0]['duration']*0x1*Math['PI']))-_0x499a3c,_0x2a3078=_0x74ceee-Math['PI']/0x20,_0x20f738=Math['floor'](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math['cos'](_0x2a3078-Math['PI']/0x2)),_0x3ab031=Math['floor'](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math['sin'](_0x2a3078-Math['PI']/0x2)),_0x2eade4=Math['floor'](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math['cos'](_0x74ceee-Math['PI']/0x2)),_0x15c690=Math[_0x5f007f(0x220)](0x64*_0x1b5655['scale']*this[_0x5f007f(0x17f)]*Math['sin'](_0x74ceee-Math['PI']/0x2));_0x1431d8['drawImageMirrorRotateCenter'](this[_0x5f007f(0x2c6)],_0x416118+_0x20f738,_0xca7609-_0x3ab031,0x14,0x14,_0x1b5655[_0x5f007f(0x396)],_0x2a3078+Math['PI']);if(this[_0x5f007f(0xbd)])_0x1431d8[_0x5f007f(0x2c2)](_0x4ea550['img'],_0x416118+_0x2eade4,_0xca7609-_0x15c690,_0x279fc3['x'],_0x279fc3['y'],_0x1b5655[_0x5f007f(0x396)],-_0x74ceee);_0x1431d8[_0x5f007f(0x436)](this[_0x5f007f(0x2c6)],_0x416118+_0x2eade4,_0xca7609-_0x15c690,0x14,0x14,_0x1b5655[_0x5f007f(0x396)],_0x74ceee+Math['PI']);}}}}}}}}}},this['get_next_block_accessible']=(_0x46f445,_0x3c6496,_0xbc30f6,_0x5c8f51)=>{var _0x2bbe5c=_0x29a147,_0x5ae91e=[{'x':_0xbc30f6['x']+0x1,'y':_0xbc30f6['y']},{'x':_0xbc30f6['x']-0x1,'y':_0xbc30f6['y']},{'x':_0xbc30f6['x'],'y':_0xbc30f6['y']-0x1},{'x':_0xbc30f6['x'],'y':_0xbc30f6['y']+0x1}];_0x5ae91e=_0x5ae91e['filter'](_0x27d1f2=>world['map']['mapBlock'][_0x27d1f2['x']]&&world['map'][_0x2bbe5c(0x43e)][_0x27d1f2['x']][_0x27d1f2['y']]),_0x5ae91e=_0x5ae91e[_0x2bbe5c(0x368)](_0x3736fa=>!world[_0x2bbe5c(0x14a)]['mapBlock'][_0x3736fa['x']][_0x3736fa['y']]['player']&&world[_0x2bbe5c(0x14a)][_0x2bbe5c(0x43e)][_0x3736fa['x']][_0x3736fa['y']][_0x2bbe5c(0x329)]());for(var _0x4da2b9 in _0x5ae91e){var _0x12dae8=_0x5ae91e[_0x4da2b9]['x'],_0x3f73b4=_0x5ae91e[_0x4da2b9]['y'],_0x2fc7e1=world[_0x2bbe5c(0x14a)][_0x2bbe5c(0x43e)][_0x12dae8][_0x3f73b4],_0x1f4713=_0x2fc7e1[_0x2bbe5c(0x329)]()*this[_0x2bbe5c(0x35b)];if(_0x1f4713>_0x3c6496)continue;var _0x4062ef=_0x46f445[_0x2bbe5c(0x33f)]['find'](_0x5a7cae=>_0x5a7cae['x']==_0x12dae8&&_0x5a7cae['y']==_0x3f73b4&&_0x3c6496-_0x1f4713<_0x5a7cae['AP']);if(!_0x4062ef){_0x46f445[_0x2bbe5c(0x33f)]=_0x46f445[_0x2bbe5c(0x33f)]['filter'](_0xd0f039=>!(_0xd0f039['x']==_0x12dae8&&_0xd0f039['y']==_0x3f73b4));if(!_0x46f445[_0x2bbe5c(0x33f)])continue;var _0x35e987={'x':_0x12dae8,'y':_0x3f73b4,'AP':_0x3c6496-_0x1f4713,'path':_0x5c8f51[_0x2bbe5c(0x274)]([_0x5ae91e[_0x4da2b9]])};_0x46f445[_0x2bbe5c(0x33f)][_0x2bbe5c(0x234)](_0x35e987),this['get_next_block_accessible'](_0x46f445,_0x35e987['AP'],_0x5ae91e[_0x4da2b9],_0x35e987[_0x2bbe5c(0x17b)]);}}},this[_0x29a147(0x372)]=()=>{var _0x5afc52=_0x29a147,_0x461b68={'list':[{'x':this['x'],'y':this['y'],'AP':this[_0x5afc52(0x277)],'path':[]}]};return this[_0x5afc52(0x2b8)](_0x461b68,this[_0x5afc52(0x277)],this,[]),_0x461b68['list'];},this[_0x29a147(0x167)]=(_0x580684,_0x99e96c,_0x4be161)=>{var _0x1496a6=_0x29a147;if(!_0x580684||!_0x99e96c||_0x580684[_0x1496a6(0x1c7)]>0x32)return undefined;var _0x18455c=_0x580684[_0x580684['length']-0x1];if(_0x18455c['x']==_0x99e96c['x']&&_0x18455c['y']==_0x99e96c['y'])return _0x580684;var _0x4b677d=[{'x':_0x18455c['x']+0x1,'y':_0x18455c['y']},{'x':_0x18455c['x']-0x1,'y':_0x18455c['y']},{'x':_0x18455c['x'],'y':_0x18455c['y']-0x1},{'x':_0x18455c['x'],'y':_0x18455c['y']+0x1}];_0x4b677d=_0x4b677d[_0x1496a6(0x368)](_0x2d2eeb=>world[_0x1496a6(0x14a)]['mapBlock'][_0x2d2eeb['x']]&&world[_0x1496a6(0x14a)]['mapBlock'][_0x2d2eeb['x']][_0x2d2eeb['y']]),_0x4b677d=_0x4b677d['filter'](_0x117978=>!(world[_0x1496a6(0x14a)][_0x1496a6(0x43e)][_0x117978['x']][_0x117978['y']][_0x1496a6(0x143)]&&_0x117978['x']!=_0x99e96c['x']&&_0x117978['y']!=_0x99e96c['y'])&&world[_0x1496a6(0x14a)][_0x1496a6(0x43e)][_0x117978['x']][_0x117978['y']]['getMoveCost']()),_0x4b677d=_0x4b677d[_0x1496a6(0x368)](_0x59f92c=>!_0x580684[_0x1496a6(0x1bb)](_0x147c12=>_0x147c12['x']==_0x59f92c['x']&&_0x147c12['y']==_0x59f92c['y']));if(!_0x4b677d['length'])return undefined;_0x4b677d[_0x1496a6(0x1f2)]((_0xb7c6db,_0x225b8d)=>{var _0x411955=_0x1496a6,_0x41be70=distBlockNoDiagonal(_0xb7c6db['x'],_0xb7c6db['y'],_0x99e96c['x'],_0x99e96c['y']),_0x4bd3d3=world['map'][_0x411955(0x43e)][_0xb7c6db['x']][_0xb7c6db['y']][_0x411955(0x329)](),_0x4e38a5=distBlockNoDiagonal(_0x225b8d['x'],_0x225b8d['y'],_0x99e96c['x'],_0x99e96c['y']),_0x55ff8e=world['map']['mapBlock'][_0x225b8d['x']][_0x225b8d['y']][_0x411955(0x329)]();if(_0x41be70>_0x4e38a5)return 0x1;if(_0x41be70<_0x4e38a5)return-0x1;if(_0x4bd3d3>_0x55ff8e)return 0x1;if(_0x4bd3d3<_0x55ff8e)return-0x1;return 0x0;}),_0x4b677d[_0x1496a6(0x2a8)](_0x206323=>console['log']([_0x206323['x'],_0x206323['y']]));for(var _0x8e6c32 in _0x4b677d){var _0x115c21=_0x4b677d[_0x8e6c32]['x'],_0x88003b=_0x4b677d[_0x8e6c32]['y'],_0x36e317=world['map']['mapBlock'][_0x115c21][_0x88003b],_0x3878e0=this['get_next_path'](_0x580684[_0x1496a6(0x274)]([_0x4b677d[_0x8e6c32]]),_0x99e96c);if(_0x3878e0)return _0x3878e0;}return undefined;},this[_0x29a147(0x2be)]=()=>{var _0x44fceb=_0x29a147;console[_0x44fceb(0x2bb)](this['name']+_0x44fceb(0x4c9));var _0x519dd7=this[_0x44fceb(0x2cc)]['find'](_0x199101=>_0x199101[_0x44fceb(0x4b4)]==_0x44fceb(0xfb)),_0x15c32e=_0x519dd7[_0x44fceb(0x22d)](_0x519dd7[_0x44fceb(0x319)]);_0x15c32e=_0x15c32e[_0x44fceb(0x1bb)](_0x335590=>_0x335590['player']&&_0x335590[_0x44fceb(0x143)]['team']!=this[_0x44fceb(0x2b1)]);if(this[_0x44fceb(0x418)]({'block':_0x15c32e}))return![];var _0x461f69=world['players'][_0x44fceb(0x164)][_0x44fceb(0x368)](_0x590504=>_0x590504[_0x44fceb(0x2b1)]!=this[_0x44fceb(0x2b1)]);if(!_0x461f69||_0x461f69['length']<0x1)return!![];var _0x1bd6de=_0x461f69['sort']((_0x41eab6,_0x2cc5d1)=>{return dist(this['x'],this['y'],_0x41eab6['x'],_0x41eab6['y'])-dist(this['x'],this['y'],_0x2cc5d1['x'],_0x2cc5d1['y']);})[0x0],_0x30facc=this[_0x44fceb(0x372)]();for(var _0x2e888d in _0x30facc){var _0x431844=new Player(_0x30facc[_0x2e888d]['x'],_0x30facc[_0x2e888d]['y'],this[_0x44fceb(0x17f)],this[_0x44fceb(0x2eb)],this[_0x44fceb(0x2b1)]);_0x431844[_0x44fceb(0xbd)]=this[_0x44fceb(0xbd)],_0x431844[_0x44fceb(0x20c)]();var _0x25f441=_0x431844[_0x44fceb(0x2cc)][_0x44fceb(0x1bb)](_0x4b141e=>_0x4b141e['name']==_0x44fceb(0xfb)),_0x55b5a7=_0x25f441['zone_target_area'](_0x25f441[_0x44fceb(0x319)]);_0x55b5a7=_0x55b5a7[_0x44fceb(0x1bb)](_0x46a0ca=>_0x46a0ca[_0x44fceb(0x143)]&&_0x46a0ca[_0x44fceb(0x143)]!=this&&_0x46a0ca['player'][_0x44fceb(0x2b1)]!=this[_0x44fceb(0x2b1)]),_0x55b5a7&&(_0x30facc[_0x2e888d][_0x44fceb(0x33a)]=!![]);}var _0x275339=undefined,_0x3373ef=_0x30facc[_0x44fceb(0x368)](_0x592ac0=>_0x592ac0['canAttackHere']==!![]);if(_0x3373ef&&_0x3373ef[_0x44fceb(0x1c7)])_0x275339=_0x3373ef[_0x44fceb(0x1f2)]((_0xb1c0dd,_0x347214)=>{return _0x347214['AP']-_0xb1c0dd['AP'];})[0x0],_0x275339=_0x30facc['find'](_0x2bf14f=>_0x2bf14f['x']==_0x275339['x']&&_0x2bf14f['y']==_0x275339['y']);else{var _0x25cc64=_0x30facc[_0x44fceb(0x1f2)]((_0x1b3925,_0x51ad3c)=>{return dist(_0x1bd6de['x'],_0x1bd6de['y'],_0x1b3925['x'],_0x1b3925['y'])-dist(_0x1bd6de['x'],_0x1bd6de['y'],_0x51ad3c['x'],_0x51ad3c['y']);})[0x0],_0x55fdbc=dist(_0x25cc64['x'],_0x25cc64['y'],_0x1bd6de['x'],_0x1bd6de['y']),_0x275339=_0x30facc[_0x44fceb(0x368)](_0x2ff0ff=>dist(_0x2ff0ff['x'],_0x2ff0ff['y'],_0x1bd6de['x'],_0x1bd6de['y'])==_0x55fdbc);_0x275339=_0x275339['sort']((_0x23d8c6,_0x181481)=>{return _0x23d8c6['AP']-_0x181481['AP'];})[0x0];}if(_0x275339){var _0x4eb729=_0x275339[_0x44fceb(0x17b)];if(!_0x4eb729||!_0x4eb729[_0x44fceb(0x1c7)]);else{_0x4eb729=_0x4eb729[0x0];if(this[_0x44fceb(0x26d)]({'block':world[_0x44fceb(0x14a)][_0x44fceb(0x43e)][_0x4eb729['x']][_0x4eb729['y']]}))return![];}}console[_0x44fceb(0x2bb)](_0x44fceb(0x494)+[_0x1bd6de['x'],_0x1bd6de['y']]);debugger;return this['rotate']({'block':world[_0x44fceb(0x14a)][_0x44fceb(0x43e)][_0x1bd6de['x']][_0x1bd6de['y']]}),!![];};},PLAYER_FACE_IMG=[_0x4750f4(0x3aa),_0x4750f4(0x165),'face_2',_0x4750f4(0x4c0),_0x4750f4(0x392)],PLAYER_BODY_IMG=['body_0',_0x4750f4(0x21e),_0x4750f4(0x2db),'body_3',_0x4750f4(0x22e)],PROJECTIL_IMG=[_0x4750f4(0xbc)],PlayersManager=function(_0x4c7e72){var _0x49ae15=_0x4750f4;this[_0x49ae15(0x164)]=[],this['playerDefaultImgs']=undefined,this[_0x49ae15(0x1c8)]=![],this['Playerturn']=undefined,this['canvasPUI']=world['Screen'][_0x49ae15(0x432)][_0x49ae15(0x3b5)],this['canvasPlayer']=world[_0x49ae15(0x38a)][_0x49ae15(0x432)][_0x49ae15(0x3b5)],this[_0x49ae15(0xc0)]=!![],this[_0x49ae15(0x326)]=new MessageSystem(),this[_0x49ae15(0x1f4)]=[],this['createProjectilAnimation']=_0x329034=>{var _0x22ba66=_0x49ae15;if(!_0x329034||!_0x329034['posA']||!_0x329034['posB']||!_0x329034[_0x22ba66(0x353)]||!_0x329034['projectilSpeed'])return;var _0x33e62c=_0x329034[_0x22ba66(0x3df)],_0x2e4b47=_0x329034['posB'];this[_0x22ba66(0x1f4)][_0x22ba66(0x234)]({'posA':_0x33e62c,'posB':_0x2e4b47,'angle':Math[_0x22ba66(0x2b7)](_0x2e4b47['y']-_0x33e62c['y'],_0x2e4b47['x']-_0x33e62c['x']),'name':_0x329034[_0x22ba66(0x353)],'duration':_0x329034['projectilSpeed']?_0x329034[_0x22ba66(0x23e)]*dist(_0x33e62c['x'],_0x33e62c['y'],_0x2e4b47['x'],_0x2e4b47['y']):0x64});if(_0x329034[_0x22ba66(0x23a)])world[_0x22ba66(0x10d)][_0x22ba66(0x265)](_0x329034[_0x22ba66(0x23a)]);},this[_0x49ae15(0x42a)]=()=>{var _0x532045=_0x49ae15,_0x2b5dde=new Date()['getTime']();for(var _0x4e498f in this[_0x532045(0x1f4)]){if(this[_0x532045(0x1f4)][_0x4e498f]['startTime']&&_0x2b5dde-this[_0x532045(0x1f4)][_0x4e498f][_0x532045(0x28f)]>this[_0x532045(0x1f4)][_0x4e498f]['duration'])this['projectilAnimation'][_0x532045(0x49a)](_0x4e498f,0x1);else{if(!this[_0x532045(0x1f4)][_0x4e498f]['startTime'])this[_0x532045(0x1f4)][_0x4e498f][_0x532045(0x28f)]=_0x2b5dde;}}var _0xd0e449=world[_0x532045(0x14a)],_0x47b054=this['canvasPlayer'];for(var _0x4e498f in this['projectilAnimation']){var _0x57d75a=this[_0x532045(0x1f4)][_0x4e498f],_0x4d88d7=(_0x2b5dde-_0x57d75a['startTime'])/_0x57d75a[_0x532045(0x401)],_0x3a6f6a=_0x4d88d7>0.5?0x1-_0x4d88d7:_0x4d88d7,_0xe0aad7=_0x57d75a[_0x532045(0x3df)]['x']+_0x4d88d7*(_0x57d75a[_0x532045(0x454)]['x']-_0x57d75a[_0x532045(0x3df)]['x']),_0x449414=_0x57d75a[_0x532045(0x3df)]['y']+_0x4d88d7*(_0x57d75a[_0x532045(0x454)]['y']-_0x57d75a['posA']['y']),_0x3f5320=_0xd0e449[_0x532045(0x43f)](_0xe0aad7,_0x449414);if(_0x3f5320['x']<0x0||_0x3f5320['y']<0x0||_0x3f5320['x']>_0x47b054[_0x532045(0x3a3)]||_0x3f5320['y']>_0x47b054[_0x532045(0x21d)])continue;_0x47b054[_0x532045(0x23b)](world['playerDefaultImgs'][_0x57d75a[_0x532045(0x4b4)]][_0x532045(0x2dd)],_0x3f5320['x'],_0x3f5320['y'],_0xd0e449[_0x532045(0x396)]*(0.5+_0x3a6f6a*0x3),_0x57d75a[_0x532045(0x1c5)]);}},this['delete_player']=_0x34a608=>{var _0x24cb98=_0x49ae15;if(!_0x34a608)return console[_0x24cb98(0x2bb)](_0x24cb98(0x4a4));_0x34a608['isDead']=!![],world[_0x24cb98(0x171)]['kill_player'](_0x34a608);if(_0x34a608&&_0x34a608['x']!=undefined&&_0x34a608['y']!=undefined){for(var _0x32b9b6=_0x34a608['x'];_0x32b9b6<_0x34a608['x']+_0x34a608[_0x24cb98(0x17f)];_0x32b9b6++)for(var _0x2c211d=_0x34a608['y'];_0x2c211d<_0x34a608['y']+_0x34a608[_0x24cb98(0x17f)];_0x2c211d++)if(world['map']['mapBlock'][_0x32b9b6]&&world[_0x24cb98(0x14a)][_0x24cb98(0x43e)][_0x32b9b6][_0x2c211d]&&world[_0x24cb98(0x14a)]['mapBlock'][_0x32b9b6][_0x2c211d][_0x24cb98(0x143)]==_0x34a608)world['map']['mapBlock'][_0x32b9b6][_0x2c211d][_0x24cb98(0x143)]=undefined;}var _0x26c7fa=0x0;while(this[_0x24cb98(0x164)][_0x26c7fa]){if(this[_0x24cb98(0x164)][_0x26c7fa]==_0x34a608){this[_0x24cb98(0x164)]['splice'](_0x26c7fa,0x1);break;}_0x26c7fa++;}},this[_0x49ae15(0x137)]=()=>{var _0x436808=_0x49ae15,_0x2e4921=_0x436808(0xde);this['playerDefaultImgs']=[];var _0x49f06c=[[_0x436808(0x427),_0x2e4921+_0x436808(0x289)]];for(var _0x4632f3 in WEAPON_TYPE){var _0x1fc795=WEAPON_TYPE[_0x4632f3]['name'],_0x3052f6=WEAPON_TYPE[_0x4632f3]['Img'];_0x49f06c[_0x436808(0x234)]([_0x1fc795,_0x2e4921+'weapon/'+_0x3052f6+_0x436808(0x20a)]),_0x49f06c[_0x436808(0x234)]([_0x1fc795+_0x436808(0x338),_0x2e4921+_0x436808(0x189)+_0x3052f6+_0x436808(0x338)+_0x436808(0x20a)]);}for(var _0x4632f3 in PLAYER_BODY_IMG){var _0x1fc795=PLAYER_BODY_IMG[_0x4632f3];_0x49f06c['push']([_0x1fc795,_0x2e4921+_0x436808(0x3b0)+_0x1fc795+'.png']);}for(var _0x4632f3 in PLAYER_FACE_IMG){var _0x1fc795=PLAYER_FACE_IMG[_0x4632f3];_0x49f06c[_0x436808(0x234)]([_0x1fc795,_0x2e4921+_0x436808(0xfd)+_0x1fc795+_0x436808(0x20a)]);}for(var _0x4632f3 in PLAYER_ARMOR){var _0x1fc795=PLAYER_ARMOR[_0x4632f3][_0x436808(0x4b4)],_0x3052f6=PLAYER_ARMOR[_0x4632f3][_0x436808(0x2dd)];_0x49f06c[_0x436808(0x234)]([_0x1fc795,_0x2e4921+_0x436808(0x20d)+_0x3052f6+'.png']),_0x49f06c[_0x436808(0x234)]([_0x1fc795+_0x436808(0x338),_0x2e4921+_0x436808(0x20d)+_0x3052f6+_0x436808(0x338)+_0x436808(0x20a)]);}for(var _0x4632f3 in PROJECTIL_IMG){var _0x1fc795=PROJECTIL_IMG[_0x4632f3];_0x49f06c[_0x436808(0x234)]([_0x1fc795,_0x2e4921+'weapon/projectil/'+_0x1fc795+_0x436808(0x20a)]);}for(var _0x4632f3 in _0x49f06c){console[_0x436808(0x2bb)](_0x436808(0x4c7)+_0x49f06c[_0x4632f3]),this['playerDefaultImgs'][_0x49f06c[_0x4632f3][0x0]]=new myImage(_0x49f06c[_0x4632f3][0x0],_0x49f06c[_0x4632f3][0x1]);}world[_0x436808(0x379)]=this[_0x436808(0x379)];},this[_0x49ae15(0x1db)]=(_0x4314f2,_0x41ff60,_0x50f5b5,_0x54f725,_0x802f5)=>{var _0x4a9d31=_0x49ae15,_0x5ba570=new Player(_0x4314f2,_0x41ff60,_0x50f5b5,_0x54f725,_0x802f5);return _0x5ba570[_0x4a9d31(0x2ce)](_0x5ba570,world['map']),_0x5ba570[_0x4a9d31(0x20c)](),_0x5ba570[_0x4a9d31(0x4aa)]=0x0,_0x5ba570;},this['createPlayerFromVillage']=_0x1ee7f3=>{var _0x50ff4f=_0x49ae15;if(!_0x1ee7f3||!_0x1ee7f3[_0x50ff4f(0x143)]||_0x1ee7f3['x']==undefined||_0x1ee7f3['y']==undefined)return console['log'](_0x50ff4f(0x492));console['log']('create\x20player\x20in\x20'+[_0x1ee7f3['x'],_0x1ee7f3['y'],_0x1ee7f3[_0x50ff4f(0x143)][_0x50ff4f(0x17f)]]);var _0x1579fc=_0x1ee7f3[_0x50ff4f(0x143)],_0x14f7b6=_0x1ee7f3['x'],_0x304734=_0x1ee7f3['y'],_0x37a535=_0x1ee7f3[_0x50ff4f(0x2b1)]?_0x1ee7f3['team']:TEAM_HUMAN,_0x3cafce=world[_0x50ff4f(0x14a)];if(_0x14f7b6<0x0||_0x14f7b6+_0x1579fc[_0x50ff4f(0x17f)]-0x1>=_0x3cafce[_0x50ff4f(0x3a3)]||_0x304734<0x0||_0x304734+_0x1579fc[_0x50ff4f(0x17f)]-0x1>=_0x3cafce['height'])return![];for(var _0x26002e=_0x14f7b6;_0x26002e<_0x14f7b6+_0x1579fc[_0x50ff4f(0x17f)];_0x26002e++){for(var _0x2163f4=_0x304734;_0x2163f4<_0x304734+_0x1579fc[_0x50ff4f(0x17f)];_0x2163f4++){if(_0x3cafce[_0x50ff4f(0x43e)][_0x26002e][_0x2163f4][_0x50ff4f(0x143)])return![];if(!_0x3cafce[_0x50ff4f(0x43e)][_0x26002e][_0x2163f4][_0x50ff4f(0x329)]())return![];}}var _0x4ce3ac=this[_0x50ff4f(0x1db)](_0x14f7b6,_0x304734,_0x1579fc['size'],_0x1579fc[_0x50ff4f(0x2eb)],_0x37a535);if(!_0x4ce3ac)return![];_0x4ce3ac[_0x50ff4f(0x4b4)]=_0x1579fc[_0x50ff4f(0x4b4)],_0x4ce3ac[_0x50ff4f(0x442)]=_0x1579fc[_0x50ff4f(0x442)],_0x4ce3ac[_0x50ff4f(0x1dd)]=_0x1579fc[_0x50ff4f(0x1dd)],_0x4ce3ac[_0x50ff4f(0x335)]=_0x1579fc[_0x50ff4f(0x335)],_0x4ce3ac[_0x50ff4f(0xbd)]=_0x1579fc[_0x50ff4f(0xbd)],_0x4ce3ac[_0x50ff4f(0x142)]=_0x1579fc[_0x50ff4f(0x142)],_0x4ce3ac['ActionPointMax']=_0x1579fc[_0x50ff4f(0x246)],_0x4ce3ac[_0x50ff4f(0x367)]=_0x1579fc[_0x50ff4f(0x367)],_0x4ce3ac[_0x50ff4f(0x333)]=_0x1579fc[_0x50ff4f(0x367)],_0x4ce3ac[_0x50ff4f(0x35b)]=_0x1579fc[_0x50ff4f(0x35b)],_0x4ce3ac[_0x50ff4f(0x110)]=_0x1579fc['stats'],_0x4ce3ac[_0x50ff4f(0x17f)]=_0x1579fc[_0x50ff4f(0x17f)],_0x4ce3ac['id']=_0x1579fc['id'];if(_0x37a535==TEAM_AI)_0x4ce3ac[_0x50ff4f(0x2ee)]=[-0x1,0x0];for(var _0x26002e=_0x14f7b6;_0x26002e<_0x14f7b6+_0x1579fc[_0x50ff4f(0x17f)];_0x26002e++){for(var _0x2163f4=_0x304734;_0x2163f4<_0x304734+_0x1579fc[_0x50ff4f(0x17f)];_0x2163f4++){_0x3cafce[_0x50ff4f(0x43e)][_0x26002e][_0x2163f4][_0x50ff4f(0x143)]=_0x4ce3ac;}}return _0x4ce3ac[_0x50ff4f(0x20c)](),this[_0x50ff4f(0x164)][_0x50ff4f(0x234)](_0x4ce3ac),!![];},this['createPlayer']=_0x402264=>{var _0x50557a=_0x49ae15;if(!_0x402264||_0x402264['x']===undefined||_0x402264['y']===undefined)return![];var _0x5c13ec=_0x402264['x'],_0x49c83a=_0x402264['y'],_0x40b0b=_0x402264[_0x50557a(0x2eb)]?_0x402264['color']:{'r':Math['floor'](Math[_0x50557a(0x366)]()*0x100),'g':Math[_0x50557a(0x220)](Math[_0x50557a(0x366)]()*0x100),'b':Math[_0x50557a(0x220)](Math[_0x50557a(0x366)]()*0x100)},_0x592afa=_0x402264[_0x50557a(0x17f)]||_0x402264[_0x50557a(0x17f)]<0x1?_0x402264[_0x50557a(0x17f)]:0x1,_0x52af5c=_0x402264[_0x50557a(0x2b1)]?_0x402264[_0x50557a(0x2b1)]:TEAM_HUMAN,_0x4e51ff=world[_0x50557a(0x14a)];if(_0x5c13ec<0x0||_0x5c13ec+_0x592afa-0x1>=_0x4e51ff[_0x50557a(0x3a3)]||_0x49c83a<0x0||_0x49c83a+_0x592afa-0x1>=_0x4e51ff['height'])return![];for(var _0x2db35b=_0x5c13ec;_0x2db35b<_0x5c13ec+_0x592afa;_0x2db35b++){for(var _0x5f1b9d=_0x49c83a;_0x5f1b9d<_0x49c83a+_0x592afa;_0x5f1b9d++){if(_0x4e51ff['mapBlock'][_0x2db35b][_0x5f1b9d]['player'])return![];if(!_0x4e51ff[_0x50557a(0x43e)][_0x2db35b][_0x5f1b9d][_0x50557a(0x329)]())return![];}}var _0xe33d1e=this[_0x50557a(0x1db)](_0x5c13ec,_0x49c83a,_0x592afa,_0x40b0b,_0x52af5c);_0xe33d1e['id']=PLAYER_ID++,nameList=['Gruu',_0x50557a(0x3d1),_0x50557a(0x125),_0x50557a(0x40c),_0x50557a(0x1b2),_0x50557a(0x173),_0x50557a(0x302),_0x50557a(0x281),_0x50557a(0x122),_0x50557a(0x334)],_0xe33d1e[_0x50557a(0x4b4)]=nameList[Math[_0x50557a(0x220)](Math[_0x50557a(0x366)]()*nameList[_0x50557a(0x1c7)])]+'\x20#'+Math['floor'](Math[_0x50557a(0x366)]()*0x64),_0xe33d1e[_0x50557a(0xbd)]=new Weapon()[_0x50557a(0xf4)](),_0xe33d1e[_0x50557a(0x335)]=new Armor()[_0x50557a(0x178)]();if(_0x52af5c==TEAM_AI)_0xe33d1e['dir']=[-0x1,0x0];for(var _0x2db35b=_0x5c13ec;_0x2db35b<_0x5c13ec+_0x592afa;_0x2db35b++){for(var _0x5f1b9d=_0x49c83a;_0x5f1b9d<_0x49c83a+_0x592afa;_0x5f1b9d++){_0x4e51ff['mapBlock'][_0x2db35b][_0x5f1b9d][_0x50557a(0x143)]=_0xe33d1e;}}return _0xe33d1e[_0x50557a(0x142)]=_0x402264['speed']?_0x402264[_0x50557a(0x142)]:Math['round'](_0xe33d1e[_0x50557a(0x142)]*(0.8+Math[_0x50557a(0x366)]()*0.4)),_0xe33d1e[_0x50557a(0x20c)](),this['playerList'][_0x50557a(0x234)](_0xe33d1e),_0xe33d1e;},this[_0x49ae15(0x41e)]=()=>{var _0x422be8=_0x49ae15,_0x387526=world[_0x422be8(0x14a)];if(!_0x387526||!_0x387526[_0x422be8(0x250)]||!_0x387526[_0x422be8(0x3af)])return;var _0x23a8b4=_0x387526['topleft_block']['x'],_0x40e483=_0x387526[_0x422be8(0x250)]['y'],_0x9a7fc4=_0x387526[_0x422be8(0x3af)]['x'],_0x2a839f=_0x387526['botright_block']['y'],_0x4f16d7=[],_0x3c0770=[];for(var _0x435264=_0x23a8b4;_0x435264<=_0x9a7fc4;_0x435264++){for(var _0x28af7c=_0x40e483;_0x28af7c<=_0x2a839f;_0x28af7c++){var _0x3aa517=_0x387526[_0x422be8(0x43e)][_0x435264][_0x28af7c][_0x422be8(0x143)];if(!_0x3aa517||_0x3c0770[_0x422be8(0x1bb)](_0x1af371=>_0x1af371==_0x3aa517))continue;if(_0x3aa517==this['Playerturn'])_0x3c0770[_0x422be8(0x234)](_0x3aa517);else _0x3c0770[_0x422be8(0x1ce)](_0x3aa517);}}for(var _0x13ca72 in _0x3c0770){var _0x3aa517=_0x3c0770[_0x13ca72];if(!_0x3aa517[_0x422be8(0x4b2)]||!_0x3aa517[_0x422be8(0x414)])_0x3aa517[_0x422be8(0xbe)](this['playerDefaultImgs']);var _0x5614c9=_0x387526[_0x422be8(0x170)](_0x3aa517['x'],_0x3aa517['y']);if(_0x5614c9)_0x3aa517['drawPlayer'](this['canvasPlayer'],_0x5614c9['x'],_0x5614c9['y'],_0x387526);else continue;_0x3aa517[_0x422be8(0x343)]&&(this[_0x422be8(0xc0)]=!![],_0x3aa517[_0x422be8(0x343)]=![]);var _0x5854ab=new MyUI(this[_0x422be8(0x263)],_0x5614c9['x']-_0x387526[_0x422be8(0x21b)]/0x4,_0x5614c9['y']-_0x387526[_0x422be8(0xed)]/0x4,0x64*world[_0x422be8(0x14a)]['scale'],world[_0x422be8(0x14a)][_0x422be8(0x396)],undefined,undefined,0x1),_0x3dbcb5=_0x3aa517[_0x422be8(0x2b1)]==TEAM_HUMAN?'#1e90ff':_0x422be8(0x411);_0x5854ab[_0x422be8(0x3ee)](_0x3aa517[_0x422be8(0x4b4)],Math[_0x422be8(0x220)](0x28*world[_0x422be8(0x14a)][_0x422be8(0x396)]),0x10,_0x3dbcb5,PLAYER_NAME_FONT);var _0x479771=Math[_0x422be8(0x220)](0x14*world['map'][_0x422be8(0x396)]);if(_0x3aa517==this['Playerturn'])_0x5854ab['addGauge'](_0x422be8(0x30b)+Math[_0x422be8(0x220)](0x64*_0x3aa517['ActionPoint']/_0x3aa517['ActionPointMax']),_0x3aa517[_0x422be8(0x277)]/_0x3aa517[_0x422be8(0x246)],Math[_0x422be8(0x220)](0x64*world[_0x422be8(0x14a)]['scale']),_0x479771+0x1,_0x479771,_0x422be8(0x3e8),_0x422be8(0x4ba),'#000000');else _0x5854ab[_0x422be8(0x3be)]('speed\x20'+Math['floor'](0x64*_0x3aa517[_0x422be8(0x4aa)])+'\x20%',_0x3aa517[_0x422be8(0x4aa)],Math['floor'](0x64*world[_0x422be8(0x14a)][_0x422be8(0x396)]),_0x479771+0x1,_0x479771,_0x422be8(0x3e8),_0x422be8(0x4ba),_0x422be8(0x3d4));_0x5854ab['addGauge'](_0x422be8(0x331)+Math[_0x422be8(0x220)](_0x3aa517[_0x422be8(0x333)])+'/'+Math[_0x422be8(0x220)](_0x3aa517['lifeMax']),_0x3aa517['life']/_0x3aa517['lifeMax'],Math[_0x422be8(0x220)](0x64*world[_0x422be8(0x14a)][_0x422be8(0x396)]),_0x479771+0x1,_0x479771,_0x422be8(0x3e8),_0x422be8(0x10a),'#000000'),_0x4f16d7[_0x422be8(0x234)](_0x5854ab);}if(this[_0x422be8(0xc0)]){this[_0x422be8(0x263)][_0x422be8(0x15e)]();for(var _0x13ca72 in _0x4f16d7){_0x4f16d7[_0x13ca72]['drawUI']();}this[_0x422be8(0xc0)]=![];}this[_0x422be8(0x42a)]();},this[_0x49ae15(0x3bc)]=_0x3e1841=>{if(!_0x3e1841||_0x3e1841['x']==undefined||_0x3e1841['y']==undefined)return undefined;return this['playerList']['find'](_0xeac73d=>_0xeac73d['x']==_0x3e1841['x']&&_0xeac73d['y']==_0x3e1841['y']);},this[_0x49ae15(0x23c)]=()=>{var _0x2382fd=_0x49ae15,_0x53ca80=undefined,_0x1f7693=0x0,_0xa23a57=0x0;for(var _0x3ddb60 in this[_0x2382fd(0x164)]){var _0x1de794=this['playerList'][_0x3ddb60];if((0x1-_0x1de794[_0x2382fd(0x4aa)])/_0x1de794[_0x2382fd(0x142)]<=(0x1-_0x1f7693)/_0xa23a57){if(_0x53ca80&&(0x1-_0x1de794[_0x2382fd(0x4aa)])*_0x1de794[_0x2382fd(0x142)]==(0x1-_0x1f7693)*_0xa23a57){if(_0x53ca80[_0x2382fd(0x142)]>_0x1de794[_0x2382fd(0x142)])continue;}_0x53ca80=_0x1de794,_0x1f7693=_0x1de794[_0x2382fd(0x4aa)],_0xa23a57=_0x1de794[_0x2382fd(0x142)];}}if(!_0x53ca80)return undefined;for(var _0x3ddb60 in this[_0x2382fd(0x164)]){var _0x1de794=this[_0x2382fd(0x164)][_0x3ddb60];_0x1de794[_0x2382fd(0x4aa)]+=(0x1-_0x1f7693)*(_0x1de794['speed']/_0xa23a57);}return _0x53ca80;},this[_0x49ae15(0x2a7)]=_0x58d52f=>{var _0x1d3f43=_0x49ae15,_0x445823=[],_0x2a396a=[];for(var _0xff2780 in this[_0x1d3f43(0x164)]){var _0x57cf84=this[_0x1d3f43(0x164)][_0xff2780];_0x2a396a[_0xff2780]={'player':_0x57cf84,'gaugeSpeed':_0x57cf84[_0x1d3f43(0x4aa)],'speed':_0x57cf84[_0x1d3f43(0x142)]};}if(_0x58d52f<0x0||_0x2a396a['length']<0x1)return[];for(var _0x2aa5bb=0x0;_0x2aa5bb<_0x58d52f;_0x2aa5bb++){var _0x4a418b=undefined,_0x3592c1=0x0,_0x4c2d8a=0x0;for(var _0xff2780 in _0x2a396a){var _0x57cf84=_0x2a396a[_0xff2780];if((0x1-_0x57cf84[_0x1d3f43(0x4aa)])/_0x57cf84['speed']<=(0x1-_0x3592c1)/_0x4c2d8a){if(_0x4a418b&&(0x1-_0x57cf84[_0x1d3f43(0x4aa)])*_0x57cf84[_0x1d3f43(0x142)]==(0x1-_0x3592c1)*_0x4c2d8a){if(_0x4a418b['speed']>_0x57cf84[_0x1d3f43(0x142)])continue;}_0x4a418b=_0x57cf84,_0x3592c1=_0x57cf84[_0x1d3f43(0x4aa)],_0x4c2d8a=_0x57cf84[_0x1d3f43(0x142)];}}if(!_0x4a418b)continue;for(var _0xff2780 in _0x2a396a){var _0x57cf84=_0x2a396a[_0xff2780];_0x57cf84[_0x1d3f43(0x4aa)]+=(0x1-_0x3592c1)*(_0x57cf84[_0x1d3f43(0x142)]/_0x4c2d8a);}_0x4a418b['gaugeSpeed']=0x0,_0x445823[_0x1d3f43(0x234)](_0x4a418b[_0x1d3f43(0x143)]);}return _0x445823;},this[_0x49ae15(0x387)]=_0x24f91b=>{var _0x28eb74=_0x49ae15,_0x3fe445=this[_0x28eb74(0x164)][_0x28eb74(0x1bb)](_0x5b7261=>_0x5b7261[_0x28eb74(0x2b1)]==TEAM_AI),_0x2e775d=this[_0x28eb74(0x164)][_0x28eb74(0x1bb)](_0x6f33a=>_0x6f33a[_0x28eb74(0x2b1)]==TEAM_HUMAN);if(!_0x3fe445||!_0x2e775d){console[_0x28eb74(0x2bb)](_0x28eb74(0x22b)),this[_0x28eb74(0xe8)]();return;}world[_0x28eb74(0x1b7)]&&(world[_0x28eb74(0x1b7)][_0x28eb74(0x3cd)]=undefined,world['GameUI']['blockSelected']=undefined,world['GameUI']['selecting_block']=undefined,world['GameUI'][_0x28eb74(0x451)]=undefined);if(world[_0x28eb74(0x3b5)]['Playerturn']&&world[_0x28eb74(0x3b5)][_0x28eb74(0xe2)]['AI']&&!world[_0x28eb74(0x3b5)][_0x28eb74(0xe2)]['AI']['turnFinished'])return;if(this[_0x28eb74(0xe2)])this[_0x28eb74(0xe2)][_0x28eb74(0x4aa)]=0x0;this['Playerturn']=this[_0x28eb74(0x23c)]();if(!this[_0x28eb74(0xe2)])return;this[_0x28eb74(0x326)][_0x28eb74(0x413)]({'type':this[_0x28eb74(0xe2)][_0x28eb74(0x2b1)],'txt':this['Playerturn'][_0x28eb74(0x4b4)]+_0x28eb74(0x38f)});if(_0x24f91b[_0x28eb74(0x14a)])_0x24f91b[_0x28eb74(0x14a)]['centerOnBlock'](this['Playerturn']);if(_0x24f91b[_0x28eb74(0x1b7)])_0x24f91b['GameUI']['playersSelected']=this['Playerturn'];this['Playerturn'][_0x28eb74(0x277)]=this[_0x28eb74(0xe2)][_0x28eb74(0x246)];if(this[_0x28eb74(0xe2)]['AI'])this[_0x28eb74(0xe2)]['AI'][_0x28eb74(0x4d0)]=![];},this[_0x49ae15(0xe8)]=()=>{var _0x28f585=_0x49ae15;world[_0x28f585(0x1b7)]=undefined,world['map']=undefined,world[_0x28f585(0x467)]=new VillageUI(world[_0x28f585(0x38a)][_0x28f585(0x432)]['GameUI']),world[_0x28f585(0x38a)]['canList'][_0x28f585(0x106)][_0x28f585(0x293)](),world['Screen'][_0x28f585(0x432)][_0x28f585(0x106)]['cleanCanvas'](),world['Screen'][_0x28f585(0x432)][_0x28f585(0x2ab)][_0x28f585(0x293)](),world[_0x28f585(0x38a)][_0x28f585(0x432)][_0x28f585(0x2ab)][_0x28f585(0x15e)](),world[_0x28f585(0x38a)][_0x28f585(0x432)]['players'][_0x28f585(0x293)](),world[_0x28f585(0x38a)][_0x28f585(0x432)][_0x28f585(0x3b5)][_0x28f585(0x15e)](),world[_0x28f585(0x38a)][_0x28f585(0x432)][_0x28f585(0x2c9)][_0x28f585(0x293)](),world[_0x28f585(0x38a)][_0x28f585(0x432)][_0x28f585(0x2c9)][_0x28f585(0x15e)](),world['Music']['stopSound'](_0x28f585(0x2da)),world[_0x28f585(0x171)][_0x28f585(0x434)]=![],world[_0x28f585(0x171)][_0x28f585(0x326)]['addMessage']({'txt':'End\x20of\x20the\x20battle'});};},GameUI=function(_0x404ff5){var _0x34bb31=_0x4750f4;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT=_0x34bb31(0x1fb),GAME_UI_FONT_BUTTON=_0x34bb31(0x468),GAME_UI_WINDOWINFO_MOUSETIME=0x190,this['canvas']=_0x404ff5,this[_0x34bb31(0x37b)]=GAME_UI_DEFAULTSIZE_X,this[_0x34bb31(0x396)]=0x1,this[_0x34bb31(0x2e4)]=_0x34bb31(0x4a8),this[_0x34bb31(0x184)]='#663300',this['marge']=GAME_UI_DEFAULTMARGE,this[_0x34bb31(0x3c7)]=!![],this[_0x34bb31(0x3d7)]=undefined,this['UI']=undefined,this[_0x34bb31(0x37f)]=![],this[_0x34bb31(0x488)]=undefined,this[_0x34bb31(0x322)]=![],this[_0x34bb31(0x175)]=undefined,this['UIeventExpanded']=![],this[_0x34bb31(0x2e0)]={'value':0x0},this[_0x34bb31(0x3cd)]=undefined,this['blockSelected']=undefined,this[_0x34bb31(0x109)]=undefined,this['highlightZone']=undefined,this[_0x34bb31(0x1fa)]=undefined,this[_0x34bb31(0x225)]=undefined,this[_0x34bb31(0x24d)]={'x':0xa,'y':0xa},this[_0x34bb31(0x244)]=!![],this['init_check_mouse_move']=()=>{var _0x4c2f15=_0x34bb31;window['addEventListener'](_0x4c2f15(0x179),_0x4317c8=>{var _0x2bc835=_0x4c2f15,_0x5e0cf9=![];this[_0x2bc835(0x488)]&&this[_0x2bc835(0x488)][_0x2bc835(0x390)](_0x4317c8[_0x2bc835(0x26e)],_0x4317c8[_0x2bc835(0x3ac)])&&!this[_0x2bc835(0x244)]&&(this[_0x2bc835(0x3c7)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x5e0cf9=!![]);this['UI']&&this['UI'][_0x2bc835(0x390)](_0x4317c8[_0x2bc835(0x26e)],_0x4317c8['clientY'])&&!this[_0x2bc835(0x244)]&&(this['needRedraw']=!![],this[_0x2bc835(0x244)]=!![],_0x5e0cf9=!![]);this[_0x2bc835(0x175)]&&this['UIevent'][_0x2bc835(0x390)](_0x4317c8[_0x2bc835(0x26e)],_0x4317c8[_0x2bc835(0x3ac)])&&!this[_0x2bc835(0x244)]&&(this[_0x2bc835(0x3c7)]=!![],this[_0x2bc835(0x244)]=!![],_0x5e0cf9=!![]);!_0x5e0cf9&&this[_0x2bc835(0x244)]&&(this[_0x2bc835(0x244)]=![],this[_0x2bc835(0x3c7)]=!![]);if(this==world[_0x2bc835(0x1b7)])this['init_check_mouse_move']();},{'once':!![]});},this[_0x34bb31(0x135)](),this[_0x34bb31(0x3d5)]=_0x45b91e=>{var _0x2c135d=_0x34bb31;if(!world[_0x2c135d(0x19a)])return![];var _0x2dbd6a=world['Controler'][_0x2c135d(0x480)];if(!_0x2dbd6a)return![];if(new Date()[_0x2c135d(0x3f8)]()-_0x2dbd6a[_0x2c135d(0x1d3)]<GAME_UI_WINDOWINFO_MOUSETIME)return this['InfoWinfowPos']&&(this['InfoWinfowPos']=![],this['needRedraw']=!![]),![];if(this['UI']&&this['UI'][_0x2c135d(0x3d5)](_0x45b91e))return!![];if(this[_0x2c135d(0x488)]&&this[_0x2c135d(0x488)][_0x2c135d(0x3d5)](_0x45b91e))return!![];if(this[_0x2c135d(0x175)]&&this[_0x2c135d(0x175)]['CheckInfoWindow'](_0x45b91e))return!![];if(!this['mouseInfoWindow'])return![];if(!this[_0x2c135d(0x225)])this[_0x2c135d(0x225)]={'x':_0x2dbd6a['x'],'y':_0x2dbd6a['y']};else{if(!_0x45b91e&&_0x2dbd6a['x']==this['InfoWinfowPos']['x']&&_0x2dbd6a['y']==this[_0x2c135d(0x225)]['y'])return![];}var _0x21e1df=new MyUI(this[_0x2c135d(0x213)],_0x2dbd6a['x'],_0x2dbd6a['y'],0x32,0x1,this[_0x2c135d(0x2e4)],this[_0x2c135d(0x184)],0x1);_0x21e1df[_0x2c135d(0x3ee)](_0x2c135d(0x266),GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);var _0x359406=world[_0x2c135d(0x14a)][_0x2c135d(0x188)](_0x2dbd6a);for(var _0x5c9c9f in this[_0x2c135d(0x1fa)]){var _0x2b32ec=this[_0x2c135d(0x1fa)][_0x5c9c9f];_0x21e1df['addTextZone'](_0x2b32ec['txt']+_0x2b32ec[_0x2c135d(0x291)]({'block':_0x359406}),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x2c135d(0x3d4),GAME_UI_FONT);}_0x21e1df[_0x2c135d(0x487)]();},this[_0x34bb31(0xfe)]=_0x591dee=>{var _0x2851e9=_0x34bb31;if(this['UI']&&this['UI'][_0x2851e9(0x14c)](_0x591dee))return!![];if(this['UIturn']&&this[_0x2851e9(0x488)][_0x2851e9(0x14c)](_0x591dee))return!![];if(this[_0x2851e9(0x175)]&&this[_0x2851e9(0x175)][_0x2851e9(0x14c)](_0x591dee)){if(_0x591dee==_0x2851e9(0x15f)&&this[_0x2851e9(0x424)]())return!![];}return![];},this[_0x34bb31(0x424)]=()=>{var _0x434ee8=_0x34bb31,_0x1704e5=![];if(this[_0x434ee8(0x37f)])return this[_0x434ee8(0x37f)]=![],!![];this[_0x434ee8(0x109)]&&(this[_0x434ee8(0x109)]=undefined,_0x1704e5=!![]);this[_0x434ee8(0x451)]&&(this['highlightZone']=undefined,this[_0x434ee8(0x1fa)]=undefined,this['InfoWinfowPos']=undefined,world[_0x434ee8(0x14a)][_0x434ee8(0x3c7)]=!![],_0x1704e5=!![]);if(_0x1704e5)return _0x1704e5;_0x1704e5=![];this[_0x434ee8(0x3cd)]&&(this[_0x434ee8(0x3cd)]=undefined,_0x1704e5=!![]);this[_0x434ee8(0x253)]&&(this['blockSelected']=undefined,_0x1704e5=!![]);if(_0x1704e5)return!![];return![];},this[_0x34bb31(0x11d)]=_0x49c2cb=>{var _0x133103=_0x34bb31,_0x56aa8d=_0x49c2cb['x'],_0x1e09e3=_0x49c2cb['y'];if(_0x49c2cb[_0x133103(0x162)]==0x2){var _0x497683=this['cancel_menu']();if(_0x497683)return!![];}else{if(this['UI']&&this['UI']['click_buton_check'](_0x56aa8d,_0x1e09e3))return!![];if(this[_0x133103(0x488)]&&this[_0x133103(0x488)][_0x133103(0x279)](_0x56aa8d,_0x1e09e3))return!![];if(this['UIevent']&&this['UIevent']['click_buton_check'](_0x56aa8d,_0x1e09e3))return!![];if(world[_0x133103(0x14a)])var _0x118d85=world[_0x133103(0x14a)][_0x133103(0x188)]({'x':_0x56aa8d,'y':_0x1e09e3});if(!_0x118d85)return![];if(this['selecting_block']&&this['highlightZone']&&this[_0x133103(0x451)][_0x133103(0x20e)]&&!this[_0x133103(0x451)][_0x133103(0x20e)][_0x133103(0x1bb)](_0x37d9f5=>_0x37d9f5==_0x118d85))return![];if(this[_0x133103(0x109)])return this[_0x133103(0x109)][_0x133103(0x291)]({'block':_0x118d85,'input':this[_0x133103(0x109)][_0x133103(0x342)]}),this[_0x133103(0x451)]=undefined,this['mouseInfoWindow']=undefined,this[_0x133103(0x253)]=undefined,this[_0x133103(0x109)]=undefined,world[_0x133103(0x14a)]['needRedraw']=!![],!![];else this['blockSelected']=_0x118d85;return this[_0x133103(0x3cd)]=_0x118d85['player'],!![];}return![];},this[_0x34bb31(0x4a3)]=_0x311994=>{var _0x26a3ca=_0x34bb31;if(!_0x311994||!_0x311994[_0x26a3ca(0x291)])return;this[_0x26a3ca(0x109)]={'callback':_0x311994[_0x26a3ca(0x291)],'input':_0x311994[_0x26a3ca(0x342)],'info':_0x311994[_0x26a3ca(0x136)]},this[_0x26a3ca(0x3c7)]=!![],_0x311994[_0x26a3ca(0x47c)]&&(this[_0x26a3ca(0x451)]={'zone':_0x311994[_0x26a3ca(0x47c)]['callback'](_0x311994[_0x26a3ca(0x47c)][_0x26a3ca(0x342)]),'type':_0x311994[_0x26a3ca(0x47c)][_0x26a3ca(0x342)][_0x26a3ca(0x245)]},world[_0x26a3ca(0x14a)][_0x26a3ca(0x3c7)]=!![]),_0x311994['windowInfo']&&(this[_0x26a3ca(0x1fa)]=_0x311994[_0x26a3ca(0x2fb)]);},this[_0x34bb31(0x2f8)]=()=>{var _0x274146=_0x34bb31;if(!world[_0x274146(0x3b5)][_0x274146(0xe2)])return![];world['map'][_0x274146(0x3d8)](world['players'][_0x274146(0xe2)]),this[_0x274146(0x3cd)]=world['players']['Playerturn'];},this[_0x34bb31(0x463)]=()=>{var _0x5b19c7=_0x34bb31;0x0;var _0x366ec1=[];_0x366ec1[_0x5b19c7(0x234)]({'type':_0x5b19c7(0x2dd),'img':this['playersSelected'][_0x5b19c7(0x4b2)],'lenx':0xc8,'leny':0xc8}),this['UI'][_0x5b19c7(0x42d)](_0x366ec1);var _0xf7bc54=this['playersSelected'],_0x258c15=''+_0xf7bc54[_0x5b19c7(0x4b4)]+'\x20(',_0x10adfd=_0xf7bc54[_0x5b19c7(0x2b1)]==TEAM_AI?_0x5b19c7(0x4ca):_0x5b19c7(0x2d6);_0x258c15+=_0x10adfd,_0x258c15+='\x0a'+_0xf7bc54['life']+'/'+_0xf7bc54['lifeMax']+_0x5b19c7(0x205),_0x258c15+='\x0a'+_0xf7bc54['ActionPoint']+'/'+_0xf7bc54[_0x5b19c7(0x246)]+_0x5b19c7(0x4c3),_0x258c15+='\x0a'+'Speed\x20:\x20'+_0xf7bc54[_0x5b19c7(0x142)],_0x258c15+='\x0a'+'Move\x20AP\x20cost\x20:\x20'+_0xf7bc54[_0x5b19c7(0x35b)];for(var _0x13d2b7 in _0xf7bc54[_0x5b19c7(0x110)])_0x258c15+='\x0a'+_0x13d2b7+'\x20:\x20'+_0xf7bc54['stats'][_0x13d2b7];this['UI'][_0x5b19c7(0x3ee)](_0x258c15,GAME_UI_LETTER_SIZE/0x2,0x270f,_0x5b19c7(0x3d4),GAME_UI_FONT);if(_0xf7bc54[_0x5b19c7(0xbd)])this['UI'][_0x5b19c7(0x3ee)](_0x5b19c7(0x120)+_0xf7bc54[_0x5b19c7(0xbd)][_0x5b19c7(0x4b4)]+'\x27\x0a'+_0xf7bc54[_0x5b19c7(0xbd)]['getWeaponAttackDescription'](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x5b19c7(0x3d4),GAME_UI_FONT);if(_0xf7bc54[_0x5b19c7(0x335)])this['UI'][_0x5b19c7(0x3ee)]('armor\x20equiped\x20:\x20'+_0xf7bc54['armor'][_0x5b19c7(0x2c3)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x5b19c7(0x3d4),GAME_UI_FONT);},this[_0x34bb31(0x1b9)]=()=>{var _0x3f77ec=_0x34bb31;this[_0x3f77ec(0x175)]=new MyUI(this[_0x3f77ec(0x213)],this[_0x3f77ec(0x488)]['lenx']+this['UI'][_0x3f77ec(0x37b)],0x0,0x5,this['scale'],this['background'],this[_0x3f77ec(0x184)],this['marge']);var _0x2a8773=[];_0x2a8773[_0x3f77ec(0x234)]({'type':_0x3f77ec(0x162),'mouseLight':'ff','callback':()=>{var _0x49c012=_0x3f77ec;this[_0x49c012(0x262)]=!this[_0x49c012(0x262)];},'callback_data':GAME_UI_FONT,'txt':_0x3f77ec(0x3da),'txt_color':_0x3f77ec(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x3f77ec(0x145),'strokeColor':this[_0x3f77ec(0x262)]?_0x3f77ec(0x13b):_0x3f77ec(0x115),'windowInfo':[{'callback':()=>{var _0x50508a=_0x3f77ec;return _0x50508a(0x163);},'input':_0x9f392c}]});if(this[_0x3f77ec(0x262)]){var _0x1f0b83=this[_0x3f77ec(0x2f1)](this['eventPageOffset']);for(var _0x9f392c in _0x1f0b83)_0x2a8773[_0x3f77ec(0x234)](_0x1f0b83[_0x9f392c]);}this['UIevent']['addHorizontalElem'](_0x2a8773);if(this['UIeventExpanded']&&world[_0x3f77ec(0x3b5)]){var _0xa32b1b=-0x1;for(var _0x9f392c=this[_0x3f77ec(0x2e0)][_0x3f77ec(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x9f392c>=this['eventPageOffset'][_0x3f77ec(0x460)];_0x9f392c--){_0xa32b1b++;var _0x20c5eb=world[_0x3f77ec(0x3b5)][_0x3f77ec(0x326)][_0x3f77ec(0x3ae)][_0x9f392c];if(_0x9f392c>=world[_0x3f77ec(0x3b5)][_0x3f77ec(0x326)][_0x3f77ec(0x3ae)]['length'])continue;if(!_0x20c5eb)break;this[_0x3f77ec(0x223)](_0x20c5eb);}}console[_0x3f77ec(0x2bb)](this['eventPageOffset'][_0x3f77ec(0x460)]),this[_0x3f77ec(0x175)]['drawUI']();},this[_0x34bb31(0x25d)]=()=>{var _0x4bd885=_0x34bb31;if(!world[_0x4bd885(0x14a)]||!world['players'])return;this[_0x4bd885(0x3c7)]=![],this['canvas']['GetCanvasPos'](),this[_0x4bd885(0x213)][_0x4bd885(0x15e)](),this[_0x4bd885(0x488)]=new MyUI(this['canvas'],0x0,0x0,0x32,this[_0x4bd885(0x396)],this[_0x4bd885(0x2e4)],this[_0x4bd885(0x184)],0x1),this[_0x4bd885(0x488)]['addHorizontalElem']([{'type':_0x4bd885(0x162),'mouseLight':'ff','callback':()=>{var _0x1c2f1e=_0x4bd885;this['UIturnExpanded']=!this[_0x1c2f1e(0x322)];},'callback_data':GAME_UI_FONT,'txt':_0x4bd885(0x3b7),'txt_color':_0x4bd885(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x4bd885(0x145),'strokeColor':this[_0x4bd885(0x262)]?_0x4bd885(0x13b):_0x4bd885(0x115),'windowInfo':[{'callback':()=>{var _0x525f60=_0x4bd885;return _0x525f60(0x3e5);},'input':_0x4db16e}]}]);var _0x5e0b34=world['players'][_0x4bd885(0x2a7)](0xf);for(var _0x4db16e in _0x5e0b34){var _0x527c02=_0x5e0b34[_0x4db16e],_0x1d36ba=[];_0x1d36ba[_0x4bd885(0x234)]({'type':_0x4bd885(0x2dd),'img':_0x527c02['bodyPartImg'],'lenx':0x1e,'leny':0x1e});if(this[_0x4bd885(0x322)])_0x1d36ba[_0x4bd885(0x234)]({'type':_0x4bd885(0x162),'mouseLight':'ff','callback':_0x508c45=>{var _0x23fccd=_0x4bd885;this['playersSelected']=_0x508c45;if(world['map'])world[_0x23fccd(0x14a)]['centerOnBlock'](_0x508c45);},'callback_data':_0x527c02,'txt':_0x527c02['name'],'txt_color':_0x527c02['team']==TEAM_HUMAN?_0x4bd885(0x1e1):_0x4bd885(0x10a),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x4bd885(0x145),'strokeColor':this['playersSelected']==_0x527c02?_0x4bd885(0x359):_0x4bd885(0x13b),'windowInfo':[{'callback':_0xb65c41=>{var _0x1fe46c=_0x4bd885;return _0x1fe46c(0x30c)+_0xb65c41+_0x1fe46c(0x32c);},'input':_0x4db16e}]});this[_0x4bd885(0x488)][_0x4bd885(0x42d)](_0x1d36ba);}this[_0x4bd885(0x488)]['drawUI'](),this['UI']=new MyUI(this[_0x4bd885(0x213)],this[_0x4bd885(0x488)][_0x4bd885(0x37b)],0x0,this['lenx'],this[_0x4bd885(0x396)],this[_0x4bd885(0x2e4)],this[_0x4bd885(0x184)],this['marge']);if(this[_0x4bd885(0x37f)]&&this[_0x4bd885(0x3cd)])this['DrawTabInfoPlayer'](),this['UI']['addButton'](this[_0x4bd885(0x37f)]&&this['playersSelected']?'return':_0x4bd885(0x136),GAME_UI_LETTER_SIZE,_0x4bd885(0x3d4),'#ffffff',this[_0x4bd885(0x184)],()=>{var _0x4f0db4=_0x4bd885;this[_0x4f0db4(0x37f)]=!this[_0x4f0db4(0x37f)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world[_0x4bd885(0x3b5)][_0x4bd885(0xe2)])this['UI'][_0x4bd885(0x32d)](_0x4bd885(0x397),GAME_UI_LETTER_SIZE,'#ffff00',_0x4bd885(0x2ff),this[_0x4bd885(0x184)],world[_0x4bd885(0x3b5)][_0x4bd885(0x387)],{'map':world[_0x4bd885(0x14a)],'GameUI':world['GameUI']},GAME_UI_FONT,'Enter'),this['UI'][_0x4bd885(0x32d)](_0x4bd885(0x1c3),GAME_UI_LETTER_SIZE,_0x4bd885(0x3d4),_0x4bd885(0x420),this[_0x4bd885(0x184)],this[_0x4bd885(0x2f8)],undefined,GAME_UI_FONT,_0x4bd885(0x41f));else this['UI'][_0x4bd885(0x32d)](_0x4bd885(0x3b4),GAME_UI_LETTER_SIZE,_0x4bd885(0x28b),'#0000fb',this[_0x4bd885(0x184)],world['players'][_0x4bd885(0x387)],{'map':world[_0x4bd885(0x14a)],'GameUI':world[_0x4bd885(0x1b7)]},GAME_UI_FONT,'Enter');if(this['blockSelected']&&!this[_0x4bd885(0x3cd)]){var _0x2191c7=this[_0x4bd885(0x253)]['x'],_0x2edc9e=this[_0x4bd885(0x253)]['y'],_0x3ba474={'r':Math['floor'](Math[_0x4bd885(0x366)]()*0x100),'g':Math[_0x4bd885(0x220)](Math['random']()*0x100),'b':Math[_0x4bd885(0x220)](Math[_0x4bd885(0x366)]()*0x100)};this['UI'][_0x4bd885(0x32d)](_0x4bd885(0x4c4),GAME_UI_LETTER_SIZE,_0x4bd885(0x3d4),_0x4bd885(0x10e),this['stroke'],world[_0x4bd885(0x3b5)][_0x4bd885(0x2c8)],{'x':_0x2191c7,'y':_0x2edc9e,'color':_0x3ba474},GAME_UI_FONT);}if(this['playersSelected']){var _0x527c02=this[_0x4bd885(0x3cd)];this['UI'][_0x4bd885(0x32d)](_0x527c02[_0x4bd885(0x4b4)],GAME_UI_LETTER_SIZE,'#000000','#ffffff',this[_0x4bd885(0x184)],()=>{var _0x562f89=_0x4bd885;this[_0x562f89(0x37f)]=!this[_0x562f89(0x37f)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this[_0x4bd885(0x3cd)]==world['players'][_0x4bd885(0xe2)]&&this[_0x4bd885(0x3cd)][_0x4bd885(0x2b1)]==TEAM_HUMAN){if(_0x527c02[_0x4bd885(0x4b2)]&&_0x527c02[_0x4bd885(0x414)]&&_0x527c02[_0x4bd885(0x4b2)][_0x4bd885(0x4ce)])this['UI'][_0x4bd885(0x43a)](_0x527c02[_0x4bd885(0x4b2)],0x64,0x64);else this[_0x4bd885(0x3c7)]=!![];if(this['selecting_block'])this['UI'][_0x4bd885(0x3ee)](_0x4bd885(0x19d)+this[_0x4bd885(0x109)][_0x4bd885(0x136)],GAME_UI_LETTER_SIZE*0.8,0x14,_0x4bd885(0x3d4),GAME_UI_FONT);else for(var _0x4db16e in _0x527c02[_0x4bd885(0x2cc)]){var _0x183fe5=_0x527c02['capacityList'][_0x4db16e];this['UI']['addButton'](_0x183fe5['name'],GAME_UI_LETTER_SIZE,_0x4bd885(0x3d4),_0x4bd885(0x10e),this[_0x4bd885(0x184)],this[_0x4bd885(0x4a3)],{'callback':_0x183fe5['callback'],'info':_0x183fe5[_0x4bd885(0x292)],'highlight':{'callback':_0x183fe5[_0x4bd885(0x22d)],'input':_0x183fe5[_0x4bd885(0x319)]},'windowInfo':_0x183fe5[_0x4bd885(0x2fb)]},GAME_UI_FONT,parseInt(_0x4db16e)+0x1);}}}}this[_0x4bd885(0x1b9)](),this['UI']['drawUI'](),this[_0x4bd885(0x3d5)](!![]);},this['GetPageSelector']=_0x356632=>{var _0x521e1f=_0x34bb31,_0x43b561=[{'type':_0x521e1f(0x162),'callback':()=>{var _0x50fadd=_0x521e1f;_0x356632[_0x50fadd(0x460)]=_0x356632[_0x50fadd(0x460)]>0x0?_0x356632[_0x50fadd(0x460)]-0x1:0x0;},'txt':'∧','txt_color':_0x521e1f(0x3e8),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x521e1f(0x3a9),'strokeColor':_0x521e1f(0x3d4),'windowInfo':[{'callback':()=>{return'page\x20up';}}]},{'type':_0x521e1f(0x162),'callback':()=>{_0x356632['value']++;},'txt':'∨','txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x521e1f(0x3a9),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x5cbf4b=_0x521e1f;return _0x5cbf4b(0xf9);}}]},{'type':'txt','txt':'['+_0x356632[_0x521e1f(0x460)]+':'+(_0x356632['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x521e1f(0x3d4),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0x43b561;},this[_0x34bb31(0x223)]=_0xb1c303=>{var _0x1799d7=_0x34bb31;if(!_0xb1c303)return;var _0x17eff7='#000000';switch(_0xb1c303['type']){case TEAM_HUMAN:_0x17eff7=_0x1799d7(0x2e2);break;case TEAM_AI:_0x17eff7=_0x1799d7(0x10a);break;}this[_0x1799d7(0x175)][_0x1799d7(0x3ee)](_0xb1c303[_0x1799d7(0xf6)],GAME_UI_LETTER_SIZE/0x2,0x270f,_0x17eff7,GAME_UI_FONT);};},ControlManager=function(){var _0x2d7120=_0x4750f4;this[_0x2d7120(0x44f)]=[],this['keyUp']=[],this[_0x2d7120(0x480)]={'x':0x0,'y':0x0,'lastTime':new Date()['getTime']()},window[_0x2d7120(0xf0)](_0x2d7120(0x496),_0x5c04cc=>{var _0x4d0dbf=_0x2d7120;if(_0x5c04cc[_0x4d0dbf(0x315)])return;var _0x414c9e=_0x5c04cc[_0x4d0dbf(0x18d)],_0x15e298=_0x5c04cc[_0x4d0dbf(0x47d)];this['keyDown'][_0x15e298]=!![];}),window[_0x2d7120(0xf0)](_0x2d7120(0x34d),_0x148c7e=>{var _0x3f9b42=_0x2d7120,_0x2088f1=_0x148c7e['key'],_0x1fef7f=_0x148c7e[_0x3f9b42(0x47d)];this['keyDown'][_0x1fef7f]=![],this[_0x3f9b42(0x3c1)][_0x1fef7f]=!![];}),window[_0x2d7120(0xf0)]('wheel',_0x208efa=>{var _0x416a33=_0x2d7120,_0x8e5217=_0x208efa[_0x416a33(0x2ba)];if(world[_0x416a33(0x14a)]){if(_0x8e5217>0x0)world[_0x416a33(0x14a)]['changeMapView'](0x0,0x0,0.95);else{if(_0x8e5217<0x0)world[_0x416a33(0x14a)]['changeMapView'](0x0,0x0,1.05);}}}),window[_0x2d7120(0xf0)](_0x2d7120(0x217),_0xe4ae55=>{var _0x439d50=_0x2d7120,_0xd75a44=world[_0x439d50(0x38a)]['canList']['mapFloor'];pos=_0xd75a44[_0x439d50(0x3d9)](_0xe4ae55[_0x439d50(0x26e)],_0xe4ae55[_0x439d50(0x3ac)]),pos&&(this[_0x439d50(0xd1)]={'x':pos['x'],'y':pos['y'],'button':_0xe4ae55[_0x439d50(0x162)]});}),window['addEventListener']('mousemove',_0x4ed0ea=>{var _0xdcae15=_0x2d7120,_0x2169a5=world[_0xdcae15(0x38a)]['canList'][_0xdcae15(0x106)];this[_0xdcae15(0x480)]=_0x2169a5['getPixelPosition'](_0x4ed0ea[_0xdcae15(0x26e)],_0x4ed0ea[_0xdcae15(0x3ac)]);if(this[_0xdcae15(0x480)])this[_0xdcae15(0x480)]['lastTime']=new Date()[_0xdcae15(0x3f8)]();}),this[_0x2d7120(0x4b0)]=()=>{var _0xa3439=_0x2d7120,_0x123a78=![];if(world[_0xa3439(0x14a)]){if(this[_0xa3439(0x44f)][_0xa3439(0x1df)])world[_0xa3439(0x14a)][_0xa3439(0x40d)](0x0,-0.1/world[_0xa3439(0x14a)][_0xa3439(0x396)],0x1);if(this['keyDown'][_0xa3439(0x2cb)])world['map'][_0xa3439(0x40d)](0x0,0.1/world[_0xa3439(0x14a)][_0xa3439(0x396)],0x1);if(this[_0xa3439(0x44f)][_0xa3439(0xd9)])world[_0xa3439(0x14a)][_0xa3439(0x40d)](-0.1/world[_0xa3439(0x14a)][_0xa3439(0x396)],0x0,0x1);if(this[_0xa3439(0x44f)][_0xa3439(0x1a3)])world[_0xa3439(0x14a)][_0xa3439(0x40d)](0.1/world[_0xa3439(0x14a)][_0xa3439(0x396)],0x0,0x1);if(this[_0xa3439(0x44f)][_0xa3439(0x148)])world[_0xa3439(0x14a)][_0xa3439(0x40d)](0x0,-0.1/world[_0xa3439(0x14a)][_0xa3439(0x396)],0x1);if(this[_0xa3439(0x44f)][_0xa3439(0x191)])world['map']['changeMapView'](0x0,0.1/world[_0xa3439(0x14a)]['scale'],0x1);if(this['keyDown'][_0xa3439(0x4bc)])world[_0xa3439(0x14a)][_0xa3439(0x40d)](-0.1/world[_0xa3439(0x14a)][_0xa3439(0x396)],0x0,0x1);if(this[_0xa3439(0x44f)][_0xa3439(0x2e6)])world['map']['changeMapView'](0.1/world['map'][_0xa3439(0x396)],0x0,0x1);if(this[_0xa3439(0x44f)][_0xa3439(0x288)])world['map'][_0xa3439(0x40d)](0x0,0x0,0.95);if(this[_0xa3439(0x44f)][_0xa3439(0x4cb)])world[_0xa3439(0x14a)][_0xa3439(0x40d)](0x0,0x0,1.05);}if(this[_0xa3439(0x3c1)][_0xa3439(0x257)]){if(!world[_0xa3439(0x38a)][_0xa3439(0x412)])world[_0xa3439(0x38a)][_0xa3439(0x11a)]();else world[_0xa3439(0x38a)]['closeFullscreen'](document);world['Music'][_0xa3439(0x265)](_0xa3439(0x1de),undefined,!![]);}for(var _0x22a7f4 in this[_0xa3439(0x3c1)]){if(!_0x123a78&&_0x22a7f4['startsWith']('Digit')||_0x22a7f4[_0xa3439(0xeb)]('Numpad'))_0x22a7f4=_0x22a7f4['replace'](_0xa3439(0x459),'')[_0xa3439(0x484)](_0xa3439(0x441),'');if(world[_0xa3439(0x1b7)]&&!_0x123a78&&world[_0xa3439(0x1b7)][_0xa3439(0xfe)](_0x22a7f4)){world[_0xa3439(0x10d)][_0xa3439(0x265)](_0xa3439(0x1de),undefined,!![]),_0x123a78=!![];if(world[_0xa3439(0x1b7)])world[_0xa3439(0x1b7)]['needRedraw']=!![];break;}if(world['villageUI']&&world[_0xa3439(0x467)][_0xa3439(0xfe)](_0x22a7f4)){world['Music'][_0xa3439(0x265)](_0xa3439(0x1de),undefined,!![]),_0x123a78=!![];if(world['villageUI'])world[_0xa3439(0x467)][_0xa3439(0x3c7)]=!![];break;}if(world[_0xa3439(0x304)]&&world[_0xa3439(0x304)][_0xa3439(0xfe)](_0x22a7f4)){world[_0xa3439(0x10d)][_0xa3439(0x265)](_0xa3439(0x1de),undefined,!![]),_0x123a78=!![];if(world[_0xa3439(0x304)])world[_0xa3439(0x304)][_0xa3439(0x3c7)]=!![];break;}}this[_0xa3439(0x3c1)]=[];if(this[_0xa3439(0xd1)]){if(!_0x123a78&&world[_0xa3439(0x1b7)]&&world[_0xa3439(0x1b7)][_0xa3439(0x11d)](this[_0xa3439(0xd1)])){world[_0xa3439(0x10d)][_0xa3439(0x265)]('click',undefined,!![]),_0x123a78=!![];if(world[_0xa3439(0x1b7)])world[_0xa3439(0x1b7)][_0xa3439(0x3c7)]=!![];}if(!_0x123a78&&world[_0xa3439(0x467)]&&world[_0xa3439(0x467)][_0xa3439(0x11d)](this[_0xa3439(0xd1)])){world[_0xa3439(0x10d)]['playSound'](_0xa3439(0x1de),undefined,!![]),_0x123a78=!![];if(world[_0xa3439(0x467)])world['villageUI'][_0xa3439(0x3c7)]=!![];}if(!_0x123a78&&world[_0xa3439(0x304)]&&world[_0xa3439(0x304)]['getMouseInput'](this[_0xa3439(0xd1)])){world[_0xa3439(0x10d)][_0xa3439(0x265)](_0xa3439(0x1de),undefined,!![]),_0x123a78=!![];if(world[_0xa3439(0x304)])world[_0xa3439(0x304)][_0xa3439(0x3c7)]=!![];}}this[_0xa3439(0xd1)]=undefined;};},PLAYER_WEAPON_IMG=[{'name':_0x4750f4(0x2f3),'center':{'x':0xa1,'y':0xd},'sound':_0x4750f4(0x4c8)},{'name':_0x4750f4(0x28d),'center':{'x':0x28,'y':0x11},'sound':_0x4750f4(0x47a)},{'name':'metal_axe','center':{'x':0x3c,'y':0x40},'sound':_0x4750f4(0x444)},{'name':_0x4750f4(0x1fc),'center':{'x':0x16,'y':0x11},'sound':_0x4750f4(0x46e)},{'name':'stone_axe','center':{'x':0x32,'y':0x37},'sound':_0x4750f4(0x46e)},{'name':_0x4750f4(0x3b8),'center':{'x':0x39,'y':0x25},'sound':_0x4750f4(0x3d0)},{'name':_0x4750f4(0x358),'center':{'x':0x41,'y':0x46},'sound':'mine'},{'name':_0x4750f4(0x1ac),'center':{'x':0xa,'y':0x1a},'sound':'attack_metal_slash'},{'name':_0x4750f4(0x141),'center':{'x':0x1f,'y':0x29},'sound':_0x4750f4(0x134)}],WEAPON_TYPE=[{'name':'Wood\x20Stick','Img':_0x4750f4(0x1fc),'weaponAnim':'sword','bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':'getBlockAdjacent','input':{}},'zoneTarget':[{'callback':_0x4750f4(0x4ad),'damageBase':[{'stats':'Strength','type':_0x4750f4(0xff),'value':0x1}]}]},{'name':_0x4750f4(0x144),'Img':_0x4750f4(0x2f3),'weaponAnim':'spear','bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x4750f4(0x4ad),'damageBase':[{'stats':_0x4750f4(0x1ee),'type':_0x4750f4(0x408),'value':1.5}]},{'callback':_0x4750f4(0x1b4),'damageBase':[{'stats':_0x4750f4(0x1ee),'type':'piercing','value':0.5}]}]},{'name':'Stone\x20Axe','Img':_0x4750f4(0x15d),'weaponAnim':_0x4750f4(0x3e1),'bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':_0x4750f4(0x197),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x4750f4(0x4ad),'damageBase':[{'stats':_0x4750f4(0x1ee),'type':_0x4750f4(0xff),'value':0x1},{'stats':_0x4750f4(0x1ee),'type':_0x4750f4(0x2c4),'value':0x1}]}]},{'name':'Metal\x20Sword','Img':_0x4750f4(0x28d),'weaponAnim':_0x4750f4(0x3e1),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':_0x4750f4(0x197),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x4750f4(0x4ad),'damageBase':[{'stats':'Strength','type':_0x4750f4(0x408),'value':1.5},{'stats':_0x4750f4(0x1ee),'type':'slashing','value':1.5}]}]},{'name':'Metal\x20Axe','Img':_0x4750f4(0x4c1),'weaponAnim':_0x4750f4(0x27f),'actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':_0x4750f4(0x197),'input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':'Strength','type':'crushing','value':0x2},{'stats':_0x4750f4(0x1ee),'type':'slashing','value':0x2}]},{'callback':'getBlocksAtRange','callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':_0x4750f4(0x1ee),'type':_0x4750f4(0xff),'value':0.2},{'stats':_0x4750f4(0x1ee),'type':_0x4750f4(0x2c4),'value':0.2}]}]},{'name':_0x4750f4(0xe1),'Img':_0x4750f4(0x3b8),'weaponAnim':_0x4750f4(0x321),'bonus':[],'projectil':{'ammo':_0x4750f4(0xbc),'projectilSpeed':0x64,'sound':'arrow_projectil'},'actionCost':0x32,'blockTargetingFunction':{'callback':_0x4750f4(0x45c),'input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':_0x4750f4(0x4ad),'damageBase':[{'stats':_0x4750f4(0x369),'type':_0x4750f4(0x408),'value':0x1}]}]},{'name':_0x4750f4(0x457),'Img':_0x4750f4(0x358),'weaponAnim':_0x4750f4(0x3e1),'actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':_0x4750f4(0x376),'input':{}},'zoneTarget':[{'callback':_0x4750f4(0x4ad),'damageBase':[{'stats':_0x4750f4(0x1ee),'type':_0x4750f4(0x408),'value':0x2}]}]},{'name':'Copper\x20Cleaver','Img':_0x4750f4(0x1ac),'weaponAnim':_0x4750f4(0x3e1),'actionCost':0x1e,'bonus':[],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x4750f4(0x376),'input':{}},'zoneTarget':[{'callback':_0x4750f4(0x4ad),'damageBase':[{'stats':_0x4750f4(0x369),'type':_0x4750f4(0x2c4),'value':1.7}]}]},{'name':_0x4750f4(0x4ac),'Img':_0x4750f4(0x141),'weaponAnim':'sword','actionCost':0x36,'bonus':[BONUS_FORGE_UPPGRADE],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x4750f4(0x376),'input':{}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x4750f4(0x1ee),'type':_0x4750f4(0x16a),'value':2.3}]}]}],Weapon=function(){var _0x1816cd=_0x4750f4;this[_0x1816cd(0x13e)]=_0x1816cd(0xbd),this['name'],this[_0x1816cd(0x38c)],this[_0x1816cd(0x2dd)],this[_0x1816cd(0x1ab)],this[_0x1816cd(0x20f)],this[_0x1816cd(0x186)],this[_0x1816cd(0x17e)],this['bonus'],this[_0x1816cd(0xf7)],this[_0x1816cd(0x2d8)]=_0x296add=>{var _0x1833ed=_0x1816cd;if(!_0x296add||!_0x296add[_0x1833ed(0x4b4)])return console['log']('can\x27t\x20create\x20this\x20weapon');var _0x5778c0=WEAPON_TYPE[_0x1833ed(0x1bb)](_0x1e464=>_0x1e464[_0x1833ed(0x4b4)]==_0x296add[_0x1833ed(0x4b4)]);if(!_0x5778c0)return console['log'](_0x1833ed(0x1ed));var _0x5146b0=PLAYER_WEAPON_IMG['find'](_0x4e6835=>_0x4e6835[_0x1833ed(0x4b4)]==_0x5778c0[_0x1833ed(0xf1)]);if(!_0x5146b0)return console[_0x1833ed(0x2bb)](_0x1833ed(0x1ed));return this[_0x1833ed(0x2dd)]=_0x5146b0['name'],this['name']=_0x296add[_0x1833ed(0x4b4)],this[_0x1833ed(0x1ab)]=_0x5778c0[_0x1833ed(0x38c)],this[_0x1833ed(0x20f)]=_0x5778c0[_0x1833ed(0x20f)],this[_0x1833ed(0x186)]=_0x5778c0[_0x1833ed(0x186)],this[_0x1833ed(0x17e)]=_0x5778c0[_0x1833ed(0x17e)],this[_0x1833ed(0x30d)]=_0x5778c0[_0x1833ed(0x30d)],this['bonus']=_0x5778c0[_0x1833ed(0x24a)],this[_0x1833ed(0xf7)]=_0x5778c0[_0x1833ed(0xf7)],this;},this[_0x1816cd(0x3bd)]=_0x336415=>{for(var _0x4f238a in _0x336415){this[_0x4f238a]=_0x336415[_0x4f238a];}return this;},this[_0x1816cd(0xf4)]=()=>{var _0x35b7ab=_0x1816cd,_0x37cfc9=WEAPON_TYPE[Math['floor'](Math[_0x35b7ab(0x366)]()*WEAPON_TYPE['length'])];return this['createNewWeapon']({'name':_0x37cfc9[_0x35b7ab(0x4b4)]});},this['getWeaponAttackDescription']=()=>{var _0x2a0ea7=_0x1816cd,_0x4e57db=_0x2a0ea7(0x3bb)+this[_0x2a0ea7(0x4b4)]+_0x2a0ea7(0x3e9)+this[_0x2a0ea7(0x186)]+_0x2a0ea7(0x371);switch(this['blockTargetingFunction'][_0x2a0ea7(0x291)]){case _0x2a0ea7(0x376):_0x4e57db+=_0x2a0ea7(0x2e8);break;case _0x2a0ea7(0x197):_0x4e57db+=_0x2a0ea7(0x43d)+this[_0x2a0ea7(0x17e)][_0x2a0ea7(0x342)][_0x2a0ea7(0xce)]+','+this[_0x2a0ea7(0x17e)]['input'][_0x2a0ea7(0xe7)]+']';break;}for(var _0xab8a24 in this['zoneTarget']){var _0x4541c9=this[_0x2a0ea7(0x20f)][_0xab8a24];switch(_0x4541c9['callback']){case _0x2a0ea7(0x4ad):_0x4e57db+=_0x2a0ea7(0x38b);break;case _0x2a0ea7(0x1b4):var _0x4fd80b=_0x4541c9[_0x2a0ea7(0x476)]?_0x4541c9[_0x2a0ea7(0x476)][_0x2a0ea7(0xce)]:0x1,_0x5bdc3d=_0x4541c9[_0x2a0ea7(0x476)]?_0x4541c9[_0x2a0ea7(0x476)]['rangeMax']:0x1;_0x4e57db+=_0x2a0ea7(0x38e)+[_0x4fd80b,_0x5bdc3d]+']\x20blocks\x20behind\x20the\x20target';break;case'getBlocksAtRange':var _0x4fd80b=_0x4541c9[_0x2a0ea7(0x476)]?_0x4541c9[_0x2a0ea7(0x476)]['rangeMin']:0x1,_0x5bdc3d=_0x4541c9[_0x2a0ea7(0x476)]?_0x4541c9[_0x2a0ea7(0x476)][_0x2a0ea7(0xe7)]:0x1;_0x4e57db+=_0x2a0ea7(0x3e4)+[_0x4fd80b,_0x5bdc3d]+_0x2a0ea7(0x4ae);break;}for(var _0x4096d0 in _0x4541c9['damageBase']){var _0x57e751=_0x4541c9[_0x2a0ea7(0x30f)][_0x4096d0];_0x4e57db+=_0x2a0ea7(0x440)+_0x57e751[_0x2a0ea7(0x460)]+'\x20'+_0x57e751[_0x2a0ea7(0x110)]+'\x20'+_0x57e751[_0x2a0ea7(0x245)]+_0x2a0ea7(0x132);}}for(var _0xab8a24 in this[_0x2a0ea7(0x24a)])if(BONUS_DESCRIPTION[this['bonus']])_0x4e57db+='\x0a'+BONUS_DESCRIPTION[this[_0x2a0ea7(0x24a)]];return _0x4e57db;},this['getChanceUppgrade']=()=>{var _0x281f12=_0x1816cd;if(!this[_0x281f12(0xf7)])return![];return Math[_0x281f12(0x486)](0x64*(0x1/(0x2+this[_0x281f12(0xf7)])));},this[_0x1816cd(0x32e)]=_0x5389ef=>{var _0x3f3551=_0x1816cd;if(!this[_0x3f3551(0xf7)]||!_0x5389ef||!_0x5389ef['player']||!_0x5389ef['player'][_0x3f3551(0x2aa)])return![];var _0x2ee985=Math[_0x3f3551(0x220)](Math[_0x3f3551(0x366)]()*0x64),_0x3382d5=_0x5389ef[_0x3f3551(0x143)],_0x500bde=0x1;_0x3382d5[_0x3f3551(0x2aa)]=0x0;if(_0x3382d5[_0x3f3551(0xbd)]&&_0x3382d5['weapon']['bonus'][_0x3f3551(0x1bb)](_0x5a1322=>_0x5a1322==BONUS_FORGE_UPPGRADE))_0x500bde++;if(_0x2ee985/_0x500bde-_0x3382d5['villageActionPoint']/0x2<this['getChanceUppgrade']()){var _0x39201b=Math['floor'](Math[_0x3f3551(0x366)]()*this[_0x3f3551(0x20f)][_0x3f3551(0x1c7)]),_0xfe443b=this['zoneTarget'][_0x39201b],_0x124158=Math[_0x3f3551(0x220)](Math['random']()*_0xfe443b['damageBase'][_0x3f3551(0x1c7)]),_0x47ddef=_0xfe443b[_0x3f3551(0x30f)][_0x124158][_0x3f3551(0x460)]*0.1,_0x2ab3c0=_0x47ddef[_0x3f3551(0x3ec)](0x1);_0x47ddef=parseFloat((_0xfe443b[_0x3f3551(0x30f)][_0x124158][_0x3f3551(0x460)]+_0x47ddef)[_0x3f3551(0x3ec)](0x1));if(_0x47ddef<0.1)_0x47ddef=0.1;return _0xfe443b[_0x3f3551(0x30f)][_0x124158][_0x3f3551(0x460)]=_0x47ddef,this[_0x3f3551(0xf7)]++,world[_0x3f3551(0x171)]['MessageSystem'][_0x3f3551(0x413)]({'type':'job','txt':_0x3f3551(0x1f5)+this[_0x3f3551(0x4b4)]+'\x27\x20'+_0xfe443b[_0x3f3551(0x30f)][_0x124158][_0x3f3551(0x110)]+'\x20'+_0xfe443b[_0x3f3551(0x30f)][_0x124158]['type']+_0x3f3551(0x42f)+_0x2ab3c0}),!![];}return world[_0x3f3551(0x171)]['MessageSystem'][_0x3f3551(0x413)]({'type':_0x3f3551(0x429),'txt':_0x3f3551(0x3e3)+this[_0x3f3551(0x4b4)]+_0x3f3551(0x43b)}),![];};};function CalculeDamageWeaponFromPlayerStats(_0xaf1af7){var _0x4e4790=_0x4750f4;if(!_0xaf1af7||!_0xaf1af7[_0x4e4790(0x143)]||!_0xaf1af7[_0x4e4790(0x2ea)])return undefined;var _0x4cd6b9=_0xaf1af7[_0x4e4790(0x2ea)],_0x5b8b6f=_0xaf1af7[_0x4e4790(0x143)],_0x286e70=[];for(var _0x3fcdd7 in _0x4cd6b9)_0x286e70[_0x4e4790(0x234)]({'type':_0x4cd6b9[_0x3fcdd7][_0x4e4790(0x245)],'value':_0x5b8b6f[_0x4e4790(0x110)][_0x4cd6b9[_0x3fcdd7]['stats']]*_0x4cd6b9[_0x3fcdd7]['value']});return _0x286e70;}PLAYER_ARMOR=[{'name':'Wood\x20Armor','img':_0x4750f4(0x447),'dmgArmor':[{'damage':'crushing','type':_0x4750f4(0x48f),'value':0x14},{'damage':'piercing','value':0x2}]},{'name':'Miner\x20helmet','img':'miner_helmet','dmgArmor':[{'damage':'crushing','type':_0x4750f4(0x48f),'value':0x19},{'damage':_0x4750f4(0xff),'value':0x5}]},{'name':_0x4750f4(0x482),'img':'copper_armor','dmgArmor':[{'damage':_0x4750f4(0x2c4),'type':'factor','value':0x5},{'damage':_0x4750f4(0x2c4),'value':0xa}]}],Armor=function(){var _0x19e503=_0x4750f4;this[_0x19e503(0x13e)]='armor',this[_0x19e503(0x4b4)],this['img'],this[_0x19e503(0x116)],this[_0x19e503(0x2dc)]=_0x195107=>{var _0x58b9fb=_0x19e503;if(!_0x195107||!_0x195107['name'])return undefined;this[_0x58b9fb(0x4b4)]=_0x195107['name'];var _0x53d260=PLAYER_ARMOR[_0x58b9fb(0x1bb)](_0x17bcd0=>_0x17bcd0[_0x58b9fb(0x4b4)]==_0x195107[_0x58b9fb(0x4b4)]);if(!_0x53d260)return undefined;return this[_0x58b9fb(0x2dd)]=_0x53d260[_0x58b9fb(0x2dd)]?_0x53d260['img']:this[_0x58b9fb(0x4b4)],this[_0x58b9fb(0x116)]=_0x53d260['dmgArmor'],this;},this[_0x19e503(0x2f4)]=_0x3ade3a=>{for(var _0x2f1aae in _0x3ade3a)this[_0x2f1aae]=_0x3ade3a[_0x2f1aae];return this;},this[_0x19e503(0x178)]=()=>{var _0x38cdd2=_0x19e503;return this[_0x38cdd2(0x2dc)]({'name':PLAYER_ARMOR[Math[_0x38cdd2(0x220)](Math['random']()*PLAYER_ARMOR[_0x38cdd2(0x1c7)])][_0x38cdd2(0x4b4)]});},this[_0x19e503(0x453)]=_0x3fcba1=>{var _0x339b1a=_0x19e503;if(!_0x3fcba1||!_0x3fcba1[_0x339b1a(0x308)]||_0x3fcba1['damages'][_0x339b1a(0x1c7)]<0x1)return 0x0;var _0x7e7d25=0x0;for(var _0x52611f in _0x3fcba1['damages']){var _0xa36bc4=_0x3fcba1[_0x339b1a(0x308)][_0x52611f],_0x3854ca=_0xa36bc4[_0x339b1a(0x460)];console[_0x339b1a(0x2bb)](_0x339b1a(0x23f)+_0xa36bc4+'\x20'+_0x3854ca);for(var _0x1e10ec in this['dmgArmor']){var _0x565f62=this[_0x339b1a(0x116)][_0x1e10ec];console[_0x339b1a(0x2bb)]('check\x20protect\x20'+[_0x565f62[_0x339b1a(0x2ea)],_0x565f62[_0x339b1a(0x245)],_0xa36bc4[_0x339b1a(0x245)]]);if(_0x565f62[_0x339b1a(0x2ea)]==_0xa36bc4[_0x339b1a(0x245)]){console['log']('reducing\x20'+_0xa36bc4['type']+_0x339b1a(0x1a7)+_0x565f62['value']+_0x339b1a(0x1b6)+_0x565f62['type']);if(_0x565f62[_0x339b1a(0x245)])_0x3854ca=_0x3854ca*(0x1-_0x565f62[_0x339b1a(0x460)]/0x64);else _0x3854ca=_0x3854ca-_0x565f62['value'];}}if(_0x3854ca>0x0)_0x7e7d25+=_0x3854ca;}console[_0x339b1a(0x2bb)](_0x339b1a(0x11e)+_0x7e7d25+'\x20('+Math[_0x339b1a(0x220)](_0x7e7d25)+')');if(_0x7e7d25>0x0)return parseInt(_0x7e7d25);return 0x0;},this['getArmorDescription']=()=>{var _0x4d81eb=_0x19e503,_0xad142='\x27'+this[_0x4d81eb(0x4b4)]+'\x27';for(var _0x5ba940 in this[_0x4d81eb(0x116)]){_0xad142+='\x0a-reduce\x20';if(this[_0x4d81eb(0x116)][_0x5ba940]['type'])_0xad142+=this[_0x4d81eb(0x116)][_0x5ba940][_0x4d81eb(0x460)]+'\x20%\x20of\x20';else _0xad142+=this[_0x4d81eb(0x116)][_0x5ba940]['value']+'\x20';_0xad142+=this[_0x4d81eb(0x116)][_0x5ba940]['damage']+_0x4d81eb(0x4b6);}return _0xad142;};},HUMAN_NAME_LIST=['Lilianna\x20Doyle',_0x4750f4(0x33b),_0x4750f4(0x117),'Boden\x20Archer',_0x4750f4(0x159),'Collin\x20Snow',_0x4750f4(0x402),_0x4750f4(0x254),_0x4750f4(0x221),_0x4750f4(0x409),_0x4750f4(0x31c),_0x4750f4(0x461),'Khloe\x20Horn',_0x4750f4(0x49b),_0x4750f4(0x2c0),_0x4750f4(0x35d),'Sariah\x20Cabrera',_0x4750f4(0x2ae),_0x4750f4(0x112),'Kingston\x20Howell',_0x4750f4(0x3ad),'Braden\x20Lucero',_0x4750f4(0x303),'Cole\x20Clayton','Saige\x20McBride',_0x4750f4(0x138),'Murphy\x20Nava',_0x4750f4(0x278),_0x4750f4(0x349),_0x4750f4(0x4b3),_0x4750f4(0x3a0),'Ares\x20Long',_0x4750f4(0x354),_0x4750f4(0x370),_0x4750f4(0x48a),_0x4750f4(0x479),_0x4750f4(0x39c),_0x4750f4(0x2cd),'Lia\x20Diaz',_0x4750f4(0x305),'Kaydence\x20Xiong',_0x4750f4(0x46d),_0x4750f4(0x30e),_0x4750f4(0x1a1),_0x4750f4(0x314),_0x4750f4(0x3c4),_0x4750f4(0x3b9),_0x4750f4(0x345),'Vada\x20Conley','Marvin\x20Herrera',_0x4750f4(0x3ea),_0x4750f4(0x377),_0x4750f4(0x323),_0x4750f4(0x27e),_0x4750f4(0x35f),_0x4750f4(0x3e2),'Ruth\x20Stout','Callahan\x20Schmitt','Queen\x20Watson',_0x4750f4(0x1bf),_0x4750f4(0x1cf),_0x4750f4(0x439),_0x4750f4(0x129),_0x4750f4(0x2b3),_0x4750f4(0x44e),_0x4750f4(0x443),_0x4750f4(0x1d9),_0x4750f4(0x39d),_0x4750f4(0x1d4),_0x4750f4(0x469),_0x4750f4(0x340),_0x4750f4(0x445),_0x4750f4(0x380),_0x4750f4(0x3ab),'Tiana\x20Daniel',_0x4750f4(0x22a),_0x4750f4(0x20b),_0x4750f4(0x174),_0x4750f4(0x11f),_0x4750f4(0x40b),'Meilani\x20Olson',_0x4750f4(0x13c),_0x4750f4(0x2f9),'Archer\x20Baxter',_0x4750f4(0x11b),'Stephen\x20Bartlett',_0x4750f4(0x491),_0x4750f4(0x437),_0x4750f4(0xd4),_0x4750f4(0x458),_0x4750f4(0x462),'David\x20Grant',_0x4750f4(0x4bf),_0x4750f4(0x211),_0x4750f4(0xcf),_0x4750f4(0x332),_0x4750f4(0x431),_0x4750f4(0x40f),'Marisol\x20Humphrey',_0x4750f4(0x156)],MessageSystem=function(){var _0x326222=_0x4750f4;world['MessageSystem']=this,this[_0x326222(0x3ae)]=[],COLOR_SYSTEM_DEFAULT=_0x326222(0x3d4),MAX_MESSAGE=0xc8,this[_0x326222(0x413)]=_0x762e6d=>{var _0x2241a8=_0x326222;if(!_0x762e6d||!_0x762e6d['txt'])return;this[_0x2241a8(0x3ae)][_0x2241a8(0x1ce)]({'type':_0x762e6d[_0x2241a8(0x245)],'txt':_0x762e6d[_0x2241a8(0xf6)]});while(this[_0x2241a8(0x3ae)][_0x2241a8(0x1c7)]>MAX_MESSAGE)this[_0x2241a8(0x3ae)]['pop']();},this[_0x326222(0x413)]({'txt':_0x326222(0x240)}),this['getMessageSystem']=_0x4e1c56=>{var _0x3ca436=_0x326222;if(!_0x4e1c56||!this[_0x3ca436(0x3ae)]||this['msg'][_0x3ca436(0x1c7)]<0x1)return[];var _0xec0bb0=_0x4e1c56[_0x3ca436(0x1e3)]&&_0x4e1c56[_0x3ca436(0x1e3)]<this['msg']['length']?_0x4e1c56[_0x3ca436(0x1e3)]:0x0,_0x120fac=_0x4e1c56[_0x3ca436(0x395)]?_0x4e1c56[_0x3ca436(0x395)]:0xa;while(_0xec0bb0+_0x120fac>this[_0x3ca436(0x3ae)]['length']&&_0x120fac>0x0)_0x120fac--;var _0x1374f4=[],_0x4e0077=0x0;while(_0x4e0077<_0x120fac&&this[_0x3ca436(0x3ae)][_0xec0bb0+_0x4e0077]){_0x1374f4[_0x3ca436(0x234)](this[_0x3ca436(0x3ae)][_0xec0bb0+_0x4e0077]),_0x4e0077++;}return _0x1374f4;};},PlayerVillage=function(_0x172bc0){var _0x2be2ce=_0x4750f4;this[_0x2be2ce(0x4b4)]=_0x172bc0[_0x2be2ce(0x4b4)]?_0x172bc0[_0x2be2ce(0x4b4)]:HUMAN_NAME_LIST[Math[_0x2be2ce(0x220)](Math[_0x2be2ce(0x366)]()*HUMAN_NAME_LIST[_0x2be2ce(0x1c7)])],this[_0x2be2ce(0x2eb)]=_0x172bc0[_0x2be2ce(0x2eb)]?_0x172bc0[_0x2be2ce(0x2eb)]:{'r':Math['floor'](Math[_0x2be2ce(0x366)]()*0x100),'g':Math[_0x2be2ce(0x220)](Math[_0x2be2ce(0x366)]()*0x100),'b':Math[_0x2be2ce(0x220)](Math[_0x2be2ce(0x366)]()*0x100)},this['bodyPartImg']=undefined,this[_0x2be2ce(0x414)]=![],this['face_type']=_0x172bc0['face_type']?_0x172bc0[_0x2be2ce(0x442)]:PLAYER_FACE_IMG[Math['floor'](Math[_0x2be2ce(0x366)]()*PLAYER_FACE_IMG[_0x2be2ce(0x1c7)])],this[_0x2be2ce(0x1dd)]=_0x172bc0[_0x2be2ce(0x1dd)]?_0x172bc0[_0x2be2ce(0x1dd)]:PLAYER_BODY_IMG[Math[_0x2be2ce(0x220)](Math[_0x2be2ce(0x366)]()*PLAYER_BODY_IMG['length'])],this[_0x2be2ce(0x335)]=_0x172bc0[_0x2be2ce(0x335)]?_0x172bc0[_0x2be2ce(0x335)]:undefined,this[_0x2be2ce(0xbd)]=_0x172bc0[_0x2be2ce(0xbd)]?_0x172bc0[_0x2be2ce(0xbd)]:undefined,this[_0x2be2ce(0x142)]=_0x172bc0[_0x2be2ce(0x142)]?_0x172bc0[_0x2be2ce(0x142)]:0x64,this[_0x2be2ce(0x246)]=_0x172bc0[_0x2be2ce(0x246)]?_0x172bc0[_0x2be2ce(0x246)]:0x64,this[_0x2be2ce(0x367)]=_0x172bc0[_0x2be2ce(0x367)]?_0x172bc0[_0x2be2ce(0x367)]:0x64,this[_0x2be2ce(0x110)]=_0x172bc0[_0x2be2ce(0x110)],this[_0x2be2ce(0x35b)]=_0x172bc0[_0x2be2ce(0x35b)]?_0x172bc0[_0x2be2ce(0x35b)]:PLAYER_DEFAUTL_MOVECOST,this[_0x2be2ce(0x17f)]=_0x172bc0[_0x2be2ce(0x17f)]?_0x172bc0['size']:0x1,this['id']=PLAYER_ID++,this[_0x2be2ce(0x2fc)]=_0x172bc0['villageActionPointMax']?_0x172bc0[_0x2be2ce(0x2fc)]:0xa,this[_0x2be2ce(0x2aa)]=this['villageActionPointMax'],this[_0x2be2ce(0x450)]=_0x172bc0[_0x2be2ce(0x450)]?_0x172bc0['ago']:0x0,this[_0x2be2ce(0x150)]=_0x172bc0[_0x2be2ce(0x150)]?_0x172bc0[_0x2be2ce(0x150)]:0x1,this['lvlup']=_0x172bc0['lvlup']?_0x172bc0['lvlup']:0x0,this[_0x2be2ce(0x1e9)]=[],this['getLvlUpPerkList']=()=>{var _0x264c57=_0x2be2ce,_0x2f8fa4=[],_0x376d9a=Math[_0x264c57(0x220)](Math[_0x264c57(0x366)]()*0x64),_0x4eff62=_0x264c57(0x110),_0x36ebe8=[{'type':_0x264c57(0x110),'stat':_0x264c57(0x1ee),'value':0x1},{'type':_0x264c57(0x110),'stat':_0x264c57(0x369),'value':0x1},{'type':'playerstats','stat':'lifeMax','value':0x5},{'type':_0x264c57(0x4cf),'stat':_0x264c57(0x142),'value':0x2},{'type':_0x264c57(0x4cf),'stat':'movePCost','value':-0x1},{'type':_0x264c57(0x4cf),'stat':'ActionPointMax','value':0x4},{'type':'playerstats','stat':_0x264c57(0x2fc),'value':0x5}];while(_0x2f8fa4[_0x264c57(0x1c7)]<0x3){for(var _0x216716 in _0x36ebe8){if(Math[_0x264c57(0x220)](Math[_0x264c57(0x366)]()*0x64)<0x32)_0x2f8fa4[_0x264c57(0x234)](_0x36ebe8[_0x216716]);if(_0x2f8fa4[_0x264c57(0x1c7)]>0x2)break;}}return this[_0x264c57(0x1e9)]=_0x2f8fa4,_0x2f8fa4;},this[_0x2be2ce(0x101)]=_0x2250b9=>{var _0x56a303=_0x2be2ce;if(!_0x2250b9||!_0x2250b9['type']||!this[_0x56a303(0x477)])return;if(_0x2250b9[_0x56a303(0x245)]==_0x56a303(0x4cf))this[_0x2250b9[_0x56a303(0x425)]]+=_0x2250b9[_0x56a303(0x460)];else _0x2250b9['type']==_0x56a303(0x110)&&(this[_0x56a303(0x110)][_0x2250b9[_0x56a303(0x425)]]+=_0x2250b9[_0x56a303(0x460)]);world[_0x56a303(0x171)]['MessageSystem'][_0x56a303(0x413)]({'type':_0x56a303(0x143),'txt':this[_0x56a303(0x4b4)]+_0x56a303(0x193)+_0x2250b9['stat']+'\x20'+_0x2250b9['value']}),this[_0x56a303(0x1e9)]=[],this[_0x56a303(0x477)]--,this['lvl']++;},this[_0x2be2ce(0x3a2)]=()=>{var _0x43130f=_0x2be2ce,_0x4b4ed1=0x32*(0x1-this[_0x43130f(0x150)]/0x64),_0x12b3c0=Math['floor'](Math[_0x43130f(0x366)]()*0x64);if(_0x12b3c0<_0x4b4ed1)return this['lvlup']++,world['village'][_0x43130f(0x326)][_0x43130f(0x413)]({'type':'player','txt':this[_0x43130f(0x4b4)]+_0x43130f(0x14f)}),world[_0x43130f(0x10d)][_0x43130f(0x265)]('lvlup'),!![];return![];},this[_0x2be2ce(0xc8)]=()=>{var _0x40902a=_0x2be2ce,_0x4089a0=''+this[_0x40902a(0x4b4)];_0x4089a0+='\x0a'+_0x40902a(0x4af)+this['lifeMax'],_0x4089a0+='\x0a'+'Action\x20Point\x20:\x20'+this['ActionPointMax'],_0x4089a0+='\x0a'+_0x40902a(0x341)+this[_0x40902a(0x142)];for(var _0x47903b in this[_0x40902a(0x110)])_0x4089a0+='\x0a'+_0x47903b+'\x20:\x20'+this[_0x40902a(0x110)][_0x47903b];return this[_0x40902a(0xbd)]&&(_0x4089a0+='\x0a'+_0x40902a(0x346)+this[_0x40902a(0xbd)]['name']+'\x27',_0x4089a0+='\x0a'+_0x40902a(0x3c8)+[this['weapon'][_0x40902a(0x17e)]['callback']]),_0x4089a0;},this[_0x2be2ce(0x4b8)]=()=>{var _0x145fa8=_0x2be2ce;if(!this[_0x145fa8(0x2aa)])return[];var _0x32175e=world[_0x145fa8(0x171)][_0x145fa8(0x3ce)](this);if(!_0x32175e||!_0x32175e[_0x145fa8(0xc1)]||!_0x32175e['callback_actionPlayer']['length'])return[];var _0x388161=_0x32175e[_0x145fa8(0xc1)][_0x145fa8(0x368)](_0x393436=>_0x393436[_0x145fa8(0x212)]<=this['villageActionPoint']);return _0x388161;},this[_0x2be2ce(0x3de)]=()=>{var _0x5d53d1=_0x2be2ce;this[_0x5d53d1(0xbd)]&&(world[_0x5d53d1(0x171)][_0x5d53d1(0x286)]({'weapon':this[_0x5d53d1(0xbd)]}),this['weapon']=undefined);},this[_0x2be2ce(0x49c)]=()=>{var _0x59e193=_0x2be2ce;if(this[_0x59e193(0x335)])world[_0x59e193(0x171)][_0x59e193(0x310)]({'armor':this[_0x59e193(0x335)]});this[_0x59e193(0x335)]=undefined,this[_0x59e193(0x414)]=![];},this[_0x2be2ce(0x169)]=_0x2658a6=>{var _0x105023=_0x2be2ce;if(!_0x2658a6||!_0x2658a6[_0x105023(0x471)])return;if(_0x2658a6[_0x105023(0x471)]['itemType']==_0x105023(0x335))this['unequipArmor']();else{if(_0x2658a6[_0x105023(0x471)]['itemType']==_0x105023(0xbd))this[_0x105023(0x3de)]();}},this[_0x2be2ce(0x400)]=_0x4cff8e=>{var _0x261795=_0x2be2ce;if(!_0x4cff8e||!_0x4cff8e[_0x261795(0xbd)])return;var _0x538dd7=-0x1;for(var _0x3fd9b0 in world[_0x261795(0x171)][_0x261795(0x153)])if(world['village'][_0x261795(0x153)][_0x3fd9b0]==_0x4cff8e[_0x261795(0xbd)])_0x538dd7=_0x3fd9b0;if(_0x538dd7==-0x1)return;if(this[_0x261795(0xbd)])this[_0x261795(0x3de)]();this['weapon']=_0x4cff8e['weapon'],world[_0x261795(0x171)][_0x261795(0x153)][_0x261795(0x49a)](_0x538dd7,0x1);if(world[_0x261795(0x467)]&&world[_0x261795(0x467)][_0x261795(0x1ea)]==_0x4cff8e['weapon'])world['villageUI'][_0x261795(0x1ea)]=undefined;},this['equipArmor']=_0x30a373=>{var _0x19f77a=_0x2be2ce;if(!_0x30a373||!_0x30a373[_0x19f77a(0x335)])return;var _0x4ccb9e=-0x1;for(var _0x1c1b85 in world[_0x19f77a(0x171)][_0x19f77a(0x153)])if(world['village'][_0x19f77a(0x153)][_0x1c1b85]==_0x30a373['armor'])_0x4ccb9e=_0x1c1b85;if(_0x4ccb9e==-0x1)return;if(this[_0x19f77a(0x335)])this[_0x19f77a(0x49c)]();this[_0x19f77a(0x335)]=_0x30a373[_0x19f77a(0x335)],world['village'][_0x19f77a(0x153)][_0x19f77a(0x49a)](_0x4ccb9e,0x1);if(world[_0x19f77a(0x467)]&&world[_0x19f77a(0x467)][_0x19f77a(0x1ea)]==_0x30a373[_0x19f77a(0x335)])world[_0x19f77a(0x467)][_0x19f77a(0x1ea)]=undefined;this[_0x19f77a(0x414)]=![];},this[_0x2be2ce(0x238)]=_0x86d2a1=>{var _0x567dd6=_0x2be2ce;if(!_0x86d2a1||!_0x86d2a1[_0x567dd6(0x471)])return;if(_0x86d2a1[_0x567dd6(0x471)][_0x567dd6(0x13e)]=='armor')this[_0x567dd6(0x1d7)]();else{if(_0x86d2a1[_0x567dd6(0x471)][_0x567dd6(0x13e)]==_0x567dd6(0xbd))this['equipWeapon']();}},this[_0x2be2ce(0x46b)]=()=>{var _0x128948=_0x2be2ce,_0x2a0bdc=world[_0x128948(0x379)];if(!this[_0x128948(0x442)])this[_0x128948(0x442)]=PLAYER_FACE_IMG[Math[_0x128948(0x220)](Math[_0x128948(0x366)]()*PLAYER_FACE_IMG[_0x128948(0x1c7)])];if(!this['body_type'])this[_0x128948(0x1dd)]=PLAYER_BODY_IMG[Math[_0x128948(0x220)](Math[_0x128948(0x366)]()*PLAYER_BODY_IMG[_0x128948(0x1c7)])];var _0x37bf91=[];_0x37bf91[_0x128948(0x234)]({'name':this[_0x128948(0x1dd)],'needColor':!![]}),_0x37bf91['push']({'name':this[_0x128948(0x442)],'needColor':![]});if(this[_0x128948(0x335)])_0x37bf91['push']({'name':this[_0x128948(0x335)][_0x128948(0x4b4)],'needColor':![]});for(var _0x32db3e in _0x37bf91)if(!_0x2a0bdc[_0x37bf91[_0x32db3e][_0x128948(0x4b4)]]||!_0x2a0bdc[_0x37bf91[_0x32db3e]['name']]['ready'])return console[_0x128948(0x2bb)](_0x128948(0x18f)+_0x37bf91[_0x32db3e]['name']);var _0x568e1d=document['createElement'](_0x128948(0x213));_0x568e1d[_0x128948(0x3a3)]=PLAYER_DEFAULT_SIZEX,_0x568e1d[_0x128948(0x21d)]=PLAYER_DEFAULT_SIZEY;var _0xca8f46=_0x568e1d['getContext']('2d');for(var _0x32db3e in _0x37bf91){var _0x1a6eae=_0x37bf91[_0x32db3e][_0x128948(0x4b4)];if(!_0x2a0bdc[_0x1a6eae])return console[_0x128948(0x2bb)](_0x128948(0x267)+_0x1a6eae);var _0x5ae094=undefined;if(_0x37bf91[_0x32db3e]['needColor'])_0x5ae094=_0x2a0bdc[_0x1a6eae][_0x128948(0x176)](0x0,0xff,0x0,this['color']['r'],this[_0x128948(0x2eb)]['g'],this[_0x128948(0x2eb)]['b']);else _0x5ae094=_0x2a0bdc[_0x1a6eae]['img'];if(!_0x5ae094||!_0x5ae094[_0x128948(0x4ce)])return console['log'](_0x128948(0x15b));_0xca8f46['drawImage'](_0x5ae094,0x0,0x0);}var _0x5ae094=new Image();return _0x5ae094[_0x128948(0x298)]=_0x568e1d['toDataURL'](),this[_0x128948(0x4b2)]=_0x5ae094,console[_0x128948(0x2bb)]('player\x20'+this[_0x128948(0x4b4)]+_0x128948(0x4be)),this[_0x128948(0x414)]=!![],!![];},this[_0x2be2ce(0x46b)]();},Batiment=function(_0x35ff8b){var _0x3fb27e=_0x4750f4;this[_0x3fb27e(0x4b4)]=_0x35ff8b['name'],this['player_size']=_0x35ff8b[_0x3fb27e(0x210)]?_0x35ff8b[_0x3fb27e(0x210)]:0x0,this[_0x3fb27e(0xc1)]=_0x35ff8b['callback_actionPlayer'],this[_0x3fb27e(0x1cb)]=[],this[_0x3fb27e(0x292)]=_0x35ff8b[_0x3fb27e(0x292)]?_0x35ff8b['description']:_0x3fb27e(0x3cc),this[_0x3fb27e(0x168)]=_0x35ff8b[_0x3fb27e(0x168)]?_0x35ff8b[_0x3fb27e(0x168)]:![],this[_0x3fb27e(0xba)]=_0x35ff8b[_0x3fb27e(0xba)]?_0x35ff8b[_0x3fb27e(0xba)]:undefined,this[_0x3fb27e(0x14d)]=_0x35ff8b[_0x3fb27e(0x14d)]?_0x35ff8b['build_progression']:undefined,this['lvl']=_0x35ff8b[_0x3fb27e(0x150)]?_0x35ff8b[_0x3fb27e(0x150)]:undefined,this[_0x3fb27e(0x4bd)]=_0x35ff8b[_0x3fb27e(0x4bd)]?_0x35ff8b[_0x3fb27e(0x4bd)]:[],this['upgrades_callback']=_0x35ff8b[_0x3fb27e(0x3fe)]?_0x35ff8b[_0x3fb27e(0x3fe)]:undefined,this['build']=_0x5e7b63=>{var _0xe1831=_0x3fb27e;if(!_0x5e7b63||!_0x5e7b63['player']||!_0x5e7b63['player'][_0xe1831(0x2aa)])return![];var _0x13f6dd=this[_0xe1831(0x14d)]<_0x5e7b63['player'][_0xe1831(0x2aa)]?this[_0xe1831(0x14d)]:_0x5e7b63[_0xe1831(0x143)]['villageActionPoint'];return this['build_progression']-=_0x13f6dd,_0x5e7b63[_0xe1831(0x143)][_0xe1831(0x2aa)]-=_0x13f6dd,world['village'][_0xe1831(0x326)][_0xe1831(0x413)]({'type':'building','txt':_0x5e7b63[_0xe1831(0x143)]['name']+'\x20is\x20building\x20\x27'+this[_0xe1831(0x4b4)]+_0xe1831(0x1f1)+_0x13f6dd+')'}),this[_0xe1831(0x14d)]<0x1&&(this['build_progression']=undefined,world['village'][_0xe1831(0x326)]['addMessage']({'type':_0xe1831(0x207),'txt':_0xe1831(0x25e)+this[_0xe1831(0x4b4)]+'\x27\x20is\x20finished'})),world['Music'][_0xe1831(0x265)](_0xe1831(0x1af)),!![];},this['getNextUpgrade']=()=>{var _0x216e95=_0x3fb27e;if(!this['upgrades']||!this[_0x216e95(0x4bd)][_0x216e95(0x1c7)])return undefined;return this[_0x216e95(0x4bd)][0x0];},this['checkNextUpgrade']=()=>{var _0x578cc8=_0x3fb27e;if(!this[_0x578cc8(0x4bd)]||!this[_0x578cc8(0x4bd)][_0x578cc8(0x1c7)])return![];var _0x339942=this[_0x578cc8(0x1e2)]();if(_0x339942[_0x578cc8(0x126)]){if(!world[_0x578cc8(0x171)]['checkHaveResources'](_0x339942))return;}return world[_0x578cc8(0x10d)]['playSound'](_0x578cc8(0x1af)),!![];},this[_0x3fb27e(0x1ba)]=()=>{var _0x252392=_0x3fb27e,_0x29fafd=this[_0x252392(0x1e2)]();if(this[_0x252392(0x40a)]()){world['village'][_0x252392(0x326)][_0x252392(0x413)]({'type':_0x252392(0x207),'txt':this[_0x252392(0x4b4)]+_0x252392(0x285)+(this[_0x252392(0x150)]+0x1)}),world[_0x252392(0x171)][_0x252392(0x48d)](_0x29fafd);if(this[_0x252392(0x3fe)])window[this['upgrades_callback']]({'bat':this});this[_0x252392(0x4bd)]['shift'](),this['lvl']++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':_0x4750f4(0xd0),'type':_0x4750f4(0xbd),'bat':_0x4750f4(0x15c),'resources':{'wood':0xa},'APcost':0xa,'description':_0x4750f4(0x1eb)},{'name':_0x4750f4(0x2bd),'type':_0x4750f4(0x335),'bat':_0x4750f4(0x15c),'resources':{'wood':0x19},'APcost':0xa,'description':'better\x20than\x20nothing'},{'name':_0x4750f4(0x364),'type':'weapon','bat':'workshop','resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':_0x4750f4(0x2d7)},{'name':'Stone\x20Pickaxe','type':_0x4750f4(0xbd),'bat':_0x4750f4(0x15c),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x4750f4(0x3a4)},{'name':'Stone\x20Spear','type':_0x4750f4(0xbd),'bat':'workshop','resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x4750f4(0x2b2)},{'name':_0x4750f4(0x2a1),'type':_0x4750f4(0x335),'bat':_0x4750f4(0x15c),'resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':_0x4750f4(0x2f6)},{'name':_0x4750f4(0xe1),'type':_0x4750f4(0xbd),'bat':_0x4750f4(0x48b),'resources':{'wood':0x64},'APcost':0xa,'description':_0x4750f4(0x18b)},{'name':_0x4750f4(0x4ac),'type':_0x4750f4(0xbd),'bat':'Forge','resources':{'wood':0x37,'metalCopper':0xa},'APcost':0xa,'description':_0x4750f4(0x10b)},{'name':_0x4750f4(0x24f),'type':_0x4750f4(0xbd),'bat':'Forge','resources':{'wood':0xf,'metalCopper':0x5},'APcost':0xa,'description':_0x4750f4(0x155)},{'name':_0x4750f4(0x482),'type':_0x4750f4(0x335),'bat':'Forge','resources':{'metalCopper':0x14},'APcost':0xa,'description':_0x4750f4(0x2bc)}],Village=function(_0x396f15){var _0x525d88=_0x4750f4;this['populationMax']=_0x396f15['nb_houses']?_0x396f15['nb_houses']:0x1,this[_0x525d88(0x126)]=_0x396f15[_0x525d88(0x126)]?_0x396f15[_0x525d88(0x126)]:{'food':0x0,'wood':0x0},this[_0x525d88(0x3b5)]=_0x396f15[_0x525d88(0x3b5)]?_0x396f15[_0x525d88(0x3b5)]:[],this[_0x525d88(0x1a0)]=_0x396f15[_0x525d88(0x1a0)]?_0x396f15[_0x525d88(0x1a0)]:[],this[_0x525d88(0x438)]=[],this['week']=_0x396f15[_0x525d88(0x1f6)]?_0x396f15[_0x525d88(0x1f6)]:0x0,this['MessageSystem']=new MessageSystem();var _0x522108=0x0;PHASE_NEWTURN=_0x522108++,PHASE_PLACEPLAYER=_0x522108++,PHASE_ACTIONPLAYER=_0x522108++,PHASE_COMBAT=_0x522108++,PHASE_END_TURN=_0x522108++,this[_0x525d88(0x391)]=PHASE_NEWTURN,this[_0x525d88(0x153)]=[],this[_0x525d88(0x328)]=_0x396f15[_0x525d88(0x328)]?_0x396f15['playerColor']:HUMAN_DEFAULT_COLOR[Math['floor'](Math[_0x525d88(0x366)]()*HUMAN_DEFAULT_COLOR['length'])],this[_0x525d88(0xf5)]=()=>{var _0x363afd=_0x525d88,_0x1ccaf9=Math[_0x363afd(0x220)](this[_0x363afd(0x1f6)]/(0xc*0x4)),_0x3270c6=Math[_0x363afd(0x220)](this['week']/0x4)%0xc,_0x559cea=this[_0x363afd(0x1f6)]%0x4+0x1,_0x15426d='Turn\x20'+this['week'];_0x15426d+=_0x363afd(0x2f5);if(_0x1ccaf9)_0x15426d+='year\x20'+_0x1ccaf9;if(_0x3270c6)_0x15426d+='\x20month\x20'+_0x3270c6;return _0x15426d+='\x20week\x20'+_0x559cea,_0x15426d;},this[_0x525d88(0x17d)]=()=>{var _0x4ff441=_0x525d88,_0x49a374=[];for(var _0x34bc00 in CRAFT_LIST){var _0x22af9e=CRAFT_LIST[_0x34bc00],_0x481427=this['bats'][_0x4ff441(0x1bb)](_0x3fc0c5=>_0x3fc0c5[_0x4ff441(0x4b4)]==_0x22af9e[_0x4ff441(0xc6)]);if(!_0x481427||_0x481427['build_progression'])continue;_0x49a374[_0x4ff441(0x234)](_0x22af9e);}return _0x49a374;},this[_0x525d88(0x1b8)]=_0x436af1=>{var _0x211884=_0x525d88;if(!_0x436af1||!_0x436af1['craft'])return[];var _0x12fd8e=[],_0x3ba2ef=_0x436af1[_0x211884(0x2e3)];for(var _0x53548f in this[_0x211884(0x3b5)]){var _0xa548c=this[_0x211884(0x3b5)][_0x53548f],_0x1875bb=this[_0x211884(0x3ce)](_0xa548c);if(!_0x1875bb||_0x1875bb[_0x211884(0x4b4)]!=_0x3ba2ef[_0x211884(0xc6)])continue;if(_0xa548c[_0x211884(0x2aa)]<_0x3ba2ef['APcost'])continue;for(var _0x15e902 in _0x3ba2ef[_0x211884(0x40e)]){var _0x3b6ffc=_0x15e902,_0x3cf83f=_0x3ba2ef[_0x211884(0x40e)][_0x15e902];if(!this[_0x211884(0x126)][_0x211884(0x31d)]||this[_0x211884(0x126)][_0x211884(0x31d)]<_0x3cf83f)continue;}_0x12fd8e[_0x211884(0x234)](_0xa548c);}return _0x12fd8e;},this['TryCraftItem']=_0x515734=>{var _0x5888dd=_0x525d88;if(!_0x515734||!_0x515734['craft']||!_0x515734[_0x5888dd(0x143)])return console[_0x5888dd(0x2bb)](_0x5888dd(0x398));var _0xe4d483=this[_0x5888dd(0x17d)](),_0x4376fd=_0x515734[_0x5888dd(0x143)];if(!_0xe4d483||_0xe4d483[_0x5888dd(0x1c7)]<0x1)return console['log'](_0x5888dd(0x465));_0xe4d483=_0xe4d483['find'](_0xeffb2d=>_0xeffb2d==_0x515734[_0x5888dd(0x2e3)]);if(!_0xe4d483)return console['log'](_0x5888dd(0x19f));if(!this['get_valid_player_for_craft']({'craft':_0xe4d483})['find'](_0x316f07=>_0x316f07==_0x4376fd))return console['log'](_0x5888dd(0x446));for(var _0xf0568d in _0xe4d483['resources']){var _0x561025=_0xf0568d,_0x38265c=_0xe4d483[_0x5888dd(0x126)][_0xf0568d];if(this['resources'][_0xf0568d]<_0x38265c)return this[_0x5888dd(0x326)][_0x5888dd(0x413)]({'txt':_0x5888dd(0x2a9)}),![];}if(_0x4376fd[_0x5888dd(0x2aa)]<_0xe4d483[_0x5888dd(0x4a2)])return this['MessageSystem'][_0x5888dd(0x413)]({'txt':_0x4376fd['name']+_0x5888dd(0x3bf)}),![];_0x4376fd[_0x5888dd(0x2aa)]-=_0xe4d483[_0x5888dd(0x4a2)];switch(_0xe4d483[_0x5888dd(0x245)]){case _0x5888dd(0xbd):this[_0x5888dd(0x286)]({'weapon':new Weapon()[_0x5888dd(0x2d8)]({'name':_0xe4d483[_0x5888dd(0x4b4)]})});break;case _0x5888dd(0x335):this[_0x5888dd(0x310)]({'armor':new Armor()[_0x5888dd(0x2dc)]({'name':_0xe4d483[_0x5888dd(0x4b4)]})});}switch(_0xe4d483[_0x5888dd(0xc6)]){case _0x5888dd(0x15c):world[_0x5888dd(0x10d)]['playSound'](_0x5888dd(0x416));break;case'Bow\x20workshop':world[_0x5888dd(0x10d)][_0x5888dd(0x265)](_0x5888dd(0x416));break;}this[_0x5888dd(0x326)][_0x5888dd(0x413)]({'type':_0x5888dd(0x429),'txt':_0x4376fd[_0x5888dd(0x4b4)]+_0x5888dd(0x360)+_0xe4d483['name']}),this[_0x5888dd(0x48d)](_0xe4d483);},this[_0x525d88(0x29f)]=_0x29ab7f=>{var _0x1eb2f5=_0x525d88;this[_0x1eb2f5(0x153)]=[];for(var _0x5c13bd in _0x29ab7f){var _0x1669bd=_0x29ab7f[_0x5c13bd];switch(_0x1669bd[_0x1eb2f5(0x13e)]){case _0x1eb2f5(0xbd):this[_0x1eb2f5(0x286)]({'weapon':new Weapon()[_0x1eb2f5(0x3bd)](_0x1669bd)});break;case _0x1eb2f5(0x335):this[_0x1eb2f5(0x310)]({'armor':new Armor()[_0x1eb2f5(0x2f4)](_0x1669bd)});}}},this[_0x525d88(0x489)]=_0x126848=>{var _0x2f92cf=_0x525d88;if(!_0x126848)return undefined;var _0x46c822=new PlayerVillage({});for(var _0x5ae56a in _0x126848){if(_0x126848[_0x5ae56a]==undefined)continue;if(_0x5ae56a==_0x2f92cf(0x4b2)||_0x5ae56a=='bodyPartImgReady')continue;else{if(_0x5ae56a==_0x2f92cf(0xbd))_0x46c822[_0x2f92cf(0xbd)]=new Weapon()['createWeaponFromInput'](_0x126848[_0x5ae56a]);else{if(_0x5ae56a=='armor')_0x46c822[_0x2f92cf(0x335)]=new Armor()['createArmorFromInput'](_0x126848[_0x5ae56a]);else _0x46c822[_0x5ae56a]=_0x126848[_0x5ae56a];}}}return this['players'][_0x2f92cf(0x234)](_0x46c822),_0x46c822[_0x2f92cf(0x46b)](),_0x46c822;},this['generateBasicPlayer']=_0x53a2ec=>{var _0x163f0d=_0x525d88;if(this[_0x163f0d(0x3b5)][_0x163f0d(0x1c7)]>=this[_0x163f0d(0x33d)])return undefined;var _0x38cf91={'r':this['playerColor']['r']-0x5+Math[_0x163f0d(0x220)](Math[_0x163f0d(0x366)]()*0xb),'g':this['playerColor']['g']-0x5+Math[_0x163f0d(0x220)](Math[_0x163f0d(0x366)]()*0xb),'b':this[_0x163f0d(0x328)]['b']-0x5+Math[_0x163f0d(0x220)](Math[_0x163f0d(0x366)]()*0xb)},_0x40cb75=new PlayerVillage({'color':_0x38cf91,'speed':0x64-0x5+Math[_0x163f0d(0x220)](Math[_0x163f0d(0x366)]()*0xb),'stats':{'Strength':0xa-0x5+Math[_0x163f0d(0x220)](Math[_0x163f0d(0x366)]()*0xb),'Dexterity':0xa-0x5+Math[_0x163f0d(0x220)](Math['random']()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math['floor'](Math['random']()*0x5),'lifeMax':0x64-0x14+Math['floor'](Math['random']()*0x29),'weapon':_0x53a2ec[_0x163f0d(0xbd)]?new Weapon()[_0x163f0d(0x2d8)]({'name':_0x53a2ec[_0x163f0d(0xbd)]}):undefined,'armor':_0x53a2ec[_0x163f0d(0x335)]?new Armor()['createNewArmor']({'name':_0x53a2ec[_0x163f0d(0x335)]}):undefined,'size':0x1});return this[_0x163f0d(0x3b5)][_0x163f0d(0x234)](_0x40cb75),_0x40cb75;},this['getBatFromPlayer']=_0x4a54e0=>{var _0x25dd27=_0x525d88;if(!_0x4a54e0)return undefined;for(var _0x14767a in this[_0x25dd27(0x1a0)]){var _0x27374a=this[_0x25dd27(0x1a0)][_0x14767a][_0x25dd27(0x1cb)][_0x25dd27(0x1bb)](_0x2881eb=>_0x2881eb==_0x4a54e0);if(_0x27374a)return this[_0x25dd27(0x1a0)][_0x14767a];}return undefined;},this[_0x525d88(0x10f)]=()=>{var _0x94ff5a=_0x525d88;this[_0x94ff5a(0x33d)]=0xa,this[_0x94ff5a(0x126)]={'food':0xc8,'wood':0xc8,'stone':0xc8};for(var _0x4b52c9=0x0;_0x4b52c9<0xa;_0x4b52c9++){var _0x21ea57=this['generateBasicPlayer']({'weapon':new Weapon()[_0x94ff5a(0xf4)]()[_0x94ff5a(0x4b4)],'armor':new Armor()[_0x94ff5a(0x178)]()[_0x94ff5a(0x4b4)]});_0x21ea57[_0x94ff5a(0x477)]=0x3;}this[_0x94ff5a(0x299)](),this[_0x94ff5a(0x123)](),this[_0x94ff5a(0x1aa)](),this[_0x94ff5a(0x34e)]();},this[_0x525d88(0x1e5)]=_0x48e9e5=>{var _0x384348=_0x525d88;if(!_0x48e9e5||!_0x48e9e5[_0x384348(0x143)])return![];var _0x2e4f10=_0x48e9e5[_0x384348(0x143)];for(var _0x44d695 in this[_0x384348(0x1a0)]){var _0x1d45e3=this['bats'][_0x44d695];for(var _0x3a4c2f in _0x1d45e3[_0x384348(0x1cb)])if(_0x1d45e3[_0x384348(0x1cb)][_0x3a4c2f]==_0x2e4f10)_0x1d45e3[_0x384348(0x1cb)][_0x384348(0x49a)](_0x3a4c2f,0x1);}},this[_0x525d88(0x2a5)]=_0x58f370=>{var _0x1d3474=_0x525d88;if(!_0x58f370||!_0x58f370[_0x1d3474(0x143)]||!_0x58f370[_0x1d3474(0xc6)])return![];if(_0x58f370[_0x1d3474(0xc6)][_0x1d3474(0x1cb)][_0x1d3474(0x1c7)]>=_0x58f370[_0x1d3474(0xc6)][_0x1d3474(0x210)])return![];var _0x1bfd17=_0x58f370[_0x1d3474(0x143)];for(var _0x297844 in this[_0x1d3474(0x1a0)]){var _0xaba0be=this[_0x1d3474(0x1a0)][_0x297844];for(var _0xff0abd in _0xaba0be[_0x1d3474(0x1cb)])if(_0xaba0be[_0x1d3474(0x1cb)][_0xff0abd]==_0x1bfd17)_0xaba0be['players_inside'][_0x1d3474(0x49a)](_0xff0abd,0x1);}_0x58f370['bat'][_0x1d3474(0x1cb)][_0x1d3474(0x234)](_0x1bfd17);},this[_0x525d88(0x48d)]=_0x1bafc9=>{var _0x2e8cf1=_0x525d88;if(!_0x1bafc9||!_0x1bafc9[_0x2e8cf1(0x126)])return console[_0x2e8cf1(0x2bb)](_0x2e8cf1(0x49f));var _0x161b13=![],_0x20b0de=_0x2e8cf1(0x1ff);for(var _0x546636 in _0x1bafc9[_0x2e8cf1(0x126)]){var _0xbc8124=_0x546636,_0x1fb8fb=_0x1bafc9[_0x2e8cf1(0x126)][_0x546636];if(!(_0x1fb8fb>0x0))continue;_0x161b13=!![];var _0x5320fd=this[_0x2e8cf1(0x126)];if(!_0x5320fd[_0xbc8124]||_0x5320fd[_0xbc8124]<_0x1fb8fb)return console[_0x2e8cf1(0x2bb)]('not\x20enoguht\x20resources');_0x5320fd[_0xbc8124]-=_0x1fb8fb,_0x20b0de+='\x20x'+_0x1fb8fb+'\x20'+_0xbc8124;}if(_0x161b13)this[_0x2e8cf1(0x326)][_0x2e8cf1(0x413)]({'type':_0x2e8cf1(0x40e),'txt':{..._0x1bafc9['resources']}});},this['addResource']=_0x585382=>{var _0x35151b=_0x525d88;if(!_0x585382||!_0x585382[_0x35151b(0x126)])return![];var _0x35fb28=![];for(var _0x29f073 in _0x585382[_0x35151b(0x126)]){var _0x4e8bf2=_0x29f073,_0x800aa7=_0x585382[_0x35151b(0x126)][_0x29f073];if(!(_0x800aa7>0x0))continue;_0x35fb28=!![];var _0x15de59=this[_0x35151b(0x126)];if(!_0x15de59[_0x4e8bf2])_0x15de59[_0x4e8bf2]=0x0;_0x15de59[_0x4e8bf2]+=_0x800aa7;}if(_0x35fb28)this[_0x35151b(0x326)][_0x35151b(0x413)]({'type':_0x35151b(0x40e),'txt':{..._0x585382[_0x35151b(0x126)]}});},this['loadBatsFromInput']=_0x35071d=>{var _0x195de7=_0x525d88;this[_0x195de7(0x1a0)]=[];for(var _0x33b6db in _0x35071d){var _0x3e4b30=_0x35071d[_0x33b6db],_0x24373c=new Batiment(_0x35071d[_0x33b6db]);for(var _0xf1466d in _0x3e4b30){_0x24373c[_0xf1466d]=_0x3e4b30[_0xf1466d];}_0x24373c[_0x195de7(0x1cb)]=[],this[_0x195de7(0x1a0)][_0x195de7(0x234)](_0x24373c);}},this[_0x525d88(0x1aa)]=_0xe4929=>{var _0x271f42=_0x525d88,_0x596394=new Batiment({'name':_0x271f42(0x39a),'player_size':0x0,'callback_actionPlayer':[],'description':_0x3259ae=>{var _0x39d071=_0x271f42;return _0x39d071(0x1a5)+_0x3259ae[_0x39d071(0x150)]+_0x39d071(0x2fa)+world['village'][_0x39d071(0x33d)];},'blocking_end_turn':!![],'imgIcon':_0x271f42(0x39a),'lvl':0x1,'upgrades_callback':_0x271f42(0x36e),'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'woodplank':0xa,'stone':0x32}}]});_0x596394['bonusPopulation']=0x5,this[_0x271f42(0x1a0)]['push'](_0x596394);},this[_0x525d88(0x133)]=_0xa85217=>{var _0x21f4a1=_0x525d88,_0x3f61a1=new Batiment({'name':_0xa85217[_0x21f4a1(0x4b4)],'player_size':0x2,'callback_actionPlayer':[{'callback':'GoToCraftTab','buto_txt':'go\x20to\x20craft\x20tab','description':_0x21f4a1(0x2d9),'cost':0x0}],'description':_0x21f4a1(0x35a),'blocking_end_turn':!![],'imgIcon':'bow_workshop_icon','build_progression':_0xa85217[_0x21f4a1(0x3e0)]});this[_0x21f4a1(0x1a0)][_0x21f4a1(0x234)](_0x3f61a1);},this[_0x525d88(0x4d2)]=_0x541c9e=>{var _0x15beef=_0x525d88,_0x5b55b3=new Batiment({'name':_0x541c9e['name'],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x15beef(0x3d6),'buto_txt':_0x15beef(0x49d),'description':_0x15beef(0x2d9),'cost':0x0}],'description':_0x15beef(0x3c0),'blocking_end_turn':!![],'imgIcon':_0x15beef(0x455),'build_progression':_0x541c9e[_0x15beef(0x3e0)]});this['bats'][_0x15beef(0x234)](_0x5b55b3);},this['addMine']=_0x3ada69=>{var _0x5225c3=_0x525d88,_0xe46d28=new Batiment({'name':_0x3ada69[_0x5225c3(0x4b4)],'player_size':0x3,'callback_actionPlayer':[{'callback':'recolteMine','buto_txt':_0x5225c3(0x2a0),'description':_0x5225c3(0xd2),'cost':0x4}],'description':'A\x20big\x20hole\x20in\x20the\x20ground','blocking_end_turn':!![],'imgIcon':_0x5225c3(0x103),'build_progression':_0x3ada69[_0x5225c3(0x3e0)]});this['bats'][_0x5225c3(0x234)](_0xe46d28);},this[_0x525d88(0x139)]=_0x221a99=>{var _0x13c126=_0x525d88,_0x212736=new Batiment({'name':_0x13c126(0xf3),'player_size':0x2,'callback_actionPlayer':[{'callback':'craftPlankInSawmill','buto_txt':'craft\x20woodplank','description':_0x13c126(0x3c6),'cost':0x5}],'description':_0x13c126(0x373),'blocking_end_turn':!![],'imgIcon':_0x13c126(0x4a6),'build_progression':_0x221a99[_0x13c126(0x3e0)]});this[_0x13c126(0x1a0)][_0x13c126(0x234)](_0x212736);},this[_0x525d88(0x4c2)]=_0xa6e7b9=>{var _0xf62dea=_0x525d88,_0x2dbb90=new Batiment({'name':'Smelter','player_size':0x1,'callback_actionPlayer':[{'callback':'SmeltCopper','buto_txt':_0xf62dea(0x215),'description':'burn\x20coal,\x20transform\x20\x27raw\x20copper\x27\x20into\x20\x27metal\x20copper\x27','cost':0x3}],'description':_0xf62dea(0x385),'blocking_end_turn':!![],'imgIcon':_0xf62dea(0x300),'build_progression':_0xa6e7b9[_0xf62dea(0x3e0)]});this['bats'][_0xf62dea(0x234)](_0x2dbb90);},this['addForge']=_0x16c5fa=>{var _0x3adbbf=_0x525d88,_0x235e85=new Batiment({'name':_0x3adbbf(0x208),'player_size':0x1,'callback_actionPlayer':[{'callback':'GoToCraftTab','buto_txt':_0x3adbbf(0x49d),'description':_0x3adbbf(0x355),'cost':0x0},{'callback':_0x3adbbf(0x45d),'buto_txt':_0x3adbbf(0x4b5),'description':_0x3adbbf(0x36f),'cost':0x0}],'description':_0x3adbbf(0x248),'blocking_end_turn':!![],'imgIcon':_0x3adbbf(0x216),'build_progression':_0x16c5fa[_0x3adbbf(0x3e0)]});this['bats']['push'](_0x235e85);},this[_0x525d88(0x123)]=()=>{var _0x18eef4=_0x525d88,_0x175be4=new Batiment({'name':_0x18eef4(0x201),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x18eef4(0xd8),'buto_txt':_0x18eef4(0x3a8),'description':_0x18eef4(0x290),'cost':0x5}],'description':_0x18eef4(0x499),'blocking_end_turn':!![],'imgIcon':_0x18eef4(0x264)});this[_0x18eef4(0x1a0)][_0x18eef4(0x234)](_0x175be4);},this[_0x525d88(0x299)]=()=>{var _0x4c6d68=_0x525d88,_0x3d5d64=new Batiment({'name':_0x4c6d68(0xc9),'player_size':0x32,'callback_actionPlayer':[],'description':_0x4c6d68(0x456),'blocking_end_turn':![],'imgIcon':_0x4c6d68(0x1cc)});this[_0x4c6d68(0x1a0)]['push'](_0x3d5d64);},this[_0x525d88(0x34e)]=()=>{var _0x5420e3=_0x525d88;this[_0x5420e3(0x438)]=[{'name':_0x5420e3(0x15c),'img':_0x5420e3(0x455),'resources':{'wood':0xa,'stone':0x1},'callback':'addWorkShop','input':{'name':_0x5420e3(0x15c),'costAP':0x1e}},{'name':_0x5420e3(0x48b),'img':_0x5420e3(0xf2),'resources':{'wood':0x64,'stone':0x1e},'callback':_0x5420e3(0x133),'input':{'name':'fletching\x20station','costAP':0x14}},{'name':'Mine','img':_0x5420e3(0x103),'resources':{'wood':0x14,'stone':0x5},'callback':_0x5420e3(0x2ec),'input':{'name':_0x5420e3(0x103),'costAP':0xa}},{'name':'Sawmill','img':_0x5420e3(0x4a6),'resources':{'wood':0x14,'stone':0x5},'callback':_0x5420e3(0x139),'input':{'name':_0x5420e3(0xf3),'costAP':0xa}},{'name':_0x5420e3(0x2ef),'img':_0x5420e3(0x300),'resources':{'wood':0x14,'stone':0x5},'callback':_0x5420e3(0x4c2),'input':{'name':_0x5420e3(0x2ef),'costAP':0xa}},{'name':_0x5420e3(0x208),'img':_0x5420e3(0x216),'resources':{'wood':0x14,'stone':0x5},'callback':_0x5420e3(0x2a4),'input':{'name':_0x5420e3(0x208),'costAP':0xa}}];},this[_0x525d88(0xda)]=_0x3a80df=>{var _0x147056=_0x525d88;if(!_0x3a80df||!_0x3a80df[_0x147056(0x126)])return![];var _0x2a4a23=_0x3a80df[_0x147056(0x126)];for(var _0x25782c in _0x3a80df[_0x147056(0x126)]){var _0x50584b=_0x25782c,_0x2dca61=_0x2a4a23[_0x25782c];if(!this[_0x147056(0x126)][_0x50584b]||this[_0x147056(0x126)][_0x50584b]<_0x2dca61)return![];}return!![];},this[_0x525d88(0x12b)]=_0xd7bd98=>{var _0x1bacc0=_0x525d88;if(!_0xd7bd98||!_0xd7bd98['bat'])return![];if(!this[_0x1bacc0(0xda)](_0xd7bd98[_0x1bacc0(0xc6)]))return this[_0x1bacc0(0x326)][_0x1bacc0(0x413)]({'txt':_0x1bacc0(0x2a9)});var _0x2bd338=_0xd7bd98[_0x1bacc0(0xc6)];this[_0x1bacc0(0x326)][_0x1bacc0(0x413)]({'type':_0x1bacc0(0x207),'txt':_0x1bacc0(0x25e)+_0x2bd338[_0x1bacc0(0x4b4)]+_0x1bacc0(0x423)}),this[_0x1bacc0(0x48d)](_0xd7bd98[_0x1bacc0(0xc6)]),this[_0x2bd338[_0x1bacc0(0x291)]](_0x2bd338['input']);for(var _0x1c330e in this[_0x1bacc0(0x438)])if(this['batsToBuild'][_0x1c330e]==_0x2bd338)this[_0x1bacc0(0x438)][_0x1bacc0(0x49a)](_0x1c330e,0x1);},this[_0x525d88(0x310)]=_0x21c5bb=>{var _0xe16662=_0x525d88;if(!_0x21c5bb||!_0x21c5bb[_0xe16662(0x335)])return;this[_0xe16662(0x153)]['push'](_0x21c5bb[_0xe16662(0x335)]);},this[_0x525d88(0x286)]=_0xd792c9=>{var _0x2d3080=_0x525d88;if(!_0xd792c9||!_0xd792c9[_0x2d3080(0xbd)])return console['log'](_0x2d3080(0xfa));this['Items'][_0x2d3080(0x234)](_0xd792c9[_0x2d3080(0xbd)]);},this['End_Turn']=_0x440800=>{var _0x3760f7=_0x525d88;if(!_0x440800)return![];world[_0x3760f7(0x467)]['warningEndTurnMessage']=[];switch(this[_0x3760f7(0x391)]){case PHASE_NEWTURN:world[_0x3760f7(0x309)](),this['phase']=PHASE_PLACEPLAYER,this[_0x3760f7(0x326)][_0x3760f7(0x413)]({'txt':_0x3760f7(0x2d0)});for(var _0x593c49 in this['players'])this[_0x3760f7(0x3b5)][_0x593c49]['villageActionPoint']=this[_0x3760f7(0x3b5)][_0x593c49][_0x3760f7(0x2fc)];if(this[_0x3760f7(0x1f6)]==0x0)world[_0x3760f7(0x10d)][_0x3760f7(0x265)](_0x3760f7(0x38d),!![],!![]);break;case PHASE_PLACEPLAYER:if(_0x440800['warning']){var _0x2972a6=[];for(var _0x593c49 in this[_0x3760f7(0x3b5)]){_0x18dbc1=this[_0x3760f7(0x3b5)][_0x593c49];if(!this['getBatFromPlayer'](_0x18dbc1))_0x2972a6[_0x3760f7(0x234)]({'txt':_0x3760f7(0x275)+_0x18dbc1['name']+_0x3760f7(0x39f),'player':_0x18dbc1,'tab':_0x3760f7(0x207)});}defBat=this['bats'][_0x3760f7(0x1bb)](_0x58911f=>_0x58911f[_0x3760f7(0x4b4)]==_0x3760f7(0xc9));if(defBat[_0x3760f7(0x1cb)][_0x3760f7(0x1c7)]<0x1)_0x2972a6[_0x3760f7(0x234)]({'txt':_0x3760f7(0x271),'bat':defBat,'tab':'building'});if(_0x2972a6[_0x3760f7(0x1c7)]>0x0){world['villageUI']['warningEndTurnMessage']=_0x2972a6;return;}}this[_0x3760f7(0x391)]=PHASE_ACTIONPLAYER,this[_0x3760f7(0x326)][_0x3760f7(0x413)]({'txt':_0x3760f7(0x3f5)});break;case PHASE_ACTIONPLAYER:var _0x2972a6=[];if(_0x440800[_0x3760f7(0x4d3)])for(var _0x593c49 in this[_0x3760f7(0x1a0)]){var _0xc83793=this[_0x3760f7(0x1a0)][_0x593c49];if(!_0xc83793['blocking_end_turn'])continue;for(var _0x2d83d0 in _0xc83793[_0x3760f7(0x1cb)]){var _0x18dbc1=_0xc83793['players_inside'][_0x2d83d0],_0x25efe2=_0x18dbc1[_0x3760f7(0x4b8)]();if(_0x25efe2&&_0x25efe2[_0x3760f7(0x1c7)]>0x0)_0x2972a6[_0x3760f7(0x234)]({'txt':'player\x20'+_0x18dbc1[_0x3760f7(0x4b4)]+_0x3760f7(0x161)+_0x18dbc1[_0x3760f7(0x2aa)]+'\x20Action\x20Points\x20left','player':_0x18dbc1,'tab':_0x3760f7(0x207)});}}if(_0x2972a6[_0x3760f7(0x1c7)]>0x0){world[_0x3760f7(0x467)][_0x3760f7(0x131)]=_0x2972a6;return;}this[_0x3760f7(0x391)]=PHASE_COMBAT;(this[_0x3760f7(0x1f6)]==0x0||Math[_0x3760f7(0x220)](Math['random']()*0x64)<0x21)&&(this['battle']=!![],this[_0x3760f7(0x326)][_0x3760f7(0x413)]({'txt':_0x3760f7(0x2ac)}));break;case PHASE_COMBAT:if(this[_0x3760f7(0x434)])this[_0x3760f7(0x448)]();else{this[_0x3760f7(0x391)]=PHASE_NEWTURN,this['week']++;var _0x10ce5a=this[_0x3760f7(0x3b5)][_0x3760f7(0x1c7)]*0x2;this[_0x3760f7(0x326)][_0x3760f7(0x413)]({'txt':'New\x20Turn\x20started\x20:\x20'+this[_0x3760f7(0x1f6)]}),this[_0x3760f7(0x326)]['addMessage']({'type':'player','txt':_0x3760f7(0x258)}),this[_0x3760f7(0x48d)]({'resources':{'food':_0x10ce5a}}),this[_0x3760f7(0x182)]=_0x10ce5a;for(var _0x593c49 in this[_0x3760f7(0x3b5)]){this[_0x3760f7(0x3b5)][_0x593c49]['tryLvLup'](),this[_0x3760f7(0x3b5)][_0x593c49]['age']++;}if(this[_0x3760f7(0x3b5)]['length']<this[_0x3760f7(0x33d)]){var _0x36ab59=Math[_0x3760f7(0x220)](Math[_0x3760f7(0x366)]()*0x64);if(_0x36ab59<0x32){var _0x18dbc1=this[_0x3760f7(0x283)]({});this['MessageSystem']['addMessage']({'type':_0x3760f7(0x143),'txt':_0x3760f7(0x3fa)+_0x18dbc1['name']+_0x3760f7(0x166)});}}}break;}},this['test_start_battle']=()=>{var _0x3b9d40=_0x525d88,_0x527b77=[];for(var _0x1fffe0 in this[_0x3b9d40(0x3b5)]){var _0x3e9cdb=this[_0x3b9d40(0x3b5)][_0x1fffe0];bat=this[_0x3b9d40(0x3ce)](_0x3e9cdb);if(bat['name']==_0x3b9d40(0xc9))_0x527b77[_0x3b9d40(0x234)](_0x3e9cdb);}world[_0x3b9d40(0x467)]=undefined,console[_0x3b9d40(0x2bb)](_0x527b77[_0x3b9d40(0x1c7)]+_0x3b9d40(0x350)),world[_0x3b9d40(0x2b0)](_0x527b77,this[_0x3b9d40(0x1f6)]),world[_0x3b9d40(0x10d)]['stopSound'](_0x3b9d40(0x38d),!![]),world['Music'][_0x3b9d40(0x265)]('where-the-brave-may-live-forever',!![]),world[_0x3b9d40(0x1b7)]=new GameUI(world['Screen'][_0x3b9d40(0x432)][_0x3b9d40(0x1b7)]);},this[_0x525d88(0x347)]=_0xf3f74d=>{var _0x656a90=_0x525d88;for(var _0x198aa8 in this[_0x656a90(0x3b5)]){this['players'][_0x198aa8]['id']==_0xf3f74d['id']&&(this[_0x656a90(0x3b5)][_0x656a90(0x49a)](_0x198aa8,0x1),this['MessageSystem'][_0x656a90(0x413)]({'txt':_0xf3f74d['name']+'is\x20dead\x20R.I.P'}));}for(var _0x198aa8 in this[_0x656a90(0x1a0)]){var _0x47c316=this['bats'][_0x198aa8];for(var _0x3377d0 in _0x47c316[_0x656a90(0x1cb)])if(_0x47c316[_0x656a90(0x1cb)][_0x3377d0]['id']==_0xf3f74d['id'])_0x47c316[_0x656a90(0x1cb)][_0x656a90(0x49a)](_0x3377d0,0x1);}};};function UpgradingHouses(_0x13e422){var _0x116ac7=_0x4750f4;if(!_0x13e422||!_0x13e422[_0x116ac7(0xc6)])return;var _0x157a77=_0x13e422[_0x116ac7(0xc6)],_0x41a966=world['village'];_0x157a77[_0x116ac7(0x150)]==0x1&&(_0x41a966[_0x116ac7(0x33d)]+=0x5,_0x41a966[_0x116ac7(0x326)]['addMessage']({'type':_0x116ac7(0x143),'txt':_0x116ac7(0x2e5)+_0x41a966[_0x116ac7(0x33d)]+')'})),_0x157a77[_0x116ac7(0x150)]==0x2&&(_0x41a966[_0x116ac7(0x33d)]+=0xa,_0x41a966['MessageSystem']['addMessage']({'type':_0x116ac7(0x143),'txt':'Population\x20max\x20+\x2010\x20('+_0x41a966['populationMax']+')'}));}function GoToCraftTab(){var _0x2cac39=_0x4750f4;if(world['villageUI'])world['villageUI'][_0x2cac39(0x410)]({'tab':'craft'});}function GoToForgeTab(){var _0x4165e1=_0x4750f4;if(world[_0x4165e1(0x467)])world[_0x4165e1(0x467)][_0x4165e1(0x410)]({'tab':_0x4165e1(0x153)});}function recolteMine(_0x176803){var _0x327fac=_0x4750f4;if(!_0x176803||!_0x176803['player']||_0x176803[_0x327fac(0x212)]==undefined||_0x176803['cost']>_0x176803[_0x327fac(0x143)]['villageActionPoint'])return;var _0x4b9c0f=_0x176803[_0x327fac(0x143)]['name']+_0x327fac(0x1bc)+_0x176803['cost']+_0x327fac(0x4c3);world[_0x327fac(0x171)][_0x327fac(0x326)][_0x327fac(0x413)]({'type':_0x327fac(0x429),'txt':_0x4b9c0f}),_0x176803[_0x327fac(0x143)][_0x327fac(0x2aa)]-=_0x176803['cost'];var _0x4e8e43=_0x176803['player'][_0x327fac(0xbd)]&&_0x176803[_0x327fac(0x143)][_0x327fac(0xbd)][_0x327fac(0x24a)]['find'](_0x4f4f59=>_0x4f4f59==BONUS_PICKAXE_MINE)?!![]:![],_0x375764=0x2+Math[_0x327fac(0x220)](Math['random']()*0x5),_0x221229=Math['floor'](Math[_0x327fac(0x366)]()*0x64)>0x5?0x0:Math[_0x327fac(0x220)](Math['random']()*0xa),_0x3874f8=Math[_0x327fac(0x220)](Math['random']()*0x64)>0x5?0x0:Math[_0x327fac(0x220)](Math['random']()*0x3);_0x4e8e43&&(_0x221229+=0x5,_0x375764+=0x14,_0x3874f8+=0x2);var _0x2327b6={'stone':_0x375764};if(_0x221229||_0x4e8e43&&_0x221229)_0x2327b6['coal']=_0x221229;if(_0x3874f8||_0x4e8e43&&_0x3874f8)_0x2327b6[_0x327fac(0x3d2)]=_0x3874f8;world[_0x327fac(0x171)][_0x327fac(0x2d3)]({'resources':_0x2327b6}),world[_0x327fac(0x10d)][_0x327fac(0x265)](_0x327fac(0x2a0));}function craftPlankInSawmill(_0x418252){var _0x500118=_0x4750f4;if(!_0x418252||!_0x418252[_0x500118(0x143)]||_0x418252[_0x500118(0x212)]==undefined||_0x418252[_0x500118(0x212)]>_0x418252['player']['villageActionPoint'])return;if(!world['village']['checkHaveResources']({'resources':{'wood':0xa}})){world['village'][_0x500118(0x326)][_0x500118(0x413)]({'type':_0x500118(0x429),'txt':_0x500118(0xe3)});return;}world[_0x500118(0x10d)][_0x500118(0x265)](_0x500118(0x1c2));var _0x429680=_0x418252['player'][_0x500118(0x4b4)]+'\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for'+_0x418252[_0x500118(0x212)]+_0x500118(0x4c3);world['village'][_0x500118(0x326)][_0x500118(0x413)]({'type':_0x500118(0x429),'txt':_0x429680}),_0x418252[_0x500118(0x143)][_0x500118(0x2aa)]-=_0x418252['cost'],world[_0x500118(0x171)][_0x500118(0x48d)]({'resources':{'wood':0xa}}),world[_0x500118(0x171)][_0x500118(0x2d3)]({'resources':{'woodplank':0x1}});}function recoltForestResouce(_0x57916e){var _0x4bb6ad=_0x4750f4;if(!_0x57916e||!_0x57916e['player']||_0x57916e['cost']==undefined||_0x57916e['cost']>_0x57916e[_0x4bb6ad(0x143)]['villageActionPoint'])return;world[_0x4bb6ad(0x10d)][_0x4bb6ad(0x265)](_0x4bb6ad(0x46c));var _0x313d5c=0xa-0x2+Math[_0x4bb6ad(0x220)](Math[_0x4bb6ad(0x366)]()*0x5),_0x512995=0x5-0x4+Math[_0x4bb6ad(0x220)](Math[_0x4bb6ad(0x366)]()*0x9);_0x57916e[_0x4bb6ad(0x143)][_0x4bb6ad(0xbd)]&&_0x57916e[_0x4bb6ad(0x143)][_0x4bb6ad(0xbd)][_0x4bb6ad(0x24a)][_0x4bb6ad(0x1bb)](_0x10d302=>_0x10d302==BONUS_AXE_FOREST_WOOD)&&(_0x512995*=0x2,console[_0x4bb6ad(0x2bb)]('doubled\x20wood'));var _0x40fda7=0x1+Math['floor'](Math['random']()*0x2),_0x2bca4b=_0x57916e['player'][_0x4bb6ad(0x4b4)]+_0x4bb6ad(0x229)+_0x57916e[_0x4bb6ad(0x212)]+'\x20AP';world['village'][_0x4bb6ad(0x326)]['addMessage']({'type':'job','txt':_0x2bca4b}),_0x57916e[_0x4bb6ad(0x143)]['villageActionPoint']-=_0x57916e[_0x4bb6ad(0x212)],world[_0x4bb6ad(0x171)][_0x4bb6ad(0x2d3)]({'resources':{'food':_0x313d5c,'wood':_0x512995,'stone':_0x40fda7}});}function SmeltCopper(_0x197ed6){var _0xb05586=_0x4750f4,_0x4dd72f=world['village'][_0xb05586(0xda)]({'resources':{'coal':0x5,'rawCopper':0x2}});if(!_0x4dd72f)return world[_0xb05586(0x171)]['MessageSystem'][_0xb05586(0x413)]({'type':_0xb05586(0x429),'txt':'you\x20don\x27t\x20have\x20enought\x20resources'});var _0x29a65e=_0x197ed6[_0xb05586(0x143)]['name']+_0xb05586(0x10c)+_0x197ed6[_0xb05586(0x212)]+_0xb05586(0x4c3);world[_0xb05586(0x171)][_0xb05586(0x326)][_0xb05586(0x413)]({'type':_0xb05586(0x429),'txt':_0x29a65e}),_0x197ed6[_0xb05586(0x143)][_0xb05586(0x2aa)]-=_0x197ed6[_0xb05586(0x212)],world[_0xb05586(0x10d)][_0xb05586(0x265)](_0xb05586(0x300)),world[_0xb05586(0x171)][_0xb05586(0x48d)]({'resources':{'coal':0x5,'rawCopper':0x2}}),world[_0xb05586(0x171)][_0xb05586(0x2d3)]({'resources':{'metalCopper':0x1}});}VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT=_0x4750f4(0x1fb),VILLAGE_UI_FONT_BUTTON=_0x4750f4(0x3f1),VILLAGE_UI_FONT_BUTTON_2=_0x4750f4(0x1bd),VILLAGE_UI_FONT_TITLE=_0x4750f4(0x128),VILLAGE_UI_FONT_PLAYERNAME=_0x4750f4(0x2c1),VILLAGE_UI_FONT_BUILDINGNAME='\x27Ravie\x27',VILLAGE_UI_FONT_PHASE=_0x4750f4(0x3db),VILLAGE_UI_TABS_FONT=_0x4750f4(0x128),VILLAGE_UI_TABS_TXTCOLOR='#ffffff',VILLAGE_UI_TABS_FILLCOLOR='#556b2f88',VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE='#ffff66',VILLAGE_UI_BAT_ELM_FILLCOLOR=_0x4750f4(0xe4),VILLAGE_UI_PLAYER_ELM_FILLCOLOR=_0x4750f4(0x19b),VILLAGE_UI_ITEM_ELM_FILLCOLOR=_0x4750f4(0x405),VILLAGE_UI_BUTTON_FILLCOLOR=_0x4750f4(0x12f),VillageUI=function(_0x2cea8b){var _0x4d3ce3=_0x4750f4;world[_0x4d3ce3(0x10d)]['playSound'](_0x4d3ce3(0x38d),!![]),this['canvas']=_0x2cea8b,this['needRedraw']=!![],this[_0x4d3ce3(0x3ba)]=0x5,this[_0x4d3ce3(0x2e4)]=VILLAGE_UI_FILLSTYLE,this[_0x4d3ce3(0x184)]=_0x4d3ce3(0x4c5),this[_0x4d3ce3(0x396)]=0x1,this['mouseWasOnMouseLightLastDraw']=!![],this[_0x4d3ce3(0x2a6)]=[_0x4d3ce3(0x3b4),_0x4d3ce3(0x207),_0x4d3ce3(0x2e3),_0x4d3ce3(0x40e),'Items',_0x4d3ce3(0x351)],this['activeTabId']=0x0,this[_0x4d3ce3(0x41c)]=undefined,this['playerInfoMenu']=undefined,this[_0x4d3ce3(0x3ed)]={'value':0x0},this[_0x4d3ce3(0x1b5)]=[_0x4d3ce3(0x4b4),_0x4d3ce3(0x207),_0x4d3ce3(0x110),_0x4d3ce3(0xbd),_0x4d3ce3(0x335)],this[_0x4d3ce3(0x399)]={'value':0x0},this[_0x4d3ce3(0x237)]=[_0x4d3ce3(0x1ee),_0x4d3ce3(0x369),_0x4d3ce3(0x142),_0x4d3ce3(0x246),_0x4d3ce3(0x367),_0x4d3ce3(0x35b),_0x4d3ce3(0x2fc)],this[_0x4d3ce3(0x3dc)]={'value':0x0},this[_0x4d3ce3(0x1e4)]=undefined,this[_0x4d3ce3(0x46f)]=undefined,this[_0x4d3ce3(0x1d6)]={'value':0x0},this['batSortModeList']=[_0x4d3ce3(0x4b4),'player',_0x4d3ce3(0x17f)],this['batSortModeId']={'value':0x0},this['constructionSelected']=undefined,this[_0x4d3ce3(0x1ea)]=undefined,this[_0x4d3ce3(0x415)]={'value':0x0},this[_0x4d3ce3(0x11c)]=undefined,this[_0x4d3ce3(0x29d)]={'value':0x0},this['UI']=undefined,this[_0x4d3ce3(0x268)]=!![],this[_0x4d3ce3(0x108)]=undefined,this[_0x4d3ce3(0x28e)]=!![],this[_0x4d3ce3(0x27b)]=undefined,this[_0x4d3ce3(0x194)]=!![],this[_0x4d3ce3(0x224)]=0x0,this[_0x4d3ce3(0x131)]=[];const _0x13f528=document[_0x4d3ce3(0x464)](_0x4d3ce3(0x213)),_0x4d20c1=_0x13f528[_0x4d3ce3(0x13f)]('2d'),_0x2c1b2b=new Image();_0x2c1b2b[_0x4d3ce3(0x298)]=_0x4d3ce3(0x183),_0x2c1b2b[_0x4d3ce3(0x4c6)]=()=>{var _0x2846c3=_0x4d3ce3;const _0x2e27f7=_0x4d20c1[_0x2846c3(0x29b)](_0x2c1b2b,_0x2846c3(0x315));this[_0x2846c3(0x2e4)]=_0x2e27f7,this[_0x2846c3(0x3c7)]=!![];},this[_0x4d3ce3(0x135)]=()=>{var _0x5600b2=_0x4d3ce3;window[_0x5600b2(0xf0)]('mousemove',_0x839871=>{var _0x217134=_0x5600b2,_0x1e5cc3=![];this[_0x217134(0x108)]&&this[_0x217134(0x108)]['mouse_move_check'](_0x839871[_0x217134(0x26e)],_0x839871[_0x217134(0x3ac)])&&!this['mouseWasOnMouseLightLastDraw']&&(this[_0x217134(0x3c7)]=!![],this[_0x217134(0x244)]=!![],_0x1e5cc3=!![]);this['UI']&&this['UI']['mouse_move_check'](_0x839871[_0x217134(0x26e)],_0x839871[_0x217134(0x3ac)])&&!this[_0x217134(0x244)]&&(this[_0x217134(0x3c7)]=!![],this[_0x217134(0x244)]=!![],_0x1e5cc3=!![]);this[_0x217134(0x27b)]&&this[_0x217134(0x27b)]['mouse_move_check'](_0x839871[_0x217134(0x26e)],_0x839871[_0x217134(0x3ac)])&&!this['mouseWasOnMouseLightLastDraw']&&(this['needRedraw']=!![],this[_0x217134(0x244)]=!![],_0x1e5cc3=!![]);!_0x1e5cc3&&this['mouseWasOnMouseLightLastDraw']&&(this['mouseWasOnMouseLightLastDraw']=![],this['needRedraw']=!![]);if(this==world['villageUI'])this[_0x217134(0x135)]();},{'once':!![]});},this['init_check_mouse_move'](),this[_0x4d3ce3(0xfe)]=_0x49f22d=>{var _0x282d62=_0x4d3ce3;if(this['UI']&&this['UI'][_0x282d62(0x14c)](_0x49f22d))return!![];if(this[_0x282d62(0x108)]&&this[_0x282d62(0x108)]['key_buton_check'](_0x49f22d))return!![];if(this[_0x282d62(0x27b)]&&this[_0x282d62(0x27b)][_0x282d62(0x14c)](_0x49f22d))return!![];if(_0x49f22d=='ControlLeft'&&this['cancel_menu']())return!![];return![];},this[_0x4d3ce3(0x424)]=()=>{var _0x22e2a3=_0x4d3ce3;if(this['playerInfoMenu'])return this[_0x22e2a3(0x1ec)]=undefined,!![];if(this[_0x22e2a3(0x2a6)][this[_0x22e2a3(0x32f)]]==_0x22e2a3(0x207)){if(this[_0x22e2a3(0x46f)])return this['batBuildMenu']=undefined,!![];if(this['batSelected'])return this['batSelected']=undefined,!![];}return![];},this['getMouseInput']=_0x4cfcc2=>{var _0xfe65b=_0x4d3ce3;if(!_0x4cfcc2||_0x4cfcc2['x']===undefined)return![];var _0x1a78dd=_0x4cfcc2['x'],_0x1aec53=_0x4cfcc2['y'];if(_0x4cfcc2[_0xfe65b(0x162)]==0x2){var _0x2db831=this['cancel_menu']();if(_0x2db831)return!![];}else{if(this['UI'][_0xfe65b(0x279)](_0x1a78dd,_0x1aec53))return!![];else{if(this[_0xfe65b(0x108)][_0xfe65b(0x279)](_0x1a78dd,_0x1aec53))return!![];else{if(this[_0xfe65b(0x27b)][_0xfe65b(0x279)](_0x1a78dd,_0x1aec53))return!![];}}}return![];},this[_0x4d3ce3(0x3d5)]=_0x380ff5=>{var _0x480ae4=_0x4d3ce3;if(this['UI']&&this['UI'][_0x480ae4(0x3d5)](_0x380ff5))this['needRedraw']=!![];if(this[_0x480ae4(0x108)]&&this[_0x480ae4(0x108)][_0x480ae4(0x3d5)](_0x380ff5))this['needRedraw']=!![];if(this[_0x480ae4(0x27b)]&&this['UIsystem'][_0x480ae4(0x3d5)](_0x380ff5))this[_0x480ae4(0x3c7)]=!![];},this[_0x4d3ce3(0x410)]=_0x582825=>{var _0x331780=_0x4d3ce3;if(!_0x582825)return;if(_0x582825[_0x331780(0x393)])for(var _0x31f23b in this['tabs']){if(this[_0x331780(0x2a6)][_0x31f23b]==_0x582825[_0x331780(0x393)])this[_0x331780(0x32f)]=_0x31f23b;}if(_0x582825[_0x331780(0x143)])this[_0x331780(0x41c)]=_0x582825[_0x331780(0x143)];if(_0x582825[_0x331780(0xc6)])this[_0x331780(0x1e4)]=_0x582825[_0x331780(0xc6)];},this[_0x4d3ce3(0x2f1)]=_0x165a31=>{var _0x17d5b5=_0x4d3ce3;if(!_0x165a31[_0x17d5b5(0x34a)])return;var _0x1c11cb=[{'type':'button','callback':()=>{var _0x6c2596=_0x17d5b5;_0x165a31['selector'][_0x6c2596(0x460)]=_0x165a31[_0x6c2596(0x34a)][_0x6c2596(0x460)]>0x0?_0x165a31[_0x6c2596(0x34a)][_0x6c2596(0x460)]-0x1:0x0;},'txt':'∧','txt_color':_0x17d5b5(0x3e8),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x17d5b5(0x3a9),'strokeColor':_0x17d5b5(0x3d4),'windowInfo':[{'callback':()=>{return'page\x20up';}}]},{'type':_0x17d5b5(0x162),'callback':()=>{var _0x5ccb54=_0x17d5b5;_0x165a31[_0x5ccb54(0x34a)][_0x5ccb54(0x460)]++;},'txt':'∨','txt_color':_0x17d5b5(0x3e8),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x17d5b5(0x3a9),'strokeColor':_0x17d5b5(0x3d4),'windowInfo':[{'callback':()=>{var _0xc7a589=_0x17d5b5;return _0xc7a589(0xf9);}}]},{'type':_0x17d5b5(0xf6),'txt':'['+_0x165a31[_0x17d5b5(0x34a)][_0x17d5b5(0x460)]+':'+(_0x165a31[_0x17d5b5(0x34a)][_0x17d5b5(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x17d5b5(0x3d4),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x165a31['sortButo'])_0x1c11cb[_0x17d5b5(0x234)]({'type':_0x17d5b5(0x162),'callback':_0x130116=>{var _0x1f89ed=_0x17d5b5;_0x130116['id'][_0x1f89ed(0x460)]=(_0x130116['id'][_0x1f89ed(0x460)]+0x1)%_0x130116['list'][_0x1f89ed(0x1c7)],console[_0x1f89ed(0x2bb)](_0x1f89ed(0x2cf)+[_0x130116['id'][_0x1f89ed(0x460)],_0x130116['list'][_0x1f89ed(0x1c7)]]);},'callback_data':_0x165a31['sortButo'],'txt':_0x165a31['sortButo'][_0x17d5b5(0x33f)][_0x165a31[_0x17d5b5(0x26f)]['id'][_0x17d5b5(0x460)]],'txt_color':_0x17d5b5(0x3e8),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x17d5b5(0x3a9),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x5a50b9=_0x17d5b5;return _0x5a50b9(0x1a6)+this[_0x5a50b9(0x47f)][this[_0x5a50b9(0x104)][_0x5a50b9(0x460)]];}}]});if(_0x165a31[_0x17d5b5(0x16f)])_0x1c11cb[_0x17d5b5(0x234)]({'type':_0x17d5b5(0x162),'callback':_0x310f21=>{var _0x1d0d4d=_0x17d5b5;_0x310f21['id']['value']=(_0x310f21['id'][_0x1d0d4d(0x460)]+0x1)%_0x310f21[_0x1d0d4d(0x33f)][_0x1d0d4d(0x1c7)],console['log'](_0x1d0d4d(0x2cf)+[_0x310f21['id']['value'],_0x310f21[_0x1d0d4d(0x33f)][_0x1d0d4d(0x1c7)]]);},'callback_data':_0x165a31[_0x17d5b5(0x16f)],'txt':_0x165a31['sortButo2'][_0x17d5b5(0x33f)][_0x165a31['sortButo2']['id'][_0x17d5b5(0x460)]],'txt_color':_0x17d5b5(0x3e8),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x17d5b5(0x3a9),'strokeColor':_0x17d5b5(0x3d4),'windowInfo':[{'callback':()=>{var _0x55d673=_0x17d5b5;return _0x55d673(0x1a6)+this[_0x55d673(0x47f)][this[_0x55d673(0x104)]['value']];}}]});return _0x1c11cb;},this['draw_building_tab']=()=>{var _0x189441=_0x4d3ce3,_0x2e9f7c=world['village'];this['UI'][_0x189441(0x42d)](this['GetPageSelector']({'sortButo':{'list':this[_0x189441(0x47f)],'id':this[_0x189441(0x104)]},'selector':this['batPageOffset']}));switch(this[_0x189441(0x47f)][this['batSortModeId']['value']]){case _0x189441(0x4b4):_0x2e9f7c[_0x189441(0x1a0)][_0x189441(0x1f2)]((_0x1a7d82,_0x5cbdc9)=>{var _0x58811c=_0x189441;if(_0x1a7d82[_0x58811c(0x4b4)]>_0x5cbdc9['name'])return 0x1;if(_0x1a7d82[_0x58811c(0x4b4)]<_0x5cbdc9['name'])return-0x1;return-0x1;});break;case _0x189441(0x143):_0x2e9f7c[_0x189441(0x1a0)][_0x189441(0x1f2)]((_0x575b77,_0x50a500)=>{var _0x471850=_0x189441;if(_0x575b77[_0x471850(0x1cb)][_0x471850(0x1c7)]<=_0x50a500[_0x471850(0x1cb)][_0x471850(0x1c7)])return 0x1;return-0x1;});break;case'size':_0x2e9f7c[_0x189441(0x1a0)][_0x189441(0x1f2)]((_0x3e2974,_0x68029)=>{var _0x3fefd3=_0x189441;if(_0x3e2974[_0x3fefd3(0x210)]<=_0x68029['player_size'])return 0x1;return-0x1;});break;}if(_0x2e9f7c['phase']==PHASE_PLACEPLAYER){this['UI'][_0x189441(0x42d)](this[_0x189441(0x3fb)]());var _0xc08904=0x0;if(this['batBuildMenu'])for(var _0x4ab857 in _0x2e9f7c['batsToBuild']){var _0x12774a=_0x2e9f7c[_0x189441(0x438)][_0x4ab857],_0x5e40d8=[];_0x5e40d8[_0x189441(0x234)]({'type':_0x189441(0x162),'callback':_0x32d38d=>{var _0x4a2e48=_0x189441;if(this[_0x4a2e48(0x32a)]==_0x32d38d)this[_0x4a2e48(0x32a)]=undefined;else this[_0x4a2e48(0x32a)]=_0x32d38d;},'callback_data':_0x12774a,'txt':_0x12774a[_0x189441(0x4b4)],'mouseLight':'88','txt_color':_0x189441(0x3d4),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x189441(0x13b),'strokeColor':this[_0x189441(0x32a)]==_0x12774a?_0x189441(0x3d4):_0x189441(0x13b),'windowInfo':[{'callback':()=>{var _0x3d3423=_0x189441;return _0x3d3423(0x33c);}}]}),_0x5e40d8[_0x189441(0x234)]({'type':_0x189441(0x2dd),'img':world[_0x189441(0x227)][_0x12774a[_0x189441(0x2dd)]][_0x189441(0x2dd)],'len_x':0x1e,'len_y':0x1e});if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this['batPageOffset'][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x5e40d8);_0xc08904++;if(this[_0x189441(0x32a)]==_0x12774a){var _0x5e40d8=[];_0x5e40d8['push']({'type':_0x189441(0x162),'mouseLight':'88','callback':world[_0x189441(0x171)]['TryBuildBat'],'callback_data':{'bat':_0x12774a},'txt':_0x189441(0x4cc),'txt_color':_0x189441(0x3d4),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x189441(0x13b),'windowInfo':[{'callback':()=>{var _0x232589=_0x189441;return _0x232589(0x33c);}}]});if(_0xc08904>=this[_0x189441(0x1d6)]['value']&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x5e40d8);_0xc08904++;if(_0x12774a[_0x189441(0x342)]&&_0x12774a[_0x189441(0x342)][_0x189441(0x3e0)]){if(_0xc08904>=this[_0x189441(0x1d6)]['value']&&_0xc08904<this[_0x189441(0x1d6)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([{'type':'txt','txt':_0x189441(0x2d5)+_0x12774a[_0x189441(0x342)]['costAP'],'txt_color':_0x189441(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':'img','img':world['Imgs'][_0x189441(0x17a)]['img'],'len_x':0x14,'len_y':0x14}]);_0xc08904++;}for(var _0x5b6853 in _0x12774a['resources']){var _0x119ca4=[];_0x119ca4['push']({'type':_0x189441(0xf6),'txt':'\x20-'+_0x5b6853+'\x20'+_0x12774a[_0x189441(0x126)][_0x5b6853],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x119ca4[_0x189441(0x234)]({'type':'img','img':world[_0x189441(0x227)][_0x5b6853+'_icon'][_0x189441(0x2dd)],'len_x':0x14,'len_y':0x14});}if(_0xc08904>=this['batPageOffset'][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](this['getResourcesTextAndImg'](_0x12774a[_0x189441(0x126)],0x14));_0xc08904++;}}else{if(!this[_0x189441(0x46f)])for(var _0x4ab857 in _0x2e9f7c[_0x189441(0x1a0)]){var _0x12774a=_0x2e9f7c[_0x189441(0x1a0)][_0x4ab857],_0x2fb8a1=this[_0x189441(0x1a2)](_0x12774a,0x28);if(_0x12774a[_0x189441(0x14d)])_0x2fb8a1[_0x189441(0x234)]({'type':'img','img':world['Imgs']['under_construction_icon']['img'],'len_x':0x28,'len_y':0x28});if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x2fb8a1);_0xc08904++;if(_0x12774a['build_progression']){if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x3ee)](''+_0x12774a[_0x189441(0x14d)]+_0x189441(0x149),0x14,0x270f,'#000000',VILLAGE_UI_FONT);_0xc08904++;}var _0x5e40d8=[],_0x21ba12=_0x12774a[_0x189441(0x1e2)]();if(this[_0x189441(0x1e4)]==_0x12774a&&_0x12774a[_0x189441(0x150)]){if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x3ee)](_0x189441(0x2ca)+_0x12774a['lvl'],0xf,0x270f,_0x189441(0x3d4),VILLAGE_UI_FONT);_0xc08904++;}if(this[_0x189441(0x1e4)]==_0x12774a&&_0x21ba12){var _0x2bb10b=this['getResourcesTextAndImg'](_0x21ba12[_0x189441(0x126)],0x14);_0x2bb10b[_0x189441(0x1ce)]({'type':_0x189441(0x162),'mouseLight':'88','callback':_0x12774a[_0x189441(0x1ba)],'callback_data':{},'txt':_0x189441(0x232),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0xc08904>=this['batPageOffset']['value']&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x2bb10b);_0xc08904++;}if(_0x12774a==this[_0x189441(0x1e4)]&&_0x12774a[_0x189441(0x210)]){if(_0x12774a[_0x189441(0x210)]&&_0xc08904>=this['batPageOffset']['value']&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x3ee)](''+_0x12774a[_0x189441(0x1cb)][_0x189441(0x1c7)]+_0x189441(0x3f9)+_0x12774a[_0x189441(0x210)]+'\x20place',0x14,0x270f,_0x189441(0x3d4),VILLAGE_UI_FONT);_0xc08904++;}if(this['playerSelected']&&_0x12774a==this[_0x189441(0x1e4)]&&!_0x12774a[_0x189441(0x1cb)][_0x189441(0x1bb)](_0x14e658=>_0x14e658==this['playerSelected'])&&_0x12774a[_0x189441(0x1cb)][_0x189441(0x1c7)]<_0x12774a[_0x189441(0x210)])_0x5e40d8[_0x189441(0x234)]({'type':_0x189441(0x162),'mouseLight':'88','callback':world[_0x189441(0x171)][_0x189441(0x2a5)],'callback_data':{'player':this[_0x189441(0x41c)],'bat':_0x12774a},'txt':_0x189441(0x352),'txt_color':_0x189441(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x5e40d8[_0x189441(0x1c7)]){if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x5e40d8);_0xc08904++;}if(this[_0x189441(0x1e4)]==_0x12774a)for(var _0x5b6853 in _0x12774a[_0x189441(0x1cb)]){var _0x42d3f3=_0x12774a['players_inside'][_0x5b6853],_0x8a1f8f=this[_0x189441(0x3e7)](_0x42d3f3);_0x8a1f8f[_0x189441(0x234)]({'type':'button','mouseLight':'88','callback':world['village'][_0x189441(0x1e5)],'callback_data':{'player':_0x42d3f3},'txt':'\x20x\x20','txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});if(_0xc08904>=this[_0x189441(0x1d6)]['value']&&_0xc08904<this[_0x189441(0x1d6)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x8a1f8f);_0xc08904++;}}}}else{if(_0x2e9f7c[_0x189441(0x391)]==PHASE_ACTIONPLAYER){var _0xc08904=0x0;for(var _0x4ab857 in _0x2e9f7c[_0x189441(0x1a0)]){var _0x12774a=_0x2e9f7c[_0x189441(0x1a0)][_0x4ab857],_0x2fb8a1=this[_0x189441(0x1a2)](_0x12774a,0x28);if(_0x12774a['build_progression'])_0x2fb8a1[_0x189441(0x234)]({'type':_0x189441(0x2dd),'img':world[_0x189441(0x227)][_0x189441(0x151)][_0x189441(0x2dd)],'len_x':0x28,'len_y':0x28});if(_0xc08904>=this['batPageOffset'][_0x189441(0x460)]&&_0xc08904<this['batPageOffset'][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x2fb8a1);_0xc08904++;if(_0x12774a[_0x189441(0x14d)]){if(_0xc08904>=this['batPageOffset'][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addTextZone'](''+_0x12774a[_0x189441(0x14d)]+'\x20PA\x20left\x20for\x20finish\x20construction',0x14,0x270f,_0x189441(0x3d4),VILLAGE_UI_FONT);_0xc08904++;}var _0x5e40d8=[];if(_0x5e40d8['length']){if(_0xc08904>=this['batPageOffset'][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x5e40d8);_0xc08904++;}for(var _0x5b6853 in _0x12774a[_0x189441(0x1cb)]){var _0x42d3f3=_0x12774a[_0x189441(0x1cb)][_0x5b6853],_0x1472fa=_0x42d3f3[_0x189441(0x4b8)]();if(this[_0x189441(0x1e4)]==_0x12774a||_0x1472fa[_0x189441(0x1c7)]&&_0x12774a['name']!=_0x189441(0xc9)){var _0x8a1f8f=this[_0x189441(0x3e7)](_0x42d3f3);if(_0x12774a[_0x189441(0xc1)][_0x189441(0x1c7)])_0x8a1f8f[_0x189441(0x234)]({'type':_0x189441(0x2dd),'img':world[_0x189441(0x227)][_0x189441(0x17a)][_0x189441(0x2dd)],'len_x':0x14,'len_y':0x14},{'type':'txt','txt':''+_0x42d3f3[_0x189441(0x2aa)]+_0x189441(0x202),'txt_color':_0x42d3f3['villageActionPoint']?_0x189441(0x3d4):_0x189441(0x497),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x8a1f8f);_0xc08904++;if(_0x12774a['build_progression']){var _0x446c2f=[];_0x42d3f3[_0x189441(0x2aa)]>0x0&&(_0x446c2f[_0x189441(0x234)]({'type':_0x189441(0x162),'mouseLight':'88','callback':_0x12774a[_0x189441(0x25f)],'callback_data':{'player':_0x42d3f3},'txt':_0x189441(0x25f),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0xa50115=>{return _0xa50115;},'input':_0x189441(0x478)}]}),_0x446c2f[_0x189441(0x234)]({'type':_0x189441(0xf6),'txt':_0x189441(0x16c)+_0x12774a[_0x189441(0x14d)]+_0x189441(0x311),'txt_color':_0x42d3f3[_0x189441(0x2aa)]?'#000000':_0x189441(0x497),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x189441(0x42d)](_0x446c2f);_0xc08904++;}else for(var _0x202921 in _0x12774a[_0x189441(0xc1)]){var _0x3d7f17=_0x12774a['callback_actionPlayer'][_0x202921];if(_0x3d7f17[_0x189441(0x212)]&&_0x3d7f17['cost']>_0x42d3f3[_0x189441(0x2aa)]||_0x42d3f3['villageActionPoint']==0x0)continue;var _0x23966e={'type':'button','mouseLight':'88','callback':window[_0x3d7f17['callback']],'callback_data':{'player':_0x42d3f3,'cost':_0x3d7f17[_0x189441(0x212)]},'txt':_0x3d7f17['buto_txt'],'txt_color':_0x189441(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0xcda4ef=>{return _0xcda4ef;},'input':_0x3d7f17['description']}]};if(_0xc08904>=this[_0x189441(0x1d6)][_0x189441(0x460)]&&_0xc08904<this[_0x189441(0x1d6)][_0x189441(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([_0x23966e]);_0xc08904++;}}}}}}},this['GetBatBuildMenuSelector']=()=>{var _0x12a3fa=_0x4d3ce3,_0x3fd4b6=[];return this[_0x12a3fa(0x46f)]?_0x3fd4b6[_0x12a3fa(0x234)]({'type':'button','mouseLight':'88','callback':()=>{var _0x4313e0=_0x12a3fa;this[_0x4313e0(0x46f)]=![],this[_0x4313e0(0x1d6)]['value']=0x0;},'txt':_0x12a3fa(0xdb),'mouseLight':'88','txt_color':_0x12a3fa(0x16b),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x12a3fa(0x41d),'strokeColor':_0x12a3fa(0x3d4),'windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}):_0x3fd4b6[_0x12a3fa(0x234)]({'type':'button','mouseLight':'88','callback':()=>{var _0x447f1f=_0x12a3fa;this[_0x447f1f(0x46f)]=!![],this[_0x447f1f(0x1d6)]['value']=0x0;},'txt':_0x12a3fa(0x3f2),'mouseLight':'88','txt_color':_0x12a3fa(0x41d),'max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x12a3fa(0x16b),'strokeColor':_0x12a3fa(0x3d4),'windowInfo':[{'callback':()=>{return'Where\x20your\x20players\x20works';}}]}),_0x3fd4b6;},this[_0x4d3ce3(0x16e)]=(_0x5a3a89,_0x35f46f)=>{var _0xc1532c=_0x4d3ce3,_0x1f4fba=[];for(var _0x4c8f48 in _0x5a3a89){_0x1f4fba['push']({'type':_0xc1532c(0x2dd),'img':world[_0xc1532c(0x227)][_0x4c8f48+_0xc1532c(0x338)][_0xc1532c(0x2dd)],'len_x':_0x35f46f,'len_y':_0x35f46f}),_0x1f4fba['push']({'type':_0xc1532c(0xf6),'txt':'\x20x'+_0x5a3a89[_0x4c8f48],'txt_color':_0xc1532c(0x3d4),'max_letters':0x270f,'letter_size':_0x35f46f,'txt_font':VILLAGE_UI_FONT});}return _0x1f4fba;},this['getItemIcone']=(_0x144eb1,_0x3b9a15,_0x2a001f)=>{var _0x10b9ab=_0x4d3ce3,_0xadc510=()=>this[_0x10b9ab(0x1ea)]=this[_0x10b9ab(0x1ea)]==_0x144eb1?undefined:_0x144eb1;if(_0x2a001f)_0xadc510=()=>{};var _0x5a5292=[{'type':_0x10b9ab(0x2dd),'img':world['Imgs'][_0x144eb1[_0x10b9ab(0x4b4)]+'_icon'][_0x10b9ab(0x2dd)],'len_x':_0x3b9a15,'len_y':_0x3b9a15},{'type':'button','mouseLight':'ff','callback':_0xadc510,'txt':_0x144eb1[_0x10b9ab(0x4b4)],'txt_color':_0x10b9ab(0x3d4),'max_letters':0x270f,'letter_size':_0x3b9a15,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this[_0x10b9ab(0x1ea)]==_0x144eb1?_0x10b9ab(0x330):_0x10b9ab(0x13b),'windowInfo':[{'callback':_0x144eb1[_0x10b9ab(0x13e)]==_0x10b9ab(0xbd)?_0x144eb1[_0x10b9ab(0x157)]:_0x144eb1['getArmorDescription']}]}];return _0x5a5292;},this[_0x4d3ce3(0x1a9)]=()=>{var _0x3319ae=_0x4d3ce3,_0x441790=world[_0x3319ae(0x171)];this['UI']['addHorizontalElem'](this[_0x3319ae(0x2f1)]({'selector':this[_0x3319ae(0x29d)]}));var _0x3ddb28=0x0,_0x567d7f=_0x441790['get_valid_craft_list']();if(_0x441790[_0x3319ae(0x391)]!=PHASE_ACTIONPLAYER)this['UI']['addTextZone']('you\x20can\x20only\x20craft\x20during\x20Phase\x202',0x14,0x270f,'#ff0000',VILLAGE_UI_FONT);if(!_0x567d7f||_0x567d7f[_0x3319ae(0x1c7)]<0x1)this['UI'][_0x3319ae(0x3ee)](_0x3319ae(0x41b),0x14,0x270f,_0x3319ae(0x3d4),VILLAGE_UI_FONT);for(var _0x3afe64 in _0x567d7f){var _0x3bd04e=[],_0x29bf1d=_0x567d7f[_0x3afe64];_0x3bd04e[_0x3319ae(0x234)]({'type':_0x3319ae(0x162),'mouseLight':'ff','callback':_0x2e6aba=>this['craftSelected']=this[_0x3319ae(0x11c)]==_0x2e6aba?undefined:_0x2e6aba,'callback_data':_0x29bf1d,'txt':_0x29bf1d[_0x3319ae(0x4b4)]+'\x20('+_0x29bf1d[_0x3319ae(0x245)]+')','txt_color':this[_0x3319ae(0x11c)]==_0x29bf1d?_0x3319ae(0x1f9):_0x3319ae(0x3d4),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x3319ae(0x145),'strokeColor':this['craftSelected']==_0x29bf1d?_0x3319ae(0x359):_0x3319ae(0x13b),'windowInfo':[{'callback':()=>{var _0x36f224=_0x3319ae;return _0x29bf1d[_0x36f224(0x292)];},'input':undefined}]});if(_0x3ddb28>=this[_0x3319ae(0x29d)][_0x3319ae(0x460)]&&_0x3ddb28<this[_0x3319ae(0x29d)][_0x3319ae(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x3bd04e);_0x3ddb28++;if(this[_0x3319ae(0x11c)]==_0x29bf1d){var _0x9a33ce=_0x441790[_0x3319ae(0x1b8)]({'craft':_0x29bf1d});if(_0x3ddb28>=this[_0x3319ae(0x29d)][_0x3319ae(0x460)]&&_0x3ddb28<this[_0x3319ae(0x29d)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x3319ae(0x42d)](this[_0x3319ae(0x16e)](_0x29bf1d['resources'],0x14));_0x3ddb28++;if(!_0x9a33ce||_0x9a33ce[_0x3319ae(0x1c7)]<0x1){if(_0x3ddb28>=this[_0x3319ae(0x29d)]['value']&&_0x3ddb28<this[_0x3319ae(0x29d)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x3319ae(0x3ee)](_0x3319ae(0x1b3),0x14,0x270f,_0x3319ae(0x10a),VILLAGE_UI_FONT);_0x3ddb28++;}for(var _0x2fe4d3 in _0x9a33ce){var _0x3dbcd6=_0x9a33ce[_0x2fe4d3],_0x3bd04e=this['getPlayerIcone'](_0x3dbcd6,0x19);_0x441790[_0x3319ae(0x391)]==PHASE_ACTIONPLAYER&&_0x3bd04e[_0x3319ae(0x234)]({'type':_0x3319ae(0x162),'mouseLight':'88','callback':_0x441790['TryCraftItem'],'callback_data':{'craft':_0x29bf1d,'player':_0x3dbcd6},'txt':'craft','txt_color':_0x3319ae(0x3d4),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x3319ae(0x34c),'strokeColor':this[_0x3319ae(0x11c)]==_0x29bf1d?'#000000ff':'#00000000','windowInfo':[{'callback':()=>{return _0x29bf1d['description'];},'input':undefined}]});if(_0x3ddb28>=this[_0x3319ae(0x29d)][_0x3319ae(0x460)]&&_0x3ddb28<this[_0x3319ae(0x29d)][_0x3319ae(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x3319ae(0x42d)](_0x3bd04e);_0x3ddb28++;}}}},this[_0x4d3ce3(0x1a2)]=(_0x207092,_0xb287b0)=>{var _0x597d8f=_0x4d3ce3,_0x821b7f=[{'type':_0x597d8f(0x2dd),'img':world[_0x597d8f(0x227)][_0x207092[_0x597d8f(0xba)]]['img'],'len_x':_0xb287b0,'len_y':_0xb287b0},{'type':_0x597d8f(0x162),'mouseLight':'ff','callback':_0x2f1ad2=>{var _0x30f4d0=_0x597d8f;this[_0x30f4d0(0x1e4)]=this['batSelected']==_0x2f1ad2?undefined:_0x2f1ad2;},'callback_data':_0x207092,'txt':_0x207092[_0x597d8f(0x4b4)],'txt_color':this[_0x597d8f(0x1e4)]==_0x207092?'#dddddd':_0x597d8f(0x3d4),'max_letters':0x270f,'letter_size':_0xb287b0,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this[_0x597d8f(0x1e4)]==_0x207092?_0x597d8f(0x359):_0x597d8f(0x13b),'windowInfo':[{'callback':_0x3b7856=>{var _0x1a14b5=_0x597d8f;if(typeof _0x3b7856[_0x1a14b5(0x292)]=='function')return _0x3b7856[_0x1a14b5(0x292)](_0x3b7856);if(typeof _0x3b7856[_0x1a14b5(0x292)]==_0x1a14b5(0x235))return _0x3b7856['description'];},'input':_0x207092}]}];return _0x821b7f;},this['GetNextTurnButton']=(_0x1037de,_0x2c15c6,_0x3567dd)=>{var _0x43261c=_0x4d3ce3,_0x1d206c={'type':_0x43261c(0x162),'mouseLight':'88','callback':world[_0x43261c(0x171)][_0x43261c(0x1be)],'callback_data':{'warning':_0x1037de?!![]:![]},'txt':_0x3567dd,'txt_color':_0x43261c(0x3d4),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x2c15c6?_0x43261c(0x2a3):_0x43261c(0x34c),'strokeColor':_0x43261c(0x3d4)};return _0x1d206c;},this[_0x4d3ce3(0x3e7)]=(_0x2dd99d,_0x1ba35d)=>{var _0x7ca59f=_0x4d3ce3;if(!_0x2dd99d)return undefined;var _0x1ba35d=_0x1ba35d?_0x1ba35d:0x28,_0x5244ad=[{'type':_0x7ca59f(0x162),'mouseLight':'ff','txt':_0x2dd99d[_0x7ca59f(0x4b4)],'callback':_0x129bf2=>{var _0xd25fa8=_0x7ca59f;this[_0xd25fa8(0x41c)]=this['playerSelected']==_0x129bf2?undefined:_0x129bf2;},'callback_data':_0x2dd99d,'txt_color':_0x2dd99d['lvlup']?_0x7ca59f(0x474):this[_0x7ca59f(0x41c)]==_0x2dd99d?'#ffffff':_0x7ca59f(0x3d4),'max_letters':0x270f,'letter_size':_0x1ba35d,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this['playerSelected']==_0x2dd99d?_0x7ca59f(0x359):_0x7ca59f(0x13b),'windowInfo':[{'callback':_0x2dd99d['getVillageUItext']}]}];if(!_0x2dd99d[_0x7ca59f(0x414)])_0x2dd99d[_0x7ca59f(0x46b)]();return _0x5244ad[_0x7ca59f(0x234)]({'type':_0x7ca59f(0x2dd),'img':_0x2dd99d['bodyPartImg'],'len_x':_0x1ba35d,'len_y':_0x1ba35d}),_0x2dd99d[_0x7ca59f(0xbd)]&&_0x5244ad[_0x7ca59f(0x234)]({'type':_0x7ca59f(0x2dd),'img':world[_0x7ca59f(0x379)][_0x2dd99d[_0x7ca59f(0xbd)][_0x7ca59f(0x4b4)]+_0x7ca59f(0x338)][_0x7ca59f(0x2dd)],'len_x':_0x1ba35d,'len_y':_0x1ba35d}),_0x5244ad;},this[_0x4d3ce3(0x316)]=()=>{var _0x45ac9a=_0x4d3ce3,_0x167906=world[_0x45ac9a(0x171)];this[_0x45ac9a(0x108)]=new MyUI(this[_0x45ac9a(0x213)],0x0,0x0,0xa,this[_0x45ac9a(0x396)],this['background'],this['stroke'],this['marge']),this['UIplayers'][_0x45ac9a(0x32d)](_0x45ac9a(0x473),0x28,_0x45ac9a(0x3d4),_0x45ac9a(0x13b),_0x45ac9a(0x13b),()=>{var _0x3b6356=_0x45ac9a;this[_0x3b6356(0x28e)]=!this[_0x3b6356(0x28e)];},undefined,VILLAGE_UI_FONT_PHASE);if(this['showUIplayers']){var _0x1dfebd=this[_0x45ac9a(0x1b5)][this[_0x45ac9a(0x399)]['value']]=='stats'?{'list':this[_0x45ac9a(0x237)],'id':this[_0x45ac9a(0x3dc)]}:undefined,_0x167b6a=this[_0x45ac9a(0x2f1)]({'selector':this[_0x45ac9a(0x3ed)],'sortButo':{'list':this[_0x45ac9a(0x1b5)],'id':this[_0x45ac9a(0x399)]},'sortButo2':_0x1dfebd});switch(this[_0x45ac9a(0x1b5)][this[_0x45ac9a(0x399)]['value']]){case'name':_0x167906['players'][_0x45ac9a(0x1f2)]((_0x2ee6df,_0x4d09fb)=>{var _0x527556=_0x45ac9a;if(_0x2ee6df[_0x527556(0x4b4)]>_0x4d09fb['name'])return 0x1;return-0x1;});break;case _0x45ac9a(0x207):_0x167906[_0x45ac9a(0x3b5)][_0x45ac9a(0x1f2)]((_0x3ff472,_0x400e11)=>{var _0x2437c0=_0x45ac9a,_0xacada2=_0x167906[_0x2437c0(0x3ce)](_0x3ff472),_0x2e0988=_0x167906[_0x2437c0(0x3ce)](_0x400e11);if(!_0xacada2&&_0x2e0988)return 0x1;if(_0xacada2&&!_0x2e0988)return-0x1;if(!_0xacada2&&!_0x2e0988)return 0x0;if(_0xacada2[_0x2437c0(0x4b4)]>_0x2e0988[_0x2437c0(0x4b4)])return 0x1;if(_0xacada2[_0x2437c0(0x4b4)]<_0x2e0988[_0x2437c0(0x4b4)])return-0x1;return 0x0;});break;case _0x45ac9a(0xbd):_0x167906['players'][_0x45ac9a(0x1f2)]((_0x158fa6,_0x2e1c39)=>{var _0x25cf2c=_0x45ac9a,_0x24396a=_0x158fa6[_0x25cf2c(0xbd)],_0x32de10=_0x2e1c39['weapon'];if(!_0x24396a&&_0x32de10)return 0x1;if(_0x24396a&&!_0x32de10)return-0x1;if(!_0x24396a&&!_0x32de10)return 0x0;if(_0x24396a[_0x25cf2c(0x4b4)]>_0x32de10[_0x25cf2c(0x4b4)])return 0x1;if(_0x24396a['name']<_0x32de10[_0x25cf2c(0x4b4)])return-0x1;return 0x0;});break;case _0x45ac9a(0x335):_0x167906[_0x45ac9a(0x3b5)][_0x45ac9a(0x1f2)]((_0x285c73,_0x40b2bd)=>{var _0x1c5899=_0x45ac9a,_0xee0011=_0x285c73['armor'],_0x511c56=_0x40b2bd['armor'];if(!_0xee0011&&_0x511c56)return 0x1;if(_0xee0011&&!_0x511c56)return-0x1;if(!_0xee0011&&!_0x511c56)return 0x0;if(_0xee0011[_0x1c5899(0x4b4)]>_0x511c56[_0x1c5899(0x4b4)])return 0x1;if(_0xee0011[_0x1c5899(0x4b4)]<_0x511c56[_0x1c5899(0x4b4)])return-0x1;return 0x0;});break;case'stats':var _0x19a749=this[_0x45ac9a(0x237)][this[_0x45ac9a(0x3dc)][_0x45ac9a(0x460)]];if(_0x19a749==_0x45ac9a(0x1ee)||_0x19a749==_0x45ac9a(0x369))_0x167906[_0x45ac9a(0x3b5)][_0x45ac9a(0x1f2)]((_0x630640,_0x2e8576)=>{var _0x16a8ed=_0x45ac9a;if(_0x630640[_0x16a8ed(0x110)][_0x19a749]<_0x2e8576[_0x16a8ed(0x110)][_0x19a749])return 0x1;if(_0x630640[_0x16a8ed(0x110)][_0x19a749]>_0x2e8576[_0x16a8ed(0x110)][_0x19a749])return-0x1;return 0x0;});else _0x167906[_0x45ac9a(0x3b5)][_0x45ac9a(0x1f2)]((_0x1bb794,_0x5cd7a8)=>{if(_0x1bb794[_0x19a749]<_0x5cd7a8[_0x19a749])return 0x1;if(_0x1bb794[_0x19a749]>_0x5cd7a8[_0x19a749])return-0x1;return 0x0;});break;}if(this[_0x45ac9a(0x41c)]&&this['tabs'][this[_0x45ac9a(0x32f)]]!=_0x45ac9a(0x351)&&(_0x167906['phase']==PHASE_PLACEPLAYER||_0x167906['phase']==PHASE_ACTIONPLAYER))_0x167b6a['push']({'type':_0x45ac9a(0x162),'mouseLight':'88','callback':this['GoToTabName'],'callback_data':{'tab':'Player'},'txt':'Show','txt_color':_0x45ac9a(0x3d4),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x45ac9a(0x3e8)});this[_0x45ac9a(0x108)][_0x45ac9a(0x42d)](_0x167b6a);var _0x2db45a=0x0;if(!this[_0x45ac9a(0x1ec)])for(var _0x552d0f in _0x167906[_0x45ac9a(0x3b5)]){var _0x2d950f=_0x167906[_0x45ac9a(0x3b5)][_0x552d0f];if(_0x2db45a>=this[_0x45ac9a(0x3ed)]['value']&&_0x2db45a<this[_0x45ac9a(0x3ed)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)][_0x45ac9a(0x42d)](this[_0x45ac9a(0x3e7)](_0x2d950f));_0x2db45a++;if(_0x2d950f[_0x45ac9a(0x477)]&&_0x167906['phase']!=PHASE_NEWTURN){if(_0x2db45a>=this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]&&_0x2db45a<this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)]['addButton']('lvl\x20up',0xa,'#ffffff',_0x45ac9a(0x44c),_0x45ac9a(0x3d4),this[_0x45ac9a(0x410)],{'tab':_0x45ac9a(0x351),'player':_0x2d950f},VILLAGE_UI_FONT_BUTTON,undefined,()=>{var _0x4e69f1=_0x45ac9a;return _0x4e69f1(0x47b);},'ff');_0x2db45a++;}var _0x35c682=world[_0x45ac9a(0x171)]['getBatFromPlayer'](_0x2d950f);if(_0x35c682&&(this['playerSelected']==_0x2d950f||this[_0x45ac9a(0x1b5)][this[_0x45ac9a(0x399)][_0x45ac9a(0x460)]]==_0x45ac9a(0x207))){var _0x29207c=[{'type':_0x45ac9a(0xf6),'txt':_0x35c682[_0x45ac9a(0x4b4)],'txt_color':this[_0x45ac9a(0x1e4)]==_0x35c682?'#888888':_0x45ac9a(0x3d4),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x45ac9a(0x2dd),'img':world['Imgs'][_0x35c682['imgIcon']][_0x45ac9a(0x2dd)],'len_x':0x14,'len_y':0x14}];if(_0x167906[_0x45ac9a(0x391)]==PHASE_PLACEPLAYER)_0x29207c[_0x45ac9a(0x234)]({'type':_0x45ac9a(0x162),'mouseLight':'88','callback':world[_0x45ac9a(0x171)][_0x45ac9a(0x1e5)],'callback_data':{'player':_0x2d950f},'txt':_0x45ac9a(0x2f0),'txt_color':_0x45ac9a(0x3d4),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ff0000'});if(_0x2db45a>=this['playersPageOffset'][_0x45ac9a(0x460)]&&_0x2db45a<this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)][_0x45ac9a(0x42d)](_0x29207c);_0x2db45a++;}var _0x217f06=[];if(_0x167906[_0x45ac9a(0x391)]==PHASE_PLACEPLAYER&&this[_0x45ac9a(0x1e4)]&&this[_0x45ac9a(0x2a6)][this[_0x45ac9a(0x32f)]]==_0x45ac9a(0x207)&&this['batSelected'][_0x45ac9a(0x210)]&&!this[_0x45ac9a(0x1e4)][_0x45ac9a(0x1cb)][_0x45ac9a(0x1bb)](_0x50c480=>_0x50c480==_0x2d950f)&&!_0x35c682&&!this[_0x45ac9a(0x46f)]&&this[_0x45ac9a(0x1e4)][_0x45ac9a(0x1cb)][_0x45ac9a(0x1c7)]<this['batSelected'][_0x45ac9a(0x210)])_0x217f06[_0x45ac9a(0x234)]({'type':_0x45ac9a(0x162),'mouseLight':'88','callback':world['village'][_0x45ac9a(0x2a5)],'callback_data':{'player':_0x2d950f,'bat':this[_0x45ac9a(0x1e4)]},'txt':_0x45ac9a(0x124),'txt_color':_0x45ac9a(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x217f06['length']){if(_0x2db45a>=this[_0x45ac9a(0x3ed)]['value']&&_0x2db45a<this['playersPageOffset'][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)]['addHorizontalElem'](_0x217f06);_0x2db45a++;}if(this['tabs'][this[_0x45ac9a(0x32f)]]=='Items'){if(this['playerSelected']==_0x2d950f){if(_0x167906[_0x45ac9a(0x391)]==PHASE_PLACEPLAYER&&_0x2d950f[_0x45ac9a(0xbd)]){if(_0x2db45a>=this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]&&_0x2db45a<this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)][_0x45ac9a(0x32d)](_0x45ac9a(0x3ef),0x14,_0x45ac9a(0x3d4),VILLAGE_UI_BUTTON_FILLCOLOR,_0x45ac9a(0x3d4),_0x2d950f[_0x45ac9a(0x3de)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x2db45a++;}if(_0x167906[_0x45ac9a(0x391)]==PHASE_PLACEPLAYER&&_0x2d950f[_0x45ac9a(0x335)]){if(_0x2db45a>=this['playersPageOffset']['value']&&_0x2db45a<this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)][_0x45ac9a(0x32d)]('unequip\x20armor',0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0x45ac9a(0x3d4),_0x2d950f[_0x45ac9a(0x49c)],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x2db45a++;}if(_0x167906['phase']==PHASE_PLACEPLAYER&&this[_0x45ac9a(0x1ea)]&&this[_0x45ac9a(0x1ea)][_0x45ac9a(0x13e)]==_0x45ac9a(0xbd)){if(_0x2db45a>=this[_0x45ac9a(0x3ed)]['value']&&_0x2db45a<this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0x45ac9a(0x32d)]('equip\x20weapon',0x14,_0x45ac9a(0x3d4),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x2d950f[_0x45ac9a(0x400)],{'weapon':this[_0x45ac9a(0x1ea)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x2db45a++;}if(_0x167906[_0x45ac9a(0x391)]==PHASE_PLACEPLAYER&&this['itemSelected']&&this[_0x45ac9a(0x1ea)]['itemType']==_0x45ac9a(0x335)){if(_0x2db45a>=this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]&&_0x2db45a<this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)]['addButton'](_0x45ac9a(0x29c),0x14,_0x45ac9a(0x3d4),VILLAGE_UI_BUTTON_FILLCOLOR,_0x45ac9a(0x3d4),_0x2d950f['equipArmor'],{'armor':this[_0x45ac9a(0x1ea)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x2db45a++;}}}}if(this[_0x45ac9a(0x1ec)]){if(_0x2db45a>=this['playersPageOffset'][_0x45ac9a(0x460)]&&_0x2db45a<this[_0x45ac9a(0x3ed)][_0x45ac9a(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0x45ac9a(0x108)][_0x45ac9a(0x3ee)](this[_0x45ac9a(0x1ec)][_0x45ac9a(0xc8)](),0x28,0x270f,_0x45ac9a(0x3d4),VILLAGE_UI_FONT);_0x2db45a++;}}this[_0x45ac9a(0x108)][_0x45ac9a(0x487)]();},this['draw_newTurnPhase']=()=>{var _0x11db65=_0x4d3ce3,_0x432b1a=world[_0x11db65(0x171)],_0x585fdf=_0x11db65(0xd7);_0x585fdf+=world[_0x11db65(0x171)][_0x11db65(0xf5)]();if(_0x432b1a[_0x11db65(0x182)])_0x585fdf+=_0x11db65(0x375)+_0x432b1a[_0x11db65(0x182)]+'\x20food\x20last\x20week';for(var _0x69c50e in _0x432b1a[_0x11db65(0x3b5)]){var _0x5a5aeb=_0x432b1a[_0x11db65(0x3b5)];if(_0x5a5aeb[_0x11db65(0x477)])_0x585fdf+='\x0a'+_0x5a5aeb['name']+'\x20can\x20lvl\x20up';}this['UI'][_0x11db65(0x3ee)](_0x585fdf,0x1e,0x270f,_0x11db65(0x3d4),VILLAGE_UI_FONT),this['UI'][_0x11db65(0x42d)]([this[_0x11db65(0x36c)](![],![],'Start\x20Turn')]);},this['draw_battlePhase']=()=>{var _0x1128e4=_0x4d3ce3,_0x2bfdf7=world[_0x1128e4(0x171)];if(_0x2bfdf7[_0x1128e4(0x434)])this['UI'][_0x1128e4(0x3ee)](_0x1128e4(0x36b),0x28,0x270f,_0x1128e4(0x3d4),VILLAGE_UI_FONT);else this['UI']['addTextZone'](_0x1128e4(0xc7),0x28,0x270f,_0x1128e4(0x3d4),VILLAGE_UI_FONT);this['UI'][_0x1128e4(0x42d)]([this['GetNextTurnButton'](![],![],_0x2bfdf7['battle']?_0x1128e4(0x325):_0x1128e4(0x3b4))]);},this[_0x4d3ce3(0x4b9)]=()=>{var _0x31ef76=_0x4d3ce3,_0x5b587b=world[_0x31ef76(0x171)];this['UI'][_0x31ef76(0x42d)](this['GetPageSelector']({'selector':this[_0x31ef76(0x415)]}));var _0x5675c2=0x0;if(_0x5b587b[_0x31ef76(0x391)]!=PHASE_PLACEPLAYER)this['UI'][_0x31ef76(0x3ee)](_0x31ef76(0x1d0),0x14,0x270f,'#ff0000',VILLAGE_UI_FONT);if(!_0x5b587b['Items'][_0x31ef76(0x1c7)])this['UI'][_0x31ef76(0x3ee)](_0x31ef76(0x2f7),0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x2e5ec1=_0x5b587b[_0x31ef76(0x1a0)][_0x31ef76(0x1bb)](_0x25e7fd=>_0x25e7fd[_0x31ef76(0x4b4)]==_0x31ef76(0x208));for(var _0x46fae8 in _0x5b587b[_0x31ef76(0x153)]){var _0x42c628=_0x5b587b[_0x31ef76(0x153)][_0x46fae8],_0x3c628f=this[_0x31ef76(0x43c)](_0x42c628,0x14);if(_0x42c628['upgradeLvl']>0x1)_0x3c628f[_0x31ef76(0x234)]({'type':_0x31ef76(0xf6),'txt':'lvl\x20'+_0x42c628[_0x31ef76(0xf7)],'txt_color':_0x31ef76(0x2e2),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT});_0x2e5ec1&&!_0x2e5ec1[_0x31ef76(0x14d)]&&_0x42c628['itemType']==_0x31ef76(0xbd)&&_0x42c628[_0x31ef76(0xf7)]&&_0x5b587b[_0x31ef76(0x391)]==PHASE_ACTIONPLAYER&&_0x3c628f[_0x31ef76(0x234)]({'type':_0x31ef76(0xf6),'txt':_0x31ef76(0x105),'txt_color':'#ff0000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT});if(_0x5675c2>=this[_0x31ef76(0x415)]['value']&&_0x5675c2<this[_0x31ef76(0x415)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x31ef76(0x42d)](_0x3c628f);_0x5675c2++;if(_0x2e5ec1&&!_0x2e5ec1[_0x31ef76(0x14d)]&&_0x42c628[_0x31ef76(0x13e)]==_0x31ef76(0xbd)&&_0x42c628[_0x31ef76(0xf7)]&&_0x5b587b['phase']==PHASE_ACTIONPLAYER)for(var _0x19c5a9 in _0x2e5ec1[_0x31ef76(0x1cb)]){var _0x567bb4=_0x2e5ec1[_0x31ef76(0x1cb)][_0x19c5a9],_0x14ca12=[];if(this[_0x31ef76(0x1ea)]==_0x42c628&&_0x567bb4[_0x31ef76(0x2aa)]){_0x14ca12[_0x31ef76(0x234)]({'type':_0x31ef76(0x162),'callback':_0x42c628[_0x31ef76(0x32e)],'callback_data':{'player':_0x567bb4},'txt':'upgrade','txt_color':_0x31ef76(0x3d4),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x31ef76(0x3d4),'windowInfo':[{'callback':_0x1f7887=>{var _0x2bb975=_0x31ef76;return _0x2bb975(0x357)+_0x1f7887[_0x2bb975(0x3b6)]()+'%';},'input':_0x42c628}]});if(_0x5675c2>=this['itemsPageOffset']['value']&&_0x5675c2<this[_0x31ef76(0x415)][_0x31ef76(0x460)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x31ef76(0x42d)](_0x14ca12);_0x5675c2++;}else{if(_0x5675c2>=this[_0x31ef76(0x415)][_0x31ef76(0x460)]&&_0x5675c2<this[_0x31ef76(0x415)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x31ef76(0x42d)]([{'type':'txt','txt':'no\x20one\x20can\x20uppgrade\x20it','txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}]);_0x5675c2++;}}}},this[_0x4d3ce3(0x181)]=()=>{var _0x15760d=_0x4d3ce3,_0x2f81fd=world[_0x15760d(0x171)];switch(_0x2f81fd['phase']){case PHASE_PLACEPLAYER:this['UI'][_0x15760d(0x3ee)](world['village'][_0x15760d(0xf5)](),0x14,0x270f,_0x15760d(0x3d4),VILLAGE_UI_FONT);var _0x4d2424=_0x15760d(0x1cd);_0x4d2424+='\x0a-equip\x20items',_0x4d2424+='\x0a-affect\x20players\x20to\x20a\x20building',_0x4d2424+=_0x15760d(0x374),_0x4d2424+=_0x15760d(0x177),this['UI'][_0x15760d(0x3ee)](_0x4d2424,0x14,0x270f,_0x15760d(0x3d4),VILLAGE_UI_FONT);var _0x4f62b1=[this[_0x15760d(0x36c)](!![],this[_0x15760d(0x131)][_0x15760d(0x1c7)],_0x15760d(0x493))];this['UI'][_0x15760d(0x42d)](_0x4f62b1);if(this['warningEndTurnMessage'][_0x15760d(0x1c7)])for(var _0x3c9df0 in this[_0x15760d(0x131)]){var _0x4c362a=[];_0x4c362a['push']({'type':_0x15760d(0xf6),'txt':this['warningEndTurnMessage'][_0x3c9df0][_0x15760d(0xf6)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this['warningEndTurnMessage'][_0x3c9df0][_0x15760d(0x143)]||this[_0x15760d(0x131)][_0x3c9df0][_0x15760d(0xc6)]||this['warningEndTurnMessage'][_0x3c9df0][_0x15760d(0x393)])&&_0x4c362a[_0x15760d(0x234)]({'type':'button','callback':this[_0x15760d(0x410)],'callback_data':this['warningEndTurnMessage'][_0x3c9df0],'txt':'look','txt_color':_0x15760d(0x3d4),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x12d966=_0x15760d;return _0x12d966(0x4b1);}}]}),this['UI'][_0x15760d(0x42d)](_0x4c362a);}break;case PHASE_ACTIONPLAYER:this['UI'][_0x15760d(0x3ee)](world[_0x15760d(0x171)]['getDateText'](),0x14,0x270f,_0x15760d(0x3d4),VILLAGE_UI_FONT);var _0x4d2424='\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building';_0x4d2424+=_0x15760d(0x336),_0x4d2424+=_0x15760d(0x485),_0x4d2424+='\x0a-craft\x20weapons\x20and\x20armors',_0x4d2424+=_0x15760d(0x25c),this['UI'][_0x15760d(0x3ee)](_0x4d2424,0x14,0x270f,_0x15760d(0x3d4),VILLAGE_UI_FONT);var _0x4f62b1=[this[_0x15760d(0x36c)](!![],this[_0x15760d(0x131)][_0x15760d(0x1c7)],_0x15760d(0x397))];if(this[_0x15760d(0x131)][_0x15760d(0x1c7)])_0x4f62b1['push'](this[_0x15760d(0x36c)](![],this[_0x15760d(0x131)]['length'],_0x15760d(0x45f)));this['UI']['addHorizontalElem'](_0x4f62b1);if(this[_0x15760d(0x131)]['length'])for(var _0x3c9df0 in this['warningEndTurnMessage']){var _0x4c362a=[];_0x4c362a[_0x15760d(0x234)]({'type':_0x15760d(0xf6),'txt':this[_0x15760d(0x131)][_0x3c9df0]['txt'],'txt_color':_0x15760d(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x15760d(0x131)][_0x3c9df0][_0x15760d(0x143)]||this[_0x15760d(0x131)][_0x3c9df0]['bat']||this[_0x15760d(0x131)][_0x3c9df0][_0x15760d(0x393)])&&_0x4c362a[_0x15760d(0x234)]({'type':_0x15760d(0x162),'callback':this[_0x15760d(0x410)],'callback_data':this[_0x15760d(0x131)][_0x3c9df0],'txt':'look','txt_color':_0x15760d(0x3d4),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x15760d(0x3d4),'windowInfo':[{'callback':()=>{var _0x499022=_0x15760d;return _0x499022(0x4b1);}}]}),this['UI']['addHorizontalElem'](_0x4c362a);}break;}},this[_0x4d3ce3(0x433)]=()=>{var _0x22d067=_0x4d3ce3,_0x1e35c9=world['village'];if(!this[_0x22d067(0x41c)])return this['UI'][_0x22d067(0x3ee)](_0x22d067(0x294),VILLAGE_UI_LETTER_SIZE,0x270f,_0x22d067(0x3d4),VILLAGE_UI_FONT);var _0x5fd37b=this['playerSelected'],_0x2ee27b=this[_0x22d067(0x3e7)](_0x5fd37b,0x50);this['UI'][_0x22d067(0x42d)](_0x2ee27b);var _0x5e3809=world[_0x22d067(0x171)][_0x22d067(0x3ce)](_0x5fd37b);if(_0x5e3809){var _0x129b3e=[{'type':_0x22d067(0xf6),'txt':_0x5e3809[_0x22d067(0x4b4)],'txt_color':this[_0x22d067(0x1e4)]==_0x5e3809?_0x22d067(0x252):_0x22d067(0x3d4),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':'img','img':world[_0x22d067(0x227)][_0x5e3809[_0x22d067(0xba)]]['img'],'len_x':0x19,'len_y':0x19}];if(_0x1e35c9[_0x22d067(0x391)]==PHASE_PLACEPLAYER)_0x129b3e['push']({'type':_0x22d067(0x162),'mouseLight':'88','callback':world['village'][_0x22d067(0x1e5)],'callback_data':{'player':_0x5fd37b},'txt':_0x22d067(0x2f0),'txt_color':_0x22d067(0x3d4),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x22d067(0x10a)});this['UI'][_0x22d067(0x42d)](_0x129b3e);}if(!_0x5fd37b[_0x22d067(0xbd)])this['UI'][_0x22d067(0x3ee)](_0x22d067(0x1c6),0x14,0x270e,'#555555',VILLAGE_UI_FONT);else{var _0x4107a5=this[_0x22d067(0x43c)](_0x5fd37b[_0x22d067(0xbd)],0x1e,!![]);if(_0x1e35c9[_0x22d067(0x391)]==PHASE_PLACEPLAYER)_0x4107a5[_0x22d067(0x234)]({'type':_0x22d067(0x162),'callback':_0x5fd37b[_0x22d067(0x3de)],'callback_data':undefined,'txt':'\x20x\x20','txt_color':_0x22d067(0x3d4),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':'#ff0000','strokeColor':_0x22d067(0x3d4),'windowInfo':[{'callback':()=>{var _0x134315=_0x22d067;return _0x134315(0x3ef);}}]});this['UI']['addHorizontalElem'](_0x4107a5);}if(!_0x5fd37b[_0x22d067(0x335)])this['UI'][_0x22d067(0x3ee)](_0x22d067(0x27a),0x14,0x270e,_0x22d067(0x27d),VILLAGE_UI_FONT);else{var _0x4107a5=this[_0x22d067(0x43c)](_0x5fd37b[_0x22d067(0x335)],0x1e,!![]);if(_0x1e35c9[_0x22d067(0x391)]==PHASE_PLACEPLAYER)_0x4107a5[_0x22d067(0x234)]({'type':_0x22d067(0x162),'callback':_0x5fd37b[_0x22d067(0x49c)],'callback_data':undefined,'txt':_0x22d067(0x3b2),'txt_color':_0x22d067(0x3d4),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x22d067(0x10a),'strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x4cae0a=_0x22d067;return _0x4cae0a(0x421);}}]});this['UI'][_0x22d067(0x42d)](_0x4107a5);}if(_0x5fd37b[_0x22d067(0x477)]&&_0x5fd37b[_0x22d067(0x1e9)]&&_0x5fd37b['lvlupList'][_0x22d067(0x1c7)]>0x0)for(var _0xd95595 in _0x5fd37b[_0x22d067(0x1e9)]){var _0x2ee27b=_0x5fd37b[_0x22d067(0x1e9)][_0xd95595];this['UI']['addButton'](_0x2ee27b['stat']+'\x20'+_0x2ee27b['value'],0x28,_0x22d067(0x3d4),_0x22d067(0x474),_0x22d067(0x3d4),_0x5fd37b[_0x22d067(0x101)],_0x2ee27b,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0x5fd37b['lvlup']&&this['UI'][_0x22d067(0x32d)](_0x22d067(0x118),0x3c,_0x22d067(0x3d4),'#ffff00','#000000',_0x5fd37b['getLvlUpPerkList'],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0x2ee27b=[];var _0x89b126='\x20Action\x20Point\x20Max\x20(Battle)\x20'+_0x5fd37b[_0x22d067(0x246)];_0x89b126+=_0x22d067(0x29e)+_0x5fd37b[_0x22d067(0x367)],_0x89b126+=_0x22d067(0x1d1)+_0x5fd37b[_0x22d067(0x142)],_0x89b126+=_0x22d067(0x37d)+_0x5fd37b[_0x22d067(0x35b)];for(var _0xd95595 in _0x5fd37b['stats'])_0x89b126+='\x0a'+_0xd95595+'\x20'+_0x5fd37b[_0x22d067(0x110)][_0xd95595];_0x2ee27b[_0x22d067(0x234)]({'type':'txt','txt':_0x89b126,'txt_color':_0x22d067(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x1353b6=_0x22d067(0x203)+_0x5fd37b['villageActionPoint']+'/'+_0x5fd37b[_0x22d067(0x2fc)];_0x1353b6+=_0x22d067(0x481)+_0x5fd37b[_0x22d067(0x150)],_0x1353b6+=_0x22d067(0x37e)+_0x5fd37b[_0x22d067(0x450)]+'\x20weeks',_0x2ee27b['push']({'type':'txt','txt':_0x1353b6,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x22d067(0x42d)](_0x2ee27b);},this[_0x4d3ce3(0xee)]=()=>{var _0x4daeb5=_0x4d3ce3,_0x1d5f94=world[_0x4daeb5(0x171)];for(var _0x495e58 in _0x1d5f94['resources']){var _0x4df356=[],_0x52d7d1=_0x1d5f94[_0x4daeb5(0x126)][_0x495e58];if(_0x52d7d1==undefined)continue;_0x4df356['push']({'type':'txt','txt':_0x495e58,'txt_color':_0x4daeb5(0x3d4),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x4df356['push']({'type':_0x4daeb5(0x2dd),'img':world[_0x4daeb5(0x227)][_0x495e58+_0x4daeb5(0x338)]['img'],'len_x':0x14,'len_y':0x14}),_0x4df356['push']({'type':_0x4daeb5(0xf6),'txt':'\x20'+_0x52d7d1,'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI']['addHorizontalElem'](_0x4df356);}},this['draw_tab_selector']=()=>{var _0x18e5f0=_0x4d3ce3,_0x4f7f21=[];_0x4f7f21[_0x18e5f0(0x234)]({'type':_0x18e5f0(0x162),'mouseLight':'88','callback':()=>{var _0x25e1dd=_0x18e5f0;this[_0x25e1dd(0x32f)]=this['activeTabId']-0x1>=0x0?this[_0x25e1dd(0x32f)]-0x1:this[_0x25e1dd(0x2a6)][_0x25e1dd(0x1c7)]-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x4f7f21[_0x18e5f0(0x234)]({'type':_0x18e5f0(0x162),'mouseLight':'88','callback':()=>{var _0x39bae2=_0x18e5f0;this[_0x39bae2(0x32f)]=this[_0x39bae2(0x32f)]+0x1<this[_0x39bae2(0x2a6)][_0x39bae2(0x1c7)]?this[_0x39bae2(0x32f)]+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x4f7f21[_0x18e5f0(0x234)]({'type':_0x18e5f0(0x162),'mouseLight':'ff','callback':()=>{this['activeTabId']=undefined;},'callback_data':undefined,'txt':this[_0x18e5f0(0x2a6)][this[_0x18e5f0(0x32f)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x18e5f0(0x42d)](_0x4f7f21);},this['draw_UI_EventMessage']=()=>{var _0x176152=_0x4d3ce3,_0x54d97e=world[_0x176152(0x171)];this[_0x176152(0x27b)]=new MyUI(this[_0x176152(0x213)],this[_0x176152(0x108)][_0x176152(0x37b)]+this['UI'][_0x176152(0x37b)],0x0,0xa,this[_0x176152(0x396)],this[_0x176152(0x2e4)],this[_0x176152(0x184)],this[_0x176152(0x3ba)]),this[_0x176152(0x27b)][_0x176152(0x3ee)](_0x176152(0x3da),0x28,0x270f,_0x176152(0x3d4),VILLAGE_UI_FONT_PHASE),this[_0x176152(0x27b)][_0x176152(0x42d)]([{'type':_0x176152(0x162),'mouseLight':'88','callback':()=>{var _0x114072=_0x176152;this[_0x114072(0x224)]=this[_0x114072(0x224)]>0x0?this[_0x114072(0x224)]-0x1:this[_0x114072(0x224)];},'txt':'∧','txt_color':_0x176152(0x10a),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':'#55aaaa'},{'type':_0x176152(0x162),'mouseLight':'88','callback':()=>{var _0x1abce7=_0x176152;this[_0x1abce7(0x224)]=this['eventPage']<_0x54d97e[_0x1abce7(0x326)]['msg']['length']-0x1?this['eventPage']+0x1:this[_0x1abce7(0x224)];},'txt':'∨','txt_color':_0x176152(0x10a),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':'#55aaaa'}]);var _0x3003d9=_0x54d97e[_0x176152(0x326)][_0x176152(0x1c9)]({'page':this[_0x176152(0x224)]});for(var _0x5bed5e in _0x3003d9){var _0x580a58=_0x3003d9['length']-_0x5bed5e-0x1,_0x20cc69=_0x176152(0x3d4);switch(_0x3003d9[_0x580a58][_0x176152(0x245)]){case'job':_0x20cc69=_0x176152(0x107);break;case'building':_0x20cc69=_0x176152(0x231);break;case _0x176152(0x143):_0x20cc69=_0x176152(0x2e2);break;default:_0x20cc69=_0x176152(0x3d4);break;}if(_0x3003d9[_0x580a58]['type']=='resource')this['UIsystem'][_0x176152(0x42d)](this[_0x176152(0x16e)](_0x3003d9[_0x580a58][_0x176152(0xf6)],0x14));else this[_0x176152(0x27b)][_0x176152(0x3ee)](_0x3003d9[_0x580a58][_0x176152(0xf6)],0x14,0x270f,_0x20cc69,VILLAGE_UI_FONT);}this[_0x176152(0x27b)][_0x176152(0x487)]();},this[_0x4d3ce3(0x280)]=()=>{var _0x282f3c=_0x4d3ce3;if(!world[_0x282f3c(0x171)])return;var _0x573644=world['village'];this[_0x282f3c(0x3c7)]=![],this['canvas']['GetCanvasPos'](),this['canvas'][_0x282f3c(0x15e)](),this[_0x282f3c(0x316)](),this['UI']=new MyUI(this[_0x282f3c(0x213)],this[_0x282f3c(0x108)]['lenx'],0x0,0xa,this[_0x282f3c(0x396)],this[_0x282f3c(0x2e4)],this[_0x282f3c(0x184)],this[_0x282f3c(0x3ba)]);if(!this['showUI'])this['UI'][_0x282f3c(0x32d)](_0x282f3c(0x24e),0x28,_0x282f3c(0x3d4),_0x282f3c(0x13b),_0x282f3c(0x13b),()=>{var _0x2445c7=_0x282f3c;this[_0x2445c7(0x268)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this['showUI']){switch(_0x573644[_0x282f3c(0x391)]){case PHASE_PLACEPLAYER:this['UI'][_0x282f3c(0x32d)](_0x282f3c(0x195),0x28,'#000000',_0x282f3c(0x13b),_0x282f3c(0x13b),()=>{var _0x1da276=_0x282f3c;this[_0x1da276(0x268)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI'][_0x282f3c(0x32d)](_0x282f3c(0x247),0x28,_0x282f3c(0x3d4),'#00000000',_0x282f3c(0x13b),()=>{var _0x41b822=_0x282f3c;this[_0x41b822(0x268)]=!this['showUI'];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this[_0x282f3c(0x32f)]===undefined)for(var _0x480bce in this[_0x282f3c(0x2a6)]){var _0x2f1f08=[];_0x2f1f08[_0x282f3c(0x234)]({'type':'button','mouseLight':'ff','callback':_0x2b817d=>{var _0x47fb62=_0x282f3c;this[_0x47fb62(0x32f)]=parseInt(_0x2b817d);},'callback_data':_0x480bce,'txt':this[_0x282f3c(0x2a6)][_0x480bce],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x282f3c(0x42d)](_0x2f1f08);}else{if(_0x573644[_0x282f3c(0x391)]==PHASE_NEWTURN)this[_0x282f3c(0x386)]();else{if(_0x573644[_0x282f3c(0x391)]==PHASE_COMBAT)this['draw_battlePhase']();else{this[_0x282f3c(0xea)]();switch(this[_0x282f3c(0x2a6)][this[_0x282f3c(0x32f)]]){case _0x282f3c(0x3b4):this[_0x282f3c(0x181)]();break;case _0x282f3c(0x207):this[_0x282f3c(0x2ed)]();break;case _0x282f3c(0x2e3):this[_0x282f3c(0x1a9)]();break;case _0x282f3c(0x40e):this[_0x282f3c(0xee)]();break;case _0x282f3c(0x153):this[_0x282f3c(0x4b9)]();break;case _0x282f3c(0x351):this[_0x282f3c(0x433)]();break;}}}}}}this['UI'][_0x282f3c(0x487)](),this[_0x282f3c(0x344)](),this['CheckInfoWindow'](![]);};},MENU_UI_TITLE_FONT=_0x4750f4(0x3db),MENU_UI_BUTTON_FONT=_0x4750f4(0x1bd),MenuUI=function(_0x1b420f){var _0xc3efad=_0x4750f4;this['canvas']=_0x1b420f,this[_0xc3efad(0x184)]='#000000',this[_0xc3efad(0x2e4)]=_0xc3efad(0x1ae),this['scale']=0x1,this[_0xc3efad(0x3c7)]=!![],this[_0xc3efad(0x244)]=!![],this['UI']=undefined;const _0x561363=document['createElement'](_0xc3efad(0x213)),_0x4c81f3=_0x561363['getContext']('2d'),_0x250003=new Image();_0x250003[_0xc3efad(0x298)]=_0xc3efad(0x183),_0x250003['onload']=()=>{var _0xfb8dde=_0xc3efad;const _0x3dae67=_0x4c81f3[_0xfb8dde(0x29b)](_0x250003,_0xfb8dde(0x315));this['background']=_0x3dae67,this[_0xfb8dde(0x3c7)]=!![];},this[_0xc3efad(0x135)]=()=>{var _0x521037=_0xc3efad;window[_0x521037(0xf0)](_0x521037(0x179),_0x23239f=>{var _0x2a28c6=_0x521037,_0x973248=![];this['UI']&&this['UI'][_0x2a28c6(0x390)](_0x23239f[_0x2a28c6(0x26e)],_0x23239f['clientY'])&&!this[_0x2a28c6(0x244)]&&(this['needRedraw']=!![],this[_0x2a28c6(0x244)]=!![],_0x973248=!![]);!_0x973248&&this['mouseWasOnMouseLightLastDraw']&&(this[_0x2a28c6(0x244)]=![],this[_0x2a28c6(0x3c7)]=!![]);if(this==world[_0x2a28c6(0x3a1)])this[_0x2a28c6(0x135)]();},{'once':!![]});},this['init_check_mouse_move'](),this['getKeyInput']=_0x3a36f5=>{var _0x35160d=_0xc3efad;if(this['UI']&&this['UI'][_0x35160d(0x14c)](_0x3a36f5))return!![];if(_0x3a36f5==_0x35160d(0x15f)&&this[_0x35160d(0x424)]())return!![];return![];},this[_0xc3efad(0x424)]=()=>{return![];},this['getMouseInput']=_0x243225=>{var _0x46a010=_0xc3efad;if(!_0x243225||_0x243225['x']===undefined)return![];var _0x5b9d4c=_0x243225['x'],_0x42e7f4=_0x243225['y'];if(_0x243225[_0x46a010(0x162)]==0x2){var _0x4c3454=this[_0x46a010(0x424)]();if(_0x4c3454)return!![];}else{if(this['UI']['click_buton_check'](_0x5b9d4c,_0x42e7f4))return!![];}return![];},this['CheckInfoWindow']=_0x56cc74=>{if(this['UI']&&this['UI']['CheckInfoWindow'](_0x56cc74))this['needRedraw']=!![];},this['draw_menu']=()=>{var _0x302cb6=_0xc3efad;this[_0x302cb6(0x213)]['GetCanvasPos'](),this['canvas'][_0x302cb6(0x15e)](),this['UI']=new MyUI(this[_0x302cb6(0x213)],0x0,0x0,0xa,this['scale'],this[_0x302cb6(0x2e4)],this['stroke'],this['marge']);var _0x28914c=[];_0x28914c[_0x302cb6(0x234)]({'type':'txt','txt':'No\x20WAter\x20in\x0athis\x20village','txt_color':_0x302cb6(0x3d4),'max_letters':0x270f,'letter_size':0x2d,'txt_font':MENU_UI_TITLE_FONT}),_0x28914c[_0x302cb6(0x234)]({'type':'txt','txt':_0x302cb6(0x1d2)+GAME_VERSION,'txt_color':_0x302cb6(0x3d4),'max_letters':0x270f,'letter_size':0xa,'txt_font':MENU_UI_TITLE_FONT}),this['UI'][_0x302cb6(0x42d)](_0x28914c),this['UI'][_0x302cb6(0x42d)]([{'type':_0x302cb6(0x162),'callback':world[_0x302cb6(0x2b4)],'callback_data':!![],'txt':_0x302cb6(0x214),'txt_color':_0x302cb6(0x3d4),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#55ff00','strokeColor':'#000000','windowInfo':[{'callback':()=>{var _0x32658c=_0x302cb6;return _0x32658c(0x228);}}]}]),localStorage[_0x302cb6(0x2e1)]&&this['UI']['addHorizontalElem']([{'type':'button','callback':world[_0x302cb6(0x2b4)],'callback_data':![],'txt':'Load\x20saved\x20game','txt_color':_0x302cb6(0x3d4),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#55ff00','strokeColor':_0x302cb6(0x3d4),'windowInfo':[{'callback':()=>{var _0x4b11a9=_0x302cb6;return _0x4b11a9(0x111);}}]}]),this['UI'][_0x302cb6(0x42d)]([{'type':_0x302cb6(0x162),'callback':()=>{var _0x57d08d=_0x302cb6;window[_0x57d08d(0x282)](_0x57d08d(0x394),'_blank');},'callback_data':undefined,'txt':_0x302cb6(0x356),'txt_color':_0x302cb6(0x3e8),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#0000ff','strokeColor':_0x302cb6(0x3d4),'windowInfo':[{'callback':()=>{return'https://discord.gg/bSKtAqwAhc';}}]}]),this['UI'][_0x302cb6(0x487)](),this[_0x302cb6(0x3d5)](![]);};};var IMG_TO_LOAD=[[_0x4750f4(0x1f8),_0x4750f4(0x1ad)],[_0x4750f4(0x1f8),_0x4750f4(0x2d1)],[_0x4750f4(0x1f8),_0x4750f4(0x301)],[_0x4750f4(0x1f8),_0x4750f4(0x160)],['player_test3/village/resource',_0x4750f4(0x4d1)],['player_test3/village/resource',_0x4750f4(0x26b)],['player_test3/village/resource','metalCopper_icon'],['player_test3/village/building',_0x4750f4(0x264)],[_0x4750f4(0x140),_0x4750f4(0x1cc)],[_0x4750f4(0x140),'workshop_icon'],[_0x4750f4(0x140),_0x4750f4(0x39a)],[_0x4750f4(0x140),'Mine'],['player_test3/village/building',_0x4750f4(0xf2)],[_0x4750f4(0x140),_0x4750f4(0x4a6)],['player_test3/village/building',_0x4750f4(0x300)],[_0x4750f4(0x140),'forge'],[_0x4750f4(0x1f8),_0x4750f4(0x17a)],[_0x4750f4(0x1f8),_0x4750f4(0x151)]],id=0x0;World=function(_0x298a14){var _0x1fd0c5=_0x4750f4;this[_0x1fd0c5(0x38a)]=_0x298a14,this[_0x1fd0c5(0x10d)]=new SoundManager(),this[_0x1fd0c5(0x227)]=[],this[_0x1fd0c5(0x2b4)]=_0x943f54=>{var _0x5d0c20=_0x1fd0c5;this[_0x5d0c20(0x304)]=undefined,this[_0x5d0c20(0x171)]=new Village({});if(!localStorage[_0x5d0c20(0x2e1)]||_0x943f54)localStorage['removeItem'](_0x5d0c20(0x2e1)),this[_0x5d0c20(0x171)][_0x5d0c20(0x10f)]();else{var _0x5a0826=JSON[_0x5d0c20(0x297)](localStorage[_0x5d0c20(0x2e1)]);for(var _0x25d782 in _0x5a0826){if(_0x5a0826[_0x25d782]==undefined)continue;console[_0x5d0c20(0x2bb)]('affecting\x20'+_0x25d782+_0x5d0c20(0x2de));if(_0x25d782==_0x5d0c20(0x3b5)){var _0x21797f=_0x5a0826[_0x5d0c20(0x3b5)];this['village'][_0x5d0c20(0x3b5)]=[];for(var _0x2af723 in _0x21797f){console[_0x5d0c20(0x2bb)](_0x21797f[_0x2af723]),this['village'][_0x5d0c20(0x489)](_0x21797f[_0x2af723]);}}else{if(_0x25d782==_0x5d0c20(0x1a0))this[_0x5d0c20(0x171)][_0x5d0c20(0x1c1)](_0x5a0826['bats']);else{if(_0x25d782==_0x5d0c20(0x326))continue;else{if(_0x25d782==_0x5d0c20(0x153))this[_0x5d0c20(0x171)]['loadItemsFromInput'](_0x5a0826[_0x5d0c20(0x153)]);else this['village'][_0x25d782]=_0x5a0826[_0x25d782];}}}}}this[_0x5d0c20(0x467)]=new VillageUI(this[_0x5d0c20(0x38a)][_0x5d0c20(0x432)][_0x5d0c20(0x1b7)]);},this['loadImg']=()=>{var _0x18b778=_0x1fd0c5;for(var _0x53863e in IMG_TO_LOAD){var _0x5c45f2=IMG_TO_LOAD[_0x53863e][0x1],_0x43522a=IMG_TO_LOAD[_0x53863e][0x0];this[_0x18b778(0x227)][_0x5c45f2]=new myImage(_0x5c45f2,_0x18b778(0x45a)+_0x43522a+'/'+_0x5c45f2+_0x18b778(0x20a));}},this[_0x1fd0c5(0x45e)]=()=>{var _0x88eb54=_0x1fd0c5;this[_0x88eb54(0x19a)]=new ControlManager(),new PlayersManager()['loadPlayerDefaultImgs'](),this[_0x88eb54(0x227)]={...world[_0x88eb54(0x379)]},this[_0x88eb54(0x119)](),this[_0x88eb54(0x304)]=new MenuUI(this['Screen'][_0x88eb54(0x432)]['GameUI']);},this[_0x1fd0c5(0x309)]=()=>{var _0x3b5665=_0x1fd0c5,_0x4ac486=JSON[_0x3b5665(0x34b)](world[_0x3b5665(0x171)]);localStorage[_0x3b5665(0x2e1)]=_0x4ac486;},this['create_random_enemy_on_map']=_0xf7d8fb=>{var _0x250d59=_0x1fd0c5;if(!this[_0x250d59(0x14a)])return undefined;var _0x5a34ab=0x64;while(_0x5a34ab-->0x1){var _0x56fa2f=0x1+Math[_0x250d59(0x220)](this['map'][_0x250d59(0x3a3)]*(0.5+0.5*Math['random']())),_0x3497a1=0x1+Math[_0x250d59(0x220)](this['map']['height']*Math['random']()),_0x559f25=this['players'][_0x250d59(0x2c8)]({'x':_0x56fa2f,'y':_0x3497a1,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x559f25&&(console[_0x250d59(0x2bb)](_0x250d59(0x21f)+[_0x56fa2f,_0x3497a1]),_0x5a34ab=0x0);}if(!_0x559f25)return undefined;_0x559f25[_0x250d59(0x367)]=0x32+_0xf7d8fb*0x4+Math['floor'](Math[_0x250d59(0x366)]()*0x32),_0x559f25[_0x250d59(0x333)]=_0x559f25[_0x250d59(0x367)],_0x559f25['stats']['Strength']=0x5+_0xf7d8fb+Math[_0x250d59(0x220)](Math[_0x250d59(0x366)]()*0xa),_0x559f25[_0x250d59(0x110)][_0x250d59(0x369)]=0x5+_0xf7d8fb+Math[_0x250d59(0x220)](Math[_0x250d59(0x366)]()*0xa),_0x559f25[_0x250d59(0x142)]=0x50+_0xf7d8fb*0x1+Math[_0x250d59(0x220)](Math['random']()*0x50),_0x559f25[_0x250d59(0x246)]=0x64+Math['floor'](Math['random']()*0x32)+_0xf7d8fb,_0x559f25[_0x250d59(0x277)]=_0x559f25[_0x250d59(0x246)],_0x559f25['movePCost']=0x14-0x4+Math[_0x250d59(0x220)](Math[_0x250d59(0x366)]()*0xf-_0xf7d8fb/0x3);if(_0x559f25[_0x250d59(0x35b)]<0xa)_0x559f25[_0x250d59(0x35b)]=0xa;var _0xae0387=undefined,_0x13d960=Math[_0x250d59(0x220)](Math['random']()*0x64);if(_0xf7d8fb<0x5)_0xae0387=undefined;else{if(_0x13d960+_0xf7d8fb*0x2>0x50)_0xae0387=new Weapon()['createRandomWeapon']();}_0xae0387=new Weapon()[_0x250d59(0xf4)](),_0x559f25[_0x250d59(0xbd)]=_0xae0387;var _0x6531ee=undefined,_0x13d960=Math[_0x250d59(0x220)](Math['random']()*0x64);if(_0xf7d8fb<0x5)_0x6531ee=undefined;else{if(_0x13d960+_0xf7d8fb*0x2>0x50)_0x6531ee=new Armor()['createRandomArmor']();}return _0x6531ee=new Armor()[_0x250d59(0x178)](),_0x559f25[_0x250d59(0x335)]=_0x6531ee,_0x559f25[_0x250d59(0x20c)](),console['log'](_0x250d59(0x36a)),_0x559f25;},this[_0x1fd0c5(0x2b0)]=(_0x5c64aa,_0x2be881,_0x4f805e)=>{var _0x506921=_0x1fd0c5;this['map']=new BattleMap(0x19,0x6+_0x5c64aa['length']),this['map'][_0x506921(0x4cd)](),this[_0x506921(0x14a)][_0x506921(0x30a)](),this[_0x506921(0x3b5)]=new PlayersManager(),this['players']['loadPlayerDefaultImgs'](),this['players']=this[_0x506921(0x3b5)],this['players'][_0x506921(0x263)]=this[_0x506921(0x38a)][_0x506921(0x432)]['mapUI'],this[_0x506921(0x3b5)]['canvasPlayer']=this['Screen'][_0x506921(0x432)][_0x506921(0x3b5)],TEAM_AI_COLOR={'r':0x78,'g':0x78,'b':0x78};var _0x4f0352=0x3;for(var _0x4fee49 in _0x5c64aa){var _0x5629bc=_0x5c64aa[_0x4fee49];this[_0x506921(0x3b5)][_0x506921(0x26a)]({'x':0x3,'y':_0x4f0352,'player':_0x5629bc}),_0x4f0352++;}for(var _0x453656=0x0;_0x453656<0x64;_0x453656++){if(_0x4f805e){this[_0x506921(0x3ff)](_0x2be881*0x3);break;}if(_0x453656<0xa||_0x453656==0x0||_0x453656==0x1){this[_0x506921(0x3ff)](_0x2be881);continue;}else{if(_0x453656>0x46&&Math[_0x506921(0x220)](Math[_0x506921(0x366)]()*(0x64+_0x2be881))<0xa+_0x2be881)this[_0x506921(0x3ff)](_0x2be881);else{if(_0x2be881>0x5&&_0x453656>0x50&&Math[_0x506921(0x220)](Math['random']()*(0xc8+_0x2be881))<0xa+_0x2be881)this[_0x506921(0x3ff)](_0x2be881);else{if(_0x2be881>0x5&&_0x453656>0x46&&Math[_0x506921(0x220)](Math[_0x506921(0x366)]()*(0x190+_0x2be881))<0xa+_0x2be881)this[_0x506921(0x3ff)](_0x2be881);else{if(_0x2be881>0x64&&_0x453656>0x32&&Math[_0x506921(0x220)](Math['random']()*(0x320+_0x2be881))<0xa+_0x2be881)this['create_random_enemy_on_map'](_0x2be881);}}}}}this['map']['generateRandomElement']();},this[_0x1fd0c5(0x3c7)]=()=>{var _0x42e4cb=_0x1fd0c5;if(this['map'])this[_0x42e4cb(0x14a)]['needRedraw']=!![];if(this['GameUI'])this[_0x42e4cb(0x1b7)][_0x42e4cb(0x3c7)]=!![];if(this[_0x42e4cb(0x467)])this['villageUI'][_0x42e4cb(0x3c7)]=!![];if(this[_0x42e4cb(0x304)])this[_0x42e4cb(0x304)][_0x42e4cb(0x3c7)]=!![];};},PLAYER_ID=0x3e8,document[_0x4750f4(0xcd)]=rightClick;function rightClick(_0x47090c){_0x47090c['preventDefault']();}GAME_VERSION=_0x4750f4(0xe6);(localStorage[_0x4750f4(0x1c7)]==0x0||localStorage['version']!=GAME_VERSION)&&(localStorage['clear'](),localStorage[_0x4750f4(0x348)]=GAME_VERSION);window[_0x4750f4(0x4c6)]=function(){var _0x393a6f=_0x4750f4;const _0x11bf1d=new CanvasManager();_0x11bf1d['addCanvas'](_0x393a6f(0x106),0x0),_0x11bf1d[_0x393a6f(0x18a)](_0x393a6f(0x3b5),0x1),_0x11bf1d[_0x393a6f(0x18a)]('mapTopElem',0x2),_0x11bf1d['addCanvas'](_0x393a6f(0x2c9),0x3),_0x11bf1d['addCanvas'](_0x393a6f(0x1b7),0x4),world=new World(_0x11bf1d),world[_0x393a6f(0x45e)]();var _0x30d674=new Date()['getTime']();setInterval(()=>{var _0x487ffd=_0x393a6f;if(!world||!world[_0x487ffd(0x19a)])return;var _0x9d6ed4=new Date()[_0x487ffd(0x3f8)]();if(world[_0x487ffd(0x1b7)])world[_0x487ffd(0x1b7)]['fps']=Math[_0x487ffd(0x220)](0x3e8/(_0x9d6ed4-_0x30d674));_0x30d674=_0x9d6ed4;if(world['players']&&world[_0x487ffd(0x3b5)][_0x487ffd(0xe2)]&&world[_0x487ffd(0x3b5)]['Playerturn'][_0x487ffd(0x2b1)]==TEAM_AI&&!world[_0x487ffd(0x3b5)][_0x487ffd(0xe2)]['AI'][_0x487ffd(0x4d0)]){var _0x9731b8=world['players'][_0x487ffd(0x164)][_0x487ffd(0x1bb)](_0x193d2b=>_0x193d2b[_0x487ffd(0x3f3)]['length']>0x0);if(!_0x9731b8){_0x9731b8=world[_0x487ffd(0x3b5)]['Playerturn'][_0x487ffd(0x2be)](),console['log']('test\x20turn\x20finished\x20:\x20'+_0x9731b8);if(_0x9731b8)world[_0x487ffd(0x3b5)][_0x487ffd(0xe2)]['AI']['turnFinished']=!![];}}world[_0x487ffd(0x19a)]['CheckControlInput'](),world[_0x487ffd(0x14a)]&&world[_0x487ffd(0x14a)]['needRedraw']&&(_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x106)][_0x487ffd(0x293)](),_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x106)]['cleanCanvas'](),_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x2ab)]['GetCanvasPos'](),_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x2ab)]['cleanCanvas'](),world[_0x487ffd(0x14a)][_0x487ffd(0x242)](_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x106)][_0x487ffd(0x213)]),world[_0x487ffd(0x14a)][_0x487ffd(0x200)](_0x11bf1d[_0x487ffd(0x432)]['mapFloor'],_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x2ab)],_0x11bf1d['canList'][_0x487ffd(0x2c9)])),world['players']&&(_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x3b5)]['GetCanvasPos'](),_0x11bf1d[_0x487ffd(0x432)][_0x487ffd(0x3b5)][_0x487ffd(0x15e)](),world[_0x487ffd(0x3b5)][_0x487ffd(0x41e)](),scale_changed=![]),world['GameUI']&&(world[_0x487ffd(0x1b7)][_0x487ffd(0x3d5)](![]),world[_0x487ffd(0x1b7)][_0x487ffd(0x3c7)]&&world[_0x487ffd(0x1b7)][_0x487ffd(0x25d)]()),world[_0x487ffd(0x467)]&&(world[_0x487ffd(0x467)][_0x487ffd(0x3d5)](![]),world[_0x487ffd(0x467)][_0x487ffd(0x3c7)]&&world[_0x487ffd(0x467)][_0x487ffd(0x280)]()),world['MenuUI']&&(world[_0x487ffd(0x304)][_0x487ffd(0x3d5)](![]),world[_0x487ffd(0x304)]['needRedraw']&&world[_0x487ffd(0x304)][_0x487ffd(0xdc)]());},0x14);};