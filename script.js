var _0x3c4aa9=_0x42da;(function(_0x3293b1,_0x5d08d6){var _0x19fbb4=_0x42da,_0x2258a9=_0x3293b1();while(!![]){try{var _0x476208=-parseInt(_0x19fbb4(0x16e))/0x1*(-parseInt(_0x19fbb4(0x40f))/0x2)+-parseInt(_0x19fbb4(0x440))/0x3*(-parseInt(_0x19fbb4(0x41a))/0x4)+-parseInt(_0x19fbb4(0x274))/0x5+-parseInt(_0x19fbb4(0x203))/0x6+parseInt(_0x19fbb4(0x39a))/0x7*(-parseInt(_0x19fbb4(0x31b))/0x8)+-parseInt(_0x19fbb4(0x31e))/0x9*(parseInt(_0x19fbb4(0x225))/0xa)+-parseInt(_0x19fbb4(0x4c9))/0xb*(-parseInt(_0x19fbb4(0x3be))/0xc);if(_0x476208===_0x5d08d6)break;else _0x2258a9['push'](_0x2258a9['shift']());}catch(_0xa13e45){_0x2258a9['push'](_0x2258a9['shift']());}}}(_0x22d6,0xd59ad),SoundManager=function(){var _0x262004=_0x42da;this[_0x262004(0x337)]=[],this['src']='./music/',this[_0x262004(0xca)]=_0x43f540=>{var _0x4c8f08=_0x262004;if(this['sounds'][_0x43f540]&&this[_0x4c8f08(0x337)][_0x43f540][_0x4c8f08(0x30c)])return;var _0x220170=new Audio(this[_0x4c8f08(0x11a)]+_0x43f540+_0x4c8f08(0x385));this[_0x4c8f08(0x337)][_0x43f540]=_0x220170;},this[_0x262004(0x402)]=(_0x4ec5fb,_0x42d540,_0x3e6a78)=>{var _0x36b917=_0x262004;if(!this[_0x36b917(0x337)][_0x4ec5fb])this[_0x36b917(0xca)](_0x4ec5fb);if(!_0x3e6a78&&!this['sounds'][_0x4ec5fb][_0x36b917(0x2eb)])this[_0x36b917(0x337)][_0x4ec5fb][_0x36b917(0x457)]=0x0;if(_0x42d540)this[_0x36b917(0x337)][_0x4ec5fb][_0x36b917(0xd5)]=!![];this[_0x36b917(0x337)][_0x4ec5fb][_0x36b917(0x137)]();},this[_0x262004(0x15c)]=_0x484db3=>{var _0x2bd33e=_0x262004;this['sounds'][_0x484db3]&&(this[_0x2bd33e(0x337)][_0x484db3]['pause'](),this[_0x2bd33e(0x337)][_0x484db3][_0x2bd33e(0x457)]=0x0);};});function isInRect(_0x53d1ec,_0x5193a0,_0x45ee9b){if(_0x53d1ec===undefined||_0x5193a0===undefined||_0x45ee9b['ax']===undefined||_0x45ee9b['ay']===undefined||_0x45ee9b['bx']===undefined||_0x45ee9b['by']===undefined)return![];if(_0x45ee9b['ax']>_0x45ee9b['bx']){var _0x180f91=_0x45ee9b['ax'];_0x45ee9b['ax']=_0x45ee9b['bx'],_0x45ee9b['bx']=_0x180f91;}if(_0x45ee9b['ay']>_0x45ee9b['by']){var _0x180f91=_0x45ee9b['ay'];_0x45ee9b['ay']=_0x45ee9b['by'],_0x45ee9b['by']=_0x180f91;}if(_0x53d1ec>_0x45ee9b['ax']&&_0x53d1ec<_0x45ee9b['bx']&&_0x5193a0>_0x45ee9b['ay']&&_0x5193a0<_0x45ee9b['by'])return!![];return![];}function testCB(_0x43e7a4){var _0x47d548=_0x42da;if(!_0x43e7a4)console[_0x47d548(0x451)](_0x47d548(0xde));console[_0x47d548(0x451)](_0x47d548(0x268)+_0x43e7a4['x']+'\x20'+_0x43e7a4['y']),map_test['mapBlock'][_0x43e7a4['x']][_0x43e7a4['y']]=(map_test['mapBlock'][_0x43e7a4['x']][_0x43e7a4['y']]+0x1)%0x4,scale_changed=!![];}function getAngleFromTime(_0x33cdc8,_0x4fc563,_0x378a68){var _0x5ad03b=_0x4fc563-_0x33cdc8;return _0x33cdc8+_0x5ad03b/0x2+_0x378a68*_0x5ad03b/0x2;}function _0x22d6(){var _0x1e3a4b=['lifeMax','LoadPlayerImage','wood_arrow','\x20is\x20loaded','#663300','Stone\x20Spear','newGameInput','Wren\x20Costa','Attack','ghost','centerOnBlock','human_face_0','Skye\x20Ramirez','sort\x20by\x20','zoneTarget','#ffffff88','Sariah\x20Cabrera','EventcloseFullscreen','calculatDamageFromAttack','Strength','human_face_2','colorStroke','Kevin\x20Wiggins','colorColored','style','\x20-Action\x20Point\x20','CheckMoveTo\x20:\x20invalid\x20block\x20:\x20','lvl','craftPageOffset','init_check_mouse_move','create_brigand_on_map','#00af0022','week','\x27Ravie\x27','getBlocksAtRange','#00dd00','lineMax','#0320fb','playSound','cut\x20stone','metalCopper_icon','UIeventExpanded','\x20crafted\x20a\x20wood\x20plank\x20for\x2010\x20wood\x20for','no\x20one\x20can\x20craft\x20it','zone_selecting_input','elmList','fullness','go\x20to\x20craft\x20tab','villageSave','player_test3/village/resource','coal','2MwpjbM','replace','saw_workshop','\x0a-hit\x20between\x20[','getBlocksAtDistRangeFromPlayer','woodplank_icon','#556b2f88','warning','Braden\x20Lucero','\x0a-start\x20the\x20construction\x20of\x20new\x20building','copper_armor','1816ChmccH','Butcher','MSFullscreenChange','\x27Snap\x20ITC\x27','armor','left','tan\x20hide','\x0a-equip\x20items','UIturn','\x27\x20uppgrading','drawRect','botright_block','Miner\x20helmet','human_face_1','item','New\x20Turn\x20!\x20','No\x20player\x20selected','Saige\x20McBride','cos','TryCraftItem','CheckMoveTo\x20:\x20player\x20here\x20:\x20','delete_player','\x0a-hit\x20the\x20selected\x20block','canAttackHere','#1e90ff','#00ffff','StoneCuting','CostMovingPlayer','string','mapImgsTop','drawImageRotate','playerDefaultImgs','fullscreenchange','dir','players_inside','ERROR\x20:\x20CANVAS\x20WITH\x20THIS\x20NAME\x20ALREADY\x20EXIST','invalid\x20player','Matthew\x20Beil','5046ynhurR','stone_spear','Controler','highlightZone','ff0000','itemsPageOffset','equipWeapon','extand\x20the\x20Turns\x20window','push','Copper\x20Cleaver','receive_attack','WorkAtLightHouse','fullScreen','brigand','lastTime','addHouse','version\x20','log','left\x20mouse\x20:\x0a','craft\x20basic\x20stuff','Belek','hornBattle','#a52a2a','currentTime','saveWorld','enemy\x20created\x20succesfully','drawTextTopLeft','bats','Smelter','loadBatsFromInput','showUIplayers','draw_craft_menu','Lighthouse','TryBuildBat','move','getMessageSystem','needColor','startTime','GetMoveDir','getMoveCost','sawmill','craft\x20basic\x20tools\x20and\x20weapons\x0acan\x20also\x20tan\x20hide\x20into\x20leather','Music','\x20for\x20','Force\x20End\x20Turn','succes\x20chance\x20','getPlayerIcone','selecting_block','rotate\x20to\x20:\x20','_blank','playerSortModeId','Sergio\x20Welch','body_type','Enter\x20player\x20new\x20name\x20:\x20(must\x20be\x204-16\x20letters\x20long','big_tree_0','GetCanvasPos','human_face_3','Jamison\x20Pace','Players','draw_NextTurnTab','upgrade\x20weapons','get\x20resources','data','stone_pickaxe','Jianna\x20Wood','unequip\x20armor','toDataURL','affectPlayerToBat','buttonList','exitFullscreen','spear','Your\x20village\x20is\x20safe\x0aYou\x20can\x20start\x20next\x20turn','Meilani\x20Olson','\x20turns\x20:\x20','get_path_to','max_letter','\x0aIn\x20','anim','movement\x20factor\x20x','preventDefault','invalid\x20input','Ila\x20Ellis','upgrades_callback','text','draw_tab_selector','bow\x20attack','playerstats','villageUI','canList','nb_houses','weapon/','moveCost','Alaina\x20Bradford','mapFloor','batBuildMenu','menuUI','getChanceOfHit','human_body_4','DANGER\x20:\x20No\x20player\x20is\x20affected\x20to\x20Defend\x20the\x20Village','bottom','Lorelei\x20Alexander','checkHaveResources','projectil','keydown','\x20PA\x20left\x20for\x20finish\x20construction','Zachary\x20Holloway','startsWith','can\x27t\x20create\x20getColorImage','screenAy','villageAP_icon','addWeaponToVillageInventory','Numpad','upgrades','keyUp','look','Not\x20for\x20Vegan','not\x20enoguht\x20resources','roof_0','enemies','spear_attack','stone_axe','ActionPoint','River\x20Hunter','activeTabId','screenBx','\x0aSurvived\x20','#ffff66','\x0aThis\x20turn\x20:\x20','\x20uppgraded\x20to\x20LvL\x20','no\x20block','generateRandomElement','marge','#ff0000','ArrowUp','draw_building_tab','player_test3/village/building','Ander\x20Wise','8270460OaVIRq','Forest\x20Exploitation','transform\x20hide\x20(from\x20deadAnimals,\x20in\x20butchery)\x20into\x20leather','getDistToABlock','ctx','playAIturn','human','Space','human_face_4','Discord','UpgradingHouses','playerList','Aubrielle\x20Farmer','#00000000','blockTargetingFunction','crushing','isDead','unequip\x20weapon','\x20damage','Your\x20population\x20eat\x20food,\x20Miam','No\x20Name','addLightHouse','Peter\x20Tate','Scarlett\x20Mays','#006400','topElem','onload','resources','img\x20','gaugeSpeed','Zachariah\x20Berg','#6495ed88','pixel_startx','createNewPlayer','no\x20weapon\x20equiped','leather_armor','wood_stick','createArmorFromInput','add\x20player','Richard\x20Lee','warningEndTurnMessage','Key_Input','#a01454','highlight','draw_menu','description','weakest','#888888','pos_startx','Player','initMapTopElement','dodge','pos_starty','initMapFloorImage','setTransform','right','reducing\x20','Playerturn','Enter','Archer\x20Baxter','draw_newTurnPhase','draw_battlePhase','getBlockBehindTarget','No\x20WAter\x20in\x0athis\x20village','Shepherd\x20Park','colorText','get_valid_action_in_affected_building','needRedraw','text_font','small_woodBow','equip\x20weapon','GetDrawBuildingElement','selector','\x20:\x20','recolte\x20random\x20amount\x20of\x20food,\x20wood,\x20and\x20stone','#0000fb','#005500','check\x20protect\x20','playersSelected','Jordan\x20Barker','InfoWinfowPos','life','Move\x20AP\x20cost\x20:\x20','botElem','checkNextUpgrade','weapon','Move\x20To','#ffffff','\x27\x20is\x20finished','callback_data','createImgFromData','\x20Action\x20Point\x20Max\x20(Battle)\x20','MessageSystem','\x27Chiller\x27','\x20if\x20%','\x0aLife\x20Max\x20:\x20','ghost\x20copy\x20=\x20','top','createRandomWeapon','Move\x20your\x20player\x20up/right/down/left','no\x20players','highlightBlock','#008b8b','transform\x20wood\x20into\x20woodplank','#555555','WARNING\x20:\x20enemy\x20will\x20attack\x20this\x20turn\x20!','playerSelected','\x20is\x20recolting\x20resource\x20in\x20the\x20forest\x20for\x20','wood_icon','txt_size','#0088ff','\x20\x20During\x20Phase\x201,\x20you\x20can','LoadSound','goblin','pUI_need_redraw','screenBy','code','upgrade\x20for\x20increase\x20your\x20Population\x20max','damages','getPixelPosition','rotate','batSelected','canvasPUI','loop','addButchery','Bonnie\x20Bishop','putImageData','zone_target_area','inputclick','txts','equipItem','sqrt','error,\x20no\x20block','butchery','Events','res','page\x20up','Ruth\x20Stout','the-britons','callback_actionPlayer','#ffff00','ReturnBlockTargeted','Stephanie\x20Bradley','concat','scale','Houses','drawImageMirrorRotateCenter','GoToCraftTab','generateCapacity','fullscreenElement','batsToBuild','GetColorImage','Alexia\x20Anderson','mouseWasOnMouseLightLastDraw','mouse_move_check','\x0aTarget\x20adjacents\x20blocks','unshift','Magnus\x20Yoder','horizontal','GetPageSelector','createElement','Start\x20Turn','getContext','create\x20player\x20in\x20','\x20don\x27t\x20have\x20enought\x20Action\x20Point','face_type','brick_icon','Khloe\x20Horn','imgs\x20:\x20','player','spawn\x20player','rawCopper','color','strokeStyle','https://discord.gg/bSKtAqwAhc','goblin_body_0','batSortModeList','\x20\x20\x20\x20\x20Info\x20:','#000000aa','\x27s\x20','sortButo','\x20AP','background','blocks','You\x20can\x20see\x20events\x20(attack)\x20that\x20will\x20happen\x20this\x20turn\x0aBuild\x20a\x20LightHouse\x20for\x20see\x20further','dirx','goblin_body_1','page','open','animation','round','Load\x20saved\x20game','src','\x0a-hit\x20[','New\x20Building','Stone\x20Axe','forest_icon','\x20\x20Info\x20\x20','attack_bigaxe','drawLine','smelter','\x20is\x20smelting\x20copper\x20for\x20','craft\x20woodplank','hammer_nails','UIturnExpanded','addTextZone','fillText','addEventListener','getZoneAdjacentToPlayerByDir','KeyS','Arial','font','End\x20Turn','imgIcon','keyup','txt_font','createPlayerFromVillage','Metal\x20Axe','can\x27t\x20delete\x20this\x20player','drawImageRotateCenter','ArrowRight','play','\x20turn\x20have\x20started','unequipItem','key_buton_check','toFixed','damageBase','click_buton_check','eventPageOffset','\x27Algerian\x27','cost','getDateText','playersPageOffset','upgradeWeapon','then','Gruu','createWeaponFromInput','statsplayerSortModeList','Askip','Place\x20your\x20player\x20here\x20for\x20defend\x20the\x20village\x0aAt\x20least\x201\x20player\x20must\x20be\x20present\x20in\x20this\x20place','mapBlock','openFullscreen','addDefendVillage','bot','you\x20don\x27t\x20have\x20enought\x20resource','foodconsumedLastTurn','corrected\x20in\x20\x20','generateBasicVillage','absolute','Fail\x20!\x27','Nathan\x20Beltran','#da1d81','build_progression','txt_color','#ff000055','get\x20block\x20adjacent','Elsie\x20Reynolds','textBaseline','stopSound','map','#00aaaa','Equiped\x20with\x20\x27','populationMax','deadAnimal_icon','strokeColor','pixel_height','TryUpgrade','mapUI','kill_player','creating\x20a\x20giant\x20in\x20','cut\x20wood\x20faster\x20in\x20forest','sortButo2','equip\x20armor','getBlocksAtRangeFromPlayer','Digit','human_body_3','1259350mKcmpJ','createNewWeapon','\x20is\x20not\x20affected\x20to\x20a\x20building','createPlayerFromInput','Stone\x20Pickaxe','removeItem','drawGameUI','loadPlayerDefaultImgs','copper_cleaver','drawPlayers','addResource','equipArmor','substring','stroke',']\x20distance\x20around\x20the\x20target','canvas','Cillian\x20Ray','You\x20can\x20defend\x20your\x20village\x20with\x20+5\x20players\x20(','burn\x20coal,\x20transform\x20\x27raw\x20copper\x27\x20into\x20\x27metal\x20copper\x27','0px','Turn\x20','letter_size','letter_per_line','Exploit\x20resource\x20from\x20the\x20forest','giant','#000000','\x20weeks','batPageOffset','needUIRedraw','sin','A\x20big\x20hole\x20in\x20the\x20ground','get_next_turn','Ximena\x20Zimmerman','layerLen','Strenght\x20Smashing\x20weapon,\x20can\x20be\x20uppgraded','capacityList','msg','KeyF','splice','\x20have\x20','ChangePosition','webkitExitFullscreen','\x0a-progress\x20on\x20the\x20construction\x20of\x20new\x20buildings','function','Amira\x20Escobar','lighthouse','\x20with\x20','getChanceUppgrade','\x20Action\x20Points\x20left','big_tree_1','Malachi\x20Garza','bat','player\x20','Defend\x20Village','get_valid_craft_list','#666666','len_y','ControlLeft','projectilName','smash','drawTextCenter','face/','mousePos','clear','Copper\x20Hammer','race','Population\x20max\x20+\x2010\x20(','filter','visible','createRandomArmor','fillStyle','playerColor','UI_list','batSortModeId','bodyPartImg','Build\x20new\x20batiments\x20here','weapon/projectil/','craftSelected','use\x20your\x20action\x20point\x20for\x20construct\x20the\x20building','draw_ItemsTab','blockSelected','projectilAnimation','bow','sword','Life\x20Max\x20:\x20','tree_root','centurion\x20helmet','turnFinished','start\x20message\x20system','allied)','this\x20weapon\x20sucks,\x20only\x20noobs\x20use\x20it','Paxton\x20Pollard','Vini,\x20Vidi,\x20Vici','getImageData','topleft_block','createNewArmor','check\x20dmg\x20:\x20','#0000ff','Items','wood\x20Stick','build','sound','Emerie\x20Hickman','no\x20one\x20can\x20uppgrade\x20it','AIstyleFocus','it\x20smells\x20bad,\x20but\x20this\x20armor\x20is\x20efficient\x20against\x20weak\x20enemy','Kingston\x20Howell','rangeMax','Img','stoneCarving','stats','Hazel\x20Crawford','Get\x20more\x20resource\x20when\x20butcher\x20animals','villageActionPointMax','\x27Cooper\x20Black\x27','body','factor','you\x20need\x20more\x20wood\x20for\x20make\x20a\x20plank','Next\x20Turn','speed','\x27\x20have\x20started','rangeMin','length','keyDown','complete','ghostFrom','draw_villagePlayerUi','phase','bonus','key','Marisol\x20Humphrey','getNextUpgrade','pos_x','weed','mode','shift','imgColored','chance\x20to\x20hit\x20:\x20%','\x20can\x20lvl\x20up','upgrade\x20!','\x20is\x20attacking\x20(no\x20weapon)','getItemIcone','life\x20','screenAx','sort','addSawmill','pixel_endy','\x27Comic\x20Sans\x20MS\x27','Callahan\x20Schmitt','5107662CRJCzl','draw_Image','Lia\x20Diaz','posBlocky','\x0a\x0aDuring\x20this\x20Phase,\x20you\x20can\x20NOT\x20change\x20equipment\x20or\x20players\x20affected\x20building','len_x','forge','addGauge','more\x20chance\x20to\x20uppgrade\x20a\x20weapon\x20in\x20forge','generateBasicPlayer','cancel_menu','piercing','smelt\x20raw\x20mineral\x20into\x20metal','txt','constructionSelected','Ares\x20Long','GetNextTurnButton','createDatafromImage','init','#dddddd','ceil','create_giant_on_map','generateBattleMapFromWave','return','#000000ff','Capri\x20Glenn','rock','sand','Speed\x20:\x20','serif','Grady\x20O’Neal','can\x27t\x20add\x20this\x20weapon','APcost','#00ff00','12963700FiMday','getNextTurnList','\x0a-reduce\x20','Kai\x20Benjamin','\x20joined\x20your\x20village','GetBatBuildMenuSelector','\x20is\x20mining\x20resource\x20for\x20','name','Annalise\x20Carson','no\x20path\x20found\x20:\x27(','measureText','addForest','#17bdbc','input','addWorkShop','getBatFromPlayer','enemy)','draw_map','coal_icon','you\x20lost\x20:','Phase\x201\x20started','\x20Action\x20Point\x20(Village)\x20','TanHide','get_direction_from_pos','\x20x\x20','showUI','endFight','Dennis\x20Parrish','recoltForestResouce','Direction\x20:\x20','MenuUI','getBlockAdjacent','team','Start\x20Phase\x202','wall','\x0aTarget\x20between\x20[','beginPath','drawProjectiles','playerSortModeList','Light\x20House','mouseInfoWindow','Keegan\x20Doyle','Mine\x20the\x20ground\x20get\x20resources','set_drawing_map','can\x27t\x20load\x20','#11ff33','Dexterity','Lvl\x20up\x20+1','center','ready','hit\x20the\x20target\x20behind','generateWaves','\x20damage\x20increase\x20of\x20','attack\x20animation\x20on\x20the\x20selected\x20block','#FFAD1C','displayMessageEvent','Where\x20your\x20players\x20works','KeyW','handImg','showUIsystem','stones','recoltStoneCutingResouce','food_icon','Emmalyn\x20Spence','upgradeLvl','Wood\x20Armor','get\x20more\x20resources\x20in\x20mine','change\x20block\x20','fletching\x20station','rename','age','from','players','drawMessageSystemEvents','getTime','costAP','drawPrevision','deltaY','A\x20big\x20circular\x20saw\x20for\x20cut\x20the\x20wood','8251645PFGFKT','\x20lost\x20','image\x20incomplet','repeat','watch','lvlupList','zone','hammerMetal','pos_y','Start\x20a\x20new\x20game','#55aaaa','oncontextmenu','no\x20crafts\x20list','bad\x20input','ammo','CheckControlInput','mapImgsFloor','ButcherAnimals','Your\x20village\x20is\x20attacked\x20!','pixel_endx','wrong\x20direction','\x0aSpeed\x20:\x20','CheckInfoWindow','height','Mira\x20Acevedo','Kaydence\x20Xiong','creating\x20an\x20enemy\x20in\x20','createUI','itemType','CheckMoveTo\x20wrong\x20direction\x20this->dst\x20:\x20','TryMoveTo','shaken_bush','hide_icon','Kadence\x20Castaneda','pop','creating\x20an\x20image\x20:\x20','under\x20construction\x20:\x20','action\x20point\x20:\x20','gauge','size','statsplayerSortModeId','#5500ff','alt','LoadPlayerVillageImage','diry','tryLvLup','\x20is\x20carving\x20stone\x20into\x20brick\x20for\x20','no\x20description','addMine','error\x20input\x20create\x20player','get_pixel_by_pos','building','CheckMoveTo\x20:\x20invalid\x20Input','cleanCanvas','createPlayer','addCanvas','\x20let\x27s\x20go\x20','Jadiel\x20McDonald','Dexterity\x20Slashing\x20weapon,\x20can\x20be\x20uppgraded','ActionPointMax','Jade\x20Butler','lvl\x20','./img/player_test3/village/villageUI_patern.png','tabs','blocksize_y','turn\x20Stone\x20into\x20brick','stat','\x0a--\x20x','Attack\x20with\x20','mapTopElem','Butchery','get_valid_player_for_craft','you\x20don\x27t\x20have\x20hide','generateMap','craftPlankInSawmill','Stone\x20Carving','px\x20','pixel_starty','weapon\x20equiped\x20:\x20\x27','attackVillage','wood_armor','path','Denver\x20Leal','abs','getBoundingClientRect','posBlockx','UIsystem','leny','addForge','list','Lara\x20Barnett','getLvlUpPerkList','bow_workshop_icon','human_body_1','colorFill','changed\x20','webkitfullscreenchange','Vada\x20Conley','fillColor','lineTo','KeyD','drawPlayer','Lilianna\x20Doyle','no\x20armor\x20equiped','drawFillRect','getZoneAdjacentToPlayer','damage\x20after\x20armor\x20reduction\x20:\x20','img','clearRect','Carson\x20Hunter','villageActionPoint','\x20img\x20loaded','DrawTabInfoPlayer','failed\x20createImgData\x20image','getWeaponAttackDescription','NextTurnPrevisionExtended','PlayerInfodisplay','Itzel\x20Allison','find','paused','getArmorDescription','addMessage','ApplyListPerkUp','butcherMear','\x20turn','\x20leave\x20','tab','wavesVision','createProjectilAnimation','affecting\x20','closeFullscreen','#00D238','ago','\x20life\x20point','smashing','click','addArmorToVillageInventory','decode',']\x20blocks\x20behind\x20the\x20target','Jakobe\x20Hardin','addBowWorkshop','Vincent\x20Dougherty','Cade\x20Patton','armor/','\x20have\x20forecasts\x20','village','year\x20','Daisy\x20Robinson','width','\x20/\x20','get_block_at_BlockRange','weapon\x20:\x20','readyState','Small\x20Woodbow','\x20AI\x20is\x20playing','#55ff00','Imgs','floor','playerInfoMenu','getKeyInput','Wood\x20Stick','light\x20your\x20way\x20in\x20the\x20mine,\x20and\x20protect\x20against\x20rock\x20falling','Giana\x20Hudson','Mine','\x20by\x20','Prevision\x20:\x20','#ff080888','472sOaEtZ','info','Forge','9ngoTdt','job','Kelvin\x20Fischer','pixel_width','Phase\x202\x20:\x20Action\x20Players','bonusPopulation','\x0aLvl\x20:\x20','SelectingBlockAction','i\x20am\x20in\x20','sword_2h','atan2','angle','get_all_block_accessible','innerHeight','#d2691e88','New\x20PLayer\x20','CheckMoveTo','under_construction_icon','metal_axe','Menu','changeMapView','recolteMine','canvasPlayer','#ef0bc322','projectilSpeed','sounds','UIplayers','\x27Footlight\x20MT\x20Light\x27','callback','attack_metal_slash','buto_txt','copper_hammer','Metal\x20Sword','innerWidth','AP,\x20i\x20walked\x20','lvlup','this\x20will\x20delete\x20your\x20current\x20save','add\x20to\x20building','requestFullscreen','Show','#ff66ff','goblins','CheckMoveTo\x20:\x20invalid\x20cost\x20:\x20','clientX','get_block_by_pixel','Movement\x20cost\x20:\x20','clientY','get\x20more\x20resources\x20in\x20the\x20mine','text_color','addStoneCuting','no\x20craft\x20available','version','i\x20dont\x20have\x20this\x20image\x20\x20:\x20','battle','Leather\x20Armor','\x0a-craft\x20weapons\x20and\x20armors','createBatToBuildList','Murphy\x20Nava','craft','position','speed\x20','initVillage','unequipWeapon','damage','\x20is\x20building\x20\x27','mouseLight','can\x27t\x20with\x20','End\x20of\x20the\x20battle','getVillageUItext','extand\x20the\x20event\x20window','\x20is\x20now\x20','actionCost','addButton','the\x20construction\x20of\x20\x27','Marvin\x20Herrera','armor\x20equiped\x20:\x20','invalid\x20craft','waves','addHorizontalElem','block','Stephen\x20Bartlett','Raid\x20!','back','hand','David\x20Grant','getEquipedWeaponDescription','mapImgsBot','duration','itemSelected','fps','Argoo','Andres\x20Sampson','get_block_at_DistRange','Bow\x20workshop','Action\x20Point\x20:\x20','workshop','addWavesNextTurn','Wilson\x20Gill','get_pixel_by_block','dmgArmor','End_Turn','craft\x20or\x20upgrade\x20weapons\x20here','posB','.mp3','.png','you\x20can\x20only\x20craft\x20during\x20Phase\x202','movePCost','InfoWindowPos','I\x20know\x20you\x20have\x20too\x20much\x20stone','no\x20attack','removePlayerFromBat','getResourcesTextAndImg','removeResource','Fepachie','Sawmill','\x20missed\x20attack\x20(','\x20is\x20cutting\x20meat\x20for\x20','selector\x20:\x20','human_body_0','draw_UI_EventMessage','drawUI','test_start_battle','windowInfo','slashing','131621gDnrup','Jacob\x20Knapp','player\x20body\x20img\x20loaded\x20and\x20ready','test\x20turn\x20finished\x20:\x20','attack\x20with\x20your\x20hands,\x2033\x20AP,\x20x1\x20Strench\x20crushing\x20damage','workshop_icon','posA','blocksize_x','_icon','creating\x20a\x20goblin\x20in\x20','Phase\x201\x20:\x20Place\x20Players','prompt','you\x20don\x27t\x20have\x20any\x20weapon\x20in\x20your\x20village','zIndex','drawVillageUI','\x20left','take_damage','cant\x20load\x20image\x20\x22','GoToTabName','type','player_size','attack','random','button','unequipArmor','mine','upgrade','UIevent','value','defend_village_icon','\x20players\x20to\x20the\x20battle','mousemove','lenx','get_next_block_accessible','getMouseInput','can\x27t\x20create\x20this\x20weapon','60uebipi','askUserChangeName','\x20-\x20','bodyPartImgReady','can\x27t\x20get\x20can\x20pos','blocking_end_turn','#0000ff88','drawImage','IncreaseBatSizeMax','nextTurn','GameUI','rect','key_event','Dakari\x20Poole','draw_resource_tab','loadItemsFromInput','where-the-brave-may-live-forever','eventPage','arc','rotate\x20your\x20player\x20in\x20the\x20desired\x20direction','Your\x20Village\x20is\x20attacked\x20!!','the\x20place\x20for\x20craft\x20bow\x20and\x20arrow','fillRect','moving','addImage','loadImg','page\x20down','Algerian','resource','Screen'];_0x22d6=function(){return _0x1e3a4b;};return _0x22d6();}function _0x42da(_0xbe0f5c,_0x22d511){var _0x22d6e8=_0x22d6();return _0x42da=function(_0x42daae,_0x3d815b){_0x42daae=_0x42daae-0x77;var _0x2234e7=_0x22d6e8[_0x42daae];return _0x2234e7;},_0x42da(_0xbe0f5c,_0x22d511);}function distBlock(_0x4da51a,_0x150865,_0x3d28b8,_0x2ee353){var _0x1b3139=_0x42da,_0xd7937b=Math[_0x1b3139(0x2c7)](_0x4da51a-_0x3d28b8),_0x521374=Math[_0x1b3139(0x2c7)](_0x150865-_0x2ee353);if(_0xd7937b>_0x521374)return _0xd7937b;return _0x521374;}function distBlockNoDiagonal(_0x40a528,_0x1d0161,_0xd58150,_0x259ff0){var _0xa382c1=_0x42da,_0x54dd62=Math[_0xa382c1(0x2c7)](_0x40a528-_0xd58150),_0x2720a5=Math['abs'](_0x1d0161-_0x259ff0);return _0x54dd62+_0x2720a5;}function dist(_0x4dcaf7,_0x3bfa6f,_0x448b98,_0x454446){var _0x48508f=_0x42da,_0x36246f=Math[_0x48508f(0xdd)]((_0x4dcaf7-_0x448b98)*(_0x4dcaf7-_0x448b98)+(_0x3bfa6f-_0x454446)*(_0x3bfa6f-_0x454446));return _0x36246f;}myImage=function(_0x133ef2,_0x2c05c2){var _0x28cf2c=_0x42da;console['log'](_0x28cf2c(0x297)+_0x2c05c2),this[_0x28cf2c(0x2df)]=new Image(),this[_0x28cf2c(0x256)]=![],this[_0x28cf2c(0x22c)]=_0x133ef2,this[_0x28cf2c(0x2df)]['crossOrigin']='anonymous',this['img'][_0x28cf2c(0x11a)]=_0x2c05c2,this[_0x28cf2c(0x2df)][_0x28cf2c(0x29e)]=_0x28cf2c(0x3ab)+_0x2c05c2+'\x22',this[_0x28cf2c(0x1f6)]=undefined,this[_0x28cf2c(0x3f3)]=undefined,this[_0x28cf2c(0x2df)][_0x28cf2c(0x2fd)]()[_0x28cf2c(0x144)](()=>{var _0x305b7f=_0x28cf2c;console['log'](_0x305b7f(0x4e5)+_0x133ef2+_0x305b7f(0x3df)),this[_0x305b7f(0x256)]=!![],this['AlphaTransparencyByPixel'](0xff,0xff,0xff);if(world[_0x305b7f(0x497)])world[_0x305b7f(0x497)]['needRedraw']=!![];if(world['GameUI'])world['GameUI'][_0x305b7f(0x9d)]=!![];})['catch'](_0x3466e8=>{var _0x8766d8=_0x28cf2c;console[_0x8766d8(0x451)](_0x8766d8(0x251)+this[_0x8766d8(0x22c)]),console['log'](_0x3466e8);}),this['createDatafromImage']=()=>{var _0x23aa6d=_0x28cf2c;if(!this[_0x23aa6d(0x256)])return undefined;const _0x687261=document[_0x23aa6d(0xfa)]('canvas');_0x687261['width']=this['img'][_0x23aa6d(0x308)],_0x687261[_0x23aa6d(0x28b)]=this[_0x23aa6d(0x2df)][_0x23aa6d(0x28b)];const _0x18d2af=_0x687261['getContext']('2d');return _0x18d2af[_0x23aa6d(0x3c5)](this[_0x23aa6d(0x2df)],0x0,0x0),_0x18d2af[_0x23aa6d(0x1cb)](0x0,0x0,this[_0x23aa6d(0x2df)][_0x23aa6d(0x308)],this[_0x23aa6d(0x2df)]['height']);},this[_0x28cf2c(0xb4)]=_0x54e6f1=>{var _0x171602=_0x28cf2c;const _0x5e17c0=document[_0x171602(0xfa)](_0x171602(0x17d));_0x5e17c0[_0x171602(0x308)]=_0x54e6f1['width'],_0x5e17c0[_0x171602(0x28b)]=_0x54e6f1[_0x171602(0x28b)];const _0x3ddc15=_0x5e17c0[_0x171602(0xfc)]('2d');_0x3ddc15[_0x171602(0xd8)](_0x54e6f1,0x0,0x0),this[_0x171602(0x2df)]=new Image(),this[_0x171602(0x2df)]['src']=_0x5e17c0[_0x171602(0x482)](),this['img']['alt']='failed\x20createImgData\x20image',this[_0x171602(0x2df)]['decode']()[_0x171602(0x144)](()=>{var _0xd50cc3=_0x171602;if(world[_0xd50cc3(0x497)])world['villageUI'][_0xd50cc3(0x9d)]=!![];if(world['GameUI'])world[_0xd50cc3(0x3c8)]['needRedraw']=!![];});},this[_0x28cf2c(0xf1)]=(_0x2428d4,_0x4a73f8,_0x42e6de,_0x1a7eed,_0x37a4e5,_0x3a7d2b)=>{var _0x4a2496=_0x28cf2c,_0x62ba67=this['createDatafromImage']();if(!_0x62ba67)return console[_0x4a2496(0x451)](_0x4a2496(0x4ab));for(var _0x5c2b44=0x0;_0x5c2b44<_0x62ba67['height'];_0x5c2b44++){for(var _0x46f888=0x0;_0x46f888<_0x62ba67['width'];_0x46f888++){var _0x2c62b2=_0x62ba67['data'][_0x5c2b44*(_0x62ba67['width']*0x4)+_0x46f888*0x4],_0x112f32=_0x62ba67['data'][_0x5c2b44*(_0x62ba67[_0x4a2496(0x308)]*0x4)+_0x46f888*0x4+0x1],_0x102ebf=_0x62ba67[_0x4a2496(0x47e)][_0x5c2b44*(_0x62ba67[_0x4a2496(0x308)]*0x4)+_0x46f888*0x4+0x2],_0xb22921=_0x62ba67[_0x4a2496(0x47e)][_0x5c2b44*(_0x62ba67[_0x4a2496(0x308)]*0x4)+_0x46f888*0x4+0x3];_0x2c62b2==_0x2428d4&&_0x112f32==_0x4a73f8&&_0x102ebf==_0x42e6de&&(_0x62ba67['data'][_0x5c2b44*(_0x62ba67[_0x4a2496(0x308)]*0x4)+_0x46f888*0x4]=_0x1a7eed,_0x62ba67[_0x4a2496(0x47e)][_0x5c2b44*(_0x62ba67['width']*0x4)+_0x46f888*0x4+0x1]=_0x37a4e5,_0x62ba67['data'][_0x5c2b44*(_0x62ba67['width']*0x4)+_0x46f888*0x4+0x2]=_0x3a7d2b);}}const _0x129347=document['createElement'](_0x4a2496(0x17d));_0x129347[_0x4a2496(0x308)]=_0x62ba67[_0x4a2496(0x308)],_0x129347[_0x4a2496(0x28b)]=_0x62ba67['height'];const _0x225b8f=_0x129347[_0x4a2496(0xfc)]('2d');_0x225b8f[_0x4a2496(0xd8)](_0x62ba67,0x0,0x0);var _0x58029a=new Image();return _0x58029a['src']=_0x129347[_0x4a2496(0x482)](),_0x58029a[_0x4a2496(0x29e)]='failed\x20createImgData\x20image\x20Colored',_0x58029a;},this['AlphaTransparencyByPixel']=(_0x18dc70,_0x2e796a,_0x3da4bd)=>{var _0xf07e32=_0x28cf2c,_0x4f05d3=this[_0xf07e32(0x214)]();if(!_0x4f05d3)return undefined;for(var _0x2da672=0x0;_0x2da672<_0x4f05d3[_0xf07e32(0x28b)];_0x2da672++){for(var _0x3ee318=0x0;_0x3ee318<_0x4f05d3[_0xf07e32(0x308)];_0x3ee318++){var _0x1596ee=_0x4f05d3[_0xf07e32(0x47e)][_0x2da672*(_0x4f05d3[_0xf07e32(0x308)]*0x4)+_0x3ee318*0x4],_0x1338e5=_0x4f05d3[_0xf07e32(0x47e)][_0x2da672*(_0x4f05d3[_0xf07e32(0x308)]*0x4)+_0x3ee318*0x4+0x1],_0x5f0f04=_0x4f05d3[_0xf07e32(0x47e)][_0x2da672*(_0x4f05d3[_0xf07e32(0x308)]*0x4)+_0x3ee318*0x4+0x2],_0xc0ad52=_0x4f05d3[_0xf07e32(0x47e)][_0x2da672*(_0x4f05d3[_0xf07e32(0x308)]*0x4)+_0x3ee318*0x4+0x3];_0x1596ee==_0x18dc70&&_0x1338e5==_0x2e796a&&_0x5f0f04==_0x3da4bd&&(_0x4f05d3['data'][_0x2da672*(_0x4f05d3[_0xf07e32(0x308)]*0x4)+_0x3ee318*0x4+0x3]=0x0);}}this[_0xf07e32(0xb4)](_0x4f05d3);};},createImgFromData=_0x32a4df=>{var _0x18d8c2=_0x42da;const _0x1af913=document[_0x18d8c2(0xfa)](_0x18d8c2(0x17d));_0x1af913['width']=_0x32a4df[_0x18d8c2(0x308)],_0x1af913[_0x18d8c2(0x28b)]=_0x32a4df[_0x18d8c2(0x28b)];const _0x423aa5=_0x1af913[_0x18d8c2(0xfc)]('2d');_0x423aa5[_0x18d8c2(0xd8)](_0x32a4df,0x0,0x0);var _0x432d39=new Image();return _0x432d39['src']=_0x1af913['toDataURL'](),_0x432d39[_0x18d8c2(0x29e)]=_0x18d8c2(0x2e5),_0x432d39;},MyUI=function(_0x1da37d,_0xac77d8,_0x23b8a6,_0xc43fbc,_0x2ce97d,_0x2d26f3,_0x4129f6,_0x3ee302){var _0x771c61=_0x42da;MYUI_WINDOWINFO_MOUSETIME=0x190,MYUI_LETTER_SIZE=0x14,MYUI_FONT='\x27Footlight\x20MT\x20Light\x27',this['x']=_0xac77d8,this['y']=_0x23b8a6,this[_0x771c61(0x17d)]=_0x1da37d,this['marge']=_0x3ee302?_0x3ee302:0x5,this[_0x771c61(0x3ba)]=_0xc43fbc+0x2*this['marge'],this[_0x771c61(0x2cb)]=this['marge'],this[_0x771c61(0x409)]=[],this[_0x771c61(0xea)]=_0x2ce97d,this[_0x771c61(0x110)]=_0x2d26f3?_0x2d26f3:undefined,this[_0x771c61(0x17b)]=_0x4129f6?_0x4129f6:undefined,this[_0x771c61(0x484)]=[],this[_0x771c61(0x389)]=![],this[_0x771c61(0x127)]=(_0x248e60,_0xd04253,_0x4b4982,_0x1c8d6c,_0x3f6aaa)=>{var _0x23a600=_0x771c61;this[_0x23a600(0x17d)][_0x23a600(0x4cd)]['font']=''+_0xd04253+'px'+_0x3f6aaa;var _0x8caa1d=[];while(_0x248e60[_0x23a600(0x1e8)]>0x0){var _0x1d2227=0x0;while(_0x248e60[_0x1d2227]=='\x0a')_0x1d2227++;while(_0x248e60[_0x1d2227]!='\x0a'&&_0x1d2227<_0x248e60[_0x23a600(0x1e8)]&&_0x1d2227<_0x4b4982)_0x1d2227++;if(_0x1d2227==_0x4b4982){while(_0x248e60[_0x1d2227]!='\x20'&&_0x1d2227>0x0)_0x1d2227--;}_0x1d2227=_0x1d2227>0x0?_0x1d2227:_0x4b4982;var _0x44e6a0=''+_0x248e60['substring'](0x0,_0x1d2227);while(_0x248e60[_0x1d2227+0x1]=='\x0a')_0x1d2227++;_0x248e60=_0x248e60[_0x23a600(0x17a)](_0x1d2227),_0x8caa1d[_0x23a600(0x448)](_0x44e6a0);var _0x5e95b7=this['canvas'][_0x23a600(0x4cd)]['measureText'](_0x44e6a0);if(this['lenx']<_0x5e95b7['width']+0x2*this[_0x23a600(0x4c3)])this['lenx']=_0x5e95b7[_0x23a600(0x308)]+0x2*this[_0x23a600(0x4c3)];this[_0x23a600(0x2cb)]+=_0xd04253+this[_0x23a600(0x4c3)];}this['elmList']['push']({'type':_0x23a600(0x493),'txts':_0x8caa1d,'letter_size':Math[_0x23a600(0x311)](_0xd04253),'txt_color':_0x1c8d6c,'text_font':_0x3f6aaa});},this[_0x771c61(0x20a)]=(_0x559237,_0x139804,_0xc57e4d,_0x9637ea,_0x25cca9,_0x34d1d3,_0x3deaf3,_0x10c377,_0x494a94)=>{var _0x5679ac=_0x771c61;_0x494a94=_0x494a94?_0x494a94:_0x5679ac(0x12c),this[_0x5679ac(0x17d)][_0x5679ac(0x4cd)][_0x5679ac(0x12d)]=''+_0x25cca9+_0x5679ac(0x2c0)+_0x494a94;var _0x39e6fb=this['canvas'][_0x5679ac(0x4cd)][_0x5679ac(0x22f)](_0x559237);if(_0x39e6fb>_0xc57e4d+0x2*this['marge'])_0xc57e4d=_0x39e6fb+0x2*this[_0x5679ac(0x4c3)];if(this[_0x5679ac(0x3ba)]<_0xc57e4d+0x2*this['marge'])this[_0x5679ac(0x3ba)]=_0xc57e4d+0x2*this[_0x5679ac(0x4c3)];if(_0x9637ea<_0x25cca9+0x2*this[_0x5679ac(0x4c3)])_0x9637ea=_0x25cca9+0x2*this[_0x5679ac(0x4c3)];this[_0x5679ac(0x409)][_0x5679ac(0x448)]({'type':_0x5679ac(0x29a),'txt':_0x559237,'fullness':_0x139804,'lenx':_0xc57e4d,'leny':_0x9637ea,'letter_size':_0x25cca9,'colorFill':_0x34d1d3,'colorStroke':_0x3deaf3,'colorText':_0x10c377,'text_font':_0x494a94}),this[_0x5679ac(0x2cb)]+=_0x9637ea+this['marge'];},this['addButton']=(_0x4075ad,_0x16efcd,_0x57615d,_0x315df7,_0x4aaaac,_0x182b79,_0x192559,_0x42707c,_0x166bb7,_0x2729e4,_0x40cd41)=>{var _0x7eb633=_0x771c61;this[_0x7eb633(0x17d)][_0x7eb633(0x4cd)]['font']=''+_0x16efcd+'px'+_0x42707c,_0x4075ad=_0x166bb7?_0x166bb7+_0x7eb633(0x3c0)+_0x4075ad:_0x4075ad;var _0x2a9e6=this[_0x7eb633(0x17d)][_0x7eb633(0x4cd)][_0x7eb633(0x22f)](_0x4075ad);if(_0x2a9e6[_0x7eb633(0x308)]+0x4*this[_0x7eb633(0x4c3)]>this[_0x7eb633(0x3ba)])this[_0x7eb633(0x3ba)]=_0x2a9e6[_0x7eb633(0x308)]+0x4*this[_0x7eb633(0x4c3)];this[_0x7eb633(0x409)][_0x7eb633(0x448)]({'type':_0x7eb633(0x3b1),'txt_size':_0x2a9e6,'letter_size':_0x16efcd,'text_color':_0x57615d,'fillColor':_0x315df7,'strokeColor':_0x4aaaac,'callback':_0x182b79,'callback_data':_0x192559,'text_font':_0x42707c,'key_event':_0x166bb7,'txt':_0x4075ad,'windowInfo':_0x2729e4,'mouseLight':_0x40cd41}),this['leny']+=Math[_0x7eb633(0x311)](0x3*this[_0x7eb633(0x4c3)]+_0x16efcd);},this[_0x771c61(0x36c)]=_0xc4ca13=>{var _0x452978=_0x771c61,_0x172c3f={'type':'horizontal','list':[]},_0x479973=0x0,_0x56e456=this[_0x452978(0x4c3)];for(var _0x403402 in _0xc4ca13){var _0x592b5a=_0xc4ca13[_0x403402],_0x1dd988=undefined;switch(_0x592b5a[_0x452978(0x3ad)]){case undefined:continue;case'txt':if(!_0x592b5a[_0x452978(0x210)])continue;var _0x28696e=_0x592b5a[_0x452978(0x210)],_0x21ed88=[],_0x182670=0x0,_0x3c49c5=0x0,_0x43faa0=_0x592b5a[_0x452978(0x184)]?_0x592b5a['letter_per_line']:0x270f;this['canvas'][_0x452978(0x4cd)][_0x452978(0x12d)]=''+_0x592b5a[_0x452978(0x183)]+'px'+_0x592b5a[_0x452978(0x131)];while(_0x28696e[_0x452978(0x1e8)]>0x0){var _0x178307=0x0;while(_0x28696e[_0x178307]=='\x0a')_0x178307++;while(_0x28696e[_0x178307]!='\x0a'&&_0x178307<_0x28696e[_0x452978(0x1e8)]&&_0x178307<_0x43faa0)_0x178307++;if(_0x178307==_0x43faa0){while(_0x28696e[_0x178307]!='\x20'&&_0x178307>0x0)_0x178307--;}_0x178307=_0x178307>0x0?_0x178307:_0x43faa0;var _0x518ae5=''+_0x28696e[_0x452978(0x17a)](0x0,_0x178307);while(_0x28696e[_0x178307+0x1]=='\x0a')_0x178307++;_0x28696e=_0x28696e['substring'](_0x178307),_0x21ed88[_0x452978(0x448)](_0x518ae5);var _0x46a193=this[_0x452978(0x17d)][_0x452978(0x4cd)][_0x452978(0x22f)](_0x518ae5);if(_0x3c49c5<_0x46a193['width']+0x2*this[_0x452978(0x4c3)])_0x3c49c5=_0x46a193['width']+0x2*this[_0x452978(0x4c3)];_0x182670+=_0x592b5a[_0x452978(0x183)]+this[_0x452978(0x4c3)];}_0x479973=_0x182670>_0x479973?_0x182670:_0x479973,_0x1dd988={'type':_0x452978(0x210),'txts':_0x21ed88,'txt_color':_0x592b5a[_0x452978(0x157)]?_0x592b5a[_0x452978(0x157)]:'#000000','max_letters':_0x592b5a[_0x452978(0x48b)]?_0x592b5a['max_letter']:0x270f,'letter_size':_0x592b5a[_0x452978(0x183)]?_0x592b5a[_0x452978(0x183)]:0x14,'txt_font':_0x592b5a[_0x452978(0x131)]?_0x592b5a[_0x452978(0x131)]:_0x452978(0x12c),'txt_size':_0x3c49c5},_0x56e456+=_0x3c49c5;break;case _0x452978(0x2df):if(!_0x592b5a[_0x452978(0x2df)])continue;_0x1dd988={'type':_0x452978(0x2df),'img':_0x592b5a[_0x452978(0x2df)],'len_x':_0x592b5a['len_x']?_0x592b5a[_0x452978(0x208)]:0x32,'len_y':_0x592b5a['len_y']?_0x592b5a[_0x452978(0x1a6)]:0x32},_0x479973=_0x1dd988[_0x452978(0x1a6)]>_0x479973?_0x1dd988[_0x452978(0x1a6)]:_0x479973,_0x56e456+=_0x1dd988['len_x']+this[_0x452978(0x4c3)];break;case _0x452978(0x3b1):if(!_0x592b5a[_0x452978(0x33a)]||!_0x592b5a[_0x452978(0x210)])continue;var _0x2517f1=_0x592b5a['letter_size']?_0x592b5a[_0x452978(0x183)]:0x14,_0x21fe0c=_0x592b5a['txt_font']?_0x592b5a[_0x452978(0x131)]:'Arial';this[_0x452978(0x17d)][_0x452978(0x4cd)][_0x452978(0x12d)]=''+_0x2517f1+'px'+_0x21fe0c;var _0x28696e=_0x592b5a[_0x452978(0x3ca)]?_0x592b5a[_0x452978(0x3ca)]+_0x452978(0x3c0)+_0x592b5a[_0x452978(0x210)]:_0x592b5a[_0x452978(0x210)],_0x46a193=this[_0x452978(0x17d)]['ctx'][_0x452978(0x22f)](_0x28696e);_0x1dd988={'type':_0x452978(0x3b1),'txt_size':_0x46a193[_0x452978(0x308)],'letter_size':_0x2517f1,'txt_color':_0x592b5a[_0x452978(0x157)]?_0x592b5a[_0x452978(0x157)]:_0x452978(0x187),'fillColor':_0x592b5a[_0x452978(0x2d6)]?_0x592b5a[_0x452978(0x2d6)]:_0x452978(0xb1),'strokeColor':_0x592b5a[_0x452978(0x162)]?_0x592b5a[_0x452978(0x162)]:_0x452978(0x187),'callback':_0x592b5a[_0x452978(0x33a)],'callback_data':_0x592b5a['callback_data'],'txt_font':_0x21fe0c,'key_event':_0x592b5a[_0x452978(0x3ca)],'txt':_0x28696e,'windowInfo':_0x592b5a['windowInfo'],'mouseLight':_0x592b5a[_0x452978(0x35f)]},_0x479973=_0x1dd988[_0x452978(0x183)]+0x2*this[_0x452978(0x4c3)]>_0x479973?_0x1dd988[_0x452978(0x183)]+0x2*this[_0x452978(0x4c3)]:_0x479973,_0x56e456+=_0x46a193['width']+this['marge']*0x3;break;}_0x172c3f['list']['push'](_0x1dd988);}if(this['lenx']<_0x56e456)this[_0x452978(0x3ba)]=_0x56e456;_0x172c3f[_0x452978(0x1a6)]=_0x479973,this[_0x452978(0x409)][_0x452978(0x448)](_0x172c3f),this[_0x452978(0x2cb)]+=Math[_0x452978(0x311)](this[_0x452978(0x4c3)]+_0x479973);},this[_0x771c61(0x3d6)]=(_0x4061d3,_0x44f998,_0x80850b)=>{var _0x544e7a=_0x771c61;this[_0x544e7a(0x409)]['push']({'type':_0x544e7a(0x2df),'img':_0x4061d3,'lenx':_0x44f998,'leny':_0x80850b});if(this[_0x544e7a(0x3ba)]<_0x44f998+0x2*this[_0x544e7a(0x4c3)])this[_0x544e7a(0x3ba)]=_0x44f998+0x2*this[_0x544e7a(0x4c3)];this['leny']+=Math[_0x544e7a(0x311)](this[_0x544e7a(0x4c3)]+_0x44f998);},this[_0x771c61(0x396)]=()=>{var _0x501973=_0x771c61;this[_0x501973(0x110)]&&(this['canvas'][_0x501973(0x4cd)][_0x501973(0x1b4)]=this[_0x501973(0x110)],this[_0x501973(0x17d)][_0x501973(0x2dc)](this['x'],this['y'],this['x']+this[_0x501973(0x3ba)],this['y']+this[_0x501973(0x2cb)]));this[_0x501973(0x17b)]&&(this[_0x501973(0x17d)][_0x501973(0x4cd)][_0x501973(0x107)]=this[_0x501973(0x17b)],this[_0x501973(0x17d)][_0x501973(0x424)](this['x'],this['y'],this['x']+this[_0x501973(0x3ba)],this['y']+this[_0x501973(0x2cb)]));var _0x1ed286=this['y']+this[_0x501973(0x4c3)];for(var _0x171ab0 in this['elmList']){var _0x41bd08=this['elmList'][_0x171ab0];switch(_0x41bd08[_0x501973(0x3ad)]){case _0x501973(0x493):for(var _0x4ca685 in _0x41bd08[_0x501973(0xdb)]){this[_0x501973(0x17d)][_0x501973(0x45a)](_0x41bd08[_0x501973(0xdb)][_0x4ca685],this['x']+this['marge'],_0x1ed286,this[_0x501973(0x3ba)],_0x41bd08[_0x501973(0x183)],_0x41bd08[_0x501973(0x157)],_0x41bd08[_0x501973(0x9e)]),_0x1ed286+=_0x41bd08['letter_size']+this[_0x501973(0x4c3)];}break;case _0x501973(0x3b1):this[_0x501973(0x17d)][_0x501973(0x4cd)][_0x501973(0x12d)]=''+_0x41bd08[_0x501973(0x183)]+'px'+_0x41bd08[_0x501973(0x9e)];var _0x49037f=Math['floor'](this['x']+_0x41bd08[_0x501973(0xc7)][_0x501973(0x308)]/0x2+0x2*this[_0x501973(0x4c3)]),_0x1ee648=Math[_0x501973(0x311)](_0x1ed286+_0x41bd08[_0x501973(0x183)]/0x2+0x1*this[_0x501973(0x4c3)]),_0x5ccc6b={'ax':Math['floor'](_0x49037f-_0x41bd08[_0x501973(0xc7)]['width']/0x2-this[_0x501973(0x4c3)]),'ay':Math[_0x501973(0x311)](_0x1ee648-_0x41bd08[_0x501973(0x183)]/0x2-this[_0x501973(0x4c3)]),'bx':Math[_0x501973(0x311)](_0x49037f+_0x41bd08['txt_size'][_0x501973(0x308)]/0x2+this['marge']),'by':Math['floor'](_0x1ee648+_0x41bd08[_0x501973(0x183)]/0x2+this[_0x501973(0x4c3)])};this['canvas'][_0x501973(0x4cd)]['fillStyle']=_0x41bd08[_0x501973(0x2d6)];if(_0x41bd08['mouseLight']&&world[_0x501973(0x442)][_0x501973(0x1ac)]&&world[_0x501973(0x442)][_0x501973(0x1ac)]['x']!==undefined&&isInRect(world[_0x501973(0x442)][_0x501973(0x1ac)]['x'],world[_0x501973(0x442)][_0x501973(0x1ac)]['y'],_0x5ccc6b))this['canvas']['ctx'][_0x501973(0x1b4)]=_0x41bd08[_0x501973(0x2d6)][_0x501973(0x17a)](0x0,0x7)+_0x41bd08['mouseLight'];this[_0x501973(0x17d)][_0x501973(0x2dc)](_0x5ccc6b['ax'],_0x5ccc6b['ay'],_0x5ccc6b['bx'],_0x5ccc6b['by']),this[_0x501973(0x17d)]['ctx'][_0x501973(0x107)]=_0x41bd08[_0x501973(0x162)],this['canvas'][_0x501973(0x424)](_0x5ccc6b['ax'],_0x5ccc6b['ay'],_0x5ccc6b['bx'],_0x5ccc6b['by']),this['canvas'][_0x501973(0x1aa)](_0x41bd08[_0x501973(0x210)],_0x49037f,_0x1ee648,0x270f,_0x41bd08['letter_size'],_0x41bd08[_0x501973(0x34e)],_0x41bd08[_0x501973(0x9e)]),this['buttonList'][_0x501973(0x448)]({'rect':_0x5ccc6b,'callback':_0x41bd08[_0x501973(0x33a)],'callback_data':_0x41bd08[_0x501973(0xb3)],'key_event':_0x41bd08[_0x501973(0x3ca)],'windowInfo':_0x41bd08[_0x501973(0x398)]}),_0x1ed286+=_0x41bd08[_0x501973(0x183)]+this[_0x501973(0x4c3)]*0x3;break;case'img':this[_0x501973(0x17d)]['draw_Image'](_0x41bd08[_0x501973(0x2df)],this['x']+this[_0x501973(0x4c3)],_0x1ed286+this['marge'],_0x41bd08[_0x501973(0x3ba)],_0x41bd08['leny']),_0x1ed286+=_0x41bd08['leny']+this['marge'];break;case _0x501973(0x29a):this[_0x501973(0x17d)]['ctx'][_0x501973(0x1b4)]=_0x41bd08[_0x501973(0x2d2)],this[_0x501973(0x17d)]['drawFillRect'](this['x']+this[_0x501973(0x4c3)],_0x1ed286+this[_0x501973(0x4c3)],this['x']+_0x41bd08[_0x501973(0x3ba)],_0x1ed286+_0x41bd08[_0x501973(0x2cb)]),this[_0x501973(0x17d)][_0x501973(0x4cd)][_0x501973(0x1b4)]=_0x41bd08[_0x501973(0x3f1)];if(_0x41bd08[_0x501973(0x40a)]>0x0)this[_0x501973(0x17d)][_0x501973(0x2dc)](this['x']+this[_0x501973(0x4c3)]*0x2,_0x1ed286+this[_0x501973(0x4c3)]*0x2,Math[_0x501973(0x311)](this['x']+_0x41bd08[_0x501973(0x3ba)]*_0x41bd08[_0x501973(0x40a)]-this[_0x501973(0x4c3)]),_0x1ed286+_0x41bd08[_0x501973(0x2cb)]-this[_0x501973(0x4c3)]);this[_0x501973(0x17d)][_0x501973(0x1aa)](_0x41bd08['txt'],this['x']+this[_0x501973(0x4c3)]+_0x41bd08[_0x501973(0x3ba)]/0x2,_0x1ed286+this['marge']+_0x41bd08[_0x501973(0x2cb)]/0x2,_0x41bd08[_0x501973(0x3ba)],_0x41bd08[_0x501973(0x183)],_0x41bd08[_0x501973(0x9b)],_0x41bd08[_0x501973(0x9e)]),_0x1ed286+=_0x41bd08['leny'];break;case _0x501973(0xf8):var _0x52c3e6=this[_0x501973(0x4c3)];for(var _0x192244 in _0x41bd08[_0x501973(0x2cd)]){var _0x1103ab=_0x41bd08['list'][_0x192244];switch(_0x1103ab['type']){case _0x501973(0x210):var _0x5c788c=_0x1ed286;for(var _0x171ab0 in _0x1103ab['txts']){this[_0x501973(0x17d)][_0x501973(0x45a)](_0x1103ab[_0x501973(0xdb)][_0x171ab0],this['x']+_0x52c3e6,_0x5c788c,_0x1103ab[_0x501973(0xc7)],_0x1103ab[_0x501973(0x183)],_0x1103ab[_0x501973(0x157)],_0x1103ab[_0x501973(0x131)]),_0x5c788c+=_0x1103ab['letter_size']+this[_0x501973(0x4c3)];}_0x52c3e6+=this[_0x501973(0x4c3)]+_0x1103ab[_0x501973(0xc7)];break;case'button':this['canvas'][_0x501973(0x4cd)]['font']=''+_0x1103ab[_0x501973(0x183)]+'px'+_0x1103ab[_0x501973(0x131)];var _0x49037f=Math[_0x501973(0x311)](this['x']+_0x52c3e6+_0x1103ab['txt_size']/0x2+this['marge']/0x2),_0x1ee648=Math[_0x501973(0x311)](_0x1ed286+_0x1103ab[_0x501973(0x183)]/0x2+this[_0x501973(0x4c3)]/0x2),_0x5ccc6b={'ax':Math['floor'](_0x49037f-_0x1103ab['txt_size']/0x2-this[_0x501973(0x4c3)]),'ay':Math[_0x501973(0x311)](_0x1ee648-_0x1103ab['letter_size']/0x2-this[_0x501973(0x4c3)]),'bx':Math[_0x501973(0x311)](_0x49037f+_0x1103ab['txt_size']/0x2+this['marge']),'by':Math['floor'](_0x1ee648+_0x1103ab[_0x501973(0x183)]/0x2+this['marge'])};this[_0x501973(0x17d)][_0x501973(0x4cd)][_0x501973(0x1b4)]=_0x1103ab['fillColor'];if(_0x1103ab[_0x501973(0x35f)]&&world[_0x501973(0x442)][_0x501973(0x1ac)]&&world['Controler'][_0x501973(0x1ac)]['x']!==undefined&&isInRect(world[_0x501973(0x442)][_0x501973(0x1ac)]['x'],world[_0x501973(0x442)][_0x501973(0x1ac)]['y'],_0x5ccc6b))this[_0x501973(0x17d)]['ctx'][_0x501973(0x1b4)]=_0x1103ab[_0x501973(0x2d6)][_0x501973(0x17a)](0x0,0x7)+_0x1103ab['mouseLight'];this['canvas'][_0x501973(0x2dc)](_0x5ccc6b['ax'],_0x5ccc6b['ay'],_0x5ccc6b['bx'],_0x5ccc6b['by']),this[_0x501973(0x17d)][_0x501973(0x4cd)][_0x501973(0x107)]=_0x1103ab[_0x501973(0x162)],this[_0x501973(0x17d)]['drawRect'](_0x5ccc6b['ax'],_0x5ccc6b['ay'],_0x5ccc6b['bx'],_0x5ccc6b['by']),this[_0x501973(0x17d)][_0x501973(0x1aa)](_0x1103ab['txt'],_0x49037f,_0x1ee648,0x270f,_0x1103ab[_0x501973(0x183)],_0x1103ab[_0x501973(0x157)],_0x1103ab[_0x501973(0x131)]),this[_0x501973(0x484)][_0x501973(0x448)]({'rect':_0x5ccc6b,'callback':_0x1103ab['callback'],'callback_data':_0x1103ab[_0x501973(0xb3)],'key_event':_0x1103ab['key_event'],'windowInfo':_0x1103ab[_0x501973(0x398)],'mouseLight':!![]}),_0x52c3e6+=this[_0x501973(0x4c3)]*0x3+_0x1103ab['txt_size'];break;case _0x501973(0x2df):this[_0x501973(0x17d)]['draw_Image'](_0x1103ab['img'],this['x']+_0x52c3e6,_0x1ed286,_0x1103ab[_0x501973(0x208)],_0x1103ab['len_y']),_0x52c3e6+=_0x1103ab[_0x501973(0x1a6)]+this[_0x501973(0x4c3)];break;}}_0x1ed286+=_0x41bd08[_0x501973(0x1a6)]+this['marge'];break;}}this[_0x501973(0x28a)]();},this[_0x771c61(0x13d)]=(_0x2d605a,_0x2bd810)=>{var _0x2424a5=_0x771c61;for(var _0x1d7be4 in this[_0x2424a5(0x484)]){var _0x805ac2=this[_0x2424a5(0x484)][_0x1d7be4];if(isInRect(_0x2d605a,_0x2bd810,_0x805ac2['rect']))return _0x805ac2[_0x2424a5(0x33a)](_0x805ac2['callback_data']),!![];}return![];},this['mouse_move_check']=(_0xc1c5e1,_0x4750ed)=>{var _0x1ee632=_0x771c61;for(var _0x2dfea8 in this['buttonList']){var _0x5e99eb=this[_0x1ee632(0x484)][_0x2dfea8];if(_0x5e99eb[_0x1ee632(0x35f)]&&isInRect(_0xc1c5e1,_0x4750ed,_0x5e99eb[_0x1ee632(0x3c9)]))return this[_0x1ee632(0x9d)]=!![],!![];}return![];},this[_0x771c61(0x13a)]=_0x5cd8a0=>{var _0x1d8a28=_0x771c61;for(var _0xd2896a in this['buttonList']){var _0x5bfeb6=this[_0x1d8a28(0x484)][_0xd2896a];if(_0x5bfeb6[_0x1d8a28(0x3ca)]&&_0x5bfeb6[_0x1d8a28(0x3ca)]==_0x5cd8a0)return _0x5bfeb6['callback'](_0x5bfeb6[_0x1d8a28(0xb3)]),!![];}return![];},this['CheckInfoWindow']=_0x453abb=>{var _0x36aa1f=_0x771c61;if(!world[_0x36aa1f(0x442)])return![];var _0x57ba91=world[_0x36aa1f(0x442)][_0x36aa1f(0x1ac)];if(!_0x57ba91)return;if(new Date()[_0x36aa1f(0x26f)]()-_0x57ba91[_0x36aa1f(0x44e)]<MYUI_WINDOWINFO_MOUSETIME)return this['InfoWindowPos']&&(this[_0x36aa1f(0x389)]=![],this[_0x36aa1f(0x9d)]=!![]),![];if(!this[_0x36aa1f(0x389)])this[_0x36aa1f(0x389)]={'x':_0x57ba91['x'],'y':_0x57ba91['y']};else{if(!_0x453abb&&_0x57ba91['x']==this['InfoWindowPos']['x']&&_0x57ba91['y']==this[_0x36aa1f(0x389)]['y'])return![];}for(var _0x10c4c6 in this[_0x36aa1f(0x484)]){var _0x3b2016=this[_0x36aa1f(0x484)][_0x10c4c6];if(_0x3b2016['windowInfo']&&isInRect(_0x57ba91['x'],_0x57ba91['y'],_0x3b2016[_0x36aa1f(0x3c9)])){var _0x3affee=new MyUI(this[_0x36aa1f(0x17d)],_0x57ba91['x'],_0x57ba91['y'],0x32,0x1,this[_0x36aa1f(0x110)],this['stroke'],0x1);_0x3affee['addTextZone'](_0x36aa1f(0x11f),MYUI_LETTER_SIZE,0x270f,_0x36aa1f(0x187),MYUI_FONT);for(var _0x57d5d6 in _0x3b2016['windowInfo']){var _0x5e58be=_0x3b2016[_0x36aa1f(0x398)][_0x57d5d6];if(_0x5e58be[_0x36aa1f(0x33a)])_0x3affee[_0x36aa1f(0x127)](_0x5e58be[_0x36aa1f(0x33a)](_0x5e58be[_0x36aa1f(0x232)]),MYUI_LETTER_SIZE,0x270f,_0x36aa1f(0x187),MYUI_FONT);}return _0x3affee[_0x36aa1f(0x396)](),!![];}}return![];};},UIManager=function(){var _0x6f8ca7=_0x42da;this[_0x6f8ca7(0x1b6)]=[],this[_0x6f8ca7(0x28f)]=(_0x278924,_0x93ffc0,_0x405b8c,_0x3b0c50,_0x2c2e60,_0x55359f,_0xca35d3,_0x398db9)=>{var _0x538636=_0x6f8ca7,_0x22443b=new MyUI(_0x278924,_0x93ffc0,_0x405b8c,_0x3b0c50,_0x2c2e60,_0x55359f,_0xca35d3,_0x398db9);return this['UI_list'][_0x538636(0x448)](_0x22443b),_0x22443b;},this[_0x6f8ca7(0x83)]=_0x3f63a7=>{var _0x57578f=_0x6f8ca7;for(var _0x4fd33a in this['UI_list']){var _0x272227=this[_0x57578f(0x1b6)][_0x4fd33a],_0x28f708=_0x272227[_0x57578f(0x13a)](_0x3f63a7);if(_0x28f708)return!![];}return![];},this['Mouse_Input']=(_0xbdbc73,_0x2ced4c)=>{var _0x4e5d1f=_0x6f8ca7;for(var _0x12f001 in this[_0x4e5d1f(0x1b6)]){var _0x44dc3d=this[_0x4e5d1f(0x1b6)][_0x12f001],_0x18132d=_0x44dc3d[_0x4e5d1f(0x13d)](_0xbdbc73,_0x2ced4c);if(_0x18132d)return!![];}return![];};},MyCanvas=function(_0x486583,_0x2289c9,_0x3d9a9a){var _0x3c31b2=_0x42da;this['width']=window['innerWidth'],this['height']=window[_0x3c31b2(0x32b)],_0x3d9a9a&&(_0x3d9a9a['x']&&_0x3d9a9a['y']&&(this[_0x3c31b2(0x308)]=_0x3d9a9a['x'],this[_0x3c31b2(0x28b)]=_0x3d9a9a['y'])),this[_0x3c31b2(0x17d)]=document['createElement']('canvas'),this[_0x3c31b2(0x17d)][_0x3c31b2(0x308)]=this['width'],this['canvas']['height']=this[_0x3c31b2(0x28b)],this['id']=_0x486583,this['canvas']['id']=_0x486583,this[_0x3c31b2(0x17d)][_0x3c31b2(0x3f4)][_0x3c31b2(0x3a7)]=_0x2289c9,this[_0x3c31b2(0x17d)][_0x3c31b2(0x3f4)][_0x3c31b2(0x359)]=_0x3c31b2(0x152),this[_0x3c31b2(0x17d)]['style'][_0x3c31b2(0xbb)]='0px',this['canvas'][_0x3c31b2(0x3f4)][_0x3c31b2(0x41f)]=_0x3c31b2(0x181),this[_0x3c31b2(0x4cd)]=this[_0x3c31b2(0x17d)][_0x3c31b2(0xfc)]('2d'),this[_0x3c31b2(0x44c)]=![],document[_0x3c31b2(0x1e1)]['appendChild'](this[_0x3c31b2(0x17d)]),this[_0x3c31b2(0x477)]=()=>{var _0x40b5b8=_0x3c31b2,_0x4fce0b=this[_0x40b5b8(0x17d)][_0x40b5b8(0x2c8)]();if(_0x4fce0b)this[_0x40b5b8(0x1fd)]=Math[_0x40b5b8(0x311)](_0x4fce0b['x']),this['screenAy']=Math[_0x40b5b8(0x311)](_0x4fce0b['y']),this[_0x40b5b8(0x4bc)]=Math['floor'](_0x4fce0b[_0x40b5b8(0x91)]-_0x4fce0b['x']),this['screenBy']=Math['floor'](_0x4fce0b[_0x40b5b8(0x4a3)]-_0x4fce0b['y']);else console[_0x40b5b8(0x451)](_0x40b5b8(0x3c2));},this[_0x3c31b2(0x477)](),this[_0x3c31b2(0xd1)]=(_0x531f43,_0x4c2410)=>{var _0x36a8f7=_0x3c31b2;this[_0x36a8f7(0x477)]();if(_0x531f43<this['screenAx']||_0x4c2410<this[_0x36a8f7(0x4ac)]||_0x531f43>this[_0x36a8f7(0x4bc)]||_0x4c2410>this[_0x36a8f7(0xcd)])return undefined;var _0x22a459={'x':Math[_0x36a8f7(0x311)](_0x531f43-this[_0x36a8f7(0x1fd)]),'y':Math[_0x36a8f7(0x311)](_0x4c2410-this[_0x36a8f7(0x4ac)])};return _0x22a459;},this[_0x3c31b2(0x2a9)]=()=>{var _0x5e8e49=_0x3c31b2;this[_0x5e8e49(0x4cd)][_0x5e8e49(0x2e0)](0x0,0x0,this[_0x5e8e49(0x17d)][_0x5e8e49(0x308)],this[_0x5e8e49(0x17d)][_0x5e8e49(0x28b)]);},this[_0x3c31b2(0x2dc)]=(_0x30c03f,_0x5372ec,_0x4995d6,_0x1958c0)=>{var _0xe3bb56=_0x3c31b2;this[_0xe3bb56(0x4cd)][_0xe3bb56(0x3d4)](_0x30c03f,_0x5372ec,_0x4995d6-_0x30c03f,_0x1958c0-_0x5372ec);},this[_0x3c31b2(0x424)]=(_0x488914,_0x33e1b6,_0x16d981,_0x4d597f)=>{this['ctx']['strokeRect'](_0x488914,_0x33e1b6,_0x16d981-_0x488914,_0x4d597f-_0x33e1b6);},this[_0x3c31b2(0x121)]=(_0x3e084a,_0x1feb23,_0x428d8c,_0x366572)=>{var _0x2d48dd=_0x3c31b2;this[_0x2d48dd(0x4cd)][_0x2d48dd(0x249)](),this[_0x2d48dd(0x4cd)]['moveTo'](_0x3e084a,_0x1feb23),this['ctx'][_0x2d48dd(0x2d7)](_0x428d8c,_0x366572),this[_0x2d48dd(0x4cd)][_0x2d48dd(0x17b)]();},this[_0x3c31b2(0x204)]=(_0x612fe2,_0x535786,_0x341e4f,_0x539296,_0x479dab)=>{var _0x1f0b5f=_0x3c31b2;_0x535786=Math['round'](_0x535786),_0x341e4f=Math[_0x1f0b5f(0x118)](_0x341e4f),_0x539296=Math[_0x1f0b5f(0x118)](_0x539296),_0x479dab=Math[_0x1f0b5f(0x118)](_0x479dab),ctx=this[_0x1f0b5f(0x4cd)],ctx[_0x1f0b5f(0x3c5)](_0x612fe2,_0x535786,_0x341e4f,_0x539296,_0x479dab);},this[_0x3c31b2(0xec)]=(_0x4ea5f6,_0x3fa902,_0x3e4ad6,_0x135212,_0x26c7ef,_0x2c7b03,_0x141e84)=>{var _0x1b5c8d=_0x3c31b2;_0x3fa902=Math[_0x1b5c8d(0x118)](_0x3fa902),_0x3e4ad6=Math[_0x1b5c8d(0x118)](_0x3e4ad6),ctx=this[_0x1b5c8d(0x4cd)],ctx[_0x1b5c8d(0x90)](-_0x2c7b03,0x0,0x0,_0x2c7b03,_0x3fa902,_0x3e4ad6),ctx['rotate'](_0x141e84),ctx['drawImage'](_0x4ea5f6,-_0x135212,-_0x26c7ef),ctx[_0x1b5c8d(0x90)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x3c31b2(0x135)]=(_0x17e398,_0x23cefc,_0x211d65,_0x4a1217,_0x192cbb,_0x35748f,_0x3463a6)=>{var _0x43ecd3=_0x3c31b2;_0x23cefc=Math[_0x43ecd3(0x118)](_0x23cefc),_0x211d65=Math[_0x43ecd3(0x118)](_0x211d65),ctx=this[_0x43ecd3(0x4cd)],ctx[_0x43ecd3(0x90)](_0x35748f,0x0,0x0,_0x35748f,_0x23cefc,_0x211d65),ctx['rotate'](_0x3463a6),ctx[_0x43ecd3(0x3c5)](_0x17e398,-_0x4a1217,-_0x192cbb),ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x3c31b2(0x438)]=(_0x2c20a5,_0x80ab6d,_0x11afa0,_0x5a0188,_0x28331f)=>{var _0x3c80b0=_0x3c31b2;_0x80ab6d=Math['round'](_0x80ab6d),_0x11afa0=Math[_0x3c80b0(0x118)](_0x11afa0),ctx=this[_0x3c80b0(0x4cd)],ctx[_0x3c80b0(0x90)](_0x5a0188,0x0,0x0,_0x5a0188,_0x80ab6d,_0x11afa0),ctx[_0x3c80b0(0xd2)](_0x28331f),ctx[_0x3c80b0(0x3c5)](_0x2c20a5,-_0x2c20a5['width']/0x2,-_0x2c20a5['height']/0x2),ctx[_0x3c80b0(0x90)](0x1,0x0,0x0,0x1,0x0,0x0);},this[_0x3c31b2(0x45a)]=(_0x1a6c66,_0x1648d5,_0x4bf8a0,_0x47b9e9,_0x2aa94d,_0x3be99d,_0x492c5c)=>{var _0x52cee7=_0x3c31b2;this[_0x52cee7(0x4cd)]['textAlign']=_0x52cee7(0x41f),this[_0x52cee7(0x4cd)][_0x52cee7(0x15b)]=_0x52cee7(0xbb),this['ctx'][_0x52cee7(0x1b4)]=_0x3be99d;var _0x5c733d=''+_0x2aa94d+'px';if(!_0x492c5c)_0x492c5c=_0x52cee7(0x220);_0x5c733d=_0x5c733d+'\x20'+_0x492c5c,this[_0x52cee7(0x4cd)][_0x52cee7(0x12d)]=_0x5c733d,this[_0x52cee7(0x4cd)]['fillText'](_0x1a6c66,_0x1648d5,_0x4bf8a0,_0x47b9e9);},this[_0x3c31b2(0x1aa)]=(_0xc9d5c8,_0x5a4fc1,_0x3597c7,_0x3872b2,_0x417b24,_0x28296d,_0xd036f6)=>{var _0x40f31f=_0x3c31b2;this[_0x40f31f(0x4cd)]['textAlign']='center',this[_0x40f31f(0x4cd)]['textBaseline']='middle',this['ctx'][_0x40f31f(0x1b4)]=_0x28296d;var _0x20c4b4=''+_0x417b24+'px';if(!_0xd036f6)_0xd036f6=_0x40f31f(0x220);_0x20c4b4=_0x20c4b4+'\x20'+_0xd036f6,this[_0x40f31f(0x4cd)]['font']=_0x20c4b4,this[_0x40f31f(0x4cd)][_0x40f31f(0x128)](_0xc9d5c8,_0x5a4fc1,_0x3597c7,_0x3872b2);};},CanvasManager=function(){var _0x5af14f=_0x42da;this[_0x5af14f(0x498)]=[],this[_0x5af14f(0x18f)]=0x0,window[_0x5af14f(0x129)]('resize',()=>{var _0x50201c=_0x5af14f;for(var _0x213d5c in this['canList']){var _0x532e6c=this[_0x50201c(0x498)][_0x213d5c][_0x50201c(0x17d)];_0x532e6c['width']=window[_0x50201c(0x33f)],_0x532e6c[_0x50201c(0x28b)]=window[_0x50201c(0x32b)];}console['log']('resized'),world[_0x50201c(0x9d)]();}),document[_0x5af14f(0x129)](_0x5af14f(0x43a),this[_0x5af14f(0x3ed)],![]),document['addEventListener']('mozfullscreenchange',this[_0x5af14f(0x3ed)],![]),document['addEventListener'](_0x5af14f(0x41c),this[_0x5af14f(0x3ed)],![]),document[_0x5af14f(0x129)](_0x5af14f(0x2d4),this['EventcloseFullscreen'],![]),this['EventcloseFullscreen']=()=>{var _0x1c999f=_0x5af14f;this[_0x1c999f(0x44c)]=![],this[_0x1c999f(0x2f6)]();},this[_0x5af14f(0x2ab)]=(_0x424435,_0x5e6160,_0x12c832)=>{var _0xb7b1b3=_0x5af14f;for(var _0x23974a in this['canList'])if(this[_0xb7b1b3(0x498)][_0x23974a]['id']==_0x424435)return console[_0xb7b1b3(0x451)](_0xb7b1b3(0x43d));var _0x5850a1=new MyCanvas(_0x424435,_0x5e6160,_0x12c832);this['canList'][_0x424435]=_0x5850a1;},this['openFullscreen']=()=>{var _0x5e46b9=_0x5af14f;this[_0x5e46b9(0x44c)]=!![],document['documentElement'][_0x5e46b9(0x344)]();},this[_0x5af14f(0x2f6)]=()=>{var _0x5325f2=_0x5af14f;if(this['fullScreen']&&document[_0x5325f2(0xef)]){if(document[_0x5325f2(0x485)])document[_0x5325f2(0x485)]();else{if(document['webkitExitFullscreen'])document[_0x5325f2(0x197)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}this['fullScreen']=![];};},BLOCK_DEFAULT_FLOOR=0x0,MAP_FLOORS=[_0x3c4aa9(0x21d),_0x3c4aa9(0x21e),'sea',_0x3c4aa9(0x1f3)],MAP_BOT_ELEMENT=[{'name':'bush','moveCost':1.5},{'name':_0x3c4aa9(0x261),'moveCost':0x2},{'name':_0x3c4aa9(0x1c3),'moveCost':0x3}],MAP_TOP_ELEMENT=[{'name':_0x3c4aa9(0x476),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x3c4aa9(0x19f),'sizex':0x3,'sizey':0x3,'moveCost':![]},{'name':_0x3c4aa9(0x4b5),'sizex':0x1,'sizey':0x1},{'name':_0x3c4aa9(0x247),'sizex':0x1,'sizey':0x1,'moveCost':![]}],Block=function(_0x489c28,_0x5e7da9){var _0x549f8c=_0x3c4aa9;this['x']=_0x489c28,this['y']=_0x5e7da9,this[_0x549f8c(0xad)]=undefined,this['topElem']=undefined,this[_0x549f8c(0x103)]=undefined,this[_0x549f8c(0x467)]=()=>{var _0x113ba1=_0x549f8c,_0x2b94eb=0x1;if(this[_0x113ba1(0xad)]){for(var _0x39a36e in MAP_BOT_ELEMENT)var _0x8c6e8e=MAP_BOT_ELEMENT[_0x113ba1(0x2ea)](_0x2d9e9a=>_0x2d9e9a[_0x113ba1(0x22c)]==this[_0x113ba1(0xad)][_0x113ba1(0x22c)]);if(_0x8c6e8e[_0x113ba1(0x49b)]==![])return![];if(_0x8c6e8e[_0x113ba1(0x49b)])_0x2b94eb*=_0x8c6e8e[_0x113ba1(0x49b)];}if(this[_0x113ba1(0x4e2)]){var _0x8c6e8e=MAP_TOP_ELEMENT[_0x113ba1(0x2ea)](_0x45940d=>_0x45940d[_0x113ba1(0x22c)]==this[_0x113ba1(0x4e2)]['name']);if(_0x8c6e8e[_0x113ba1(0x49b)]==![])return![];if(_0x8c6e8e['moveCost'])_0x2b94eb*=_0x8c6e8e['moveCost'];}return _0x2b94eb;};},BattleMap=function(_0x1e9fc0,_0x59ef1d){var _0x3703bd=_0x3c4aa9;MAP_BLOCK_PIXELSIZE_DEFAULT=0xc8,this[_0x3703bd(0x308)]=_0x1e9fc0,this['height']=_0x59ef1d,this[_0x3703bd(0x2c9)]=_0x1e9fc0/0x2,this[_0x3703bd(0x206)]=_0x59ef1d/0x2,this['scale']=0x1,this['mapImgsFloor']=[],this['mapBlock']=[],this[_0x3703bd(0x374)]=[],this[_0x3703bd(0x437)]=[],this[_0x3703bd(0x9d)]=!![],this['centerOnBlock']=_0x5235a4=>{var _0x3ccd91=_0x3703bd,_0x78abfa=0x1;if(_0x5235a4[_0x3ccd91(0x29b)])_0x78abfa=_0x5235a4[_0x3ccd91(0x29b)];this[_0x3ccd91(0x2c9)]=_0x5235a4['x']+_0x78abfa/0x2,this[_0x3ccd91(0x206)]=_0x5235a4['y']+_0x78abfa/0x2,this[_0x3ccd91(0x9d)]=!![];},this['getZoneAtAbsRangeToPlayer']=_0x175770=>{var _0x5a94a1=_0x3703bd;if(!_0x175770||!_0x175770[_0x5a94a1(0x1e7)]||_0x175770[_0x5a94a1(0x1d9)]==undefined||!_0x175770[_0x5a94a1(0x103)]==undefined)return[];var _0x543795=[],_0x251eee=_0x175770[_0x5a94a1(0x103)],_0x5c9bc0=_0x175770[_0x5a94a1(0x1e7)],_0x255dd2=_0x175770[_0x5a94a1(0x1d9)];for(var _0x4589b8=_0x251eee['x']-_0x255dd2;_0x4589b8<_0x251eee['x']+_0x251eee['size']+_0x255dd2;_0x4589b8++)for(var _0x3b345c=_0x251eee['y']-_0x255dd2;_0x3b345c<_0x251eee['y']+_0x251eee['size']+_0x255dd2;_0x3b345c++)if(_0x4589b8<=_0x251eee['x']-_0x5c9bc0||_0x4589b8>=_0x251eee['x']+_0x251eee['size']+_0x5c9bc0-0x1||_0x3b345c<=_0x251eee['y']-_0x5c9bc0||_0x3b345c>=_0x251eee['y']+_0x251eee['size']+_0x5c9bc0-0x1){if(this['mapBlock'][_0x4589b8]&&this[_0x5a94a1(0x14a)][_0x4589b8][_0x3b345c])_0x543795[_0x5a94a1(0x448)](this[_0x5a94a1(0x14a)][_0x4589b8][_0x3b345c]);}return _0x543795;},this[_0x3703bd(0x12a)]=_0x5e046f=>{var _0x39eaa7=_0x3703bd;if(!_0x5e046f||!_0x5e046f['dir']||!_0x5e046f[_0x39eaa7(0x103)])return[];var _0x30be5e=[],_0x1685cd=_0x5e046f[_0x39eaa7(0x103)];if(_0x5e046f[_0x39eaa7(0x43b)]==_0x39eaa7(0x41f)||_0x5e046f[_0x39eaa7(0x43b)]['x']==-0x1&&_0x5e046f['dir']['y']==0x0){var _0x113b2c=_0x1685cd['x']-0x1;for(var _0x3c4316=_0x1685cd['y'];_0x3c4316<_0x1685cd['y']+_0x1685cd[_0x39eaa7(0x29b)];_0x3c4316++)if(this[_0x39eaa7(0x14a)][_0x113b2c]&&this[_0x39eaa7(0x14a)][_0x113b2c][_0x3c4316])_0x30be5e[_0x39eaa7(0x448)](this[_0x39eaa7(0x14a)][_0x113b2c][_0x3c4316]);}else{if(_0x5e046f['dir']==_0x39eaa7(0xbb)||_0x5e046f['dir']['y']==-0x1&&_0x5e046f['dir']['x']==0x0){var _0x3c4316=_0x1685cd['y']-0x1;for(var _0x113b2c=_0x1685cd['x'];_0x113b2c<_0x1685cd['x']+_0x1685cd['size'];_0x113b2c++)if(this['mapBlock'][_0x113b2c]&&this[_0x39eaa7(0x14a)][_0x113b2c][_0x3c4316])_0x30be5e[_0x39eaa7(0x448)](this[_0x39eaa7(0x14a)][_0x113b2c][_0x3c4316]);}else{if(_0x5e046f[_0x39eaa7(0x43b)]==_0x39eaa7(0x91)||_0x5e046f[_0x39eaa7(0x43b)]['x']==0x1&&_0x5e046f[_0x39eaa7(0x43b)]['y']==0x0){var _0x113b2c=_0x1685cd['x']+_0x1685cd[_0x39eaa7(0x29b)];for(var _0x3c4316=_0x1685cd['y'];_0x3c4316<_0x1685cd['y']+_0x1685cd['size'];_0x3c4316++)if(this[_0x39eaa7(0x14a)][_0x113b2c]&&this[_0x39eaa7(0x14a)][_0x113b2c][_0x3c4316])_0x30be5e[_0x39eaa7(0x448)](this['mapBlock'][_0x113b2c][_0x3c4316]);}else{if(_0x5e046f[_0x39eaa7(0x43b)]=='bot'||_0x5e046f['dir']['y']==0x1&&_0x5e046f[_0x39eaa7(0x43b)]['x']==0x0){var _0x3c4316=_0x1685cd['y']+_0x1685cd[_0x39eaa7(0x29b)];for(var _0x113b2c=_0x1685cd['x'];_0x113b2c<_0x1685cd['x']+_0x1685cd[_0x39eaa7(0x29b)];_0x113b2c++)if(this[_0x39eaa7(0x14a)][_0x113b2c]&&this[_0x39eaa7(0x14a)][_0x113b2c][_0x3c4316])_0x30be5e[_0x39eaa7(0x448)](this[_0x39eaa7(0x14a)][_0x113b2c][_0x3c4316]);}}}}return _0x30be5e;},this['getZoneAdjacentToPlayer']=_0x424c93=>{var _0x405f2a=_0x3703bd;if(!_0x424c93||!_0x424c93[_0x405f2a(0x103)])return undefined;var _0x214048=[];return _0x424c93[_0x405f2a(0x43b)]=_0x405f2a(0x41f),_0x214048=_0x214048[_0x405f2a(0xe9)](this['getZoneAdjacentToPlayerByDir'](_0x424c93)),_0x424c93[_0x405f2a(0x43b)]=_0x405f2a(0xbb),_0x214048=_0x214048[_0x405f2a(0xe9)](this[_0x405f2a(0x12a)](_0x424c93)),_0x424c93[_0x405f2a(0x43b)]=_0x405f2a(0x91),_0x214048=_0x214048['concat'](this[_0x405f2a(0x12a)](_0x424c93)),_0x424c93['dir']=_0x405f2a(0x14d),_0x214048=_0x214048[_0x405f2a(0xe9)](this[_0x405f2a(0x12a)](_0x424c93)),_0x214048;},this[_0x3703bd(0x435)]=_0x4f5640=>{var _0x2ac5c2=_0x3703bd;if(!_0x4f5640||!_0x4f5640[_0x2ac5c2(0x103)]||!_0x4f5640[_0x2ac5c2(0x43b)])return![];var _0x546125=this[_0x2ac5c2(0x12a)]({'dir':_0x4f5640[_0x2ac5c2(0x43b)],'player':_0x4f5640[_0x2ac5c2(0x103)]});if(!_0x546125||_0x546125['length']==0x0)return![];var _0x1eeaff=0x0;for(var _0x1d53fc in _0x546125){var _0x9231d0=_0x546125[_0x1d53fc][_0x2ac5c2(0x467)]();if(_0x9231d0===![]||_0x9231d0===0x0)return![];_0x1eeaff+=_0x9231d0;}return _0x1eeaff/_0x546125[_0x2ac5c2(0x1e8)];},this['generateMap']=()=>{var _0x1f255f=_0x3703bd;this[_0x1f255f(0x14a)]=[];for(var _0x5a07f2=0x0;_0x5a07f2<this[_0x1f255f(0x308)];_0x5a07f2++){this['mapBlock'][_0x5a07f2]=[];for(var _0x4cc8e6=0x0;_0x4cc8e6<this[_0x1f255f(0x28b)];_0x4cc8e6++){var _0x3d9837=new Block(_0x5a07f2,_0x4cc8e6);this[_0x1f255f(0x14a)][_0x5a07f2][_0x4cc8e6]=_0x3d9837;if(_0x5a07f2==0x0||_0x4cc8e6==0x0||_0x5a07f2==this['width']-0x1||_0x4cc8e6==this['height']-0x1){_0x3d9837[_0x1f255f(0x4e2)]={'name':_0x1f255f(0x247),'angle':Math[_0x1f255f(0x3b0)]()*Math['PI']*0x2};continue;}}}},this[_0x3703bd(0x4c2)]=()=>{var _0x1555bd=_0x3703bd;for(var _0x37635c=0x0;_0x37635c<this[_0x1555bd(0x308)];_0x37635c++){for(var _0x8ae890=0x0;_0x8ae890<this['height'];_0x8ae890++){var _0x257812=this[_0x1555bd(0x14a)][_0x37635c][_0x8ae890];if(_0x257812[_0x1555bd(0x103)])continue;var _0x770ad7=Math['floor'](Math[_0x1555bd(0x3b0)]()*0x64);if(_0x770ad7<0xa){var _0x3dae70=Math[_0x1555bd(0x311)](Math[_0x1555bd(0x3b0)]()*MAP_BOT_ELEMENT[_0x1555bd(0x1e8)]);_0x257812[_0x1555bd(0xad)]={'name':MAP_BOT_ELEMENT[_0x3dae70][_0x1555bd(0x22c)],'angle':Math['random']()*Math['PI']*0x2};}var _0x770ad7=Math[_0x1555bd(0x311)](Math[_0x1555bd(0x3b0)]()*0x64);if(_0x770ad7<0xa){var _0x3dae70=Math[_0x1555bd(0x311)](Math[_0x1555bd(0x3b0)]()*MAP_TOP_ELEMENT['length']);_0x257812[_0x1555bd(0x4e2)]={'name':MAP_TOP_ELEMENT[_0x3dae70][_0x1555bd(0x22c)],'angle':Math[_0x1555bd(0x3b0)]()*Math['PI']*0x2};}}}},this[_0x3703bd(0x8f)]=()=>{var _0x11f9a9=_0x3703bd,_0xae72f='./img/mapFloor/',_0x279edc=MAP_FLOORS;for(var _0x53d9e0 in _0x279edc)this[_0x11f9a9(0x284)][_0x279edc[_0x53d9e0]]=new myImage(_0x279edc[_0x53d9e0],_0xae72f+_0x279edc[_0x53d9e0]+_0x11f9a9(0x386));},this['initMapBotElement']=()=>{var _0x270a8f=_0x3703bd,_0x29474f='./img/mapBotElement/',_0x1a9a34=MAP_BOT_ELEMENT;for(var _0x4b3c47 in _0x1a9a34)this[_0x270a8f(0x374)][_0x1a9a34[_0x4b3c47][_0x270a8f(0x22c)]]=new myImage(_0x1a9a34[_0x4b3c47][_0x270a8f(0x22c)],_0x29474f+_0x1a9a34[_0x4b3c47][_0x270a8f(0x22c)]+_0x270a8f(0x386));},this[_0x3703bd(0x8c)]=()=>{var _0x53ac76=_0x3703bd,_0x422911='./img/mapTopElement/',_0x268edb=MAP_TOP_ELEMENT;for(var _0x203f08 in _0x268edb)this[_0x53ac76(0x437)][_0x268edb[_0x203f08]['name']]=new myImage(_0x268edb[_0x203f08][_0x53ac76(0x22c)],_0x422911+_0x268edb[_0x203f08]['name']+_0x53ac76(0x386));},this['initImgs']=()=>{var _0x62dacb=_0x3703bd;this[_0x62dacb(0x8c)](),this['initMapFloorImage'](),this['initMapBotElement']();},this[_0x3703bd(0x332)]=(_0x1c43b4,_0x8fc893,_0x566e2d)=>{var _0x135284=_0x3703bd;this['posBlockx']+=_0x1c43b4,this['posBlocky']+=_0x8fc893,this[_0x135284(0xea)]*=_0x566e2d;if(this[_0x135284(0xea)]<0.1)this[_0x135284(0xea)]=0.1;if(this[_0x135284(0xea)]>0x1)this[_0x135284(0xea)]=0x1;this['needRedraw']=!![];},this['set_drawing_map']=_0x545936=>{var _0x5e40cb=_0x3703bd;this[_0x5e40cb(0x321)]=Math[_0x5e40cb(0x311)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x5e40cb(0xea)]*this[_0x5e40cb(0x308)]),this['pixel_height']=Math[_0x5e40cb(0x311)](MAP_BLOCK_PIXELSIZE_DEFAULT*this[_0x5e40cb(0xea)]*this[_0x5e40cb(0x28b)]),this['blocksize_x']=Math['floor'](this[_0x5e40cb(0x321)]/this[_0x5e40cb(0x308)]),this[_0x5e40cb(0x2b4)]=Math[_0x5e40cb(0x311)](this[_0x5e40cb(0x163)]/this[_0x5e40cb(0x28b)]),this[_0x5e40cb(0x1f2)]=this[_0x5e40cb(0x2c9)]*this[_0x5e40cb(0x3a1)],this['pos_y']=this['posBlocky']*this[_0x5e40cb(0x2b4)],this[_0x5e40cb(0x8a)]=_0x545936['width']/0x2-this[_0x5e40cb(0x1f2)],this[_0x5e40cb(0x8e)]=_0x545936[_0x5e40cb(0x28b)]/0x2-this[_0x5e40cb(0x27c)],this[_0x5e40cb(0x7a)]=this['pos_startx']<0x0?0x0:this[_0x5e40cb(0x8a)],this[_0x5e40cb(0x2c1)]=this[_0x5e40cb(0x8e)]<0x0?0x0:this['pos_starty'],this[_0x5e40cb(0x287)]=this['pos_startx']+this[_0x5e40cb(0x321)]>=_0x545936[_0x5e40cb(0x308)]?_0x545936[_0x5e40cb(0x308)]-0x1:this['pos_startx']+this[_0x5e40cb(0x321)],this[_0x5e40cb(0x200)]=this['pos_starty']+this[_0x5e40cb(0x163)]>=_0x545936[_0x5e40cb(0x28b)]?_0x545936[_0x5e40cb(0x28b)]-0x1:this[_0x5e40cb(0x8e)]+this[_0x5e40cb(0x163)],this[_0x5e40cb(0x1cc)]=this[_0x5e40cb(0x34a)]({'x':this[_0x5e40cb(0x7a)],'y':this[_0x5e40cb(0x2c1)]}),this[_0x5e40cb(0x425)]=this[_0x5e40cb(0x34a)]({'x':this[_0x5e40cb(0x287)],'y':this[_0x5e40cb(0x200)]});if(this[_0x5e40cb(0x425)]){if(this[_0x5e40cb(0x425)]['x']>=this['width'])this[_0x5e40cb(0x425)]['x']=this[_0x5e40cb(0x308)]-0x1;if(this[_0x5e40cb(0x425)]['y']>=this[_0x5e40cb(0x28b)])this[_0x5e40cb(0x425)]['y']=this['height']-0x1;}},this[_0x3703bd(0xbf)]=(_0x11999f,_0x402a68,_0x4fb679,_0x5a3b2a,_0xa9611a)=>{var _0x4976e1=_0x3703bd;if(_0xa9611a==_0x4976e1(0x462)){var _0x328e5b=Math[_0x4976e1(0x311)](_0x4fb679+0.05*this[_0x4976e1(0x3a1)]),_0x1a1e5e=Math[_0x4976e1(0x311)](_0x5a3b2a+0.05*this[_0x4976e1(0x2b4)]),_0x151ea2=Math[_0x4976e1(0x311)](_0x4fb679+0.95*this[_0x4976e1(0x3a1)]),_0x412447=Math[_0x4976e1(0x311)](_0x5a3b2a+0.95*this[_0x4976e1(0x2b4)]);if(_0x402a68['getMoveCost']()>0x1)_0x11999f['ctx'][_0x4976e1(0x1b4)]='#ff880022';else{if(!_0x402a68[_0x4976e1(0x467)]()||_0x402a68[_0x4976e1(0x103)])_0x11999f[_0x4976e1(0x4cd)][_0x4976e1(0x1b4)]=_0x4976e1(0x158);else _0x11999f[_0x4976e1(0x4cd)]['fillStyle']=_0x4976e1(0x3fb);}_0x11999f[_0x4976e1(0x2dc)](_0x328e5b,_0x1a1e5e,_0x151ea2,_0x412447);var _0x16c2bd=new MyUI(_0x11999f,_0x328e5b,_0x1a1e5e,0x64,this[_0x4976e1(0xea)],undefined,undefined,0x1);_0x16c2bd[_0x4976e1(0x127)](_0x4976e1(0x48e)+_0x402a68['getMoveCost'](),0x14*this[_0x4976e1(0xea)],0x64,_0x4976e1(0xa6)),_0x16c2bd[_0x4976e1(0x396)]();}if(_0xa9611a==_0x4976e1(0xd2)){var _0x328e5b=Math[_0x4976e1(0x311)](_0x4fb679+0.05*this[_0x4976e1(0x3a1)]),_0x1a1e5e=Math[_0x4976e1(0x311)](_0x5a3b2a+0.05*this['blocksize_y']),_0x151ea2=Math[_0x4976e1(0x311)](_0x4fb679+0.95*this[_0x4976e1(0x3a1)]),_0x412447=Math[_0x4976e1(0x311)](_0x5a3b2a+0.95*this['blocksize_y']);_0x11999f['ctx'][_0x4976e1(0x1b4)]=_0x4976e1(0x335),_0x11999f[_0x4976e1(0x2dc)](_0x328e5b,_0x1a1e5e,_0x151ea2,_0x412447);}},this[_0x3703bd(0x236)]=(_0x23e7d7,_0x59a5f9)=>{var _0x1437cc=_0x3703bd;this[_0x1437cc(0x9d)]=![],world[_0x1437cc(0x26d)][_0x1437cc(0xcc)]=!![];if(this[_0x1437cc(0x1cc)]&&this['botright_block'])for(var _0x4b0b2e=this[_0x1437cc(0x1cc)]['x'];_0x4b0b2e<=this[_0x1437cc(0x425)]['x'];_0x4b0b2e++){for(var _0x1e3c6d=this[_0x1437cc(0x1cc)]['y'];_0x1e3c6d<=this[_0x1437cc(0x425)]['y'];_0x1e3c6d++){var _0x311b2a=this[_0x1437cc(0x380)](_0x4b0b2e,_0x1e3c6d),_0x5420a9=this[_0x1437cc(0x14a)][_0x4b0b2e][_0x1e3c6d],_0x7a095b=undefined;if(!_0x5420a9[_0x1437cc(0x311)])_0x7a095b=this[_0x1437cc(0x284)][_0x1437cc(0x1f3)];else _0x7a095b=this[_0x1437cc(0x284)][_0x5420a9[_0x1437cc(0x311)]];if(_0x7a095b&&_0x7a095b[_0x1437cc(0x256)]&&_0x311b2a)_0x23e7d7[_0x1437cc(0x204)](_0x7a095b[_0x1437cc(0x2df)],_0x311b2a['x'],_0x311b2a['y'],this[_0x1437cc(0x3a1)]+0x1,this[_0x1437cc(0x2b4)]+0x1);else this[_0x1437cc(0x9d)]=!![];if(_0x5420a9[_0x1437cc(0xad)]){_0x7a095b=this[_0x1437cc(0x374)][_0x5420a9[_0x1437cc(0xad)]['name']];var _0x4df16b=_0x311b2a['x']+this[_0x1437cc(0x3a1)]/0x2,_0xd84b3a=_0x311b2a['y']+this[_0x1437cc(0x2b4)]/0x2;if(_0x7a095b)_0x23e7d7[_0x1437cc(0x438)](_0x7a095b[_0x1437cc(0x2df)],_0x4df16b,_0xd84b3a,this[_0x1437cc(0xea)]*0x2,_0x5420a9[_0x1437cc(0xad)]['angle']);}if(_0x5420a9[_0x1437cc(0x4e2)]){_0x7a095b=this[_0x1437cc(0x437)][_0x5420a9['topElem']['name']];var _0x4df16b=_0x311b2a['x']+this['blocksize_x']/0x2,_0xd84b3a=_0x311b2a['y']+this[_0x1437cc(0x2b4)]/0x2;if(_0x7a095b)_0x59a5f9[_0x1437cc(0x438)](_0x7a095b[_0x1437cc(0x2df)],_0x4df16b,_0xd84b3a,this[_0x1437cc(0xea)]*0x2,_0x5420a9[_0x1437cc(0x4e2)][_0x1437cc(0x329)]);}if(world['GameUI'][_0x1437cc(0x443)]&&world[_0x1437cc(0x3c8)]['highlightZone']['zone']&&world[_0x1437cc(0x3c8)][_0x1437cc(0x443)]['zone'][_0x1437cc(0x2ea)](_0x42b836=>_0x42b836==_0x5420a9))this[_0x1437cc(0xbf)](_0x23e7d7,_0x5420a9,_0x311b2a['x'],_0x311b2a['y'],world[_0x1437cc(0x3c8)][_0x1437cc(0x443)]['type']);}}},this[_0x3703bd(0x34a)]=_0xa28ac5=>{var _0x525b4a=_0x3703bd;if(_0xa28ac5['x']<this[_0x525b4a(0x7a)]||_0xa28ac5['y']<this[_0x525b4a(0x2c1)]||_0xa28ac5['x']>this[_0x525b4a(0x287)]||_0xa28ac5['y']>this[_0x525b4a(0x200)]||this[_0x525b4a(0x3a1)]==0x0||this['blocksize_y']==0x0)return undefined;var _0x445290={'x':Math['floor']((_0xa28ac5['x']-this[_0x525b4a(0x8a)])/this[_0x525b4a(0x3a1)]),'y':Math['floor']((_0xa28ac5['y']-this['pos_starty'])/this[_0x525b4a(0x2b4)])};if(_0x445290['x']>=this[_0x525b4a(0x308)]&&_0x445290['x']>0x0)_0x445290['x']=this[_0x525b4a(0x308)]-0x1;if(_0x445290['y']>=this[_0x525b4a(0x28b)]&&_0x445290['y']>0x0)_0x445290['y']=this[_0x525b4a(0x28b)]-0x1;return this[_0x525b4a(0x14a)][_0x445290['x']][_0x445290['y']];},this[_0x3703bd(0x380)]=(_0x237cb7,_0x5278ca)=>{var _0x5bba6a=_0x3703bd;if(_0x237cb7<0x0||_0x5278ca<0x0||_0x237cb7>=this[_0x5bba6a(0x308)]||_0x5278ca>=this[_0x5bba6a(0x28b)])return undefined;return{'x':Math[_0x5bba6a(0x311)](this['pos_startx']+this[_0x5bba6a(0x3a1)]*_0x237cb7),'y':Math[_0x5bba6a(0x311)](this[_0x5bba6a(0x8e)]+this[_0x5bba6a(0x2b4)]*_0x5278ca)};},this[_0x3703bd(0x2a6)]=(_0x3013c3,_0x89d2f9)=>{var _0x1fac32=_0x3703bd;return{'x':this['pos_startx']+this[_0x1fac32(0x3a1)]*_0x3013c3,'y':this[_0x1fac32(0x8e)]+this[_0x1fac32(0x2b4)]*_0x89d2f9};},this[_0x3703bd(0x30a)]=(_0xd9b85d,_0x5282d9,_0x588d69,_0x5e5e07)=>{var _0x443638=_0x3703bd,_0x22b6d5=[];for(var _0x38d74e=_0xd9b85d-_0x5e5e07;_0x38d74e<=_0xd9b85d+_0x5e5e07;r++){for(var _0x1d13f8=_0x5282d9-_0x5e5e07;_0x1d13f8<=_0x5282d9+_0x5e5e07;r++){var _0x4ce0bd=this[_0x443638(0x14a)][_0x38d74e][_0x1d13f8];if(_0x4ce0bd&&distBlock(_0xd9b85d,_0x5282d9,_0x4ce0bd['x'],_0x4ce0bd['y'])>=_0x588d69&&distBlock(_0xd9b85d,_0x5282d9,_0x4ce0bd['x'],_0x4ce0bd['y'])<=_0x5e5e07)_0x22b6d5[_0x443638(0x448)](_0x4ce0bd);}}return _0x22b6d5;},this[_0x3703bd(0x37a)]=(_0x55168d,_0x254bd0,_0x504740,_0xba9e14)=>{var _0x5eb09f=_0x3703bd,_0x4796c5=[];for(var _0x1de6d7=Math[_0x5eb09f(0x311)](_0x55168d-_0xba9e14);_0x1de6d7<=Math['round'](_0x55168d+_0xba9e14);r++){for(var _0x2b3ffb=Math[_0x5eb09f(0x311)](_0x254bd0-_0xba9e14);_0x2b3ffb<=Math[_0x5eb09f(0x118)](_0x254bd0+_0xba9e14);r++){var _0x43f82e=this[_0x5eb09f(0x14a)][_0x1de6d7][_0x2b3ffb];if(_0x43f82e&&dist(_0x55168d,_0x254bd0,_0x43f82e['x'],_0x43f82e['y'])>=_0x504740&&Block(_0x55168d,_0x254bd0,_0x43f82e['x'],_0x43f82e['y'])<=_0xba9e14)_0x4796c5[_0x5eb09f(0x448)](_0x43f82e);}}return _0x4796c5;};},PLAYER_DEFAULT_SIZEX=0xc8,PLAYER_DEFAULT_SIZEY=0xc8,PLAYER_DEFAULT_HAND_SIZE_X=0x28,PLAYER_DEFAULT_HAND_SIZE_Y=0x28,PLAYER_ANIMATION_DEFAULT=0x0,PLAYER_ANIMATION_MOVING=0x1,PLAYER_ANIMATION_ATTACK_DEFAULT=0x2,PLAYER_ANIMATION_DODGE=0x3,PLAYER_DEFAUTL_MOVECOST=0x14,TEAM_HUMAN=0x0,TEAM_AI=0x1,AP_COST_NOWEAPON=0x21,PLAYER_NAME_FONT=_0x3c4aa9(0x3d9),BONUS_DESCRIPTION=[];var id=0x1;BONUS_AXE_FOREST_WOOD=id++,BONUS_DESCRIPTION[BONUS_AXE_FOREST_WOOD]='get\x20x2\x20more\x20wood\x20in\x20forest',BONUS_PICKAXE_MINE=id++,BONUS_DESCRIPTION[BONUS_PICKAXE_MINE]=_0x3c4aa9(0x34d),BONUS_FORGE_UPPGRADE=id++,BONUS_DESCRIPTION[BONUS_FORGE_UPPGRADE]=_0x3c4aa9(0x20b),BONUS_HUNTER_FOREST=id++,BONUS_DESCRIPTION[BONUS_HUNTER_FOREST]='Hunt\x20deadAnimal\x20in\x20the\x20forest',BONUS_BUTCHER=id++,BONUS_DESCRIPTION[BONUS_BUTCHER]=_0x3c4aa9(0x1de),Player=function(_0x51e9ba,_0x34c66a,_0x12eef1,_0x2720b8,_0x51353a){var _0x38c23d=_0x3c4aa9;this['x']=_0x51e9ba,this['y']=_0x34c66a,this[_0x38c23d(0x29b)]=_0x12eef1,this[_0x38c23d(0x245)]=_0x51353a,this['AI']=_0x51353a==TEAM_HUMAN?undefined:{},this[_0x38c23d(0x3e5)]=undefined,this[_0x38c23d(0x1eb)]=undefined,this[_0x38c23d(0x106)]=_0x2720b8,this[_0x38c23d(0x43b)]=[0x1,0x0],this[_0x38c23d(0x1b8)]=undefined,this[_0x38c23d(0x3c1)]=![],this['handImg']=undefined,this['animation']=[],this[_0x38c23d(0x388)]=PLAYER_DEFAUTL_MOVECOST,this[_0x38c23d(0x22c)]=_0x38c23d(0x4dd),this[_0x38c23d(0x1e5)]=0x64,this[_0x38c23d(0x77)]=0x0,this[_0x38c23d(0x4b9)]=0x0,this['ActionPointMax']=0x64,this[_0x38c23d(0x3dc)]=0x64,this['life']=this['lifeMax'],this[_0x38c23d(0x4d9)]=![],(this[_0x38c23d(0x1dc)]={'Strength':0xa,'Dexterity':0xa},this[_0x38c23d(0x3aa)]=_0x29d885=>{var _0x3384cf=_0x38c23d;if(_0x29d885==undefined||_0x29d885<0x0)return![];this[_0x3384cf(0xab)]-=_0x29d885,world['players'][_0x3384cf(0xb6)][_0x3384cf(0x2ed)]({'type':this[_0x3384cf(0x245)],'txt':this[_0x3384cf(0x22c)]+_0x3384cf(0x275)+_0x29d885+'\x20life\x20point'});if(this[_0x3384cf(0xab)]<=0x0){world['players'][_0x3384cf(0xb6)][_0x3384cf(0x2ed)]({'type':this[_0x3384cf(0x245)],'txt':this['name']+'\x20is\x20dead'}),world[_0x3384cf(0x26d)][_0x3384cf(0x42f)](this);if(this==world['GameUI']['playersSelected'])world[_0x3384cf(0x3c8)][_0x3384cf(0xa8)]=undefined;if(this==world[_0x3384cf(0x26d)][_0x3384cf(0x93)])world['players'][_0x3384cf(0x93)]=undefined;}return!![];}),this[_0x38c23d(0x44a)]=_0x25e5f7=>{var _0x323f79=_0x38c23d;if(!_0x25e5f7||_0x25e5f7[_0x323f79(0x1e8)]<0x1)return![];var _0x32b0f3=0x0;for(var _0x5a9623 in _0x25e5f7){world[_0x323f79(0x26d)][_0x323f79(0xb6)][_0x323f79(0x2ed)]({'type':this[_0x323f79(0x245)],'txt':this[_0x323f79(0x22c)]+'\x20received\x20damage\x20:\x20'+_0x25e5f7[_0x5a9623][_0x323f79(0x3b6)]+'\x20of\x20type\x20'+_0x25e5f7[_0x5a9623][_0x323f79(0x3ad)]}),_0x32b0f3+=_0x25e5f7[_0x5a9623][_0x323f79(0x3b6)];}var _0x28b32d=this[_0x323f79(0x41e)]?this[_0x323f79(0x41e)]['calculatDamageFromAttack']({'damages':_0x25e5f7}):_0x32b0f3;return this[_0x323f79(0x3aa)](_0x28b32d);},this[_0x38c23d(0xee)]=()=>{var _0x4c7074=_0x38c23d;this[_0x4c7074(0x191)]=[{'name':_0x4c7074(0xb0),'type':_0x4c7074(0x462),'description':_0x4c7074(0xbd),'callback':this[_0x4c7074(0x292)],'zone_target_area':world[_0x4c7074(0x15d)][_0x4c7074(0x2dd)],'zone_selecting_input':{'player':this,'type':_0x4c7074(0x462)},'windowInfo':[{'txt':_0x4c7074(0x34b),'callback':this['GetMovePrice']},{'txt':_0x4c7074(0x242),'callback':this[_0x4c7074(0x466)]}]},{'name':'Rotate','type':_0x4c7074(0x462),'description':_0x4c7074(0x3d1),'callback':this['rotate'],'zone_target_area':world[_0x4c7074(0x15d)]['getZoneAtAbsRangeToPlayer'],'zone_selecting_input':{'player':this,'rangeMin':0x1,'rangeMax':0x1,'type':_0x4c7074(0xd2)},'windowInfo':[{'txt':'direction\x20:\x20','callback':this[_0x4c7074(0x23c)]}]}];if(this[_0x4c7074(0xaf)]){var _0x83797f={'name':'Attack','type':_0x4c7074(0x3af),'description':_0x4c7074(0x25a),'callback':this[_0x4c7074(0x3af)],'zone_target_area':this[this[_0x4c7074(0xaf)][_0x4c7074(0x4d7)][_0x4c7074(0x33a)]],'zone_selecting_input':{...this[_0x4c7074(0xaf)][_0x4c7074(0x4d7)][_0x4c7074(0x232)]},'windowInfo':[{'txt':'chance\x20to\x20hit\x20:\x20%','callback':this['getChanceOfHit']},{'txt':'attack\x20with\x20:\x20','callback':this[_0x4c7074(0x373)]}]};_0x83797f[_0x4c7074(0x408)][_0x4c7074(0x103)]=this,_0x83797f[_0x4c7074(0x408)][_0x4c7074(0x3ad)]='rotate',this[_0x4c7074(0x191)][_0x4c7074(0x448)](_0x83797f);}else{var _0x83797f={'name':_0x4c7074(0x3e4),'type':_0x4c7074(0x3af),'description':_0x4c7074(0x25a),'callback':this[_0x4c7074(0x3af)],'zone_target_area':this['getBlockAdjacent'],'zone_selecting_input':{},'windowInfo':[{'txt':_0x4c7074(0x1f7),'callback':this[_0x4c7074(0x4a0)]},{'txt':_0x4c7074(0x39e),'callback':()=>{}}]};_0x83797f['zone_selecting_input'][_0x4c7074(0x103)]=this,_0x83797f[_0x4c7074(0x408)]['type']=_0x4c7074(0xd2),this[_0x4c7074(0x191)]['push'](_0x83797f);}},this[_0x38c23d(0x373)]=()=>{var _0x4432ef=_0x38c23d;if(this[_0x4432ef(0xaf)])return this[_0x4432ef(0xaf)][_0x4432ef(0x2e6)]();},this['ReturnBlockTargeted']=_0x5c9628=>{var _0x5ee324=_0x38c23d;if(!_0x5c9628||!_0x5c9628[_0x5ee324(0x36d)])return undefined;return[_0x5c9628[_0x5ee324(0x36d)]];},this[_0x38c23d(0x244)]=()=>{var _0x4dc1df=_0x38c23d;console[_0x4dc1df(0x451)](_0x4dc1df(0x159));var _0x273449=[];for(var _0x532e43=this['x']-0x1;_0x532e43<=this['x']+this[_0x4dc1df(0x29b)];_0x532e43++)for(var _0x5db40a=this['y']-0x1;_0x5db40a<=this['y']+this['size'];_0x5db40a++)if(!((_0x532e43==this['x']-0x1||_0x532e43==this['x']+this[_0x4dc1df(0x29b)])&&(_0x5db40a==this['y']-0x1||_0x5db40a==this['y']+this['size']))&&!(_0x532e43<=this['x']+this[_0x4dc1df(0x29b)]-0x1&&_0x532e43>=this['x']&&_0x5db40a<=this['y']+this[_0x4dc1df(0x29b)]-0x1&&_0x5db40a>=this['y'])){if(world[_0x4dc1df(0x15d)][_0x4dc1df(0x14a)][_0x532e43]&&world[_0x4dc1df(0x15d)]['mapBlock'][_0x532e43][_0x5db40a])_0x273449[_0x4dc1df(0x448)](world[_0x4dc1df(0x15d)][_0x4dc1df(0x14a)][_0x532e43][_0x5db40a]);}return _0x273449;},this['getBlockUnderPlayer']=()=>{var _0x50e371=_0x38c23d,_0xaf2f4d=[];for(var _0x30848a=this['x'];_0x30848a<this['x']+this[_0x50e371(0x29b)];_0x30848a++)for(var _0x49463c=this['y'];_0x49463c<this['y']+this['size'];_0x49463c++)_0xaf2f4d[_0x50e371(0x448)](world[_0x50e371(0x15d)]['mapBlock'][_0x30848a][_0x49463c]);},this[_0x38c23d(0x98)]=_0x53c0e5=>{var _0x114d34=_0x38c23d;if(!_0x53c0e5||!_0x53c0e5[_0x114d34(0x36d)])return undefined;var _0xb71931=0x1,_0x4a6663=0x1;_0x53c0e5[_0x114d34(0x47e)]&&(_0xb71931=_0x53c0e5[_0x114d34(0x47e)][_0x114d34(0x1e7)]?_0x53c0e5[_0x114d34(0x47e)][_0x114d34(0x1e7)]:0x1,_0x4a6663=_0x53c0e5[_0x114d34(0x47e)]['rangeMax']?_0x53c0e5[_0x114d34(0x47e)][_0x114d34(0x1d9)]:0x1);if(_0xb71931>_0x4a6663){var _0x2f6d6e=_0xb71931;_0xb71931=_0x4a6663,_0x4a6663=_0x2f6d6e;}var _0xba7106=[],_0x2f9f0a=_0x53c0e5[_0x114d34(0x36d)],_0x541a88=this['get_direction_from_pos'](_0x2f9f0a),_0x1ee24d=-0x1,_0x28c844=_0x2f9f0a['x'],_0x19c28d=_0x2f9f0a['y'],_0x7b9390=world[_0x114d34(0x15d)][_0x114d34(0x14a)];while(++_0x1ee24d<=_0x4a6663){if(_0x1ee24d>=_0xb71931){if(_0x7b9390[_0x28c844]&&_0x7b9390[_0x28c844][_0x19c28d])_0xba7106[_0x114d34(0x448)](_0x7b9390[_0x28c844][_0x19c28d]);}_0x28c844+=_0x541a88[0x0],_0x19c28d+=_0x541a88[0x1];}return _0xba7106;},this['getBlocksAtRange']=_0x4bd64b=>{var _0x2854eb=_0x38c23d;if(!_0x4bd64b||!_0x4bd64b['block'])return undefined;var _0x3976ba=0x1,_0x375374=0x1;_0x4bd64b[_0x2854eb(0x47e)]&&(_0x3976ba=_0x4bd64b[_0x2854eb(0x47e)][_0x2854eb(0x1e7)]?_0x4bd64b[_0x2854eb(0x47e)][_0x2854eb(0x1e7)]:0x1,_0x375374=_0x4bd64b[_0x2854eb(0x47e)][_0x2854eb(0x1d9)]?_0x4bd64b[_0x2854eb(0x47e)]['rangeMax']:0x1);if(_0x3976ba>_0x375374){var _0x13ed7d=_0x3976ba;_0x3976ba=_0x375374,_0x375374=_0x13ed7d;}var _0x5ace08=[],_0x3e24dc=_0x4bd64b[_0x2854eb(0x36d)],_0x3d7074=world['map'][_0x2854eb(0x14a)];for(var _0x394710=_0x3e24dc['x']-_0x375374;_0x394710<=_0x3e24dc['x']+_0x375374;_0x394710++){for(var _0x55497d=_0x3e24dc['y']-_0x375374;_0x55497d<=_0x3e24dc['y']+_0x375374;_0x55497d++){var _0x2e71cb=dist(_0x3e24dc['x'],_0x3e24dc['y'],_0x394710,_0x55497d);if(_0x2e71cb<_0x3976ba||_0x2e71cb>_0x375374)continue;if(_0x3d7074[_0x394710]&&_0x3d7074[_0x394710][_0x55497d])_0x5ace08[_0x2854eb(0x448)](_0x3d7074[_0x394710][_0x55497d]);}}return _0x5ace08;},this[_0x38c23d(0x16b)]=_0x2e4388=>{var _0x39ce3e=_0x38c23d;if(!_0x2e4388||_0x2e4388[_0x39ce3e(0x1e7)]==undefined||_0x2e4388[_0x39ce3e(0x1d9)]==undefined)return[];var _0x2d2d91=[],_0x3dc476=this,_0x58ba27=_0x2e4388[_0x39ce3e(0x1e7)],_0x4b2bcd=_0x2e4388[_0x39ce3e(0x1d9)];for(var _0x2c37d3=_0x3dc476['x']-_0x4b2bcd;_0x2c37d3<_0x3dc476['x']+_0x3dc476['size']+_0x4b2bcd;_0x2c37d3++)for(var _0x167582=_0x3dc476['y']-_0x4b2bcd;_0x167582<_0x3dc476['y']+_0x3dc476['size']+_0x4b2bcd;_0x167582++)if(_0x2c37d3<=_0x3dc476['x']-_0x58ba27||_0x2c37d3>=_0x3dc476['x']+_0x3dc476[_0x39ce3e(0x29b)]+_0x58ba27-0x1||_0x167582<=_0x3dc476['y']-_0x58ba27||_0x167582>=_0x3dc476['y']+_0x3dc476[_0x39ce3e(0x29b)]+_0x58ba27-0x1){if(world[_0x39ce3e(0x15d)][_0x39ce3e(0x14a)][_0x2c37d3]&&world[_0x39ce3e(0x15d)]['mapBlock'][_0x2c37d3][_0x167582])_0x2d2d91['push'](world[_0x39ce3e(0x15d)][_0x39ce3e(0x14a)][_0x2c37d3][_0x167582]);}return _0x2d2d91;},this[_0x38c23d(0x4cc)]=_0x2ee2ad=>{var _0xa5a7c4=_0x38c23d;if(!_0x2ee2ad||!_0x2ee2ad['block'])return undefined;var _0x9ca43c=_0x2ee2ad[_0xa5a7c4(0x36d)],_0x24a513=this['x']+this[_0xa5a7c4(0x29b)]/0x2,_0x2401f9=this['y']+this['size']/0x2;_0x14408=_0x9ca43c['x']-_0x24a513+0.5,_0x59d043=_0x9ca43c['y']-_0x2401f9+0.5;return Math[_0xa5a7c4(0xdd)](_0x14408*_0x14408+_0x59d043*_0x59d043);if(_0x9ca43c[_0xa5a7c4(0x103)]==this)return 0x0;var _0x14408;if(this['x']>=_0x9ca43c['x']&&this['x']+this[_0xa5a7c4(0x29b)]-0x1<=_0x9ca43c['x'])_0x14408=0x0;else{if(this['x']<_0x9ca43c['x'])_0x14408=this['x']-_0x9ca43c['x'];else _0x14408=this['x']+this['size']-_0x9ca43c['x']-0x1;}var _0x59d043;if(this['y']>=_0x9ca43c['y']&&this['y']+this[_0xa5a7c4(0x29b)]-0x1<=_0x9ca43c['y'])_0x59d043=0x0;else{if(this['x']<_0x9ca43c['x'])_0x59d043=this['y']-_0x9ca43c['y'];else _0x59d043=this['y']+this[_0xa5a7c4(0x29b)]-_0x9ca43c['y']-0x1;}return Math['sqrt'](_0x14408*_0x14408+_0x59d043*_0x59d043);},this[_0x38c23d(0x413)]=_0x1eb1ab=>{var _0x19347f=_0x38c23d;if(!_0x1eb1ab||!_0x1eb1ab[_0x19347f(0x1e7)]||!_0x1eb1ab['rangeMax'])return[];var _0x2dae99=[],_0x168c41=this,_0x14be41=_0x168c41['x']+_0x168c41[_0x19347f(0x29b)]/0x2-0.5,_0x143202=_0x168c41['y']+_0x168c41[_0x19347f(0x29b)]/0x2-0.5,_0x478ad9=_0x1eb1ab[_0x19347f(0x1e7)]+_0x168c41[_0x19347f(0x29b)]/0x2-0.5,_0x1a7541=_0x1eb1ab[_0x19347f(0x1d9)]+_0x168c41[_0x19347f(0x29b)]/0x2-0.5;for(var _0x22c80d=Math[_0x19347f(0x311)](_0x168c41['x']-_0x1a7541);_0x22c80d<=Math[_0x19347f(0x217)](_0x168c41['x']+_0x168c41[_0x19347f(0x29b)]-0x1+_0x1a7541);_0x22c80d++){for(var _0x2a0254=Math[_0x19347f(0x311)](_0x168c41['y']-_0x1a7541);_0x2a0254<=Math['ceil'](_0x168c41['y']+_0x168c41[_0x19347f(0x29b)]-0x1+_0x1a7541);_0x2a0254++){if(!world[_0x19347f(0x15d)][_0x19347f(0x14a)][_0x22c80d]||!world[_0x19347f(0x15d)][_0x19347f(0x14a)][_0x22c80d][_0x2a0254])continue;var _0x58a617=this['getDistToABlock']({'block':world['map'][_0x19347f(0x14a)][_0x22c80d][_0x2a0254]});if(world[_0x19347f(0x15d)][_0x19347f(0x14a)][_0x22c80d]&&world[_0x19347f(0x15d)]['mapBlock'][_0x22c80d][_0x2a0254]&&_0x58a617<=_0x1a7541&&_0x58a617>=_0x478ad9)_0x2dae99['push'](world['map'][_0x19347f(0x14a)][_0x22c80d][_0x2a0254]);}}return _0x2dae99;},this[_0x38c23d(0x3dd)]=_0xf7bd8f=>{var _0x5b6805=_0x38c23d;if(!this[_0x5b6805(0xff)])this[_0x5b6805(0xff)]=PLAYER_FACE_IMG[Math[_0x5b6805(0x311)](Math[_0x5b6805(0x3b0)]()*PLAYER_FACE_IMG['length'])];if(!this[_0x5b6805(0x474)])this['body_type']=PLAYER_BODY_IMG[Math[_0x5b6805(0x311)](Math['random']()*PLAYER_BODY_IMG[_0x5b6805(0x1e8)])];var _0xe2a689=[];_0xe2a689[_0x5b6805(0x448)]({'name':this[_0x5b6805(0x474)],'needColor':!![]}),_0xe2a689[_0x5b6805(0x448)]({'name':this[_0x5b6805(0xff)],'needColor':![]});if(this[_0x5b6805(0x41e)])_0xe2a689[_0x5b6805(0x448)]({'name':this[_0x5b6805(0x41e)][_0x5b6805(0x22c)],'needColor':![]});for(var _0x13af6d in _0xe2a689)if(!_0xf7bd8f[_0xe2a689[_0x13af6d][_0x5b6805(0x22c)]]||!_0xf7bd8f[_0xe2a689[_0x13af6d]['name']]['ready'])return console[_0x5b6805(0x451)](_0x5b6805(0x360)+_0xe2a689[_0x13af6d][_0x5b6805(0x22c)]);var _0x1f5b37=document['createElement'](_0x5b6805(0x17d));_0x1f5b37['width']=PLAYER_DEFAULT_SIZEX,_0x1f5b37[_0x5b6805(0x28b)]=PLAYER_DEFAULT_SIZEY;var _0x3886c2=_0x1f5b37['getContext']('2d');for(var _0x13af6d in _0xe2a689){var _0x2fadea=_0xe2a689[_0x13af6d][_0x5b6805(0x22c)];if(!_0xf7bd8f[_0x2fadea])return;var _0x1d0114=undefined;if(_0xe2a689[_0x13af6d][_0x5b6805(0x464)])_0x1d0114=_0xf7bd8f[_0x2fadea][_0x5b6805(0xf1)](0x0,0xff,0x0,this[_0x5b6805(0x106)]['r'],this[_0x5b6805(0x106)]['g'],this[_0x5b6805(0x106)]['b']);else _0x1d0114=_0xf7bd8f[_0x2fadea]['img'];if(!_0x1d0114||!_0x1d0114['complete'])return![];_0x3886c2[_0x5b6805(0x3c5)](_0x1d0114,0x0,0x0);}var _0x1d0114=new Image();_0x1d0114['src']=_0x1f5b37['toDataURL'](),_0x1d0114[_0x5b6805(0x2fd)]()[_0x5b6805(0x144)](()=>{var _0x161bfd=_0x5b6805;console[_0x161bfd(0x451)](_0x161bfd(0x39c)),this['bodyPartImgReady']=!![];if(world['villageUI'])world[_0x161bfd(0x497)][_0x161bfd(0x9d)]=!![];if(world[_0x161bfd(0x3c8)])world[_0x161bfd(0x3c8)][_0x161bfd(0x9d)]=!![];}),this[_0x5b6805(0x1b8)]=_0x1d0114;if(!_0xf7bd8f['hand']||!_0xf7bd8f['hand'][_0x5b6805(0x2df)]['complete'])return![];var _0x1d0114=_0xf7bd8f[_0x5b6805(0x371)][_0x5b6805(0xf1)](0x0,0xff,0x0,this[_0x5b6805(0x106)]['r'],this[_0x5b6805(0x106)]['g'],this[_0x5b6805(0x106)]['b']);if(!_0x1d0114)return![];return this[_0x5b6805(0x25f)]=_0x1d0114,!![];},this[_0x38c23d(0x23c)]=_0x112970=>{var _0x23f03b=_0x38c23d;if(_0x112970[_0x23f03b(0x36d)])_0x112970=_0x112970[_0x23f03b(0x36d)];var _0x4e0013=Math['atan2'](-(_0x112970['y']-this['y']-this['size']/0x2+0.5),_0x112970['x']-this['x']-this['size']/0x2+0.5);if(_0x4e0013>Math['PI']*0x7/0x8)return[-0x1,0x0];if(_0x4e0013>Math['PI']*0x5/0x8)return[-0x1,-0x1];if(_0x4e0013>Math['PI']*0x3/0x8)return[0x0,-0x1];if(_0x4e0013>Math['PI']*0x1/0x8)return[0x1,-0x1];if(_0x4e0013>-Math['PI']*0x1/0x8)return[0x1,0x0];if(_0x4e0013>-Math['PI']*0x3/0x8)return[0x1,0x1];if(_0x4e0013>-Math['PI']*0x5/0x8)return[0x0,0x1];if(_0x4e0013>-Math['PI']*0x7/0x8)return[-0x1,0x1];else{if(_0x4e0013>=-Math['PI'])return[-0x1,0x0];}return[-0x1,0x0];},this[_0x38c23d(0xd2)]=_0x27df6c=>{var _0x3524f0=_0x38c23d,_0x46bd23=_0x27df6c[_0x3524f0(0x36d)];if(!_0x46bd23||_0x46bd23['x']==undefined||_0x46bd23['y']==undefined)return![];var _0x3b28d8=this[_0x3524f0(0x23c)](_0x46bd23);if(_0x3b28d8)this['dir']=_0x3b28d8;else return![];return!![];},this[_0x38c23d(0x196)]=(_0x209201,_0x44a6cc)=>{var _0x571a14=_0x38c23d;for(var _0x243acc=this['x'];_0x243acc<this['x']+this[_0x571a14(0x29b)];_0x243acc++)for(var _0x5a45e7=this['y'];_0x5a45e7<this['y']+this['size'];_0x5a45e7++)_0x44a6cc[_0x571a14(0x14a)][_0x243acc][_0x5a45e7][_0x571a14(0x103)]=undefined;for(var _0x243acc=_0x209201['x'];_0x243acc<_0x209201['x']+this[_0x571a14(0x29b)];_0x243acc++){for(var _0x5a45e7=_0x209201['y'];_0x5a45e7<_0x209201['y']+this['size'];_0x5a45e7++){_0x44a6cc[_0x571a14(0x14a)][_0x243acc][_0x5a45e7][_0x571a14(0x103)]=this;}}this['x']=_0x209201['x'],this['y']=_0x209201['y'];},this[_0x38c23d(0x32e)]=_0x4f7056=>{var _0x3a0d20=_0x38c23d;if(!_0x4f7056||!_0x4f7056['block']||_0x4f7056['block']['x']==undefined||_0x4f7056['block']['y']==undefined)return console[_0x3a0d20(0x451)](_0x3a0d20(0x2a8)),![];var _0x37a001={'x':_0x4f7056[_0x3a0d20(0x36d)]['x'],'y':_0x4f7056['block']['y']},_0x4ba25b=world['map'];if(_0x37a001['x']+this['size']-0x1>=_0x4ba25b[_0x3a0d20(0x308)]||_0x37a001['x']<0x0||_0x37a001['y']<0x0||_0x37a001['y']+this[_0x3a0d20(0x29b)]-0x1>=_0x4ba25b['height'])return console[_0x3a0d20(0x451)](_0x3a0d20(0x3f6)+[_0x37a001['x'],_0x37a001['y']]),![];var _0x5d4be0;if(_0x37a001['x']==this['x']-0x1&&_0x37a001['y']>=this['y']&&this['y']+this[_0x3a0d20(0x29b)]>_0x37a001['y'])_0x37a001['y']=this['y'],_0x5d4be0=_0x3a0d20(0x41f);else{if(_0x37a001['y']==this['y']-0x1&&_0x37a001['x']>=this['x']&&this['x']+this['size']>_0x37a001['x'])_0x37a001['x']=this['x'],_0x5d4be0='top';else{if(_0x37a001['x']==this['x']+this[_0x3a0d20(0x29b)]&&_0x37a001['y']>=this['y']&&this['y']+this[_0x3a0d20(0x29b)]>_0x37a001['y'])_0x37a001['y']=this['y'],_0x37a001['x']=this['x']+0x1,_0x5d4be0=_0x3a0d20(0x91);else{if(_0x37a001['y']==this['y']+this['size']&&_0x37a001['x']>=this['x']&&this['x']+this[_0x3a0d20(0x29b)]>_0x37a001['x'])_0x37a001['x']=this['x'],_0x37a001['y']=this['y']+0x1,_0x5d4be0=_0x3a0d20(0x14d);else return console[_0x3a0d20(0x451)](_0x3a0d20(0x291)+[this['x'],this['y'],_0x37a001['x'],_0x37a001['y']]),![];}}}for(var _0x4eeee4=_0x37a001['x'];_0x4eeee4<_0x37a001['x']+this['size'];_0x4eeee4++){for(var _0x3df91b=_0x37a001['y'];_0x3df91b<_0x37a001['y']+this['size'];_0x3df91b++){if(!this[_0x3a0d20(0x3e5)]&&_0x4ba25b['mapBlock'][_0x4eeee4][_0x3df91b][_0x3a0d20(0x103)]&&_0x4ba25b['mapBlock'][_0x4eeee4][_0x3df91b]['player']!=this||this[_0x3a0d20(0x3e5)]&&_0x4ba25b[_0x3a0d20(0x14a)][_0x4eeee4][_0x3df91b][_0x3a0d20(0x103)]&&this[_0x3a0d20(0x1eb)]!=_0x4ba25b[_0x3a0d20(0x14a)][_0x4eeee4][_0x3df91b]['player'])return console[_0x3a0d20(0x451)](_0x3a0d20(0x42e)+[this['ghost'],this[_0x3a0d20(0x1eb)],this['ghostFrom']==_0x4ba25b[_0x3a0d20(0x14a)][_0x4eeee4][_0x3df91b][_0x3a0d20(0x103)]]),![];}}var _0x15b304=world[_0x3a0d20(0x15d)][_0x3a0d20(0x435)]({'player':this,'dir':_0x5d4be0});if(_0x15b304===![])return console[_0x3a0d20(0x451)](_0x3a0d20(0x348)+[_0x37a001['x'],_0x37a001['y']]),![];return{'dir':_0x5d4be0,'cost':Math[_0x3a0d20(0x311)](_0x15b304*this[_0x3a0d20(0x388)])};},this['GetMovePrice']=_0x2e7acf=>{var _0xdc8088=_0x38c23d,_0x32b63a=this[_0xdc8088(0x32e)](_0x2e7acf);if(_0x32b63a)return _0x32b63a['cost'];return![];},this[_0x38c23d(0x466)]=_0x4f3600=>{var _0x3a704b=_0x38c23d,_0x2ea4f8=this[_0x3a704b(0x32e)](_0x4f3600);if(_0x2ea4f8)return _0x2ea4f8[_0x3a704b(0x43b)];return![];},this[_0x38c23d(0x292)]=_0x2ba50e=>{var _0x223026=_0x38c23d;if(!_0x2ba50e||!_0x2ba50e[_0x223026(0x36d)]||_0x2ba50e[_0x223026(0x36d)]['x']==undefined||_0x2ba50e['block']['y']==undefined)return![];var _0x12ec79=this[_0x223026(0x32e)](_0x2ba50e);if(_0x12ec79===![]||_0x12ec79[_0x223026(0x140)]>this[_0x223026(0x4b9)])return![];var _0x18422b=undefined;switch(_0x12ec79[_0x223026(0x43b)]){case _0x223026(0x91):_0x18422b=[0x1,0x0];break;case'left':_0x18422b=[-0x1,0x0];break;case _0x223026(0xbb):_0x18422b=[0x0,-0x1];break;case'bot':_0x18422b=[0x0,0x1];break;default:console['log'](_0x223026(0x288));return![];}this[_0x223026(0x4b9)]-=_0x12ec79[_0x223026(0x140)];var _0x33dd90={'type':_0x223026(0x3d5),'mode':PLAYER_ANIMATION_MOVING,'dir':_0x18422b,'from':[this['x'],this['y']],'duration':0x1f4};this['animation'][_0x223026(0x448)](_0x33dd90),this[_0x223026(0x43b)]=_0x18422b;var _0x57e7ae={'x':this['x']+_0x18422b[0x0],'y':this['y']+_0x18422b[0x1]};return this['ChangePosition'](_0x57e7ae,world['map']),!![];},this[_0x38c23d(0x4a0)]=_0x29c965=>{var _0x35fdcb=_0x38c23d;if(!_0x29c965||!_0x29c965['block'])return _0x35fdcb(0x4c1);var _0x2f6318=_0x29c965[_0x35fdcb(0x36d)];if(!_0x2f6318[_0x35fdcb(0x103)]||_0x2f6318['player']==this)return _0x35fdcb(0xbe);var _0xe4c645=_0x2f6318[_0x35fdcb(0x103)],_0x3ef762=Math[_0x35fdcb(0x328)](_0xe4c645[_0x35fdcb(0x43b)][0x1],_0xe4c645[_0x35fdcb(0x43b)][0x0]),_0x1cb5f5=Math[_0x35fdcb(0x328)](this['y']+this['size']/0x2-_0xe4c645['y']-_0xe4c645['size']/0x2,this['x']+this[_0x35fdcb(0x29b)]/0x2-_0xe4c645['x']-_0xe4c645[_0x35fdcb(0x29b)]/0x2),_0xe05a74=_0x3ef762-_0x1cb5f5;while(_0xe05a74>Math['PI'])_0xe05a74-=0x2*Math['PI'];while(_0xe05a74<-Math['PI'])_0xe05a74+=0x2*Math['PI'];_0xe05a74=Math['abs'](_0xe05a74);var _0x2a670c=0x28+(0x50-0x28)*(_0xe05a74/Math['PI']);return Math['floor'](_0x2a670c*0x64)/0x64;},this[_0x38c23d(0x3af)]=_0x255fb9=>{var _0x1f47ff=_0x38c23d;if(!_0x255fb9||!_0x255fb9[_0x1f47ff(0x36d)])return![];var _0x4498b7=undefined,_0x36a722=[];if(this[_0x1f47ff(0xaf)]){if(this['ActionPoint']<this[_0x1f47ff(0xaf)][_0x1f47ff(0x365)])return![];world[_0x1f47ff(0x26d)][_0x1f47ff(0xb6)][_0x1f47ff(0x2ed)]({'type':this[_0x1f47ff(0x245)],'txt':this[_0x1f47ff(0x22c)]+'\x20is\x20attacking\x20with\x20'+this[_0x1f47ff(0xaf)][_0x1f47ff(0x22c)]});for(var _0x3e9731 in this[_0x1f47ff(0xaf)][_0x1f47ff(0x3ea)]){var _0xcf7b0c=this[_0x1f47ff(0xaf)][_0x1f47ff(0x3ea)][_0x3e9731],_0x5ea3ba={..._0x255fb9};_0x5ea3ba[_0x1f47ff(0x47e)]=_0xcf7b0c['callback_data'];var _0x5c8caa=this[_0xcf7b0c[_0x1f47ff(0x33a)]](_0x5ea3ba);console[_0x1f47ff(0x451)]('test\x20zone\x20'+_0x3e9731),console[_0x1f47ff(0x451)](_0x1f47ff(0x393)+_0xcf7b0c[_0x1f47ff(0x33a)]);if(!_0x5c8caa||_0x5c8caa['length']<0x1)continue;console[_0x1f47ff(0x451)]('add\x20some\x20blocks\x20'+_0x5c8caa[_0x1f47ff(0x1e8)]),_0x36a722[_0x1f47ff(0x448)]({'blocks':_0x5c8caa,'damage':_0xcf7b0c['damageBase']});}}else{if(this[_0x1f47ff(0x4b9)]<AP_COST_NOWEAPON)return![];world[_0x1f47ff(0x26d)][_0x1f47ff(0xb6)]['addMessage']({'type':this['team'],'txt':this[_0x1f47ff(0x22c)]+_0x1f47ff(0x1fa)}),_0x36a722=[{'blocks':[_0x255fb9[_0x1f47ff(0x36d)]],'damage':[{'stats':_0x1f47ff(0x3ef),'type':_0x1f47ff(0x4d8),'value':0x1}]}];}for(var _0x3e9731 in _0x36a722){var _0x57d9a7=_0x36a722[_0x3e9731],_0x3e8add=CalculeDamageWeaponFromPlayerStats({'player':this,'damage':_0x57d9a7[_0x1f47ff(0x35d)]}),_0x4f1146=!![];if(!_0x3e8add||_0x3e8add[_0x1f47ff(0x1e8)]<0x1)continue;for(var _0x1b4e1f in _0x57d9a7[_0x1f47ff(0x111)]){var _0x10dbd1=_0x57d9a7['blocks'][_0x1b4e1f];if(!_0x10dbd1||!_0x10dbd1['player'])continue;var _0x24569e=this['getChanceOfHit']({'block':_0x10dbd1}),_0x55794d=!![];if(Math['floor'](Math['random']()*0x64)>_0x24569e)_0x55794d=![];if(_0x55794d)_0x4f1146=![],_0x10dbd1[_0x1f47ff(0x103)][_0x1f47ff(0x44a)](_0x3e8add);else{world[_0x1f47ff(0x26d)][_0x1f47ff(0xb6)][_0x1f47ff(0x2ed)]({'txt':this[_0x1f47ff(0x22c)]+_0x1f47ff(0x391)+_0x24569e+'%)'});var _0x59b8f5={'type':_0x1f47ff(0x8d),'mode':PLAYER_ANIMATION_DODGE,'duration':0x3e8,'angle':Math[_0x1f47ff(0x3b0)]()*0x2*Math['PI']};_0x10dbd1[_0x1f47ff(0x103)][_0x1f47ff(0x117)][_0x1f47ff(0x448)](_0x59b8f5);}}}var _0x98ead8={'type':_0x1f47ff(0x3af),'mode':PLAYER_ANIMATION_ATTACK_DEFAULT,'dir':[_0x255fb9[_0x1f47ff(0x36d)]['x'],_0x255fb9[_0x1f47ff(0x36d)]['y']],'from':[this['x'],this['y']],'duration':0x1f4};this['weapon']&&this['weapon'][_0x1f47ff(0x4a6)]&&(_0x98ead8[_0x1f47ff(0x4a6)]={'posA':{'x':this['x']+0.5,'y':this['y']+0.5},'posB':{'x':_0x255fb9[_0x1f47ff(0x36d)]['x']+0.5,'y':_0x255fb9[_0x1f47ff(0x36d)]['y']+0.5},'projectilName':this[_0x1f47ff(0xaf)][_0x1f47ff(0x4a6)][_0x1f47ff(0x282)]?this[_0x1f47ff(0xaf)][_0x1f47ff(0x4a6)][_0x1f47ff(0x282)]:undefined,'projectilSpeed':this[_0x1f47ff(0xaf)]['projectil'][_0x1f47ff(0x336)]?this[_0x1f47ff(0xaf)][_0x1f47ff(0x4a6)][_0x1f47ff(0x336)]:0x32,'sound':this[_0x1f47ff(0xaf)][_0x1f47ff(0x4a6)][_0x1f47ff(0x1d3)]&&!_0x4f1146?this[_0x1f47ff(0xaf)][_0x1f47ff(0x4a6)][_0x1f47ff(0x1d3)]:undefined});this[_0x1f47ff(0x117)][_0x1f47ff(0x448)](_0x98ead8);if(this[_0x1f47ff(0xaf)]){var _0x2fd5db=PLAYER_WEAPON_IMG['find'](_0x2733b1=>_0x2733b1[_0x1f47ff(0x22c)]==this[_0x1f47ff(0xaf)][_0x1f47ff(0x2df)]);world[_0x1f47ff(0x46a)][_0x1f47ff(0x402)](_0x2fd5db['sound']),this['ActionPoint']-=this['weapon'][_0x1f47ff(0x365)];}else world[_0x1f47ff(0x46a)]['playSound']('hand\x20hit'),this[_0x1f47ff(0x4b9)]-=AP_COST_NOWEAPON;return this['dir']=this[_0x1f47ff(0x23c)](_0x255fb9[_0x1f47ff(0x36d)]),!![];},this[_0x38c23d(0x2d9)]=(_0xfd6bf1,_0x165390,_0xb8921d,_0x1e41f4)=>{var _0xd8876a=_0x38c23d,_0x373954=new Date()['getTime']();while(this['animation']&&this['animation'][0x0]){!this[_0xd8876a(0x117)][0x0]['startTime']&&(this['animation'][0x0][_0xd8876a(0x465)]=new Date()['getTime']());if(_0x373954>this[_0xd8876a(0x117)][0x0][_0xd8876a(0x465)]+this['animation'][0x0][_0xd8876a(0x375)]){if(this[_0xd8876a(0x117)][0x0][_0xd8876a(0x4a6)])world[_0xd8876a(0x26d)]['createProjectilAnimation'](this['animation'][0x0][_0xd8876a(0x4a6)]);this[_0xd8876a(0x117)][_0xd8876a(0x1f5)](),this[_0xd8876a(0x18a)]=!![];}else break;}if(!this[_0xd8876a(0x3c1)]||!this['bodyPartImg'])return![];if(this[_0xd8876a(0xaf)]){var _0x2997d3=world[_0xd8876a(0x439)][this[_0xd8876a(0xaf)][_0xd8876a(0x22c)]],_0x5b19eb=PLAYER_WEAPON_IMG['find'](_0x5c0a90=>_0x5c0a90[_0xd8876a(0x22c)]==this['weapon']['img']);if(!_0x2997d3||!_0x5b19eb)return console[_0xd8876a(0x451)]('can\x27t\x20display\x20weapon\x20:\x20'+this[_0xd8876a(0xaf)][_0xd8876a(0x22c)]);_0x5b19eb=_0x5b19eb[_0xd8876a(0x255)];}if(!this['animation']||!this[_0xd8876a(0x117)][0x0]){var _0x5d8fe7=Math[_0xd8876a(0x311)](_0x165390+this['size']*_0x1e41f4[_0xd8876a(0x3a1)]/0x2),_0xd84db3=Math[_0xd8876a(0x311)](_0xb8921d+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x2b4)]/0x2),_0x203dcc=Math[_0xd8876a(0x328)](this[_0xd8876a(0x43b)][0x0],-this['dir'][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0xd8876a(0x42c)](_0x373954/0x1f4));_0xfd6bf1[_0xd8876a(0x438)](this['bodyPartImg'],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this['size'],_0x203dcc);var _0xdbabab=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math[_0xd8876a(0x42c)](_0x373954/0x12c)),_0x23d37c=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math['cos'](_0xdbabab+_0x203dcc-Math['PI']/0x2)),_0x290aac=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](_0xdbabab+_0x203dcc-Math['PI']/0x2)),_0x552b38=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math['cos'](-_0xdbabab+_0x203dcc+Math['PI']/0x2)),_0x5c9e52=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](-_0xdbabab+_0x203dcc+Math['PI']/0x2));_0xfd6bf1[_0xd8876a(0x438)](this['handImg'],_0x5d8fe7+_0x23d37c,_0xd84db3+_0x290aac,_0x1e41f4[_0xd8876a(0xea)],_0xdbabab+_0x203dcc);if(this['weapon'])_0xfd6bf1[_0xd8876a(0x135)](_0x2997d3[_0xd8876a(0x2df)],_0x5d8fe7+_0x552b38,_0xd84db3+_0x5c9e52,_0x5b19eb['x'],_0x5b19eb['y'],_0x1e41f4[_0xd8876a(0xea)],-_0xdbabab+_0x203dcc);_0xfd6bf1[_0xd8876a(0xec)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x552b38,_0xd84db3+_0x5c9e52,0x14,0x14,-_0x1e41f4['scale'],+_0xdbabab-_0x203dcc);}else{if(this[_0xd8876a(0x117)]&&this[_0xd8876a(0x117)][0x0]&&this[_0xd8876a(0x117)][0x0][_0xd8876a(0x1f4)]==PLAYER_ANIMATION_MOVING){var _0x2e5274=this[_0xd8876a(0x117)][0x0];pos=_0x1e41f4[_0xd8876a(0x380)](_0x2e5274[_0xd8876a(0x26c)][0x0]+_0x2e5274[_0xd8876a(0x43b)][0x0],_0x2e5274[_0xd8876a(0x26c)][0x1]+_0x2e5274[_0xd8876a(0x43b)][0x1]);var _0x5d8fe7=Math['floor'](pos['x']+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x3a1)]/0x2),_0xd84db3=Math[_0xd8876a(0x311)](pos['y']+this[_0xd8876a(0x29b)]*_0x1e41f4['blocksize_y']/0x2);world[_0xd8876a(0x46a)][_0xd8876a(0x402)](_0xd8876a(0x462));var _0xf8235a=[this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x0],this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x1]],_0x275fed=0x1-(_0x373954-this['animation'][0x0]['startTime'])/this[_0xd8876a(0x117)][0x0]['duration'];_0x5d8fe7-=_0xf8235a[0x0]*_0x1e41f4[_0xd8876a(0x3a1)]*_0x275fed,_0xd84db3-=_0xf8235a[0x1]*_0x1e41f4['blocksize_y']*_0x275fed;var _0x203dcc=Math['atan2'](_0xf8235a[0x0],-_0xf8235a[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x20,Math['PI']/0x20,Math[_0xd8876a(0x42c)](_0x373954/0x64));_0xfd6bf1[_0xd8876a(0x438)](this[_0xd8876a(0x1b8)],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)],_0x203dcc);var _0x5d2f38=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math['cos'](_0x373954/0x64))+_0x203dcc,_0x244c23=getAngleFromTime(-Math['PI']/0x8,Math['PI']/0x8,Math[_0xd8876a(0x18b)](_0x373954/0x64))-_0x203dcc,_0x23d37c=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math['cos'](_0x5d2f38-Math['PI']/0x2)),_0x290aac=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](_0x5d2f38-Math['PI']/0x2)),_0x608867=Math['floor'](0x64*_0x1e41f4['scale']*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x244c23-Math['PI']/0x2)),_0x5c134b=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math[_0xd8876a(0x18b)](_0x244c23-Math['PI']/0x2));_0xfd6bf1[_0xd8876a(0x438)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x23d37c,_0xd84db3+_0x290aac,_0x1e41f4['scale'],_0x5d2f38);if(this['weapon'])_0xfd6bf1['drawImageRotateCenter'](_0x2997d3[_0xd8876a(0x2df)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,_0x5b19eb['x'],_0x5b19eb['y'],_0x1e41f4['scale'],-_0x244c23);_0xfd6bf1[_0xd8876a(0xec)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,0x14,0x14,_0x1e41f4['scale'],_0x244c23+Math['PI']);}else{if(this[_0xd8876a(0x117)]&&this[_0xd8876a(0x117)][0x0]&&this[_0xd8876a(0x117)][0x0]['mode']==PLAYER_ANIMATION_DODGE){var _0x2e5274=this['animation'][0x0],_0x275fed=0x1-(_0x373954-_0x2e5274['startTime'])/_0x2e5274['duration'];_0x275fed=_0x275fed<0.5?0x0:_0x275fed>0.75?0x1-(_0x275fed-0.5)*0x2:(_0x275fed-0.5)*0x2;var _0x475278=_0x275fed*Math[_0xd8876a(0x42c)](_0x2e5274[_0xd8876a(0x329)])*0x64*_0x1e41f4['scale']*this[_0xd8876a(0x29b)],_0x1dfbf9=_0x275fed*Math[_0xd8876a(0x18b)](_0x2e5274['angle'])*0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size'],_0x5d8fe7=_0x475278+Math[_0xd8876a(0x311)](_0x165390+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x3a1)]/0x2),_0xd84db3=_0x1dfbf9+Math[_0xd8876a(0x311)](_0xb8921d+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x2b4)]/0x2),_0x203dcc=Math[_0xd8876a(0x328)](this[_0xd8876a(0x43b)][0x0],-this[_0xd8876a(0x43b)][0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0xd8876a(0x42c)](_0x373954/0x1f4));_0xfd6bf1['drawImageRotate'](this[_0xd8876a(0x1b8)],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)],_0x203dcc);var _0xdbabab=getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x10,Math['cos'](_0x373954/0x12c)),_0x23d37c=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math[_0xd8876a(0x42c)](_0xdbabab+_0x203dcc-Math['PI']/0x2)),_0x290aac=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math[_0xd8876a(0x18b)](_0xdbabab+_0x203dcc-Math['PI']/0x2)),_0x552b38=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math[_0xd8876a(0x42c)](-_0xdbabab+_0x203dcc+Math['PI']/0x2)),_0x5c9e52=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math['sin'](-_0xdbabab+_0x203dcc+Math['PI']/0x2));_0xfd6bf1['drawImageRotate'](this['handImg'],_0x5d8fe7+_0x23d37c,_0xd84db3+_0x290aac,_0x1e41f4['scale'],_0xdbabab+_0x203dcc);if(this[_0xd8876a(0xaf)])_0xfd6bf1[_0xd8876a(0x135)](_0x2997d3[_0xd8876a(0x2df)],_0x5d8fe7+_0x552b38,_0xd84db3+_0x5c9e52,_0x5b19eb['x'],_0x5b19eb['y'],_0x1e41f4['scale'],-_0xdbabab+_0x203dcc);_0xfd6bf1['drawImageMirrorRotateCenter'](this['handImg'],_0x5d8fe7+_0x552b38,_0xd84db3+_0x5c9e52,0x14,0x14,-_0x1e41f4[_0xd8876a(0xea)],+_0xdbabab-_0x203dcc);}else{if(this[_0xd8876a(0x117)]&&this['animation'][0x0]&&this[_0xd8876a(0x117)][0x0][_0xd8876a(0x1f4)]==PLAYER_ANIMATION_ATTACK_DEFAULT){if(!this[_0xd8876a(0xaf)]){pos=_0x1e41f4['get_pixel_by_block'](this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x0],this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x1]);var _0x5d8fe7=Math['floor'](pos['x']+this[_0xd8876a(0x29b)]*_0x1e41f4['blocksize_x']/0x2),_0xd84db3=Math[_0xd8876a(0x311)](pos['y']+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x2b4)]/0x2),_0xf8235a=[this[_0xd8876a(0x117)][0x0]['dir'][0x0]-(this['x']+this[_0xd8876a(0x29b)]/0x2)+0.5,this['animation'][0x0]['dir'][0x1]-(this['y']+this[_0xd8876a(0x29b)]/0x2)+0.5],_0x275fed=0x1-(_0x373954-this[_0xd8876a(0x117)][0x0][_0xd8876a(0x465)])/this[_0xd8876a(0x117)][0x0][_0xd8876a(0x375)];if(_0x275fed>0.5)_0x275fed=0x1-_0x275fed;_0x5d8fe7+=_0xf8235a[0x0]*_0x1e41f4[_0xd8876a(0x3a1)]*_0x275fed/0x2,_0xd84db3+=_0xf8235a[0x1]*_0x1e41f4[_0xd8876a(0x2b4)]*_0x275fed/0x2;var _0x203dcc=Math['atan2'](_0xf8235a[0x0],-_0xf8235a[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0xd8876a(0x42c)](_0x373954/0x64));_0xfd6bf1[_0xd8876a(0x438)](this[_0xd8876a(0x1b8)],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)],_0x203dcc);var _0x5d2f38=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math[_0xd8876a(0x42c)](_0x373954/0x64))+_0x203dcc,_0x244c23=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0xd8876a(0x18b)](_0x373954/0x64))-_0x203dcc,_0x23d37c=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x5d2f38-Math['PI']/0x2)),_0x290aac=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](_0x5d2f38-Math['PI']/0x2)),_0x608867=Math[_0xd8876a(0x311)](0x64*_0x1e41f4['scale']*this['size']*Math[_0xd8876a(0x42c)](_0x244c23-Math['PI']/0x2)),_0x5c134b=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](_0x244c23-Math['PI']/0x2));_0xfd6bf1[_0xd8876a(0x438)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x23d37c,_0xd84db3+_0x290aac,_0x1e41f4['scale'],_0x5d2f38),_0xfd6bf1[_0xd8876a(0xec)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,0x14,0x14,_0x1e41f4[_0xd8876a(0xea)],_0x244c23+Math['PI']);}else{if(this[_0xd8876a(0xaf)][_0xd8876a(0x48d)]==_0xd8876a(0x1c1)){pos=_0x1e41f4[_0xd8876a(0x380)](this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x0],this['animation'][0x0][_0xd8876a(0x26c)][0x1]);var _0x5d8fe7=Math[_0xd8876a(0x311)](pos['x']+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x3a1)]/0x2),_0xd84db3=Math['floor'](pos['y']+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x2b4)]/0x2),_0xf8235a=[this['animation'][0x0][_0xd8876a(0x43b)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x275fed=0x1-(_0x373954-this['animation'][0x0][_0xd8876a(0x465)])/this[_0xd8876a(0x117)][0x0]['duration'];if(_0x275fed>0.5)_0x275fed=0x1-_0x275fed;_0x5d8fe7+=_0xf8235a[0x0]*_0x1e41f4[_0xd8876a(0x3a1)]*_0x275fed,_0xd84db3+=_0xf8235a[0x1]*_0x1e41f4[_0xd8876a(0x2b4)]*_0x275fed;var _0x203dcc=Math[_0xd8876a(0x328)](_0xf8235a[0x0],-_0xf8235a[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x6,Math['PI']/0x6,Math[_0xd8876a(0x42c)](_0x373954/0x64));_0xfd6bf1['drawImageRotate'](this['bodyPartImg'],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)],_0x203dcc);var _0x5d2f38=getAngleFromTime(Math['PI']/0x4,Math['PI']/0x2,Math['cos'](_0x373954/0x64))+_0x203dcc,_0x244c23=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,Math[_0xd8876a(0x18b)](_0x373954/0x64))-_0x203dcc,_0x23d37c=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x5d2f38-Math['PI']/0x2)),_0x290aac=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math[_0xd8876a(0x18b)](_0x5d2f38-Math['PI']/0x2)),_0x608867=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math['cos'](_0x244c23-Math['PI']/0x2)),_0x5c134b=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math['sin'](_0x244c23-Math['PI']/0x2));_0xfd6bf1[_0xd8876a(0x438)](this['handImg'],_0x5d8fe7+_0x23d37c,_0xd84db3+_0x290aac,_0x1e41f4[_0xd8876a(0xea)],_0x5d2f38);if(this[_0xd8876a(0xaf)])_0xfd6bf1['drawImageRotateCenter'](_0x2997d3[_0xd8876a(0x2df)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,_0x5b19eb['x'],_0x5b19eb['y'],_0x1e41f4['scale'],-_0x244c23);_0xfd6bf1[_0xd8876a(0xec)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,0x14,0x14,_0x1e41f4[_0xd8876a(0xea)],_0x244c23+Math['PI']);}else{if(this[_0xd8876a(0xaf)][_0xd8876a(0x48d)]=='bow'){pos=_0x1e41f4[_0xd8876a(0x380)](this['animation'][0x0]['from'][0x0],this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x1]);var _0x5d8fe7=Math[_0xd8876a(0x311)](pos['x']+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x3a1)]/0x2),_0xd84db3=Math['floor'](pos['y']+this['size']*_0x1e41f4['blocksize_y']/0x2),_0xf8235a=[this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x0]-(this['x']+this[_0xd8876a(0x29b)]/0x2)+0.5,this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x275fed=0x1-(_0x373954-this[_0xd8876a(0x117)][0x0][_0xd8876a(0x465)])/this['animation'][0x0][_0xd8876a(0x375)];if(_0x275fed>0.5)_0x275fed=0x1-_0x275fed;var _0x203dcc=Math[_0xd8876a(0x328)](_0xf8235a[0x0],-_0xf8235a[0x1])-Math['PI']/0x2;_0xfd6bf1[_0xd8876a(0x438)](this[_0xd8876a(0x1b8)],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this['size'],_0x203dcc);var _0x5d2f38=Math['PI']*0x7/0x10+_0x203dcc,_0x244c23=Math['PI']*0x7/0x10-_0x203dcc,_0x23d37c=Math[_0xd8876a(0x311)](0x64*(0x1-_0x275fed)*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x5d2f38-Math['PI']/0x2)),_0x290aac=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math['sin'](_0x5d2f38-Math['PI']/0x2)),_0x608867=Math[_0xd8876a(0x311)](0x64*_0x1e41f4['scale']*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x244c23-Math['PI']/0x2)),_0x5c134b=Math[_0xd8876a(0x311)](0x64*_0x1e41f4['scale']*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](_0x244c23-Math['PI']/0x2));_0xfd6bf1[_0xd8876a(0x438)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x23d37c,_0xd84db3+_0x290aac,_0x1e41f4[_0xd8876a(0xea)],_0x5d2f38);if(this[_0xd8876a(0xaf)])_0xfd6bf1['drawImageRotateCenter'](_0x2997d3[_0xd8876a(0x2df)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,_0x5b19eb['x'],_0x5b19eb['y'],_0x1e41f4['scale'],-_0x244c23);_0xfd6bf1['drawImageMirrorRotateCenter'](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,0x14,0x14,_0x1e41f4[_0xd8876a(0xea)],_0x244c23+Math['PI']);}else{if(this[_0xd8876a(0xaf)][_0xd8876a(0x48d)]==_0xd8876a(0x486)){pos=_0x1e41f4[_0xd8876a(0x380)](this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x0],this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x1]);var _0x5d8fe7=Math[_0xd8876a(0x311)](pos['x']+this['size']*_0x1e41f4[_0xd8876a(0x3a1)]/0x2),_0xd84db3=Math[_0xd8876a(0x311)](pos['y']+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x2b4)]/0x2),_0xf8235a=[this[_0xd8876a(0x117)][0x0]['dir'][0x0]-(this['x']+this[_0xd8876a(0x29b)]/0x2)+0.5,this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x1]-(this['y']+this[_0xd8876a(0x29b)]/0x2)+0.5],_0x275fed=0x1-(_0x373954-this[_0xd8876a(0x117)][0x0][_0xd8876a(0x465)])/this['animation'][0x0][_0xd8876a(0x375)];if(_0x275fed>0.5)_0x275fed=0x1-_0x275fed;_0x275fed=_0x275fed/0x3,_0x5d8fe7+=_0xf8235a[0x0]*_0x1e41f4['blocksize_x']*_0x275fed,_0xd84db3+=_0xf8235a[0x1]*_0x1e41f4['blocksize_y']*_0x275fed;var _0x203dcc=Math[_0xd8876a(0x328)](_0xf8235a[0x0],-_0xf8235a[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x40,Math['PI']/0x40,Math[_0xd8876a(0x42c)](_0x373954/0x64));_0xfd6bf1['drawImageRotate'](this[_0xd8876a(0x1b8)],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this['size'],_0x203dcc);var _0x5d2f38=getAngleFromTime(0x0,Math['PI']/0x40,Math[_0xd8876a(0x42c)](_0x373954/0x64))+_0x203dcc,_0x244c23=getAngleFromTime(0x0,0x3*Math['PI']/0x8,Math['sin']((_0x373954-this[_0xd8876a(0x117)][0x0][_0xd8876a(0x465)])/this[_0xd8876a(0x117)][0x0][_0xd8876a(0x375)]*1.1*Math['PI']))-_0x203dcc,_0x23d37c=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x5d2f38-Math['PI']/0x2)),_0x290aac=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math[_0xd8876a(0x18b)](_0x5d2f38-Math['PI']/0x2)),_0x608867=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x244c23-Math['PI']/0x2)),_0x5c134b=Math[_0xd8876a(0x311)](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](_0x244c23-Math['PI']/0x2));_0xfd6bf1[_0xd8876a(0x438)](this['handImg'],_0x5d8fe7+_0x23d37c,_0xd84db3+_0x290aac,_0x1e41f4['scale'],_0x5d2f38);if(this['weapon'])_0xfd6bf1[_0xd8876a(0x135)](_0x2997d3[_0xd8876a(0x2df)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,_0x5b19eb['x'],_0x5b19eb['y'],_0x1e41f4[_0xd8876a(0xea)],_0x203dcc-Math['PI']/0x6);_0xfd6bf1[_0xd8876a(0xec)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,0x14,0x14,_0x1e41f4[_0xd8876a(0xea)],_0x244c23+Math['PI']);}else{if(this['weapon']['anim']==_0xd8876a(0x327)){pos=_0x1e41f4[_0xd8876a(0x380)](this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x0],this[_0xd8876a(0x117)][0x0][_0xd8876a(0x26c)][0x1]);var _0x5d8fe7=Math[_0xd8876a(0x311)](pos['x']+this[_0xd8876a(0x29b)]*_0x1e41f4['blocksize_x']/0x2),_0xd84db3=Math['floor'](pos['y']+this[_0xd8876a(0x29b)]*_0x1e41f4[_0xd8876a(0x2b4)]/0x2),_0xf8235a=[this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x0]-(this['x']+this['size']/0x2)+0.5,this[_0xd8876a(0x117)][0x0][_0xd8876a(0x43b)][0x1]-(this['y']+this['size']/0x2)+0.5],_0x275fed=0x1-(_0x373954-this['animation'][0x0][_0xd8876a(0x465)])/this['animation'][0x0][_0xd8876a(0x375)];if(_0x275fed>0.5)_0x275fed=0x1-_0x275fed;_0x275fed=_0x275fed/0x3,_0x5d8fe7+=_0xf8235a[0x0]*_0x1e41f4['blocksize_x']*_0x275fed,_0xd84db3+=_0xf8235a[0x1]*_0x1e41f4[_0xd8876a(0x2b4)]*_0x275fed;var _0x203dcc=Math[_0xd8876a(0x328)](_0xf8235a[0x0],-_0xf8235a[0x1])-Math['PI']/0x2+getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x4,Math[_0xd8876a(0x42c)]((_0x373954-this['animation'][0x0][_0xd8876a(0x465)])/this[_0xd8876a(0x117)][0x0][_0xd8876a(0x375)]*0x1*Math['PI']));_0xfd6bf1[_0xd8876a(0x438)](this[_0xd8876a(0x1b8)],_0x5d8fe7,_0xd84db3,_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)],_0x203dcc);var _0x244c23=getAngleFromTime(-Math['PI']/0x4,Math['PI']/0x2,-Math[_0xd8876a(0x42c)]((_0x373954-this['animation'][0x0][_0xd8876a(0x465)])/this[_0xd8876a(0x117)][0x0]['duration']*0x1*Math['PI']))-_0x203dcc,_0x5d2f38=_0x244c23-Math['PI']/0x20,_0x23d37c=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x42c)](_0x5d2f38-Math['PI']/0x2)),_0x290aac=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math[_0xd8876a(0x18b)](_0x5d2f38-Math['PI']/0x2)),_0x608867=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this['size']*Math[_0xd8876a(0x42c)](_0x244c23-Math['PI']/0x2)),_0x5c134b=Math['floor'](0x64*_0x1e41f4[_0xd8876a(0xea)]*this[_0xd8876a(0x29b)]*Math['sin'](_0x244c23-Math['PI']/0x2));_0xfd6bf1[_0xd8876a(0xec)](this[_0xd8876a(0x25f)],_0x5d8fe7+_0x23d37c,_0xd84db3-_0x290aac,0x14,0x14,_0x1e41f4[_0xd8876a(0xea)],_0x5d2f38+Math['PI']);if(this[_0xd8876a(0xaf)])_0xfd6bf1[_0xd8876a(0x135)](_0x2997d3['img'],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,_0x5b19eb['x'],_0x5b19eb['y'],_0x1e41f4['scale'],-_0x244c23);_0xfd6bf1[_0xd8876a(0xec)](this['handImg'],_0x5d8fe7+_0x608867,_0xd84db3-_0x5c134b,0x14,0x14,_0x1e41f4['scale'],_0x244c23+Math['PI']);}}}}}}}}}},this[_0x38c23d(0x3bb)]=(_0x4bc46a,_0x21e60b,_0x1bb2a1,_0x591fe0)=>{var _0x2193a5=_0x38c23d;console['log'](_0x2193a5(0x326)+[_0x1bb2a1['x'],_0x1bb2a1['y']]+_0x2193a5(0x19c)+_0x21e60b+_0x2193a5(0x340)+_0x591fe0['length']);var _0x1b0adb=new Player(_0x1bb2a1['x'],_0x1bb2a1['y'],this[_0x2193a5(0x29b)],this[_0x2193a5(0x106)],this[_0x2193a5(0x245)]);_0x1b0adb[_0x2193a5(0x3e5)]=!![];if(this[_0x2193a5(0x1eb)])_0x1b0adb[_0x2193a5(0x1eb)]=this[_0x2193a5(0x1eb)];else _0x1b0adb[_0x2193a5(0x1eb)]=this;var _0x3ecbf0=[{'x':_0x1bb2a1['x']+0x1+_0x1b0adb[_0x2193a5(0x29b)]-0x1,'y':_0x1bb2a1['y']},{'x':_0x1bb2a1['x']-0x1,'y':_0x1bb2a1['y']},{'x':_0x1bb2a1['x'],'y':_0x1bb2a1['y']-0x1},{'x':_0x1bb2a1['x'],'y':_0x1bb2a1['y']+0x1+_0x1b0adb[_0x2193a5(0x29b)]-0x1}];_0x3ecbf0=_0x3ecbf0[_0x2193a5(0x1b1)](_0x19f757=>world['map']['mapBlock'][_0x19f757['x']]&&world[_0x2193a5(0x15d)][_0x2193a5(0x14a)][_0x19f757['x']][_0x19f757['y']]),console[_0x2193a5(0x451)](_0x2193a5(0xba)+[_0x1b0adb[_0x2193a5(0x22c)]+_0x1b0adb['x'],_0x1b0adb['y']]),_0x3ecbf0=_0x3ecbf0[_0x2193a5(0x1b1)](_0x5d219d=>_0x1b0adb[_0x2193a5(0x32e)]({'block':world[_0x2193a5(0x15d)][_0x2193a5(0x14a)][_0x5d219d['x']][_0x5d219d['y']]}));for(var _0x394b6d in _0x3ecbf0){var _0x11452f=_0x3ecbf0[_0x394b6d]['x'],_0x3f30ec=_0x3ecbf0[_0x394b6d]['y'],_0x3456ac=world[_0x2193a5(0x15d)]['mapBlock'][_0x11452f][_0x3f30ec],_0x1c049c=_0x1b0adb['CheckMoveTo']({'block':_0x3456ac});if(!_0x1c049c||_0x1c049c[_0x2193a5(0x140)]>_0x21e60b)continue;console[_0x2193a5(0x451)]('from\x20'+[_0x1b0adb['x'],_0x1b0adb['y']]+_0x2193a5(0x2ac)+[_0x11452f,_0x3f30ec]);if(_0x11452f>_0x1b0adb['x'])_0x11452f=_0x1b0adb['x']+0x1;if(_0x3f30ec>_0x1b0adb['y'])_0x3f30ec=_0x1b0adb['y']+0x1;console[_0x2193a5(0x451)](_0x2193a5(0x150)+[_0x11452f,_0x3f30ec]);var _0x3a995e=_0x4bc46a['list'][_0x2193a5(0x2ea)](_0x25cc8c=>_0x25cc8c['x']==_0x11452f&&_0x25cc8c['y']==_0x3f30ec&&_0x21e60b-_0x1c049c['cost']<_0x25cc8c['AP']);if(!_0x3a995e){_0x4bc46a[_0x2193a5(0x2cd)]=_0x4bc46a[_0x2193a5(0x2cd)][_0x2193a5(0x1b1)](_0x3a6a2c=>!(_0x3a6a2c['x']==_0x11452f&&_0x3a6a2c['y']==_0x3f30ec));if(!_0x4bc46a['list'])continue;var _0x4cbd07={'x':_0x11452f,'y':_0x3f30ec,'AP':_0x21e60b-_0x1c049c['cost'],'path':_0x591fe0[_0x2193a5(0xe9)]([{'x':_0x11452f,'y':_0x3f30ec,'dirx':_0x3ecbf0[_0x394b6d]['x'],'diry':_0x3ecbf0[_0x394b6d]['y']}])};_0x4bc46a[_0x2193a5(0x2cd)][_0x2193a5(0x448)](_0x4cbd07),_0x1b0adb['get_next_block_accessible'](_0x4bc46a,_0x4cbd07['AP'],{'x':_0x11452f,'y':_0x3f30ec},_0x4cbd07['path']);}}},this[_0x38c23d(0x32a)]=()=>{var _0x27fb05=_0x38c23d,_0x5dab19={'list':[{'x':this['x'],'y':this['y'],'AP':this['ActionPoint'],'path':[]}]};return this['get_next_block_accessible'](_0x5dab19,this[_0x27fb05(0x4b9)],this,[]),console[_0x27fb05(0x451)]('all\x20block\x20accessible\x20:\x20'+_0x5dab19[_0x27fb05(0x2cd)][_0x27fb05(0x1e8)]),_0x5dab19['list'];},this['get_path_to']=(_0x3a3cde,_0xfd6817)=>{var _0xcde1ed=_0x38c23d,_0x5a3113={'list':[{'x':this['x'],'y':this['y'],'AP':0x5dc,'path':[]}]};this[_0xcde1ed(0x3bb)](_0x5a3113,this[_0xcde1ed(0x4b9)],this,[]);var _0x51957b=_0x5a3113[_0xcde1ed(0x2cd)];if(!_0x51957b||!_0x51957b[_0xcde1ed(0x1e8)])return undefined;var _0x3bf373=_0x51957b[_0xcde1ed(0x1b1)](_0x4abf01=>{distBlockNoDiagonal(_0x4abf01['x'],_0x4abf01['y'],_0x3a3cde['x'],_0x3a3cde['y'])<_0xfd6817;});return!_0x3bf373||!_0x3bf373['length']?(_0x3bf373=_0x51957b[_0xcde1ed(0x1fe)]((_0x3409df,_0x5c3cec)=>{return distBlockNoDiagonal(_0x3409df['x'],_0x3409df['y'],_0x3a3cde['x'],_0x3a3cde['y'])-distBlockNoDiagonal(_0x5c3cec['x'],_0x5c3cec['y'],_0x3a3cde['x'],_0x3a3cde['y']);})[0x0],_0x3bf373[_0xcde1ed(0x2c5)]):(_0x3bf373=_0x3bf373['sort']((_0x341181,_0xbc95b5)=>{return _0xbc95b5['AP']-_0x341181['AP'];}),_0x3bf373[0x0][_0xcde1ed(0x2c5)]);return undefined;return _0x5a3113[_0xcde1ed(0x2cd)];},this[_0x38c23d(0x4ce)]=()=>{var _0x269767=_0x38c23d;console[_0x269767(0x451)](this[_0x269767(0x22c)]+_0x269767(0x30e));var _0x5200d3=this['capacityList']['find'](_0x406d50=>_0x406d50[_0x269767(0x22c)]=='Attack'),_0xc1aba=world[_0x269767(0x26d)][_0x269767(0x4d4)][_0x269767(0x1b1)](_0x117e13=>_0x117e13[_0x269767(0x245)]!=this[_0x269767(0x245)]);if(!_0xc1aba||_0xc1aba['length']<0x1)return!![];var _0x40d4a4=_0xc1aba[_0x269767(0x1fe)]((_0x1245ce,_0x15bdd0)=>{var _0x312a28=_0x269767;return _0x1245ce[_0x312a28(0xab)]-_0x15bdd0[_0x312a28(0xab)];})[0x0],_0xc9ef00=_0xc1aba[_0x269767(0x1fe)]((_0x418301,_0x979635)=>{return dist(this['x'],this['y'],_0x418301['x'],_0x418301['y'])-dist(this['x'],this['y'],_0x979635['x'],_0x979635['y']);})[0x0],_0x409b09=_0x5200d3[_0x269767(0xd9)](_0x5200d3['zone_selecting_input']),_0x359456=_0x409b09['filter'](_0x20926e=>_0x20926e[_0x269767(0x103)]&&_0x20926e[_0x269767(0x103)][_0x269767(0x245)]!=this['team']),_0x2388c3=_0x359456[_0x269767(0x1fe)]((_0x58b6d6,_0x1ba042)=>{var _0x21d8f4=_0x269767;return _0x58b6d6[_0x21d8f4(0x103)][_0x21d8f4(0xab)]-_0x1ba042[_0x21d8f4(0x103)][_0x21d8f4(0xab)];});if(_0x2388c3['length']){if(this[_0x269767(0x3af)]({'block':_0x2388c3[0x0]}))return![];}var _0x2a760d=this[_0x269767(0x32a)]();for(var _0x8d9604 in _0x2a760d){var _0x2b787f=new Player(_0x2a760d[_0x8d9604]['x'],_0x2a760d[_0x8d9604]['y'],this[_0x269767(0x29b)],this[_0x269767(0x106)],this[_0x269767(0x245)]);_0x2b787f[_0x269767(0xaf)]=this['weapon'],_0x2b787f[_0x269767(0xee)]();var _0x8557aa=_0x2b787f[_0x269767(0x191)]['find'](_0x433418=>_0x433418[_0x269767(0x22c)]==_0x269767(0x3e4)),_0x467181=_0x8557aa[_0x269767(0xd9)](_0x8557aa[_0x269767(0x408)]);_0x467181=_0x467181[_0x269767(0x1b1)](_0x103a61=>_0x103a61['player']&&_0x103a61['player']!=this&&_0x103a61[_0x269767(0x103)][_0x269767(0x245)]!=this[_0x269767(0x245)]),_0x467181[_0x269767(0x1e8)]&&(_0x467181=_0x467181[_0x269767(0x1fe)]((_0x5799b,_0x5abc2f)=>{var _0x56f525=_0x269767;return _0x5799b['life']-_0x5abc2f[_0x56f525(0xab)];})[0x0],_0x2a760d[_0x8d9604][_0x269767(0x431)]=!![],_0x2a760d[_0x8d9604][_0x269767(0x88)]=_0x467181['life']);}var _0x2e4345=undefined,_0x49d779=this[_0x269767(0xaf)]?this[_0x269767(0xaf)]['actionCost']:AP_COST_NOWEAPON,_0x15efda=_0x2a760d['filter'](_0x240382=>_0x240382[_0x269767(0x431)]==!![]&&_0x240382['AP']>=_0x49d779);if(_0x15efda&&_0x15efda[_0x269767(0x1e8)])_0x2e4345=_0x15efda['sort']((_0xf8b250,_0x3ea3db)=>{return _0xf8b250['weakest']-_0x3ea3db['weakest'];})[0x0],_0x2e4345=_0x2a760d[_0x269767(0x2ea)](_0x11c83e=>_0x11c83e['x']==_0x2e4345['x']&&_0x11c83e['y']==_0x2e4345['y']);else{if(!this['path']){if(this[_0x269767(0x1d6)]=='goblin')this[_0x269767(0x2c5)]=this[_0x269767(0x48a)](_0x40d4a4,0x2);else this[_0x269767(0x2c5)]=this[_0x269767(0x48a)](_0xc9ef00,0x2);}if(this[_0x269767(0x2c5)]&&this[_0x269767(0x2c5)]['length']>0x1){if(this[_0x269767(0x292)]({'block':world[_0x269767(0x15d)]['mapBlock'][this['path'][0x0][_0x269767(0x113)]][this[_0x269767(0x2c5)][0x0][_0x269767(0x2a0)]]}))return this[_0x269767(0x2c5)][_0x269767(0x1f5)](),![];}else console[_0x269767(0x451)](_0x269767(0x22e));}if(_0x2e4345){var _0x27b1bb=_0x2e4345['path'];if(!_0x27b1bb||!_0x27b1bb['length']);else{_0x27b1bb=_0x27b1bb[0x0];if(this[_0x269767(0x292)]({'block':world['map'][_0x269767(0x14a)][_0x27b1bb[_0x269767(0x113)]][_0x27b1bb[_0x269767(0x2a0)]]}))return![];}}return console['log'](_0x269767(0x470)+[_0xc9ef00['x'],_0xc9ef00['y']]),this[_0x269767(0xd2)]({'block':world[_0x269767(0x15d)][_0x269767(0x14a)][_0xc9ef00['x']][_0xc9ef00['y']]}),this[_0x269767(0x2c5)]=undefined,!![];};},PLAYER_FACE_IMG=[_0x3c4aa9(0x3e7),_0x3c4aa9(0x427),_0x3c4aa9(0x3f0),_0x3c4aa9(0x478),_0x3c4aa9(0x4d1),'goblin_face_0','goblin_face_1'],PLAYER_BODY_IMG=[_0x3c4aa9(0x394),_0x3c4aa9(0x2d1),'human_body_2',_0x3c4aa9(0x16d),_0x3c4aa9(0x4a1),_0x3c4aa9(0x109),_0x3c4aa9(0x114)],PROJECTIL_IMG=[_0x3c4aa9(0x3de)],PlayersManager=function(_0x51898c){var _0x513243=_0x3c4aa9;this[_0x513243(0x4d4)]=[],this[_0x513243(0x439)]=undefined,this['DefaultImgsReady']=![],this[_0x513243(0x93)]=undefined,this[_0x513243(0xd4)]=world['Screen'][_0x513243(0x498)][_0x513243(0x26d)],this[_0x513243(0x334)]=world[_0x513243(0x3db)]['canList'][_0x513243(0x26d)],this[_0x513243(0xcc)]=!![],this['MessageSystem']=new MessageSystem(),this[_0x513243(0x1bf)]=[],this[_0x513243(0x2f4)]=_0x5db849=>{var _0x233620=_0x513243;if(!_0x5db849||!_0x5db849['posA']||!_0x5db849['posB']||!_0x5db849[_0x233620(0x1a8)]||!_0x5db849[_0x233620(0x336)])return;var _0x2847e0=_0x5db849[_0x233620(0x3a0)],_0x54862e=_0x5db849[_0x233620(0x384)];this[_0x233620(0x1bf)][_0x233620(0x448)]({'posA':_0x2847e0,'posB':_0x54862e,'angle':Math[_0x233620(0x328)](_0x54862e['y']-_0x2847e0['y'],_0x54862e['x']-_0x2847e0['x']),'name':_0x5db849[_0x233620(0x1a8)],'duration':_0x5db849[_0x233620(0x336)]?_0x5db849[_0x233620(0x336)]*dist(_0x2847e0['x'],_0x2847e0['y'],_0x54862e['x'],_0x54862e['y']):0x64});if(_0x5db849[_0x233620(0x1d3)])world['Music'][_0x233620(0x402)](_0x5db849['sound']);},this['drawProjectiles']=()=>{var _0x2c72b6=_0x513243,_0x1b3644=new Date()[_0x2c72b6(0x26f)]();for(var _0x367c49 in this['projectilAnimation']){if(this['projectilAnimation'][_0x367c49][_0x2c72b6(0x465)]&&_0x1b3644-this[_0x2c72b6(0x1bf)][_0x367c49][_0x2c72b6(0x465)]>this[_0x2c72b6(0x1bf)][_0x367c49][_0x2c72b6(0x375)])this[_0x2c72b6(0x1bf)]['splice'](_0x367c49,0x1);else{if(!this[_0x2c72b6(0x1bf)][_0x367c49]['startTime'])this['projectilAnimation'][_0x367c49][_0x2c72b6(0x465)]=_0x1b3644;}}var _0x483a8d=world[_0x2c72b6(0x15d)],_0x52e6ac=this[_0x2c72b6(0x334)];for(var _0x367c49 in this[_0x2c72b6(0x1bf)]){var _0x50b880=this['projectilAnimation'][_0x367c49],_0x53a58f=(_0x1b3644-_0x50b880['startTime'])/_0x50b880['duration'],_0x20dfe7=_0x53a58f>0.5?0x1-_0x53a58f:_0x53a58f,_0x2e8cfb=_0x50b880[_0x2c72b6(0x3a0)]['x']+_0x53a58f*(_0x50b880[_0x2c72b6(0x384)]['x']-_0x50b880[_0x2c72b6(0x3a0)]['x']),_0x1faba5=_0x50b880[_0x2c72b6(0x3a0)]['y']+_0x53a58f*(_0x50b880[_0x2c72b6(0x384)]['y']-_0x50b880['posA']['y']),_0x282dd3=_0x483a8d[_0x2c72b6(0x2a6)](_0x2e8cfb,_0x1faba5);if(_0x282dd3['x']<0x0||_0x282dd3['y']<0x0||_0x282dd3['x']>_0x52e6ac[_0x2c72b6(0x308)]||_0x282dd3['y']>_0x52e6ac[_0x2c72b6(0x28b)])continue;_0x52e6ac[_0x2c72b6(0x438)](world[_0x2c72b6(0x439)][_0x50b880[_0x2c72b6(0x22c)]][_0x2c72b6(0x2df)],_0x282dd3['x'],_0x282dd3['y'],_0x483a8d[_0x2c72b6(0xea)]*(0.5+_0x20dfe7*0x3),_0x50b880[_0x2c72b6(0x329)]);}},this['delete_player']=_0x3524e0=>{var _0x41b333=_0x513243;if(!_0x3524e0)return console[_0x41b333(0x451)](_0x41b333(0x134));_0x3524e0['isDead']=!![],world[_0x41b333(0x305)][_0x41b333(0x166)](_0x3524e0);if(_0x3524e0&&_0x3524e0['x']!=undefined&&_0x3524e0['y']!=undefined){for(var _0x82e81f=_0x3524e0['x'];_0x82e81f<_0x3524e0['x']+_0x3524e0['size'];_0x82e81f++)for(var _0x466332=_0x3524e0['y'];_0x466332<_0x3524e0['y']+_0x3524e0[_0x41b333(0x29b)];_0x466332++)if(world[_0x41b333(0x15d)][_0x41b333(0x14a)][_0x82e81f]&&world['map'][_0x41b333(0x14a)][_0x82e81f][_0x466332]&&world[_0x41b333(0x15d)][_0x41b333(0x14a)][_0x82e81f][_0x466332][_0x41b333(0x103)]==_0x3524e0)world['map']['mapBlock'][_0x82e81f][_0x466332][_0x41b333(0x103)]=undefined;}var _0x49c162=0x0;while(this[_0x41b333(0x4d4)][_0x49c162]){if(this[_0x41b333(0x4d4)][_0x49c162]==_0x3524e0){this['playerList'][_0x41b333(0x194)](_0x49c162,0x1);break;}_0x49c162++;}},this[_0x513243(0x175)]=()=>{var _0x4b4346=_0x513243,_0x22e7be='./img/player_test3/';this['playerDefaultImgs']=[];var _0x4f162e=[[_0x4b4346(0x371),_0x22e7be+'hand/hand_0.png']];for(var _0x2108c9 in WEAPON_TYPE){var _0x15edfd=WEAPON_TYPE[_0x2108c9][_0x4b4346(0x22c)],_0x46b5d5=WEAPON_TYPE[_0x2108c9][_0x4b4346(0x1da)];_0x4f162e['push']([_0x15edfd,_0x22e7be+_0x4b4346(0x49a)+_0x46b5d5+_0x4b4346(0x386)]),_0x4f162e[_0x4b4346(0x448)]([_0x15edfd+_0x4b4346(0x3a2),_0x22e7be+_0x4b4346(0x49a)+_0x46b5d5+_0x4b4346(0x3a2)+_0x4b4346(0x386)]);}for(var _0x2108c9 in PLAYER_BODY_IMG){var _0x15edfd=PLAYER_BODY_IMG[_0x2108c9];_0x4f162e[_0x4b4346(0x448)]([_0x15edfd,_0x22e7be+'body/'+_0x15edfd+_0x4b4346(0x386)]);}for(var _0x2108c9 in PLAYER_FACE_IMG){var _0x15edfd=PLAYER_FACE_IMG[_0x2108c9];_0x4f162e[_0x4b4346(0x448)]([_0x15edfd,_0x22e7be+_0x4b4346(0x1ab)+_0x15edfd+'.png']);}for(var _0x2108c9 in PLAYER_ARMOR){var _0x15edfd=PLAYER_ARMOR[_0x2108c9][_0x4b4346(0x22c)],_0x46b5d5=PLAYER_ARMOR[_0x2108c9][_0x4b4346(0x2df)];_0x4f162e[_0x4b4346(0x448)]([_0x15edfd,_0x22e7be+_0x4b4346(0x303)+_0x46b5d5+_0x4b4346(0x386)]),_0x4f162e[_0x4b4346(0x448)]([_0x15edfd+'_icon',_0x22e7be+_0x4b4346(0x303)+_0x46b5d5+_0x4b4346(0x3a2)+_0x4b4346(0x386)]);}for(var _0x2108c9 in PROJECTIL_IMG){var _0x15edfd=PROJECTIL_IMG[_0x2108c9];_0x4f162e[_0x4b4346(0x448)]([_0x15edfd,_0x22e7be+_0x4b4346(0x1ba)+_0x15edfd+_0x4b4346(0x386)]);}for(var _0x2108c9 in _0x4f162e){console[_0x4b4346(0x451)](_0x4b4346(0x102)+_0x4f162e[_0x2108c9]),this[_0x4b4346(0x439)][_0x4f162e[_0x2108c9][0x0]]=new myImage(_0x4f162e[_0x2108c9][0x0],_0x4f162e[_0x2108c9][0x1]);}world[_0x4b4346(0x439)]=this[_0x4b4346(0x439)];},this[_0x513243(0x7b)]=(_0x480da2,_0x1e09c9,_0x1643a3,_0xcf173f,_0x3a0384)=>{var _0x2da887=_0x513243,_0x39b832=new Player(_0x480da2,_0x1e09c9,_0x1643a3,_0xcf173f,_0x3a0384);return _0x39b832[_0x2da887(0x196)](_0x39b832,world[_0x2da887(0x15d)]),_0x39b832[_0x2da887(0xee)](),_0x39b832[_0x2da887(0x77)]=0x0,_0x39b832;},this[_0x513243(0x132)]=_0x2992ce=>{var _0xa0f0aa=_0x513243;if(!_0x2992ce||!_0x2992ce[_0xa0f0aa(0x103)]||_0x2992ce['x']==undefined||_0x2992ce['y']==undefined)return console[_0xa0f0aa(0x451)](_0xa0f0aa(0x2a5));console[_0xa0f0aa(0x451)](_0xa0f0aa(0xfd)+[_0x2992ce['x'],_0x2992ce['y'],_0x2992ce[_0xa0f0aa(0x103)][_0xa0f0aa(0x29b)]]);var _0x4819b3=_0x2992ce[_0xa0f0aa(0x103)],_0x2e6212=_0x2992ce['x'],_0x123409=_0x2992ce['y'],_0x2f8f70=_0x2992ce[_0xa0f0aa(0x245)]?_0x2992ce['team']:TEAM_HUMAN,_0x324090=world[_0xa0f0aa(0x15d)];if(_0x2e6212<0x0||_0x2e6212+_0x4819b3[_0xa0f0aa(0x29b)]-0x1>=_0x324090[_0xa0f0aa(0x308)]||_0x123409<0x0||_0x123409+_0x4819b3['size']-0x1>=_0x324090[_0xa0f0aa(0x28b)])return![];for(var _0x4bb5ae=_0x2e6212;_0x4bb5ae<_0x2e6212+_0x4819b3[_0xa0f0aa(0x29b)];_0x4bb5ae++){for(var _0x200ad7=_0x123409;_0x200ad7<_0x123409+_0x4819b3[_0xa0f0aa(0x29b)];_0x200ad7++){if(_0x324090['mapBlock'][_0x4bb5ae][_0x200ad7][_0xa0f0aa(0x103)])return![];if(!_0x324090['mapBlock'][_0x4bb5ae][_0x200ad7][_0xa0f0aa(0x467)]())return![];}}var _0x34f08b=this[_0xa0f0aa(0x7b)](_0x2e6212,_0x123409,_0x4819b3['size'],_0x4819b3[_0xa0f0aa(0x106)],_0x2f8f70);if(!_0x34f08b)return![];_0x34f08b[_0xa0f0aa(0x22c)]=_0x4819b3[_0xa0f0aa(0x22c)],_0x34f08b[_0xa0f0aa(0xff)]=_0x4819b3[_0xa0f0aa(0xff)],_0x34f08b[_0xa0f0aa(0x474)]=_0x4819b3['body_type'],_0x34f08b[_0xa0f0aa(0x41e)]=_0x4819b3[_0xa0f0aa(0x41e)],_0x34f08b['weapon']=_0x4819b3['weapon'],_0x34f08b[_0xa0f0aa(0x1e5)]=_0x4819b3[_0xa0f0aa(0x1e5)],_0x34f08b[_0xa0f0aa(0x2af)]=_0x4819b3[_0xa0f0aa(0x2af)],_0x34f08b[_0xa0f0aa(0x3dc)]=_0x4819b3[_0xa0f0aa(0x3dc)],_0x34f08b[_0xa0f0aa(0xab)]=_0x4819b3[_0xa0f0aa(0x3dc)],_0x34f08b[_0xa0f0aa(0x388)]=_0x4819b3[_0xa0f0aa(0x388)],_0x34f08b[_0xa0f0aa(0x1dc)]=_0x4819b3['stats'],_0x34f08b[_0xa0f0aa(0x29b)]=_0x4819b3[_0xa0f0aa(0x29b)],_0x34f08b['id']=_0x4819b3['id'];if(_0x2f8f70==TEAM_AI)_0x34f08b[_0xa0f0aa(0x43b)]=[-0x1,0x0];for(var _0x4bb5ae=_0x2e6212;_0x4bb5ae<_0x2e6212+_0x4819b3[_0xa0f0aa(0x29b)];_0x4bb5ae++){for(var _0x200ad7=_0x123409;_0x200ad7<_0x123409+_0x4819b3[_0xa0f0aa(0x29b)];_0x200ad7++){_0x324090[_0xa0f0aa(0x14a)][_0x4bb5ae][_0x200ad7]['player']=_0x34f08b;}}return _0x34f08b[_0xa0f0aa(0xee)](),this[_0xa0f0aa(0x4d4)][_0xa0f0aa(0x448)](_0x34f08b),!![];},this[_0x513243(0x2aa)]=_0x427e59=>{var _0x200468=_0x513243;if(!_0x427e59||_0x427e59['x']===undefined||_0x427e59['y']===undefined)return![];var _0x3803ab=_0x427e59['x'],_0x497295=_0x427e59['y'],_0x372a7f=_0x427e59['color']?_0x427e59[_0x200468(0x106)]:{'r':Math[_0x200468(0x311)](Math['random']()*0x100),'g':Math[_0x200468(0x311)](Math[_0x200468(0x3b0)]()*0x100),'b':Math[_0x200468(0x311)](Math['random']()*0x100)},_0x27a836=_0x427e59[_0x200468(0x29b)]||_0x427e59['size']<0x1?_0x427e59[_0x200468(0x29b)]:0x1,_0x4cbbfb=_0x427e59[_0x200468(0x245)]?_0x427e59[_0x200468(0x245)]:TEAM_HUMAN,_0x1ce28e=world['map'];if(_0x3803ab<0x0||_0x3803ab+_0x27a836-0x1>=_0x1ce28e['width']||_0x497295<0x0||_0x497295+_0x27a836-0x1>=_0x1ce28e['height'])return![];for(var _0x97ac92=_0x3803ab;_0x97ac92<_0x3803ab+_0x27a836;_0x97ac92++){for(var _0xeebfc1=_0x497295;_0xeebfc1<_0x497295+_0x27a836;_0xeebfc1++){if(_0x1ce28e[_0x200468(0x14a)][_0x97ac92][_0xeebfc1][_0x200468(0x103)])return![];if(!_0x1ce28e[_0x200468(0x14a)][_0x97ac92][_0xeebfc1][_0x200468(0x467)]())return![];}}var _0x82c36=this['createNewPlayer'](_0x3803ab,_0x497295,_0x27a836,_0x372a7f,_0x4cbbfb);_0x82c36['id']=PLAYER_ID++,nameList=[_0x200468(0x145),_0x200468(0x378),_0x200468(0x454),'Setple','Azyla',_0x200468(0x38f),'Osef','Okalm','Aufait',_0x200468(0x148)],_0x82c36[_0x200468(0x22c)]=nameList[Math['floor'](Math[_0x200468(0x3b0)]()*nameList[_0x200468(0x1e8)])]+'\x20#'+Math['floor'](Math[_0x200468(0x3b0)]()*0x64),_0x82c36[_0x200468(0xaf)]=new Weapon()[_0x200468(0xbc)](),_0x82c36[_0x200468(0x41e)]=new Armor()[_0x200468(0x1b3)]();if(_0x4cbbfb==TEAM_AI)_0x82c36[_0x200468(0x43b)]=[-0x1,0x0];for(var _0x97ac92=_0x3803ab;_0x97ac92<_0x3803ab+_0x27a836;_0x97ac92++){for(var _0xeebfc1=_0x497295;_0xeebfc1<_0x497295+_0x27a836;_0xeebfc1++){_0x1ce28e[_0x200468(0x14a)][_0x97ac92][_0xeebfc1]['player']=_0x82c36;}}return _0x82c36['speed']=_0x427e59['speed']?_0x427e59[_0x200468(0x1e5)]:Math['round'](_0x82c36[_0x200468(0x1e5)]*(0.8+Math[_0x200468(0x3b0)]()*0.4)),_0x82c36[_0x200468(0xee)](),this['playerList']['push'](_0x82c36),_0x82c36;},this['circle_under_player']=(_0x42762e,_0x52fcd4)=>{var _0xd1ee72=_0x513243,_0x35dc6c=world[_0xd1ee72(0x15d)];this['canvasPlayer'][_0xd1ee72(0x4cd)][_0xd1ee72(0x249)]();var _0x9fee90=_0x42762e[_0xd1ee72(0x245)]==TEAM_AI?_0xd1ee72(0x4c4):_0xd1ee72(0x4e1),_0x2c0b97=_0x35dc6c['blocksize_x']/0x2*_0x42762e['size'];if(_0x42762e==this[_0xd1ee72(0x93)])_0x9fee90+='ff',_0x2c0b97=_0x2c0b97*(0x1+0.1*Math[_0xd1ee72(0x42c)](new Date()[_0xd1ee72(0x26f)]()/0x1f4));else _0x9fee90+='88';this['canvasPlayer'][_0xd1ee72(0x4cd)][_0xd1ee72(0x107)]=_0x9fee90,this[_0xd1ee72(0x334)]['ctx']['lineWidth']=0x4*_0x35dc6c[_0xd1ee72(0xea)],this[_0xd1ee72(0x334)][_0xd1ee72(0x4cd)][_0xd1ee72(0x3d0)](_0x52fcd4['x']+_0x35dc6c[_0xd1ee72(0x3a1)]/0x2*_0x42762e[_0xd1ee72(0x29b)],_0x52fcd4['y']+_0x35dc6c[_0xd1ee72(0x3a1)]/0x2*_0x42762e[_0xd1ee72(0x29b)],_0x2c0b97,0x0,0x2*Math['PI']),this[_0xd1ee72(0x334)]['ctx']['stroke']();},this[_0x513243(0x177)]=()=>{var _0xc12968=_0x513243,_0x53c25c=world[_0xc12968(0x15d)];if(!_0x53c25c||!_0x53c25c[_0xc12968(0x1cc)]||!_0x53c25c['botright_block'])return;var _0x433c71=_0x53c25c[_0xc12968(0x1cc)]['x'],_0x5a6fc7=_0x53c25c[_0xc12968(0x1cc)]['y'],_0x3d2606=_0x53c25c['botright_block']['x'],_0xcd8133=_0x53c25c['botright_block']['y'],_0x4bb1a3=[],_0x32b7a8=[];for(var _0x3ca261=_0x433c71;_0x3ca261<=_0x3d2606;_0x3ca261++){for(var _0x34cd46=_0x5a6fc7;_0x34cd46<=_0xcd8133;_0x34cd46++){var _0xe22910=_0x53c25c[_0xc12968(0x14a)][_0x3ca261][_0x34cd46][_0xc12968(0x103)];if(!_0xe22910||_0x32b7a8[_0xc12968(0x2ea)](_0x49664e=>_0x49664e==_0xe22910))continue;if(_0xe22910==this['Playerturn'])_0x32b7a8[_0xc12968(0x448)](_0xe22910);else _0x32b7a8[_0xc12968(0xf6)](_0xe22910);}}for(var _0x262c4e in _0x32b7a8){var _0xe22910=_0x32b7a8[_0x262c4e];if(!_0xe22910[_0xc12968(0x1b8)]||!_0xe22910['bodyPartImgReady'])_0xe22910[_0xc12968(0x3dd)](this[_0xc12968(0x439)]);var _0x5b0e16=_0x53c25c[_0xc12968(0x380)](_0xe22910['x'],_0xe22910['y']);if(_0x5b0e16)this['circle_under_player'](_0xe22910,_0x5b0e16),_0xe22910['drawPlayer'](this[_0xc12968(0x334)],_0x5b0e16['x'],_0x5b0e16['y'],_0x53c25c);else continue;_0xe22910[_0xc12968(0x18a)]&&(this[_0xc12968(0xcc)]=!![],_0xe22910['needUIRedraw']=![]);var _0x38300b=new MyUI(this[_0xc12968(0xd4)],_0x5b0e16['x']-_0x53c25c[_0xc12968(0x3a1)]/0x4,_0x5b0e16['y']-_0x53c25c[_0xc12968(0x2b4)]/0x4,0x64*world[_0xc12968(0x15d)][_0xc12968(0xea)],world[_0xc12968(0x15d)][_0xc12968(0xea)],undefined,undefined,0x1),_0x35e1fb=_0xe22910[_0xc12968(0x245)]==TEAM_HUMAN?_0xc12968(0x432):_0xc12968(0x155);_0x38300b[_0xc12968(0x127)](_0xe22910[_0xc12968(0x22c)],Math[_0xc12968(0x311)](0x28*world['map'][_0xc12968(0xea)]),0x10,_0x35e1fb,PLAYER_NAME_FONT);var _0x239cc2=Math[_0xc12968(0x311)](0x14*world[_0xc12968(0x15d)][_0xc12968(0xea)]);if(_0xe22910==this[_0xc12968(0x93)])_0x38300b['addGauge'](_0xc12968(0x299)+_0xe22910['ActionPoint']+'/'+_0xe22910[_0xc12968(0x2af)],_0xe22910[_0xc12968(0x4b9)]/_0xe22910[_0xc12968(0x2af)],Math[_0xc12968(0x311)](0x64*world[_0xc12968(0x15d)][_0xc12968(0xea)]),_0x239cc2+0x1,_0x239cc2,'#ffffff',_0xc12968(0x15e),_0xc12968(0x187));else _0x38300b[_0xc12968(0x20a)](_0xc12968(0x35a)+Math[_0xc12968(0x311)](0x64*_0xe22910[_0xc12968(0x77)])+'\x20%',_0xe22910[_0xc12968(0x77)],Math['floor'](0x64*world[_0xc12968(0x15d)][_0xc12968(0xea)]),_0x239cc2+0x1,_0x239cc2,_0xc12968(0xb1),_0xc12968(0x15e),_0xc12968(0x187));_0x38300b[_0xc12968(0x20a)](_0xc12968(0x1fc)+Math[_0xc12968(0x311)](_0xe22910['life'])+'/'+Math[_0xc12968(0x311)](_0xe22910[_0xc12968(0x3dc)]),_0xe22910['life']/_0xe22910[_0xc12968(0x3dc)],Math['floor'](0x64*world[_0xc12968(0x15d)][_0xc12968(0xea)]),_0x239cc2+0x1,_0x239cc2,'#ffffff',_0xc12968(0x4c4),_0xc12968(0x187)),_0x4bb1a3['push'](_0x38300b);}if(this[_0xc12968(0xcc)]){this[_0xc12968(0xd4)][_0xc12968(0x2a9)]();for(var _0x262c4e in _0x4bb1a3){_0x4bb1a3[_0x262c4e][_0xc12968(0x396)]();}this[_0xc12968(0xcc)]=![];}this[_0xc12968(0x24a)]();},this['getPlayerByBlock']=_0x4cab72=>{var _0x228947=_0x513243;if(!_0x4cab72||_0x4cab72['x']==undefined||_0x4cab72['y']==undefined)return undefined;return this['playerList'][_0x228947(0x2ea)](_0x23dd84=>_0x23dd84['x']==_0x4cab72['x']&&_0x23dd84['y']==_0x4cab72['y']);},this[_0x513243(0x18d)]=()=>{var _0x45d26c=_0x513243,_0x4a5acb=undefined,_0x1c9b98=0x0,_0x53884a=0x0;for(var _0x461b30 in this[_0x45d26c(0x4d4)]){var _0x158ff3=this['playerList'][_0x461b30];if((0x1-_0x158ff3[_0x45d26c(0x77)])/_0x158ff3[_0x45d26c(0x1e5)]<=(0x1-_0x1c9b98)/_0x53884a){if(_0x4a5acb&&(0x1-_0x158ff3['gaugeSpeed'])*_0x158ff3[_0x45d26c(0x1e5)]==(0x1-_0x1c9b98)*_0x53884a){if(_0x4a5acb[_0x45d26c(0x1e5)]>_0x158ff3[_0x45d26c(0x1e5)])continue;}_0x4a5acb=_0x158ff3,_0x1c9b98=_0x158ff3['gaugeSpeed'],_0x53884a=_0x158ff3[_0x45d26c(0x1e5)];}}if(!_0x4a5acb)return undefined;for(var _0x461b30 in this[_0x45d26c(0x4d4)]){var _0x158ff3=this[_0x45d26c(0x4d4)][_0x461b30];_0x158ff3['gaugeSpeed']+=(0x1-_0x1c9b98)*(_0x158ff3[_0x45d26c(0x1e5)]/_0x53884a);}return _0x4a5acb;},this['getNextTurnList']=_0x388330=>{var _0x92b16=_0x513243,_0x5c99da=[],_0x3f9f0f=[];for(var _0x3f65af in this[_0x92b16(0x4d4)]){var _0x26d870=this[_0x92b16(0x4d4)][_0x3f65af];_0x3f9f0f[_0x3f65af]={'player':_0x26d870,'gaugeSpeed':_0x26d870[_0x92b16(0x77)],'speed':_0x26d870[_0x92b16(0x1e5)]};}if(_0x388330<0x0||_0x3f9f0f['length']<0x1)return[];for(var _0x855aab=0x0;_0x855aab<_0x388330;_0x855aab++){var _0x45c220=undefined,_0x38973e=0x0,_0x2745ff=0x0;for(var _0x3f65af in _0x3f9f0f){var _0x26d870=_0x3f9f0f[_0x3f65af];if((0x1-_0x26d870['gaugeSpeed'])/_0x26d870[_0x92b16(0x1e5)]<=(0x1-_0x38973e)/_0x2745ff){if(_0x45c220&&(0x1-_0x26d870[_0x92b16(0x77)])*_0x26d870[_0x92b16(0x1e5)]==(0x1-_0x38973e)*_0x2745ff){if(_0x45c220[_0x92b16(0x1e5)]>_0x26d870['speed'])continue;}_0x45c220=_0x26d870,_0x38973e=_0x26d870['gaugeSpeed'],_0x2745ff=_0x26d870['speed'];}}if(!_0x45c220)continue;for(var _0x3f65af in _0x3f9f0f){var _0x26d870=_0x3f9f0f[_0x3f65af];_0x26d870[_0x92b16(0x77)]+=(0x1-_0x38973e)*(_0x26d870[_0x92b16(0x1e5)]/_0x2745ff);}_0x45c220[_0x92b16(0x77)]=0x0,_0x5c99da[_0x92b16(0x448)](_0x45c220[_0x92b16(0x103)]);}return _0x5c99da;},this[_0x513243(0x3c7)]=_0x4d4e83=>{var _0x1c205d=_0x513243,_0x3f6841=this[_0x1c205d(0x4d4)][_0x1c205d(0x2ea)](_0x4abd54=>_0x4abd54[_0x1c205d(0x245)]==TEAM_AI),_0x298409=this[_0x1c205d(0x4d4)][_0x1c205d(0x2ea)](_0x5a845f=>_0x5a845f[_0x1c205d(0x245)]==TEAM_HUMAN);if(!_0x3f6841||!_0x298409){console[_0x1c205d(0x451)]('end\x20of\x20the\x20combat'),this[_0x1c205d(0x23f)]();return;}world[_0x1c205d(0x3c8)]&&(world['GameUI'][_0x1c205d(0xa8)]=undefined,world[_0x1c205d(0x3c8)][_0x1c205d(0x1be)]=undefined,world['GameUI'][_0x1c205d(0x46f)]=undefined,world['GameUI'][_0x1c205d(0x443)]=undefined);if(world[_0x1c205d(0x26d)][_0x1c205d(0x93)]&&world['players'][_0x1c205d(0x93)]['AI']&&!world['players'][_0x1c205d(0x93)]['AI'][_0x1c205d(0x1c5)])return;if(this['Playerturn'])this[_0x1c205d(0x93)][_0x1c205d(0x77)]=0x0;this[_0x1c205d(0x93)]=this[_0x1c205d(0x18d)]();if(!this[_0x1c205d(0x93)])return;this[_0x1c205d(0xb6)][_0x1c205d(0x2ed)]({'type':this[_0x1c205d(0x93)][_0x1c205d(0x245)],'txt':this['Playerturn']['name']+_0x1c205d(0x138)});if(world['map'])world[_0x1c205d(0x15d)][_0x1c205d(0x3e6)](this[_0x1c205d(0x93)]);world['GameUI']&&(world[_0x1c205d(0x3c8)][_0x1c205d(0xa8)]=this[_0x1c205d(0x93)],world[_0x1c205d(0x3c8)][_0x1c205d(0x9d)]=!![]);this[_0x1c205d(0x93)][_0x1c205d(0x4b9)]=this['Playerturn']['ActionPointMax'];if(this['Playerturn']['AI'])this[_0x1c205d(0x93)]['AI'][_0x1c205d(0x1c5)]=![];},this['endFight']=()=>{var _0x1fcc71=_0x513243;world[_0x1fcc71(0x3c8)]=undefined,world[_0x1fcc71(0x15d)]=undefined,world[_0x1fcc71(0x497)]=new VillageUI(world[_0x1fcc71(0x3db)][_0x1fcc71(0x498)][_0x1fcc71(0x3c8)]),world[_0x1fcc71(0x3db)]['canList']['mapFloor'][_0x1fcc71(0x477)](),world[_0x1fcc71(0x3db)][_0x1fcc71(0x498)][_0x1fcc71(0x49d)][_0x1fcc71(0x2a9)](),world[_0x1fcc71(0x3db)][_0x1fcc71(0x498)]['mapTopElem'][_0x1fcc71(0x477)](),world[_0x1fcc71(0x3db)][_0x1fcc71(0x498)][_0x1fcc71(0x2b9)][_0x1fcc71(0x2a9)](),world[_0x1fcc71(0x3db)][_0x1fcc71(0x498)][_0x1fcc71(0x26d)][_0x1fcc71(0x477)](),world[_0x1fcc71(0x3db)][_0x1fcc71(0x498)][_0x1fcc71(0x26d)]['cleanCanvas'](),world['Screen'][_0x1fcc71(0x498)][_0x1fcc71(0x165)][_0x1fcc71(0x477)](),world['Screen'][_0x1fcc71(0x498)][_0x1fcc71(0x165)][_0x1fcc71(0x2a9)](),world['Music'][_0x1fcc71(0x15c)]('where-the-brave-may-live-forever'),world['village'][_0x1fcc71(0x353)]=![],world['village'][_0x1fcc71(0xb6)]['addMessage']({'txt':_0x1fcc71(0x361)});};},GameUI=function(_0x781c26){var _0x49c33b=_0x3c4aa9;GAME_UI_DEFAULTSIZE_X=0xc8,GAME_UI_DEFAULTMARGE=0x5,GAME_UI_LETTER_SIZE=0x1e,GAME_UI_FONT=_0x49c33b(0x339),GAME_UI_FONT_BUTTON='\x27Bauhaus\x2093\x27',GAME_UI_WINDOWINFO_MOUSETIME=0x190,this['canvas']=_0x781c26,this[_0x49c33b(0x3ba)]=GAME_UI_DEFAULTSIZE_X,this[_0x49c33b(0xea)]=0x1,this[_0x49c33b(0x110)]=_0x49c33b(0x4be),this[_0x49c33b(0x17b)]=_0x49c33b(0x3e0),this[_0x49c33b(0x4c3)]=GAME_UI_DEFAULTMARGE,this[_0x49c33b(0x9d)]=!![],this[_0x49c33b(0x377)]=undefined,this['UI']=undefined,this[_0x49c33b(0x2e8)]=![],this[_0x49c33b(0x422)]=undefined,this[_0x49c33b(0x126)]=![],this['UIevent']=undefined,this[_0x49c33b(0x405)]=![],this['eventPageOffset']={'value':0x0},this[_0x49c33b(0xa8)]=undefined,this['blockSelected']=undefined,this['selecting_block']=undefined,this['highlightZone']=undefined,this[_0x49c33b(0x24d)]=undefined,this[_0x49c33b(0xaa)]=undefined,this[_0x49c33b(0x3e2)]={'x':0xa,'y':0xa},this[_0x49c33b(0xf3)]=!![],this['init_check_mouse_move']=()=>{window['addEventListener']('mousemove',_0x1a6264=>{var _0x2e7a12=_0x42da,_0x5accfc=![];this[_0x2e7a12(0x422)]&&this[_0x2e7a12(0x422)]['mouse_move_check'](_0x1a6264[_0x2e7a12(0x349)],_0x1a6264['clientY'])&&!this[_0x2e7a12(0xf3)]&&(this[_0x2e7a12(0x9d)]=!![],this[_0x2e7a12(0xf3)]=!![],_0x5accfc=!![]);this['UI']&&this['UI'][_0x2e7a12(0xf4)](_0x1a6264[_0x2e7a12(0x349)],_0x1a6264[_0x2e7a12(0x34c)])&&!this[_0x2e7a12(0xf3)]&&(this['needRedraw']=!![],this[_0x2e7a12(0xf3)]=!![],_0x5accfc=!![]);this['UIevent']&&this[_0x2e7a12(0x3b5)]['mouse_move_check'](_0x1a6264['clientX'],_0x1a6264[_0x2e7a12(0x34c)])&&!this[_0x2e7a12(0xf3)]&&(this['needRedraw']=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x5accfc=!![]);!_0x5accfc&&this[_0x2e7a12(0xf3)]&&(this['mouseWasOnMouseLightLastDraw']=![],this[_0x2e7a12(0x9d)]=!![]);if(this==world[_0x2e7a12(0x3c8)])this[_0x2e7a12(0x3f9)]();},{'once':!![]});},this[_0x49c33b(0x3f9)](),this[_0x49c33b(0x28a)]=_0x5552a3=>{var _0x52a5e2=_0x49c33b;if(!world[_0x52a5e2(0x442)])return![];var _0x7106a7=world[_0x52a5e2(0x442)][_0x52a5e2(0x1ac)];if(!_0x7106a7)return![];if(new Date()[_0x52a5e2(0x26f)]()-_0x7106a7[_0x52a5e2(0x44e)]<GAME_UI_WINDOWINFO_MOUSETIME)return this[_0x52a5e2(0xaa)]&&(this['InfoWinfowPos']=![],this[_0x52a5e2(0x9d)]=!![]),![];if(this['UI']&&this['UI'][_0x52a5e2(0x28a)](_0x5552a3))return!![];if(this['UIturn']&&this[_0x52a5e2(0x422)][_0x52a5e2(0x28a)](_0x5552a3))return!![];if(this['UIevent']&&this[_0x52a5e2(0x3b5)][_0x52a5e2(0x28a)](_0x5552a3))return!![];if(!this[_0x52a5e2(0x24d)])return![];if(!this['InfoWinfowPos'])this['InfoWinfowPos']={'x':_0x7106a7['x'],'y':_0x7106a7['y']};else{if(!_0x5552a3&&_0x7106a7['x']==this[_0x52a5e2(0xaa)]['x']&&_0x7106a7['y']==this['InfoWinfowPos']['y'])return![];}var _0x2b250d=new MyUI(this[_0x52a5e2(0x17d)],_0x7106a7['x'],_0x7106a7['y'],0x32,0x1,this[_0x52a5e2(0x110)],this[_0x52a5e2(0x17b)],0x1);_0x2b250d['addTextZone'](_0x52a5e2(0x10b),GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);var _0x14452f=world[_0x52a5e2(0x15d)][_0x52a5e2(0x34a)](_0x7106a7);for(var _0x5394bf in this['mouseInfoWindow']){var _0x48ab75=this['mouseInfoWindow'][_0x5394bf];_0x2b250d[_0x52a5e2(0x127)](_0x48ab75['txt']+_0x48ab75[_0x52a5e2(0x33a)]({'block':_0x14452f}),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x52a5e2(0x187),GAME_UI_FONT);}_0x2b250d['drawUI']();},this[_0x49c33b(0x313)]=_0x275450=>{var _0x101551=_0x49c33b;if(this['UI']&&this['UI'][_0x101551(0x13a)](_0x275450))return!![];if(this[_0x101551(0x422)]&&this[_0x101551(0x422)]['key_buton_check'](_0x275450))return!![];if(this[_0x101551(0x3b5)]&&this[_0x101551(0x3b5)][_0x101551(0x13a)](_0x275450)){if(_0x275450=='ControlLeft'&&this['cancel_menu']())return!![];}return![];},this[_0x49c33b(0x20d)]=()=>{var _0x5445d0=_0x49c33b,_0x50161c=![];if(this['PlayerInfodisplay'])return this[_0x5445d0(0x2e8)]=![],!![];this[_0x5445d0(0x46f)]&&(this[_0x5445d0(0x46f)]=undefined,_0x50161c=!![]);this[_0x5445d0(0x443)]&&(this[_0x5445d0(0x443)]=undefined,this[_0x5445d0(0x24d)]=undefined,this[_0x5445d0(0xaa)]=undefined,world[_0x5445d0(0x15d)][_0x5445d0(0x9d)]=!![],_0x50161c=!![]);if(_0x50161c)return _0x50161c;_0x50161c=![];this[_0x5445d0(0xa8)]&&(this[_0x5445d0(0xa8)]=undefined,_0x50161c=!![]);this[_0x5445d0(0x1be)]&&(this[_0x5445d0(0x1be)]=undefined,_0x50161c=!![]);if(_0x50161c)return!![];return![];},this[_0x49c33b(0x3bc)]=_0x430f3e=>{var _0x30aac7=_0x49c33b,_0xa9942a=_0x430f3e['x'],_0x341151=_0x430f3e['y'];if(_0x430f3e[_0x30aac7(0x3b1)]==0x2){var _0x1c11c3=this['cancel_menu']();if(_0x1c11c3)return!![];}else{if(this['UI']&&this['UI'][_0x30aac7(0x13d)](_0xa9942a,_0x341151))return!![];if(this[_0x30aac7(0x422)]&&this[_0x30aac7(0x422)]['click_buton_check'](_0xa9942a,_0x341151))return!![];if(this[_0x30aac7(0x3b5)]&&this[_0x30aac7(0x3b5)]['click_buton_check'](_0xa9942a,_0x341151))return!![];if(world['map'])var _0x21bc1c=world['map'][_0x30aac7(0x34a)]({'x':_0xa9942a,'y':_0x341151});if(!_0x21bc1c)return![];if(this['selecting_block']&&this[_0x30aac7(0x443)]&&this[_0x30aac7(0x443)]['zone']&&!this[_0x30aac7(0x443)][_0x30aac7(0x27a)][_0x30aac7(0x2ea)](_0x533014=>_0x533014==_0x21bc1c))return![];if(this[_0x30aac7(0x46f)])return this[_0x30aac7(0x46f)][_0x30aac7(0x33a)]({'block':_0x21bc1c,'input':this[_0x30aac7(0x46f)][_0x30aac7(0x232)]}),this[_0x30aac7(0x443)]=undefined,this[_0x30aac7(0x24d)]=undefined,this[_0x30aac7(0x1be)]=undefined,this['selecting_block']=undefined,world[_0x30aac7(0x15d)][_0x30aac7(0x9d)]=!![],!![];else this[_0x30aac7(0x1be)]=_0x21bc1c;return this[_0x30aac7(0xa8)]=_0x21bc1c[_0x30aac7(0x103)],!![];}return![];},this[_0x49c33b(0x325)]=_0xf16e5a=>{var _0x54a220=_0x49c33b;if(!_0xf16e5a||!_0xf16e5a[_0x54a220(0x33a)])return;this[_0x54a220(0x46f)]={'callback':_0xf16e5a['callback'],'input':_0xf16e5a[_0x54a220(0x232)],'info':_0xf16e5a[_0x54a220(0x31c)]},this[_0x54a220(0x9d)]=!![],_0xf16e5a[_0x54a220(0x85)]&&(this[_0x54a220(0x443)]={'zone':_0xf16e5a[_0x54a220(0x85)]['callback'](_0xf16e5a[_0x54a220(0x85)][_0x54a220(0x232)]),'type':_0xf16e5a['highlight'][_0x54a220(0x232)]['type']},world[_0x54a220(0x15d)][_0x54a220(0x9d)]=!![]),_0xf16e5a['windowInfo']&&(this[_0x54a220(0x24d)]=_0xf16e5a['windowInfo']);},this['center_on_selected_player']=()=>{var _0x1a9f74=_0x49c33b;if(!world[_0x1a9f74(0x26d)][_0x1a9f74(0x93)])return![];world['map'][_0x1a9f74(0x3e6)](world['players'][_0x1a9f74(0x93)]),this['playersSelected']=world[_0x1a9f74(0x26d)][_0x1a9f74(0x93)];},this[_0x49c33b(0x2e4)]=()=>{var _0x4a3efc=_0x49c33b;0x0;var _0x3e9ccb=[];_0x3e9ccb[_0x4a3efc(0x448)]({'type':_0x4a3efc(0x2df),'img':this[_0x4a3efc(0xa8)]['bodyPartImg'],'lenx':0xc8,'leny':0xc8}),this['UI'][_0x4a3efc(0x36c)](_0x3e9ccb);var _0x4f9481=this[_0x4a3efc(0xa8)],_0x619333=''+_0x4f9481[_0x4a3efc(0x22c)]+'\x20(',_0x280c6e=_0x4f9481[_0x4a3efc(0x245)]==TEAM_AI?_0x4a3efc(0x235):_0x4a3efc(0x1c7);_0x619333+=_0x280c6e,_0x619333+='\x0a'+_0x4f9481[_0x4a3efc(0xab)]+'/'+_0x4f9481[_0x4a3efc(0x3dc)]+_0x4a3efc(0x2f9),_0x619333+='\x0a'+_0x4f9481['ActionPoint']+'/'+_0x4f9481[_0x4a3efc(0x2af)]+_0x4a3efc(0x10f),_0x619333+='\x0a'+_0x4a3efc(0x21f)+_0x4f9481[_0x4a3efc(0x1e5)],_0x619333+='\x0a'+_0x4a3efc(0xac)+_0x4f9481[_0x4a3efc(0x388)];for(var _0x167189 in _0x4f9481[_0x4a3efc(0x1dc)])_0x619333+='\x0a'+_0x167189+_0x4a3efc(0xa3)+_0x4f9481[_0x4a3efc(0x1dc)][_0x167189];this['UI'][_0x4a3efc(0x127)](_0x619333,GAME_UI_LETTER_SIZE/0x2,0x270f,_0x4a3efc(0x187),GAME_UI_FONT);if(_0x4f9481[_0x4a3efc(0xaf)])this['UI'][_0x4a3efc(0x127)](_0x4a3efc(0x2c2)+_0x4f9481[_0x4a3efc(0xaf)][_0x4a3efc(0x22c)]+'\x27\x0a'+_0x4f9481['weapon'][_0x4a3efc(0x2e6)](),GAME_UI_LETTER_SIZE/0x2,0x270f,'#000000',GAME_UI_FONT);if(_0x4f9481['armor'])this['UI'][_0x4a3efc(0x127)](_0x4a3efc(0x369)+_0x4f9481['armor'][_0x4a3efc(0x2ec)](),GAME_UI_LETTER_SIZE/0x2,0x270f,_0x4a3efc(0x187),GAME_UI_FONT);},this[_0x49c33b(0x26e)]=()=>{var _0x4bae00=_0x49c33b;this[_0x4bae00(0x3b5)]=new MyUI(this[_0x4bae00(0x17d)],this[_0x4bae00(0x422)][_0x4bae00(0x3ba)]+this['UI'][_0x4bae00(0x3ba)],0x0,0x5,this['scale'],this['background'],this[_0x4bae00(0x17b)],this[_0x4bae00(0x4c3)]);var _0x2b445d=[];_0x2b445d[_0x4bae00(0x448)]({'type':_0x4bae00(0x3b1),'mouseLight':'ff','callback':()=>{var _0x2e4d36=_0x4bae00;this['UIeventExpanded']=!this[_0x2e4d36(0x405)];},'callback_data':GAME_UI_FONT,'txt':_0x4bae00(0xe0),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x4bae00(0x3eb),'strokeColor':this['UIeventExpanded']?_0x4bae00(0x4d6):_0x4bae00(0x444),'windowInfo':[{'callback':()=>{var _0x20bca8=_0x4bae00;return _0x20bca8(0x363);},'input':_0x2b7dfa}]});if(this[_0x4bae00(0x405)]){var _0x3bffa8=this['GetPageSelector'](this[_0x4bae00(0x13e)]);for(var _0x2b7dfa in _0x3bffa8)_0x2b445d['push'](_0x3bffa8[_0x2b7dfa]);}this['UIevent'][_0x4bae00(0x36c)](_0x2b445d);if(this['UIeventExpanded']&&world[_0x4bae00(0x26d)]){var _0x263dd5=-0x1;for(var _0x2b7dfa=this[_0x4bae00(0x13e)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW;_0x2b7dfa>=this[_0x4bae00(0x13e)][_0x4bae00(0x3b6)];_0x2b7dfa--){_0x263dd5++;var _0x420d4c=world[_0x4bae00(0x26d)][_0x4bae00(0xb6)][_0x4bae00(0x192)][_0x2b7dfa];if(_0x2b7dfa>=world[_0x4bae00(0x26d)]['MessageSystem'][_0x4bae00(0x192)][_0x4bae00(0x1e8)])continue;if(!_0x420d4c)break;this[_0x4bae00(0x25c)](_0x420d4c);}}console[_0x4bae00(0x451)](this['eventPageOffset'][_0x4bae00(0x3b6)]),this[_0x4bae00(0x3b5)][_0x4bae00(0x396)]();},this['drawGameUI']=()=>{var _0x14afef=_0x49c33b;if(!world[_0x14afef(0x15d)]||!world[_0x14afef(0x26d)])return;this['needRedraw']=![],this[_0x14afef(0x17d)]['GetCanvasPos'](),this[_0x14afef(0x17d)][_0x14afef(0x2a9)](),this[_0x14afef(0x422)]=new MyUI(this['canvas'],0x0,0x0,0x32,this[_0x14afef(0xea)],this[_0x14afef(0x110)],this[_0x14afef(0x17b)],0x1),this['UIturn'][_0x14afef(0x36c)]([{'type':_0x14afef(0x3b1),'mouseLight':'ff','callback':()=>{var _0xd56156=_0x14afef;this['UIturnExpanded']=!this[_0xd56156(0x126)];},'callback_data':GAME_UI_FONT,'txt':'Turns','txt_color':_0x14afef(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x14afef(0x3eb),'strokeColor':this['UIeventExpanded']?_0x14afef(0x4d6):_0x14afef(0x444),'windowInfo':[{'callback':()=>{var _0x78f9c8=_0x14afef;return _0x78f9c8(0x447);},'input':_0x2d96d6}]}]);var _0xd4ecbc=world[_0x14afef(0x26d)][_0x14afef(0x226)](0xf);for(var _0x2d96d6 in _0xd4ecbc){var _0x206486=_0xd4ecbc[_0x2d96d6],_0x3b7afe=[];_0x3b7afe[_0x14afef(0x448)]({'type':'img','img':_0x206486[_0x14afef(0x1b8)],'lenx':0x1e,'leny':0x1e});if(this[_0x14afef(0x126)])_0x3b7afe[_0x14afef(0x448)]({'type':_0x14afef(0x3b1),'mouseLight':'ff','callback':_0x45219e=>{var _0x319802=_0x14afef;this[_0x319802(0xa8)]=_0x45219e;if(world[_0x319802(0x15d)])world[_0x319802(0x15d)][_0x319802(0x3e6)](_0x45219e);},'callback_data':_0x206486,'txt':_0x206486['name'],'txt_color':_0x206486[_0x14afef(0x245)]==TEAM_HUMAN?_0x14afef(0xc8):'#ff0000','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x14afef(0x3eb),'strokeColor':this['playersSelected']==_0x206486?_0x14afef(0x21b):_0x14afef(0x4d6),'windowInfo':[{'callback':_0x18b504=>{var _0x220289=_0x14afef;return'I\x20will\x20play\x20in\x20'+_0x18b504+_0x220289(0x2f0);},'input':_0x2d96d6}]});this[_0x14afef(0x422)][_0x14afef(0x36c)](_0x3b7afe);}this['UIturn']['drawUI'](),this['UI']=new MyUI(this['canvas'],this['UIturn'][_0x14afef(0x3ba)],0x0,this[_0x14afef(0x3ba)],this[_0x14afef(0xea)],this['background'],this[_0x14afef(0x17b)],this[_0x14afef(0x4c3)]);if(this[_0x14afef(0x2e8)]&&this['playersSelected'])this[_0x14afef(0x2e4)](),this['UI']['addButton'](this[_0x14afef(0x2e8)]&&this[_0x14afef(0xa8)]?_0x14afef(0x21a):_0x14afef(0x31c),GAME_UI_LETTER_SIZE,'#000000',_0x14afef(0xb1),this[_0x14afef(0x17b)],()=>{var _0x19af8=_0x14afef;this[_0x19af8(0x2e8)]=!this[_0x19af8(0x2e8)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');else{if(world[_0x14afef(0x26d)][_0x14afef(0x93)])this['UI'][_0x14afef(0x366)](_0x14afef(0x12e),GAME_UI_LETTER_SIZE,_0x14afef(0xe6),_0x14afef(0x401),this[_0x14afef(0x17b)],world[_0x14afef(0x26d)]['nextTurn'],undefined,GAME_UI_FONT,_0x14afef(0x94)),this['UI'][_0x14afef(0x366)]('center\x20on\x20player',GAME_UI_LETTER_SIZE,_0x14afef(0x187),_0x14afef(0x252),this[_0x14afef(0x17b)],this['center_on_selected_player'],undefined,GAME_UI_FONT,_0x14afef(0x4d0));else this['UI']['addButton'](_0x14afef(0x1e4),GAME_UI_LETTER_SIZE,_0x14afef(0xe6),_0x14afef(0xa5),this['stroke'],world[_0x14afef(0x26d)]['nextTurn'],undefined,GAME_UI_FONT,_0x14afef(0x94));if(this[_0x14afef(0x1be)]&&!this[_0x14afef(0xa8)]){var _0x202d68=this['blockSelected']['x'],_0x47b6f3=this[_0x14afef(0x1be)]['y'],_0x440d87={'r':Math[_0x14afef(0x311)](Math['random']()*0x100),'g':Math[_0x14afef(0x311)](Math[_0x14afef(0x3b0)]()*0x100),'b':Math[_0x14afef(0x311)](Math['random']()*0x100)};this['UI'][_0x14afef(0x366)](_0x14afef(0x104),GAME_UI_LETTER_SIZE,_0x14afef(0x187),_0x14afef(0x346),this[_0x14afef(0x17b)],world[_0x14afef(0x26d)][_0x14afef(0x2aa)],{'x':_0x202d68,'y':_0x47b6f3,'color':_0x440d87},GAME_UI_FONT);}if(this['playersSelected']){var _0x206486=this[_0x14afef(0xa8)];this['UI'][_0x14afef(0x366)](_0x206486[_0x14afef(0x22c)],GAME_UI_LETTER_SIZE,'#000000',_0x14afef(0xb1),this['stroke'],()=>{var _0x5a281c=_0x14afef;this[_0x5a281c(0x2e8)]=!this[_0x5a281c(0x2e8)];},undefined,GAME_UI_FONT,undefined,undefined,'ff');if(this[_0x14afef(0xa8)]==world[_0x14afef(0x26d)][_0x14afef(0x93)]&&this['playersSelected'][_0x14afef(0x245)]==TEAM_HUMAN){if(_0x206486['bodyPartImg']&&_0x206486[_0x14afef(0x3c1)]&&_0x206486['bodyPartImg'][_0x14afef(0x1ea)])this['UI']['addImage'](_0x206486[_0x14afef(0x1b8)],0x64,0x64);else this[_0x14afef(0x9d)]=!![];if(this[_0x14afef(0x46f)])this['UI']['addTextZone'](_0x14afef(0x452)+this[_0x14afef(0x46f)][_0x14afef(0x31c)],GAME_UI_LETTER_SIZE*0.8,0x14,_0x14afef(0x187),GAME_UI_FONT);else for(var _0x2d96d6 in _0x206486[_0x14afef(0x191)]){var _0x1daeeb=_0x206486[_0x14afef(0x191)][_0x2d96d6];this['UI'][_0x14afef(0x366)](_0x1daeeb[_0x14afef(0x22c)],GAME_UI_LETTER_SIZE,_0x14afef(0x187),_0x14afef(0x346),this[_0x14afef(0x17b)],this[_0x14afef(0x325)],{'callback':_0x1daeeb['callback'],'info':_0x1daeeb[_0x14afef(0x87)],'highlight':{'callback':_0x1daeeb[_0x14afef(0xd9)],'input':_0x1daeeb['zone_selecting_input']},'windowInfo':_0x1daeeb['windowInfo']},GAME_UI_FONT,parseInt(_0x2d96d6)+0x1);}}}}this[_0x14afef(0x26e)](),this['UI'][_0x14afef(0x396)](),this[_0x14afef(0x28a)](!![]);},this[_0x49c33b(0xf9)]=_0x2aa592=>{var _0x1b376a=_0x49c33b,_0x1efd19=[{'type':_0x1b376a(0x3b1),'callback':()=>{var _0x5c8844=_0x1b376a;_0x2aa592[_0x5c8844(0x3b6)]=_0x2aa592[_0x5c8844(0x3b6)]>0x0?_0x2aa592['value']-0x1:0x0;},'txt':'∧','txt_color':_0x1b376a(0xb1),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x1b376a(0x29d),'strokeColor':_0x1b376a(0x187),'windowInfo':[{'callback':()=>{return'page\x20up';}}]},{'type':_0x1b376a(0x3b1),'callback':()=>{var _0x497a1d=_0x1b376a;_0x2aa592[_0x497a1d(0x3b6)]++;},'txt':'∨','txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x1b376a(0x29d),'strokeColor':_0x1b376a(0x187),'windowInfo':[{'callback':()=>{var _0x29c7ad=_0x1b376a;return _0x29c7ad(0x3d8);}}]},{'type':_0x1b376a(0x210),'txt':'['+_0x2aa592[_0x1b376a(0x3b6)]+':'+(_0x2aa592[_0x1b376a(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':_0x1b376a(0x187),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];return _0x1efd19;},this['displayMessageEvent']=_0x49d2bf=>{var _0xb01185=_0x49c33b;if(!_0x49d2bf)return;var _0x3760f8=_0xb01185(0x187);switch(_0x49d2bf[_0xb01185(0x3ad)]){case TEAM_HUMAN:_0x3760f8=_0xb01185(0x1cf);break;case TEAM_AI:_0x3760f8=_0xb01185(0x4c4);break;}this[_0xb01185(0x3b5)]['addTextZone'](_0x49d2bf[_0xb01185(0x210)],GAME_UI_LETTER_SIZE/0x2,0x270f,_0x3760f8,GAME_UI_FONT);};},ControlManager=function(){var _0x95646b=_0x3c4aa9;this[_0x95646b(0x1e9)]=[],this[_0x95646b(0x4b1)]=[],this[_0x95646b(0x1ac)]={'x':0x0,'y':0x0,'lastTime':new Date()[_0x95646b(0x26f)]()},window[_0x95646b(0x129)](_0x95646b(0x4a7),_0x1689cc=>{var _0x551608=_0x95646b;if(_0x1689cc[_0x551608(0x277)])return;var _0x438063=_0x1689cc[_0x551608(0x1ef)],_0x57cb14=_0x1689cc[_0x551608(0xce)];this['keyDown'][_0x57cb14]=!![];}),window[_0x95646b(0x129)](_0x95646b(0x130),_0x5a68c1=>{var _0x30884f=_0x95646b,_0x564f2c=_0x5a68c1[_0x30884f(0x1ef)],_0x3ebe1e=_0x5a68c1[_0x30884f(0xce)];this[_0x30884f(0x1e9)][_0x3ebe1e]=![],this[_0x30884f(0x4b1)][_0x3ebe1e]=!![];}),window[_0x95646b(0x129)]('wheel',_0x467f25=>{var _0x47b36f=_0x95646b,_0x3d2b99=_0x467f25[_0x47b36f(0x272)];if(world[_0x47b36f(0x15d)]){if(_0x3d2b99>0x0)world['map'][_0x47b36f(0x332)](0x0,0x0,0.95);else{if(_0x3d2b99<0x0)world[_0x47b36f(0x15d)]['changeMapView'](0x0,0x0,1.05);}}}),window['addEventListener']('mouseup',_0x1d3ce1=>{var _0x341f11=_0x95646b,_0x4a0326=world[_0x341f11(0x3db)][_0x341f11(0x498)][_0x341f11(0x49d)];pos=_0x4a0326[_0x341f11(0xd1)](_0x1d3ce1[_0x341f11(0x349)],_0x1d3ce1[_0x341f11(0x34c)]),pos&&(this[_0x341f11(0xda)]={'x':pos['x'],'y':pos['y'],'button':_0x1d3ce1[_0x341f11(0x3b1)]});}),window[_0x95646b(0x129)]('mousemove',_0x26ba18=>{var _0x14b02a=_0x95646b,_0x70ca28=world[_0x14b02a(0x3db)]['canList'][_0x14b02a(0x49d)];this[_0x14b02a(0x1ac)]=_0x70ca28['getPixelPosition'](_0x26ba18[_0x14b02a(0x349)],_0x26ba18[_0x14b02a(0x34c)]);if(this[_0x14b02a(0x1ac)])this['mousePos'][_0x14b02a(0x44e)]=new Date()[_0x14b02a(0x26f)]();}),this['CheckControlInput']=()=>{var _0x156165=_0x95646b,_0xd89c8d=![];if(world['map']){if(this[_0x156165(0x1e9)][_0x156165(0x25e)])world['map']['changeMapView'](0x0,-0.1/world[_0x156165(0x15d)]['scale'],0x1);if(this[_0x156165(0x1e9)][_0x156165(0x12b)])world[_0x156165(0x15d)][_0x156165(0x332)](0x0,0.1/world['map'][_0x156165(0xea)],0x1);if(this['keyDown']['KeyA'])world['map'][_0x156165(0x332)](-0.1/world['map'][_0x156165(0xea)],0x0,0x1);if(this[_0x156165(0x1e9)][_0x156165(0x2d8)])world[_0x156165(0x15d)][_0x156165(0x332)](0.1/world[_0x156165(0x15d)]['scale'],0x0,0x1);if(this['keyDown'][_0x156165(0x4c5)])world[_0x156165(0x15d)][_0x156165(0x332)](0x0,-0.1/world['map'][_0x156165(0xea)],0x1);if(this[_0x156165(0x1e9)]['ArrowDown'])world[_0x156165(0x15d)][_0x156165(0x332)](0x0,0.1/world[_0x156165(0x15d)][_0x156165(0xea)],0x1);if(this['keyDown']['ArrowLeft'])world[_0x156165(0x15d)][_0x156165(0x332)](-0.1/world[_0x156165(0x15d)][_0x156165(0xea)],0x0,0x1);if(this[_0x156165(0x1e9)][_0x156165(0x136)])world['map'][_0x156165(0x332)](0.1/world['map'][_0x156165(0xea)],0x0,0x1);if(this[_0x156165(0x1e9)]['NumpadSubtract'])world[_0x156165(0x15d)][_0x156165(0x332)](0x0,0x0,0.95);if(this[_0x156165(0x1e9)]['NumpadAdd'])world[_0x156165(0x15d)][_0x156165(0x332)](0x0,0x0,1.05);}if(this[_0x156165(0x4b1)][_0x156165(0x193)]){if(!world[_0x156165(0x3db)][_0x156165(0x44c)])world[_0x156165(0x3db)][_0x156165(0x14b)]();else world[_0x156165(0x3db)][_0x156165(0x2f6)](document);world['Music'][_0x156165(0x402)]('click',undefined,!![]);}for(var _0x540099 in this['keyUp']){if(!_0xd89c8d&&_0x540099['startsWith'](_0x156165(0x16c))||_0x540099[_0x156165(0x4aa)](_0x156165(0x4af)))_0x540099=_0x540099[_0x156165(0x410)](_0x156165(0x16c),'')[_0x156165(0x410)](_0x156165(0x4af),'');if(world['GameUI']&&!_0xd89c8d&&world[_0x156165(0x3c8)]['getKeyInput'](_0x540099)){world['Music'][_0x156165(0x402)](_0x156165(0x2fb),undefined,!![]),_0xd89c8d=!![];if(world[_0x156165(0x3c8)])world[_0x156165(0x3c8)][_0x156165(0x9d)]=!![];break;}if(world[_0x156165(0x497)]&&world['villageUI'][_0x156165(0x313)](_0x540099)){world['Music']['playSound']('click',undefined,!![]),_0xd89c8d=!![];if(world[_0x156165(0x497)])world['villageUI'][_0x156165(0x9d)]=!![];break;}if(world[_0x156165(0x243)]&&world[_0x156165(0x243)][_0x156165(0x313)](_0x540099)){world[_0x156165(0x46a)][_0x156165(0x402)](_0x156165(0x2fb),undefined,!![]),_0xd89c8d=!![];if(world['MenuUI'])world[_0x156165(0x243)][_0x156165(0x9d)]=!![];break;}}this[_0x156165(0x4b1)]=[];if(this['inputclick']){if(!_0xd89c8d&&world[_0x156165(0x3c8)]&&world['GameUI'][_0x156165(0x3bc)](this[_0x156165(0xda)])){world[_0x156165(0x46a)][_0x156165(0x402)](_0x156165(0x2fb),undefined,!![]),_0xd89c8d=!![];if(world[_0x156165(0x3c8)])world[_0x156165(0x3c8)]['needRedraw']=!![];}if(!_0xd89c8d&&world[_0x156165(0x497)]&&world[_0x156165(0x497)][_0x156165(0x3bc)](this[_0x156165(0xda)])){world[_0x156165(0x46a)]['playSound'](_0x156165(0x2fb),undefined,!![]),_0xd89c8d=!![];if(world['villageUI'])world[_0x156165(0x497)]['needRedraw']=!![];}if(!_0xd89c8d&&world[_0x156165(0x243)]&&world[_0x156165(0x243)][_0x156165(0x3bc)](this[_0x156165(0xda)])){world[_0x156165(0x46a)][_0x156165(0x402)](_0x156165(0x2fb),undefined,!![]),_0xd89c8d=!![];if(world['MenuUI'])world[_0x156165(0x243)][_0x156165(0x9d)]=!![];}}this[_0x156165(0xda)]=undefined;};},PLAYER_WEAPON_IMG=[{'name':_0x3c4aa9(0x441),'center':{'x':0xa1,'y':0xd},'sound':_0x3c4aa9(0x4b7)},{'name':'metal_sword','center':{'x':0x28,'y':0x11},'sound':_0x3c4aa9(0x33b)},{'name':_0x3c4aa9(0x330),'center':{'x':0x3c,'y':0x40},'sound':_0x3c4aa9(0x120)},{'name':_0x3c4aa9(0x7e),'center':{'x':0x16,'y':0x11},'sound':'smash'},{'name':_0x3c4aa9(0x4b8),'center':{'x':0x32,'y':0x37},'sound':_0x3c4aa9(0x1a9)},{'name':_0x3c4aa9(0x9f),'center':{'x':0x39,'y':0x25},'sound':_0x3c4aa9(0x495)},{'name':_0x3c4aa9(0x47f),'center':{'x':0x41,'y':0x46},'sound':_0x3c4aa9(0x3b3)},{'name':_0x3c4aa9(0x176),'center':{'x':0xa,'y':0x1a},'sound':'attack_metal_slash'},{'name':_0x3c4aa9(0x33d),'center':{'x':0x1f,'y':0x29},'sound':_0x3c4aa9(0x27b)}],WEAPON_TYPE=[{'name':_0x3c4aa9(0x314),'Img':_0x3c4aa9(0x7e),'weaponAnim':_0x3c4aa9(0x1c1),'bonus':[],'actionCost':0x19,'blockTargetingFunction':{'callback':_0x3c4aa9(0x244),'input':{}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x3c4aa9(0x3ef),'type':'crushing','value':0x1}]}]},{'name':_0x3c4aa9(0x3e1),'Img':_0x3c4aa9(0x441),'weaponAnim':_0x3c4aa9(0x486),'bonus':[],'actionCost':0x28,'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x3c4aa9(0xe7),'damageBase':[{'stats':'Strength','type':_0x3c4aa9(0x20e),'value':1.5}]},{'callback':'getBlockBehindTarget','damageBase':[{'stats':_0x3c4aa9(0x3ef),'type':_0x3c4aa9(0x20e),'value':0.5}]}]},{'name':_0x3c4aa9(0x11d),'Img':_0x3c4aa9(0x4b8),'weaponAnim':'sword','bonus':[BONUS_AXE_FOREST_WOOD],'actionCost':0x21,'blockTargetingFunction':{'callback':_0x3c4aa9(0x16b),'input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':_0x3c4aa9(0xe7),'damageBase':[{'stats':_0x3c4aa9(0x3ef),'type':_0x3c4aa9(0x4d8),'value':0x1},{'stats':'Strength','type':_0x3c4aa9(0x399),'value':0x1}]}]},{'name':_0x3c4aa9(0x33e),'Img':'metal_sword','weaponAnim':_0x3c4aa9(0x1c1),'actionCost':0x28,'bonus':[],'blockTargetingFunction':{'callback':'getBlocksAtRangeFromPlayer','input':{'rangeMin':0x1,'rangeMax':0x1}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':_0x3c4aa9(0x3ef),'type':_0x3c4aa9(0x20e),'value':1.5},{'stats':'Strength','type':_0x3c4aa9(0x399),'value':1.5}]}]},{'name':_0x3c4aa9(0x133),'Img':_0x3c4aa9(0x330),'weaponAnim':_0x3c4aa9(0x327),'actionCost':0x32,'bonus':[],'blockTargetingFunction':{'callback':_0x3c4aa9(0x16b),'input':{'rangeMin':0x2,'rangeMax':0x2}},'zoneTarget':[{'callback':_0x3c4aa9(0xe7),'damageBase':[{'stats':'Strength','type':_0x3c4aa9(0x4d8),'value':0x2},{'stats':_0x3c4aa9(0x3ef),'type':_0x3c4aa9(0x399),'value':0x2}]},{'callback':_0x3c4aa9(0x3fe),'callback_data':{'rangeMin':0x1,'rangeMax':0x1},'damageBase':[{'stats':_0x3c4aa9(0x3ef),'type':_0x3c4aa9(0x4d8),'value':0.2},{'stats':_0x3c4aa9(0x3ef),'type':'slashing','value':0.2}]}]},{'name':_0x3c4aa9(0x30d),'Img':_0x3c4aa9(0x9f),'weaponAnim':_0x3c4aa9(0x1c0),'bonus':[BONUS_HUNTER_FOREST],'projectil':{'ammo':_0x3c4aa9(0x3de),'projectilSpeed':0x64,'sound':'arrow_projectil'},'actionCost':0x32,'blockTargetingFunction':{'callback':'getBlocksAtDistRangeFromPlayer','input':{'rangeMin':0x2,'rangeMax':0x4}},'zoneTarget':[{'callback':_0x3c4aa9(0xe7),'damageBase':[{'stats':'Dexterity','type':_0x3c4aa9(0x20e),'value':0x1}]}]},{'name':_0x3c4aa9(0x172),'Img':_0x3c4aa9(0x47f),'weaponAnim':_0x3c4aa9(0x1c1),'actionCost':0x28,'bonus':[BONUS_PICKAXE_MINE],'blockTargetingFunction':{'callback':_0x3c4aa9(0x244),'input':{}},'zoneTarget':[{'callback':'ReturnBlockTargeted','damageBase':[{'stats':'Strength','type':_0x3c4aa9(0x20e),'value':0x2}]}]},{'name':_0x3c4aa9(0x449),'Img':_0x3c4aa9(0x176),'weaponAnim':_0x3c4aa9(0x1c1),'actionCost':0x1e,'bonus':[BONUS_BUTCHER],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x3c4aa9(0x244),'input':{}},'zoneTarget':[{'callback':_0x3c4aa9(0xe7),'damageBase':[{'stats':_0x3c4aa9(0x253),'type':_0x3c4aa9(0x399),'value':1.7}]}]},{'name':_0x3c4aa9(0x1ae),'Img':_0x3c4aa9(0x33d),'weaponAnim':'sword','actionCost':0x36,'bonus':[BONUS_FORGE_UPPGRADE],'upgradeLvl':0x1,'blockTargetingFunction':{'callback':_0x3c4aa9(0x244),'input':{}},'zoneTarget':[{'callback':_0x3c4aa9(0xe7),'damageBase':[{'stats':_0x3c4aa9(0x3ef),'type':_0x3c4aa9(0x2fa),'value':2.3}]}]}],Weapon=function(){var _0x14aba1=_0x3c4aa9;this['itemType']='weapon',this[_0x14aba1(0x22c)],this['weaponAnim'],this[_0x14aba1(0x2df)],this[_0x14aba1(0x48d)],this[_0x14aba1(0x3ea)],this['actionCost'],this[_0x14aba1(0x4d7)],this[_0x14aba1(0x1ee)],this[_0x14aba1(0x265)],this[_0x14aba1(0x16f)]=_0x361a06=>{var _0x1cb8ab=_0x14aba1;if(!_0x361a06||!_0x361a06[_0x1cb8ab(0x22c)])return console['log'](_0x1cb8ab(0x3bd));var _0x466cd4=WEAPON_TYPE[_0x1cb8ab(0x2ea)](_0x2ff631=>_0x2ff631['name']==_0x361a06['name']);if(!_0x466cd4)return console['log'](_0x1cb8ab(0x3bd));var _0xc6a8d9=PLAYER_WEAPON_IMG[_0x1cb8ab(0x2ea)](_0x3c2088=>_0x3c2088[_0x1cb8ab(0x22c)]==_0x466cd4[_0x1cb8ab(0x1da)]);if(!_0xc6a8d9)return console[_0x1cb8ab(0x451)](_0x1cb8ab(0x3bd));return this['img']=_0xc6a8d9[_0x1cb8ab(0x22c)],this[_0x1cb8ab(0x22c)]=_0x361a06[_0x1cb8ab(0x22c)],this[_0x1cb8ab(0x48d)]=_0x466cd4['weaponAnim'],this[_0x1cb8ab(0x3ea)]=_0x466cd4[_0x1cb8ab(0x3ea)],this[_0x1cb8ab(0x365)]=_0x466cd4[_0x1cb8ab(0x365)],this['blockTargetingFunction']=_0x466cd4[_0x1cb8ab(0x4d7)],this['projectil']=_0x466cd4[_0x1cb8ab(0x4a6)],this[_0x1cb8ab(0x1ee)]=_0x466cd4[_0x1cb8ab(0x1ee)],this[_0x1cb8ab(0x265)]=_0x466cd4[_0x1cb8ab(0x265)],this;},this['createWeaponFromInput']=_0x244dc1=>{for(var _0x48ee0d in _0x244dc1){this[_0x48ee0d]=_0x244dc1[_0x48ee0d];}return this;},this['createRandomWeapon']=()=>{var _0x21931e=_0x14aba1,_0x434b58=WEAPON_TYPE[Math['floor'](Math[_0x21931e(0x3b0)]()*WEAPON_TYPE[_0x21931e(0x1e8)])];return this[_0x21931e(0x16f)]({'name':_0x434b58[_0x21931e(0x22c)]});},this[_0x14aba1(0x2e6)]=()=>{var _0x2e3b18=_0x14aba1,_0x2c44fc=_0x2e3b18(0x2b8)+this[_0x2e3b18(0x22c)]+_0x2e3b18(0x46b)+this['actionCost']+'\x20action\x20points';switch(this[_0x2e3b18(0x4d7)][_0x2e3b18(0x33a)]){case _0x2e3b18(0x244):_0x2c44fc+=_0x2e3b18(0xf5);break;case _0x2e3b18(0x16b):_0x2c44fc+=_0x2e3b18(0x248)+this[_0x2e3b18(0x4d7)][_0x2e3b18(0x232)][_0x2e3b18(0x1e7)]+','+this[_0x2e3b18(0x4d7)][_0x2e3b18(0x232)]['rangeMax']+']';break;}for(var _0x155d1f in this[_0x2e3b18(0x3ea)]){var _0x15839e=this[_0x2e3b18(0x3ea)][_0x155d1f];switch(_0x15839e[_0x2e3b18(0x33a)]){case _0x2e3b18(0xe7):_0x2c44fc+=_0x2e3b18(0x430);break;case _0x2e3b18(0x98):var _0x4e1b06=_0x15839e[_0x2e3b18(0xb3)]?_0x15839e[_0x2e3b18(0xb3)][_0x2e3b18(0x1e7)]:0x1,_0x3251cc=_0x15839e[_0x2e3b18(0xb3)]?_0x15839e[_0x2e3b18(0xb3)][_0x2e3b18(0x1d9)]:0x1;_0x2c44fc+=_0x2e3b18(0x412)+[_0x4e1b06,_0x3251cc]+_0x2e3b18(0x2fe);break;case _0x2e3b18(0x3fe):var _0x4e1b06=_0x15839e[_0x2e3b18(0xb3)]?_0x15839e[_0x2e3b18(0xb3)]['rangeMin']:0x1,_0x3251cc=_0x15839e[_0x2e3b18(0xb3)]?_0x15839e['callback_data'][_0x2e3b18(0x1d9)]:0x1;_0x2c44fc+=_0x2e3b18(0x11b)+[_0x4e1b06,_0x3251cc]+_0x2e3b18(0x17c);break;}for(var _0x4e85a6 in _0x15839e[_0x2e3b18(0x13c)]){var _0x187fe1=_0x15839e[_0x2e3b18(0x13c)][_0x4e85a6];_0x2c44fc+=_0x2e3b18(0x2b7)+_0x187fe1[_0x2e3b18(0x3b6)]+'\x20'+_0x187fe1[_0x2e3b18(0x1dc)]+'\x20'+_0x187fe1[_0x2e3b18(0x3ad)]+_0x2e3b18(0x4db);}}for(var _0x155d1f in this[_0x2e3b18(0x1ee)])if(BONUS_DESCRIPTION[this[_0x2e3b18(0x1ee)]])_0x2c44fc+='\x0a'+BONUS_DESCRIPTION[this[_0x2e3b18(0x1ee)]];return _0x2c44fc;},this[_0x14aba1(0x19d)]=()=>{var _0x56199d=_0x14aba1;if(!this['upgradeLvl'])return![];return Math[_0x56199d(0x118)](0x64*(0x1/(0x2+this[_0x56199d(0x265)])));},this['upgradeWeapon']=_0x4df47f=>{var _0x5505fc=_0x14aba1;if(!this[_0x5505fc(0x265)]||!_0x4df47f||!_0x4df47f[_0x5505fc(0x103)]||!_0x4df47f[_0x5505fc(0x103)][_0x5505fc(0x2e2)])return![];var _0x316fc6=Math['floor'](Math[_0x5505fc(0x3b0)]()*0x64),_0x25a234=_0x4df47f['player'],_0x5e9378=0x1;_0x25a234[_0x5505fc(0x2e2)]=0x0;if(_0x25a234['weapon']&&_0x25a234[_0x5505fc(0xaf)]['bonus'][_0x5505fc(0x2ea)](_0x359195=>_0x359195==BONUS_FORGE_UPPGRADE))_0x5e9378++;if(_0x316fc6/_0x5e9378-_0x25a234[_0x5505fc(0x2e2)]/0x2<this['getChanceUppgrade']()){var _0x20879a=Math[_0x5505fc(0x311)](Math[_0x5505fc(0x3b0)]()*this['zoneTarget'][_0x5505fc(0x1e8)]),_0x43bdc7=this[_0x5505fc(0x3ea)][_0x20879a],_0x1f2f69=Math['floor'](Math[_0x5505fc(0x3b0)]()*_0x43bdc7['damageBase']['length']),_0x2fc14c=_0x43bdc7[_0x5505fc(0x13c)][_0x1f2f69][_0x5505fc(0x3b6)]*0.1,_0x1a244b=_0x2fc14c[_0x5505fc(0x13b)](0x1);_0x2fc14c=parseFloat((_0x43bdc7['damageBase'][_0x1f2f69][_0x5505fc(0x3b6)]+_0x2fc14c)['toFixed'](0x1));if(_0x2fc14c<0.1)_0x2fc14c=0.1;return _0x43bdc7[_0x5505fc(0x13c)][_0x1f2f69][_0x5505fc(0x3b6)]=_0x2fc14c,this['upgradeLvl']++,world[_0x5505fc(0x305)][_0x5505fc(0xb6)][_0x5505fc(0x2ed)]({'type':'job','txt':'Success\x20\x27'+this[_0x5505fc(0x22c)]+'\x27\x20'+_0x43bdc7[_0x5505fc(0x13c)][_0x1f2f69][_0x5505fc(0x1dc)]+'\x20'+_0x43bdc7[_0x5505fc(0x13c)][_0x1f2f69][_0x5505fc(0x3ad)]+_0x5505fc(0x259)+_0x1a244b}),!![];}return world['village'][_0x5505fc(0xb6)][_0x5505fc(0x2ed)]({'type':'job','txt':_0x5505fc(0x153)+this['name']+_0x5505fc(0x423)}),![];};};function CalculeDamageWeaponFromPlayerStats(_0x23e21d){var _0x2ee768=_0x3c4aa9;if(!_0x23e21d||!_0x23e21d[_0x2ee768(0x103)]||!_0x23e21d[_0x2ee768(0x35d)])return undefined;var _0x2f7201=_0x23e21d['damage'],_0x3033fb=_0x23e21d['player'],_0x129719=[];for(var _0x20bdc8 in _0x2f7201)_0x129719['push']({'type':_0x2f7201[_0x20bdc8][_0x2ee768(0x3ad)],'value':_0x3033fb[_0x2ee768(0x1dc)][_0x2f7201[_0x20bdc8]['stats']]*_0x2f7201[_0x20bdc8]['value']});return _0x129719;}PLAYER_ARMOR=[{'name':_0x3c4aa9(0x266),'img':_0x3c4aa9(0x2c4),'dmgArmor':[{'damage':_0x3c4aa9(0x20e),'type':_0x3c4aa9(0x1e2),'value':0x14},{'damage':'piercing','value':0x2}]},{'name':_0x3c4aa9(0x354),'img':_0x3c4aa9(0x7d),'dmgArmor':[{'damage':_0x3c4aa9(0x20e),'value':0x5},{'damage':_0x3c4aa9(0x4d8),'value':0x5},{'damage':'slashing','value':0x5}]},{'name':_0x3c4aa9(0x426),'img':'miner_helmet','dmgArmor':[{'damage':_0x3c4aa9(0x4d8),'type':_0x3c4aa9(0x1e2),'value':0x19},{'damage':'crushing','value':0x5}]},{'name':_0x3c4aa9(0x1c4),'img':_0x3c4aa9(0x419),'dmgArmor':[{'damage':'slashing','type':_0x3c4aa9(0x1e2),'value':0x5},{'damage':'slashing','value':0xa}]}],Armor=function(){var _0x3672a5=_0x3c4aa9;this[_0x3672a5(0x290)]=_0x3672a5(0x41e),this['name'],this[_0x3672a5(0x2df)],this[_0x3672a5(0x381)],this[_0x3672a5(0x1cd)]=_0x3c88ea=>{var _0x156ae2=_0x3672a5;if(!_0x3c88ea||!_0x3c88ea[_0x156ae2(0x22c)])return undefined;this[_0x156ae2(0x22c)]=_0x3c88ea[_0x156ae2(0x22c)];var _0x5a42e3=PLAYER_ARMOR[_0x156ae2(0x2ea)](_0x591d6a=>_0x591d6a['name']==_0x3c88ea['name']);if(!_0x5a42e3)return undefined;return this[_0x156ae2(0x2df)]=_0x5a42e3[_0x156ae2(0x2df)]?_0x5a42e3['img']:this[_0x156ae2(0x22c)],this[_0x156ae2(0x381)]=_0x5a42e3[_0x156ae2(0x381)],this;},this['createArmorFromInput']=_0x119214=>{for(var _0x3e3330 in _0x119214)this[_0x3e3330]=_0x119214[_0x3e3330];return this;},this[_0x3672a5(0x1b3)]=()=>{var _0x206bd5=_0x3672a5;return this['createNewArmor']({'name':PLAYER_ARMOR[Math[_0x206bd5(0x311)](Math[_0x206bd5(0x3b0)]()*PLAYER_ARMOR[_0x206bd5(0x1e8)])][_0x206bd5(0x22c)]});},this[_0x3672a5(0x3ee)]=_0x265998=>{var _0x34be57=_0x3672a5;if(!_0x265998||!_0x265998[_0x34be57(0xd0)]||_0x265998[_0x34be57(0xd0)][_0x34be57(0x1e8)]<0x1)return 0x0;var _0xfdc2af=0x0;for(var _0x27a60d in _0x265998[_0x34be57(0xd0)]){var _0x52515e=_0x265998[_0x34be57(0xd0)][_0x27a60d],_0x33c0f5=_0x52515e[_0x34be57(0x3b6)];console['log'](_0x34be57(0x1ce)+_0x52515e+'\x20'+_0x33c0f5);for(var _0x5100f4 in this[_0x34be57(0x381)]){var _0x565933=this[_0x34be57(0x381)][_0x5100f4];console['log'](_0x34be57(0xa7)+[_0x565933[_0x34be57(0x35d)],_0x565933[_0x34be57(0x3ad)],_0x52515e['type']]);if(_0x565933[_0x34be57(0x35d)]==_0x52515e[_0x34be57(0x3ad)]){console[_0x34be57(0x451)](_0x34be57(0x92)+_0x52515e[_0x34be57(0x3ad)]+_0x34be57(0x318)+_0x565933[_0x34be57(0x3b6)]+_0x34be57(0xb8)+_0x565933[_0x34be57(0x3ad)]);if(_0x565933[_0x34be57(0x3ad)])_0x33c0f5=_0x33c0f5*(0x1-_0x565933['value']/0x64);else _0x33c0f5=_0x33c0f5-_0x565933[_0x34be57(0x3b6)];}}if(_0x33c0f5>0x0)_0xfdc2af+=_0x33c0f5;}console[_0x34be57(0x451)](_0x34be57(0x2de)+_0xfdc2af+'\x20('+Math[_0x34be57(0x311)](_0xfdc2af)+')');if(_0xfdc2af>0x0)return parseInt(_0xfdc2af);return 0x0;},this[_0x3672a5(0x2ec)]=()=>{var _0x54b36b=_0x3672a5,_0x4f747d='\x27'+this[_0x54b36b(0x22c)]+'\x27';for(var _0x4070fc in this['dmgArmor']){_0x4f747d+=_0x54b36b(0x227);if(this['dmgArmor'][_0x4070fc]['type'])_0x4f747d+=this[_0x54b36b(0x381)][_0x4070fc][_0x54b36b(0x3b6)]+'\x20%\x20of\x20';else _0x4f747d+=this[_0x54b36b(0x381)][_0x4070fc][_0x54b36b(0x3b6)]+'\x20';_0x4f747d+=this[_0x54b36b(0x381)][_0x4070fc][_0x54b36b(0x35d)]+'\x20incoming\x20damage';}return _0x4f747d;};},HUMAN_NAME_LIST=[_0x3c4aa9(0x2da),'Kashton\x20McCarty','Halo\x20Knapp','Boden\x20Archer',_0x3c4aa9(0x295),'Collin\x20Snow',_0x3c4aa9(0xf2),_0x3c4aa9(0x39b),'Linda\x20Castillo',_0x3c4aa9(0x228),_0x3c4aa9(0x480),_0x3c4aa9(0x2e1),_0x3c4aa9(0x101),_0x3c4aa9(0x37f),_0x3c4aa9(0xa9),'Kade\x20House',_0x3c4aa9(0x3ec),_0x3c4aa9(0x302),_0x3c4aa9(0x4a4),_0x3c4aa9(0x1d8),'Mckenna\x20Leblanc',_0x3c4aa9(0x417),_0x3c4aa9(0x491),'Cole\x20Clayton',_0x3c4aa9(0x42b),_0x3c4aa9(0x2c6),_0x3c4aa9(0x357),'Stefan\x20Christian','Anahi\x20Strickland',_0x3c4aa9(0x24e),_0x3c4aa9(0x22d),_0x3c4aa9(0x212),_0x3c4aa9(0x2b0),'Ryder\x20Sandoval',_0x3c4aa9(0x15a),_0x3c4aa9(0x301),'Alisson\x20Roberson',_0x3c4aa9(0x9a),_0x3c4aa9(0x205),_0x3c4aa9(0x154),_0x3c4aa9(0x28d),'Azrael\x20Ali','Zelda\x20Stevens',_0x3c4aa9(0x4a9),'Mae\x20Gentry',_0x3c4aa9(0xf7),_0x3c4aa9(0x1d4),_0x3c4aa9(0x2ff),_0x3c4aa9(0x2d5),_0x3c4aa9(0x368),_0x3c4aa9(0x18e),_0x3c4aa9(0x473),_0x3c4aa9(0x19a),_0x3c4aa9(0x78),_0x3c4aa9(0x264),_0x3c4aa9(0x17e),_0x3c4aa9(0xe3),_0x3c4aa9(0x202),'Queen\x20Watson','Greyson\x20Walker',_0x3c4aa9(0x1dd),_0x3c4aa9(0x3f2),_0x3c4aa9(0x21c),'Zaid\x20Terry',_0x3c4aa9(0x3e3),'Kenji\x20McLaughlin',_0x3c4aa9(0xe8),_0x3c4aa9(0x81),_0x3c4aa9(0x4e0),_0x3c4aa9(0x2ad),_0x3c4aa9(0x307),_0x3c4aa9(0x43f),_0x3c4aa9(0x2e9),_0x3c4aa9(0x240),'Tiana\x20Daniel',_0x3c4aa9(0x221),'Treasure\x20Quintana',_0x3c4aa9(0x320),'Maci\x20Alvarado',_0x3c4aa9(0x379),_0x3c4aa9(0x488),_0x3c4aa9(0x1a0),_0x3c4aa9(0x4ba),_0x3c4aa9(0x95),_0x3c4aa9(0x2ce),_0x3c4aa9(0x36e),_0x3c4aa9(0x4d5),_0x3c4aa9(0x479),_0x3c4aa9(0x316),_0x3c4aa9(0x4df),_0x3c4aa9(0x3e8),_0x3c4aa9(0x372),_0x3c4aa9(0x49c),_0x3c4aa9(0x4c8),_0x3c4aa9(0x28c),_0x3c4aa9(0x3cb),_0x3c4aa9(0xd7),_0x3c4aa9(0x1c9),_0x3c4aa9(0x1f0),'Krew\x20Pruitt'],MessageSystem=function(){var _0x5909b8=_0x3c4aa9;world['MessageSystem']=this,this['msg']=[],COLOR_SYSTEM_DEFAULT=_0x5909b8(0x187),MAX_MESSAGE=0xc8,this[_0x5909b8(0x2ed)]=_0x26d1a9=>{var _0x183438=_0x5909b8;if(!_0x26d1a9||!_0x26d1a9[_0x183438(0x210)])return;this[_0x183438(0x192)][_0x183438(0xf6)]({'type':_0x26d1a9[_0x183438(0x3ad)],'txt':_0x26d1a9['txt']});while(this['msg']['length']>MAX_MESSAGE)this[_0x183438(0x192)][_0x183438(0x296)]();},this[_0x5909b8(0x2ed)]({'txt':_0x5909b8(0x1c6)}),this[_0x5909b8(0x463)]=_0x2cd91d=>{var _0x5493ae=_0x5909b8;if(!_0x2cd91d||!this[_0x5493ae(0x192)]||this['msg'][_0x5493ae(0x1e8)]<0x1)return[];var _0x203148=_0x2cd91d['page']&&_0x2cd91d[_0x5493ae(0x115)]<this[_0x5493ae(0x192)][_0x5493ae(0x1e8)]?_0x2cd91d[_0x5493ae(0x115)]:0x0,_0x141ee3=_0x2cd91d[_0x5493ae(0x400)]?_0x2cd91d[_0x5493ae(0x400)]:0xa;while(_0x203148+_0x141ee3>this[_0x5493ae(0x192)][_0x5493ae(0x1e8)]&&_0x141ee3>0x0)_0x141ee3--;var _0x23b3ab=[],_0x1ed43b=0x0;while(_0x1ed43b<_0x141ee3&&this['msg'][_0x203148+_0x1ed43b]){_0x23b3ab['push'](this['msg'][_0x203148+_0x1ed43b]),_0x1ed43b++;}return _0x23b3ab;};},PlayerVillage=function(_0x13b508){var _0x5ce1ba=_0x3c4aa9;this[_0x5ce1ba(0x22c)]=_0x13b508[_0x5ce1ba(0x22c)]?_0x13b508[_0x5ce1ba(0x22c)]:HUMAN_NAME_LIST[Math[_0x5ce1ba(0x311)](Math[_0x5ce1ba(0x3b0)]()*HUMAN_NAME_LIST[_0x5ce1ba(0x1e8)])],this[_0x5ce1ba(0x106)]=_0x13b508[_0x5ce1ba(0x106)]?_0x13b508[_0x5ce1ba(0x106)]:{'r':Math[_0x5ce1ba(0x311)](Math['random']()*0x100),'g':Math['floor'](Math[_0x5ce1ba(0x3b0)]()*0x100),'b':Math[_0x5ce1ba(0x311)](Math[_0x5ce1ba(0x3b0)]()*0x100)},this[_0x5ce1ba(0x1b8)]=undefined,this['bodyPartImgReady']=![],this[_0x5ce1ba(0x1af)]=_0x5ce1ba(0x4cf);var _0x248c7f=PLAYER_FACE_IMG[_0x5ce1ba(0x1b1)](_0x3ffd77=>_0x3ffd77[_0x5ce1ba(0x4aa)](this['race']));this[_0x5ce1ba(0xff)]=_0x13b508[_0x5ce1ba(0xff)]?_0x13b508[_0x5ce1ba(0xff)]:_0x248c7f[Math[_0x5ce1ba(0x311)](Math[_0x5ce1ba(0x3b0)]()*_0x248c7f['length'])];var _0x19204c=PLAYER_BODY_IMG[_0x5ce1ba(0x1b1)](_0xe511ae=>_0xe511ae[_0x5ce1ba(0x4aa)](this[_0x5ce1ba(0x1af)]));this[_0x5ce1ba(0x474)]=_0x13b508[_0x5ce1ba(0x474)]?_0x13b508[_0x5ce1ba(0x474)]:_0x19204c[Math[_0x5ce1ba(0x311)](Math[_0x5ce1ba(0x3b0)]()*_0x19204c[_0x5ce1ba(0x1e8)])],this[_0x5ce1ba(0x41e)]=_0x13b508[_0x5ce1ba(0x41e)]?_0x13b508[_0x5ce1ba(0x41e)]:undefined,this[_0x5ce1ba(0xaf)]=_0x13b508[_0x5ce1ba(0xaf)]?_0x13b508['weapon']:undefined,this[_0x5ce1ba(0x1e5)]=_0x13b508[_0x5ce1ba(0x1e5)]?_0x13b508['speed']:0x64,this[_0x5ce1ba(0x2af)]=_0x13b508[_0x5ce1ba(0x2af)]?_0x13b508['ActionPointMax']:0x64,this[_0x5ce1ba(0x3dc)]=_0x13b508[_0x5ce1ba(0x3dc)]?_0x13b508[_0x5ce1ba(0x3dc)]:0x64,this[_0x5ce1ba(0x1dc)]=_0x13b508[_0x5ce1ba(0x1dc)],this[_0x5ce1ba(0x388)]=_0x13b508[_0x5ce1ba(0x388)]?_0x13b508[_0x5ce1ba(0x388)]:PLAYER_DEFAUTL_MOVECOST,this[_0x5ce1ba(0x29b)]=_0x13b508[_0x5ce1ba(0x29b)]?_0x13b508[_0x5ce1ba(0x29b)]:0x1,this['id']=PLAYER_ID++,this[_0x5ce1ba(0x1df)]=_0x13b508['villageActionPointMax']?_0x13b508[_0x5ce1ba(0x1df)]:0xa,this[_0x5ce1ba(0x2e2)]=this[_0x5ce1ba(0x1df)],this[_0x5ce1ba(0x26b)]=_0x13b508[_0x5ce1ba(0x26b)]?_0x13b508[_0x5ce1ba(0x2f8)]:0x0,this['lvl']=_0x13b508[_0x5ce1ba(0x3f7)]?_0x13b508[_0x5ce1ba(0x3f7)]:0x1,this[_0x5ce1ba(0x341)]=_0x13b508['lvlup']?_0x13b508['lvlup']:0x0,this[_0x5ce1ba(0x279)]=[],this[_0x5ce1ba(0x3bf)]=()=>{var _0x18f1d1=_0x5ce1ba,_0x2faf46=window[_0x18f1d1(0x3a5)](_0x18f1d1(0x475),this[_0x18f1d1(0x22c)]);if(!_0x2faf46||typeof _0x2faf46!='string'||_0x2faf46[_0x18f1d1(0x1e8)]<0x4||_0x2faf46[_0x18f1d1(0x1e8)]>0x10)return world[_0x18f1d1(0x305)][_0x18f1d1(0xb6)][_0x18f1d1(0x2ed)]({'type':_0x18f1d1(0x103),'txt':_0x18f1d1(0x490)});world[_0x18f1d1(0x305)][_0x18f1d1(0xb6)][_0x18f1d1(0x2ed)]({'type':_0x18f1d1(0x103),'txt':this['name']+_0x18f1d1(0x364)+_0x2faf46}),this['name']=_0x2faf46;},this[_0x5ce1ba(0x2cf)]=()=>{var _0x3d1ad1=_0x5ce1ba,_0x12e4fb=[],_0x5a171e=[{'type':_0x3d1ad1(0x1dc),'stat':_0x3d1ad1(0x3ef),'value':0x1+Math['floor'](Math[_0x3d1ad1(0x3b0)]()*0x3+this['lvl']/0x3)},{'type':_0x3d1ad1(0x1dc),'stat':_0x3d1ad1(0x253),'value':0x1+Math[_0x3d1ad1(0x311)](Math[_0x3d1ad1(0x3b0)]()*0x3+this[_0x3d1ad1(0x3f7)]/0x3)},{'type':_0x3d1ad1(0x496),'stat':_0x3d1ad1(0x3dc),'value':0x5+Math[_0x3d1ad1(0x311)](Math[_0x3d1ad1(0x3b0)]()*0xa+this[_0x3d1ad1(0x3f7)])},{'type':_0x3d1ad1(0x496),'stat':_0x3d1ad1(0x1e5),'value':0x2+Math[_0x3d1ad1(0x311)](Math[_0x3d1ad1(0x3b0)]()*0x5+this[_0x3d1ad1(0x3f7)]/0x7)},{'type':'playerstats','stat':_0x3d1ad1(0x2af),'value':0x4+Math[_0x3d1ad1(0x311)](Math[_0x3d1ad1(0x3b0)]()*0x4+this[_0x3d1ad1(0x3f7)]/0x6)},{'type':_0x3d1ad1(0x496),'stat':_0x3d1ad1(0x1df),'value':0x2+Math[_0x3d1ad1(0x311)](Math[_0x3d1ad1(0x3b0)]()*0x2+this[_0x3d1ad1(0x3f7)]/0xa)}];if(this[_0x3d1ad1(0x29b)]<0x3)_0x5a171e[_0x3d1ad1(0x448)]({'type':_0x3d1ad1(0x496),'stat':'size','value':0x1});if(this[_0x3d1ad1(0x388)]>0x7)_0x5a171e[_0x3d1ad1(0x448)]({'type':_0x3d1ad1(0x496),'stat':'movePCost','value':-0x1-Math['floor'](Math['random']()*0x2)});while(_0x12e4fb[_0x3d1ad1(0x1e8)]<0x3){for(var _0x5df7ad in _0x5a171e){if(Math[_0x3d1ad1(0x311)](Math['random']()*0x64)<0x32)_0x12e4fb[_0x3d1ad1(0x448)](_0x5a171e[_0x5df7ad]);if(_0x12e4fb[_0x3d1ad1(0x1e8)]>0x2)break;}}return this[_0x3d1ad1(0x279)]=_0x12e4fb,_0x12e4fb;},this[_0x5ce1ba(0x2ee)]=_0x3681ec=>{var _0x94f1b5=_0x5ce1ba;if(!_0x3681ec||!_0x3681ec['type']||!this[_0x94f1b5(0x341)])return;if(_0x3681ec['type']==_0x94f1b5(0x496))this[_0x3681ec['stat']]+=_0x3681ec[_0x94f1b5(0x3b6)];else _0x3681ec[_0x94f1b5(0x3ad)]==_0x94f1b5(0x1dc)&&(this['stats'][_0x3681ec[_0x94f1b5(0x2b6)]]+=_0x3681ec[_0x94f1b5(0x3b6)]);world[_0x94f1b5(0x305)]['MessageSystem'][_0x94f1b5(0x2ed)]({'type':'player','txt':this[_0x94f1b5(0x22c)]+_0x94f1b5(0x10d)+_0x3681ec[_0x94f1b5(0x2b6)]+'\x20'+_0x3681ec['value']}),this['lvlupList']=[],this[_0x94f1b5(0x341)]--,this[_0x94f1b5(0x3f7)]++;},this[_0x5ce1ba(0x2a1)]=()=>{var _0x490ff0=_0x5ce1ba,_0x1254d6=0x1e*(0x1-this[_0x490ff0(0x3f7)]/0x64),_0x4a0f44=Math[_0x490ff0(0x311)](Math[_0x490ff0(0x3b0)]()*0x64);if(_0x4a0f44<_0x1254d6)return this[_0x490ff0(0x341)]++,world['village'][_0x490ff0(0xb6)][_0x490ff0(0x2ed)]({'type':_0x490ff0(0x103),'txt':this['name']+'\x20can\x20lvl\x20up\x20++'}),world[_0x490ff0(0x46a)]['playSound'](_0x490ff0(0x341)),!![];return![];},this[_0x5ce1ba(0x362)]=()=>{var _0x2a17ee=_0x5ce1ba,_0x459951=''+this[_0x2a17ee(0x22c)];_0x459951+='\x0a'+_0x2a17ee(0x1c2)+this['lifeMax'],_0x459951+='\x0a'+_0x2a17ee(0x37c)+this[_0x2a17ee(0x2af)],_0x459951+='\x0a'+_0x2a17ee(0x21f)+this[_0x2a17ee(0x1e5)];for(var _0x2ffa09 in this[_0x2a17ee(0x1dc)])_0x459951+='\x0a'+_0x2ffa09+_0x2a17ee(0xa3)+this['stats'][_0x2ffa09];return this[_0x2a17ee(0xaf)]&&(_0x459951+='\x0a'+_0x2a17ee(0x15f)+this[_0x2a17ee(0xaf)][_0x2a17ee(0x22c)]+'\x27',_0x459951+='\x0a'+_0x2a17ee(0x30b)+[this['weapon'][_0x2a17ee(0x4d7)][_0x2a17ee(0x33a)]]),_0x459951;},this['get_valid_action_in_affected_building']=()=>{var _0x493d03=_0x5ce1ba;if(!this[_0x493d03(0x2e2)])return[];var _0x19eb4d=world[_0x493d03(0x305)][_0x493d03(0x234)](this);if(!_0x19eb4d||!_0x19eb4d['callback_actionPlayer']||!_0x19eb4d[_0x493d03(0xe5)]['length'])return[];var _0x31bb30=_0x19eb4d['callback_actionPlayer'][_0x493d03(0x1b1)](_0x3605fd=>_0x3605fd[_0x493d03(0x140)]<=this[_0x493d03(0x2e2)]);return _0x31bb30;},this[_0x5ce1ba(0x35c)]=()=>{var _0xdd79ce=_0x5ce1ba;this[_0xdd79ce(0xaf)]&&(world[_0xdd79ce(0x305)][_0xdd79ce(0x4ae)]({'weapon':this[_0xdd79ce(0xaf)]}),this[_0xdd79ce(0xaf)]=undefined);},this[_0x5ce1ba(0x3b2)]=()=>{var _0x5df73b=_0x5ce1ba;if(this[_0x5df73b(0x41e)])world[_0x5df73b(0x305)][_0x5df73b(0x2fc)]({'armor':this[_0x5df73b(0x41e)]});this['armor']=undefined,this[_0x5df73b(0x3c1)]=![];},this[_0x5ce1ba(0x139)]=_0x624cf5=>{var _0x1110ba=_0x5ce1ba;if(!_0x624cf5||!_0x624cf5[_0x1110ba(0x428)])return;if(_0x624cf5[_0x1110ba(0x428)][_0x1110ba(0x290)]==_0x1110ba(0x41e))this['unequipArmor']();else{if(_0x624cf5[_0x1110ba(0x428)]['itemType']=='weapon')this[_0x1110ba(0x35c)]();}},this['equipWeapon']=_0x4cc485=>{var _0x16322e=_0x5ce1ba;if(!_0x4cc485||!_0x4cc485[_0x16322e(0xaf)])return;var _0x3caff4=-0x1;for(var _0x18821f in world[_0x16322e(0x305)]['Items'])if(world['village'][_0x16322e(0x1d0)][_0x18821f]==_0x4cc485[_0x16322e(0xaf)])_0x3caff4=_0x18821f;if(_0x3caff4==-0x1)return;if(this[_0x16322e(0xaf)])this[_0x16322e(0x35c)]();this[_0x16322e(0xaf)]=_0x4cc485[_0x16322e(0xaf)],world[_0x16322e(0x305)][_0x16322e(0x1d0)]['splice'](_0x3caff4,0x1);if(world[_0x16322e(0x497)]&&world[_0x16322e(0x497)]['itemSelected']==_0x4cc485[_0x16322e(0xaf)])world[_0x16322e(0x497)][_0x16322e(0x376)]=undefined;},this['equipArmor']=_0x1f5dc=>{var _0x3281f2=_0x5ce1ba;if(!_0x1f5dc||!_0x1f5dc['armor'])return;var _0x1547dd=-0x1;for(var _0x1b1e95 in world[_0x3281f2(0x305)][_0x3281f2(0x1d0)])if(world[_0x3281f2(0x305)][_0x3281f2(0x1d0)][_0x1b1e95]==_0x1f5dc['armor'])_0x1547dd=_0x1b1e95;if(_0x1547dd==-0x1)return;if(this[_0x3281f2(0x41e)])this[_0x3281f2(0x3b2)]();this[_0x3281f2(0x41e)]=_0x1f5dc[_0x3281f2(0x41e)],world[_0x3281f2(0x305)][_0x3281f2(0x1d0)][_0x3281f2(0x194)](_0x1547dd,0x1);if(world['villageUI']&&world[_0x3281f2(0x497)][_0x3281f2(0x376)]==_0x1f5dc['armor'])world['villageUI'][_0x3281f2(0x376)]=undefined;this[_0x3281f2(0x3c1)]=![];},this[_0x5ce1ba(0xdc)]=_0xaa5ed=>{var _0x48731a=_0x5ce1ba;if(!_0xaa5ed||!_0xaa5ed[_0x48731a(0x428)])return;if(_0xaa5ed['item']['itemType']==_0x48731a(0x41e))this[_0x48731a(0x179)]();else{if(_0xaa5ed[_0x48731a(0x428)][_0x48731a(0x290)]==_0x48731a(0xaf))this[_0x48731a(0x446)]();}},this[_0x5ce1ba(0x29f)]=()=>{var _0x36e364=_0x5ce1ba,_0x5dbfd8=world[_0x36e364(0x439)];if(!this[_0x36e364(0xff)])this['face_type']=PLAYER_FACE_IMG[Math[_0x36e364(0x311)](Math[_0x36e364(0x3b0)]()*PLAYER_FACE_IMG[_0x36e364(0x1e8)])];if(!this[_0x36e364(0x474)])this[_0x36e364(0x474)]=PLAYER_BODY_IMG[Math[_0x36e364(0x311)](Math['random']()*PLAYER_BODY_IMG[_0x36e364(0x1e8)])];var _0x4e0b46=[];_0x4e0b46[_0x36e364(0x448)]({'name':this[_0x36e364(0x474)],'needColor':!![]}),_0x4e0b46['push']({'name':this[_0x36e364(0xff)],'needColor':![]});if(this['armor'])_0x4e0b46[_0x36e364(0x448)]({'name':this[_0x36e364(0x41e)][_0x36e364(0x22c)],'needColor':![]});for(var _0x35e327 in _0x4e0b46)if(!_0x5dbfd8[_0x4e0b46[_0x35e327][_0x36e364(0x22c)]]||!_0x5dbfd8[_0x4e0b46[_0x35e327][_0x36e364(0x22c)]][_0x36e364(0x256)])return console[_0x36e364(0x451)](_0x36e364(0x360)+_0x4e0b46[_0x35e327][_0x36e364(0x22c)]);var _0x5bd8f8=document[_0x36e364(0xfa)](_0x36e364(0x17d));_0x5bd8f8['width']=PLAYER_DEFAULT_SIZEX,_0x5bd8f8[_0x36e364(0x28b)]=PLAYER_DEFAULT_SIZEY;var _0x574117=_0x5bd8f8[_0x36e364(0xfc)]('2d');for(var _0x35e327 in _0x4e0b46){var _0x53f21f=_0x4e0b46[_0x35e327][_0x36e364(0x22c)];if(!_0x5dbfd8[_0x53f21f])return console[_0x36e364(0x451)](_0x36e364(0x352)+_0x53f21f);var _0x7701d=undefined;if(_0x4e0b46[_0x35e327]['needColor'])_0x7701d=_0x5dbfd8[_0x53f21f][_0x36e364(0xf1)](0x0,0xff,0x0,this[_0x36e364(0x106)]['r'],this[_0x36e364(0x106)]['g'],this['color']['b']);else _0x7701d=_0x5dbfd8[_0x53f21f][_0x36e364(0x2df)];if(!_0x7701d||!_0x7701d[_0x36e364(0x1ea)])return console['log'](_0x36e364(0x276));_0x574117[_0x36e364(0x3c5)](_0x7701d,0x0,0x0);}var _0x7701d=new Image();return _0x7701d[_0x36e364(0x11a)]=_0x5bd8f8[_0x36e364(0x482)](),this[_0x36e364(0x1b8)]=_0x7701d,console[_0x36e364(0x451)](_0x36e364(0x1a2)+this[_0x36e364(0x22c)]+_0x36e364(0x2e3)),this[_0x36e364(0x3c1)]=!![],!![];},this[_0x5ce1ba(0x29f)]();},Batiment=function(_0x1648c1){var _0x3787d6=_0x3c4aa9;this[_0x3787d6(0x22c)]=_0x1648c1['name'],this[_0x3787d6(0x3ae)]=_0x1648c1[_0x3787d6(0x3ae)]?_0x1648c1[_0x3787d6(0x3ae)]:0x0,this[_0x3787d6(0xe5)]=_0x1648c1[_0x3787d6(0xe5)],this[_0x3787d6(0x43c)]=[],this[_0x3787d6(0x87)]=_0x1648c1[_0x3787d6(0x87)]?_0x1648c1[_0x3787d6(0x87)]:_0x3787d6(0x2a3),this[_0x3787d6(0x3c3)]=_0x1648c1[_0x3787d6(0x3c3)]?_0x1648c1[_0x3787d6(0x3c3)]:![],this[_0x3787d6(0x12f)]=_0x1648c1['imgIcon']?_0x1648c1['imgIcon']:undefined,this[_0x3787d6(0x156)]=_0x1648c1['build_progression']?_0x1648c1[_0x3787d6(0x156)]:undefined,this[_0x3787d6(0x3f7)]=_0x1648c1['lvl']?_0x1648c1['lvl']:undefined,this['upgrades']=_0x1648c1['upgrades']?_0x1648c1[_0x3787d6(0x4b0)]:[],this[_0x3787d6(0x492)]=_0x1648c1[_0x3787d6(0x492)]?_0x1648c1[_0x3787d6(0x492)]:undefined,this[_0x3787d6(0x1d2)]=_0x1426f2=>{var _0x1cfd70=_0x3787d6;if(!_0x1426f2||!_0x1426f2[_0x1cfd70(0x103)]||!_0x1426f2[_0x1cfd70(0x103)][_0x1cfd70(0x2e2)])return![];var _0x2adf61=this[_0x1cfd70(0x156)]<_0x1426f2[_0x1cfd70(0x103)][_0x1cfd70(0x2e2)]?this[_0x1cfd70(0x156)]:_0x1426f2[_0x1cfd70(0x103)][_0x1cfd70(0x2e2)];return this[_0x1cfd70(0x156)]-=_0x2adf61,_0x1426f2[_0x1cfd70(0x103)]['villageActionPoint']-=_0x2adf61,world['village'][_0x1cfd70(0xb6)][_0x1cfd70(0x2ed)]({'type':_0x1cfd70(0x2a7),'txt':_0x1426f2[_0x1cfd70(0x103)][_0x1cfd70(0x22c)]+_0x1cfd70(0x35e)+this['name']+'\x27\x20(+'+_0x2adf61+')'}),this['build_progression']<0x1&&(this[_0x1cfd70(0x156)]=undefined,world[_0x1cfd70(0x305)]['MessageSystem'][_0x1cfd70(0x2ed)]({'type':_0x1cfd70(0x2a7),'txt':_0x1cfd70(0x367)+this[_0x1cfd70(0x22c)]+_0x1cfd70(0xb2)})),world[_0x1cfd70(0x46a)][_0x1cfd70(0x402)](_0x1cfd70(0x125)),!![];},this['getNextUpgrade']=()=>{var _0x569df6=_0x3787d6;if(!this['upgrades']||!this[_0x569df6(0x4b0)][_0x569df6(0x1e8)])return undefined;return this[_0x569df6(0x4b0)][0x0];},this[_0x3787d6(0xae)]=()=>{var _0x18b4df=_0x3787d6;if(!this['upgrades']||!this[_0x18b4df(0x4b0)][_0x18b4df(0x1e8)])return![];var _0xf5ce6b=this[_0x18b4df(0x1f1)]();if(_0xf5ce6b['resources']){if(!world[_0x18b4df(0x305)][_0x18b4df(0x4a5)](_0xf5ce6b))return;}return world[_0x18b4df(0x46a)][_0x18b4df(0x402)](_0x18b4df(0x125)),!![];},this['TryUpgrade']=()=>{var _0x2ff961=_0x3787d6,_0xcc4ce7=this[_0x2ff961(0x1f1)]();if(this['checkNextUpgrade']()){world[_0x2ff961(0x305)][_0x2ff961(0xb6)][_0x2ff961(0x2ed)]({'type':'building','txt':this[_0x2ff961(0x22c)]+_0x2ff961(0x4c0)+(this[_0x2ff961(0x3f7)]+0x1)}),world['village'][_0x2ff961(0x38e)](_0xcc4ce7);if(this['upgrades_callback'])window[this[_0x2ff961(0x492)]]({'bat':this});this[_0x2ff961(0x4b0)]['shift'](),this[_0x2ff961(0x3f7)]++;}};},HUMAN_DEFAULT_COLOR=[{'r':0xec,'g':0xdf,'b':0xa2},{'r':0xc6,'g':0x92,'b':0x75},{'r':0xff,'g':0xc6,'b':0xd9},{'r':0xb7,'g':0x75,'b':0x51},{'r':0xb1,'g':0x49,'b':0x51}],CRAFT_LIST=[{'name':_0x3c4aa9(0x1d1),'type':_0x3c4aa9(0xaf),'bat':_0x3c4aa9(0x37d),'resources':{'wood':0xa},'APcost':0xa,'description':_0x3c4aa9(0x1c8)},{'name':_0x3c4aa9(0x266),'type':_0x3c4aa9(0x41e),'bat':_0x3c4aa9(0x37d),'resources':{'wood':0x19},'APcost':0xa,'description':'better\x20than\x20nothing'},{'name':_0x3c4aa9(0x11d),'type':_0x3c4aa9(0xaf),'bat':_0x3c4aa9(0x37d),'resources':{'wood':0x14,'stone':0xa},'APcost':0xa,'description':_0x3c4aa9(0x168)},{'name':_0x3c4aa9(0x172),'type':_0x3c4aa9(0xaf),'bat':_0x3c4aa9(0x37d),'resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x3c4aa9(0x267)},{'name':'Stone\x20Spear','type':_0x3c4aa9(0xaf),'bat':'workshop','resources':{'wood':0x32,'stone':0x5},'APcost':0xa,'description':_0x3c4aa9(0x257)},{'name':'Leather\x20Armor','type':_0x3c4aa9(0x41e),'bat':_0x3c4aa9(0x37d),'resources':{'leather':0x4},'APcost':0xc,'description':_0x3c4aa9(0x1d7)},{'name':_0x3c4aa9(0x426),'type':_0x3c4aa9(0x41e),'bat':_0x3c4aa9(0x37d),'resources':{'stone':0x64,'coal':0x19},'APcost':0xc,'description':_0x3c4aa9(0x315)},{'name':_0x3c4aa9(0x30d),'type':_0x3c4aa9(0xaf),'bat':_0x3c4aa9(0x269),'resources':{'wood':0x64},'APcost':0xa,'description':'hit\x20them\x20from\x20behind'},{'name':_0x3c4aa9(0x1ae),'type':'weapon','bat':_0x3c4aa9(0x31d),'resources':{'wood':0x37,'metalCopper':0xa},'APcost':0xa,'description':_0x3c4aa9(0x190)},{'name':_0x3c4aa9(0x449),'type':'weapon','bat':_0x3c4aa9(0x31d),'resources':{'wood':0xf,'metalCopper':0x5},'APcost':0xa,'description':_0x3c4aa9(0x2ae)},{'name':_0x3c4aa9(0x1c4),'type':_0x3c4aa9(0x41e),'bat':'Forge','resources':{'metalCopper':0x14},'APcost':0xa,'description':_0x3c4aa9(0x1ca)}],Village=function(_0x3fa9d8){var _0x410d82=_0x3c4aa9;this[_0x410d82(0x160)]=_0x3fa9d8[_0x410d82(0x499)]?_0x3fa9d8[_0x410d82(0x499)]:0x1,this['resources']=_0x3fa9d8[_0x410d82(0x4e4)]?_0x3fa9d8['resources']:{'food':0x0,'wood':0x0},this[_0x410d82(0x26d)]=_0x3fa9d8[_0x410d82(0x26d)]?_0x3fa9d8[_0x410d82(0x26d)]:[],this[_0x410d82(0x45b)]=_0x3fa9d8[_0x410d82(0x45b)]?_0x3fa9d8[_0x410d82(0x45b)]:[],this[_0x410d82(0xf0)]=[],this[_0x410d82(0x3fc)]=_0x3fa9d8[_0x410d82(0x3fc)]?_0x3fa9d8['week']:0x0,this[_0x410d82(0xb6)]=new MessageSystem();var _0x5832a8=0x0;PHASE_NEWTURN=_0x5832a8++,PHASE_PLACEPLAYER=_0x5832a8++,PHASE_ACTIONPLAYER=_0x5832a8++,PHASE_COMBAT=_0x5832a8++,PHASE_END_TURN=_0x5832a8++,this[_0x410d82(0x1ed)]=PHASE_NEWTURN,this[_0x410d82(0x1d0)]=[],this[_0x410d82(0x36b)]=[],this[_0x410d82(0x2f3)]=0x1,this[_0x410d82(0x1b5)]=_0x3fa9d8[_0x410d82(0x1b5)]?_0x3fa9d8[_0x410d82(0x1b5)]:HUMAN_DEFAULT_COLOR[Math['floor'](Math[_0x410d82(0x3b0)]()*HUMAN_DEFAULT_COLOR[_0x410d82(0x1e8)])],this[_0x410d82(0x141)]=()=>{var _0x4c3379=_0x410d82,_0x29afaa=Math[_0x4c3379(0x311)](this[_0x4c3379(0x3fc)]/(0xc*0x4)),_0x336698=Math[_0x4c3379(0x311)](this[_0x4c3379(0x3fc)]/0x4)%0xc,_0x25ddf9=this[_0x4c3379(0x3fc)]%0x4+0x1,_0x2e2862=_0x4c3379(0x182)+this[_0x4c3379(0x3fc)];_0x2e2862+=_0x4c3379(0xa3);if(_0x29afaa)_0x2e2862+=_0x4c3379(0x306)+_0x29afaa;if(_0x336698)_0x2e2862+='\x20month\x20'+_0x336698;return _0x2e2862+='\x20week\x20'+_0x25ddf9,_0x2e2862;},this[_0x410d82(0x1a4)]=()=>{var _0x1a7031=_0x410d82,_0x3d2a04=[];for(var _0x36a350 in CRAFT_LIST){var _0xed26e9=CRAFT_LIST[_0x36a350],_0x218176=this[_0x1a7031(0x45b)]['find'](_0xd8c5a9=>_0xd8c5a9[_0x1a7031(0x22c)]==_0xed26e9[_0x1a7031(0x1a1)]);if(!_0x218176||_0x218176['build_progression'])continue;_0x3d2a04['push'](_0xed26e9);}return _0x3d2a04;},this['get_valid_player_for_craft']=_0x411dd2=>{var _0x18e908=_0x410d82;if(!_0x411dd2||!_0x411dd2['craft'])return[];var _0x23a58d=[],_0x59a9c3=_0x411dd2[_0x18e908(0x358)];for(var _0x52c300 in this['players']){var _0x48efb7=this['players'][_0x52c300],_0x55c04b=this['getBatFromPlayer'](_0x48efb7);if(!_0x55c04b||_0x55c04b['name']!=_0x59a9c3[_0x18e908(0x1a1)])continue;if(_0x48efb7[_0x18e908(0x2e2)]<_0x59a9c3[_0x18e908(0x223)])continue;for(var _0x960e2e in _0x59a9c3[_0x18e908(0x3da)]){var _0x53819e=_0x960e2e,_0x40f957=_0x59a9c3['resource'][_0x960e2e];if(!this['resources']['res']||this[_0x18e908(0x4e4)][_0x18e908(0xe1)]<_0x40f957)continue;}_0x23a58d[_0x18e908(0x448)](_0x48efb7);}return _0x23a58d;},this[_0x410d82(0x42d)]=_0x476c5b=>{var _0x2efab9=_0x410d82;if(!_0x476c5b||!_0x476c5b[_0x2efab9(0x358)]||!_0x476c5b['player'])return console['log'](_0x2efab9(0x281));var _0x3b2697=this[_0x2efab9(0x1a4)](),_0x40f90b=_0x476c5b[_0x2efab9(0x103)];if(!_0x3b2697||_0x3b2697[_0x2efab9(0x1e8)]<0x1)return console[_0x2efab9(0x451)](_0x2efab9(0x280));_0x3b2697=_0x3b2697[_0x2efab9(0x2ea)](_0x444194=>_0x444194==_0x476c5b[_0x2efab9(0x358)]);if(!_0x3b2697)return console[_0x2efab9(0x451)](_0x2efab9(0x36a));if(!this['get_valid_player_for_craft']({'craft':_0x3b2697})[_0x2efab9(0x2ea)](_0x5e5dff=>_0x5e5dff==_0x40f90b))return console['log'](_0x2efab9(0x43e));for(var _0x50d684 in _0x3b2697[_0x2efab9(0x4e4)]){var _0x1eb1f2=_0x50d684,_0x34e107=_0x3b2697[_0x2efab9(0x4e4)][_0x50d684];if(this['resources'][_0x50d684]<_0x34e107)return this['MessageSystem'][_0x2efab9(0x2ed)]({'txt':_0x2efab9(0x14e)}),![];}if(_0x40f90b[_0x2efab9(0x2e2)]<_0x3b2697[_0x2efab9(0x223)])return this[_0x2efab9(0xb6)]['addMessage']({'txt':_0x40f90b[_0x2efab9(0x22c)]+_0x2efab9(0xfe)}),![];_0x40f90b[_0x2efab9(0x2e2)]-=_0x3b2697[_0x2efab9(0x223)];switch(_0x3b2697['type']){case _0x2efab9(0xaf):this[_0x2efab9(0x4ae)]({'weapon':new Weapon()[_0x2efab9(0x16f)]({'name':_0x3b2697[_0x2efab9(0x22c)]})});break;case _0x2efab9(0x41e):this[_0x2efab9(0x2fc)]({'armor':new Armor()[_0x2efab9(0x1cd)]({'name':_0x3b2697['name']})});}switch(_0x3b2697['bat']){case _0x2efab9(0x37d):world[_0x2efab9(0x46a)][_0x2efab9(0x402)](_0x2efab9(0x411));break;case _0x2efab9(0x37b):world['Music'][_0x2efab9(0x402)](_0x2efab9(0x411));break;}this[_0x2efab9(0xb6)]['addMessage']({'type':'job','txt':_0x40f90b[_0x2efab9(0x22c)]+'\x20crafted\x20a\x20'+_0x3b2697['name']}),this[_0x2efab9(0x38e)](_0x3b2697);},this['loadItemsFromInput']=_0x4d06d7=>{var _0x35af3c=_0x410d82;this[_0x35af3c(0x1d0)]=[];for(var _0x3c6058 in _0x4d06d7){var _0x5cef9d=_0x4d06d7[_0x3c6058];switch(_0x5cef9d[_0x35af3c(0x290)]){case _0x35af3c(0xaf):this[_0x35af3c(0x4ae)]({'weapon':new Weapon()[_0x35af3c(0x146)](_0x5cef9d)});break;case _0x35af3c(0x41e):this[_0x35af3c(0x2fc)]({'armor':new Armor()[_0x35af3c(0x7f)](_0x5cef9d)});}}},this[_0x410d82(0x171)]=_0x13fc01=>{var _0x38c596=_0x410d82;if(!_0x13fc01)return undefined;var _0x512db4=new PlayerVillage({});for(var _0x48785f in _0x13fc01){if(_0x13fc01[_0x48785f]==undefined)continue;if(_0x48785f==_0x38c596(0x1b8)||_0x48785f==_0x38c596(0x3c1))continue;else{if(_0x48785f=='weapon')_0x512db4[_0x38c596(0xaf)]=new Weapon()[_0x38c596(0x146)](_0x13fc01[_0x48785f]);else{if(_0x48785f==_0x38c596(0x41e))_0x512db4['armor']=new Armor()[_0x38c596(0x7f)](_0x13fc01[_0x48785f]);else _0x512db4[_0x48785f]=_0x13fc01[_0x48785f];}}}return this[_0x38c596(0x26d)][_0x38c596(0x448)](_0x512db4),_0x512db4[_0x38c596(0x29f)](),_0x512db4;},this[_0x410d82(0x20c)]=_0x40cac4=>{var _0x70f18e=_0x410d82;if(this['players'][_0x70f18e(0x1e8)]>=this[_0x70f18e(0x160)])return undefined;var _0x5666c1={'r':this[_0x70f18e(0x1b5)]['r']-0x5+Math[_0x70f18e(0x311)](Math['random']()*0xb),'g':this[_0x70f18e(0x1b5)]['g']-0x5+Math[_0x70f18e(0x311)](Math[_0x70f18e(0x3b0)]()*0xb),'b':this[_0x70f18e(0x1b5)]['b']-0x5+Math[_0x70f18e(0x311)](Math[_0x70f18e(0x3b0)]()*0xb)},_0x3a57c2=new PlayerVillage({'color':_0x5666c1,'speed':0x64-0x5+Math['floor'](Math[_0x70f18e(0x3b0)]()*0xb),'stats':{'Strength':0xa-0x5+Math[_0x70f18e(0x311)](Math[_0x70f18e(0x3b0)]()*0xb),'Dexterity':0xa-0x5+Math[_0x70f18e(0x311)](Math['random']()*0xb)},'movePCost':PLAYER_DEFAUTL_MOVECOST-0x2+Math[_0x70f18e(0x311)](Math[_0x70f18e(0x3b0)]()*0x5),'lifeMax':0x64-0x14+Math[_0x70f18e(0x311)](Math[_0x70f18e(0x3b0)]()*0x29),'weapon':_0x40cac4['weapon']?new Weapon()['createNewWeapon']({'name':_0x40cac4[_0x70f18e(0xaf)]}):undefined,'armor':_0x40cac4[_0x70f18e(0x41e)]?new Armor()[_0x70f18e(0x1cd)]({'name':_0x40cac4['armor']}):undefined,'size':0x1,'ActionPointMax':0x5f+Math[_0x70f18e(0x311)](Math[_0x70f18e(0x3b0)]()*0xb)});return this[_0x70f18e(0x26d)][_0x70f18e(0x448)](_0x3a57c2),_0x3a57c2;},this[_0x410d82(0x234)]=_0x242715=>{var _0x4d7254=_0x410d82;if(!_0x242715)return undefined;for(var _0x4b802c in this[_0x4d7254(0x45b)]){var _0x8c1acb=this[_0x4d7254(0x45b)][_0x4b802c]['players_inside'][_0x4d7254(0x2ea)](_0x2d71ab=>_0x2d71ab==_0x242715);if(_0x8c1acb)return this[_0x4d7254(0x45b)][_0x4b802c];}return undefined;},this['generateBasicVillage']=()=>{var _0x55f0bd=_0x410d82;this['populationMax']=0x5,this[_0x55f0bd(0x4e4)]={'food':0xc8,'wood':0x14};for(var _0x40d9c2=0x0;_0x40d9c2<0x5;_0x40d9c2++){if(_0x40d9c2==0x0)var _0x4be410=this[_0x55f0bd(0x20c)]({'weapon':'Stone\x20Axe'});else{if(_0x40d9c2==0x1)var _0x4be410=this[_0x55f0bd(0x20c)]({'weapon':_0x55f0bd(0x30d)});else{if(_0x40d9c2==0x2){var _0x4be410=this[_0x55f0bd(0x20c)]({'armor':_0x55f0bd(0x354)});_0x4be410['size']=0x2;}}}var _0x4be410=this['generateBasicPlayer']({});}var _0x3286d3=this['addDefendVillage']();for(var _0x13a478 in this['players'])_0x3286d3['players_inside']['push'](this['players'][_0x13a478]);this['addForest'](),this[_0x55f0bd(0x44f)](),this[_0x55f0bd(0x356)](),this[_0x55f0bd(0x258)](),this[_0x55f0bd(0x1ed)]=PHASE_COMBAT,this[_0x55f0bd(0x353)]=!![];},this[_0x410d82(0x258)]=()=>{var _0xa40d36=_0x410d82;if(!![]||this['week']==0x0){this[_0xa40d36(0x36b)]=[];for(var _0x18ff23=0x1;_0x18ff23<0xa;_0x18ff23++){this['waves'][_0x18ff23]={};}this['waves'][0x0]={'attackVillage':{'enemies':[{'type':'goblins','nb':0x3,'lvl':0x1}]}},this[_0xa40d36(0x36b)][0x1][_0xa40d36(0x1b2)]=!![],this[_0xa40d36(0x36b)][0x2]['visible']=!![],this[_0xa40d36(0x36b)][0x3]['visible']=!![],this[_0xa40d36(0x36b)][0x4]={'attackVillage':{'enemies':[{'type':'brigand','nb':0x2,'lvl':0x1}]},'visible':!![]},this['waves'][0x8]={'attackVillage':{'enemies':[{'type':_0xa40d36(0x186),'nb':0x1,'lvl':0x1}]}};}},this['addWavesNextTurn']=()=>{var _0x234194=_0x410d82;this[_0x234194(0x36b)]['shift'](),this[_0x234194(0x36b)][0x0]['visible']=!![];var _0x561f33={},_0x338043=[_0x234194(0x44d),_0x234194(0xcb),'giant'],_0x2e70a4=_0x338043[Math[_0x234194(0x311)](Math[_0x234194(0x3b0)]()*_0x338043[_0x234194(0x1e8)])];if(Math[_0x234194(0x311)](Math[_0x234194(0x3b0)]()*0x64)<0x1e)switch(_0x2e70a4){case'goblin':_0x561f33['attackVillage']={'enemies':[{'type':_0x234194(0x347),'nb':0x6+Math[_0x234194(0x311)](Math[_0x234194(0x3b0)]()*this['week']/0x2),'lvl':Math[_0x234194(0x311)](0x1+this[_0x234194(0x3fc)]/0x8)}]};break;case _0x234194(0x186):_0x561f33[_0x234194(0x2c3)]={'enemies':[{'type':_0x234194(0x347),'nb':0x1+Math[_0x234194(0x311)](Math['random']()*this[_0x234194(0x3fc)]/0x6),'lvl':Math[_0x234194(0x311)](0x1+this[_0x234194(0x3fc)]/0x12)}]};break;case'brigand':_0x561f33['attackVillage']={'enemies':[{'type':_0x234194(0x347),'nb':0x3+Math[_0x234194(0x311)](Math['random']()*this[_0x234194(0x3fc)]/0x3),'lvl':Math[_0x234194(0x311)](0x1+this['week']/0xd)}]};break;}this[_0x234194(0x36b)][0x0]['visible']=!![],this[_0x234194(0x36b)]['push'](_0x561f33);},this[_0x410d82(0x38c)]=_0x20f256=>{var _0x38ffd8=_0x410d82;if(!_0x20f256||!_0x20f256[_0x38ffd8(0x103)])return![];var _0x1f1024=_0x20f256[_0x38ffd8(0x103)];for(var _0x969abe in this[_0x38ffd8(0x45b)]){var _0x27739d=this[_0x38ffd8(0x45b)][_0x969abe];for(var _0x329fda in _0x27739d[_0x38ffd8(0x43c)])if(_0x27739d[_0x38ffd8(0x43c)][_0x329fda]==_0x1f1024)_0x27739d['players_inside'][_0x38ffd8(0x194)](_0x329fda,0x1);}},this[_0x410d82(0x483)]=_0x2e0c21=>{var _0x3b0ff2=_0x410d82;if(!_0x2e0c21||!_0x2e0c21[_0x3b0ff2(0x103)]||!_0x2e0c21[_0x3b0ff2(0x1a1)])return![];if(_0x2e0c21[_0x3b0ff2(0x1a1)][_0x3b0ff2(0x43c)][_0x3b0ff2(0x1e8)]>=_0x2e0c21[_0x3b0ff2(0x1a1)][_0x3b0ff2(0x3ae)])return![];var _0x40d438=_0x2e0c21[_0x3b0ff2(0x103)];for(var _0x5ccafa in this[_0x3b0ff2(0x45b)]){var _0x4e52d5=this[_0x3b0ff2(0x45b)][_0x5ccafa];for(var _0x110f9e in _0x4e52d5[_0x3b0ff2(0x43c)])if(_0x4e52d5[_0x3b0ff2(0x43c)][_0x110f9e]==_0x40d438)_0x4e52d5[_0x3b0ff2(0x43c)][_0x3b0ff2(0x194)](_0x110f9e,0x1);}_0x2e0c21['bat']['players_inside'][_0x3b0ff2(0x448)](_0x40d438);},this['removeResource']=_0x4a9d82=>{var _0x3c9dcb=_0x410d82;if(!_0x4a9d82||!_0x4a9d82[_0x3c9dcb(0x4e4)])return console[_0x3c9dcb(0x451)]('bad\x20input\x20remove\x20resource');var _0x3c1706=![],_0xd4ea6a=_0x3c9dcb(0x238);for(var _0x389b09 in _0x4a9d82[_0x3c9dcb(0x4e4)]){var _0x4670bb=_0x389b09,_0x4dcc09=_0x4a9d82[_0x3c9dcb(0x4e4)][_0x389b09];if(!(_0x4dcc09>0x0))continue;_0x3c1706=!![];var _0x57d812=this[_0x3c9dcb(0x4e4)];if(!_0x57d812[_0x4670bb]||_0x57d812[_0x4670bb]<_0x4dcc09)return console[_0x3c9dcb(0x451)](_0x3c9dcb(0x4b4));_0x57d812[_0x4670bb]-=_0x4dcc09,_0xd4ea6a+='\x20x'+_0x4dcc09+'\x20'+_0x4670bb;}if(_0x3c1706)this[_0x3c9dcb(0xb6)]['addMessage']({'type':_0x3c9dcb(0x3da),'txt':{..._0x4a9d82[_0x3c9dcb(0x4e4)]}});},this['addResource']=_0x97cb47=>{var _0x14640d=_0x410d82;if(!_0x97cb47||!_0x97cb47[_0x14640d(0x4e4)])return![];var _0x323da2=![];for(var _0x13f4a2 in _0x97cb47['resources']){var _0x25db28=_0x13f4a2,_0x28872b=_0x97cb47[_0x14640d(0x4e4)][_0x13f4a2];if(!(_0x28872b>0x0))continue;_0x323da2=!![];var _0x5b7977=this[_0x14640d(0x4e4)];if(!_0x5b7977[_0x25db28])_0x5b7977[_0x25db28]=0x0;_0x5b7977[_0x25db28]+=_0x28872b;}if(_0x323da2)this[_0x14640d(0xb6)][_0x14640d(0x2ed)]({'type':_0x14640d(0x3da),'txt':{..._0x97cb47[_0x14640d(0x4e4)]}});},this[_0x410d82(0x45d)]=_0x58a787=>{var _0x4c4f75=_0x410d82;this[_0x4c4f75(0x45b)]=[];for(var _0x44581b in _0x58a787){var _0x1ed2a2=_0x58a787[_0x44581b],_0x3bdc7e=new Batiment(_0x58a787[_0x44581b]);for(var _0x237d3c in _0x1ed2a2){_0x3bdc7e[_0x237d3c]=_0x1ed2a2[_0x237d3c];}_0x3bdc7e[_0x4c4f75(0x43c)]=[],this[_0x4c4f75(0x45b)][_0x4c4f75(0x448)](_0x3bdc7e);}},this[_0x410d82(0x44f)]=_0x504c07=>{var _0xb81245=_0x410d82,_0x350e6a=new Batiment({'name':_0xb81245(0xeb),'player_size':0x0,'callback_actionPlayer':[],'description':_0xb81245(0xcf),'blocking_end_turn':!![],'imgIcon':_0xb81245(0xeb),'lvl':0x1,'upgrades_callback':_0xb81245(0x4d3),'upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'woodplank':0xa,'stone':0x32}}]});_0x350e6a[_0xb81245(0x323)]=0x5,this[_0xb81245(0x45b)][_0xb81245(0x448)](_0x350e6a);},this['addBowWorkshop']=_0x58d93c=>{var _0x4c64d0=_0x410d82,_0x59ed7b=new Batiment({'name':_0x58d93c['name'],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x4c64d0(0xed),'buto_txt':_0x4c64d0(0x40b),'description':_0x4c64d0(0x453),'cost':0x0}],'description':_0x4c64d0(0x3d3),'blocking_end_turn':!![],'imgIcon':'bow_workshop_icon','build_progression':_0x58d93c[_0x4c64d0(0x270)]});this['bats'][_0x4c64d0(0x448)](_0x59ed7b);},this[_0x410d82(0x233)]=_0x20d30d=>{var _0x5dbe69=_0x410d82,_0x265f04=new Batiment({'name':_0x20d30d[_0x5dbe69(0x22c)],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x5dbe69(0xed),'buto_txt':'go\x20to\x20craft\x20tab','description':_0x5dbe69(0x453),'cost':0x0},{'callback':_0x5dbe69(0x23b),'buto_txt':_0x5dbe69(0x420),'description':_0x5dbe69(0x4cb),'cost':0x6}],'description':_0x5dbe69(0x469),'blocking_end_turn':!![],'imgIcon':'workshop_icon','build_progression':_0x20d30d['costAP']});this[_0x5dbe69(0x45b)]['push'](_0x265f04);},this[_0x410d82(0x2a4)]=_0x255e5d=>{var _0x163ce3=_0x410d82,_0x5e23d0=new Batiment({'name':_0x255e5d['name'],'player_size':0x2,'callback_actionPlayer':[{'callback':_0x163ce3(0x333),'buto_txt':_0x163ce3(0x3b3),'description':_0x163ce3(0x24f),'cost':0x4}],'description':_0x163ce3(0x18c),'blocking_end_turn':!![],'imgIcon':_0x163ce3(0x317),'build_progression':_0x255e5d[_0x163ce3(0x270)],'upgrades_callback':_0x163ce3(0x3c6),'upgrades':[{'resources':{'wood':0x28}},{'resources':{'woodplank':0xa}},{'resources':{'woodplank':0x14,'brick':0x1e,'metalCopper':0x5}}]});_0x5e23d0[_0x163ce3(0x3f7)]=0x1,this[_0x163ce3(0x45b)][_0x163ce3(0x448)](_0x5e23d0);},this[_0x410d82(0x1ff)]=_0x14901e=>{var _0x39af41=_0x410d82,_0x317210=new Batiment({'name':_0x39af41(0x390),'player_size':0x2,'callback_actionPlayer':[{'callback':_0x39af41(0x2be),'buto_txt':_0x39af41(0x124),'description':_0x39af41(0xc1),'cost':0x5}],'description':_0x39af41(0x273),'blocking_end_turn':!![],'imgIcon':'sawmill','build_progression':_0x14901e[_0x39af41(0x270)]});this[_0x39af41(0x45b)]['push'](_0x317210);},this['addSmelter']=_0x103d81=>{var _0x37474f=_0x410d82,_0x32cd00=new Batiment({'name':_0x37474f(0x45c),'player_size':0x1,'callback_actionPlayer':[{'callback':'SmeltCopper','buto_txt':'smelt\x20copper','description':_0x37474f(0x180),'cost':0x3}],'description':_0x37474f(0x20f),'blocking_end_turn':!![],'imgIcon':_0x37474f(0x122),'build_progression':_0x103d81[_0x37474f(0x270)]});this[_0x37474f(0x45b)][_0x37474f(0x448)](_0x32cd00);},this['addButchery']=_0xb5b228=>{var _0x462ef7=_0x410d82,_0x51b6fb=new Batiment({'name':_0x462ef7(0x2ba),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x462ef7(0x285),'buto_txt':_0x462ef7(0x41b),'description':'cut\x20deadAnimal\x20into\x20food\x20and\x20Hide','cost':0x7}],'blocking_end_turn':!![],'description':_0x462ef7(0x4b3),'imgIcon':_0x462ef7(0xdf),'build_progression':_0xb5b228[_0x462ef7(0x270)],'upgrades_callback':_0x462ef7(0x3c6),'upgrades':[{'resources':{'brick':0x14}}]});_0x51b6fb[_0x462ef7(0x3f7)]=0x1,this[_0x462ef7(0x45b)][_0x462ef7(0x448)](_0x51b6fb);},this[_0x410d82(0x4de)]=_0x3a5733=>{var _0x2634dd=_0x410d82,_0x2d86a7=new Batiment({'name':_0x2634dd(0x460),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x2634dd(0x44b),'buto_txt':_0x2634dd(0x278),'description':'wacth\x20out\x20incoming\x20enemy\x20attack','cost':0x0}],'blocking_end_turn':!![],'description':'chance\x20to\x20forecast\x20incoming\x20enemy','imgIcon':_0x2634dd(0x19b),'build_progression':_0x3a5733['costAP'],'upgrades_callback':'','upgrades':[{'resources':{'wood':0x32,'stone':0x5}},{'resources':{'woodplank':0xa,'brick':0xa,'metalCopper':0xa}}]});_0x2d86a7[_0x2634dd(0x3f7)]=0x1,this[_0x2634dd(0x45b)][_0x2634dd(0x448)](_0x2d86a7);},this[_0x410d82(0x2cc)]=_0x1c48cb=>{var _0x191cd0=_0x410d82,_0x153e7b=new Batiment({'name':_0x191cd0(0x31d),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x191cd0(0xed),'buto_txt':_0x191cd0(0x40b),'description':'craft\x20weapons','cost':0x0},{'callback':'GoToForgeTab','buto_txt':'go\x20to\x20forge\x20tab','description':_0x191cd0(0x47c),'cost':0x0}],'description':_0x191cd0(0x383),'blocking_end_turn':!![],'imgIcon':'forge','build_progression':_0x1c48cb[_0x191cd0(0x270)]});this['bats'][_0x191cd0(0x448)](_0x153e7b);},this[_0x410d82(0x34f)]=()=>{var _0x594dfd=_0x410d82,_0x14aaea=new Batiment({'name':_0x594dfd(0x2bf),'player_size':0x1,'callback_actionPlayer':[{'callback':_0x594dfd(0x262),'buto_txt':_0x594dfd(0x403),'description':_0x594dfd(0x2b5),'cost':0x2}],'description':_0x594dfd(0x38a),'blocking_end_turn':!![],'imgIcon':_0x594dfd(0x434)});this['bats'][_0x594dfd(0x448)](_0x14aaea);},this[_0x410d82(0x230)]=()=>{var _0xb5616c=_0x410d82,_0x168a52=new Batiment({'name':_0xb5616c(0x4ca),'player_size':0x3e7,'callback_actionPlayer':[{'callback':_0xb5616c(0x241),'buto_txt':_0xb5616c(0x47d),'description':_0xb5616c(0xa4),'cost':0x5}],'description':_0xb5616c(0x185),'blocking_end_turn':!![],'imgIcon':_0xb5616c(0x11e)});this[_0xb5616c(0x45b)]['push'](_0x168a52);},this[_0x410d82(0x14c)]=()=>{var _0x1b1416=_0x410d82,_0x6da90d=new Batiment({'name':'Defend\x20Village','player_size':0x5,'callback_actionPlayer':[],'description':_0x1b1416(0x149),'blocking_end_turn':![],'imgIcon':'defend_village_icon','upgrades_callback':'UppgradeDefendVillage','upgrades':[{'resources':{'food':0x32,'wood':0x19}},{'resources':{'food':0x64,'brick':0x5}},{'resources':{'food':0x96,'coal':0x32}},{'resources':{'food':0xc8,'metalCopper':0x19}}]});return _0x6da90d[_0x1b1416(0x3f7)]=0x1,this[_0x1b1416(0x45b)][_0x1b1416(0x448)](_0x6da90d),_0x6da90d;},this[_0x410d82(0x356)]=()=>{var _0x230e66=_0x410d82;this[_0x230e66(0xf0)]=[{'name':_0x230e66(0x37d),'img':_0x230e66(0x39f),'resources':{'wood':0xa},'callback':'addWorkShop','input':{'name':_0x230e66(0x37d),'costAP':0x1e}},{'name':_0x230e66(0x269),'img':_0x230e66(0x2d0),'resources':{'wood':0x64,'stone':0x1e},'callback':_0x230e66(0x300),'input':{'name':_0x230e66(0x269),'costAP':0x14}},{'name':'Mine','img':_0x230e66(0x317),'resources':{'wood':0x14,'stone':0x5},'callback':_0x230e66(0x2a4),'input':{'name':_0x230e66(0x317),'costAP':0xa}},{'name':_0x230e66(0x390),'img':_0x230e66(0x468),'resources':{'wood':0x32,'stone':0x32},'callback':_0x230e66(0x1ff),'input':{'name':_0x230e66(0x390),'costAP':0xa}},{'name':_0x230e66(0x45c),'img':_0x230e66(0x122),'resources':{'wood':0xf,'brick':0x5},'callback':'addSmelter','input':{'name':'Smelter','costAP':0xa}},{'name':_0x230e66(0x31d),'img':_0x230e66(0x209),'resources':{'wood':0x14,'brick':0x5},'callback':_0x230e66(0x2cc),'input':{'name':'Forge','costAP':0xa}},{'name':'Stone\x20Carving','img':_0x230e66(0x434),'resources':{'wood':0x14,'stone':0x5},'callback':_0x230e66(0x34f),'input':{'name':_0x230e66(0x2bf),'costAP':0x50}},{'name':_0x230e66(0x24c),'img':'lighthouse','resources':{'wood':0x1},'callback':_0x230e66(0x4de),'input':{'name':_0x230e66(0x24c),'costAP':0xa}},{'name':_0x230e66(0x2ba),'img':_0x230e66(0xdf),'resources':{'wood':0xa},'callback':_0x230e66(0xd6),'input':{'name':'Butchery','costAP':0x2d}}];},this['checkHaveResources']=_0x5f0684=>{var _0x24a0ef=_0x410d82;if(!_0x5f0684||!_0x5f0684[_0x24a0ef(0x4e4)])return![];var _0x49655c=_0x5f0684[_0x24a0ef(0x4e4)];for(var _0x4c849b in _0x5f0684[_0x24a0ef(0x4e4)]){var _0x38f72b=_0x4c849b,_0x43dfc4=_0x49655c[_0x4c849b];if(!this[_0x24a0ef(0x4e4)][_0x38f72b]||this['resources'][_0x38f72b]<_0x43dfc4)return![];}return!![];},this[_0x410d82(0x461)]=_0x3d5730=>{var _0x1a0c9f=_0x410d82;if(!_0x3d5730||!_0x3d5730[_0x1a0c9f(0x1a1)])return![];if(!this[_0x1a0c9f(0x4a5)](_0x3d5730[_0x1a0c9f(0x1a1)]))return this[_0x1a0c9f(0xb6)][_0x1a0c9f(0x2ed)]({'txt':_0x1a0c9f(0x14e)});var _0xda7d03=_0x3d5730[_0x1a0c9f(0x1a1)];this['MessageSystem']['addMessage']({'type':'building','txt':_0x1a0c9f(0x367)+_0xda7d03[_0x1a0c9f(0x22c)]+_0x1a0c9f(0x1e6)}),this[_0x1a0c9f(0x38e)](_0x3d5730[_0x1a0c9f(0x1a1)]),this[_0xda7d03[_0x1a0c9f(0x33a)]](_0xda7d03[_0x1a0c9f(0x232)]);for(var _0x2483f3 in this['batsToBuild'])if(this[_0x1a0c9f(0xf0)][_0x2483f3]==_0xda7d03)this['batsToBuild'][_0x1a0c9f(0x194)](_0x2483f3,0x1);},this[_0x410d82(0x2fc)]=_0xf46798=>{var _0x2ece7e=_0x410d82;if(!_0xf46798||!_0xf46798['armor'])return;this[_0x2ece7e(0x1d0)][_0x2ece7e(0x448)](_0xf46798[_0x2ece7e(0x41e)]);},this[_0x410d82(0x4ae)]=_0x5f0c52=>{var _0x112c9b=_0x410d82;if(!_0x5f0c52||!_0x5f0c52[_0x112c9b(0xaf)])return console[_0x112c9b(0x451)](_0x112c9b(0x222));this[_0x112c9b(0x1d0)][_0x112c9b(0x448)](_0x5f0c52[_0x112c9b(0xaf)]);},this['End_Turn']=_0x4bff81=>{var _0x731e6d=_0x410d82;if(!_0x4bff81)return![];world[_0x731e6d(0x497)][_0x731e6d(0x82)]=[];switch(this[_0x731e6d(0x1ed)]){case PHASE_NEWTURN:world[_0x731e6d(0x458)](),this[_0x731e6d(0x1ed)]=PHASE_PLACEPLAYER,this[_0x731e6d(0xb6)][_0x731e6d(0x2ed)]({'txt':_0x731e6d(0x239)});this[_0x731e6d(0x36b)][0x0][_0x731e6d(0x2c3)]&&(this['MessageSystem']['addMessage']({'txt':_0x731e6d(0xc3)}),world[_0x731e6d(0x46a)][_0x731e6d(0x402)](_0x731e6d(0x455)));for(var _0x4edacc in this['players'])this[_0x731e6d(0x26d)][_0x4edacc]['villageActionPoint']=this[_0x731e6d(0x26d)][_0x4edacc][_0x731e6d(0x1df)];if(this['week']==0x0)world[_0x731e6d(0x46a)]['playSound'](_0x731e6d(0xe4),!![],!![]);break;case PHASE_PLACEPLAYER:if(_0x4bff81[_0x731e6d(0x416)]){var _0x18c8f6=[];for(var _0x4edacc in this[_0x731e6d(0x26d)]){_0x365f62=this['players'][_0x4edacc];if(!this[_0x731e6d(0x234)](_0x365f62))_0x18c8f6[_0x731e6d(0x448)]({'txt':_0x731e6d(0x1a2)+_0x365f62[_0x731e6d(0x22c)]+_0x731e6d(0x170),'player':_0x365f62,'tab':_0x731e6d(0x2a7)});}defBat=this[_0x731e6d(0x45b)][_0x731e6d(0x2ea)](_0x250c63=>_0x250c63['name']==_0x731e6d(0x1a3));if(defBat[_0x731e6d(0x43c)][_0x731e6d(0x1e8)]<0x1)_0x18c8f6['push']({'txt':_0x731e6d(0x4a2),'bat':defBat,'tab':'building'});if(_0x18c8f6[_0x731e6d(0x1e8)]>0x0){world['villageUI'][_0x731e6d(0x82)]=_0x18c8f6;return;}}this['phase']=PHASE_ACTIONPLAYER,this[_0x731e6d(0xb6)][_0x731e6d(0x2ed)]({'txt':'Phase\x202\x20started'});break;case PHASE_ACTIONPLAYER:var _0x18c8f6=[];if(_0x4bff81[_0x731e6d(0x416)])for(var _0x4edacc in this[_0x731e6d(0x45b)]){var _0x1f21da=this['bats'][_0x4edacc];if(!_0x1f21da[_0x731e6d(0x3c3)])continue;for(var _0x42e6d0 in _0x1f21da[_0x731e6d(0x43c)]){var _0x365f62=_0x1f21da['players_inside'][_0x42e6d0],_0x2462fc=_0x365f62[_0x731e6d(0x9c)]();if(_0x2462fc&&_0x2462fc[_0x731e6d(0x1e8)]>0x0)_0x18c8f6['push']({'txt':_0x731e6d(0x1a2)+_0x365f62[_0x731e6d(0x22c)]+_0x731e6d(0x195)+_0x365f62[_0x731e6d(0x2e2)]+_0x731e6d(0x19e),'player':_0x365f62,'tab':'building'});}}if(_0x18c8f6[_0x731e6d(0x1e8)]>0x0){world['villageUI'][_0x731e6d(0x82)]=_0x18c8f6;return;}this['phase']=PHASE_COMBAT;var _0x432d56=this[_0x731e6d(0x36b)][0x0];_0x432d56[_0x731e6d(0x2c3)]&&(this[_0x731e6d(0x353)]=!![],this['MessageSystem'][_0x731e6d(0x2ed)]({'txt':_0x731e6d(0x286)}));break;case PHASE_COMBAT:if(this[_0x731e6d(0x353)])this[_0x731e6d(0x397)]();else{this[_0x731e6d(0x37e)](),this['phase']=PHASE_NEWTURN,this[_0x731e6d(0x3fc)]++;var _0x5a26b6=this[_0x731e6d(0x26d)][_0x731e6d(0x1e8)]*0x2;this['MessageSystem']['addMessage']({'txt':'New\x20Turn\x20started\x20:\x20'+this['week']}),this[_0x731e6d(0xb6)][_0x731e6d(0x2ed)]({'type':_0x731e6d(0x103),'txt':_0x731e6d(0x4dc)}),this[_0x731e6d(0x38e)]({'resources':{'food':_0x5a26b6}}),this[_0x731e6d(0x14f)]=_0x5a26b6;for(var _0x4edacc in this[_0x731e6d(0x26d)]){this[_0x731e6d(0x26d)][_0x4edacc]['tryLvLup'](),this['players'][_0x4edacc][_0x731e6d(0x26b)]++;}if(this[_0x731e6d(0x26d)][_0x731e6d(0x1e8)]<this['populationMax']){var _0x2736b2=Math[_0x731e6d(0x311)](Math[_0x731e6d(0x3b0)]()*0x64+0xa*this[_0x731e6d(0x160)]-this['players']['length']);if(_0x2736b2<0x32){var _0x365f62=this[_0x731e6d(0x20c)]({});this['MessageSystem']['addMessage']({'type':_0x731e6d(0x103),'txt':_0x731e6d(0x32d)+_0x365f62[_0x731e6d(0x22c)]+_0x731e6d(0x229)});}}}break;}},this[_0x410d82(0x397)]=()=>{var _0x3dd28a=_0x410d82,_0x3477ab=[];for(var _0x4858be in this[_0x3dd28a(0x26d)]){var _0xd88304=this[_0x3dd28a(0x26d)][_0x4858be];bat=this[_0x3dd28a(0x234)](_0xd88304);if(bat[_0x3dd28a(0x22c)]==_0x3dd28a(0x1a3))_0x3477ab[_0x3dd28a(0x448)](_0xd88304);}world[_0x3dd28a(0x497)]=undefined,console[_0x3dd28a(0x451)](_0x3477ab[_0x3dd28a(0x1e8)]+_0x3dd28a(0x3b8)),world[_0x3dd28a(0x219)](_0x3477ab,this['waves'][0x0]),world[_0x3dd28a(0x46a)][_0x3dd28a(0x15c)](_0x3dd28a(0xe4),!![]),world[_0x3dd28a(0x46a)][_0x3dd28a(0x402)](_0x3dd28a(0x3ce),!![]),world[_0x3dd28a(0x3c8)]=new GameUI(world[_0x3dd28a(0x3db)][_0x3dd28a(0x498)][_0x3dd28a(0x3c8)]),world[_0x3dd28a(0x46a)][_0x3dd28a(0x402)]('hornBattle');},this[_0x410d82(0x166)]=_0x47bcd7=>{var _0x5d5c67=_0x410d82;for(var _0x34fd14 in this['players']){this[_0x5d5c67(0x26d)][_0x34fd14]['id']==_0x47bcd7['id']&&(this[_0x5d5c67(0x26d)][_0x5d5c67(0x194)](_0x34fd14,0x1),this[_0x5d5c67(0xb6)]['addMessage']({'txt':_0x47bcd7[_0x5d5c67(0x22c)]+'is\x20dead\x20R.I.P'}));}for(var _0x34fd14 in this[_0x5d5c67(0x45b)]){var _0x34181b=this[_0x5d5c67(0x45b)][_0x34fd14];for(var _0x2cd3ed in _0x34181b[_0x5d5c67(0x43c)])if(_0x34181b[_0x5d5c67(0x43c)][_0x2cd3ed]['id']==_0x47bcd7['id'])_0x34181b[_0x5d5c67(0x43c)]['splice'](_0x2cd3ed,0x1);}};};function UppgradeDefendVillage(_0x43524c){var _0x44e258=_0x3c4aa9;if(!_0x43524c||!_0x43524c[_0x44e258(0x1a1)])return;bat[_0x44e258(0x3ae)]+=0x5,village[_0x44e258(0xb6)][_0x44e258(0x2ed)]({'type':_0x44e258(0x2a7),'txt':_0x44e258(0x17f)+bat[_0x44e258(0x3ae)]+')'});}function IncreaseBatSizeMax(_0x13b437){var _0x563e43=_0x3c4aa9;if(!_0x13b437||!_0x13b437[_0x563e43(0x1a1)])return;bat[_0x563e43(0x3ae)]+=0x1,village[_0x563e43(0xb6)][_0x563e43(0x2ed)]({'type':_0x563e43(0x2a7),'txt':bat['name']+'\x20size\x20+1'});}function UpgradingHouses(_0x5963ae){var _0x2b1ab3=_0x3c4aa9;if(!_0x5963ae||!_0x5963ae[_0x2b1ab3(0x1a1)])return;var _0x1d24fa=_0x5963ae[_0x2b1ab3(0x1a1)],_0x4092ee=world[_0x2b1ab3(0x305)];_0x1d24fa[_0x2b1ab3(0x3f7)]==0x1&&(_0x4092ee[_0x2b1ab3(0x160)]+=0x5,_0x4092ee[_0x2b1ab3(0xb6)][_0x2b1ab3(0x2ed)]({'type':'player','txt':'Population\x20max\x20+\x205\x20('+_0x4092ee[_0x2b1ab3(0x160)]+')'})),_0x1d24fa['lvl']==0x2&&(_0x4092ee[_0x2b1ab3(0x160)]+=0xa,_0x4092ee['MessageSystem']['addMessage']({'type':_0x2b1ab3(0x103),'txt':_0x2b1ab3(0x1b0)+_0x4092ee[_0x2b1ab3(0x160)]+')'}));}function GoToCraftTab(){if(world['villageUI'])world['villageUI']['GoToTabName']({'tab':'craft'});}function GoToForgeTab(){var _0x28da35=_0x3c4aa9;if(world[_0x28da35(0x497)])world[_0x28da35(0x497)][_0x28da35(0x3ac)]({'tab':_0x28da35(0x1d0)});}function recolteMine(_0x547ce6){var _0x38b877=_0x3c4aa9;if(!_0x547ce6||!_0x547ce6[_0x38b877(0x103)]||_0x547ce6[_0x38b877(0x140)]==undefined||_0x547ce6[_0x38b877(0x140)]>_0x547ce6['player'][_0x38b877(0x2e2)])return;var _0x108db3=_0x547ce6[_0x38b877(0x103)][_0x38b877(0x22c)]+_0x38b877(0x22b)+_0x547ce6['cost']+_0x38b877(0x10f);world[_0x38b877(0x305)]['MessageSystem']['addMessage']({'type':_0x38b877(0x31f),'txt':_0x108db3}),_0x547ce6[_0x38b877(0x103)][_0x38b877(0x2e2)]-=_0x547ce6[_0x38b877(0x140)];var _0x3b6935=_0x547ce6[_0x38b877(0x103)][_0x38b877(0xaf)]&&_0x547ce6[_0x38b877(0x103)][_0x38b877(0xaf)][_0x38b877(0x1ee)][_0x38b877(0x2ea)](_0x44ae66=>_0x44ae66==BONUS_PICKAXE_MINE)?!![]:![],_0x408b40=0x2+Math[_0x38b877(0x311)](Math['random']()*0x5),_0x2f5ab6=Math['floor'](Math[_0x38b877(0x3b0)]()*0x64)>0x5?0x0:Math[_0x38b877(0x311)](Math[_0x38b877(0x3b0)]()*0xa),_0x1b4bb5=Math[_0x38b877(0x311)](Math[_0x38b877(0x3b0)]()*0x64)>0x5?0x0:Math['floor'](Math[_0x38b877(0x3b0)]()*0x3);_0x3b6935&&(_0x2f5ab6+=0x5,_0x408b40+=0x14,_0x1b4bb5+=0x2);var _0xc29711={'stone':_0x408b40};if(_0x2f5ab6||_0x3b6935&&_0x2f5ab6)_0xc29711[_0x38b877(0x40e)]=_0x2f5ab6;if(_0x1b4bb5||_0x3b6935&&_0x1b4bb5)_0xc29711[_0x38b877(0x105)]=_0x1b4bb5;world[_0x38b877(0x305)][_0x38b877(0x178)]({'resources':_0xc29711}),world[_0x38b877(0x46a)][_0x38b877(0x402)](_0x38b877(0x3b3));}function craftPlankInSawmill(_0x37a9fb){var _0x5d2b77=_0x3c4aa9;if(!_0x37a9fb||!_0x37a9fb[_0x5d2b77(0x103)]||_0x37a9fb[_0x5d2b77(0x140)]==undefined||_0x37a9fb[_0x5d2b77(0x140)]>_0x37a9fb[_0x5d2b77(0x103)][_0x5d2b77(0x2e2)])return;if(!world[_0x5d2b77(0x305)][_0x5d2b77(0x4a5)]({'resources':{'wood':0xa}})){world[_0x5d2b77(0x305)][_0x5d2b77(0xb6)][_0x5d2b77(0x2ed)]({'type':_0x5d2b77(0x31f),'txt':_0x5d2b77(0x1e3)});return;}world[_0x5d2b77(0x46a)][_0x5d2b77(0x402)]('sawmill_song');var _0x4cd447=_0x37a9fb[_0x5d2b77(0x103)][_0x5d2b77(0x22c)]+_0x5d2b77(0x406)+_0x37a9fb[_0x5d2b77(0x140)]+_0x5d2b77(0x10f);world['village'][_0x5d2b77(0xb6)][_0x5d2b77(0x2ed)]({'type':'job','txt':_0x4cd447}),_0x37a9fb[_0x5d2b77(0x103)][_0x5d2b77(0x2e2)]-=_0x37a9fb[_0x5d2b77(0x140)],world[_0x5d2b77(0x305)][_0x5d2b77(0x38e)]({'resources':{'wood':0xa}}),world[_0x5d2b77(0x305)]['addResource']({'resources':{'woodplank':0x1}});}function recoltForestResouce(_0x49c877){var _0x250e11=_0x3c4aa9;if(!_0x49c877||!_0x49c877[_0x250e11(0x103)]||_0x49c877[_0x250e11(0x140)]==undefined||_0x49c877[_0x250e11(0x140)]>_0x49c877[_0x250e11(0x103)][_0x250e11(0x2e2)])return;world[_0x250e11(0x46a)][_0x250e11(0x402)](_0x250e11(0x293));var _0x560b45=0xa-0x2+Math[_0x250e11(0x311)](Math[_0x250e11(0x3b0)]()*0x5),_0x41003e=0x5-0x3+Math['floor'](Math[_0x250e11(0x3b0)]()*0x9),_0x433c88=0x0;_0x49c877[_0x250e11(0x103)][_0x250e11(0xaf)]&&_0x49c877[_0x250e11(0x103)][_0x250e11(0xaf)][_0x250e11(0x1ee)]['find'](_0x38bfab=>_0x38bfab==BONUS_AXE_FOREST_WOOD)&&(_0x41003e*=0x2,_0x41003e+=0xc);_0x49c877[_0x250e11(0x103)][_0x250e11(0xaf)]&&_0x49c877[_0x250e11(0x103)]['weapon'][_0x250e11(0x1ee)][_0x250e11(0x2ea)](_0x12b242=>_0x12b242==BONUS_HUNTER_FOREST)&&(_0x433c88=Math[_0x250e11(0x311)](Math[_0x250e11(0x3b0)]()*0x3));var _0x41db55=0x1+Math[_0x250e11(0x311)](Math['random']()*0x2),_0x271786=_0x49c877[_0x250e11(0x103)][_0x250e11(0x22c)]+_0x250e11(0xc5)+_0x49c877[_0x250e11(0x140)]+_0x250e11(0x10f);world['village'][_0x250e11(0xb6)][_0x250e11(0x2ed)]({'type':'job','txt':_0x271786}),_0x49c877[_0x250e11(0x103)][_0x250e11(0x2e2)]-=_0x49c877['cost'],world[_0x250e11(0x305)]['addResource']({'resources':{'food':_0x560b45,'wood':_0x41003e,'stone':_0x41db55,'deadAnimal':_0x433c88}});}function WorkAtLightHouse(_0x10458c){var _0x2a199e=_0x3c4aa9,_0xc0ddf5=_0x10458c[_0x2a199e(0x103)],_0x3fdf57=_0x10458c['bat'],_0x3c6406=world['village'][_0x2a199e(0x36b)],_0x52fb7c=0x0;for(var _0xacf58a=0x0;_0xacf58a<_0xc0ddf5[_0x2a199e(0x2e2)];_0xacf58a++){var _0x465b54=0x0;while(_0x3c6406[_0x465b54]&&_0x3c6406[_0x465b54]['visible'])_0x465b54++;if(_0x465b54>=_0x3c6406[_0x2a199e(0x1e8)])break;var _0x517ffa=Math['floor'](Math['random']()*0x64);_0x517ffa<0x5*_0x3fdf57[_0x2a199e(0x3f7)]&&(_0x3c6406[_0x465b54][_0x2a199e(0x1b2)]=!![],_0x52fb7c++);}var _0x438fa1=_0xc0ddf5[_0x2a199e(0x22c)]+_0x2a199e(0x304)+_0x52fb7c+'\x20weeks';world['village'][_0x2a199e(0xb6)][_0x2a199e(0x2ed)]({'type':'job','txt':_0x438fa1}),_0xc0ddf5[_0x2a199e(0x2e2)]=0x0;}function TanHide(_0x3276fd){var _0x575a86=_0x3c4aa9;if(!_0x3276fd||!_0x3276fd[_0x575a86(0x103)]||_0x3276fd['cost']===undefined)return;var _0x2f4cdb=world[_0x575a86(0x305)][_0x575a86(0x4a5)]({'resources':{'hide':0x1}});if(!_0x2f4cdb)return world['village'][_0x575a86(0xb6)][_0x575a86(0x2ed)]({'type':_0x575a86(0x31f),'txt':_0x575a86(0x2bc)});var _0x5dc1c7=_0x3276fd['player'][_0x575a86(0x22c)]+'\x20is\x20tanning\x20hide\x20into\x20leather\x20for\x20'+_0x3276fd[_0x575a86(0x140)]+_0x575a86(0x10f);world[_0x575a86(0x305)][_0x575a86(0xb6)]['addMessage']({'type':_0x575a86(0x31f),'txt':_0x5dc1c7}),world[_0x575a86(0x46a)][_0x575a86(0x402)](_0x575a86(0x2ef)),_0x3276fd[_0x575a86(0x103)][_0x575a86(0x2e2)]-=_0x3276fd[_0x575a86(0x140)],world['village'][_0x575a86(0x38e)]({'resources':{'hide':0x1}}),world[_0x575a86(0x305)]['addResource']({'resources':{'leather':0x1}});}function ButcherAnimals(_0x152e10){var _0x1c9805=_0x3c4aa9;if(!_0x152e10||!_0x152e10[_0x1c9805(0x103)]||_0x152e10[_0x1c9805(0x140)]===undefined)return;var _0x3dab0e=world[_0x1c9805(0x305)][_0x1c9805(0x4a5)]({'resources':{'deadAnimal':0x2}});if(!_0x3dab0e)return world[_0x1c9805(0x305)][_0x1c9805(0xb6)]['addMessage']({'type':'job','txt':'you\x20don\x27t\x20have\x20enought\x20deadAnimal,\x20go\x20hunt\x20in\x20the\x20forest\x20with\x20a\x20bow'});var _0x1624e1=_0x152e10['player']['name']+_0x1c9805(0x392)+_0x152e10[_0x1c9805(0x140)]+'\x20AP';world['village']['MessageSystem'][_0x1c9805(0x2ed)]({'type':_0x1c9805(0x31f),'txt':_0x1624e1}),world[_0x1c9805(0x46a)][_0x1c9805(0x402)](_0x1c9805(0x2ef)),_0x152e10[_0x1c9805(0x103)]['villageActionPoint']-=_0x152e10[_0x1c9805(0x140)],world[_0x1c9805(0x305)][_0x1c9805(0x38e)]({'resources':{'deadAnimal':0x2}});var _0x1345e1=0x5+Math['floor'](Math[_0x1c9805(0x3b0)]()*0xa),_0x5a9064=0x1+Math[_0x1c9805(0x311)](Math['random']()*0x4);_0x152e10['player'][_0x1c9805(0xaf)]&&_0x152e10[_0x1c9805(0x103)][_0x1c9805(0xaf)][_0x1c9805(0x1ee)][_0x1c9805(0x2ea)](_0xf77d7c=>_0xf77d7c==BONUS_BUTCHER)&&(_0x1345e1*=0x3,_0x5a9064=_0x5a9064*0x2+0x4),world[_0x1c9805(0x305)][_0x1c9805(0x178)]({'resources':{'food':_0x1345e1,'hide':_0x5a9064}});}function recoltStoneCutingResouce(_0x10b984){var _0x54abec=_0x3c4aa9,_0x154501=world[_0x54abec(0x305)]['checkHaveResources']({'resources':{'stone':0xa}});if(!_0x154501)return world[_0x54abec(0x305)][_0x54abec(0xb6)][_0x54abec(0x2ed)]({'type':_0x54abec(0x31f),'txt':'you\x20don\x27t\x20have\x20enought\x20stone'});var _0x44084d=_0x10b984[_0x54abec(0x103)][_0x54abec(0x22c)]+_0x54abec(0x2a2)+_0x10b984[_0x54abec(0x140)]+_0x54abec(0x10f);world[_0x54abec(0x305)][_0x54abec(0xb6)]['addMessage']({'type':'job','txt':_0x44084d}),_0x10b984['player'][_0x54abec(0x2e2)]-=_0x10b984['cost'],world[_0x54abec(0x46a)][_0x54abec(0x402)](_0x54abec(0x1db)),world[_0x54abec(0x305)][_0x54abec(0x38e)]({'resources':{'stone':0xa}}),world['village']['addResource']({'resources':{'brick':0x1}});}function SmeltCopper(_0x258f99){var _0x3e4e96=_0x3c4aa9,_0x2fbbdf=world[_0x3e4e96(0x305)][_0x3e4e96(0x4a5)]({'resources':{'coal':0x5,'rawCopper':0x2}});if(!_0x2fbbdf)return world[_0x3e4e96(0x305)][_0x3e4e96(0xb6)][_0x3e4e96(0x2ed)]({'type':_0x3e4e96(0x31f),'txt':'you\x20don\x27t\x20have\x20coal\x20or\x20rawCopper'});var _0x46e8df=_0x258f99['player'][_0x3e4e96(0x22c)]+_0x3e4e96(0x123)+_0x258f99[_0x3e4e96(0x140)]+'\x20AP';world['village'][_0x3e4e96(0xb6)]['addMessage']({'type':_0x3e4e96(0x31f),'txt':_0x46e8df}),_0x258f99['player'][_0x3e4e96(0x2e2)]-=_0x258f99[_0x3e4e96(0x140)],world[_0x3e4e96(0x46a)][_0x3e4e96(0x402)](_0x3e4e96(0x122)),world['village'][_0x3e4e96(0x38e)]({'resources':{'coal':0x5,'rawCopper':0x2}}),world['village']['addResource']({'resources':{'metalCopper':0x1}});}VILLAGE_UI_LETTER_SIZE=0x1e,VILLAGE_UI_FONT=_0x3c4aa9(0x339),VILLAGE_UI_FONT_BUTTON=_0x3c4aa9(0x1e0),VILLAGE_UI_FONT_BUTTON_2=_0x3c4aa9(0x201),VILLAGE_UI_FONT_TITLE=_0x3c4aa9(0x41d),VILLAGE_UI_FONT_PLAYERNAME=_0x3c4aa9(0xb7),VILLAGE_UI_FONT_BUILDINGNAME=_0x3c4aa9(0x3fd),VILLAGE_UI_FONT_PHASE='\x27Algerian\x27',VILLAGE_UI_TABS_FONT=_0x3c4aa9(0x41d),VILLAGE_UI_TABS_TXTCOLOR='#ffffff',VILLAGE_UI_TABS_FILLCOLOR=_0x3c4aa9(0x415),VILLAGE_UI_MAX_TAB_ELM_DRAW=0x14,VILLAGE_UI_FILLSTYLE=_0x3c4aa9(0x4be),VILLAGE_UI_BAT_ELM_FILLCOLOR=_0x3c4aa9(0x32c),VILLAGE_UI_PLAYER_ELM_FILLCOLOR=_0x3c4aa9(0x79),VILLAGE_UI_ITEM_ELM_FILLCOLOR='#f8f8ff88',VILLAGE_UI_BUTTON_FILLCOLOR=_0x3c4aa9(0x3ff),VillageUI=function(_0x498a21){var _0x4732d1=_0x3c4aa9;world[_0x4732d1(0x46a)]['playSound'](_0x4732d1(0xe4),!![]),this['canvas']=_0x498a21,this['needRedraw']=!![],this['marge']=0x5,this['background']=VILLAGE_UI_FILLSTYLE,this[_0x4732d1(0x17b)]=_0x4732d1(0x3e0),this[_0x4732d1(0xea)]=0x1,this['mouseWasOnMouseLightLastDraw']=!![],this[_0x4732d1(0x2b3)]=[_0x4732d1(0x1e4),_0x4732d1(0x2a7),_0x4732d1(0x358),_0x4732d1(0x3da),_0x4732d1(0x1d0),_0x4732d1(0x8b)],this['activeTabId']=0x0,this[_0x4732d1(0x2e7)]={'value':0x0},this[_0x4732d1(0xc4)]=undefined,this[_0x4732d1(0x312)]=undefined,this[_0x4732d1(0x142)]={'value':0x0},this['playerSortModeList']=[_0x4732d1(0x22c),'building',_0x4732d1(0x1dc),'weapon','armor'],this[_0x4732d1(0x472)]={'value':0x0},this[_0x4732d1(0x147)]=['Strength',_0x4732d1(0x253),_0x4732d1(0x1e5),_0x4732d1(0x2af),_0x4732d1(0x3dc),_0x4732d1(0x388),_0x4732d1(0x1df)],this[_0x4732d1(0x29c)]={'value':0x0},this['batSelected']=undefined,this[_0x4732d1(0x49e)]=undefined,this['batPageOffset']={'value':0x0},this['batSortModeList']=[_0x4732d1(0x22c),_0x4732d1(0x103),_0x4732d1(0x29b)],this['batSortModeId']={'value':0x0},this[_0x4732d1(0x211)]=undefined,this[_0x4732d1(0x376)]=undefined,this[_0x4732d1(0x445)]={'value':0x0},this[_0x4732d1(0x1bb)]=undefined,this['craftPageOffset']={'value':0x0},this['UI']=undefined,this[_0x4732d1(0x23e)]=!![],this[_0x4732d1(0x338)]=undefined,this[_0x4732d1(0x45e)]=!![],this[_0x4732d1(0x2ca)]=undefined,this[_0x4732d1(0x260)]=!![],this[_0x4732d1(0x3cf)]=0x0,this[_0x4732d1(0x82)]=[];const _0x4f7b02=document[_0x4732d1(0xfa)](_0x4732d1(0x17d)),_0x529086=_0x4f7b02[_0x4732d1(0xfc)]('2d'),_0x34f849=new Image();_0x34f849[_0x4732d1(0x11a)]=_0x4732d1(0x2b2),_0x34f849[_0x4732d1(0x4e3)]=()=>{var _0x16fefa=_0x4732d1;const _0x859c52=_0x529086['createPattern'](_0x34f849,_0x16fefa(0x277));this[_0x16fefa(0x110)]=_0x859c52,this[_0x16fefa(0x9d)]=!![];},this[_0x4732d1(0x3f9)]=()=>{var _0xd5a71=_0x4732d1;window['addEventListener'](_0xd5a71(0x3b9),_0x1cc609=>{var _0x277c1b=_0xd5a71,_0x5e2abd=![];this[_0x277c1b(0x338)]&&this['UIplayers'][_0x277c1b(0xf4)](_0x1cc609[_0x277c1b(0x349)],_0x1cc609[_0x277c1b(0x34c)])&&!this[_0x277c1b(0xf3)]&&(this['needRedraw']=!![],this[_0x277c1b(0xf3)]=!![],_0x5e2abd=!![]);this['UI']&&this['UI']['mouse_move_check'](_0x1cc609[_0x277c1b(0x349)],_0x1cc609[_0x277c1b(0x34c)])&&!this[_0x277c1b(0xf3)]&&(this[_0x277c1b(0x9d)]=!![],this[_0x277c1b(0xf3)]=!![],_0x5e2abd=!![]);this[_0x277c1b(0x2ca)]&&this[_0x277c1b(0x2ca)][_0x277c1b(0xf4)](_0x1cc609[_0x277c1b(0x349)],_0x1cc609[_0x277c1b(0x34c)])&&!this['mouseWasOnMouseLightLastDraw']&&(this['needRedraw']=!![],this[_0x277c1b(0xf3)]=!![],_0x5e2abd=!![]);!_0x5e2abd&&this[_0x277c1b(0xf3)]&&(this[_0x277c1b(0xf3)]=![],this['needRedraw']=!![]);if(this==world[_0x277c1b(0x497)])this[_0x277c1b(0x3f9)]();},{'once':!![]});},this[_0x4732d1(0x3f9)](),this[_0x4732d1(0x313)]=_0x14b317=>{var _0x34b05f=_0x4732d1;if(this['UI']&&this['UI'][_0x34b05f(0x13a)](_0x14b317))return!![];if(this[_0x34b05f(0x338)]&&this[_0x34b05f(0x338)][_0x34b05f(0x13a)](_0x14b317))return!![];if(this[_0x34b05f(0x2ca)]&&this[_0x34b05f(0x2ca)][_0x34b05f(0x13a)](_0x14b317))return!![];if(_0x14b317=='ControlLeft'&&this[_0x34b05f(0x20d)]())return!![];return![];},this[_0x4732d1(0x20d)]=()=>{var _0x24a961=_0x4732d1;if(this[_0x24a961(0x312)])return this[_0x24a961(0x312)]=undefined,!![];if(this['tabs'][this[_0x24a961(0x4bb)]]==_0x24a961(0x2a7)){if(this[_0x24a961(0x49e)])return this[_0x24a961(0x49e)]=undefined,!![];if(this['batSelected'])return this[_0x24a961(0xd3)]=undefined,!![];}return![];},this['getMouseInput']=_0x1641ea=>{var _0x173fe5=_0x4732d1;if(!_0x1641ea||_0x1641ea['x']===undefined)return![];var _0x2aa7ae=_0x1641ea['x'],_0x3f13f3=_0x1641ea['y'];if(_0x1641ea[_0x173fe5(0x3b1)]==0x2){var _0x529d9b=this[_0x173fe5(0x20d)]();if(_0x529d9b)return!![];}else{if(this['UI'][_0x173fe5(0x13d)](_0x2aa7ae,_0x3f13f3))return!![];else{if(this['UIplayers'][_0x173fe5(0x13d)](_0x2aa7ae,_0x3f13f3))return!![];else{if(this[_0x173fe5(0x2ca)]['click_buton_check'](_0x2aa7ae,_0x3f13f3))return!![];}}}return![];},this[_0x4732d1(0x28a)]=_0x44e1fb=>{var _0x12ff48=_0x4732d1;if(this['UI']&&this['UI'][_0x12ff48(0x28a)](_0x44e1fb))this['needRedraw']=!![];if(this['UIplayers']&&this[_0x12ff48(0x338)][_0x12ff48(0x28a)](_0x44e1fb))this[_0x12ff48(0x9d)]=!![];if(this[_0x12ff48(0x2ca)]&&this['UIsystem'][_0x12ff48(0x28a)](_0x44e1fb))this['needRedraw']=!![];},this[_0x4732d1(0x3ac)]=_0x20ff04=>{var _0x3b0f7e=_0x4732d1;if(!_0x20ff04)return;if(_0x20ff04['tab'])for(var _0x837f25 in this['tabs']){if(this['tabs'][_0x837f25]==_0x20ff04[_0x3b0f7e(0x2f2)])this[_0x3b0f7e(0x4bb)]=_0x837f25;}if(_0x20ff04[_0x3b0f7e(0x103)])this['playerSelected']=_0x20ff04[_0x3b0f7e(0x103)];if(_0x20ff04[_0x3b0f7e(0x1a1)])this[_0x3b0f7e(0xd3)]=_0x20ff04[_0x3b0f7e(0x1a1)];},this['GetPageSelector']=_0x14e261=>{var _0xa262ca=_0x4732d1;if(!_0x14e261[_0xa262ca(0xa2)])return;var _0x5566fb=[{'type':_0xa262ca(0x3b1),'callback':()=>{var _0x4f40a9=_0xa262ca;_0x14e261[_0x4f40a9(0xa2)][_0x4f40a9(0x3b6)]=_0x14e261[_0x4f40a9(0xa2)][_0x4f40a9(0x3b6)]>0x0?_0x14e261['selector'][_0x4f40a9(0x3b6)]-0x1:0x0;},'txt':'∧','txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xa262ca(0x29d),'strokeColor':_0xa262ca(0x187),'windowInfo':[{'callback':()=>{var _0x1f4d95=_0xa262ca;return _0x1f4d95(0xe2);}}]},{'type':'button','callback':()=>{var _0x52c19f=_0xa262ca;_0x14e261[_0x52c19f(0xa2)][_0x52c19f(0x3b6)]++;},'txt':'∨','txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xa262ca(0x29d),'strokeColor':'#000000','windowInfo':[{'callback':()=>{return'page\x20down';}}]},{'type':'txt','txt':'['+_0x14e261['selector'][_0xa262ca(0x3b6)]+':'+(_0x14e261[_0xa262ca(0xa2)][_0xa262ca(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)+']','txt_color':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT}];if(_0x14e261[_0xa262ca(0x10e)])_0x5566fb['push']({'type':_0xa262ca(0x3b1),'callback':_0x23d005=>{var _0x4714ef=_0xa262ca;_0x23d005['id'][_0x4714ef(0x3b6)]=(_0x23d005['id']['value']+0x1)%_0x23d005[_0x4714ef(0x2cd)]['length'],console['log'](_0x4714ef(0x2d3)+[_0x23d005['id']['value'],_0x23d005['list'][_0x4714ef(0x1e8)]]);},'callback_data':_0x14e261[_0xa262ca(0x10e)],'txt':_0x14e261[_0xa262ca(0x10e)]['list'][_0x14e261['sortButo']['id'][_0xa262ca(0x3b6)]],'txt_color':_0xa262ca(0xb1),'mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0xa262ca(0x29d),'strokeColor':_0xa262ca(0x187),'windowInfo':[{'callback':()=>{var _0x11feef=_0xa262ca;return _0x11feef(0x3e9)+this[_0x11feef(0x10a)][this[_0x11feef(0x1b7)][_0x11feef(0x3b6)]];}}]});if(_0x14e261[_0xa262ca(0x169)])_0x5566fb[_0xa262ca(0x448)]({'type':_0xa262ca(0x3b1),'callback':_0x36f16c=>{var _0x1c3414=_0xa262ca;_0x36f16c['id'][_0x1c3414(0x3b6)]=(_0x36f16c['id'][_0x1c3414(0x3b6)]+0x1)%_0x36f16c['list'][_0x1c3414(0x1e8)],console['log'](_0x1c3414(0x2d3)+[_0x36f16c['id'][_0x1c3414(0x3b6)],_0x36f16c[_0x1c3414(0x2cd)][_0x1c3414(0x1e8)]]);},'callback_data':_0x14e261['sortButo2'],'txt':_0x14e261['sortButo2'][_0xa262ca(0x2cd)][_0x14e261[_0xa262ca(0x169)]['id'][_0xa262ca(0x3b6)]],'txt_color':'#ffffff','mouseLight':'88','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':'#5500ff','strokeColor':_0xa262ca(0x187),'windowInfo':[{'callback':()=>{var _0x570758=_0xa262ca;return _0x570758(0x3e9)+this[_0x570758(0x10a)][this['batSortModeId']['value']];}}]});return _0x5566fb;},this[_0x4732d1(0x4c6)]=()=>{var _0x56d721=_0x4732d1,_0x5b40bd=world[_0x56d721(0x305)];this['UI'][_0x56d721(0x36c)](this[_0x56d721(0xf9)]({'sortButo':{'list':this[_0x56d721(0x10a)],'id':this['batSortModeId']},'selector':this[_0x56d721(0x189)]}));switch(this[_0x56d721(0x10a)][this[_0x56d721(0x1b7)][_0x56d721(0x3b6)]]){case'name':_0x5b40bd[_0x56d721(0x45b)][_0x56d721(0x1fe)]((_0x362102,_0x3fd296)=>{var _0x2e30c0=_0x56d721;if(_0x362102[_0x2e30c0(0x22c)]>_0x3fd296[_0x2e30c0(0x22c)])return 0x1;if(_0x362102[_0x2e30c0(0x22c)]<_0x3fd296['name'])return-0x1;return 0x0;});break;case _0x56d721(0x103):_0x5b40bd[_0x56d721(0x45b)][_0x56d721(0x1fe)]((_0x4c3992,_0x38a14e)=>{var _0x385a0c=_0x56d721;if(_0x4c3992['players_inside'][_0x385a0c(0x1e8)]<=_0x38a14e[_0x385a0c(0x43c)][_0x385a0c(0x1e8)])return 0x1;return-0x1;});break;case _0x56d721(0x29b):_0x5b40bd['bats']['sort']((_0x5d8f44,_0x5c4122)=>{var _0x9fcecf=_0x56d721;if(_0x5d8f44[_0x9fcecf(0x3ae)]<=_0x5c4122['player_size'])return 0x1;return-0x1;});break;}if(_0x5b40bd[_0x56d721(0x1ed)]==PHASE_PLACEPLAYER){this['UI'][_0x56d721(0x36c)](this[_0x56d721(0x22a)]());var _0x5269d1=0x0;if(this[_0x56d721(0x49e)])for(var _0x4efebe in _0x5b40bd[_0x56d721(0xf0)]){var _0x5a2542=_0x5b40bd['batsToBuild'][_0x4efebe],_0x492147=[];_0x492147[_0x56d721(0x448)]({'type':_0x56d721(0x3b1),'callback':_0xa9a649=>{var _0x330059=_0x56d721;if(this[_0x330059(0x211)]==_0xa9a649)this['constructionSelected']=undefined;else this[_0x330059(0x211)]=_0xa9a649;},'callback_data':_0x5a2542,'txt':_0x5a2542[_0x56d721(0x22c)],'mouseLight':'88','txt_color':_0x56d721(0x187),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':_0x56d721(0x4d6),'strokeColor':this[_0x56d721(0x211)]==_0x5a2542?_0x56d721(0x187):_0x56d721(0x4d6),'windowInfo':[{'callback':()=>{var _0x291e72=_0x56d721;return _0x291e72(0x1b9);}}]}),_0x492147[_0x56d721(0x448)]({'type':_0x56d721(0x2df),'img':world['Imgs'][_0x5a2542[_0x56d721(0x2df)]][_0x56d721(0x2df)],'len_x':0x1e,'len_y':0x1e});if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0x492147);_0x5269d1++;if(this[_0x56d721(0x211)]==_0x5a2542){var _0x492147=[];_0x492147[_0x56d721(0x448)]({'type':'button','mouseLight':'88','callback':world['village']['TryBuildBat'],'callback_data':{'bat':_0x5a2542},'txt':'start\x20construction','txt_color':'#000000','max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x56d721(0x4d6),'windowInfo':[{'callback':()=>{var _0x2da044=_0x56d721;return _0x2da044(0x1b9);}}]});if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0x492147);_0x5269d1++;if(_0x5a2542[_0x56d721(0x232)]&&_0x5a2542[_0x56d721(0x232)][_0x56d721(0x270)]){if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)]([{'type':_0x56d721(0x210),'txt':_0x56d721(0x3f5)+_0x5a2542[_0x56d721(0x232)]['costAP'],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT},{'type':_0x56d721(0x2df),'img':world[_0x56d721(0x310)][_0x56d721(0x4ad)]['img'],'len_x':0x14,'len_y':0x14}]);_0x5269d1++;}for(var _0x71508b in _0x5a2542[_0x56d721(0x4e4)]){var _0x1e01f3=[];_0x1e01f3[_0x56d721(0x448)]({'type':_0x56d721(0x210),'txt':'\x20-'+_0x71508b+'\x20'+_0x5a2542[_0x56d721(0x4e4)][_0x71508b],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x1e01f3[_0x56d721(0x448)]({'type':'img','img':world[_0x56d721(0x310)][_0x71508b+_0x56d721(0x3a2)]['img'],'len_x':0x14,'len_y':0x14});}if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](this[_0x56d721(0x38d)](_0x5a2542[_0x56d721(0x4e4)],0x14));_0x5269d1++;}}else{if(!this['batBuildMenu'])for(var _0x4efebe in _0x5b40bd[_0x56d721(0x45b)]){var _0x5a2542=_0x5b40bd['bats'][_0x4efebe],_0x594fd9=this[_0x56d721(0xa1)](_0x5a2542,0x28);if(_0x5a2542[_0x56d721(0x156)])_0x594fd9[_0x56d721(0x448)]({'type':_0x56d721(0x2df),'img':world[_0x56d721(0x310)][_0x56d721(0x32f)][_0x56d721(0x2df)],'len_x':0x28,'len_y':0x28});if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0x594fd9);_0x5269d1++;if(_0x5a2542[_0x56d721(0x156)]){if(_0x5269d1>=this[_0x56d721(0x189)]['value']&&_0x5269d1<this[_0x56d721(0x189)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x127)](''+_0x5a2542['build_progression']+_0x56d721(0x4a8),0x14,0x270f,_0x56d721(0x187),VILLAGE_UI_FONT);_0x5269d1++;}var _0x492147=[],_0xbfa255=_0x5a2542[_0x56d721(0x1f1)]();if(this[_0x56d721(0xd3)]==_0x5a2542&&_0x5a2542['lvl']){if(_0x5269d1>=this['batPageOffset'][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x127)](_0x56d721(0x2b1)+_0x5a2542[_0x56d721(0x3f7)],0xf,0x270f,_0x56d721(0x187),VILLAGE_UI_FONT);_0x5269d1++;}if(this[_0x56d721(0xd3)]==_0x5a2542&&_0xbfa255){var _0x2438f8=this[_0x56d721(0x38d)](_0xbfa255[_0x56d721(0x4e4)],0x14);_0x2438f8[_0x56d721(0xf6)]({'type':_0x56d721(0x3b1),'mouseLight':'88','callback':_0x5a2542[_0x56d721(0x164)],'callback_data':{},'txt':_0x56d721(0x3b4),'txt_color':_0x56d721(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0x2438f8);_0x5269d1++;}if(_0x5a2542==this['batSelected']&&_0x5a2542[_0x56d721(0x3ae)]){if(_0x5a2542[_0x56d721(0x3ae)]&&_0x5269d1>=this[_0x56d721(0x189)]['value']&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addTextZone'](''+_0x5a2542[_0x56d721(0x43c)]['length']+_0x56d721(0x309)+_0x5a2542['player_size']+'\x20place',0x14,0x270f,_0x56d721(0x187),VILLAGE_UI_FONT);_0x5269d1++;}if(this[_0x56d721(0xc4)]&&_0x5a2542==this[_0x56d721(0xd3)]&&!_0x5a2542['players_inside'][_0x56d721(0x2ea)](_0x10a8ce=>_0x10a8ce==this[_0x56d721(0xc4)])&&_0x5a2542[_0x56d721(0x43c)][_0x56d721(0x1e8)]<_0x5a2542[_0x56d721(0x3ae)])_0x492147[_0x56d721(0x448)]({'type':_0x56d721(0x3b1),'mouseLight':'88','callback':world[_0x56d721(0x305)]['affectPlayerToBat'],'callback_data':{'player':this[_0x56d721(0xc4)],'bat':_0x5a2542},'txt':_0x56d721(0x80),'txt_color':_0x56d721(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x492147['length']){if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x492147);_0x5269d1++;}if(this[_0x56d721(0xd3)]==_0x5a2542)for(var _0x71508b in _0x5a2542[_0x56d721(0x43c)]){var _0x1396da=_0x5a2542[_0x56d721(0x43c)][_0x71508b],_0xf7e5c3=this[_0x56d721(0x46e)](_0x1396da);_0xf7e5c3[_0x56d721(0x448)]({'type':_0x56d721(0x3b1),'mouseLight':'88','callback':world[_0x56d721(0x305)][_0x56d721(0x38c)],'callback_data':{'player':_0x1396da},'txt':_0x56d721(0x23d),'txt_color':_0x56d721(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x56d721(0x4c4)});if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0xf7e5c3);_0x5269d1++;}}}}else{if(_0x5b40bd[_0x56d721(0x1ed)]==PHASE_ACTIONPLAYER){var _0x5269d1=0x0;for(var _0x4efebe in _0x5b40bd[_0x56d721(0x45b)]){var _0x5a2542=_0x5b40bd['bats'][_0x4efebe],_0x594fd9=this['GetDrawBuildingElement'](_0x5a2542,0x28);if(_0x5a2542[_0x56d721(0x156)])_0x594fd9['push']({'type':_0x56d721(0x2df),'img':world[_0x56d721(0x310)][_0x56d721(0x32f)]['img'],'len_x':0x28,'len_y':0x28});if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0x594fd9);_0x5269d1++;if(_0x5a2542[_0x56d721(0x156)]){if(_0x5269d1>=this['batPageOffset']['value']&&_0x5269d1<this[_0x56d721(0x189)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x127)](''+_0x5a2542[_0x56d721(0x156)]+_0x56d721(0x4a8),0x14,0x270f,_0x56d721(0x187),VILLAGE_UI_FONT);_0x5269d1++;}var _0x492147=[];if(_0x492147[_0x56d721(0x1e8)]){if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this['batPageOffset'][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem'](_0x492147);_0x5269d1++;}for(var _0x71508b in _0x5a2542['players_inside']){var _0x1396da=_0x5a2542[_0x56d721(0x43c)][_0x71508b],_0x122f66=_0x1396da[_0x56d721(0x9c)]();if(this[_0x56d721(0xd3)]==_0x5a2542||_0x122f66[_0x56d721(0x1e8)]&&_0x5a2542[_0x56d721(0x22c)]!=_0x56d721(0x1a3)){var _0xf7e5c3=this['getPlayerIcone'](_0x1396da);if(_0x5a2542[_0x56d721(0xe5)][_0x56d721(0x1e8)])_0xf7e5c3['push']({'type':'img','img':world[_0x56d721(0x310)][_0x56d721(0x4ad)][_0x56d721(0x2df)],'len_x':0x14,'len_y':0x14},{'type':_0x56d721(0x210),'txt':''+_0x1396da['villageActionPoint']+'\x20Action\x20Point\x20left','txt_color':_0x1396da[_0x56d721(0x2e2)]?_0x56d721(0x187):_0x56d721(0x10c),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});if(_0x5269d1>=this[_0x56d721(0x189)][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0xf7e5c3);_0x5269d1++;if(_0x5a2542[_0x56d721(0x156)]){var _0x40344e=[];_0x1396da['villageActionPoint']>0x0&&(_0x40344e['push']({'type':_0x56d721(0x3b1),'mouseLight':'88','callback':_0x5a2542['build'],'callback_data':{'player':_0x1396da},'txt':_0x56d721(0x1d2),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x55274c=>{return _0x55274c;},'input':_0x56d721(0x1bc)}]}),_0x40344e['push']({'type':'txt','txt':_0x56d721(0x298)+_0x5a2542[_0x56d721(0x156)]+_0x56d721(0x3a9),'txt_color':_0x1396da[_0x56d721(0x2e2)]?'#000000':_0x56d721(0x10c),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}));if(_0x5269d1>=this['batPageOffset'][_0x56d721(0x3b6)]&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x56d721(0x36c)](_0x40344e);_0x5269d1++;}else for(var _0x5a4475 in _0x5a2542[_0x56d721(0xe5)]){var _0x19a1bd=_0x5a2542[_0x56d721(0xe5)][_0x5a4475];if(_0x19a1bd['cost']&&_0x19a1bd[_0x56d721(0x140)]>_0x1396da[_0x56d721(0x2e2)]||_0x1396da[_0x56d721(0x2e2)]==0x0)continue;var _0x398eee={'type':'button','mouseLight':'88','callback':window[_0x19a1bd[_0x56d721(0x33a)]],'callback_data':{'player':_0x1396da,'cost':_0x19a1bd[_0x56d721(0x140)],'bat':_0x5a2542},'txt':_0x19a1bd[_0x56d721(0x33c)],'txt_color':_0x56d721(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'windowInfo':[{'callback':_0x38fdc2=>{return _0x38fdc2;},'input':_0x19a1bd[_0x56d721(0x87)]}]};if(_0x5269d1>=this['batPageOffset']['value']&&_0x5269d1<this[_0x56d721(0x189)][_0x56d721(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([_0x398eee]);_0x5269d1++;}}}}}}},this[_0x4732d1(0x22a)]=()=>{var _0x2ef359=_0x4732d1,_0x2a2980=[];return this['batBuildMenu']?_0x2a2980[_0x2ef359(0x448)]({'type':'button','mouseLight':'88','callback':()=>{var _0x561843=_0x2ef359;this[_0x561843(0x49e)]=![],this[_0x561843(0x189)][_0x561843(0x3b6)]=0x0;},'txt':_0x2ef359(0x370),'mouseLight':'88','txt_color':'#a01454','max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x2ef359(0x231),'strokeColor':_0x2ef359(0x187),'windowInfo':[{'callback':()=>{return'Build\x20new\x20batiments\x20here';}}]}):_0x2a2980[_0x2ef359(0x448)]({'type':'button','mouseLight':'88','callback':()=>{var _0x370d9f=_0x2ef359;this[_0x370d9f(0x49e)]=!![],this['batPageOffset'][_0x370d9f(0x3b6)]=0x0;},'txt':_0x2ef359(0x11c),'mouseLight':'88','txt_color':'#17bdbc','max_letters':0x270f,'letter_size':0x23,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x2ef359(0x84),'strokeColor':_0x2ef359(0x187),'windowInfo':[{'callback':()=>{var _0x5c4698=_0x2ef359;return _0x5c4698(0x25d);}}]}),_0x2a2980;},this['getResourcesTextAndImg']=(_0x53f7f4,_0x1174aa)=>{var _0x5cfad7=_0x4732d1,_0x4edf64=[];for(var _0x223ad4 in _0x53f7f4){_0x4edf64[_0x5cfad7(0x448)]({'type':_0x5cfad7(0x2df),'img':world[_0x5cfad7(0x310)][_0x223ad4+_0x5cfad7(0x3a2)][_0x5cfad7(0x2df)],'len_x':_0x1174aa,'len_y':_0x1174aa}),_0x4edf64[_0x5cfad7(0x448)]({'type':'txt','txt':'\x20x'+_0x53f7f4[_0x223ad4],'txt_color':_0x5cfad7(0x187),'max_letters':0x270f,'letter_size':_0x1174aa,'txt_font':VILLAGE_UI_FONT});}return _0x4edf64;},this[_0x4732d1(0x1fb)]=(_0x25a78d,_0x2ed4a0,_0x3005a)=>{var _0x5ea958=_0x4732d1,_0x17b4fd=()=>this['itemSelected']=this[_0x5ea958(0x376)]==_0x25a78d?undefined:_0x25a78d;if(_0x3005a)_0x17b4fd=()=>{};var _0xadb4ed=[{'type':_0x5ea958(0x2df),'img':world['Imgs'][_0x25a78d['name']+_0x5ea958(0x3a2)][_0x5ea958(0x2df)],'len_x':_0x2ed4a0,'len_y':_0x2ed4a0},{'type':_0x5ea958(0x3b1),'mouseLight':'ff','callback':_0x17b4fd,'txt':_0x25a78d['name'],'txt_color':_0x5ea958(0x187),'max_letters':0x270f,'letter_size':_0x2ed4a0,'txt_font':VILLAGE_UI_FONT,'fillColor':VILLAGE_UI_ITEM_ELM_FILLCOLOR,'strokeColor':this['itemSelected']==_0x25a78d?_0x5ea958(0x3c4):'#00000000','windowInfo':[{'callback':_0x25a78d[_0x5ea958(0x290)]==_0x5ea958(0xaf)?_0x25a78d['getWeaponAttackDescription']:_0x25a78d[_0x5ea958(0x2ec)]}]}];return _0xadb4ed;},this[_0x4732d1(0x45f)]=()=>{var _0x3f0046=_0x4732d1,_0x1f7e76=world[_0x3f0046(0x305)];this['UI'][_0x3f0046(0x36c)](this[_0x3f0046(0xf9)]({'selector':this[_0x3f0046(0x3f8)]}));var _0x4623d2=0x0,_0x5deb7e=_0x1f7e76[_0x3f0046(0x1a4)]();if(_0x1f7e76[_0x3f0046(0x1ed)]!=PHASE_ACTIONPLAYER)this['UI']['addTextZone'](_0x3f0046(0x387),0x14,0x270f,_0x3f0046(0x4c4),VILLAGE_UI_FONT);if(!_0x5deb7e||_0x5deb7e[_0x3f0046(0x1e8)]<0x1)this['UI']['addTextZone'](_0x3f0046(0x350),0x14,0x270f,_0x3f0046(0x187),VILLAGE_UI_FONT);for(var _0x11cff6 in _0x5deb7e){var _0x3d8fce=[],_0x1f1a84=_0x5deb7e[_0x11cff6];_0x3d8fce['push']({'type':_0x3f0046(0x3b1),'mouseLight':'ff','callback':_0x407881=>this[_0x3f0046(0x1bb)]=this[_0x3f0046(0x1bb)]==_0x407881?undefined:_0x407881,'callback_data':_0x1f1a84,'txt':_0x1f1a84[_0x3f0046(0x22c)]+'\x20('+_0x1f1a84['type']+')','txt_color':this['craftSelected']==_0x1f1a84?_0x3f0046(0x1a5):_0x3f0046(0x187),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT,'fillColor':_0x3f0046(0x3eb),'strokeColor':this['craftSelected']==_0x1f1a84?'#000000ff':_0x3f0046(0x4d6),'windowInfo':[{'callback':()=>{var _0xdba55=_0x3f0046;return _0x1f1a84[_0xdba55(0x87)];},'input':undefined}]});if(_0x4623d2>=this[_0x3f0046(0x3f8)][_0x3f0046(0x3b6)]&&_0x4623d2<this[_0x3f0046(0x3f8)][_0x3f0046(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x3f0046(0x36c)](_0x3d8fce);_0x4623d2++;if(this[_0x3f0046(0x1bb)]==_0x1f1a84){var _0x50c133=_0x1f7e76[_0x3f0046(0x2bb)]({'craft':_0x1f1a84});if(_0x4623d2>=this[_0x3f0046(0x3f8)][_0x3f0046(0x3b6)]&&_0x4623d2<this['craftPageOffset'][_0x3f0046(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x3f0046(0x36c)](this[_0x3f0046(0x38d)](_0x1f1a84['resources'],0x14));_0x4623d2++;if(!_0x50c133||_0x50c133[_0x3f0046(0x1e8)]<0x1){if(_0x4623d2>=this['craftPageOffset'][_0x3f0046(0x3b6)]&&_0x4623d2<this[_0x3f0046(0x3f8)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x3f0046(0x127)](_0x3f0046(0x407),0x14,0x270f,_0x3f0046(0x4c4),VILLAGE_UI_FONT);_0x4623d2++;}for(var _0x19f834 in _0x50c133){var _0x466c5c=_0x50c133[_0x19f834],_0x3d8fce=this[_0x3f0046(0x46e)](_0x466c5c,0x19);_0x1f7e76[_0x3f0046(0x1ed)]==PHASE_ACTIONPLAYER&&_0x3d8fce[_0x3f0046(0x448)]({'type':'button','mouseLight':'88','callback':_0x1f7e76[_0x3f0046(0x42d)],'callback_data':{'craft':_0x1f1a84,'player':_0x466c5c},'txt':_0x3f0046(0x358),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x3f0046(0x2f7),'strokeColor':this[_0x3f0046(0x1bb)]==_0x1f1a84?_0x3f0046(0x21b):'#00000000','windowInfo':[{'callback':()=>{var _0x2478ec=_0x3f0046;return _0x1f1a84[_0x2478ec(0x87)];},'input':undefined}]});if(_0x4623d2>=this[_0x3f0046(0x3f8)]['value']&&_0x4623d2<this[_0x3f0046(0x3f8)][_0x3f0046(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x3f0046(0x36c)](_0x3d8fce);_0x4623d2++;}}}},this[_0x4732d1(0xa1)]=(_0xadbe9a,_0x2be208)=>{var _0x125024=_0x4732d1,_0xd77d27=[{'type':'img','img':world[_0x125024(0x310)][_0xadbe9a[_0x125024(0x12f)]][_0x125024(0x2df)],'len_x':_0x2be208,'len_y':_0x2be208},{'type':'button','mouseLight':'ff','callback':_0x2137e6=>{this['batSelected']=this['batSelected']==_0x2137e6?undefined:_0x2137e6;},'callback_data':_0xadbe9a,'txt':_0xadbe9a[_0x125024(0x22c)],'txt_color':this['batSelected']==_0xadbe9a?_0x125024(0x216):_0x125024(0x187),'max_letters':0x270f,'letter_size':_0x2be208,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME,'fillColor':VILLAGE_UI_BAT_ELM_FILLCOLOR,'strokeColor':this[_0x125024(0xd3)]==_0xadbe9a?_0x125024(0x21b):_0x125024(0x4d6),'windowInfo':[{'callback':_0x46bd66=>{var _0x308891=_0x125024;if(typeof _0x46bd66['description']==_0x308891(0x199))return _0x46bd66['description'](_0x46bd66);if(typeof _0x46bd66['description']==_0x308891(0x436))return _0x46bd66[_0x308891(0x87)];},'input':_0xadbe9a}]}];return _0xd77d27;},this[_0x4732d1(0x213)]=(_0x24ebcc,_0x23a1f6,_0x514dd6)=>{var _0xc3c7ef=_0x4732d1,_0x16d0ca={'type':'button','mouseLight':'88','callback':world[_0xc3c7ef(0x305)][_0xc3c7ef(0x382)],'callback_data':{'warning':_0x24ebcc?!![]:![]},'txt':_0x514dd6,'txt_color':_0xc3c7ef(0x187),'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x23a1f6?_0xc3c7ef(0x25b):_0xc3c7ef(0x2f7),'strokeColor':_0xc3c7ef(0x187)};return _0x16d0ca;},this[_0x4732d1(0x46e)]=(_0x502112,_0x386efc)=>{var _0x43b82c=_0x4732d1;if(!_0x502112)return undefined;var _0x386efc=_0x386efc?_0x386efc:0x28,_0x8f3538=[{'type':'button','mouseLight':'ff','txt':_0x502112[_0x43b82c(0x22c)],'callback':_0xe57316=>{var _0x46b83c=_0x43b82c;this['playerSelected']=this[_0x46b83c(0xc4)]==_0xe57316?undefined:_0xe57316;},'callback_data':_0x502112,'txt_color':_0x502112['lvlup']?_0x43b82c(0x224):this[_0x43b82c(0xc4)]==_0x502112?_0x43b82c(0xb1):_0x43b82c(0x187),'max_letters':0x270f,'letter_size':_0x386efc,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':VILLAGE_UI_PLAYER_ELM_FILLCOLOR,'strokeColor':this[_0x43b82c(0xc4)]==_0x502112?_0x43b82c(0x21b):_0x43b82c(0x4d6),'windowInfo':[{'callback':_0x502112[_0x43b82c(0x362)]}]}];if(!_0x502112['bodyPartImgReady'])_0x502112[_0x43b82c(0x29f)]();return _0x8f3538[_0x43b82c(0x448)]({'type':_0x43b82c(0x2df),'img':_0x502112['bodyPartImg'],'len_x':_0x386efc,'len_y':_0x386efc}),_0x502112[_0x43b82c(0xaf)]&&_0x8f3538[_0x43b82c(0x448)]({'type':_0x43b82c(0x2df),'img':world[_0x43b82c(0x439)][_0x502112[_0x43b82c(0xaf)]['name']+'_icon'][_0x43b82c(0x2df)],'len_x':_0x386efc,'len_y':_0x386efc}),_0x8f3538;},this[_0x4732d1(0x1ec)]=()=>{var _0xb47ea2=_0x4732d1,_0x32d1d9=world[_0xb47ea2(0x305)];this[_0xb47ea2(0x338)]=new MyUI(this['canvas'],0x0,0x0,0xa,this[_0xb47ea2(0xea)],this[_0xb47ea2(0x110)],this['stroke'],this[_0xb47ea2(0x4c3)]),this[_0xb47ea2(0x338)][_0xb47ea2(0x366)](_0xb47ea2(0x47a),0x28,_0xb47ea2(0x187),'#00000000',_0xb47ea2(0x4d6),()=>{var _0x17f1c2=_0xb47ea2;this[_0x17f1c2(0x45e)]=!this['showUIplayers'];},undefined,VILLAGE_UI_FONT_PHASE);if(this[_0xb47ea2(0x45e)]){var _0x5167e2=this['playerSortModeList'][this[_0xb47ea2(0x472)][_0xb47ea2(0x3b6)]]==_0xb47ea2(0x1dc)?{'list':this[_0xb47ea2(0x147)],'id':this[_0xb47ea2(0x29c)]}:undefined,_0x5162b9=this[_0xb47ea2(0xf9)]({'selector':this[_0xb47ea2(0x142)],'sortButo':{'list':this[_0xb47ea2(0x24b)],'id':this[_0xb47ea2(0x472)]},'sortButo2':_0x5167e2});switch(this['playerSortModeList'][this['playerSortModeId']['value']]){case _0xb47ea2(0x22c):_0x32d1d9['players'][_0xb47ea2(0x1fe)]((_0x1fc097,_0x44b890)=>{var _0x2fbca1=_0xb47ea2;if(_0x1fc097[_0x2fbca1(0x22c)]>_0x44b890[_0x2fbca1(0x22c)])return 0x1;return 0x0;});break;case _0xb47ea2(0x2a7):_0x32d1d9['players'][_0xb47ea2(0x1fe)]((_0x2cb460,_0x12b3c5)=>{var _0x893590=_0xb47ea2,_0x57ecc4=_0x32d1d9[_0x893590(0x234)](_0x2cb460),_0x5515e4=_0x32d1d9[_0x893590(0x234)](_0x12b3c5);if(!_0x57ecc4&&_0x5515e4)return-0x1;if(_0x57ecc4&&!_0x5515e4)return 0x1;if(!_0x57ecc4&&!_0x5515e4)return 0x0;if(_0x57ecc4[_0x893590(0x22c)]>_0x5515e4['name'])return-0x1;if(_0x57ecc4[_0x893590(0x22c)]<_0x5515e4[_0x893590(0x22c)])return 0x1;return 0x0;});break;case _0xb47ea2(0xaf):_0x32d1d9[_0xb47ea2(0x26d)][_0xb47ea2(0x1fe)]((_0x2d5db4,_0x282e1b)=>{var _0x4cf60d=_0xb47ea2,_0x48abef=_0x2d5db4[_0x4cf60d(0xaf)],_0x349895=_0x282e1b['weapon'];if(!_0x48abef&&_0x349895)return 0x1;if(_0x48abef&&!_0x349895)return-0x1;if(!_0x48abef&&!_0x349895)return 0x0;if(_0x48abef[_0x4cf60d(0x22c)]>_0x349895['name'])return 0x1;if(_0x48abef[_0x4cf60d(0x22c)]<_0x349895[_0x4cf60d(0x22c)])return-0x1;return 0x0;});break;case _0xb47ea2(0x41e):_0x32d1d9[_0xb47ea2(0x26d)][_0xb47ea2(0x1fe)]((_0x741035,_0x54227b)=>{var _0x3d1207=_0xb47ea2,_0x500ce8=_0x741035[_0x3d1207(0x41e)],_0x2f1f1b=_0x54227b['armor'];if(!_0x500ce8&&_0x2f1f1b)return 0x1;if(_0x500ce8&&!_0x2f1f1b)return-0x1;if(!_0x500ce8&&!_0x2f1f1b)return 0x0;if(_0x500ce8[_0x3d1207(0x22c)]>_0x2f1f1b[_0x3d1207(0x22c)])return 0x1;if(_0x500ce8['name']<_0x2f1f1b[_0x3d1207(0x22c)])return-0x1;return 0x0;});break;case'stats':var _0x3b9322=this[_0xb47ea2(0x147)][this['statsplayerSortModeId']['value']];if(_0x3b9322==_0xb47ea2(0x3ef)||_0x3b9322=='Dexterity')_0x32d1d9[_0xb47ea2(0x26d)][_0xb47ea2(0x1fe)]((_0x139650,_0x17f6ad)=>{var _0x306897=_0xb47ea2;if(_0x139650[_0x306897(0x1dc)][_0x3b9322]<_0x17f6ad[_0x306897(0x1dc)][_0x3b9322])return 0x1;if(_0x139650[_0x306897(0x1dc)][_0x3b9322]>_0x17f6ad['stats'][_0x3b9322])return-0x1;return 0x0;});else _0x32d1d9['players'][_0xb47ea2(0x1fe)]((_0x2478f3,_0x221d5f)=>{if(_0x2478f3[_0x3b9322]<_0x221d5f[_0x3b9322])return 0x1;if(_0x2478f3[_0x3b9322]>_0x221d5f[_0x3b9322])return-0x1;return 0x0;});break;}if(this[_0xb47ea2(0xc4)]&&this[_0xb47ea2(0x2b3)][this[_0xb47ea2(0x4bb)]]!=_0xb47ea2(0x8b)&&(_0x32d1d9['phase']==PHASE_PLACEPLAYER||_0x32d1d9[_0xb47ea2(0x1ed)]==PHASE_ACTIONPLAYER))_0x5162b9['push']({'type':_0xb47ea2(0x3b1),'mouseLight':'88','callback':this[_0xb47ea2(0x3ac)],'callback_data':{'tab':_0xb47ea2(0x8b)},'txt':_0xb47ea2(0x345),'txt_color':_0xb47ea2(0x187),'max_letters':0x270f,'letter_size':0x1e,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':'#ffffff'});this[_0xb47ea2(0x338)]['addHorizontalElem'](_0x5162b9);var _0x1dd510=0x0;if(!this[_0xb47ea2(0x312)])for(var _0x1d5f79 in _0x32d1d9[_0xb47ea2(0x26d)]){var _0x174a93=_0x32d1d9[_0xb47ea2(0x26d)][_0x1d5f79];if(_0x1dd510>=this[_0xb47ea2(0x142)][_0xb47ea2(0x3b6)]&&_0x1dd510<this['playersPageOffset'][_0xb47ea2(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0xb47ea2(0x338)][_0xb47ea2(0x36c)](this[_0xb47ea2(0x46e)](_0x174a93));_0x1dd510++;if(_0x174a93[_0xb47ea2(0x341)]&&_0x32d1d9[_0xb47ea2(0x1ed)]!=PHASE_NEWTURN){if(_0x1dd510>=this[_0xb47ea2(0x142)][_0xb47ea2(0x3b6)]&&_0x1dd510<this[_0xb47ea2(0x142)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0xb47ea2(0x338)][_0xb47ea2(0x366)]('lvl\x20up',0xa,_0xb47ea2(0xb1),_0xb47ea2(0x31a),_0xb47ea2(0x187),this['GoToTabName'],{'tab':_0xb47ea2(0x8b),'player':_0x174a93},VILLAGE_UI_FONT_BUTTON,undefined,[{'callback':()=>{return'go\x20to\x20player\x20tab\x20for\x20lvl\x20up';}}],'ff');_0x1dd510++;}var _0x169076=world['village'][_0xb47ea2(0x234)](_0x174a93);if(_0x169076&&(this[_0xb47ea2(0xc4)]==_0x174a93||this['playerSortModeList'][this[_0xb47ea2(0x472)][_0xb47ea2(0x3b6)]]==_0xb47ea2(0x2a7))){var _0x17ed1a=[{'type':_0xb47ea2(0x210),'txt':_0x169076[_0xb47ea2(0x22c)],'txt_color':this['batSelected']==_0x169076?_0xb47ea2(0x89):_0xb47ea2(0x187),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0xb47ea2(0x2df),'img':world['Imgs'][_0x169076['imgIcon']]['img'],'len_x':0x14,'len_y':0x14}];if(_0x32d1d9['phase']==PHASE_PLACEPLAYER)_0x17ed1a[_0xb47ea2(0x448)]({'type':_0xb47ea2(0x3b1),'mouseLight':'88','callback':world[_0xb47ea2(0x305)][_0xb47ea2(0x38c)],'callback_data':{'player':_0x174a93},'txt':'\x20leave\x20','txt_color':_0xb47ea2(0x187),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0xb47ea2(0x4c4)});if(_0x1dd510>=this[_0xb47ea2(0x142)]['value']&&_0x1dd510<this[_0xb47ea2(0x142)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0xb47ea2(0x36c)](_0x17ed1a);_0x1dd510++;}var _0x3c5250=[];if(_0x32d1d9[_0xb47ea2(0x1ed)]==PHASE_PLACEPLAYER&&this[_0xb47ea2(0xd3)]&&this['tabs'][this[_0xb47ea2(0x4bb)]]==_0xb47ea2(0x2a7)&&this[_0xb47ea2(0xd3)][_0xb47ea2(0x3ae)]&&!this[_0xb47ea2(0xd3)]['players_inside'][_0xb47ea2(0x2ea)](_0x9be564=>_0x9be564==_0x174a93)&&!_0x169076&&!this['batBuildMenu']&&this[_0xb47ea2(0xd3)][_0xb47ea2(0x43c)][_0xb47ea2(0x1e8)]<this[_0xb47ea2(0xd3)][_0xb47ea2(0x3ae)])_0x3c5250[_0xb47ea2(0x448)]({'type':_0xb47ea2(0x3b1),'mouseLight':'88','callback':world[_0xb47ea2(0x305)]['affectPlayerToBat'],'callback_data':{'player':_0x174a93,'bat':this[_0xb47ea2(0xd3)]},'txt':_0xb47ea2(0x343),'txt_color':_0xb47ea2(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR});if(_0x3c5250[_0xb47ea2(0x1e8)]){if(_0x1dd510>=this[_0xb47ea2(0x142)]['value']&&_0x1dd510<this['playersPageOffset'][_0xb47ea2(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0xb47ea2(0x338)][_0xb47ea2(0x36c)](_0x3c5250);_0x1dd510++;}if(this[_0xb47ea2(0x2b3)][this[_0xb47ea2(0x4bb)]]=='Items'){if(this[_0xb47ea2(0xc4)]==_0x174a93){if(_0x32d1d9[_0xb47ea2(0x1ed)]==PHASE_PLACEPLAYER&&_0x174a93[_0xb47ea2(0xaf)]){if(_0x1dd510>=this[_0xb47ea2(0x142)][_0xb47ea2(0x3b6)]&&_0x1dd510<this[_0xb47ea2(0x142)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this[_0xb47ea2(0x338)][_0xb47ea2(0x366)](_0xb47ea2(0x4da),0x14,_0xb47ea2(0x187),VILLAGE_UI_BUTTON_FILLCOLOR,_0xb47ea2(0x187),_0x174a93['unequipWeapon'],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1dd510++;}if(_0x32d1d9[_0xb47ea2(0x1ed)]==PHASE_PLACEPLAYER&&_0x174a93[_0xb47ea2(0x41e)]){if(_0x1dd510>=this['playersPageOffset'][_0xb47ea2(0x3b6)]&&_0x1dd510<this['playersPageOffset'][_0xb47ea2(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0xb47ea2(0x366)](_0xb47ea2(0x481),0x14,_0xb47ea2(0x187),VILLAGE_UI_BUTTON_FILLCOLOR,'#000000',_0x174a93['unequipArmor'],undefined,VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1dd510++;}if(_0x32d1d9[_0xb47ea2(0x1ed)]==PHASE_PLACEPLAYER&&this[_0xb47ea2(0x376)]&&this[_0xb47ea2(0x376)][_0xb47ea2(0x290)]==_0xb47ea2(0xaf)){if(_0x1dd510>=this[_0xb47ea2(0x142)]['value']&&_0x1dd510<this[_0xb47ea2(0x142)][_0xb47ea2(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0xb47ea2(0x366)](_0xb47ea2(0xa0),0x14,'#000000',VILLAGE_UI_BUTTON_FILLCOLOR,_0xb47ea2(0x187),_0x174a93[_0xb47ea2(0x446)],{'weapon':this[_0xb47ea2(0x376)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1dd510++;}if(_0x32d1d9[_0xb47ea2(0x1ed)]==PHASE_PLACEPLAYER&&this[_0xb47ea2(0x376)]&&this[_0xb47ea2(0x376)]['itemType']==_0xb47ea2(0x41e)){if(_0x1dd510>=this['playersPageOffset']['value']&&_0x1dd510<this[_0xb47ea2(0x142)][_0xb47ea2(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0xb47ea2(0x366)](_0xb47ea2(0x16a),0x14,_0xb47ea2(0x187),VILLAGE_UI_BUTTON_FILLCOLOR,_0xb47ea2(0x187),_0x174a93[_0xb47ea2(0x179)],{'armor':this[_0xb47ea2(0x376)]},VILLAGE_UI_FONT_BUTTON_2,undefined,undefined,'88');_0x1dd510++;}}}}if(this[_0xb47ea2(0x312)]){if(_0x1dd510>=this[_0xb47ea2(0x142)][_0xb47ea2(0x3b6)]&&_0x1dd510<this[_0xb47ea2(0x142)][_0xb47ea2(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UIplayers'][_0xb47ea2(0x127)](this[_0xb47ea2(0x312)][_0xb47ea2(0x362)](),0x28,0x270f,'#000000',VILLAGE_UI_FONT);_0x1dd510++;}}this['UIplayers'][_0xb47ea2(0x396)]();},this[_0x4732d1(0x96)]=()=>{var _0x4d8829=_0x4732d1,_0x1a8948=world[_0x4d8829(0x305)],_0x501e9a=_0x4d8829(0x429);_0x501e9a+=world[_0x4d8829(0x305)][_0x4d8829(0x141)]();if(_0x1a8948[_0x4d8829(0x14f)])_0x501e9a+='\x0aYour\x20village\x20consumed\x20'+_0x1a8948[_0x4d8829(0x14f)]+'\x20food\x20last\x20week';for(var _0x424764 in _0x1a8948[_0x4d8829(0x26d)]){var _0x50e76f=_0x1a8948[_0x4d8829(0x26d)];if(_0x50e76f[_0x4d8829(0x341)])_0x501e9a+='\x0a'+_0x50e76f[_0x4d8829(0x22c)]+_0x4d8829(0x1f8);}this['UI'][_0x4d8829(0x127)](_0x501e9a,0x1e,0x270f,_0x4d8829(0x187),VILLAGE_UI_FONT),this['UI']['addHorizontalElem']([this[_0x4d8829(0x213)](![],![],_0x4d8829(0xfb))]);},this['draw_battlePhase']=()=>{var _0x52ff03=_0x4732d1,_0x1686f1=world[_0x52ff03(0x305)];if(_0x1686f1[_0x52ff03(0x353)])this['UI'][_0x52ff03(0x127)](_0x52ff03(0x3d2),0x28,0x270f,_0x52ff03(0x187),VILLAGE_UI_FONT);else this['UI'][_0x52ff03(0x127)](_0x52ff03(0x487),0x28,0x270f,'#000000',VILLAGE_UI_FONT);this['UI'][_0x52ff03(0x36c)]([this[_0x52ff03(0x213)](![],![],_0x1686f1[_0x52ff03(0x353)]?'Start\x20Battle':'Next\x20Turn')]);},this[_0x4732d1(0x1bd)]=()=>{var _0x31ab88=_0x4732d1,_0x18ddc3=world['village'];this['UI'][_0x31ab88(0x36c)](this['GetPageSelector']({'selector':this[_0x31ab88(0x445)]}));var _0xda793c=0x0;if(_0x18ddc3[_0x31ab88(0x1ed)]!=PHASE_PLACEPLAYER)this['UI'][_0x31ab88(0x127)]('you\x20can\x20only\x20equip\x20weapon\x20during\x20Phase\x201',0x14,0x270f,_0x31ab88(0x4c4),VILLAGE_UI_FONT);if(!_0x18ddc3['Items'][_0x31ab88(0x1e8)])this['UI'][_0x31ab88(0x127)](_0x31ab88(0x3a6),0x14,0x270f,_0x31ab88(0x187),VILLAGE_UI_FONT);var _0xa1e9c7=_0x18ddc3['bats'][_0x31ab88(0x2ea)](_0xe1c800=>_0xe1c800[_0x31ab88(0x22c)]=='Forge');for(var _0xb3a6ee in _0x18ddc3['Items']){var _0x4e7f43=_0x18ddc3[_0x31ab88(0x1d0)][_0xb3a6ee],_0x4ba0e7=this[_0x31ab88(0x1fb)](_0x4e7f43,0x14);if(_0x4e7f43[_0x31ab88(0x265)]>0x1)_0x4ba0e7['push']({'type':_0x31ab88(0x210),'txt':_0x31ab88(0x2b1)+_0x4e7f43[_0x31ab88(0x265)],'txt_color':'#0000ff','max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT});_0xa1e9c7&&!_0xa1e9c7[_0x31ab88(0x156)]&&_0x4e7f43['itemType']=='weapon'&&_0x4e7f43[_0x31ab88(0x265)]&&_0x18ddc3['phase']==PHASE_ACTIONPLAYER&&_0x4ba0e7[_0x31ab88(0x448)]({'type':'txt','txt':_0x31ab88(0x1f9),'txt_color':_0x31ab88(0x4c4),'max_letters':0x270f,'letter_size':0xf,'txt_font':VILLAGE_UI_FONT});if(_0xda793c>=this['itemsPageOffset']['value']&&_0xda793c<this[_0x31ab88(0x445)][_0x31ab88(0x3b6)]+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x31ab88(0x36c)](_0x4ba0e7);_0xda793c++;if(_0xa1e9c7&&!_0xa1e9c7['build_progression']&&_0x4e7f43[_0x31ab88(0x290)]==_0x31ab88(0xaf)&&_0x4e7f43[_0x31ab88(0x265)]&&_0x18ddc3['phase']==PHASE_ACTIONPLAYER)for(var _0x53c6de in _0xa1e9c7[_0x31ab88(0x43c)]){var _0x14290d=_0xa1e9c7[_0x31ab88(0x43c)][_0x53c6de],_0x54e997=[];if(this[_0x31ab88(0x376)]==_0x4e7f43&&_0x14290d[_0x31ab88(0x2e2)]){_0x54e997[_0x31ab88(0x448)]({'type':_0x31ab88(0x3b1),'callback':_0x4e7f43[_0x31ab88(0x143)],'callback_data':{'player':_0x14290d},'txt':'upgrade','txt_color':_0x31ab88(0x187),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x31ab88(0x187),'windowInfo':[{'callback':_0x94cf4e=>{var _0x41a95a=_0x31ab88;return _0x41a95a(0x46d)+_0x94cf4e[_0x41a95a(0x19d)]()+'%';},'input':_0x4e7f43}]});if(_0xda793c>=this['itemsPageOffset']['value']&&_0xda793c<this[_0x31ab88(0x445)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI'][_0x31ab88(0x36c)](_0x54e997);_0xda793c++;}else{if(_0xda793c>=this['itemsPageOffset'][_0x31ab88(0x3b6)]&&_0xda793c<this[_0x31ab88(0x445)]['value']+VILLAGE_UI_MAX_TAB_ELM_DRAW)this['UI']['addHorizontalElem']([{'type':_0x31ab88(0x210),'txt':_0x31ab88(0x1d5),'txt_color':_0x31ab88(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}]);_0xda793c++;}}}},this[_0x4732d1(0x271)]=()=>{var _0x8826ed=_0x4732d1,_0x85cdbb=world[_0x8826ed(0x305)],_0x18933a=_0x8826ed(0x112);this['UI'][_0x8826ed(0x366)]('Prevision',0x1e,_0x8826ed(0x187),_0x8826ed(0xc0),_0x8826ed(0x187),_0x4ba26c=>{var _0x286eb5=_0x8826ed;_0x4ba26c['value']=!_0x4ba26c[_0x286eb5(0x3b6)];},this[_0x8826ed(0x2e7)],VILLAGE_UI_FONT_BUTTON,undefined,[{'callback':()=>{return _0x18933a;}}],'ff');if(!this[_0x8826ed(0x2e7)]['value'])return;var _0x245596=_0x8826ed(0x319);for(var _0x17f4dd in _0x85cdbb[_0x8826ed(0x36b)]){if(_0x85cdbb[_0x8826ed(0x36b)][_0x17f4dd]['visible']){if(_0x17f4dd==0x0)_0x245596+=_0x8826ed(0x4bf);else _0x245596+=_0x8826ed(0x48c)+_0x17f4dd+_0x8826ed(0x489);if(_0x85cdbb[_0x8826ed(0x36b)][_0x17f4dd]['attackVillage'])_0x245596+=_0x8826ed(0x36f);else _0x245596+=_0x8826ed(0x38b);}}this['UI'][_0x8826ed(0x127)](_0x245596,0x14,0x270f,_0x8826ed(0x187),VILLAGE_UI_FONT);},this[_0x4732d1(0x47b)]=()=>{var _0x13b5e9=_0x4732d1,_0x2b651a=world[_0x13b5e9(0x305)];this[_0x13b5e9(0x271)]();switch(_0x2b651a[_0x13b5e9(0x1ed)]){case PHASE_PLACEPLAYER:this['UI'][_0x13b5e9(0x127)](world[_0x13b5e9(0x305)]['getDateText'](),0x14,0x270f,_0x13b5e9(0x187),VILLAGE_UI_FONT);var _0x252882=_0x13b5e9(0xc9);_0x252882+=_0x13b5e9(0x421),_0x252882+='\x0a-affect\x20players\x20to\x20a\x20building',_0x252882+=_0x13b5e9(0x418),_0x252882+='\x0a\x0abefore\x20start\x20Phase\x202,\x20you\x20must\x20affect\x20at\x20least\x201\x20player\x20to\x20\x27Defend\x20Village\x27',this['UI']['addTextZone'](_0x252882,0x14,0x270f,_0x13b5e9(0x187),VILLAGE_UI_FONT);var _0x5a5460=[this[_0x13b5e9(0x213)](!![],this['warningEndTurnMessage']['length'],_0x13b5e9(0x246))];this['UI'][_0x13b5e9(0x36c)](_0x5a5460);if(this[_0x13b5e9(0x82)]['length'])for(var _0x4739ba in this[_0x13b5e9(0x82)]){var _0x464671=[];_0x464671['push']({'type':_0x13b5e9(0x210),'txt':this['warningEndTurnMessage'][_0x4739ba][_0x13b5e9(0x210)],'txt_color':'#000000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x13b5e9(0x82)][_0x4739ba][_0x13b5e9(0x103)]||this['warningEndTurnMessage'][_0x4739ba][_0x13b5e9(0x1a1)]||this[_0x13b5e9(0x82)][_0x4739ba][_0x13b5e9(0x2f2)])&&_0x464671[_0x13b5e9(0x448)]({'type':_0x13b5e9(0x3b1),'callback':this[_0x13b5e9(0x3ac)],'callback_data':this['warningEndTurnMessage'][_0x4739ba],'txt':_0x13b5e9(0x4b2),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x13b5e9(0x187),'windowInfo':[{'callback':()=>{var _0x3e9888=_0x13b5e9;return _0x3e9888(0xe2);}}]}),this['UI'][_0x13b5e9(0x36c)](_0x464671);}break;case PHASE_ACTIONPLAYER:this['UI'][_0x13b5e9(0x127)](world[_0x13b5e9(0x305)][_0x13b5e9(0x141)](),0x14,0x270f,'#000000',VILLAGE_UI_FONT);var _0x252882='\x20\x20During\x20Phase\x202,\x20players\x20can\x20spend\x20Action\x20Point\x20for\x20work\x20in\x20their\x20affected\x20building';_0x252882+='\x0a-recolt\x20resource\x20in\x20the\x20forest',_0x252882+=_0x13b5e9(0x198),_0x252882+=_0x13b5e9(0x355),_0x252882+=_0x13b5e9(0x207),this['UI'][_0x13b5e9(0x127)](_0x252882,0x14,0x270f,_0x13b5e9(0x187),VILLAGE_UI_FONT);var _0x5a5460=[this[_0x13b5e9(0x213)](!![],this['warningEndTurnMessage'][_0x13b5e9(0x1e8)],_0x13b5e9(0x12e))];if(this['warningEndTurnMessage']['length'])_0x5a5460[_0x13b5e9(0x448)](this['GetNextTurnButton'](![],this[_0x13b5e9(0x82)][_0x13b5e9(0x1e8)],_0x13b5e9(0x46c)));this['UI'][_0x13b5e9(0x36c)](_0x5a5460);if(this[_0x13b5e9(0x82)][_0x13b5e9(0x1e8)])for(var _0x4739ba in this['warningEndTurnMessage']){var _0x464671=[];_0x464671[_0x13b5e9(0x448)]({'type':'txt','txt':this['warningEndTurnMessage'][_0x4739ba][_0x13b5e9(0x210)],'txt_color':_0x13b5e9(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),(this[_0x13b5e9(0x82)][_0x4739ba]['player']||this[_0x13b5e9(0x82)][_0x4739ba]['bat']||this[_0x13b5e9(0x82)][_0x4739ba][_0x13b5e9(0x2f2)])&&_0x464671['push']({'type':_0x13b5e9(0x3b1),'callback':this[_0x13b5e9(0x3ac)],'callback_data':this['warningEndTurnMessage'][_0x4739ba],'txt':_0x13b5e9(0x4b2),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':VILLAGE_UI_BUTTON_FILLCOLOR,'strokeColor':_0x13b5e9(0x187),'windowInfo':[{'callback':()=>{var _0x4de929=_0x13b5e9;return _0x4de929(0xe2);}}]}),this['UI'][_0x13b5e9(0x36c)](_0x464671);}break;}},this['draw_playerTab']=()=>{var _0x19c237=_0x4732d1,_0x55e165=world[_0x19c237(0x305)];if(!this[_0x19c237(0xc4)])return this['UI'][_0x19c237(0x127)](_0x19c237(0x42a),VILLAGE_UI_LETTER_SIZE,0x270f,_0x19c237(0x187),VILLAGE_UI_FONT);var _0x4e898a=this['playerSelected'];this['UI'][_0x19c237(0x366)](_0x19c237(0x26a),0xa,_0x19c237(0xb1),_0x19c237(0x21b),_0x19c237(0x187),_0x4e898a['askUserChangeName'],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'88');var _0x56dc21=this[_0x19c237(0x46e)](_0x4e898a,0x50);this['UI'][_0x19c237(0x36c)](_0x56dc21);var _0x259150=world[_0x19c237(0x305)][_0x19c237(0x234)](_0x4e898a);if(_0x259150){var _0x402418=[{'type':'txt','txt':_0x259150[_0x19c237(0x22c)],'txt_color':this['batSelected']==_0x259150?_0x19c237(0x89):_0x19c237(0x187),'max_letters':0x270f,'letter_size':0x19,'txt_font':VILLAGE_UI_FONT_BUILDINGNAME},{'type':_0x19c237(0x2df),'img':world[_0x19c237(0x310)][_0x259150['imgIcon']][_0x19c237(0x2df)],'len_x':0x19,'len_y':0x19}];if(_0x55e165[_0x19c237(0x1ed)]==PHASE_PLACEPLAYER)_0x402418['push']({'type':'button','mouseLight':'88','callback':world[_0x19c237(0x305)]['removePlayerFromBat'],'callback_data':{'player':_0x4e898a},'txt':_0x19c237(0x2f1),'txt_color':_0x19c237(0x187),'max_letters':0x270f,'letter_size':0xa,'txt_font':VILLAGE_UI_FONT_PLAYERNAME,'fillColor':_0x19c237(0x4c4)});this['UI']['addHorizontalElem'](_0x402418);}if(!_0x4e898a[_0x19c237(0xaf)])this['UI'][_0x19c237(0x127)](_0x19c237(0x7c),0x14,0x270e,_0x19c237(0xc2),VILLAGE_UI_FONT);else{var _0x3c4144=this[_0x19c237(0x1fb)](_0x4e898a[_0x19c237(0xaf)],0x1e,!![]);if(_0x55e165[_0x19c237(0x1ed)]==PHASE_PLACEPLAYER)_0x3c4144[_0x19c237(0x448)]({'type':_0x19c237(0x3b1),'callback':_0x4e898a[_0x19c237(0x35c)],'callback_data':undefined,'txt':'\x20x\x20','txt_color':_0x19c237(0x187),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x19c237(0x4c4),'strokeColor':_0x19c237(0x187),'windowInfo':[{'callback':()=>{var _0x166438=_0x19c237;return _0x166438(0x4da);}}]});this['UI'][_0x19c237(0x36c)](_0x3c4144);}if(!_0x4e898a[_0x19c237(0x41e)])this['UI'][_0x19c237(0x127)](_0x19c237(0x2db),0x14,0x270e,_0x19c237(0xc2),VILLAGE_UI_FONT);else{var _0x3c4144=this[_0x19c237(0x1fb)](_0x4e898a['armor'],0x1e,!![]);if(_0x55e165[_0x19c237(0x1ed)]==PHASE_PLACEPLAYER)_0x3c4144[_0x19c237(0x448)]({'type':_0x19c237(0x3b1),'callback':_0x4e898a[_0x19c237(0x3b2)],'callback_data':undefined,'txt':_0x19c237(0x23d),'txt_color':_0x19c237(0x187),'mouseLight':'88','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON_2,'fillColor':_0x19c237(0x4c4),'strokeColor':_0x19c237(0x187),'windowInfo':[{'callback':()=>{var _0x28bb06=_0x19c237;return _0x28bb06(0x481);}}]});this['UI']['addHorizontalElem'](_0x3c4144);}if(_0x4e898a[_0x19c237(0x341)]&&_0x4e898a['lvlupList']&&_0x4e898a['lvlupList'][_0x19c237(0x1e8)]>0x0)for(var _0x2eebe0 in _0x4e898a[_0x19c237(0x279)]){var _0x56dc21=_0x4e898a[_0x19c237(0x279)][_0x2eebe0];this['UI']['addButton'](_0x56dc21[_0x19c237(0x2b6)]+'\x20'+_0x56dc21[_0x19c237(0x3b6)],0x28,_0x19c237(0x187),_0x19c237(0x224),_0x19c237(0x187),_0x4e898a[_0x19c237(0x2ee)],_0x56dc21,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');}else _0x4e898a['lvlup']&&this['UI']['addButton'](_0x19c237(0x254),0x3c,_0x19c237(0x187),_0x19c237(0xe6),_0x19c237(0x187),_0x4e898a[_0x19c237(0x2cf)],undefined,VILLAGE_UI_FONT_BUTTON,undefined,undefined,'ff');_0x56dc21=[];var _0x406966=_0x19c237(0xb5)+_0x4e898a['ActionPointMax'];_0x406966+=_0x19c237(0xb9)+_0x4e898a[_0x19c237(0x3dc)],_0x406966+=_0x19c237(0x289)+_0x4e898a['speed'],_0x406966+='\x0aMove\x20AP\x20cost\x20'+_0x4e898a[_0x19c237(0x388)];for(var _0x2eebe0 in _0x4e898a[_0x19c237(0x1dc)])_0x406966+='\x0a'+_0x2eebe0+'\x20'+_0x4e898a[_0x19c237(0x1dc)][_0x2eebe0];_0x56dc21[_0x19c237(0x448)]({'type':_0x19c237(0x210),'txt':_0x406966,'txt_color':_0x19c237(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT});var _0x3a1d31=_0x19c237(0x23a)+_0x4e898a['villageActionPoint']+'/'+_0x4e898a[_0x19c237(0x1df)];_0x3a1d31+=_0x19c237(0x324)+_0x4e898a[_0x19c237(0x3f7)],_0x3a1d31+=_0x19c237(0x4bd)+_0x4e898a[_0x19c237(0x26b)]+_0x19c237(0x188),_0x56dc21[_0x19c237(0x448)]({'type':_0x19c237(0x210),'txt':_0x3a1d31,'txt_color':_0x19c237(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI'][_0x19c237(0x36c)](_0x56dc21);},this[_0x4732d1(0x3cc)]=()=>{var _0x164e8e=_0x4732d1,_0x4c5d89=world[_0x164e8e(0x305)];for(var _0x113c4d in _0x4c5d89['resources']){var _0x35979c=[],_0x4b6cf3=_0x4c5d89[_0x164e8e(0x4e4)][_0x113c4d];if(_0x4b6cf3==undefined)continue;_0x35979c['push']({'type':_0x164e8e(0x210),'txt':_0x113c4d,'txt_color':_0x164e8e(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),_0x35979c[_0x164e8e(0x448)]({'type':'img','img':world[_0x164e8e(0x310)][_0x113c4d+_0x164e8e(0x3a2)][_0x164e8e(0x2df)],'len_x':0x14,'len_y':0x14}),_0x35979c[_0x164e8e(0x448)]({'type':_0x164e8e(0x210),'txt':'\x20'+_0x4b6cf3,'txt_color':_0x164e8e(0x187),'max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT}),this['UI']['addHorizontalElem'](_0x35979c);}},this['draw_tab_selector']=()=>{var _0xcd5778=_0x4732d1,_0x40660e=[];_0x40660e[_0xcd5778(0x448)]({'type':_0xcd5778(0x3b1),'mouseLight':'88','callback':()=>{var _0x8746e3=_0xcd5778;this['activeTabId']=this['activeTabId']-0x1>=0x0?this[_0x8746e3(0x4bb)]-0x1:this[_0x8746e3(0x2b3)][_0x8746e3(0x1e8)]-0x1;},'txt':'<','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x40660e['push']({'type':_0xcd5778(0x3b1),'mouseLight':'88','callback':()=>{var _0x439d44=_0xcd5778;this[_0x439d44(0x4bb)]=this['activeTabId']+0x1<this[_0x439d44(0x2b3)]['length']?this['activeTabId']+0x1:0x0;},'txt':'>','txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),_0x40660e[_0xcd5778(0x448)]({'type':'button','mouseLight':'ff','callback':()=>{var _0x2d20e1=_0xcd5778;this[_0x2d20e1(0x4bb)]=undefined;},'callback_data':undefined,'txt':this[_0xcd5778(0x2b3)][this[_0xcd5778(0x4bb)]],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0xcd5778(0x36c)](_0x40660e);},this[_0x4732d1(0x395)]=()=>{var _0x5d6357=_0x4732d1,_0x14db3e=world[_0x5d6357(0x305)];this[_0x5d6357(0x2ca)]=new MyUI(this['canvas'],this[_0x5d6357(0x338)][_0x5d6357(0x3ba)]+this['UI'][_0x5d6357(0x3ba)],0x0,0xa,this[_0x5d6357(0xea)],this[_0x5d6357(0x110)],this[_0x5d6357(0x17b)],this[_0x5d6357(0x4c3)]),this[_0x5d6357(0x2ca)][_0x5d6357(0x127)](_0x5d6357(0xe0),0x28,0x270f,_0x5d6357(0x187),VILLAGE_UI_FONT_PHASE),this[_0x5d6357(0x2ca)][_0x5d6357(0x36c)]([{'type':_0x5d6357(0x3b1),'mouseLight':'88','callback':()=>{var _0x38fd6c=_0x5d6357;this['eventPage']=this[_0x38fd6c(0x3cf)]>0x0?this[_0x38fd6c(0x3cf)]-0x1:this[_0x38fd6c(0x3cf)];},'txt':'∧','txt_color':'#ff0000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x5d6357(0x27e)},{'type':_0x5d6357(0x3b1),'mouseLight':'88','callback':()=>{var _0x2bc7c7=_0x5d6357;this[_0x2bc7c7(0x3cf)]=this['eventPage']<_0x14db3e['MessageSystem'][_0x2bc7c7(0x192)][_0x2bc7c7(0x1e8)]-0x1?this['eventPage']+0x1:this[_0x2bc7c7(0x3cf)];},'txt':'∨','txt_color':'#ff0000','max_letters':0x270f,'letter_size':0x14,'txt_font':VILLAGE_UI_FONT_BUTTON,'fillColor':_0x5d6357(0x27e)}]);var _0x1a4280=_0x14db3e[_0x5d6357(0xb6)][_0x5d6357(0x463)]({'page':this[_0x5d6357(0x3cf)]});for(var _0xa4a518 in _0x1a4280){var _0x2e641f=_0x1a4280[_0x5d6357(0x1e8)]-_0xa4a518-0x1,_0x3bf57b=_0x5d6357(0x187);switch(_0x1a4280[_0x2e641f]['type']){case _0x5d6357(0x31f):_0x3bf57b=_0x5d6357(0x4e1);break;case _0x5d6357(0x2a7):_0x3bf57b=_0x5d6357(0x456);break;case _0x5d6357(0x103):_0x3bf57b=_0x5d6357(0x1cf);break;default:_0x3bf57b=_0x5d6357(0x187);break;}if(_0x1a4280[_0x2e641f][_0x5d6357(0x3ad)]==_0x5d6357(0x3da))this['UIsystem'][_0x5d6357(0x36c)](this[_0x5d6357(0x38d)](_0x1a4280[_0x2e641f]['txt'],0x14));else this['UIsystem']['addTextZone'](_0x1a4280[_0x2e641f][_0x5d6357(0x210)],0x14,0x270f,_0x3bf57b,VILLAGE_UI_FONT);}this[_0x5d6357(0x2ca)][_0x5d6357(0x396)]();},this['drawVillageUI']=()=>{var _0x3d8950=_0x4732d1;if(!world[_0x3d8950(0x305)])return;var _0x4d2181=world[_0x3d8950(0x305)];this['needRedraw']=![],this['canvas'][_0x3d8950(0x477)](),this[_0x3d8950(0x17d)][_0x3d8950(0x2a9)](),this[_0x3d8950(0x1ec)](),this['UI']=new MyUI(this['canvas'],this[_0x3d8950(0x338)]['lenx'],0x0,0xa,this[_0x3d8950(0xea)],this[_0x3d8950(0x110)],this[_0x3d8950(0x17b)],this[_0x3d8950(0x4c3)]);if(!this[_0x3d8950(0x23e)])this['UI']['addButton'](_0x3d8950(0x331),0x28,_0x3d8950(0x187),_0x3d8950(0x4d6),_0x3d8950(0x4d6),()=>{var _0x59cce9=_0x3d8950;this[_0x59cce9(0x23e)]=!this[_0x59cce9(0x23e)];},undefined,VILLAGE_UI_FONT_PHASE);else{if(this[_0x3d8950(0x23e)]){switch(_0x4d2181[_0x3d8950(0x1ed)]){case PHASE_PLACEPLAYER:this['UI'][_0x3d8950(0x366)](_0x3d8950(0x3a4),0x28,_0x3d8950(0x187),_0x3d8950(0x4d6),_0x3d8950(0x4d6),()=>{var _0x35f572=_0x3d8950;this[_0x35f572(0x23e)]=!this[_0x35f572(0x23e)];},undefined,VILLAGE_UI_FONT_PHASE);break;case PHASE_ACTIONPLAYER:this['UI']['addButton'](_0x3d8950(0x322),0x28,_0x3d8950(0x187),'#00000000','#00000000',()=>{var _0x1c3447=_0x3d8950;this[_0x1c3447(0x23e)]=!this[_0x1c3447(0x23e)];},undefined,VILLAGE_UI_FONT_PHASE);break;}if(this[_0x3d8950(0x4bb)]===undefined)for(var _0x262119 in this[_0x3d8950(0x2b3)]){var _0x1a6d4d=[];_0x1a6d4d['push']({'type':'button','mouseLight':'ff','callback':_0x5ad8e2=>{var _0x29559b=_0x3d8950;this[_0x29559b(0x4bb)]=parseInt(_0x5ad8e2);},'callback_data':_0x262119,'txt':this[_0x3d8950(0x2b3)][_0x262119],'txt_color':VILLAGE_UI_TABS_TXTCOLOR,'max_letters':0x270f,'letter_size':0x28,'txt_font':VILLAGE_UI_TABS_FONT,'fillColor':VILLAGE_UI_TABS_FILLCOLOR}),this['UI'][_0x3d8950(0x36c)](_0x1a6d4d);}else{if(_0x4d2181[_0x3d8950(0x1ed)]==PHASE_NEWTURN)this[_0x3d8950(0x96)]();else{if(_0x4d2181[_0x3d8950(0x1ed)]==PHASE_COMBAT)this[_0x3d8950(0x97)]();else{this[_0x3d8950(0x494)]();switch(this[_0x3d8950(0x2b3)][this[_0x3d8950(0x4bb)]]){case _0x3d8950(0x1e4):this['draw_NextTurnTab']();break;case _0x3d8950(0x2a7):this[_0x3d8950(0x4c6)]();break;case'craft':this['draw_craft_menu']();break;case _0x3d8950(0x3da):this[_0x3d8950(0x3cc)]();break;case _0x3d8950(0x1d0):this[_0x3d8950(0x1bd)]();break;case _0x3d8950(0x8b):this['draw_playerTab']();break;}}}}}}this['UI'][_0x3d8950(0x396)](),this[_0x3d8950(0x395)](),this[_0x3d8950(0x28a)](![]);};},MENU_UI_TITLE_FONT=_0x3c4aa9(0x13f),MENU_UI_BUTTON_FONT='\x27Comic\x20Sans\x20MS\x27',MenuUI=function(_0x2ca4a8){var _0x47b95d=_0x3c4aa9;this['canvas']=_0x2ca4a8,this[_0x47b95d(0x17b)]=_0x47b95d(0x187),this[_0x47b95d(0x110)]=_0x47b95d(0x433),this[_0x47b95d(0xea)]=0x1,this[_0x47b95d(0x9d)]=!![],this[_0x47b95d(0xf3)]=!![],this['UI']=undefined;const _0x11413d=document[_0x47b95d(0xfa)](_0x47b95d(0x17d)),_0x9564d5=_0x11413d['getContext']('2d'),_0x1376dc=new Image();_0x1376dc[_0x47b95d(0x11a)]=_0x47b95d(0x2b2),_0x1376dc[_0x47b95d(0x4e3)]=()=>{var _0x1f3849=_0x47b95d;const _0x10a172=_0x9564d5['createPattern'](_0x1376dc,_0x1f3849(0x277));this[_0x1f3849(0x110)]=_0x10a172,this[_0x1f3849(0x9d)]=!![];},this[_0x47b95d(0x3f9)]=()=>{var _0x1a804a=_0x47b95d;window[_0x1a804a(0x129)]('mousemove',_0xf33d42=>{var _0x241f80=_0x1a804a,_0x541799=![];this['UI']&&this['UI'][_0x241f80(0xf4)](_0xf33d42[_0x241f80(0x349)],_0xf33d42[_0x241f80(0x34c)])&&!this[_0x241f80(0xf3)]&&(this[_0x241f80(0x9d)]=!![],this['mouseWasOnMouseLightLastDraw']=!![],_0x541799=!![]);!_0x541799&&this[_0x241f80(0xf3)]&&(this[_0x241f80(0xf3)]=![],this[_0x241f80(0x9d)]=!![]);if(this==world[_0x241f80(0x49f)])this[_0x241f80(0x3f9)]();},{'once':!![]});},this[_0x47b95d(0x3f9)](),this[_0x47b95d(0x313)]=_0x218c5a=>{var _0x41fded=_0x47b95d;if(this['UI']&&this['UI'][_0x41fded(0x13a)](_0x218c5a))return!![];if(_0x218c5a==_0x41fded(0x1a7)&&this[_0x41fded(0x20d)]())return!![];return![];},this[_0x47b95d(0x20d)]=()=>{return![];},this[_0x47b95d(0x3bc)]=_0x5aa621=>{var _0xdf6f10=_0x47b95d;if(!_0x5aa621||_0x5aa621['x']===undefined)return![];var _0x52cf13=_0x5aa621['x'],_0x49419b=_0x5aa621['y'];if(_0x5aa621['button']==0x2){var _0x493ac2=this[_0xdf6f10(0x20d)]();if(_0x493ac2)return!![];}else{if(this['UI'][_0xdf6f10(0x13d)](_0x52cf13,_0x49419b))return!![];}return![];},this[_0x47b95d(0x28a)]=_0x2cb0d2=>{var _0x5bc1a8=_0x47b95d;if(this['UI']&&this['UI'][_0x5bc1a8(0x28a)](_0x2cb0d2))this['needRedraw']=!![];},this[_0x47b95d(0x86)]=()=>{var _0x21ff8c=_0x47b95d;this[_0x21ff8c(0x17d)][_0x21ff8c(0x477)](),this[_0x21ff8c(0x17d)][_0x21ff8c(0x2a9)](),this['UI']=new MyUI(this[_0x21ff8c(0x17d)],0x0,0x0,0xa,this[_0x21ff8c(0xea)],this['background'],this[_0x21ff8c(0x17b)],this[_0x21ff8c(0x4c3)]);var _0x43dca4=[];_0x43dca4['push']({'type':'txt','txt':_0x21ff8c(0x99),'txt_color':'#000000','max_letters':0x270f,'letter_size':0x2d,'txt_font':MENU_UI_TITLE_FONT}),_0x43dca4[_0x21ff8c(0x448)]({'type':'txt','txt':_0x21ff8c(0x450)+GAME_VERSION,'txt_color':'#000000','max_letters':0x270f,'letter_size':0xa,'txt_font':MENU_UI_TITLE_FONT}),this['UI'][_0x21ff8c(0x36c)](_0x43dca4),this['UI'][_0x21ff8c(0x36c)]([{'type':'button','callback':world['initVillage'],'callback_data':!![],'txt':_0x21ff8c(0x27d),'txt_color':'#000000','mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':'#55ff00','strokeColor':_0x21ff8c(0x187),'windowInfo':[{'callback':()=>{var _0x53be42=_0x21ff8c;return _0x53be42(0x342);}}]}]),localStorage[_0x21ff8c(0x40c)]&&this['UI']['addHorizontalElem']([{'type':_0x21ff8c(0x3b1),'callback':world[_0x21ff8c(0x35b)],'callback_data':![],'txt':_0x21ff8c(0x119),'txt_color':_0x21ff8c(0x187),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x21ff8c(0x30f),'strokeColor':_0x21ff8c(0x187),'windowInfo':[{'callback':()=>{return'return\x20to\x20the\x20start\x20of\x20the\x20last\x20phase\x201\x20you\x20played';}}]}]),this['UI']['addHorizontalElem']([{'type':_0x21ff8c(0x3b1),'callback':()=>{var _0x6c6e8f=_0x21ff8c;window[_0x6c6e8f(0x116)](_0x6c6e8f(0x108),_0x6c6e8f(0x471));},'callback_data':undefined,'txt':_0x21ff8c(0x4d2),'txt_color':_0x21ff8c(0xb1),'mouseLight':'88','max_letters':0x270f,'letter_size':0x1e,'txt_font':MENU_UI_BUTTON_FONT,'fillColor':_0x21ff8c(0x1cf),'strokeColor':_0x21ff8c(0x187),'windowInfo':[{'callback':()=>{var _0x3abe5a=_0x21ff8c;return _0x3abe5a(0x108);}}]}]),this['UI'][_0x21ff8c(0x396)](),this['CheckInfoWindow'](![]);};};var IMG_TO_LOAD=[[_0x3c4aa9(0x40d),_0x3c4aa9(0x263)],[_0x3c4aa9(0x40d),_0x3c4aa9(0xc6)],['player_test3/village/resource','stone_icon'],['player_test3/village/resource',_0x3c4aa9(0x237)],[_0x3c4aa9(0x40d),_0x3c4aa9(0x414)],[_0x3c4aa9(0x40d),'rawCopper_icon'],[_0x3c4aa9(0x40d),_0x3c4aa9(0x404)],[_0x3c4aa9(0x40d),_0x3c4aa9(0x100)],[_0x3c4aa9(0x40d),_0x3c4aa9(0x161)],[_0x3c4aa9(0x40d),_0x3c4aa9(0x294)],['player_test3/village/resource','leather_icon'],[_0x3c4aa9(0x4c7),_0x3c4aa9(0x11e)],['player_test3/village/building',_0x3c4aa9(0x3b7)],[_0x3c4aa9(0x4c7),'workshop_icon'],[_0x3c4aa9(0x4c7),_0x3c4aa9(0xeb)],[_0x3c4aa9(0x4c7),_0x3c4aa9(0x317)],[_0x3c4aa9(0x4c7),_0x3c4aa9(0x2d0)],[_0x3c4aa9(0x4c7),_0x3c4aa9(0x468)],[_0x3c4aa9(0x4c7),_0x3c4aa9(0x122)],['player_test3/village/building','forge'],[_0x3c4aa9(0x4c7),_0x3c4aa9(0x434)],[_0x3c4aa9(0x4c7),'lighthouse'],[_0x3c4aa9(0x4c7),_0x3c4aa9(0xdf)],[_0x3c4aa9(0x40d),_0x3c4aa9(0x4ad)],[_0x3c4aa9(0x40d),_0x3c4aa9(0x32f)]],id=0x0;GOBLIN_COLOR={'r':0x41,'g':0x7a,'b':0x51},GIANT_COLOR={'r':0x7d,'g':0x7d,'b':0x7d},World=function(_0x5a03e7){var _0x4a9d8a=_0x3c4aa9;this[_0x4a9d8a(0x3db)]=_0x5a03e7,this[_0x4a9d8a(0x46a)]=new SoundManager(),this[_0x4a9d8a(0x310)]=[],this[_0x4a9d8a(0x35b)]=_0x508ba3=>{var _0x189187=_0x4a9d8a;this['MenuUI']=undefined,this['village']=new Village({});if(!localStorage[_0x189187(0x40c)]||_0x508ba3)localStorage[_0x189187(0x173)](_0x189187(0x40c)),this[_0x189187(0x305)][_0x189187(0x151)]();else{var _0x1d2d0a=JSON['parse'](localStorage[_0x189187(0x40c)]);for(var _0x6df809 in _0x1d2d0a){if(_0x1d2d0a[_0x6df809]==undefined)continue;console[_0x189187(0x451)](_0x189187(0x2f5)+_0x6df809+'\x20to\x20the\x20village');if(_0x6df809=='players'){var _0x3ab9ab=_0x1d2d0a[_0x189187(0x26d)];this[_0x189187(0x305)][_0x189187(0x26d)]=[];for(var _0x81666b in _0x3ab9ab){console[_0x189187(0x451)](_0x3ab9ab[_0x81666b]),this[_0x189187(0x305)][_0x189187(0x171)](_0x3ab9ab[_0x81666b]);}}else{if(_0x6df809==_0x189187(0x45b))this[_0x189187(0x305)]['loadBatsFromInput'](_0x1d2d0a[_0x189187(0x45b)]);else{if(_0x6df809=='MessageSystem')continue;else{if(_0x6df809==_0x189187(0x1d0))this[_0x189187(0x305)][_0x189187(0x3cd)](_0x1d2d0a[_0x189187(0x1d0)]);else this['village'][_0x6df809]=_0x1d2d0a[_0x6df809];}}}}}this[_0x189187(0x497)]=new VillageUI(this[_0x189187(0x3db)][_0x189187(0x498)][_0x189187(0x3c8)]);},this[_0x4a9d8a(0x3d7)]=()=>{var _0x143ffa=_0x4a9d8a;for(var _0x2dc49a in IMG_TO_LOAD){var _0x4a260e=IMG_TO_LOAD[_0x2dc49a][0x1],_0x404a8a=IMG_TO_LOAD[_0x2dc49a][0x0];this[_0x143ffa(0x310)][_0x4a260e]=new myImage(_0x4a260e,'./img/'+_0x404a8a+'/'+_0x4a260e+_0x143ffa(0x386));}},this[_0x4a9d8a(0x215)]=()=>{var _0x23dd9f=_0x4a9d8a;this[_0x23dd9f(0x442)]=new ControlManager(),new PlayersManager()['loadPlayerDefaultImgs'](),this['Imgs']={...world['playerDefaultImgs']},this[_0x23dd9f(0x3d7)](),this['MenuUI']=new MenuUI(this['Screen']['canList'][_0x23dd9f(0x3c8)]);},this['saveWorld']=()=>{var _0x1218d2=_0x4a9d8a,_0x1b28d5=JSON['stringify'](world[_0x1218d2(0x305)]);localStorage[_0x1218d2(0x40c)]=_0x1b28d5;},this[_0x4a9d8a(0x218)]=_0x2b6f27=>{var _0x22f37e=_0x4a9d8a;if(!this[_0x22f37e(0x15d)])return undefined;var _0x5da864=0x3e8,_0x2bab3a=0x2+Math[_0x22f37e(0x311)](Math[_0x22f37e(0x3b0)]()*0x2);while(_0x5da864-->0x1){var _0x46ec6e=0x1+Math[_0x22f37e(0x311)](this[_0x22f37e(0x15d)][_0x22f37e(0x308)]*(0.5+0.5*Math[_0x22f37e(0x3b0)]())),_0x13fb6e=0x1+Math[_0x22f37e(0x311)](this[_0x22f37e(0x15d)][_0x22f37e(0x28b)]*Math[_0x22f37e(0x3b0)]()),_0x44f838=this[_0x22f37e(0x26d)][_0x22f37e(0x2aa)]({'x':_0x46ec6e,'y':_0x13fb6e,'size':_0x2bab3a,'team':TEAM_AI,'color':GIANT_COLOR});_0x44f838&&(console['log'](_0x22f37e(0x167)+[_0x46ec6e,_0x13fb6e]),_0x5da864=0x0);}if(!_0x44f838)return undefined;var _0x3482cb=PLAYER_FACE_IMG[_0x22f37e(0x1b1)](_0x2a8e72=>_0x2a8e72[_0x22f37e(0x4aa)](_0x22f37e(0x4cf))),_0x514144=PLAYER_BODY_IMG['filter'](_0x40a224=>_0x40a224['startsWith'](_0x22f37e(0x4cf)));_0x44f838[_0x22f37e(0x1d6)]=_0x22f37e(0x186),_0x44f838[_0x22f37e(0xff)]=_0x3482cb[Math[_0x22f37e(0x311)](Math[_0x22f37e(0x3b0)]()*_0x3482cb['length'])],_0x44f838[_0x22f37e(0x474)]=_0x514144[Math[_0x22f37e(0x311)](Math[_0x22f37e(0x3b0)]()*_0x514144[_0x22f37e(0x1e8)])],_0x44f838[_0x22f37e(0x3dc)]=0xc8+Math[_0x22f37e(0x311)](Math[_0x22f37e(0x3b0)]()*0x64)*_0x2b6f27,_0x44f838[_0x22f37e(0xab)]=_0x44f838[_0x22f37e(0x3dc)],_0x44f838[_0x22f37e(0x1dc)]['Strength']=Math[_0x22f37e(0x311)](0x1e+Math[_0x22f37e(0x311)](Math['random']()*0xa))*_0x2b6f27,_0x44f838[_0x22f37e(0x1dc)][_0x22f37e(0x253)]=Math[_0x22f37e(0x311)](0x1+Math['floor'](Math[_0x22f37e(0x3b0)]()*0x2))*_0x2b6f27,_0x44f838[_0x22f37e(0x1e5)]=Math[_0x22f37e(0x311)](0x28+Math['random']()*0xa),_0x44f838[_0x22f37e(0x2af)]=0xc8*(0x1+_0x2b6f27/0x2)+Math[_0x22f37e(0x311)](Math['random']()*0x32),_0x44f838[_0x22f37e(0x4b9)]=_0x44f838[_0x22f37e(0x2af)],_0x44f838['movePCost']=0x2d+Math[_0x22f37e(0x311)](Math[_0x22f37e(0x3b0)]()*0xb);var _0x2a7de8=undefined,_0x27a22b=Math['floor'](Math[_0x22f37e(0x3b0)]()*0x64),_0x32d2db=[_0x22f37e(0x314)],_0x4b68b1=_0x32d2db[Math[_0x22f37e(0x311)](Math[_0x22f37e(0x3b0)]()*_0x32d2db[_0x22f37e(0x1e8)])];return _0x2a7de8=new Weapon()[_0x22f37e(0x16f)]({'name':_0x4b68b1}),_0x44f838[_0x22f37e(0xaf)]=_0x2a7de8,_0x44f838[_0x22f37e(0x41e)]=undefined,_0x44f838['generateCapacity'](),console[_0x22f37e(0x451)](_0x22f37e(0x459)),_0x44f838;},this['create_goblin_on_map']=_0x50a7e1=>{var _0x59f65d=_0x4a9d8a;if(!this[_0x59f65d(0x15d)])return undefined;var _0x614cc0=0x3e8;while(_0x614cc0-->0x1){var _0x13cdcb=0x1+Math[_0x59f65d(0x311)](this[_0x59f65d(0x15d)]['width']*(0.5+0.5*Math[_0x59f65d(0x3b0)]())),_0x49f44b=0x1+Math[_0x59f65d(0x311)](this[_0x59f65d(0x15d)]['height']*Math[_0x59f65d(0x3b0)]()),_0x3194eb=this[_0x59f65d(0x26d)][_0x59f65d(0x2aa)]({'x':_0x13cdcb,'y':_0x49f44b,'size':0x1,'team':TEAM_AI,'color':GOBLIN_COLOR});_0x3194eb&&(console[_0x59f65d(0x451)](_0x59f65d(0x3a3)+[_0x13cdcb,_0x49f44b]),_0x614cc0=0x0);}if(!_0x3194eb)return undefined;var _0x5e946f=PLAYER_FACE_IMG[_0x59f65d(0x1b1)](_0x3e32e1=>_0x3e32e1[_0x59f65d(0x4aa)]('goblin')),_0x213be8=PLAYER_BODY_IMG[_0x59f65d(0x1b1)](_0x4d9502=>_0x4d9502[_0x59f65d(0x4aa)](_0x59f65d(0xcb)));_0x3194eb['AIstyleFocus']=_0x59f65d(0xcb),_0x3194eb[_0x59f65d(0xff)]=_0x5e946f[Math[_0x59f65d(0x311)](Math[_0x59f65d(0x3b0)]()*_0x5e946f[_0x59f65d(0x1e8)])],_0x3194eb[_0x59f65d(0x474)]=_0x213be8[Math[_0x59f65d(0x311)](Math[_0x59f65d(0x3b0)]()*_0x213be8['length'])],_0x3194eb[_0x59f65d(0x3dc)]=0xf+Math[_0x59f65d(0x311)](Math[_0x59f65d(0x3b0)]()*0x14)*_0x50a7e1,_0x3194eb[_0x59f65d(0xab)]=_0x3194eb['lifeMax'],_0x3194eb[_0x59f65d(0x1dc)][_0x59f65d(0x3ef)]=Math['floor'](0x5+Math['floor'](Math[_0x59f65d(0x3b0)]()*0x3))*_0x50a7e1,_0x3194eb['stats'][_0x59f65d(0x253)]=Math[_0x59f65d(0x311)](0x5+Math[_0x59f65d(0x311)](Math[_0x59f65d(0x3b0)]()*0x3))*_0x50a7e1,_0x3194eb[_0x59f65d(0x1e5)]=Math['floor'](0x78+Math[_0x59f65d(0x3b0)]()*0x14),_0x3194eb[_0x59f65d(0x2af)]=0x46*_0x50a7e1+Math[_0x59f65d(0x311)](Math[_0x59f65d(0x3b0)]()*0x14),_0x3194eb[_0x59f65d(0x4b9)]=_0x3194eb['ActionPointMax'],_0x3194eb[_0x59f65d(0x388)]=0xf+Math[_0x59f65d(0x311)](Math['random']()*0x3);var _0x3cb5f4=undefined,_0x4bd3fc=Math['floor'](Math[_0x59f65d(0x3b0)]()*0x64),_0x287286=[_0x59f65d(0x30d),_0x59f65d(0x3e1)],_0x288ea4=_0x287286[Math[_0x59f65d(0x311)](Math[_0x59f65d(0x3b0)]()*_0x287286[_0x59f65d(0x1e8)])];return _0x3cb5f4=new Weapon()[_0x59f65d(0x16f)]({'name':_0x288ea4}),_0x3194eb['weapon']=_0x3cb5f4,_0x3194eb[_0x59f65d(0x41e)]=undefined,_0x3194eb[_0x59f65d(0xee)](),console[_0x59f65d(0x451)](_0x59f65d(0x459)),_0x3194eb;},this['create_brigand_on_map']=_0x960433=>{var _0x25315d=_0x4a9d8a;if(!this[_0x25315d(0x15d)])return undefined;var _0xd6ac31=world[_0x25315d(0x305)][_0x25315d(0x1b5)];TEAM_AI_COLOR={'r':(_0xd6ac31['r']+0x7d)%0x100,'g':(_0xd6ac31['g']+0x7d)%0x100,'b':(_0xd6ac31['b']+0x7d)%0x100};var _0x2b22c8=0x3e8;while(_0x2b22c8-->0x1){var _0x5aaa83=0x1+Math[_0x25315d(0x311)](this[_0x25315d(0x15d)][_0x25315d(0x308)]*(0.5+0.5*Math[_0x25315d(0x3b0)]())),_0xdbec82=0x1+Math[_0x25315d(0x311)](this[_0x25315d(0x15d)][_0x25315d(0x28b)]*Math[_0x25315d(0x3b0)]()),_0x4eed95=this['players']['createPlayer']({'x':_0x5aaa83,'y':_0xdbec82,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x4eed95&&(console[_0x25315d(0x451)](_0x25315d(0x3a3)+[_0x5aaa83,_0xdbec82]),_0x2b22c8=0x0);}if(!_0x4eed95)return undefined;var _0x53d86e=PLAYER_FACE_IMG['filter'](_0x5e8738=>_0x5e8738[_0x25315d(0x4aa)]('human')),_0xdf0192=PLAYER_BODY_IMG['filter'](_0x5e67c4=>_0x5e67c4['startsWith']('human'));_0x4eed95['AIstyleFocus']=_0x25315d(0x44d),_0x4eed95[_0x25315d(0xff)]=_0x53d86e[Math[_0x25315d(0x311)](Math[_0x25315d(0x3b0)]()*_0x53d86e[_0x25315d(0x1e8)])],_0x4eed95[_0x25315d(0x474)]=_0xdf0192[Math['floor'](Math[_0x25315d(0x3b0)]()*_0xdf0192[_0x25315d(0x1e8)])],_0x4eed95[_0x25315d(0x3dc)]=0x50*_0x960433+Math[_0x25315d(0x311)](Math['random']()*0x14),_0x4eed95[_0x25315d(0xab)]=_0x4eed95[_0x25315d(0x3dc)],_0x4eed95['stats']['Strength']=0xa+Math['floor'](Math[_0x25315d(0x311)](Math[_0x25315d(0x3b0)]()*0xa))*_0x960433,_0x4eed95[_0x25315d(0x1dc)][_0x25315d(0x253)]=0xa+Math[_0x25315d(0x311)](Math['floor'](Math[_0x25315d(0x3b0)]()*0xa))*_0x960433,_0x4eed95[_0x25315d(0x1e5)]=Math[_0x25315d(0x311)](0x5a+Math[_0x25315d(0x3b0)]()*0x14*_0x960433),_0x4eed95[_0x25315d(0x2af)]=0x50*_0x960433+Math[_0x25315d(0x311)](Math['random']()*0x28),_0x4eed95[_0x25315d(0x4b9)]=_0x4eed95[_0x25315d(0x2af)],_0x4eed95['movePCost']=0xf+Math[_0x25315d(0x311)](Math['random']()*0xa);var _0x15b87d=undefined,_0x1ea9e5=Math[_0x25315d(0x311)](Math[_0x25315d(0x3b0)]()*0x64),_0x7ccbf4=[_0x25315d(0x30d),_0x25315d(0x3e1),_0x25315d(0x314),_0x25315d(0x11d),_0x25315d(0x172),_0x25315d(0x449),'Copper\x20Hammer'],_0x5ad885=_0x7ccbf4[Math[_0x25315d(0x311)](Math[_0x25315d(0x3b0)]()*_0x7ccbf4[_0x25315d(0x1e8)])];return _0x15b87d=new Weapon()[_0x25315d(0x16f)]({'name':_0x5ad885}),_0x4eed95[_0x25315d(0xaf)]=_0x15b87d,_0x4eed95[_0x25315d(0x41e)]=undefined,_0x4eed95[_0x25315d(0xee)](),console['log'](_0x25315d(0x459)),_0x4eed95;},this['create_random_enemy_on_map']=_0x5c869d=>{var _0x198031=_0x4a9d8a;if(!this[_0x198031(0x15d)])return undefined;var _0x556813=0x64;while(_0x556813-->0x1){var _0x252874=0x1+Math[_0x198031(0x311)](this[_0x198031(0x15d)][_0x198031(0x308)]*(0.5+0.5*Math[_0x198031(0x3b0)]())),_0x2daf0d=0x1+Math[_0x198031(0x311)](this[_0x198031(0x15d)][_0x198031(0x28b)]*Math['random']()),_0x34231b=this[_0x198031(0x26d)][_0x198031(0x2aa)]({'x':_0x252874,'y':_0x2daf0d,'size':0x1,'team':TEAM_AI,'color':TEAM_AI_COLOR});_0x34231b&&(console[_0x198031(0x451)](_0x198031(0x28e)+[_0x252874,_0x2daf0d]),_0x556813=0x0);}if(!_0x34231b)return undefined;_0x34231b[_0x198031(0x3dc)]=0x32+_0x5c869d*0x4+Math[_0x198031(0x311)](Math[_0x198031(0x3b0)]()*0x32),_0x34231b[_0x198031(0xab)]=_0x34231b['lifeMax'],_0x34231b[_0x198031(0x1dc)][_0x198031(0x3ef)]=0x5+_0x5c869d+Math[_0x198031(0x311)](Math[_0x198031(0x3b0)]()*0xa),_0x34231b[_0x198031(0x1dc)][_0x198031(0x253)]=0x5+_0x5c869d+Math[_0x198031(0x311)](Math[_0x198031(0x3b0)]()*0xa),_0x34231b[_0x198031(0x1e5)]=0x50+_0x5c869d*0x1+Math[_0x198031(0x311)](Math[_0x198031(0x3b0)]()*0x50),_0x34231b[_0x198031(0x2af)]=0x64+Math[_0x198031(0x311)](Math[_0x198031(0x3b0)]()*0x32)+_0x5c869d,_0x34231b[_0x198031(0x4b9)]=_0x34231b[_0x198031(0x2af)],_0x34231b['movePCost']=0x14-0x4+Math[_0x198031(0x311)](Math[_0x198031(0x3b0)]()*0xf-_0x5c869d/0x3);if(_0x34231b[_0x198031(0x388)]<0xa)_0x34231b[_0x198031(0x388)]=0xa;var _0x46e014=undefined,_0x5da505=Math[_0x198031(0x311)](Math[_0x198031(0x3b0)]()*0x64);if(_0x5c869d<0x5)_0x46e014=undefined;else{if(_0x5da505+_0x5c869d*0x2>0x50)_0x46e014=new Weapon()[_0x198031(0xbc)]();}_0x46e014=new Weapon()[_0x198031(0xbc)](),_0x34231b[_0x198031(0xaf)]=_0x46e014;var _0x5834ae=undefined,_0x5da505=Math[_0x198031(0x311)](Math['random']()*0x64);if(_0x5c869d<0x5)_0x5834ae=undefined;else{if(_0x5da505+_0x5c869d*0x2>0x50)_0x5834ae=new Armor()[_0x198031(0x1b3)]();}return _0x5834ae=new Armor()['createRandomArmor'](),_0x34231b[_0x198031(0x41e)]=_0x5834ae,_0x34231b[_0x198031(0xee)](),console[_0x198031(0x451)](_0x198031(0x459)),_0x34231b;},this[_0x4a9d8a(0x219)]=(_0x2df79a,_0x338cea)=>{var _0x15df8f=_0x4a9d8a;if(!_0x2df79a||!_0x338cea||!_0x338cea[_0x15df8f(0x2c3)]||!_0x338cea[_0x15df8f(0x2c3)][_0x15df8f(0x4b6)])return;this['map']=new BattleMap(0x19,0x6+0x3*_0x2df79a['length']),this['map']['initImgs'](),this[_0x15df8f(0x15d)][_0x15df8f(0x2bd)](),this[_0x15df8f(0x26d)]=new PlayersManager(),this[_0x15df8f(0x26d)]['loadPlayerDefaultImgs'](),this[_0x15df8f(0x26d)]=this['players'],this[_0x15df8f(0x26d)][_0x15df8f(0xd4)]=this[_0x15df8f(0x3db)][_0x15df8f(0x498)][_0x15df8f(0x165)],this[_0x15df8f(0x26d)][_0x15df8f(0x334)]=this[_0x15df8f(0x3db)][_0x15df8f(0x498)][_0x15df8f(0x26d)];var _0x48598c=0x3;for(var _0x3fc7c5 in _0x2df79a){var _0x1dac04=_0x2df79a[_0x3fc7c5];this[_0x15df8f(0x26d)][_0x15df8f(0x132)]({'x':0x3,'y':_0x48598c,'player':_0x1dac04}),_0x48598c+=0x3;}var _0x3053f3=_0x338cea[_0x15df8f(0x2c3)][_0x15df8f(0x4b6)];for(var _0x3fc7c5 in _0x3053f3){for(var _0x1fac09=0x0;_0x1fac09<_0x3053f3[_0x3fc7c5]['nb'];_0x1fac09++)switch(_0x3053f3[_0x3fc7c5]['type']){case'goblins':this['create_goblin_on_map'](_0x3053f3[_0x3fc7c5][_0x15df8f(0x3f7)]);break;case _0x15df8f(0x186):this['create_giant_on_map'](_0x3053f3[_0x3fc7c5][_0x15df8f(0x3f7)]);break;case _0x15df8f(0x44d):this[_0x15df8f(0x3fa)](_0x3053f3[_0x3fc7c5][_0x15df8f(0x3f7)]);break;}}this[_0x15df8f(0x15d)][_0x15df8f(0x4c2)]();},this[_0x4a9d8a(0x9d)]=()=>{var _0x3110cb=_0x4a9d8a;if(this['map'])this['map']['needRedraw']=!![];if(this[_0x3110cb(0x3c8)])this[_0x3110cb(0x3c8)][_0x3110cb(0x9d)]=!![];if(this['villageUI'])this[_0x3110cb(0x497)]['needRedraw']=!![];if(this[_0x3110cb(0x243)])this[_0x3110cb(0x243)][_0x3110cb(0x9d)]=!![];};},PLAYER_ID=0x3e8,document[_0x3c4aa9(0x27f)]=rightClick;function rightClick(_0x20e8ca){var _0x378266=_0x3c4aa9;_0x20e8ca[_0x378266(0x48f)]();}GAME_VERSION='0.0.5';(localStorage[_0x3c4aa9(0x1e8)]==0x0||localStorage[_0x3c4aa9(0x351)]!=GAME_VERSION)&&(localStorage[_0x3c4aa9(0x1ad)](),localStorage[_0x3c4aa9(0x351)]=GAME_VERSION);var WORLD={},world;window[_0x3c4aa9(0x4e3)]=function(){var _0x454a5d=_0x3c4aa9;const _0x58392a=new CanvasManager();_0x58392a[_0x454a5d(0x2ab)](_0x454a5d(0x49d),0x0),_0x58392a[_0x454a5d(0x2ab)](_0x454a5d(0x26d),0x1),_0x58392a[_0x454a5d(0x2ab)](_0x454a5d(0x2b9),0x2),_0x58392a[_0x454a5d(0x2ab)]('mapUI',0x3),_0x58392a['addCanvas'](_0x454a5d(0x3c8),0x4),world=new World(_0x58392a),window['world']=world,world[_0x454a5d(0x215)]();var _0x508e01=new Date()[_0x454a5d(0x26f)]();setInterval(()=>{var _0xc399e2=_0x454a5d;if(!world||!world[_0xc399e2(0x442)])return;var _0x4ab4b4=new Date()[_0xc399e2(0x26f)]();if(world[_0xc399e2(0x3c8)])world[_0xc399e2(0x3c8)][_0xc399e2(0x377)]=Math['floor'](0x3e8/(_0x4ab4b4-_0x508e01));_0x508e01=_0x4ab4b4;if(world['players']&&world[_0xc399e2(0x26d)]['Playerturn']&&world['players'][_0xc399e2(0x93)][_0xc399e2(0x245)]==TEAM_AI&&!world[_0xc399e2(0x26d)][_0xc399e2(0x93)]['AI'][_0xc399e2(0x1c5)]){var _0x131001=world[_0xc399e2(0x26d)]['playerList'][_0xc399e2(0x2ea)](_0x31f398=>_0x31f398['animation'][_0xc399e2(0x1e8)]>0x0);!_0x131001&&(_0x131001=world['players'][_0xc399e2(0x93)]['playAIturn'](),console[_0xc399e2(0x451)](_0xc399e2(0x39d)+_0x131001),_0x131001&&(world[_0xc399e2(0x26d)][_0xc399e2(0x93)]['AI'][_0xc399e2(0x1c5)]=!![],world[_0xc399e2(0x26d)][_0xc399e2(0x3c7)]()));}world['Controler'][_0xc399e2(0x283)](),world[_0xc399e2(0x15d)]&&world[_0xc399e2(0x15d)]['needRedraw']&&(_0x58392a[_0xc399e2(0x498)][_0xc399e2(0x49d)]['GetCanvasPos'](),_0x58392a[_0xc399e2(0x498)][_0xc399e2(0x49d)][_0xc399e2(0x2a9)](),_0x58392a[_0xc399e2(0x498)]['mapTopElem'][_0xc399e2(0x477)](),_0x58392a[_0xc399e2(0x498)]['mapTopElem'][_0xc399e2(0x2a9)](),world[_0xc399e2(0x15d)][_0xc399e2(0x250)](_0x58392a[_0xc399e2(0x498)][_0xc399e2(0x49d)]['canvas']),world[_0xc399e2(0x15d)][_0xc399e2(0x236)](_0x58392a['canList'][_0xc399e2(0x49d)],_0x58392a['canList']['mapTopElem'],_0x58392a[_0xc399e2(0x498)][_0xc399e2(0x165)])),world[_0xc399e2(0x26d)]&&(_0x58392a[_0xc399e2(0x498)][_0xc399e2(0x26d)][_0xc399e2(0x477)](),_0x58392a['canList']['players'][_0xc399e2(0x2a9)](),world[_0xc399e2(0x26d)][_0xc399e2(0x177)](),scale_changed=![]),world[_0xc399e2(0x3c8)]&&(world[_0xc399e2(0x3c8)][_0xc399e2(0x28a)](![]),world[_0xc399e2(0x3c8)][_0xc399e2(0x9d)]&&world[_0xc399e2(0x3c8)][_0xc399e2(0x174)]()),world[_0xc399e2(0x497)]&&(world[_0xc399e2(0x497)][_0xc399e2(0x28a)](![]),world[_0xc399e2(0x497)][_0xc399e2(0x9d)]&&world[_0xc399e2(0x497)][_0xc399e2(0x3a8)]()),world['MenuUI']&&(world[_0xc399e2(0x243)][_0xc399e2(0x28a)](![]),world[_0xc399e2(0x243)][_0xc399e2(0x9d)]&&world['MenuUI'][_0xc399e2(0x86)]());},0x14);};